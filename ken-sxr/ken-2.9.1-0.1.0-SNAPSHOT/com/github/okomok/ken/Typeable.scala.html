<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>com/github/okomok/ken/Typeable.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>


<span class="comment">// Copyright Shunsuke Sogame 2011.</span>
<span class="comment">//</span>
<span class="comment">// Copyright 2004, The University Court of the University of Glasgow.</span>
<span class="comment">// All rights reserved.</span>
<span class="comment">//</span>
<span class="comment">// Copyright (c) 2002 Simon Peyton Jones</span>
<span class="comment">//</span>
<span class="comment">// Distributed under the New BSD license.</span>


<span class="keyword">package</span> com.github.okomok
<span class="keyword">package</span> ken


<span class="keyword">trait</span> <a title="trait Typeable[a] extends java.lang.Object with com.github.okomok.ken.Typeclass[a] with ScalaObject" id="10577">Typeable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10578">a</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="Typeclass.scala.html#10588" title="com.github.okomok.ken.Typeclass[a]">Typeclass</a><span class="delimiter">[</span>a<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="com.github.okomok.ken.Typeable[Typeable.this.apply0]" id="41308">asTypeable</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[Typeable.this.apply0]">Typeable</a><span class="delimiter">[</span>apply0<span class="delimiter">]</span> = <a href="#10577" title="com.github.okomok.ken.Typeable[a]" class="keyword">this</a>

    <span class="comment">// Core</span>
    <span class="comment">//</span>
    <span class="keyword">type</span> <a title="com.github.okomok.ken.Lazy[_] =&gt; com.github.okomok.ken.package.TypeRep" id="41310">typeOf</a> = Lazy<span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; TypeRep
    <span class="keyword">def</span> <a title="=&gt; com.github.okomok.ken.Lazy[_] =&gt; com.github.okomok.ken.package.TypeRep" id="41311">typeOf</a>: <span title="com.github.okomok.ken.Lazy[_] =&gt; com.github.okomok.ken.package.TypeRep">typeOf</span>

    <span class="comment">// For easy debugging</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()com.github.okomok.ken.package.JString" id="41312">toString</a>: <span title="com.github.okomok.ken.package.JString">JString</span> = <a href="#41311" title="(v1: com.github.okomok.ken.Lazy[_])com.github.okomok.ken.package.TypeRep">typeOf</a><span class="delimiter">(</span><a href="Lazy.scala.html#23278" title="(x: =&gt; Int)com.github.okomok.ken.Lazy[Int]" class="int">0</a><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span>
<span class="delimiter">}</span>


<span class="keyword">trait</span> <a title="trait TypeableProxy[a] extends java.lang.Object with com.github.okomok.ken.Typeable[a] with ScalaObject" id="10579">TypeableProxy</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10580">a</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; com.github.okomok.ken.Typeable[a]" id="43638">selfTypeable</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; com.github.okomok.ken.Lazy[_] =&gt; com.github.okomok.ken.package.TypeRep" id="43639">typeOf</a>: <span title="com.github.okomok.ken.Lazy[_] =&gt; com.github.okomok.ken.package.TypeRep">typeOf</span> = <a href="#43638" title="=&gt; com.github.okomok.ken.Typeable[a]">selfTypeable</a>.<a href="#41311" title="=&gt; com.github.okomok.ken.Lazy[_] =&gt; scala.reflect.ClassManifest[_]">typeOf</a>
<span class="delimiter">}</span>


<span class="keyword">object</span> <a title="object com.github.okomok.ken.Typeable" id="10581">Typeable</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10583" title="com.github.okomok.ken.TypeableInstance">TypeableInstance</a> <span class="keyword">with</span> <a href="#10584" title="com.github.okomok.ken.TypeableShortcut">TypeableShortcut</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[a &lt;: com.github.okomok.ken.Kind.Function0](implicit i: com.github.okomok.ken.Typeable[a#apply0])com.github.okomok.ken.Typeable[a#apply0]" id="44235">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: com.github.okomok.ken.Kind.Function0" id="44237">a</a> &lt;: Kind.Function0<span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="com.github.okomok.ken.Typeable[a#apply0]" id="176122">i</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a#apply0]">Typeable</a><span class="delimiter">[</span>a#apply0<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10577" title="com.github.okomok.ken.Typeable[a#apply0]">Typeable</a><span class="delimiter">[</span>a#apply0<span class="delimiter">]</span> = <a href="#176122" title="com.github.okomok.ken.Typeable[a#apply0]">i</a>

    <span class="comment">// For some reason, result type-ascription doesn't work.</span>
    <span class="keyword">def</span> <a title="[a, b](x: com.github.okomok.ken.Lazy[a], y: com.github.okomok.ken.Type[b])(implicit i: com.github.okomok.ken.Typeable[a], implicit j: com.github.okomok.ken.Typeable[b])com.github.okomok.ken.Maybe[b]" id="44238">cast</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="61341">a</a>, <a title="&gt;: Nothing &lt;: Any" id="61342">b</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="com.github.okomok.ken.Lazy[a]" id="61333">x</a>: <a href="Lazy.scala.html#9999" title="com.github.okomok.ken.Lazy[a]">Lazy</a><span class="delimiter">[</span>a<span class="delimiter">]</span>, <a title="com.github.okomok.ken.Type[b]" id="61338">y</a>: <a href="Type.scala.html#10552" title="com.github.okomok.ken.Type[b]">Type</a><span class="delimiter">[</span>b<span class="delimiter">]</span> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="com.github.okomok.ken.Typeable[a]" id="61335">i</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span>, <a title="com.github.okomok.ken.Typeable[b]" id="61336">j</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[b]">Typeable</a><span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Maybe.scala.html#10051" title="com.github.okomok.ken.Maybe[b]">Maybe</a><span class="delimiter">[</span>b<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="com.github.okomok.ken.Maybe[b]" id="176136">r</a>: <a href="Maybe.scala.html#10051" title="com.github.okomok.ken.Maybe[b]">Maybe</a><span class="delimiter">[</span>b<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span title="com.github.okomok.ken.Maybe[b]" class="keyword">if</span> <span class="delimiter">(</span><a href="#61335" title="com.github.okomok.ken.Typeable[a]">i</a>.<a href="#41311" title="(v1: com.github.okomok.ken.Lazy[_])com.github.okomok.ken.package.TypeRep">typeOf</a><span class="delimiter">(</span><a href="#61333" title="com.github.okomok.ken.Lazy[a]">x</a><span class="delimiter">)</span> <span title="(that: scala.reflect.ClassManifest[_])Boolean">&lt;:&lt;</span> <a href="#61336" title="com.github.okomok.ken.Typeable[b]">j</a>.<a href="#41311" title="(v1: com.github.okomok.ken.Lazy[_])com.github.okomok.ken.package.TypeRep">typeOf</a><span class="delimiter">(</span><a href="Lazy.scala.html#23278" title="(x: =&gt; b)com.github.okomok.ken.Lazy[b]">Lazy</a><span class="delimiter">(</span><a href="Maybe.scala.html#10059" title="object com.github.okomok.ken.Maybe">Maybe</a>.<a href="Maybe.scala.html#24545" title="(m: com.github.okomok.ken.Maybe[b])b">fromJust</a><span class="delimiter">(</span><a href="#176135" title="=&gt; com.github.okomok.ken.Maybe[b]">r</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Maybe.scala.html#24392" title="(x: b)com.github.okomok.ken.Just[b]">Just</a><span class="delimiter">(</span><a href="Eval.scala.html#23342" title="(x: com.github.okomok.ken.Eval[a])com.github.okomok.ken.Lazy.Op_![a]">x</a>.<a href="Eval.scala.html#24211" title="=&gt; a">!</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="b" class="delimiter">[</span><a href="#61342" title="b">b</a><span class="delimiter">]</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="Maybe.scala.html#10053" title="object com.github.okomok.ken.Nothing">Nothing</a>
        <span class="delimiter">}</span>
        <a href="#176135" title="=&gt; com.github.okomok.ken.Maybe[b]">r</a>
    <span class="delimiter">}</span>

    <span class="comment">// Any usecase?</span>
    <span class="keyword">def</span> <a title="[a, b, c[_]](x: com.github.okomok.ken.Lazy[c[a]], y: com.github.okomok.ken.Type[c[b]])(implicit i: com.github.okomok.ken.Typeable[a], implicit j: com.github.okomok.ken.Typeable[b])com.github.okomok.ken.Maybe[c[b]]" id="44243">gcast</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="176182">a</a>, <a title="&gt;: Nothing &lt;: Any" id="176183">b</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="176184">c</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="177321">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="com.github.okomok.ken.Lazy[c[a]]" id="176172">x</a>: <a href="Lazy.scala.html#9999" title="com.github.okomok.ken.Lazy[c[a]]">Lazy</a><span class="delimiter">[</span>c<span class="delimiter">[</span>a<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="com.github.okomok.ken.Type[c[b]]" id="176178">y</a>: <a href="Type.scala.html#10552" title="com.github.okomok.ken.Type[c[b]]">Type</a><span class="delimiter">[</span>c<span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="com.github.okomok.ken.Typeable[a]" id="176174">i</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span>, <a title="com.github.okomok.ken.Typeable[b]" id="176175">j</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[b]">Typeable</a><span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Maybe.scala.html#10051" title="com.github.okomok.ken.Maybe[c[b]]">Maybe</a><span class="delimiter">[</span>c<span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="[x](x: c[x])x" id="176189">getArg</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="176191">x</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="c[x]" id="176194">x</a>: <a href="#176184" title="c[x]">c</a><span class="delimiter">[</span>x<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#176191" title="x">x</a> = <a href="package.scala.html#11111" title="=&gt; Nothing">undefined</a>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="com.github.okomok.ken.Maybe[c[b]]" id="176193">r</a>: <a href="Maybe.scala.html#10051" title="com.github.okomok.ken.Maybe[c[b]]">Maybe</a><span class="delimiter">[</span>c<span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span title="com.github.okomok.ken.Maybe[c[b]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#176174" title="com.github.okomok.ken.Typeable[a]">i</a>.<a href="#41311" title="(v1: com.github.okomok.ken.Lazy[_])com.github.okomok.ken.package.TypeRep">typeOf</a><span class="delimiter">(</span><a href="#176189" title="(x: c[a])a">getArg</a><a href="Lazy.scala.html#23278" title="(x: =&gt; a)com.github.okomok.ken.Lazy[a]" class="delimiter">(</a><a href="Eval.scala.html#23346" title="(x: com.github.okomok.ken.Eval[c[a]])c[a]">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.reflect.ClassManifest[_])Boolean">&lt;:&lt;</span> <a href="#176175" title="com.github.okomok.ken.Typeable[b]">j</a>.<a href="#41311" title="(v1: com.github.okomok.ken.Lazy[_])com.github.okomok.ken.package.TypeRep">typeOf</a><span class="delimiter">(</span><a href="#176189" title="(x: c[b])b">getArg</a><a href="Lazy.scala.html#23278" title="(x: =&gt; b)com.github.okomok.ken.Lazy[b]" class="delimiter">(</a><a href="Maybe.scala.html#10059" title="object com.github.okomok.ken.Maybe">Maybe</a>.<a href="Maybe.scala.html#24545" title="(m: com.github.okomok.ken.Maybe[c[b]])c[b]">fromJust</a><span class="delimiter">(</span><a href="#176192" title="=&gt; com.github.okomok.ken.Maybe[c[b]]">r</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Maybe.scala.html#24392" title="(x: c[b])com.github.okomok.ken.Just[c[b]]">Just</a><span class="delimiter">(</span><a href="Eval.scala.html#23342" title="(x: com.github.okomok.ken.Eval[c[a]])com.github.okomok.ken.Lazy.Op_![c[a]]">x</a>.<a href="Eval.scala.html#24211" title="=&gt; c[a]">!</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="c[b]" class="delimiter">[</span><a href="#176184" title="c[b]">c</a><span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="Maybe.scala.html#10053" title="object com.github.okomok.ken.Nothing">Nothing</a>
        <span class="delimiter">}</span>
        <a href="#176192" title="=&gt; com.github.okomok.ken.Maybe[c[b]]">r</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[a, b](f: b =&gt; b)(x: a)(implicit i: com.github.okomok.ken.Typeable[a], implicit j: com.github.okomok.ken.Typeable[b])a" id="44250">mkT</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="44253">a</a>, <a title="&gt;: Nothing &lt;: Any" id="44254">b</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="b =&gt; b" id="176713">f</a>: b =&gt; b<span class="delimiter">)</span><span class="delimiter">(</span><a title="a" id="176714">x</a>: <a href="#44253" title="a">a</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="com.github.okomok.ken.Typeable[a]" id="176715">i</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span>, <a title="com.github.okomok.ken.Typeable[b]" id="176716">j</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[b]">Typeable</a><span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#44253" title="a">a</a> = <a href="#44238" title="(x: com.github.okomok.ken.Lazy[a], y: com.github.okomok.ken.Type[b])(implicit i: com.github.okomok.ken.Typeable[a], implicit j: com.github.okomok.ken.Typeable[b])com.github.okomok.ken.Maybe[b]">cast</a><a href="#176715" title="com.github.okomok.ken.Typeable[a]" class="delimiter">(</a><a href="Lazy.scala.html#23278" title="(x: =&gt; a)com.github.okomok.ken.Lazy[a]">x</a>, <a href="Type.scala.html#26206" title="[a]=&gt; com.github.okomok.ken.Type[a]">Type</a><span title="com.github.okomok.ken.Type[b]" class="delimiter">[</span><a href="#44254" title="b">b</a><span class="delimiter">]</span><span class="delimiter">)</span> <span title="a" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="Maybe.scala.html#10053" title="a">Nothing</a> =&gt; <a href="#176714" title="a">x</a>
        <span class="keyword">case</span> <span title="a">Just</span><span class="delimiter">(</span><a title="b" id="176750">y</a><span class="delimiter">)</span> =&gt; <a href="#44238" title="(x: com.github.okomok.ken.Lazy[b], y: com.github.okomok.ken.Type[a])(implicit i: com.github.okomok.ken.Typeable[b], implicit j: com.github.okomok.ken.Typeable[a])com.github.okomok.ken.Maybe[a]">cast</a><a href="#176716" title="com.github.okomok.ken.Typeable[b]" class="delimiter">(</a><a href="#176713" title="(v1: b)b">f</a><a href="Lazy.scala.html#23278" title="(x: =&gt; b)com.github.okomok.ken.Lazy[b]" class="delimiter">(</a><a href="#176750" title="b">y</a><span class="delimiter">)</span>, <a href="Type.scala.html#26206" title="[a]=&gt; com.github.okomok.ken.Type[a]">Type</a><span title="com.github.okomok.ken.Type[a]" class="delimiter">[</span><a href="#44253" title="a">a</a><span class="delimiter">]</span><span class="delimiter">)</span> <span title="a" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="Maybe.scala.html#10053" title="a">Nothing</a> =&gt; <a href="#176714" title="a">x</a>
            <span class="keyword">case</span> <span title="a">Just</span><span class="delimiter">(</span><a title="a" id="176780">r</a><span class="delimiter">)</span> =&gt; <a href="#176780" title="a">r</a>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[a, b, r](r: r)(q: b =&gt; r)(a: a)(implicit i: com.github.okomok.ken.Typeable[a], implicit j: com.github.okomok.ken.Typeable[b])r" id="44255">mkQ</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="44259">a</a>, <a title="&gt;: Nothing &lt;: Any" id="44260">b</a>, <a title="&gt;: Nothing &lt;: Any" id="44261">r</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="r" id="176781">r</a>: <a href="#44261" title="r">r</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="b =&gt; r" id="176782">q</a>: b =&gt; r<span class="delimiter">)</span><span class="delimiter">(</span><a title="a" id="176783">a</a>: <a href="#44259" title="a">a</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="com.github.okomok.ken.Typeable[a]" id="176784">i</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span>, <a title="com.github.okomok.ken.Typeable[b]" id="176785">j</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[b]">Typeable</a><span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#44261" title="r">r</a> = <a href="#44238" title="(x: com.github.okomok.ken.Lazy[a], y: com.github.okomok.ken.Type[b])(implicit i: com.github.okomok.ken.Typeable[a], implicit j: com.github.okomok.ken.Typeable[b])com.github.okomok.ken.Maybe[b]">cast</a><a href="#176784" title="com.github.okomok.ken.Typeable[a]" class="delimiter">(</a><a href="Lazy.scala.html#23278" title="(x: =&gt; a)com.github.okomok.ken.Lazy[a]">a</a>, <a href="Type.scala.html#26206" title="[a]=&gt; com.github.okomok.ken.Type[a]">Type</a><span title="com.github.okomok.ken.Type[b]" class="delimiter">[</span><a href="#44260" title="b">b</a><span class="delimiter">]</span><span class="delimiter">)</span> <span title="r" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="Maybe.scala.html#10053" title="r">Nothing</a> =&gt; <a href="#176781" title="r">r</a>
        <span class="keyword">case</span> <span title="r">Just</span><span class="delimiter">(</span><a title="b" id="176820">b</a><span class="delimiter">)</span> =&gt; <a href="#176782" title="(v1: b)r">q</a><span class="delimiter">(</span><a href="#176820" title="b">b</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[a, b, m[+_]](f: b =&gt; m[b])(x: a)(implicit i: com.github.okomok.ken.Typeable[a], implicit j: com.github.okomok.ken.Typeable[b], implicit m: com.github.okomok.ken.Monad[m])m[a]" id="44262">mkM</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="44266">a</a>, <a title="&gt;: Nothing &lt;: Any" id="44267">b</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="44268">m</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="176827">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="b =&gt; m[b]" id="176822">f</a>: b =&gt; m<span class="delimiter">[</span>b<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="a" id="176823">x</a>: <a href="#44266" title="a">a</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="com.github.okomok.ken.Typeable[a]" id="176824">i</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span>, <a title="com.github.okomok.ken.Typeable[b]" id="176825">j</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[b]">Typeable</a><span class="delimiter">[</span>b<span class="delimiter">]</span>, <a title="com.github.okomok.ken.Monad[m]" id="176826">m</a>: <a href="Monad.scala.html#10077" title="com.github.okomok.ken.Monad[m]">Monad</a><span class="delimiter">[</span>m<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#44268" title="m[a]">m</a><span class="delimiter">[</span>a<span class="delimiter">]</span> = <a href="#44238" title="(x: com.github.okomok.ken.Lazy[a], y: com.github.okomok.ken.Type[b])(implicit i: com.github.okomok.ken.Typeable[a], implicit j: com.github.okomok.ken.Typeable[b])com.github.okomok.ken.Maybe[b]">cast</a><a href="#176824" title="com.github.okomok.ken.Typeable[a]" class="delimiter">(</a><a href="Lazy.scala.html#23278" title="(x: =&gt; a)com.github.okomok.ken.Lazy[a]">x</a>, <a href="Type.scala.html#26206" title="[a]=&gt; com.github.okomok.ken.Type[a]">Type</a><span title="com.github.okomok.ken.Type[b]" class="delimiter">[</span><a href="#44267" title="b">b</a><span class="delimiter">]</span><span class="delimiter">)</span> <span title="m[a]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="Maybe.scala.html#10053" title="m[a]">Nothing</a> =&gt; <a href="#176826" title="com.github.okomok.ken.Monad[m]">m</a>.<a href="Monad.scala.html#22722" title="(x: com.github.okomok.ken.Lazy[a])m[a]">`return`</a><span class="delimiter">(</span><a href="Lazy.scala.html#23278" title="(x: =&gt; a)com.github.okomok.ken.Lazy[a]">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="m[a]">Just</span><span class="delimiter">(</span><a title="b" id="176872">y</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <span title="m[a]" class="keyword">if</span> <span class="delimiter">(</span><a href="#176825" title="com.github.okomok.ken.Typeable[b]">j</a>.<a href="#41311" title="(v1: com.github.okomok.ken.Lazy[_])com.github.okomok.ken.package.TypeRep">typeOf</a><span class="delimiter">(</span><a href="Lazy.scala.html#23278" title="(x: =&gt; Int)com.github.okomok.ken.Lazy[Int]" class="int">0</a><span class="delimiter">)</span> <span title="(that: scala.reflect.ClassManifest[_])Boolean">&lt;:&lt;</span> <a href="#176824" title="com.github.okomok.ken.Typeable[a]">i</a>.<a href="#41311" title="(v1: com.github.okomok.ken.Lazy[_])com.github.okomok.ken.package.TypeRep">typeOf</a><span class="delimiter">(</span><a href="Lazy.scala.html#23278" title="(x: =&gt; Int)com.github.okomok.ken.Lazy[Int]" class="int">0</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#176822" title="(v1: b)m[b]">f</a><span class="delimiter">(</span><a href="#176872" title="b">y</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="m[a]" class="delimiter">[</span><a href="#44268" title="m[a]">m</a><span class="delimiter">[</span>a<span class="delimiter">]</span><span class="delimiter">]</span> <span class="comment">// b &lt;: a implies m[b] &lt;: m[a]</span>
            <span class="keyword">else</span> <a href="#176826" title="com.github.okomok.ken.Monad[m]">m</a>.<a href="Monad.scala.html#22722" title="(x: com.github.okomok.ken.Lazy[a])m[a]">`return`</a><span class="delimiter">(</span><a href="Lazy.scala.html#23278" title="(x: =&gt; a)com.github.okomok.ken.Lazy[a]">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">/* Typeable[m[x]] can't be built from Typeable[x].
        case Just(y) =&gt; cast(f(y), Type[m[a]]) match {
            case Nothing =&gt; m.`return`(x)
            case Just(r) =&gt; r
        }
        */</span>
    <span class="delimiter">}</span>

    <span class="comment">// Rejected because Typeable[a =&gt; a] is bothersome.</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="[a, b](f: b =&gt; b)(x: a)(implicit i: com.github.okomok.ken.Typeable[a =&gt; a], implicit j: com.github.okomok.ken.Typeable[b =&gt; b])a" id="44269">_original_mkT</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="44272">a</a>, <a title="&gt;: Nothing &lt;: Any" id="44273">b</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="b =&gt; b" id="177281">f</a>: b =&gt; b<span class="delimiter">)</span><span class="delimiter">(</span><a title="a" id="177282">x</a>: <a href="#44272" title="a">a</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="com.github.okomok.ken.Typeable[a =&gt; a]" id="177283">i</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a =&gt; a]">Typeable</a><span class="delimiter">[</span>a =&gt; a<span class="delimiter">]</span>, <a title="com.github.okomok.ken.Typeable[b =&gt; b]" id="177284">j</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[b =&gt; b]">Typeable</a><span class="delimiter">[</span>b =&gt; b<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#44272" title="a">a</a> = <a href="#44238" title="(x: com.github.okomok.ken.Lazy[b =&gt; b], y: com.github.okomok.ken.Type[a =&gt; a])(implicit i: com.github.okomok.ken.Typeable[b =&gt; b], implicit j: com.github.okomok.ken.Typeable[a =&gt; a])com.github.okomok.ken.Maybe[a =&gt; a]">cast</a><a href="#177284" title="com.github.okomok.ken.Typeable[b =&gt; b]" class="delimiter">(</a><a href="Lazy.scala.html#23278" title="(x: =&gt; b =&gt; b)com.github.okomok.ken.Lazy[b =&gt; b]">f</a>, <a href="Type.scala.html#26206" title="[a]=&gt; com.github.okomok.ken.Type[a]">Type</a><span title="com.github.okomok.ken.Type[a =&gt; a]" class="delimiter">[</span>a =&gt; a<span class="delimiter">]</span><span class="delimiter">)</span> <span title="a" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="Maybe.scala.html#10053" title="a">Nothing</a> =&gt; <a href="#177282" title="a">x</a>
        <span class="keyword">case</span> <span title="a">Just</span><span class="delimiter">(</span><a title="a =&gt; a" id="177316">g</a><span class="delimiter">)</span> =&gt; <a href="#177316" title="(v1: a)a">g</a><span class="delimiter">(</span><a href="#177282" title="a">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>


<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait TypeableInstance extends java.lang.Object with ScalaObject" id="10583">TypeableInstance</a> <span title="ScalaObject" class="delimiter">{</span> <span class="keyword">this</span>: Typeable.<span class="keyword">type</span> =&gt;
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[a](implicit i: ClassManifest[a])com.github.okomok.ken.Typeable[a]" id="44231">of</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="44233">a</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="ClassManifest[a]" id="44274">i</a>: <span title="ClassManifest[a]">ClassManifest</span><span class="delimiter">[</span>a<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span> = <a href="#177327" title="java.lang.Object with com.github.okomok.ken.Typeable[a]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with com.github.okomok.ken.Typeable[a]" id="177327">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">val</span> <a title="com.github.okomok.ken.Lazy[_] =&gt; com.github.okomok.ken.package.TypeRep" id="177331">typeOf</a>: <span title="com.github.okomok.ken.Lazy[_] =&gt; com.github.okomok.ken.package.TypeRep">typeOf</span> = <a title="com.github.okomok.ken.Lazy[_]" id="177336">_</a> =&gt; <a href="#44274" title="ClassManifest[a]">i</a>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>


<span class="keyword">trait</span> <a title="trait TypeableShortcut extends java.lang.Object with ScalaObject" id="10584">TypeableShortcut</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[a](x: com.github.okomok.ken.Lazy[a])(implicit i: com.github.okomok.ken.Typeable[a])com.github.okomok.ken.package.TypeRep" id="43863">typeOf</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43865">a</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="com.github.okomok.ken.Lazy[a]" id="177340">x</a>: <a href="Lazy.scala.html#9999" title="com.github.okomok.ken.Lazy[a]">Lazy</a><span class="delimiter">[</span>a<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="com.github.okomok.ken.Typeable[a]" id="177341">i</a>: <a href="#10577" title="com.github.okomok.ken.Typeable[a]">Typeable</a><span class="delimiter">[</span>a<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.github.okomok.ken.package.TypeRep">TypeRep</span> = <a href="#177341" title="com.github.okomok.ken.Typeable[a]">i</a>.<a href="#41311" title="(v1: com.github.okomok.ken.Lazy[_])com.github.okomok.ken.package.TypeRep">typeOf</a><span class="delimiter">(</span><a href="#177340" title="com.github.okomok.ken.Lazy[a]">x</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>