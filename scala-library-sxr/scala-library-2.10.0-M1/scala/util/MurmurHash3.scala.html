<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/util/MurmurHash3.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.util

<span class="keyword">import</span> java.lang.<span title="object Integer">Integer</span>.<span class="delimiter">{</span> rotateLeft =&gt; rotl <span class="delimiter">}</span>

/**
 * An implementation of Austin Appleby's MurmurHash 3 algorithm
 * (MurmurHash3_x86_32).
 *
 * An algorithm designed to generate well-distributed non-cryptographic
 * hashes. It is designed to hash data in 32 bit chunks (ints).
 *
 * The mix method needs to be called at each step to update the intermediate
 * hash value. For the last chunk to incorporate into the hash mixLast may
 * be used instead, which is slightly faster. Finally finalizeHash needs to
 * be called to compute the final hash value.
 *
 * This is based on the earlier MurmurHash3 code by Rex Kerr, but the
 * MurmurHash3 algorithm was since changed by its creator Austin Appleby
 * to remedy some weaknesses and improve performance. This represents the
 * latest and supposedly final version of the algortihm (revision 136).
 *
 * @see http://code.google.com/p/smhasher
 */
<span class="keyword">class</span> <a title="class MurmurHash3 extends Object with ScalaObject" id="19237">MurmurHash3</a> <a href="../ScalaObject.scala.html#460" title="ScalaObject" class="delimiter">{</a>
  /** Mix in a block of data into an intermediate hash value. */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hash: Int, data: Int)Int" id="46986">mix</a><span class="delimiter">(</span><a title="Int" id="396018">hash</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="396019">data</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="396021">h</a> = <a href="#46987" title="(hash: Int, data: Int)Int">mixLast</a><span class="delimiter">(</span><a href="#396018" title="Int">hash</a>, <a href="#396019" title="Int">data</a><span class="delimiter">)</span>
    <a href="#396021" title="Int">h</a> = <span title="(x$1: Int, x$2: Int)Int">rotl</span><span class="delimiter">(</span><a href="#396021" title="Int">h</a>, <span title="Int(13)" class="int">13</span><span class="delimiter">)</span>
    <a href="#396021" title="Int">h</a> <a href="../Int.scala.html#23971" title="(x: Int)Int">*</a> <span title="Int(5)" class="int">5</span> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(-430675100)" class="int">0xe6546b64</span>
  <span class="delimiter">}</span>

  /** May optionally be used as the last mixing step. Is a little bit faster than mix,
   *  as it does no further mixing of the resulting hash. For the last element this is not
   *  necessary as the hash is thoroughly mixed during finalization anyway. */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hash: Int, data: Int)Int" id="46987">mixLast</a><span class="delimiter">(</span><a title="Int" id="396022">hash</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="396023">data</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="396034">k</a> = <a href="#396023" title="Int">data</a>

    <a href="#396034" title="Int">k</a> <a href="../Int.scala.html#23971" title="(x: Int)Int">*=</a> <span title="Int(-862048943)" class="int">0xcc9e2d51</span>
    <a href="#396034" title="Int">k</a> = <span title="(x$1: Int, x$2: Int)Int">rotl</span><span class="delimiter">(</span><a href="#396034" title="Int">k</a>, <span title="Int(15)" class="int">15</span><span class="delimiter">)</span>
    <a href="#396034" title="Int">k</a> <a href="../Int.scala.html#23971" title="(x: Int)Int">*=</a> <span title="Int(461845907)" class="int">0x1b873593</span>

    <a href="#396022" title="Int">hash</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^</a> <a href="#396034" title="Int">k</a>
  <span class="delimiter">}</span>

  /** Finalize a hash to incorporate the length and make sure all bits avalanche. */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hash: Int, length: Int)Int" id="46988">finalizeHash</a><span class="delimiter">(</span><a title="Int" id="396047">hash</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="396048">length</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <a href="#46989" title="(hash: Int)Int">avalanche</a><span class="delimiter">(</span><a href="#396047" title="Int">hash</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^</a> <a href="#396048" title="Int">length</a><span class="delimiter">)</span>

  /** Force all bits of the hash to avalanche. Used for finalizing the hash. */
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hash: Int)Int" id="46989">avalanche</a><span class="delimiter">(</span><a title="Int" id="396050">hash</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="396056">h</a> = <a href="#396050" title="Int">hash</a>

    <a href="#396056" title="Int">h</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^=</a> <a href="#396056" title="Int">h</a> <a href="../Int.scala.html#23893" title="(x: Int)Int">&gt;&gt;&gt;</a> <span title="Int(16)" class="int">16</span>
    <a href="#396056" title="Int">h</a> <a href="../Int.scala.html#23971" title="(x: Int)Int">*=</a> <span title="Int(-2048144789)" class="int">0x85ebca6b</span>
    <a href="#396056" title="Int">h</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^=</a> <a href="#396056" title="Int">h</a> <a href="../Int.scala.html#23893" title="(x: Int)Int">&gt;&gt;&gt;</a> <span title="Int(13)" class="int">13</span>
    <a href="#396056" title="Int">h</a> <a href="../Int.scala.html#23971" title="(x: Int)Int">*=</a> <span title="Int(-1028477387)" class="int">0xc2b2ae35</span>
    <a href="#396056" title="Int">h</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^=</a> <a href="#396056" title="Int">h</a> <a href="../Int.scala.html#23893" title="(x: Int)Int">&gt;&gt;&gt;</a> <span title="Int(16)" class="int">16</span>

    <a href="#396056" title="Int">h</a>
  <span class="delimiter">}</span>

  /** Compute the hash of a product */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(x: Product, seed: Int)Int" id="46990">productHash</a><span class="delimiter">(</span><a title="Product" id="387661">x</a>: <a href="../Product.scala.html#1726" title="Product">Product</a>, <a title="Int" id="387662">seed</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="396089">arr</a> = <a href="#387661" title="Product">x</a>.<a href="../Product.scala.html#26948" title="=&gt; Int">productArity</a>
    // Case objects have the hashCode inlined directly into the
    // synthetic hashCode method, but this method should still give
    // a correct result if passed a case object.
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#396089" title="Int">arr</a> <a href="../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#387661" title="Product">x</a>.<a href="../Product.scala.html#26950" title="=&gt; String">productPrefix</a>.<span title="()Int">hashCode</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="396095">h</a> = <a href="#387662" title="Int">seed</a>
      <span class="keyword">var</span> <a title="Int" id="396096">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#396096" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#396089" title="Int">arr</a><span class="delimiter">)</span> <a href="#396097" title="()Unit" class="delimiter">{</a>
        <a href="#396095" title="Int">h</a> = <a href="#46986" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#396095" title="Int">h</a>, <a href="#387661" title="Product">x</a>.<a href="../Product.scala.html#26947" title="(n: Int)Any">productElement</a><span class="delimiter">(</span><a href="#396096" title="Int">i</a><span class="delimiter">)</span>.<span title="()Int">##</span><span class="delimiter">)</span>
        <a href="#396096" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#46988" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#396095" title="Int">h</a>, <a href="#396089" title="Int">arr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Compute the hash of a string */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(str: String, seed: Int)Int" id="46991">stringHash</a><span class="delimiter">(</span><a title="String" id="396106">str</a>: <span title="String">String</span>, <a title="Int" id="396107">seed</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="396109">h</a> = <a href="#396107" title="Int">seed</a>
    <span class="keyword">var</span> <a title="Int" id="396110">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#396110" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#396106" title="String">str</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#396111" title="()Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <a title="Int" id="396120">data</a> = <span class="delimiter">(</span><a href="#396106" title="String">str</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><a href="#396110" title="Int">i</a><span class="delimiter">)</span> <a href="../Char.scala.html#24043" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(16)" class="int">16</span><span class="delimiter">)</span> <a href="../Int.scala.html#23956" title="(x: Char)Int">+</a> <a href="#396106" title="String">str</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><a href="#396110" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#396109" title="Int">h</a> = <a href="#46986" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#396109" title="Int">h</a>, <a href="#396120" title="Int">data</a><span class="delimiter">)</span>
      <a href="#396110" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(2)" class="int">2</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#396110" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#396106" title="String">str</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#396109" title="Int">h</a> = <a href="#46987" title="(hash: Int, data: Int)Int">mixLast</a><span class="delimiter">(</span><a href="#396109" title="Int">h</a>, <a href="#396106" title="String">str</a>.<span title="(x$1: Int)Char">charAt</span><a href="../Char.scala.html#24035" title="=&gt; Int" class="delimiter">(</a><a href="#396110" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#46988" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#396109" title="Int">h</a>, <a href="#396106" title="String">str</a>.<span title="()Int">length</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Compute a hash that is symmetric in its arguments - that is a hash
   *  where the order of appearance of elements does not matter.
   *  This is useful for hashing sets, for example.
   */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(xs: TraversableOnce[Any], seed: Int)Int" id="46992">unorderedHash</a><span class="delimiter">(</span><a title="TraversableOnce[Any]" id="396141">xs</a>: <a href="../collection/TraversableOnce.scala.html#6955" title="TraversableOnce[Any]">TraversableOnce</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="Int" id="396142">seed</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="396144">a</a>, <a title="Int" id="396145">b</a>, <a title="Int" id="396146">n</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">var</span> <a title="Int" id="396147">c</a> = <span title="Int(1)" class="int">1</span>
    <a href="#396141" title="TraversableOnce[Any]">xs</a> <a href="../collection/TraversableOnce.scala.html#25018" title="(f: Any =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Any" id="396155">x</a> =&gt;
      <span class="keyword">val</span> <a title="Int" id="396156">h</a> = <a href="#396155" title="Any">x</a>.<span title="()Int">##</span>
      <a href="#396144" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <a href="#396156" title="Int">h</a>
      <a href="#396145" title="Int">b</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^=</a> <a href="#396156" title="Int">h</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#396156" title="Int">h</a> <a href="../Int.scala.html#23907" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#396147" title="Int">c</a> <a href="../Int.scala.html#23971" title="(x: Int)Int">*=</a> <a href="#396156" title="Int">h</a>
      <a href="#396146" title="Int">n</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span class="keyword">var</span> <a title="Int" id="396148">h</a> = <a href="#396142" title="Int">seed</a>
    <a href="#396148" title="Int">h</a> = <a href="#46986" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#396148" title="Int">h</a>, <a href="#396144" title="Int">a</a><span class="delimiter">)</span>
    <a href="#396148" title="Int">h</a> = <a href="#46986" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#396148" title="Int">h</a>, <a href="#396145" title="Int">b</a><span class="delimiter">)</span>
    <a href="#396148" title="Int">h</a> = <a href="#46987" title="(hash: Int, data: Int)Int">mixLast</a><span class="delimiter">(</span><a href="#396148" title="Int">h</a>, <a href="#396147" title="Int">c</a><span class="delimiter">)</span>
    <a href="#46988" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#396148" title="Int">h</a>, <a href="#396146" title="Int">n</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  /** Compute a hash that depends on the order of its arguments.
   */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(xs: TraversableOnce[Any], seed: Int)Int" id="46993">orderedHash</a><span class="delimiter">(</span><a title="TraversableOnce[Any]" id="396178">xs</a>: <a href="../collection/TraversableOnce.scala.html#6955" title="TraversableOnce[Any]">TraversableOnce</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="Int" id="396179">seed</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="396181">n</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">var</span> <a title="Int" id="396182">h</a> = <a href="#396179" title="Int">seed</a>
    <a href="#396178" title="TraversableOnce[Any]">xs</a> <a href="../collection/TraversableOnce.scala.html#25018" title="(f: Any =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Any" id="396189">x</a> =&gt;
      <a href="#396182" title="Int">h</a> = <a href="#46986" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#396182" title="Int">h</a>, <a href="#396189" title="Any">x</a>.<span title="()Int">##</span><span class="delimiter">)</span>
      <a href="#396181" title="Int">n</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <a href="#46988" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#396182" title="Int">h</a>, <a href="#396181" title="Int">n</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Compute the hash of an array.
   */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](a: Array[T], seed: Int)Int" id="46994">arrayHash</a><span class="delimiter">[</span>@specialized <a title="&gt;: Nothing &lt;: Any" id="46996">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[T]" id="396195">a</a>: <a href="../Array.scala.html#1405" title="Array[T]">Array</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Int" id="396196">seed</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="396206">h</a> = <a href="#396196" title="Int">seed</a>
    <span class="keyword">var</span> <a title="Int" id="396207">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#396207" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#396195" title="Array[T]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#396208" title="()Unit" class="delimiter">{</a>
      <a href="#396206" title="Int">h</a> = <a href="#46986" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#396206" title="Int">h</a>, <a href="../Array.scala.html#23463" title="(i: Int)T">a</a><span class="delimiter">(</span><a href="#396207" title="Int">i</a><span class="delimiter">)</span>.<span title="()Int">##</span><span class="delimiter">)</span>
      <a href="#396207" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <a href="#46988" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#396206" title="Int">h</a>, <a href="#396195" title="Array[T]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Compute the hash of a byte array. Faster than arrayHash, because
   *  it hashes 4 bytes at once.
   */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(data: Array[Byte], seed: Int)Int" id="46997">bytesHash</a><span class="delimiter">(</span><a title="Array[Byte]" id="396217">data</a>: <a href="../Array.scala.html#1405" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="Int" id="396218">seed</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="396220">len</a> = <a href="#396217" title="Array[Byte]">data</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a>
    <span class="keyword">var</span> <a title="Int" id="396221">h</a> = <a href="#396218" title="Int">seed</a>

    // Body
    <span class="keyword">var</span> <a title="Int" id="396222">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#396220" title="Int">len</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span> <a href="#396224" title="()Unit" class="delimiter">{</a>
      <span class="keyword">var</span> <a title="Int" id="396229">k</a> = <a href="../Array.scala.html#23463" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#396222" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../Byte.scala.html#23650" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span>
      <a href="#396229" title="Int">k</a> <a href="../Int.scala.html#23942" title="(x: Int)Int">|=</a> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#396222" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../Byte.scala.html#23650" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#23891" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(8)" class="int">8</span>
      <a href="#396229" title="Int">k</a> <a href="../Int.scala.html#23942" title="(x: Int)Int">|=</a> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#396222" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="../Byte.scala.html#23650" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#23891" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(16)" class="int">16</span>
      <a href="#396229" title="Int">k</a> <a href="../Int.scala.html#23942" title="(x: Int)Int">|=</a> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#396222" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span> <a href="../Byte.scala.html#23650" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#23891" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(24)" class="int">24</span>

      <a href="#396221" title="Int">h</a> = <a href="#46986" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#396221" title="Int">h</a>, <a href="#396229" title="Int">k</a><span class="delimiter">)</span>

      <a href="#396222" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(4)" class="int">4</span>
      <a href="#396220" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(4)" class="int">4</span>
    <span class="delimiter">}</span>

    // Tail
    <span class="keyword">var</span> <a title="Int" id="396223">k</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#396220" title="Int">len</a> <a href="../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span> <a href="#396223" title="Int">k</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^=</a> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#396222" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="../Byte.scala.html#23650" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#23891" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(16)" class="int">16</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#396220" title="Int">len</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#396223" title="Int">k</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^=</a> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#396222" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../Byte.scala.html#23650" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#23891" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(8)" class="int">8</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#396220" title="Int">len</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#396223" title="Int">k</a> <a href="../Int.scala.html#23952" title="(x: Int)Int">^=</a> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#396222" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../Byte.scala.html#23650" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span>
      <a href="#396221" title="Int">h</a> = <a href="#46987" title="(hash: Int, data: Int)Int">mixLast</a><span class="delimiter">(</span><a href="#396221" title="Int">h</a>, <a href="#396223" title="Int">k</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Finalization
    <a href="#46988" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#396221" title="Int">h</a>, <a href="#396217" title="Array[Byte]">data</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

/**
 * An instance of MurmurHash3 with predefined seeds for various
 * classes.  Used by all the scala collections and case classes.
 */
<span class="keyword">object</span> <a title="object scala.util.MurmurHash3" id="19238">MurmurHash3</a> <a href="../ScalaObject.scala.html#460" title="ScalaObject" class="keyword">extends</a> <a href="#19237" title="scala.util.MurmurHash3">MurmurHash3</a> <span class="delimiter">{</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(1007110753)" id="46999">arraySeed</a>       = <span title="Int(1007110753)" class="int">0x3c074a61</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-137723950)" id="47001">stringSeed</a>      = <span title="Int(-137723950)" class="int">0xf7ca7fd2</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-889275714)" id="47003">productSeed</a>     = <span title="Int(-889275714)" class="int">0xcafebabe</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-1248659538)" id="47005">symmetricSeed</a>   = <span title="Int(-1248659538)" class="int">0xb592f7ae</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-415593707)" id="47007">traversableSeed</a> = <span title="Int(-415593707)" class="int">0xe73a8b15</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="47009">seqSeed</a>         = <span title="String(&quot;Seq&quot;)" class="string">&quot;Seq&quot;</span>.<span title="()Int">hashCode</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="47011">mapSeed</a>         = <span title="String(&quot;Map&quot;)" class="string">&quot;Map&quot;</span>.<span title="()Int">hashCode</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="47013">setSeed</a>         = <span title="String(&quot;Set&quot;)" class="string">&quot;Set&quot;</span>.<span title="()Int">hashCode</span>

  <span class="keyword">def</span> <a title="[T](a: Array[T])Int" id="47015">arrayHash</a><span class="delimiter">[</span>@specialized <a title="&gt;: Nothing &lt;: Any" id="47017">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[T]" id="396355">a</a>: <a href="../Array.scala.html#1405" title="Array[T]">Array</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a>  = <a href="#46994" title="(a: Array[T], seed: Int)Int">arrayHash</a><span class="delimiter">(</span><a href="#396355" title="Array[T]">a</a>, <span title="Int(1007110753)">arraySeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(data: Array[Byte])Int" id="47018">bytesHash</a><span class="delimiter">(</span><a title="Array[Byte]" id="396382">data</a>: <a href="../Array.scala.html#1405" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a>            = <a href="#46997" title="(data: Array[Byte], seed: Int)Int">bytesHash</a><span class="delimiter">(</span><a href="#396382" title="Array[Byte]">data</a>, <span title="Int(1007110753)">arraySeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(xs: TraversableOnce[Any])Int" id="47019">orderedHash</a><span class="delimiter">(</span><a title="TraversableOnce[Any]" id="396388">xs</a>: <a href="../collection/TraversableOnce.scala.html#6955" title="TraversableOnce[Any]">TraversableOnce</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a>   = <a href="#46993" title="(xs: TraversableOnce[Any], seed: Int)Int">orderedHash</a><span class="delimiter">(</span><a href="#396388" title="TraversableOnce[Any]">xs</a>, <span title="Int(-1248659538)">symmetricSeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(x: Product)Int" id="47020">productHash</a><span class="delimiter">(</span><a title="Product" id="387659">x</a>: <a href="../Product.scala.html#1726" title="Product">Product</a><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a>                 = <a href="#46990" title="(x: Product, seed: Int)Int">productHash</a><span class="delimiter">(</span><a href="#387659" title="Product">x</a>, <span title="Int(-889275714)">productSeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(x: String)Int" id="47021">stringHash</a><span class="delimiter">(</span><a title="String" id="396463">x</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a>                   = <a href="#46991" title="(str: String, seed: Int)Int">stringHash</a><span class="delimiter">(</span><a href="#396463" title="String">x</a>, <span title="Int(-137723950)">stringSeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(xs: TraversableOnce[Any])Int" id="47022">unorderedHash</a><span class="delimiter">(</span><a title="TraversableOnce[Any]" id="396469">xs</a>: <a href="../collection/TraversableOnce.scala.html#6955" title="TraversableOnce[Any]">TraversableOnce</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <a href="#46992" title="(xs: TraversableOnce[Any], seed: Int)Int">unorderedHash</a><span class="delimiter">(</span><a href="#396469" title="TraversableOnce[Any]">xs</a>, <span title="Int(-415593707)">traversableSeed</span><span class="delimiter">)</span>

  /** To offer some potential for optimization.
   */
  <span class="keyword">def</span> <a title="(xs: Seq[_])Int" id="47023">seqHash</a><span class="delimiter">(</span><a title="Seq[_]" id="92208">xs</a>: collection.<a href="../collection/Seq.scala.html#6553" title="Seq[_]">Seq</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a>    = <a href="#46993" title="(xs: TraversableOnce[Any], seed: Int)Int">orderedHash</a><span class="delimiter">(</span><a href="#92208" title="Seq[_]">xs</a>, <a href="#47009" title="=&gt; Int">seqSeed</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(xs: scala.collection.Map[_, _])Int" id="47024">mapHash</a><span class="delimiter">(</span><a title="scala.collection.Map[_, _]" id="47032">xs</a>: collection.<a href="../collection/Map.scala.html#5863" title="scala.collection.Map[_, _]">Map</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> = <a href="#46992" title="(xs: TraversableOnce[Any], seed: Int)Int">unorderedHash</a><span class="delimiter">(</span><a href="#47032" title="scala.collection.Map[_, _]">xs</a>, <a href="#47011" title="=&gt; Int">mapSeed</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(xs: scala.collection.Set[_])Int" id="47025">setHash</a><span class="delimiter">(</span><a title="scala.collection.Set[_]" id="84740">xs</a>: collection.<a href="../collection/Set.scala.html#5974" title="scala.collection.Set[_]">Set</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a>    = <a href="#46992" title="(xs: TraversableOnce[Any], seed: Int)Int">unorderedHash</a><span class="delimiter">(</span><a href="#84740" title="scala.collection.Set[_]">xs</a>, <a href="#47013" title="=&gt; Int">setSeed</a><span class="delimiter">)</span>

  /** All this trouble and foreach still appears faster.
   *  Leaving in place in case someone would like to investigate further.
   */
  /**
  def linearSeqHash(xs: collection.LinearSeq[_], seed: Int): Int = {
    var n = 0
    var h = seed
    var elems = xs
    while (elems.nonEmpty) {
      h = mix(h, elems.head.##)
      n += 1
      elems = elems.tail
    }
    finalizeHash(h, n)
  }

  def indexedSeqHash(xs: collection.IndexedSeq[_], seed: Int): Int = {
    var n = 0
    var h = seed
    val len = xs.length
    while (n &lt; len) {
      h = mix(h, xs(n).##)
      n += 1
    }
    finalizeHash(h, n)
  }
  */

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use unorderedHash&quot;</span>, <span class="string">&quot;2.10.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](xs: scala.collection.GenTraversableOnce[T], seed: Int)Int" id="47026">symmetricHash</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="396756">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.GenTraversableOnce[T]" id="396751">xs</a>: collection.<a href="../collection/GenTraversableOnce.scala.html#5671" title="scala.collection.GenTraversableOnce[T]">GenTraversableOnce</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Int" id="396754">seed</a>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span title="Int(-1248659538)">symmetricSeed</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> =
    <a href="#46992" title="(xs: TraversableOnce[Any], seed: Int)Int">unorderedHash</a><span class="delimiter">(</span><a href="#396751" title="scala.collection.GenTraversableOnce[T]">xs</a>.<a href="../collection/GenTraversableOnce.scala.html#24920" title="=&gt; scala.collection.TraversableOnce[T]">seq</a>, <a href="#396754" title="Int">seed</a><span class="delimiter">)</span>

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use orderedHash&quot;</span>, <span class="string">&quot;2.10.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](xs: scala.collection.GenTraversableOnce[T], seed: Int)Int" id="47029">traversableHash</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="396832">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.GenTraversableOnce[T]" id="396827">xs</a>: collection.<a href="../collection/GenTraversableOnce.scala.html#5671" title="scala.collection.GenTraversableOnce[T]">GenTraversableOnce</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Int" id="396830">seed</a>: <a href="../Int.scala.html#385" title="Int">Int</a> = <span title="Int(-415593707)">traversableSeed</span><span class="delimiter">)</span>: <a href="../Int.scala.html#385" title="Int">Int</a> =
    <a href="#46993" title="(xs: TraversableOnce[Any], seed: Int)Int">orderedHash</a><span class="delimiter">(</span><a href="#396827" title="scala.collection.GenTraversableOnce[T]">xs</a>.<a href="../collection/GenTraversableOnce.scala.html#24920" title="=&gt; scala.collection.TraversableOnce[T]">seq</a>, <a href="#396830" title="Int">seed</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>