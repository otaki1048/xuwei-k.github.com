<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/util/Sorting.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2006-2009, Ross Judson           **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

<span class="keyword">package</span> scala.util

<span class="keyword">import</span> scala.reflect.ClassManifest
<span class="keyword">import</span> scala.math.Ordering

/** The Sorting object provides functions that can sort various kinds of
  * objects. You can provide a comparison function, or you can request a sort
  * of items that are viewable as [[scala.math.Ordered]]. Some sorts that
  * operate directly on a subset of value types are also provided. These
  * implementations are derived from those in the Sun JDK.
  *
  * Note that stability doesn't matter for value types, so use the `quickSort`
  * variants for those. `stableSort` is intended to be used with
  * objects when the prior ordering should be preserved, where possible.
  *
  * @author  Ross Judson
  * @version 1.0
  */
<span class="keyword">object</span> <a title="object scala.util.Sorting" id="19232">Sorting</a> <a href="../ScalaObject.scala.html#460" title="ScalaObject" class="delimiter">{</a>
  /** Quickly sort an array of Doubles. */
  <span class="keyword">def</span> <a title="(a: Array[Double])Unit" id="398599">quickSort</a><span class="delimiter">(</span><a title="Array[Double]" id="398632">a</a>: <a href="../Array.scala.html#1405" title="Array[Double]">Array</a><span class="delimiter">[</span>Double<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#398626" title="(x: Array[Double], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#398632" title="Array[Double]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#398632" title="Array[Double]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of items with an implicit Ordering. */
  <span class="keyword">def</span> <a title="[K](a: Array[K])(implicit evidence$1: scala.math.Ordering[K])Unit" id="398690">quickSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="398602">K</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="398689">a</a>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#398653" title="(x: Array[K], off: Int, len: Int)(implicit evidence$10: scala.math.Ordering[K])Unit">sort1</a><a href="#398690" title="scala.math.Ordering[K]" class="delimiter">(</a><a href="#398689" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#398689" title="Array[K]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of Ints. */
  <span class="keyword">def</span> <a title="(a: Array[Int])Unit" id="398603">quickSort</a><span class="delimiter">(</span><a title="Array[Int]" id="398726">a</a>: <a href="../Array.scala.html#1405" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#398625" title="(x: Array[Int], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#398726" title="Array[Int]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#398726" title="Array[Int]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of Floats. */
  <span class="keyword">def</span> <a title="(a: Array[Float])Unit" id="398604">quickSort</a><span class="delimiter">(</span><a title="Array[Float]" id="398762">a</a>: <a href="../Array.scala.html#1405" title="Array[Float]">Array</a><span class="delimiter">[</span>Float<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#398627" title="(x: Array[Float], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#398762" title="Array[Float]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#398762" title="Array[Float]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Sort an array of K where K is Ordered, preserving the existing order
    * where the values are equal. */
  <span class="keyword">def</span> <a title="[K](a: Array[K])(implicit evidence$2: scala.reflect.ClassManifest[K], implicit evidence$3: scala.math.Ordering[K])Unit" id="398800">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="398607">K</a>: ClassManifest: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="398798">a</a>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#398814" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#398800" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#398798" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#398798" title="Array[K]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span>, <a href="../reflect/ClassManifest.scala.html#28339" title="(len: Int)Array[K]" class="keyword">new</a> Array<span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">(</span><a href="#398798" title="Array[K]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span>, <a href="../math/Ordering.scala.html#38058" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#398800" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#398607" title="K">K</a><span class="delimiter">]</span>.<a href="../math/Ordering.scala.html#37969" title="(x: K, y: K)Boolean">lt</a> _<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Sorts an array of `K` given an ordering function `f`.
   *  `f` should return `true` iff its first parameter is strictly less than its second parameter.
   */
  <span class="keyword">def</span> <a title="[K](a: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$4: scala.reflect.ClassManifest[K])Unit" id="398872">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="398610">K</a>: ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="398870">a</a>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="398871">f</a>: <span class="delimiter">(</span>K, K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#398814" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#398872" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#398870" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#398870" title="Array[K]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span>, <a href="../reflect/ClassManifest.scala.html#28339" title="(len: Int)Array[K]" class="keyword">new</a> Array<span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">(</span><a href="#398870" title="Array[K]">a</a>.<a href="../Array.scala.html#23462" title="=&gt; Int">length</a><span class="delimiter">)</span>, <a href="#398871" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Sorts an arbitrary sequence into an array, given a comparison function
   *  that should return `true` iff parameter one is strictly less than parameter two.
   *
   *  @param  a the sequence to be sorted.
   *  @param  f the comparison function.
   *  @return the sorted sequence of items.
   */
  <span class="keyword">def</span> <a title="[K](a: Seq[K], f: (K, K) =&gt; Boolean)(implicit evidence$5: scala.reflect.ClassManifest[K])Array[K]" id="398861">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="398613">K</a>: ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="398859">a</a>: <a href="../collection/Seq.scala.html#6553" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="398860">f</a>: <span class="delimiter">(</span>K, K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[K]" id="398980">ret</a> = <a href="#398859" title="Seq[K]">a</a>.<a href="../collection/TraversableOnce.scala.html#25100" title="(implicit evidence$1: ClassManifest[K])Array[K]">toArray</a>
    <a href="#398872" title="(a: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$4: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#398861" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#398980" title="Array[K]">ret</a>, <a href="#398860" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
    <a href="#398980" title="Array[K]">ret</a>
  <span class="delimiter">}</span>

  /** Sorts an arbitrary sequence of items that are viewable as ordered. */
  <span class="keyword">def</span> <a title="[K](a: Seq[K])(implicit evidence$6: scala.reflect.ClassManifest[K], implicit evidence$7: scala.math.Ordering[K])Array[K]" id="398848">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="398616">K</a>: ClassManifest: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="398846">a</a>: <a href="../collection/Seq.scala.html#6553" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> =
    <a href="#398861" title="(a: Seq[K], f: (K, K) =&gt; Boolean)(implicit evidence$5: scala.reflect.ClassManifest[K])Array[K]">stableSort</a><a href="#398848" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#398846" title="Seq[K]">a</a>, <a href="../math/Ordering.scala.html#38058" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#398848" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#398616" title="K">K</a><span class="delimiter">]</span>.<a href="../math/Ordering.scala.html#37969" title="(x: K, y: K)Boolean">lt</a> _<span class="delimiter">)</span>

  /** Stably sorts a sequence of items given an extraction function that will
   *  return an ordered key from an item.
   *
   *  @param  a the sequence to be sorted.
   *  @param  f the comparison function.
   *  @return the sorted sequence of items.
   */
  <span class="keyword">def</span> <a title="[K, M](a: Seq[K], f: K =&gt; M)(implicit evidence$8: scala.reflect.ClassManifest[K], implicit evidence$9: scala.math.Ordering[M])Array[K]" id="398834">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="398620">K</a>: ClassManifest, <a title="&gt;: Nothing &lt;: Any" id="398621">M</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="398831">a</a>: <a href="../collection/Seq.scala.html#6553" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="K =&gt; M" id="398832">f</a>: K =&gt; M<span class="delimiter">)</span>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> =
    <a href="#398848" title="(a: Seq[K])(implicit evidence$6: scala.reflect.ClassManifest[K], implicit evidence$7: scala.math.Ordering[K])Array[K]">stableSort</a><span class="delimiter">(</span><a href="#398831" title="Seq[K]">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Predef.scala.html#7475" title="[T](implicit e: T)T">implicitly</a><a href="#398834" title="(implicit e: scala.reflect.ClassManifest[K])scala.reflect.ClassManifest[K]" class="delimiter">[</a><a href="../reflect/ClassManifest.scala.html#2907" title="scala.reflect.ClassManifest[K]">ClassManifest</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../math/Ordering.scala.html#38058" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#398834" title="(implicit ord: scala.math.Ordering[M])scala.math.Ordering[M]" class="delimiter">[</a><a href="#398621" title="M">M</a><span class="delimiter">]</span> <a href="../math/Ordering.scala.html#37975" title="(f: K =&gt; M)scala.math.Ordering[K]">on</a> <a href="#398832" title="K =&gt; M">f</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K](x: Array[K], off: Int, len: Int)(implicit evidence$10: scala.math.Ordering[K])Unit" id="398653">sort1</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="398624">K</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="398650">x</a>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Int" id="398651">off</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="398652">len</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.math.Ordering[K]" id="399238">ord</a> = <a href="../math/Ordering.scala.html#38058" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#398653" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#398624" title="K">K</a><span class="delimiter">]</span>
    <span class="keyword">import</span> <a href="#399238" title="scala.math.Ordering[K]">ord</a>._

    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="399240">swap</a><span class="delimiter">(</span><a title="Int" id="399246">a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399247">b</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="K" id="399248">t</a> = <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399246" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#23464" title="(i: Int, x: K)Unit">x</a><span class="delimiter">(</span><a href="#399246" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399247" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#23464" title="(i: Int, x: K)Unit">x</a><span class="delimiter">(</span><a href="#399247" title="Int">b</a><span class="delimiter">)</span> = <a href="#399248" title="K">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="399241">vecswap</a><span class="delimiter">(</span><a title="Int" id="399251">_a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399252">_b</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399253">n</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="399254">a</a> = <a href="#399251" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="399255">b</a> = <a href="#399252" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="399256">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399256" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#399253" title="Int">n</a><span class="delimiter">)</span> <a href="#399257" title="()Unit" class="delimiter">{</a>
        <a href="#399240" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399254" title="Int">a</a>, <a href="#399255" title="Int">b</a><span class="delimiter">)</span>
        <a href="#399256" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#399254" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#399255" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="399242">med3</a><span class="delimiter">(</span><a title="Int" id="399275">a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399276">b</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399277">c</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#37979" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#399275" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#154716" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399276" title="Int">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#37979" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#399276" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#154716" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399277" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399276" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#37979" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#399275" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#154716" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399277" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399277" title="Int">c</a> <span class="keyword">else</span> <a href="#399275" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#37979" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#399276" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#154718" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399277" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399276" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#37979" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#399275" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#154718" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399277" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399277" title="Int">c</a> <span class="keyword">else</span> <a href="#399275" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="399243">sort2</a><span class="delimiter">(</span><a title="Int" id="399465">off</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399466">len</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399466" title="Int">len</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="399471">i</a> = <a href="#399465" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399471" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#399466" title="Int">len</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#399465" title="Int">off</a><span class="delimiter">)</span> <a href="#399472" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="399481">j</a> = <a href="#399471" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399481" title="Int">j</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="#399465" title="Int">off</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#37979" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#399481" title="Int">j</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#154718" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399481" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399482" title="()Unit" class="delimiter">{</a>
            <a href="#399240" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399481" title="Int">j</a>, <a href="#399481" title="Int">j</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#399481" title="Int">j</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#399471" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="399540">m</a> = <a href="#399465" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#399466" title="Int">len</a> <a href="../Int.scala.html#23895" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399466" title="Int">len</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="399562">l</a> = <a href="#399465" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="399563">n</a> = <a href="#399465" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#399466" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399466" title="Int">len</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="399576">s</a> = <a href="#399466" title="Int">len</a> <a href="../Int.scala.html#23978" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#399562" title="Int">l</a> = <a href="#399242" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#399562" title="Int">l</a>, <a href="#399562" title="Int">l</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#399576" title="Int">s</a>, <a href="#399562" title="Int">l</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#23971" title="(x: Int)Int">*</a><a href="#399576" title="Int">s</a><span class="delimiter">)</span>
            <a href="#399540" title="Int">m</a> = <a href="#399242" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#399540" title="Int">m</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399576" title="Int">s</a>, <a href="#399540" title="Int">m</a>, <a href="#399540" title="Int">m</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#399576" title="Int">s</a><span class="delimiter">)</span>
            <a href="#399563" title="Int">n</a> = <a href="#399242" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#399563" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#23971" title="(x: Int)Int">*</a><a href="#399576" title="Int">s</a>, <a href="#399563" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399576" title="Int">s</a>, <a href="#399563" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#399540" title="Int">m</a> = <a href="#399242" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#399562" title="Int">l</a>, <a href="#399540" title="Int">m</a>, <a href="#399563" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="K" id="399541">v</a> = <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399540" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="399542">a</a> = <a href="#399465" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="399543">b</a> = <a href="#399542" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="399544">c</a> = <a href="#399465" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#399466" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="399545">d</a> = <a href="#399544" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="399546">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#24721" title="=&gt; Boolean">!</a><a href="#399546" title="Boolean">done</a><span class="delimiter">)</span> <a href="#399549" title="()Unit" class="delimiter">{</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399543" title="Int">b</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#399544" title="Int">c</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#37979" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#399543" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#154717" title="(rhs: K)Boolean">&lt;=</a> <a href="#399541" title="K">v</a><span class="delimiter">)</span> <a href="#399621" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399543" title="Int">b</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#399541" title="K">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#399240" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399542" title="Int">a</a>, <a href="#399543" title="Int">b</a><span class="delimiter">)</span>
              <a href="#399542" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#399543" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399544" title="Int">c</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <a href="#399543" title="Int">b</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#23463" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#37979" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#399544" title="Int">c</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#154719" title="(rhs: K)Boolean">&gt;=</a> <a href="#399541" title="K">v</a><span class="delimiter">)</span> <a href="#399622" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#399544" title="Int">c</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#399541" title="K">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#399240" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399544" title="Int">c</a>, <a href="#399545" title="Int">d</a><span class="delimiter">)</span>
              <a href="#399545" title="Int">d</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#399544" title="Int">c</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399543" title="Int">b</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="#399544" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#399546" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#399240" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399543" title="Int">b</a>, <a href="#399544" title="Int">c</a><span class="delimiter">)</span>
            <a href="#399544" title="Int">c</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#399543" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="399547">n</a> = <a href="#399465" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#399466" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="399548">s</a> = math.<a href="../math/package.scala.html#22838" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#399542" title="Int">a</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399465" title="Int">off</a>, <a href="#399543" title="Int">b</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399542" title="Int">a</a><span class="delimiter">)</span>
        <a href="#399241" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#399465" title="Int">off</a>, <a href="#399543" title="Int">b</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399548" title="Int">s</a>, <a href="#399548" title="Int">s</a><span class="delimiter">)</span>
        <a href="#399548" title="Int">s</a> = math.<a href="../math/package.scala.html#22838" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#399545" title="Int">d</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399544" title="Int">c</a>, <a href="#399547" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399545" title="Int">d</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#399241" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#399543" title="Int">b</a>,   <a href="#399547" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399548" title="Int">s</a>, <a href="#399548" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#399548" title="Int">s</a> = <a href="#399543" title="Int">b</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <a href="#399542" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399548" title="Int">s</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#399243" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#399465" title="Int">off</a>, <a href="#399548" title="Int">s</a><span class="delimiter">)</span>
        <a href="#399548" title="Int">s</a> = <a href="#399545" title="Int">d</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <a href="#399544" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399548" title="Int">s</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#399243" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#399547" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399548" title="Int">s</a>, <a href="#399548" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#399243" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#398651" title="Int">off</a>, <a href="#398652" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Int], off: Int, len: Int)Unit" id="398625">sort1</a><span class="delimiter">(</span><a title="Array[Int]" id="398646">x</a>: <a href="../Array.scala.html#1405" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Int" id="398647">off</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="398648">len</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="399793">swap</a><span class="delimiter">(</span><a title="Int" id="399797">a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399798">b</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="399799">t</a> = <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399797" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#23464" title="(i: Int, x: Int)Unit">x</a><span class="delimiter">(</span><a href="#399797" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399798" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#23464" title="(i: Int, x: Int)Unit">x</a><span class="delimiter">(</span><a href="#399798" title="Int">b</a><span class="delimiter">)</span> = <a href="#399799" title="Int">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="399794">vecswap</a><span class="delimiter">(</span><a title="Int" id="399802">_a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399803">_b</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399804">n</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="399805">a</a> = <a href="#399802" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="399806">b</a> = <a href="#399803" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="399807">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399807" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#399804" title="Int">n</a><span class="delimiter">)</span> <a href="#399808" title="()Unit" class="delimiter">{</a>
        <a href="#399793" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399805" title="Int">a</a>, <a href="#399806" title="Int">b</a><span class="delimiter">)</span>
        <a href="#399807" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#399805" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#399806" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="399795">med3</a><span class="delimiter">(</span><a title="Int" id="399825">a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399826">b</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399827">c</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399825" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399826" title="Int">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399826" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399827" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399826" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399825" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399827" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399827" title="Int">c</a> <span class="keyword">else</span> <a href="#399825" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399826" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399827" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399826" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399825" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399827" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399827" title="Int">c</a> <span class="keyword">else</span> <a href="#399825" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="399796">sort2</a><span class="delimiter">(</span><a title="Int" id="399848">off</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="399849">len</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399849" title="Int">len</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="399854">i</a> = <a href="#399848" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399854" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#399849" title="Int">len</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#399848" title="Int">off</a><span class="delimiter">)</span> <a href="#399855" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="399864">j</a> = <a href="#399854" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399864" title="Int">j</a><a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a><a href="#399848" title="Int">off</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399864" title="Int">j</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399864" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#399865" title="()Unit" class="delimiter">{</a>
            <a href="#399793" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399864" title="Int">j</a>, <a href="#399864" title="Int">j</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#399864" title="Int">j</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#399854" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="399890">m</a> = <a href="#399848" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#399849" title="Int">len</a> <a href="../Int.scala.html#23895" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399849" title="Int">len</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="399912">l</a> = <a href="#399848" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="399913">n</a> = <a href="#399848" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#399849" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399849" title="Int">len</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="399926">s</a> = <a href="#399849" title="Int">len</a> <a href="../Int.scala.html#23978" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#399912" title="Int">l</a> = <a href="#399795" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#399912" title="Int">l</a>, <a href="#399912" title="Int">l</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#399926" title="Int">s</a>, <a href="#399912" title="Int">l</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#23971" title="(x: Int)Int">*</a><a href="#399926" title="Int">s</a><span class="delimiter">)</span>
            <a href="#399890" title="Int">m</a> = <a href="#399795" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#399890" title="Int">m</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399926" title="Int">s</a>, <a href="#399890" title="Int">m</a>, <a href="#399890" title="Int">m</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#399926" title="Int">s</a><span class="delimiter">)</span>
            <a href="#399913" title="Int">n</a> = <a href="#399795" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#399913" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#23971" title="(x: Int)Int">*</a><a href="#399926" title="Int">s</a>, <a href="#399913" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399926" title="Int">s</a>, <a href="#399913" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#399890" title="Int">m</a> = <a href="#399795" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#399912" title="Int">l</a>, <a href="#399890" title="Int">m</a>, <a href="#399913" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Int" id="399891">v</a> = <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399890" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="399892">a</a> = <a href="#399848" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="399893">b</a> = <a href="#399892" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="399894">c</a> = <a href="#399848" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#399849" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="399895">d</a> = <a href="#399894" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="399896">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#24721" title="=&gt; Boolean">!</a><a href="#399896" title="Boolean">done</a><span class="delimiter">)</span> <a href="#399899" title="()Unit" class="delimiter">{</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399893" title="Int">b</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#399894" title="Int">c</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399893" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#399891" title="Int">v</a><span class="delimiter">)</span> <a href="#399971" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399893" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <a href="#399891" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#399793" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399892" title="Int">a</a>, <a href="#399893" title="Int">b</a><span class="delimiter">)</span>
              <a href="#399892" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#399893" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#399894" title="Int">c</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <a href="#399893" title="Int">b</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399894" title="Int">c</a><span class="delimiter">)</span> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <a href="#399891" title="Int">v</a><span class="delimiter">)</span> <a href="#399972" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#399894" title="Int">c</a><span class="delimiter">)</span> <a href="../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <a href="#399891" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#399793" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399894" title="Int">c</a>, <a href="#399895" title="Int">d</a><span class="delimiter">)</span>
              <a href="#399895" title="Int">d</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#399894" title="Int">c</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399893" title="Int">b</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="#399894" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#399896" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#399793" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#399893" title="Int">b</a>, <a href="#399894" title="Int">c</a><span class="delimiter">)</span>
            <a href="#399894" title="Int">c</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#399893" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="399897">n</a> = <a href="#399848" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#399849" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="399898">s</a> = math.<a href="../math/package.scala.html#22838" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#399892" title="Int">a</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399848" title="Int">off</a>, <a href="#399893" title="Int">b</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399892" title="Int">a</a><span class="delimiter">)</span>
        <a href="#399794" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#399848" title="Int">off</a>, <a href="#399893" title="Int">b</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399898" title="Int">s</a>, <a href="#399898" title="Int">s</a><span class="delimiter">)</span>
        <a href="#399898" title="Int">s</a> = math.<a href="../math/package.scala.html#22838" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#399895" title="Int">d</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399894" title="Int">c</a>, <a href="#399897" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399895" title="Int">d</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#399794" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#399893" title="Int">b</a>,   <a href="#399897" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399898" title="Int">s</a>, <a href="#399898" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#399898" title="Int">s</a> = <a href="#399893" title="Int">b</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <a href="#399892" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399898" title="Int">s</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#399796" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#399848" title="Int">off</a>, <a href="#399898" title="Int">s</a><span class="delimiter">)</span>
        <a href="#399898" title="Int">s</a> = <a href="#399895" title="Int">d</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <a href="#399894" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#399898" title="Int">s</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#399796" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#399897" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#399898" title="Int">s</a>, <a href="#399898" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#399796" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#398647" title="Int">off</a>, <a href="#398648" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Double], off: Int, len: Int)Unit" id="398626">sort1</a><span class="delimiter">(</span><a title="Array[Double]" id="398642">x</a>: <a href="../Array.scala.html#1405" title="Array[Double]">Array</a><span class="delimiter">[</span>Double<span class="delimiter">]</span>, <a title="Int" id="398643">off</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="398644">len</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="400085">swap</a><span class="delimiter">(</span><a title="Int" id="400089">a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400090">b</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Double" id="400091">t</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#400089" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#23464" title="(i: Int, x: Double)Unit">x</a><span class="delimiter">(</span><a href="#400089" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#400090" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#23464" title="(i: Int, x: Double)Unit">x</a><span class="delimiter">(</span><a href="#400090" title="Int">b</a><span class="delimiter">)</span> = <a href="#400091" title="Double">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="400086">vecswap</a><span class="delimiter">(</span><a title="Int" id="400094">_a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400095">_b</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400096">n</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="400097">a</a> = <a href="#400094" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="400098">b</a> = <a href="#400095" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="400099">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400099" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#400096" title="Int">n</a><span class="delimiter">)</span> <a href="#400100" title="()Unit" class="delimiter">{</a>
        <a href="#400085" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400097" title="Int">a</a>, <a href="#400098" title="Int">b</a><span class="delimiter">)</span>
        <a href="#400099" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#400097" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#400098" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="400087">med3</a><span class="delimiter">(</span><a title="Int" id="400117">a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400118">b</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400119">c</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="400120">ab</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7400" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#400117" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#400118" title="Int">b</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="400121">bc</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7400" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#400118" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#400119" title="Int">c</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="400122">ac</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7400" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#400117" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#400119" title="Int">c</a><span class="delimiter">)</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400120" title="Int">ab</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400121" title="Int">bc</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400118" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400122" title="Int">ac</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400119" title="Int">c</a> <span class="keyword">else</span> <a href="#400117" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400121" title="Int">bc</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400118" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400122" title="Int">ac</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400119" title="Int">c</a> <span class="keyword">else</span> <a href="#400117" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="400088">sort2</a><span class="delimiter">(</span><a title="Int" id="400196">off</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400197">len</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400197" title="Int">len</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="400202">i</a> = <a href="#400196" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400202" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#400197" title="Int">len</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#400196" title="Int">off</a><span class="delimiter">)</span> <a href="#400203" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="400212">j</a> = <a href="#400202" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400212" title="Int">j</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="#400196" title="Int">off</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7400" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#400212" title="Int">j</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#400212" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400213" title="()Unit" class="delimiter">{</a>
            <a href="#400085" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400212" title="Int">j</a>, <a href="#400212" title="Int">j</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#400212" title="Int">j</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#400202" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="400255">m</a> = <a href="#400196" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#400197" title="Int">len</a> <a href="../Int.scala.html#23895" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400197" title="Int">len</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="400277">l</a> = <a href="#400196" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="400278">n</a> = <a href="#400196" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#400197" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400197" title="Int">len</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="400291">s</a> = <a href="#400197" title="Int">len</a> <a href="../Int.scala.html#23978" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#400277" title="Int">l</a> = <a href="#400087" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#400277" title="Int">l</a>, <a href="#400277" title="Int">l</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#400291" title="Int">s</a>, <a href="#400277" title="Int">l</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#23971" title="(x: Int)Int">*</a><a href="#400291" title="Int">s</a><span class="delimiter">)</span>
            <a href="#400255" title="Int">m</a> = <a href="#400087" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#400255" title="Int">m</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400291" title="Int">s</a>, <a href="#400255" title="Int">m</a>, <a href="#400255" title="Int">m</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#400291" title="Int">s</a><span class="delimiter">)</span>
            <a href="#400278" title="Int">n</a> = <a href="#400087" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#400278" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#23971" title="(x: Int)Int">*</a><a href="#400291" title="Int">s</a>, <a href="#400278" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400291" title="Int">s</a>, <a href="#400278" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#400255" title="Int">m</a> = <a href="#400087" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#400277" title="Int">l</a>, <a href="#400255" title="Int">m</a>, <a href="#400278" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Double" id="400256">v</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#400255" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="400257">a</a> = <a href="#400196" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="400258">b</a> = <a href="#400257" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="400259">c</a> = <a href="#400196" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#400197" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="400260">d</a> = <a href="#400259" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="400261">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#24721" title="=&gt; Boolean">!</a><a href="#400261" title="Boolean">done</a><span class="delimiter">)</span> <a href="#400264" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="400336">bv</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7400" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#400258" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Double)Int">compare</a> <a href="#400256" title="Double">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400258" title="Int">b</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#400259" title="Int">c</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#400336" title="Int">bv</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400338" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400336" title="Int">bv</a> <a href="../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#400085" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400257" title="Int">a</a>, <a href="#400258" title="Int">b</a><span class="delimiter">)</span>
              <a href="#400257" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#400258" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400258" title="Int">b</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#400259" title="Int">c</a><span class="delimiter">)</span> <a href="#400336" title="Int">bv</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7400" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#400258" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Double)Int">compare</a> <a href="#400256" title="Double">v</a>
          <span class="delimiter">}</span>
          <span class="keyword">var</span> <a title="Int" id="400337">cv</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7400" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#400259" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Double)Int">compare</a> <a href="#400256" title="Double">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400259" title="Int">c</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <a href="#400258" title="Int">b</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#400337" title="Int">cv</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400339" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400337" title="Int">cv</a> <a href="../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#400085" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400259" title="Int">c</a>, <a href="#400260" title="Int">d</a><span class="delimiter">)</span>
              <a href="#400260" title="Int">d</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#400259" title="Int">c</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400259" title="Int">c</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <a href="#400258" title="Int">b</a><span class="delimiter">)</span> <a href="#400337" title="Int">cv</a> = <a href="../Array.scala.html#23463" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7400" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#400259" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Double)Int">compare</a> <a href="#400256" title="Double">v</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400258" title="Int">b</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="#400259" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#400261" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#400085" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400258" title="Int">b</a>, <a href="#400259" title="Int">c</a><span class="delimiter">)</span>
            <a href="#400259" title="Int">c</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#400258" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="400262">n</a> = <a href="#400196" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#400197" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="400263">s</a> = math.<a href="../math/package.scala.html#22838" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#400257" title="Int">a</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400196" title="Int">off</a>, <a href="#400258" title="Int">b</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400257" title="Int">a</a><span class="delimiter">)</span>
        <a href="#400086" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#400196" title="Int">off</a>, <a href="#400258" title="Int">b</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400263" title="Int">s</a>, <a href="#400263" title="Int">s</a><span class="delimiter">)</span>
        <a href="#400263" title="Int">s</a> = math.<a href="../math/package.scala.html#22838" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#400260" title="Int">d</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400259" title="Int">c</a>, <a href="#400262" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400260" title="Int">d</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#400086" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#400258" title="Int">b</a>,   <a href="#400262" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400263" title="Int">s</a>, <a href="#400263" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#400263" title="Int">s</a> = <a href="#400258" title="Int">b</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <a href="#400257" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400263" title="Int">s</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#400088" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#400196" title="Int">off</a>, <a href="#400263" title="Int">s</a><span class="delimiter">)</span>
        <a href="#400263" title="Int">s</a> = <a href="#400260" title="Int">d</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <a href="#400259" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400263" title="Int">s</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#400088" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#400262" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400263" title="Int">s</a>, <a href="#400263" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#400088" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#398643" title="Int">off</a>, <a href="#398644" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Float], off: Int, len: Int)Unit" id="398627">sort1</a><span class="delimiter">(</span><a title="Array[Float]" id="398638">x</a>: <a href="../Array.scala.html#1405" title="Array[Float]">Array</a><span class="delimiter">[</span>Float<span class="delimiter">]</span>, <a title="Int" id="398639">off</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="398640">len</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="400528">swap</a><span class="delimiter">(</span><a title="Int" id="400532">a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400533">b</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Float" id="400534">t</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#400532" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#23464" title="(i: Int, x: Float)Unit">x</a><span class="delimiter">(</span><a href="#400532" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#400533" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#23464" title="(i: Int, x: Float)Unit">x</a><span class="delimiter">(</span><a href="#400533" title="Int">b</a><span class="delimiter">)</span> = <a href="#400534" title="Float">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="400529">vecswap</a><span class="delimiter">(</span><a title="Int" id="400537">_a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400538">_b</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400539">n</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="400540">a</a> = <a href="#400537" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="400541">b</a> = <a href="#400538" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="400542">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400542" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#400539" title="Int">n</a><span class="delimiter">)</span> <a href="#400543" title="()Unit" class="delimiter">{</a>
        <a href="#400528" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400540" title="Int">a</a>, <a href="#400541" title="Int">b</a><span class="delimiter">)</span>
        <a href="#400542" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#400540" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#400541" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="400530">med3</a><span class="delimiter">(</span><a title="Int" id="400560">a</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400561">b</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400562">c</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="400563">ab</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#400560" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#400561" title="Int">b</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="400564">bc</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#400561" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#400562" title="Int">c</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="400565">ac</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#400560" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#400562" title="Int">c</a><span class="delimiter">)</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400563" title="Int">ab</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400564" title="Int">bc</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400561" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400565" title="Int">ac</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400562" title="Int">c</a> <span class="keyword">else</span> <a href="#400560" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400564" title="Int">bc</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400561" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#400565" title="Int">ac</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400562" title="Int">c</a> <span class="keyword">else</span> <a href="#400560" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="400531">sort2</a><span class="delimiter">(</span><a title="Int" id="400676">off</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="400677">len</a>: <a href="../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400677" title="Int">len</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="400682">i</a> = <a href="#400676" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400682" title="Int">i</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#400677" title="Int">len</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#400676" title="Int">off</a><span class="delimiter">)</span> <a href="#400683" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="400692">j</a> = <a href="#400682" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400692" title="Int">j</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="#400676" title="Int">off</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#400692" title="Int">j</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#400692" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400693" title="()Unit" class="delimiter">{</a>
            <a href="#400528" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400692" title="Int">j</a>, <a href="#400692" title="Int">j</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#400692" title="Int">j</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#400682" title="Int">i</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="400748">m</a> = <a href="#400676" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#400677" title="Int">len</a> <a href="../Int.scala.html#23895" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400677" title="Int">len</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="400770">l</a> = <a href="#400676" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="400771">n</a> = <a href="#400676" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#400677" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400677" title="Int">len</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="400784">s</a> = <a href="#400677" title="Int">len</a> <a href="../Int.scala.html#23978" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#400770" title="Int">l</a> = <a href="#400530" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#400770" title="Int">l</a>, <a href="#400770" title="Int">l</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#400784" title="Int">s</a>, <a href="#400770" title="Int">l</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#23971" title="(x: Int)Int">*</a><a href="#400784" title="Int">s</a><span class="delimiter">)</span>
            <a href="#400748" title="Int">m</a> = <a href="#400530" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#400748" title="Int">m</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400784" title="Int">s</a>, <a href="#400748" title="Int">m</a>, <a href="#400748" title="Int">m</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#400784" title="Int">s</a><span class="delimiter">)</span>
            <a href="#400771" title="Int">n</a> = <a href="#400530" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#400771" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#23971" title="(x: Int)Int">*</a><a href="#400784" title="Int">s</a>, <a href="#400771" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400784" title="Int">s</a>, <a href="#400771" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#400748" title="Int">m</a> = <a href="#400530" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#400770" title="Int">l</a>, <a href="#400748" title="Int">m</a>, <a href="#400771" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Float" id="400749">v</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#400748" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="400750">a</a> = <a href="#400676" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="400751">b</a> = <a href="#400750" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="400752">c</a> = <a href="#400676" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#400677" title="Int">len</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="400753">d</a> = <a href="#400752" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="400754">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#24721" title="=&gt; Boolean">!</a><a href="#400754" title="Boolean">done</a><span class="delimiter">)</span> <a href="#400757" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="400829">bv</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#400751" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Float)Int">compare</a> <a href="#400749" title="Float">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400751" title="Int">b</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#400752" title="Int">c</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#400829" title="Int">bv</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400831" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400829" title="Int">bv</a> <a href="../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#400528" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400750" title="Int">a</a>, <a href="#400751" title="Int">b</a><span class="delimiter">)</span>
              <a href="#400750" title="Int">a</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#400751" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400751" title="Int">b</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#400752" title="Int">c</a><span class="delimiter">)</span> <a href="#400829" title="Int">bv</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#400751" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Float)Int">compare</a> <a href="#400749" title="Float">v</a>
          <span class="delimiter">}</span>
          <span class="keyword">var</span> <a title="Int" id="400830">cv</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#400752" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Float)Int">compare</a> <a href="#400749" title="Float">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#400752" title="Int">c</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <a href="#400751" title="Int">b</a> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#400830" title="Int">cv</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#400832" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400830" title="Int">cv</a> <a href="../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#400528" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400752" title="Int">c</a>, <a href="#400753" title="Int">d</a><span class="delimiter">)</span>
              <a href="#400753" title="Int">d</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#400752" title="Int">c</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400752" title="Int">c</a> <a href="../Int.scala.html#23935" title="(x: Int)Boolean">&gt;=</a> <a href="#400751" title="Int">b</a><span class="delimiter">)</span> <a href="#400830" title="Int">cv</a> = <a href="../Array.scala.html#23463" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#400752" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#23570" title="(y: Float)Int">compare</a> <a href="#400749" title="Float">v</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400751" title="Int">b</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="#400752" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#400754" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#400528" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#400751" title="Int">b</a>, <a href="#400752" title="Int">c</a><span class="delimiter">)</span>
            <a href="#400752" title="Int">c</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#400751" title="Int">b</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="400755">n</a> = <a href="#400676" title="Int">off</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#400677" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="400756">s</a> = math.<a href="../math/package.scala.html#22838" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#400750" title="Int">a</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400676" title="Int">off</a>, <a href="#400751" title="Int">b</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400750" title="Int">a</a><span class="delimiter">)</span>
        <a href="#400529" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#400676" title="Int">off</a>, <a href="#400751" title="Int">b</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400756" title="Int">s</a>, <a href="#400756" title="Int">s</a><span class="delimiter">)</span>
        <a href="#400756" title="Int">s</a> = math.<a href="../math/package.scala.html#22838" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#400753" title="Int">d</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400752" title="Int">c</a>, <a href="#400755" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400753" title="Int">d</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#400529" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#400751" title="Int">b</a>,   <a href="#400755" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400756" title="Int">s</a>, <a href="#400756" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#400756" title="Int">s</a> = <a href="#400751" title="Int">b</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <a href="#400750" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400756" title="Int">s</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#400531" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#400676" title="Int">off</a>, <a href="#400756" title="Int">s</a><span class="delimiter">)</span>
        <a href="#400756" title="Int">s</a> = <a href="#400753" title="Int">d</a> <a href="../Int.scala.html#23964" title="(x: Int)Int">-</a> <a href="#400752" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#400756" title="Int">s</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#400531" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#400755" title="Int">n</a><a href="../Int.scala.html#23964" title="(x: Int)Int">-</a><a href="#400756" title="Int">s</a>, <a href="#400756" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#400531" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#398639" title="Int">off</a>, <a href="#398640" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K](a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit" id="398814">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="398630">K</a> : ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="398809">a</a>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Int" id="398810">lo</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Int" id="398811">hi</a>: <a href="../Int.scala.html#385" title="Int">Int</a>, <a title="Array[K]" id="398812">scratch</a>: <a href="../Array.scala.html#1405" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="398813">f</a>: <span class="delimiter">(</span>K,K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#398810" title="Int">lo</a> <a href="../Int.scala.html#23914" title="(x: Int)Boolean">&lt;</a> <a href="#398811" title="Int">hi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="401077">mid</a> = <span class="delimiter">(</span><a href="#398810" title="Int">lo</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><a href="#398811" title="Int">hi</a><span class="delimiter">)</span> <a href="../Int.scala.html#23978" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span>
      <a href="#398814" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#398814" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#398809" title="Array[K]">a</a>, <a href="#398810" title="Int">lo</a>, <a href="#401077" title="Int">mid</a>, <a href="#398812" title="Array[K]">scratch</a>, <a href="#398813" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
      <a href="#398814" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#398814" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#398809" title="Array[K]">a</a>, <a href="#401077" title="Int">mid</a><a href="../Int.scala.html#23957" title="(x: Int)Int">+</a><span title="Int(1)" class="int">1</span>, <a href="#398811" title="Int">hi</a>, <a href="#398812" title="Array[K]">scratch</a>, <a href="#398813" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="401078">k</a>, <a title="Int" id="401079">t_lo</a> = <a href="#398810" title="Int">lo</a>
      <span class="keyword">var</span> <a title="Int" id="401080">t_hi</a> = <a href="#401077" title="Int">mid</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#401078" title="Int">k</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#398811" title="Int">hi</a><span class="delimiter">)</span> <a href="#401081" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#401079" title="Int">t_lo</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#401077" title="Int">mid</a><span class="delimiter">)</span> <a href="../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#401080" title="Int">t_hi</a> <a href="../Int.scala.html#23928" title="(x: Int)Boolean">&gt;</a> <a href="#398811" title="Int">hi</a><span class="delimiter">)</span> <a href="../Boolean.scala.html#24724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../Boolean.scala.html#24721" title="=&gt; Boolean">!</a><a href="../Function2.scala.html#31698" title="(v1: K, v2: K)Boolean">f</a><span class="delimiter">(</span><a href="../Array.scala.html#23463" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#401080" title="Int">t_hi</a><span class="delimiter">)</span>, <a href="../Array.scala.html#23463" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#401079" title="Int">t_lo</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Array.scala.html#23464" title="(i: Int, x: K)Unit">scratch</a><span class="delimiter">(</span><a href="#401078" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#23463" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#401079" title="Int">t_lo</a><span class="delimiter">)</span>
          <a href="#401079" title="Int">t_lo</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Array.scala.html#23464" title="(i: Int, x: K)Unit">scratch</a><span class="delimiter">(</span><a href="#401078" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#23463" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#401080" title="Int">t_hi</a><span class="delimiter">)</span>
          <a href="#401080" title="Int">t_hi</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#401078" title="Int">k</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#401078" title="Int">k</a> = <a href="#398810" title="Int">lo</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#401078" title="Int">k</a> <a href="../Int.scala.html#23921" title="(x: Int)Boolean">&lt;=</a> <a href="#398811" title="Int">hi</a><span class="delimiter">)</span> <a href="#401238" title="()Unit" class="delimiter">{</a>
        <a href="../Array.scala.html#23464" title="(i: Int, x: K)Unit">a</a><span class="delimiter">(</span><a href="#401078" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#23463" title="(i: Int)K">scratch</a><span class="delimiter">(</span><a href="#401078" title="Int">k</a><span class="delimiter">)</span>
        <a href="#401078" title="Int">k</a> <a href="../Int.scala.html#23957" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>