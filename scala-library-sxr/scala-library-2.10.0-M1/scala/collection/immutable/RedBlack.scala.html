<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/collection/immutable/RedBlack.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2005-2011, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */



<span class="keyword">package</span> scala.collection
<span class="keyword">package</span> immutable

/** A base class containing the implementations for `TreeMaps` and `TreeSets`.
 *
 *  @since 2.3
 */
@SerialVersionUID<span class="delimiter">(</span><span class="long">8691885935445612921L</span><span class="delimiter">)</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RedBlack[A] extends Object with Serializable with ScalaObject" id="11801">RedBlack</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12342">A</a><span class="delimiter">]</span> <a href="../../ScalaObject.scala.html#460" title="ScalaObject" class="keyword">extends</a> <a href="../../Serializable.scala.html#886" title="Serializable">Serializable</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(x: A, y: A)Boolean" id="185372">isSmaller</a><span class="delimiter">(</span><a title="A" id="185394">x</a>: <a href="#12342" title="A">A</a>, <a title="A" id="185395">y</a>: <a href="#12342" title="A">A</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#64" title="Boolean">Boolean</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]" id="185373">blacken</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185375">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="185397">t</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#185397" title="RedBlack.this.Tree[B]">t</a> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="RedBlack.this.BlackTree[B]">RedTree</span><span class="delimiter">(</span><a title="A" id="185515">k</a>, <a title="B" id="185516">v</a>, <a title="RedBlack.this.Tree[B]" id="185517">l</a>, <a title="RedBlack.this.Tree[B]" id="185518">r</a><span class="delimiter">)</span> =&gt; <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#185515" title="A">k</a>, <a href="#185516" title="B">v</a>, <a href="#185517" title="RedBlack.this.Tree[B]">l</a>, <a href="#185518" title="RedBlack.this.Tree[B]">r</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="RedBlack.this.Tree[B]" id="185562">t</a> =&gt; <a href="#185562" title="RedBlack.this.Tree[B]">t</a>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](isBlack: Boolean, k: A, v: B, l: RedBlack.this.Tree[B], r: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product" id="185376">mkTree</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185378">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="185563">isBlack</a>: <a href="../../Boolean.scala.html#64" title="Boolean">Boolean</a>, <a title="A" id="185564">k</a>: <a href="#12342" title="A">A</a>, <a title="B" id="185565">v</a>: <a href="#185378" title="B">B</a>, <a title="RedBlack.this.Tree[B]" id="185566">l</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="185567">r</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">if</span> <span class="delimiter">(</span><a href="#185563" title="Boolean">isBlack</a><span class="delimiter">)</span> <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#185564" title="A">k</a>, <a href="#185565" title="B">v</a>, <a href="#185566" title="RedBlack.this.Tree[B]">l</a>, <a href="#185567" title="RedBlack.this.Tree[B]">r</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#185564" title="A">k</a>, <a href="#185565" title="B">v</a>, <a href="#185566" title="RedBlack.this.Tree[B]">l</a>, <a href="#185567" title="RedBlack.this.Tree[B]">r</a><span class="delimiter">)</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Tree[+B] extends Object with Serializable with ScalaObject" id="185379">Tree</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="185380">B</a><span class="delimiter">]</span> <a href="../../ScalaObject.scala.html#460" title="ScalaObject" class="keyword">extends</a> <a href="../../Serializable.scala.html#886" title="Serializable">Serializable</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="185401">isEmpty</a>: <a href="../../Boolean.scala.html#64" title="Boolean">Boolean</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="185402">isBlack</a>: <a href="../../Boolean.scala.html#64" title="Boolean">Boolean</a>
    <span class="keyword">def</span> <a title="(x: A)RedBlack.this.Tree[B]" id="185403">lookup</a><span class="delimiter">(</span><a title="A" id="185692">x</a>: <a href="#12342" title="A">A</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="[B1 &gt;: B](k: A, v: B1)RedBlack.this.Tree[B1]" id="185404">update</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="185406">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="185732">k</a>: <a href="#12342" title="A">A</a>, <a title="B1" id="185733">v</a>: <a href="#185406" title="B1">B1</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span> = <a href="#185373" title="(t: RedBlack.this.Tree[B1])RedBlack.this.Tree[B1]">blacken</a><span class="delimiter">(</span><a href="#185414" title="(k: A, v: B1)RedBlack.this.Tree[B1]">upd</a><span class="delimiter">(</span><a href="#185732" title="A">k</a>, <a href="#185733" title="B1">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[B]" id="185407">delete</a><span class="delimiter">(</span><a title="A" id="185745">k</a>: <a href="#12342" title="A">A</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#185373" title="(t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">blacken</a><span class="delimiter">(</span><a href="#185417" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#185745" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]" id="185408">range</a><span class="delimiter">(</span><a title="Option[A]" id="185750">from</a>: <a href="../../Option.scala.html#556" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="185751">until</a>: <a href="../../Option.scala.html#556" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#185373" title="(t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">blacken</a><span class="delimiter">(</span><a href="#185419" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="#185750" title="Option[A]">from</a>, <a href="#185751" title="Option[A]">until</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[U](f: (A, B) =&gt; U)Unit" id="185409">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185411">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, B) =&gt; U" id="185680">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt;  U<span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Stream[(A, B)]" id="185412">toStream</a>: <a href="Stream.scala.html#11252" title="scala.collection.immutable.Stream[(A, B)]">Stream</a><span class="delimiter">[</span><span class="delimiter">(</span>A,B<span class="delimiter">)</span><span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; Iterator[(A, B)]" id="185413">iterator</a>: <a href="../Iterator.scala.html#6700" title="Iterator[(A, B)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="[B1 &gt;: B](k: A, v: B1)RedBlack.this.Tree[B1]" id="185414">upd</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="185416">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="185647">k</a>: <a href="#12342" title="A">A</a>, <a title="B1" id="185648">v</a>: <a href="#185416" title="B1">B1</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[B]" id="185417">del</a><span class="delimiter">(</span><a title="A" id="185643">k</a>: <a href="#12342" title="A">A</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[B]" id="185418">smallest</a>: <a href="#185381" title="RedBlack.this.NonEmpty[B]">NonEmpty</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]" id="185419">rng</a><span class="delimiter">(</span><a title="Option[A]" id="185633">from</a>: <a href="../../Option.scala.html#556" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="185634">until</a>: <a href="../../Option.scala.html#556" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="185420">first</a> : <a href="#12342" title="A">A</a>
    <span class="keyword">def</span> <a title="=&gt; A" id="185421">last</a> : <a href="#12342" title="A">A</a>
    <span class="keyword">def</span> <a title="=&gt; Int" id="185422">count</a> : <a href="../../Int.scala.html#385" title="Int">Int</a>
  <span class="delimiter">}</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class NonEmpty[+B] extends RedBlack.this.Tree[B] with Serializable with ScalaObject" id="185381">NonEmpty</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="185382">B</a><span class="delimiter">]</span> <a href="../../ScalaObject.scala.html#460" title="ScalaObject" class="keyword">extends</a> <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../Serializable.scala.html#886" title="Serializable">Serializable</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="185429">isEmpty</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="185430">key</a>: <a href="#12342" title="A">A</a>
    <span class="keyword">def</span> <a title="=&gt; B" id="185431">value</a>: <a href="#185382" title="B">B</a>
    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.Tree[B]" id="185432">left</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.Tree[B]" id="185433">right</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[B]" id="185434">lookup</a><span class="delimiter">(</span><a title="A" id="185694">k</a>: <a href="#12342" title="A">A</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
      <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185694" title="A">k</a>, <a href="#185430" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185403" title="(x: A)RedBlack.this.Tree[B]">lookup</a><span class="delimiter">(</span><a href="#185694" title="A">k</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185694" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185403" title="(x: A)RedBlack.this.Tree[B]">lookup</a><span class="delimiter">(</span><a href="#185694" title="A">k</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#185381" title="RedBlack.this.NonEmpty[B]" class="keyword">this</a>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[B1 &gt;: B](isBlack: Boolean, z: A, zv: B, l: RedBlack.this.Tree[B1], d: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product" id="185435">balanceLeft</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="185437">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="185757">isBlack</a>: <a href="../../Boolean.scala.html#64" title="Boolean">Boolean</a>, <a title="A" id="185758">z</a>: <a href="#12342" title="A">A</a>, <a title="B" id="185759">zv</a>: <a href="#185382" title="B">B</a>, <a title="RedBlack.this.Tree[B1]" id="185760">l</a>: <a href="#185379" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B1]" id="185761">d</a>: <a href="#185379" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span><span class="delimiter">)</span>/*: NonEmpty[B1]*/ = <a href="#185760" title="RedBlack.this.Tree[B1]">l</a> <span title="RedBlack extends RedBlack.this.NonEmpty[B1] with Product" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B1]">RedTree</span><span class="delimiter">(</span><a title="A" id="185768">y</a>, <a title="B1" id="185769">yv</a>, RedTree<span class="delimiter">(</span><a title="A" id="185774">x</a>, <a title="B1" id="185775">xv</a>, <a title="RedBlack.this.Tree[B1]" id="185776">a</a>, <a title="RedBlack.this.Tree[B1]" id="185777">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B1]" id="185778">c</a><span class="delimiter">)</span> =&gt;
        <a href="#187697" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.RedTree[B1]">RedTree</a><span class="delimiter">(</span><a href="#185768" title="A">y</a>, <a href="#185769" title="B1">yv</a>, <a href="#187689" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#185774" title="A">x</a>, <a href="#185775" title="B1">xv</a>, <a href="#185776" title="RedBlack.this.Tree[B1]">a</a>, <a href="#185777" title="RedBlack.this.Tree[B1]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#185758" title="A">z</a>, <a href="#185759" title="B">zv</a>, <a href="#185778" title="RedBlack.this.Tree[B1]">c</a>, <a href="#185761" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B1]">RedTree</span><span class="delimiter">(</span><a title="A" id="185810">x</a>, <a title="B1" id="185811">xv</a>, <a title="RedBlack.this.Tree[B1]" id="185812">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="185817">y</a>, <a title="B1" id="185818">yv</a>, <a title="RedBlack.this.Tree[B1]" id="185819">b</a>, <a title="RedBlack.this.Tree[B1]" id="185820">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#187697" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.RedTree[B1]">RedTree</a><span class="delimiter">(</span><a href="#185817" title="A">y</a>, <a href="#185818" title="B1">yv</a>, <a href="#187689" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#185810" title="A">x</a>, <a href="#185811" title="B1">xv</a>, <a href="#185812" title="RedBlack.this.Tree[B1]">a</a>, <a href="#185819" title="RedBlack.this.Tree[B1]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#185758" title="A">z</a>, <a href="#185759" title="B">zv</a>, <a href="#185820" title="RedBlack.this.Tree[B1]">c</a>, <a href="#185761" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B1] with Product">_</span> =&gt;
        <a href="#185376" title="(isBlack: Boolean, k: A, v: B1, l: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">mkTree</a><span class="delimiter">(</span><a href="#185757" title="Boolean">isBlack</a>, <a href="#185758" title="A">z</a>, <a href="#185759" title="B">zv</a>, <a href="#185760" title="RedBlack.this.Tree[B1]">l</a>, <a href="#185761" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[B1 &gt;: B](isBlack: Boolean, x: A, xv: B, a: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product" id="185438">balanceRight</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="185440">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="185869">isBlack</a>: <a href="../../Boolean.scala.html#64" title="Boolean">Boolean</a>, <a title="A" id="185870">x</a>: <a href="#12342" title="A">A</a>, <a title="B" id="185871">xv</a>: <a href="#185382" title="B">B</a>, <a title="RedBlack.this.Tree[B1]" id="185872">a</a>: <a href="#185379" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B1]" id="185873">r</a>: <a href="#185379" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span><span class="delimiter">)</span>/*: NonEmpty[B1]*/ = <a href="#185873" title="RedBlack.this.Tree[B1]">r</a> <span title="RedBlack extends RedBlack.this.NonEmpty[B1] with Product" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B1]">RedTree</span><span class="delimiter">(</span><a title="A" id="185880">z</a>, <a title="B1" id="185881">zv</a>, RedTree<span class="delimiter">(</span><a title="A" id="185886">y</a>, <a title="B1" id="185887">yv</a>, <a title="RedBlack.this.Tree[B1]" id="185888">b</a>, <a title="RedBlack.this.Tree[B1]" id="185889">c</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B1]" id="185890">d</a><span class="delimiter">)</span> =&gt;
        <a href="#187697" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.RedTree[B1]">RedTree</a><span class="delimiter">(</span><a href="#185886" title="A">y</a>, <a href="#185887" title="B1">yv</a>, <a href="#187689" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#185870" title="A">x</a>, <a href="#185871" title="B">xv</a>, <a href="#185872" title="RedBlack.this.Tree[B1]">a</a>, <a href="#185888" title="RedBlack.this.Tree[B1]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#185880" title="A">z</a>, <a href="#185881" title="B1">zv</a>, <a href="#185889" title="RedBlack.this.Tree[B1]">c</a>, <a href="#185890" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B1]">RedTree</span><span class="delimiter">(</span><a title="A" id="185922">y</a>, <a title="B1" id="185923">yv</a>, <a title="RedBlack.this.Tree[B1]" id="185924">b</a>, RedTree<span class="delimiter">(</span><a title="A" id="185929">z</a>, <a title="B1" id="185930">zv</a>, <a title="RedBlack.this.Tree[B1]" id="185931">c</a>, <a title="RedBlack.this.Tree[B1]" id="185932">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#187697" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.RedTree[B1]">RedTree</a><span class="delimiter">(</span><a href="#185922" title="A">y</a>, <a href="#185923" title="B1">yv</a>, <a href="#187689" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#185870" title="A">x</a>, <a href="#185871" title="B">xv</a>, <a href="#185872" title="RedBlack.this.Tree[B1]">a</a>, <a href="#185924" title="RedBlack.this.Tree[B1]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#185929" title="A">z</a>, <a href="#185930" title="B1">zv</a>, <a href="#185931" title="RedBlack.this.Tree[B1]">c</a>, <a href="#185932" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B1] with Product">_</span> =&gt;
        <a href="#185376" title="(isBlack: Boolean, k: A, v: B1, l: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">mkTree</a><span class="delimiter">(</span><a href="#185869" title="Boolean">isBlack</a>, <a href="#185870" title="A">x</a>, <a href="#185871" title="B">xv</a>, <a href="#185872" title="RedBlack.this.Tree[B1]">a</a>, <a href="#185873" title="RedBlack.this.Tree[B1]">r</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[B1 &gt;: B](k: A, v: B1)RedBlack.this.Tree[B1]" id="185441">upd</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="185443">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="185655">k</a>: <a href="#12342" title="A">A</a>, <a title="B1" id="185656">v</a>: <a href="#185443" title="B1">B1</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="RedBlack.this.Tree[B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185655" title="A">k</a>, <a href="#185430" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#185435" title="(isBlack: Boolean, z: A, zv: B, l: RedBlack.this.Tree[B1], d: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">balanceLeft</a><span class="delimiter">(</span><a href="#185402" title="=&gt; Boolean">isBlack</a>, <a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185414" title="(k: A, v: B1)RedBlack.this.Tree[B1]">upd</a><span class="delimiter">(</span><a href="#185655" title="A">k</a>, <a href="#185656" title="B1">v</a><span class="delimiter">)</span>, <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="RedBlack.this.Tree[B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185655" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#185438" title="(isBlack: Boolean, x: A, xv: B, a: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">balanceRight</a><span class="delimiter">(</span><a href="#185402" title="=&gt; Boolean">isBlack</a>, <a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185414" title="(k: A, v: B1)RedBlack.this.Tree[B1]">upd</a><span class="delimiter">(</span><a href="#185655" title="A">k</a>, <a href="#185656" title="B1">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#185376" title="(isBlack: Boolean, k: A, v: B1, l: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">mkTree</a><span class="delimiter">(</span><a href="#185402" title="=&gt; Boolean">isBlack</a>, <a href="#185655" title="A">k</a>, <a href="#185656" title="B1">v</a>, <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    // Based on Stefan Kahrs' Haskell version of Okasaki's Red&amp;Black Trees
    // http://www.cse.unsw.edu.au/~dons/data/RedBlackTree.html
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[B]" id="185444">del</a><span class="delimiter">(</span><a title="A" id="185645">k</a>: <a href="#12342" title="A">A</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product" id="186039">balance</a><span class="delimiter">(</span><a title="A" id="186046">x</a>: <a href="#12342" title="A">A</a>, <a title="B" id="186047">xv</a>: <a href="#185382" title="B">B</a>, <a title="RedBlack.this.Tree[B]" id="186048">tl</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="186049">tr</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#29573" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#186048" title="RedBlack.this.Tree[B]">tl</a>, <a href="#186049" title="RedBlack.this.Tree[B]">tr</a><span class="delimiter">)</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="186062">y</a>, <a title="B" id="186063">yv</a>, <a title="RedBlack.this.Tree[B]" id="186064">a</a>, <a title="RedBlack.this.Tree[B]" id="186065">b</a><span class="delimiter">)</span>, RedTree<span class="delimiter">(</span><a title="A" id="186070">z</a>, <a title="B" id="186071">zv</a>, <a title="RedBlack.this.Tree[B]" id="186072">c</a>, <a title="RedBlack.this.Tree[B]" id="186073">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186046" title="A">x</a>, <a href="#186047" title="B">xv</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186062" title="A">y</a>, <a href="#186063" title="B">yv</a>, <a href="#186064" title="RedBlack.this.Tree[B]">a</a>, <a href="#186065" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186070" title="A">z</a>, <a href="#186071" title="B">zv</a>, <a href="#186072" title="RedBlack.this.Tree[B]">c</a>, <a href="#186073" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="186107">y</a>, <a title="B" id="186108">yv</a>, RedTree<span class="delimiter">(</span><a title="A" id="186113">z</a>, <a title="B" id="186114">zv</a>, <a title="RedBlack.this.Tree[B]" id="186115">a</a>, <a title="RedBlack.this.Tree[B]" id="186116">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186117">c</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186118">d</a><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186107" title="A">y</a>, <a href="#186108" title="B">yv</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186113" title="A">z</a>, <a href="#186114" title="B">zv</a>, <a href="#186115" title="RedBlack.this.Tree[B]">a</a>, <a href="#186116" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186046" title="A">x</a>, <a href="#186047" title="B">xv</a>, <a href="#186117" title="RedBlack.this.Tree[B]">c</a>, <a href="#186118" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="186152">y</a>, <a title="B" id="186153">yv</a>, <a title="RedBlack.this.Tree[B]" id="186154">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="186159">z</a>, <a title="B" id="186160">zv</a>, <a title="RedBlack.this.Tree[B]" id="186161">b</a>, <a title="RedBlack.this.Tree[B]" id="186162">c</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186163">d</a><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186159" title="A">z</a>, <a href="#186160" title="B">zv</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186152" title="A">y</a>, <a href="#186153" title="B">yv</a>, <a href="#186154" title="RedBlack.this.Tree[B]">a</a>, <a href="#186161" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186046" title="A">x</a>, <a href="#186047" title="B">xv</a>, <a href="#186162" title="RedBlack.this.Tree[B]">c</a>, <a href="#186163" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186193">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="186198">y</a>, <a title="B" id="186199">yv</a>, <a title="RedBlack.this.Tree[B]" id="186200">b</a>, RedTree<span class="delimiter">(</span><a title="A" id="186205">z</a>, <a title="B" id="186206">zv</a>, <a title="RedBlack.this.Tree[B]" id="186207">c</a>, <a title="RedBlack.this.Tree[B]" id="186208">d</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186198" title="A">y</a>, <a href="#186199" title="B">yv</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186046" title="A">x</a>, <a href="#186047" title="B">xv</a>, <a href="#186193" title="RedBlack.this.Tree[B]">a</a>, <a href="#186200" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186205" title="A">z</a>, <a href="#186206" title="B">zv</a>, <a href="#186207" title="RedBlack.this.Tree[B]">c</a>, <a href="#186208" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186238">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="186243">y</a>, <a title="B" id="186244">yv</a>, RedTree<span class="delimiter">(</span><a title="A" id="186249">z</a>, <a title="B" id="186250">zv</a>, <a title="RedBlack.this.Tree[B]" id="186251">b</a>, <a title="RedBlack.this.Tree[B]" id="186252">c</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186253">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186249" title="A">z</a>, <a href="#186250" title="B">zv</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186046" title="A">x</a>, <a href="#186047" title="B">xv</a>, <a href="#186238" title="RedBlack.this.Tree[B]">a</a>, <a href="#186251" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186243" title="A">y</a>, <a href="#186244" title="B">yv</a>, <a href="#186252" title="RedBlack.this.Tree[B]">c</a>, <a href="#186253" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.BlackTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186283">a</a>, <a title="RedBlack.this.Tree[B]" id="186284">b</a><span class="delimiter">)</span> =&gt;
          <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186046" title="A">x</a>, <a href="#186047" title="B">xv</a>, <a href="#186283" title="RedBlack.this.Tree[B]">a</a>, <a href="#186284" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(t: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]" id="186040">subl</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186323">t</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#186323" title="RedBlack.this.Tree[B]">t</a> <span title="RedBlack.this.RedTree[B]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">BlackTree</span><span class="delimiter">(</span><a title="A" id="186362">x</a>, <a title="B" id="186363">xv</a>, <a title="RedBlack.this.Tree[B]" id="186364">a</a>, <a title="RedBlack.this.Tree[B]" id="186365">b</a><span class="delimiter">)</span> =&gt; <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186362" title="A">x</a>, <a href="#186363" title="B">xv</a>, <a href="#186364" title="RedBlack.this.Tree[B]">a</a>, <a href="#186365" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; sys.<a href="../../sys/package.scala.html#22997" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation; expected black, got &quot;)" class="string">&quot;Defect: invariance violation; expected black, got &quot;</span><span title="(x$1: Any)String">+</span><a href="#186323" title="RedBlack.this.Tree[B]">t</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product" id="186041">balLeft</a><span class="delimiter">(</span><a title="A" id="186375">x</a>: <a href="#12342" title="A">A</a>, <a title="B" id="186376">xv</a>: <a href="#185382" title="B">B</a>, <a title="RedBlack.this.Tree[B]" id="186377">tl</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="186378">tr</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#29573" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#186377" title="RedBlack.this.Tree[B]">tl</a>, <a href="#186378" title="RedBlack.this.Tree[B]">tr</a><span class="delimiter">)</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="186391">y</a>, <a title="B" id="186392">yv</a>, <a title="RedBlack.this.Tree[B]" id="186393">a</a>, <a title="RedBlack.this.Tree[B]" id="186394">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186395">c</a><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186375" title="A">x</a>, <a href="#186376" title="B">xv</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186391" title="A">y</a>, <a href="#186392" title="B">yv</a>, <a href="#186393" title="RedBlack.this.Tree[B]">a</a>, <a href="#186394" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#186395" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186416">bl</a>, BlackTree<span class="delimiter">(</span><a title="A" id="186421">y</a>, <a title="B" id="186422">yv</a>, <a title="RedBlack.this.Tree[B]" id="186423">a</a>, <a title="RedBlack.this.Tree[B]" id="186424">b</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#186039" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balance</a><span class="delimiter">(</span><a href="#186375" title="A">x</a>, <a href="#186376" title="B">xv</a>, <a href="#186416" title="RedBlack.this.Tree[B]">bl</a>, <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186421" title="A">y</a>, <a href="#186422" title="B">yv</a>, <a href="#186423" title="RedBlack.this.Tree[B]">a</a>, <a href="#186424" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186436">bl</a>, RedTree<span class="delimiter">(</span><a title="A" id="186441">y</a>, <a title="B" id="186442">yv</a>, BlackTree<span class="delimiter">(</span><a title="A" id="186447">z</a>, <a title="B" id="186448">zv</a>, <a title="RedBlack.this.Tree[B]" id="186449">a</a>, <a title="RedBlack.this.Tree[B]" id="186450">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186451">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186447" title="A">z</a>, <a href="#186448" title="B">zv</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186375" title="A">x</a>, <a href="#186376" title="B">xv</a>, <a href="#186436" title="RedBlack.this.Tree[B]">bl</a>, <a href="#186449" title="RedBlack.this.Tree[B]">a</a><span class="delimiter">)</span>, <a href="#186039" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balance</a><span class="delimiter">(</span><a href="#186441" title="A">y</a>, <a href="#186442" title="B">yv</a>, <a href="#186450" title="RedBlack.this.Tree[B]">b</a>, <a href="#186040" title="(t: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">subl</a><span class="delimiter">(</span><a href="#186451" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; sys.<a href="../../sys/package.scala.html#22997" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation at &quot;)" class="string">&quot;Defect: invariance violation at &quot;</span><span title="(x$1: Any)String">+</span><a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product" id="186042">balRight</a><span class="delimiter">(</span><a title="A" id="186470">x</a>: <a href="#12342" title="A">A</a>, <a title="B" id="186471">xv</a>: <a href="#185382" title="B">B</a>, <a title="RedBlack.this.Tree[B]" id="186472">tl</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="186473">tr</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#29573" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#186472" title="RedBlack.this.Tree[B]">tl</a>, <a href="#186473" title="RedBlack.this.Tree[B]">tr</a><span class="delimiter">)</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186482">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="186487">y</a>, <a title="B" id="186488">yv</a>, <a title="RedBlack.this.Tree[B]" id="186489">b</a>, <a title="RedBlack.this.Tree[B]" id="186490">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186470" title="A">x</a>, <a href="#186471" title="B">xv</a>, <a href="#186482" title="RedBlack.this.Tree[B]">a</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186487" title="A">y</a>, <a href="#186488" title="B">yv</a>, <a href="#186489" title="RedBlack.this.Tree[B]">b</a>, <a href="#186490" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="delimiter">(</span>BlackTree<span class="delimiter">(</span><a title="A" id="186515">y</a>, <a title="B" id="186516">yv</a>, <a title="RedBlack.this.Tree[B]" id="186517">a</a>, <a title="RedBlack.this.Tree[B]" id="186518">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186519">bl</a><span class="delimiter">)</span> =&gt;
          <a href="#186039" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balance</a><span class="delimiter">(</span><a href="#186470" title="A">x</a>, <a href="#186471" title="B">xv</a>, <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186515" title="A">y</a>, <a href="#186516" title="B">yv</a>, <a href="#186517" title="RedBlack.this.Tree[B]">a</a>, <a href="#186518" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#186519" title="RedBlack.this.Tree[B]">bl</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="186535">y</a>, <a title="B" id="186536">yv</a>, <a title="RedBlack.this.Tree[B]" id="186537">a</a>, BlackTree<span class="delimiter">(</span><a title="A" id="186542">z</a>, <a title="B" id="186543">zv</a>, <a title="RedBlack.this.Tree[B]" id="186544">b</a>, <a title="RedBlack.this.Tree[B]" id="186545">c</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186546">bl</a><span class="delimiter">)</span> =&gt;
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186542" title="A">z</a>, <a href="#186543" title="B">zv</a>, <a href="#186039" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balance</a><span class="delimiter">(</span><a href="#186535" title="A">y</a>, <a href="#186536" title="B">yv</a>, <a href="#186040" title="(t: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">subl</a><span class="delimiter">(</span><a href="#186537" title="RedBlack.this.Tree[B]">a</a><span class="delimiter">)</span>, <a href="#186544" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186470" title="A">x</a>, <a href="#186471" title="B">xv</a>, <a href="#186545" title="RedBlack.this.Tree[B]">c</a>, <a href="#186546" title="RedBlack.this.Tree[B]">bl</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; sys.<a href="../../sys/package.scala.html#22997" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation at &quot;)" class="string">&quot;Defect: invariance violation at &quot;</span><span title="(x$1: Any)String">+</span><a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[B] with Product" id="186043">delLeft</a> = <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product">_</span>: <a href="#187689" title="RedBlack.this.BlackTree[_]">BlackTree</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#186041" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balLeft</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185417" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#185645" title="A">k</a><span class="delimiter">)</span>, <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">_</span> =&gt; <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185417" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#185645" title="A">k</a><span class="delimiter">)</span>, <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[B] with Product" id="186044">delRight</a> = <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product">_</span>: <a href="#187689" title="RedBlack.this.BlackTree[_]">BlackTree</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#186042" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balRight</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185417" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#185645" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">_</span> =&gt; <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185417" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#185645" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]" id="186045">append</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186585">tl</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="186586">tr</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="../../Tuple2.scala.html#29573" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#186585" title="RedBlack.this.Tree[B]">tl</a>, <a href="#186586" title="RedBlack.this.Tree[B]">tr</a><span class="delimiter">)</span> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]" class="delimiter">(</span><a href="#187531" title="object RedBlack.this.Empty">Empty</a>, <a title="RedBlack.this.Tree[B]" id="186613">t</a><span class="delimiter">)</span> =&gt; <a href="#186613" title="RedBlack.this.Tree[B]">t</a>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186616">t</a>, <a href="#187531" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> =&gt; <a href="#186616" title="RedBlack.this.Tree[B]">t</a>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="186623">x</a>, <a title="B" id="186624">xv</a>, <a title="RedBlack.this.Tree[B]" id="186625">a</a>, <a title="RedBlack.this.Tree[B]" id="186626">b</a><span class="delimiter">)</span>, RedTree<span class="delimiter">(</span><a title="A" id="186631">y</a>, <a title="B" id="186632">yv</a>, <a title="RedBlack.this.Tree[B]" id="186633">c</a>, <a title="RedBlack.this.Tree[B]" id="186634">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#186045" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#186626" title="RedBlack.this.Tree[B]">b</a>, <a href="#186633" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">RedTree</span><span class="delimiter">(</span><a title="A" id="186639">z</a>, <a title="B" id="186640">zv</a>, <a title="RedBlack.this.Tree[B]" id="186641">bb</a>, <a title="RedBlack.this.Tree[B]" id="186642">cc</a><span class="delimiter">)</span> =&gt; <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186639" title="A">z</a>, <a href="#186640" title="B">zv</a>, <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186623" title="A">x</a>, <a href="#186624" title="B">xv</a>, <a href="#186625" title="RedBlack.this.Tree[B]">a</a>, <a href="#186641" title="RedBlack.this.Tree[B]">bb</a><span class="delimiter">)</span>, <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186631" title="A">y</a>, <a href="#186632" title="B">yv</a>, <a href="#186642" title="RedBlack.this.Tree[B]">cc</a>, <a href="#186634" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="RedBlack.this.RedTree[B]" id="186670">bc</a> =&gt; <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186623" title="A">x</a>, <a href="#186624" title="B">xv</a>, <a href="#186625" title="RedBlack.this.Tree[B]">a</a>, <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186631" title="A">y</a>, <a href="#186632" title="B">yv</a>, <a href="#186670" title="RedBlack.this.Tree[B]">bc</a>, <a href="#186634" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]" class="delimiter">(</span>BlackTree<span class="delimiter">(</span><a title="A" id="186695">x</a>, <a title="B" id="186696">xv</a>, <a title="RedBlack.this.Tree[B]" id="186697">a</a>, <a title="RedBlack.this.Tree[B]" id="186698">b</a><span class="delimiter">)</span>, BlackTree<span class="delimiter">(</span><a title="A" id="186703">y</a>, <a title="B" id="186704">yv</a>, <a title="RedBlack.this.Tree[B]" id="186705">c</a>, <a title="RedBlack.this.Tree[B]" id="186706">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#186045" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#186698" title="RedBlack.this.Tree[B]">b</a>, <a href="#186705" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">RedTree</span><span class="delimiter">(</span><a title="A" id="186711">z</a>, <a title="B" id="186712">zv</a>, <a title="RedBlack.this.Tree[B]" id="186713">bb</a>, <a title="RedBlack.this.Tree[B]" id="186714">cc</a><span class="delimiter">)</span> =&gt; <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186711" title="A">z</a>, <a href="#186712" title="B">zv</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186695" title="A">x</a>, <a href="#186696" title="B">xv</a>, <a href="#186697" title="RedBlack.this.Tree[B]">a</a>, <a href="#186713" title="RedBlack.this.Tree[B]">bb</a><span class="delimiter">)</span>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186703" title="A">y</a>, <a href="#186704" title="B">yv</a>, <a href="#186714" title="RedBlack.this.Tree[B]">cc</a>, <a href="#186706" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" id="186742">bc</a> =&gt; <a href="#186041" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balLeft</a><span class="delimiter">(</span><a href="#186695" title="A">x</a>, <a href="#186696" title="B">xv</a>, <a href="#186697" title="RedBlack.this.Tree[B]">a</a>, <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#186703" title="A">y</a>, <a href="#186704" title="B">yv</a>, <a href="#186742" title="RedBlack.this.Tree[B]">bc</a>, <a href="#186706" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="186754">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="186759">x</a>, <a title="B" id="186760">xv</a>, <a title="RedBlack.this.Tree[B]" id="186761">b</a>, <a title="RedBlack.this.Tree[B]" id="186762">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186759" title="A">x</a>, <a href="#186760" title="B">xv</a>, <a href="#186045" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#186754" title="RedBlack.this.Tree[B]">a</a>, <a href="#186761" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#186762" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="186778">x</a>, <a title="B" id="186779">xv</a>, <a title="RedBlack.this.Tree[B]" id="186780">a</a>, <a title="RedBlack.this.Tree[B]" id="186781">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="186782">c</a><span class="delimiter">)</span> =&gt; <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#186778" title="A">x</a>, <a href="#186779" title="B">xv</a>, <a href="#186780" title="RedBlack.this.Tree[B]">a</a>, <a href="#186045" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#186781" title="RedBlack.this.Tree[B]">b</a>, <a href="#186782" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      // RedBlack is neither A : Ordering[A], nor A &lt;% Ordered[A]
      <a href="#185645" title="A">k</a> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product">_</span> <span class="keyword">if</span> <a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185645" title="A">k</a>, <a href="#185430" title="=&gt; A">key</a><span class="delimiter">)</span> =&gt; <a href="#186043" title="=&gt; RedBlack.this.NonEmpty[B] with Product">delLeft</a>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product">_</span> <span class="keyword">if</span> <a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185645" title="A">k</a><span class="delimiter">)</span> =&gt; <a href="#186044" title="=&gt; RedBlack.this.NonEmpty[B] with Product">delRight</a>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]">_</span> =&gt; <a href="#186045" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[B]" id="185445">smallest</a>: <a href="#185381" title="RedBlack.this.NonEmpty[B]">NonEmpty</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span title="RedBlack.this.NonEmpty[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185401" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#185381" title="RedBlack.this.NonEmpty[B]" class="keyword">this</a> <span class="keyword">else</span> <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185418" title="=&gt; RedBlack.this.NonEmpty[B]">smallest</a>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Stream[(A, B)]" id="185446">toStream</a>: <a href="Stream.scala.html#11252" title="scala.collection.immutable.Stream[(A, B)]">Stream</a><span class="delimiter">[</span><span class="delimiter">(</span>A,B<span class="delimiter">)</span><span class="delimiter">]</span> =
      <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185412" title="=&gt; scala.collection.immutable.Stream[(A, B)]">toStream</a> <a href="Stream.scala.html#94108" title="(that: scala.collection.GenTraversableOnce[(A, B)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[(A, B)],(A, B),scala.collection.immutable.Stream[(A, B)]])scala.collection.immutable.Stream[(A, B)]">++</a> <a href="Stream.scala.html#105611" title="(xs: (A, B)*)scala.collection.immutable.Stream[(A, B)]">Stream</a><span class="delimiter">(</span><a href="../../Tuple2.scala.html#29573" title="(_1: A, _2: B)(A, B)" class="delimiter">(</a><a href="#185430" title="=&gt; A">key</a>,<a href="#185431" title="=&gt; B">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Stream.scala.html#94108" title="(that: scala.collection.GenTraversableOnce[(A, B)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[(A, B)],(A, B),scala.collection.immutable.Stream[(A, B)]])scala.collection.immutable.Stream[(A, B)]">++</a> <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185412" title="=&gt; scala.collection.immutable.Stream[(A, B)]">toStream</a>

    <span class="keyword">def</span> <a title="=&gt; Iterator[(A, B)]" id="185447">iterator</a>: <a href="../Iterator.scala.html#6700" title="Iterator[(A, B)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span> =
      <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185413" title="=&gt; Iterator[(A, B)]">iterator</a> <a href="../Iterator.scala.html#31024" title="(that: =&gt; scala.collection.GenTraversableOnce[(A, B)])Iterator[(A, B)]">++</a> <a href="../Iterator.scala.html#6701" title="object Iterator">Iterator</a>.<a href="../Iterator.scala.html#54989" title="(elem: (A, B))Iterator[(A, B)]">single</a><span class="delimiter">(</span><a href="../../Predef.scala.html#29706" title="(x: A, y: B)(A, B)">Pair</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Iterator.scala.html#31024" title="(that: =&gt; scala.collection.GenTraversableOnce[(A, B)])Iterator[(A, B)]">++</a> <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185413" title="=&gt; Iterator[(A, B)]">iterator</a>

    <span class="keyword">def</span> <a title="[U](f: (A, B) =&gt; U)Unit" id="185448">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185450">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, B) =&gt; U" id="185684">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a> <a href="#185409" title="(f: (A, B) =&gt; U)Unit">foreach</a> <a href="#185684" title="(A, B) =&gt; U">f</a>
      <a href="../../Function2.scala.html#31698" title="(v1: A, v2: B)U">f</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a><span class="delimiter">)</span>
      <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a> <a href="#185409" title="(f: (A, B) =&gt; U)Unit">foreach</a> <a href="#185684" title="(A, B) =&gt; U">f</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]" id="185451">rng</a><span class="delimiter">(</span><a title="Option[A]" id="185636">from</a>: <a href="../../Option.scala.html#556" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="185637">until</a>: <a href="../../Option.scala.html#556" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#185636" title="Option[A]">from</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../Option.scala.html#1700" title="object None">None</a> <a href="../../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#185637" title="Option[A]">until</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../Option.scala.html#1700" title="object None">None</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#185381" title="RedBlack.this.NonEmpty[B]" class="keyword">this</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#185636" title="Option[A]">from</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../Option.scala.html#1700" title="object None">None</a> <a href="../../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185636" title="Option[A]">from</a>.<a href="../../Option.scala.html#29582" title="=&gt; A">get</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185419" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="#185636" title="Option[A]">from</a>, <a href="#185637" title="Option[A]">until</a><span class="delimiter">)</span>;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#185637" title="Option[A]">until</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../Option.scala.html#1700" title="object None">None</a> <a href="../../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185637" title="Option[A]">until</a>.<a href="../../Option.scala.html#29582" title="=&gt; A">get</a>,<a href="#185430" title="=&gt; A">key</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#24724" title="(x: Boolean)Boolean">||</a> <a href="../../Boolean.scala.html#24721" title="=&gt; Boolean">!</a><a href="#185372" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>,<a href="#185637" title="Option[A]">until</a>.<a href="../../Option.scala.html#29582" title="=&gt; A">get</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185419" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="#185636" title="Option[A]">from</a>, <a href="#185637" title="Option[A]">until</a><span class="delimiter">)</span>;
      <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187092">newLeft</a> = <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185419" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="#185636" title="Option[A]">from</a>, <a href="../../Option.scala.html#1700" title="object None">None</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187093">newRight</a> = <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185419" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="../../Option.scala.html#1700" title="object None">None</a>, <a href="#185637" title="Option[A]">until</a><span class="delimiter">)</span>
      <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#187092" title="RedBlack.this.Tree[B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#24725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#187093" title="RedBlack.this.Tree[B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#185381" title="RedBlack.this.NonEmpty[B]" class="keyword">this</a>
      <span class="keyword">else</span> <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187092" title="RedBlack.this.Tree[B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#187531" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> <a href="#187093" title="RedBlack.this.Tree[B]">newRight</a>.<a href="#185414" title="(k: A, v: B)RedBlack.this.Tree[B]">upd</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a><span class="delimiter">)</span>;
      <span class="keyword">else</span> <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187093" title="RedBlack.this.Tree[B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#187531" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> <a href="#187092" title="RedBlack.this.Tree[B]">newLeft</a>.<a href="#185414" title="(k: A, v: B)RedBlack.this.Tree[B]">upd</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a><span class="delimiter">)</span>;
      <span class="keyword">else</span> <a href="#185453" title="(newLeft: RedBlack.this.Tree[B], newRight: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">rebalance</a><span class="delimiter">(</span><a href="#187092" title="RedBlack.this.Tree[B]">newLeft</a>, <a href="#187093" title="RedBlack.this.Tree[B]">newRight</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // The zipper returned might have been traversed left-most (always the left child)
    // or right-most (always the right child). Left trees are traversed right-most,
    // and right trees are traversed leftmost.

    // Returns the zipper for the side with deepest black nodes depth, a flag
    // indicating whether the trees were unbalanced at all, and a flag indicating
    // whether the zipper was traversed left-most or right-most.

    // If the trees were balanced, returns an empty zipper
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" id="185452">compareDepth</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="187166">left</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="187167">right</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Tuple4.scala.html#1741" title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a>List<span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, Boolean, Boolean, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
      // Once a side is found to be deeper, unzip it to the bottom
      <span class="keyword">def</span> <a title="(zipper: List[RedBlack.this.NonEmpty[B]], leftMost: Boolean)List[RedBlack.this.NonEmpty[B]]" id="187272">unzip</a><span class="delimiter">(</span><a title="List[RedBlack.this.NonEmpty[B]]" id="187274">zipper</a>: <a href="List.scala.html#12053" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="187275">leftMost</a>: <a href="../../Boolean.scala.html#64" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="List.scala.html#12053" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187276">next</a> = <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187275" title="Boolean">leftMost</a><span class="delimiter">)</span> <a href="#187274" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>.<a href="../IterableLike.scala.html#25304" title="=&gt; RedBlack.this.NonEmpty[B]">head</a>.<a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a> <span class="keyword">else</span> <a href="#187274" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>.<a href="../IterableLike.scala.html#25304" title="=&gt; RedBlack.this.NonEmpty[B]">head</a>.<a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>
        <a href="#187276" title="RedBlack.this.Tree[B]">next</a> <span title="List[RedBlack.this.NonEmpty[B]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[RedBlack.this.NonEmpty[B]]" id="187277">node</a>: <a href="#185381" title="RedBlack.this.NonEmpty[_]">NonEmpty</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#187272" title="(zipper: List[RedBlack.this.NonEmpty[B]], leftMost: Boolean)List[RedBlack.this.NonEmpty[B]]">unzip</a><span class="delimiter">(</span><a href="#187277" title="RedBlack.this.NonEmpty[_]">node</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187274" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>, <a href="#187275" title="Boolean">leftMost</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#187531" title="List[RedBlack.this.NonEmpty[B]]">Empty</a>             =&gt; <a href="#187274" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // Unzip left tree on the rightmost side and right tree on the leftmost side until one is
      // found to be deeper, or the bottom is reached
      <span class="keyword">def</span> <a title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" id="187273">unzipBoth</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="187285">left</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>,
                    <a title="RedBlack.this.Tree[B]" id="187286">right</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>,
                    <a title="List[RedBlack.this.NonEmpty[B]]" id="187287">leftZipper</a>: <a href="List.scala.html#12053" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>,
                    <a title="List[RedBlack.this.NonEmpty[B]]" id="187288">rightZipper</a>: <a href="List.scala.html#12053" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>,
                    <a title="Int" id="187289">smallerDepth</a>: <a href="../../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Tuple4.scala.html#1741" title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a>List<span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, Boolean, Boolean, Int<span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#29573" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#187285" title="RedBlack.this.Tree[B]">left</a>, <a href="#187286" title="RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a title="RedBlack.this.BlackTree[B]" id="187298">l</a> @ BlackTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>, <a title="RedBlack.this.BlackTree[B]" id="187303">r</a> @ BlackTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#187273" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#187298" title="RedBlack.this.BlackTree[B]">l</a>.<a href="#185547" title="=&gt; RedBlack.this.Tree[B]">right</a>, <a href="#187303" title="RedBlack.this.BlackTree[B]">r</a>.<a href="#185546" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187298" title="RedBlack.this.BlackTree[B]">l</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187287" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#187303" title="RedBlack.this.BlackTree[B]">r</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187288" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#187289" title="Int">smallerDepth</a> <a href="../../Int.scala.html#23957" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a title="RedBlack.this.RedTree[B]" id="187326">l</a> @ RedTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>, <a title="RedBlack.this.RedTree[B]" id="187331">r</a> @ RedTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#187273" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#187326" title="RedBlack.this.RedTree[B]">l</a>.<a href="#185582" title="=&gt; RedBlack.this.Tree[B]">right</a>, <a href="#187331" title="RedBlack.this.RedTree[B]">r</a>.<a href="#185581" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187326" title="RedBlack.this.RedTree[B]">l</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187287" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#187331" title="RedBlack.this.RedTree[B]">r</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187288" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#187289" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span>_, <a title="RedBlack.this.RedTree[B]" id="187350">r</a> @ RedTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#187273" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#187285" title="RedBlack.this.Tree[B]">left</a>, <a href="#187350" title="RedBlack.this.RedTree[B]">r</a>.<a href="#185581" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187287" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#187350" title="RedBlack.this.RedTree[B]">r</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187288" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#187289" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a title="RedBlack.this.RedTree[B]" id="187361">l</a> @ RedTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt;
          <a href="#187273" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#187361" title="RedBlack.this.RedTree[B]">l</a>.<a href="#185582" title="=&gt; RedBlack.this.Tree[B]">right</a>, <a href="#187286" title="RedBlack.this.Tree[B]">right</a>, <a href="#187361" title="RedBlack.this.RedTree[B]">l</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187287" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#187288" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#187289" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, Boolean, Boolean, Int)" class="delimiter">(</span><a href="#187531" title="object RedBlack.this.Empty">Empty</a>, <a href="#187531" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> =&gt;
          <a href="../../Tuple4.scala.html#39343" title="(_1: scala.collection.immutable.Nil.type, _2: Boolean, _3: Boolean, _4: Int)(scala.collection.immutable.Nil.type, Boolean, Boolean, Int)" class="delimiter">(</a><a href="List.scala.html#11712" title="object Nil">Nil</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#187289" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a href="#187531" title="object RedBlack.this.Empty">Empty</a>, <a title="RedBlack.this.BlackTree[B]" id="187388">r</a> @ BlackTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="187393">leftMost</a> = <span title="Boolean(true)" class="keyword">true</span>
          <a href="../../Tuple4.scala.html#39343" title="(_1: List[RedBlack.this.NonEmpty[B]], _2: Boolean, _3: Boolean, _4: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="#187272" title="(zipper: List[RedBlack.this.NonEmpty[B]], leftMost: Boolean)List[RedBlack.this.NonEmpty[B]]">unzip</a><span class="delimiter">(</span><a href="#187388" title="RedBlack.this.BlackTree[B]">r</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187288" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#187393" title="Boolean">leftMost</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#187393" title="Boolean">leftMost</a>, <a href="#187289" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a title="RedBlack.this.BlackTree[B]" id="187414">l</a> @ BlackTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>, <a href="#187531" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="187419">leftMost</a> = <span title="Boolean(false)" class="keyword">false</span>
          <a href="../../Tuple4.scala.html#39343" title="(_1: List[RedBlack.this.NonEmpty[B]], _2: Boolean, _3: Boolean, _4: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="#187272" title="(zipper: List[RedBlack.this.NonEmpty[B]], leftMost: Boolean)List[RedBlack.this.NonEmpty[B]]">unzip</a><span class="delimiter">(</span><a href="#187414" title="RedBlack.this.BlackTree[B]">l</a> <a href="List.scala.html#23415" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#187287" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#187419" title="Boolean">leftMost</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#187419" title="Boolean">leftMost</a>, <a href="#187289" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#187273" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#187166" title="RedBlack.this.Tree[B]">left</a>, <a href="#187167" title="RedBlack.this.Tree[B]">right</a>, <a href="List.scala.html#11712" title="object Nil">Nil</a>, <a href="List.scala.html#11712" title="object Nil">Nil</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(newLeft: RedBlack.this.Tree[B], newRight: RedBlack.this.Tree[B])RedBlack.this.Tree[B]" id="185453">rebalance</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="187126">newLeft</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="187127">newRight</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      // This is like drop(n-1), but only counting black nodes
      <span class="keyword">def</span>  <a title="(zipper: List[RedBlack.this.NonEmpty[B]], depth: Int)List[RedBlack.this.NonEmpty[B]]" id="187130">findDepth</a><span class="delimiter">(</span><a title="List[RedBlack.this.NonEmpty[B]]" id="187138">zipper</a>: <a href="List.scala.html#12053" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="187139">depth</a>: <a href="../../Int.scala.html#385" title="Int">Int</a><span class="delimiter">)</span>: <a href="List.scala.html#12053" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#187138" title="List[RedBlack.this.NonEmpty[B]]">zipper</a> <span title="List[RedBlack.this.NonEmpty[B]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[RedBlack.this.NonEmpty[B]]">BlackTree</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> :: <a title="List[RedBlack.this.NonEmpty[B]]" id="187148">tail</a> =&gt;
          <span title="List[RedBlack.this.NonEmpty[B]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187139" title="Int">depth</a> <a href="../../Int.scala.html#23900" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#187138" title="List[RedBlack.this.NonEmpty[B]]">zipper</a> <span class="keyword">else</span> <a href="#187130" title="(zipper: List[RedBlack.this.NonEmpty[B]], depth: Int)List[RedBlack.this.NonEmpty[B]]">findDepth</a><span class="delimiter">(</span><a href="#187148" title="List[RedBlack.this.NonEmpty[B]]">tail</a>, <a href="#187139" title="Int">depth</a> <a href="../../Int.scala.html#23964" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="List[RedBlack.this.NonEmpty[B]]">_</span> :: <a title="List[RedBlack.this.NonEmpty[B]]" id="187159">tail</a> =&gt; <a href="#187130" title="(zipper: List[RedBlack.this.NonEmpty[B]], depth: Int)List[RedBlack.this.NonEmpty[B]]">findDepth</a><span class="delimiter">(</span><a href="#187159" title="List[RedBlack.this.NonEmpty[B]]">tail</a>, <a href="#187139" title="Int">depth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="List.scala.html#11712" title="Nothing">Nil</a> =&gt; sys.<a href="../../sys/package.scala.html#22997" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: unexpected empty zipper while computing range&quot;)" class="string">&quot;Defect: unexpected empty zipper while computing range&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // Blackening the smaller tree avoids balancing problems on union;
      // this can't be done later, though, or it would change the result of compareDepth
      <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187131">blkNewLeft</a> = <a href="#185373" title="(t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">blacken</a><span class="delimiter">(</span><a href="#187126" title="RedBlack.this.Tree[B]">newLeft</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187132">blkNewRight</a> = <a href="#185373" title="(t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">blacken</a><span class="delimiter">(</span><a href="#187127" title="RedBlack.this.Tree[B]">newRight</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="../../Tuple4.scala.html#39343" title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="../../Tuple4.scala.html#35794" title="List[RedBlack.this.NonEmpty[B]]" id="187134">zipper</a>, <a href="../../Tuple4.scala.html#35796" title="Boolean" id="187135">levelled</a>, <a href="../../Tuple4.scala.html#35798" title="Boolean" id="187136">leftMost</a>, <a href="../../Tuple4.scala.html#35800" title="Int" id="187137">smallerDepth</a><span class="delimiter">)</span> = <a href="#185452" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">compareDepth</a><a href="../../Tuple4.scala.html#1741" title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int) @unchecked" class="delimiter">(</a><a href="#187131" title="RedBlack.this.Tree[B]">blkNewLeft</a>, <a href="#187132" title="RedBlack.this.Tree[B]">blkNewRight</a><span class="delimiter">)</span>

      <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187135" title="Boolean">levelled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#187689" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#187131" title="RedBlack.this.Tree[B]">blkNewLeft</a>, <a href="#187132" title="RedBlack.this.Tree[B]">blkNewRight</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RedBlack.this.NonEmpty[B]]" id="187198">zipFrom</a> = <a href="#187130" title="(zipper: List[RedBlack.this.NonEmpty[B]], depth: Int)List[RedBlack.this.NonEmpty[B]]">findDepth</a><span class="delimiter">(</span><a href="#187134" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>, <a href="#187137" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RedBlack.this.RedTree[B]" id="187199">union</a> = <span title="RedBlack.this.RedTree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187136" title="Boolean">leftMost</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#187131" title="RedBlack.this.Tree[B]">blkNewLeft</a>, <a href="#187198" title="List[RedBlack.this.NonEmpty[B]]">zipFrom</a>.<a href="../IterableLike.scala.html#25304" title="=&gt; RedBlack.this.NonEmpty[B]">head</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#185430" title="=&gt; A">key</a>, <a href="#185431" title="=&gt; B">value</a>, <a href="#187198" title="List[RedBlack.this.NonEmpty[B]]">zipFrom</a>.<a href="../IterableLike.scala.html#25304" title="=&gt; RedBlack.this.NonEmpty[B]">head</a>, <a href="#187132" title="RedBlack.this.Tree[B]">blkNewRight</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187200">zippedTree</a> = <a href="#187198" title="List[RedBlack.this.NonEmpty[B]]">zipFrom</a>.<a href="../TraversableLike.scala.html#23368" title="=&gt; List[RedBlack.this.NonEmpty[B]]">tail</a>.<a href="../LinearSeqOptimized.scala.html#42014" title="(z: RedBlack.this.Tree[B])(f: (RedBlack.this.Tree[B], RedBlack.this.NonEmpty[B]) =&gt; RedBlack.this.Tree[B])RedBlack.this.Tree[B]">foldLeft</a><span class="delimiter">(</span><a href="#187199" title="RedBlack.this.RedTree[B]">union</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="187240">tree</a>, <a title="RedBlack.this.NonEmpty[B]" id="187241">node</a><span class="delimiter">)</span> =&gt;
            <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187136" title="Boolean">leftMost</a><span class="delimiter">)</span>
              <a href="#185435" title="(isBlack: Boolean, z: A, zv: B, l: RedBlack.this.Tree[B], d: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balanceLeft</a><span class="delimiter">(</span><a href="#187241" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#185402" title="=&gt; Boolean">isBlack</a>, <a href="#187241" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#185430" title="=&gt; A">key</a>, <a href="#187241" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#185431" title="=&gt; B">value</a>, <a href="#187240" title="RedBlack.this.Tree[B]">tree</a>, <a href="#187241" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#185438" title="(isBlack: Boolean, x: A, xv: B, a: RedBlack.this.Tree[B], r: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balanceRight</a><span class="delimiter">(</span><a href="#187241" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#185402" title="=&gt; Boolean">isBlack</a>, <a href="#187241" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#185430" title="=&gt; A">key</a>, <a href="#187241" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#185431" title="=&gt; B">value</a>, <a href="#187241" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187240" title="RedBlack.this.Tree[B]">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#187200" title="RedBlack.this.Tree[B]">zippedTree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="185454">first</a> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a> .<a href="#185401" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#185430" title="=&gt; A">key</a> <span class="keyword">else</span> <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185420" title="=&gt; A">first</a>
    <span class="keyword">def</span> <a title="=&gt; A" id="185455">last</a>  = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185401" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#185430" title="=&gt; A">key</a> <span class="keyword">else</span> <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185421" title="=&gt; A">last</a>
    <span class="keyword">def</span> <a title="=&gt; Int" id="185456">count</a> = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#185432" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#185422" title="=&gt; Int">count</a> <a href="../../Int.scala.html#23957" title="(x: Int)Int">+</a> <a href="#185433" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#185422" title="=&gt; Int">count</a>
  <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#187523" title="object RedBlack.this.Empty" id="187531">Empty</a> <a href="../../ScalaObject.scala.html#460" title="ScalaObject" class="keyword">extends</a> <a href="#185379" title="RedBlack.this.Tree[Nothing]">Tree</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="186596">isEmpty</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="186597">isBlack</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[Nothing]" id="186598">lookup</a><span class="delimiter">(</span><a title="A" id="187445">k</a>: <a href="#12342" title="A">A</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[Nothing]">Tree</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> = <span class="keyword">this</span>
    <span class="keyword">def</span> <a title="[B](k: A, v: B)RedBlack.this.Tree[B]" id="186599">upd</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="186601">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="187447">k</a>: <a href="#12342" title="A">A</a>, <a title="B" id="187448">v</a>: <a href="#186601" title="B">B</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#187697" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#187447" title="A">k</a>, <a href="#187448" title="B">v</a>, <a href="#187531" title="object RedBlack.this.Empty">Empty</a>, <a href="#187531" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[Nothing]" id="186602">del</a><span class="delimiter">(</span><a title="A" id="187468">k</a>: <a href="#12342" title="A">A</a><span class="delimiter">)</span>: <a href="#185379" title="RedBlack.this.Tree[Nothing]">Tree</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> = <span class="keyword">this</span>
    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[Nothing]" id="186603">smallest</a>: <a href="#185381" title="RedBlack.this.NonEmpty[Nothing]">NonEmpty</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#22874" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Iterator[(A, Nothing)]" id="186604">iterator</a>: <a href="../Iterator.scala.html#6700" title="Iterator[(A, Nothing)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>A, Nothing<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../Iterator.scala.html#6701" title="object Iterator">Iterator</a>.<a href="../Iterator.scala.html#54987" title="=&gt; Iterator[Nothing]">empty</a>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Stream[(A, Nothing)]" id="186605">toStream</a>: <a href="Stream.scala.html#11252" title="scala.collection.immutable.Stream[(A, Nothing)]">Stream</a><span class="delimiter">[</span><span class="delimiter">(</span>A,Nothing<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="Stream.scala.html#11253" title="object scala.collection.immutable.Stream">Stream</a>.<a href="Stream.scala.html#105608" title="scala.collection.immutable.Stream[Nothing]">empty</a>

    <span class="keyword">def</span> <a title="[U](f: (A, Nothing) =&gt; U)Unit" id="186606">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="186608">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, Nothing) =&gt; U" id="187497">f</a>: <span class="delimiter">(</span>A, Nothing<span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(from: Option[A], until: Option[A])RedBlack.this.Empty.type" id="186609">rng</a><span class="delimiter">(</span><a title="Option[A]" id="187503">from</a>: <a href="../../Option.scala.html#556" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="187504">until</a>: <a href="../../Option.scala.html#556" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="keyword">this</span>
    <span class="keyword">def</span> <a title="=&gt; Nothing" id="186610">first</a> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#22874" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Nothing" id="186611">last</a> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#22874" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="186612">count</a> = <span title="Int(0)" class="int">0</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class RedTree[+B] extends RedBlack.this.NonEmpty[B] with ScalaObject with Product with Serializable" id="187697">RedTree</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="185427">B</a><span class="delimiter">]</span><a href="../../ScalaObject.scala.html#460" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="A" id="185579">key</a>: <a href="#12342" title="A">A</a>,
                         <span class="keyword">override</span> <span class="keyword">val</span> <a title="B" id="185580">value</a>: <a href="#185427" title="B">B</a>,
                         <span class="keyword">override</span> <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="185581">left</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>,
                         <span class="keyword">override</span> <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="185582">right</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#185381" title="RedBlack.this.NonEmpty[B]">NonEmpty</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="185470">isBlack</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class BlackTree[+B] extends RedBlack.this.NonEmpty[B] with ScalaObject with Product with Serializable" id="187689">BlackTree</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="185523">B</a><span class="delimiter">]</span><a href="../../ScalaObject.scala.html#460" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="A" id="185544">key</a>: <a href="#12342" title="A">A</a>,
                           <span class="keyword">override</span> <span class="keyword">val</span> <a title="B" id="185545">value</a>: <a href="#185523" title="B">B</a>,
                           <span class="keyword">override</span> <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="185546">left</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>,
                           <span class="keyword">override</span> <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="185547">right</a>: <a href="#185379" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#185381" title="RedBlack.this.NonEmpty[B]">NonEmpty</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="185537">isBlack</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>



        </pre>
    </body>
</html>