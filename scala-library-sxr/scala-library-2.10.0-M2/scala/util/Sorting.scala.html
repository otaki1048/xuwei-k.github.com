<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/util/Sorting.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2006-2009, Ross Judson           **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

<span class="keyword">package</span> scala.util

<span class="keyword">import</span> scala.reflect.ClassManifest
<span class="keyword">import</span> scala.math.Ordering

/** The Sorting object provides functions that can sort various kinds of
  * objects. You can provide a comparison function, or you can request a sort
  * of items that are viewable as [[scala.math.Ordered]]. Some sorts that
  * operate directly on a subset of value types are also provided. These
  * implementations are derived from those in the Sun JDK.
  *
  * Note that stability doesn't matter for value types, so use the `quickSort`
  * variants for those. `stableSort` is intended to be used with
  * objects when the prior ordering should be preserved, where possible.
  *
  * @author  Ross Judson
  * @version 1.0
  */
<span class="keyword">object</span> <a title="object scala.util.Sorting" id="19972">Sorting</a> <a href="../ScalaObject.scala.html#1452" title="ScalaObject" class="delimiter">{</a>
  /** Quickly sort an array of Doubles. */
  <span class="keyword">def</span> <a title="(a: Array[Double])Unit" id="411166">quickSort</a><span class="delimiter">(</span><a title="Array[Double]" id="411199">a</a>: <a href="../Array.scala.html#279" title="Array[Double]">Array</a><span class="delimiter">[</span>Double<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#411193" title="(x: Array[Double], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#411199" title="Array[Double]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#411199" title="Array[Double]">a</a>.<a href="../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of items with an implicit Ordering. */
  <span class="keyword">def</span> <a title="[K](a: Array[K])(implicit evidence$1: scala.math.Ordering[K])Unit" id="411257">quickSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="411169">K</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="411256">a</a>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#411220" title="(x: Array[K], off: Int, len: Int)(implicit evidence$10: scala.math.Ordering[K])Unit">sort1</a><a href="#411257" title="scala.math.Ordering[K]" class="delimiter">(</a><a href="#411256" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#411256" title="Array[K]">a</a>.<a href="../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of Ints. */
  <span class="keyword">def</span> <a title="(a: Array[Int])Unit" id="411170">quickSort</a><span class="delimiter">(</span><a title="Array[Int]" id="411293">a</a>: <a href="../Array.scala.html#279" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#411192" title="(x: Array[Int], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#411293" title="Array[Int]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#411293" title="Array[Int]">a</a>.<a href="../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of Floats. */
  <span class="keyword">def</span> <a title="(a: Array[Float])Unit" id="411171">quickSort</a><span class="delimiter">(</span><a title="Array[Float]" id="411329">a</a>: <a href="../Array.scala.html#279" title="Array[Float]">Array</a><span class="delimiter">[</span>Float<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#411194" title="(x: Array[Float], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#411329" title="Array[Float]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#411329" title="Array[Float]">a</a>.<a href="../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Sort an array of K where K is Ordered, preserving the existing order
    * where the values are equal. */
  <span class="keyword">def</span> <a title="[K](a: Array[K])(implicit evidence$2: scala.reflect.ClassManifest[K], implicit evidence$3: scala.math.Ordering[K])Unit" id="411367">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="411174">K</a>: ClassManifest: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="411365">a</a>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#411381" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#411367" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#411365" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#411365" title="Array[K]">a</a>.<a href="../Array.scala.html#24198" title="=&gt; Int">length</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span>, <a href="../reflect/ClassManifest.scala.html#29063" title="(len: Int)Array[K]" class="keyword">new</a> Array<span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">(</span><a href="#411365" title="Array[K]">a</a>.<a href="../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span>, <a href="../math/Ordering.scala.html#38980" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#411367" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#411174" title="K">K</a><span class="delimiter">]</span>.<a href="../math/Ordering.scala.html#38891" title="(x: K, y: K)Boolean">lt</a> _<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Sorts an array of `K` given an ordering function `f`.
   *  `f` should return `true` iff its first parameter is strictly less than its second parameter.
   */
  <span class="keyword">def</span> <a title="[K](a: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$4: scala.reflect.ClassManifest[K])Unit" id="411439">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="411177">K</a>: ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="411437">a</a>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="411438">f</a>: <span class="delimiter">(</span>K, K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#411381" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#411439" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#411437" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#411437" title="Array[K]">a</a>.<a href="../Array.scala.html#24198" title="=&gt; Int">length</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span>, <a href="../reflect/ClassManifest.scala.html#29063" title="(len: Int)Array[K]" class="keyword">new</a> Array<span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">(</span><a href="#411437" title="Array[K]">a</a>.<a href="../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span>, <a href="#411438" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Sorts an arbitrary sequence into an array, given a comparison function
   *  that should return `true` iff parameter one is strictly less than parameter two.
   *
   *  @param  a the sequence to be sorted.
   *  @param  f the comparison function.
   *  @return the sorted sequence of items.
   */
  <span class="keyword">def</span> <a title="[K](a: Seq[K], f: (K, K) =&gt; Boolean)(implicit evidence$5: scala.reflect.ClassManifest[K])Array[K]" id="411428">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="411180">K</a>: ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="411426">a</a>: <a href="../collection/Seq.scala.html#4994" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="411427">f</a>: <span class="delimiter">(</span>K, K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[K]" id="411547">ret</a> = <a href="#411426" title="Seq[K]">a</a>.<a href="../collection/TraversableOnce.scala.html#25836" title="(implicit evidence$1: ClassManifest[K])Array[K]">toArray</a>
    <a href="#411439" title="(a: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$4: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#411428" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#411547" title="Array[K]">ret</a>, <a href="#411427" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
    <a href="#411547" title="Array[K]">ret</a>
  <span class="delimiter">}</span>

  /** Sorts an arbitrary sequence of items that are viewable as ordered. */
  <span class="keyword">def</span> <a title="[K](a: Seq[K])(implicit evidence$6: scala.reflect.ClassManifest[K], implicit evidence$7: scala.math.Ordering[K])Array[K]" id="411415">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="411183">K</a>: ClassManifest: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="411413">a</a>: <a href="../collection/Seq.scala.html#4994" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> =
    <a href="#411428" title="(a: Seq[K], f: (K, K) =&gt; Boolean)(implicit evidence$5: scala.reflect.ClassManifest[K])Array[K]">stableSort</a><a href="#411415" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#411413" title="Seq[K]">a</a>, <a href="../math/Ordering.scala.html#38980" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#411415" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#411183" title="K">K</a><span class="delimiter">]</span>.<a href="../math/Ordering.scala.html#38891" title="(x: K, y: K)Boolean">lt</a> _<span class="delimiter">)</span>

  /** Stably sorts a sequence of items given an extraction function that will
   *  return an ordered key from an item.
   *
   *  @param  a the sequence to be sorted.
   *  @param  f the comparison function.
   *  @return the sorted sequence of items.
   */
  <span class="keyword">def</span> <a title="[K, M](a: Seq[K], f: K =&gt; M)(implicit evidence$8: scala.reflect.ClassManifest[K], implicit evidence$9: scala.math.Ordering[M])Array[K]" id="411401">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="411187">K</a>: ClassManifest, <a title="&gt;: Nothing &lt;: Any" id="411188">M</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="411398">a</a>: <a href="../collection/Seq.scala.html#4994" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="K =&gt; M" id="411399">f</a>: K =&gt; M<span class="delimiter">)</span>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> =
    <a href="#411415" title="(a: Seq[K])(implicit evidence$6: scala.reflect.ClassManifest[K], implicit evidence$7: scala.math.Ordering[K])Array[K]">stableSort</a><span class="delimiter">(</span><a href="#411398" title="Seq[K]">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Predef.scala.html#7743" title="[T](implicit e: T)T">implicitly</a><a href="#411401" title="(implicit e: scala.reflect.ClassManifest[K])scala.reflect.ClassManifest[K]" class="delimiter">[</a><a href="../reflect/ClassManifest.scala.html#3017" title="scala.reflect.ClassManifest[K]">ClassManifest</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../math/Ordering.scala.html#38980" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#411401" title="(implicit ord: scala.math.Ordering[M])scala.math.Ordering[M]" class="delimiter">[</a><a href="#411188" title="M">M</a><span class="delimiter">]</span> <a href="../math/Ordering.scala.html#38897" title="(f: K =&gt; M)scala.math.Ordering[K]">on</a> <a href="#411399" title="K =&gt; M">f</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K](x: Array[K], off: Int, len: Int)(implicit evidence$10: scala.math.Ordering[K])Unit" id="411220">sort1</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="411191">K</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="411217">x</a>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Int" id="411218">off</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411219">len</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.math.Ordering[K]" id="411805">ord</a> = <a href="../math/Ordering.scala.html#38980" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#411220" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#411191" title="K">K</a><span class="delimiter">]</span>
    <span class="keyword">import</span> <a href="#411805" title="scala.math.Ordering[K]">ord</a>._

    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="411807">swap</a><span class="delimiter">(</span><a title="Int" id="411813">a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411814">b</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="K" id="411815">t</a> = <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#411813" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#24200" title="(i: Int, x: K)Unit">x</a><span class="delimiter">(</span><a href="#411813" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#411814" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#24200" title="(i: Int, x: K)Unit">x</a><span class="delimiter">(</span><a href="#411814" title="Int">b</a><span class="delimiter">)</span> = <a href="#411815" title="K">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="411808">vecswap</a><span class="delimiter">(</span><a title="Int" id="411818">_a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411819">_b</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411820">n</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="411821">a</a> = <a href="#411818" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="411822">b</a> = <a href="#411819" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="411823">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#411823" title="Int">i</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#411820" title="Int">n</a><span class="delimiter">)</span> <a href="#411824" title="()Unit" class="delimiter">{</a>
        <a href="#411807" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#411821" title="Int">a</a>, <a href="#411822" title="Int">b</a><span class="delimiter">)</span>
        <a href="#411823" title="Int">i</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#411821" title="Int">a</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#411822" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="411809">med3</a><span class="delimiter">(</span><a title="Int" id="411848">a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411849">b</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411850">c</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#38901" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#411848" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#156853" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#411849" title="Int">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#38901" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#411849" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#156853" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#411850" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#411849" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#38901" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#411848" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#156853" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#411850" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#411850" title="Int">c</a> <span class="keyword">else</span> <a href="#411848" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#38901" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#411849" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#156855" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#411850" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#411849" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#38901" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#411848" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#156855" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#411850" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#411850" title="Int">c</a> <span class="keyword">else</span> <a href="#411848" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="411810">sort2</a><span class="delimiter">(</span><a title="Int" id="412038">off</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412039">len</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412039" title="Int">len</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="412044">i</a> = <a href="#412038" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412044" title="Int">i</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#412039" title="Int">len</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412038" title="Int">off</a><span class="delimiter">)</span> <a href="#412045" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="412054">j</a> = <a href="#412044" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412054" title="Int">j</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="#412038" title="Int">off</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#38901" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#412054" title="Int">j</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#156855" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#412054" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#412055" title="()Unit" class="delimiter">{</a>
            <a href="#411807" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412054" title="Int">j</a>, <a href="#412054" title="Int">j</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#412054" title="Int">j</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#412044" title="Int">i</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="412117">m</a> = <a href="#412038" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#412039" title="Int">len</a> <a href="../Int.scala.html#24631" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412039" title="Int">len</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="412139">l</a> = <a href="#412038" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="412140">n</a> = <a href="#412038" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412039" title="Int">len</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412039" title="Int">len</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="412153">s</a> = <a href="#412039" title="Int">len</a> <a href="../Int.scala.html#24714" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#412139" title="Int">l</a> = <a href="#411809" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412139" title="Int">l</a>, <a href="#412139" title="Int">l</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#412153" title="Int">s</a>, <a href="#412139" title="Int">l</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#24707" title="(x: Int)Int">*</a><a href="#412153" title="Int">s</a><span class="delimiter">)</span>
            <a href="#412117" title="Int">m</a> = <a href="#411809" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412117" title="Int">m</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412153" title="Int">s</a>, <a href="#412117" title="Int">m</a>, <a href="#412117" title="Int">m</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#412153" title="Int">s</a><span class="delimiter">)</span>
            <a href="#412140" title="Int">n</a> = <a href="#411809" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412140" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#24707" title="(x: Int)Int">*</a><a href="#412153" title="Int">s</a>, <a href="#412140" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412153" title="Int">s</a>, <a href="#412140" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#412117" title="Int">m</a> = <a href="#411809" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412139" title="Int">l</a>, <a href="#412117" title="Int">m</a>, <a href="#412140" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="K" id="412118">v</a> = <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#412117" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="412119">a</a> = <a href="#412038" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="412120">b</a> = <a href="#412119" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="412121">c</a> = <a href="#412038" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412039" title="Int">len</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="412122">d</a> = <a href="#412121" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="412123">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#25457" title="=&gt; Boolean">!</a><a href="#412123" title="Boolean">done</a><span class="delimiter">)</span> <a href="#412126" title="()Unit" class="delimiter">{</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412120" title="Int">b</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#412121" title="Int">c</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#38901" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#412120" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#156854" title="(rhs: K)Boolean">&lt;=</a> <a href="#412118" title="K">v</a><span class="delimiter">)</span> <a href="#412198" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#412120" title="Int">b</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#412118" title="K">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#411807" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412119" title="Int">a</a>, <a href="#412120" title="Int">b</a><span class="delimiter">)</span>
              <a href="#412119" title="Int">a</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#412120" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412121" title="Int">c</a> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <a href="#412120" title="Int">b</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#24199" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#38901" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#412121" title="Int">c</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#156856" title="(rhs: K)Boolean">&gt;=</a> <a href="#412118" title="K">v</a><span class="delimiter">)</span> <a href="#412199" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#412121" title="Int">c</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#412118" title="K">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#411807" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412121" title="Int">c</a>, <a href="#412122" title="Int">d</a><span class="delimiter">)</span>
              <a href="#412122" title="Int">d</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#412121" title="Int">c</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412120" title="Int">b</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="#412121" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#412123" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#411807" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412120" title="Int">b</a>, <a href="#412121" title="Int">c</a><span class="delimiter">)</span>
            <a href="#412121" title="Int">c</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#412120" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="412124">n</a> = <a href="#412038" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412039" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="412125">s</a> = math.<a href="../math/package.scala.html#23571" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#412119" title="Int">a</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412038" title="Int">off</a>, <a href="#412120" title="Int">b</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412119" title="Int">a</a><span class="delimiter">)</span>
        <a href="#411808" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#412038" title="Int">off</a>, <a href="#412120" title="Int">b</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412125" title="Int">s</a>, <a href="#412125" title="Int">s</a><span class="delimiter">)</span>
        <a href="#412125" title="Int">s</a> = math.<a href="../math/package.scala.html#23571" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#412122" title="Int">d</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412121" title="Int">c</a>, <a href="#412124" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412122" title="Int">d</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#411808" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#412120" title="Int">b</a>,   <a href="#412124" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412125" title="Int">s</a>, <a href="#412125" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#412125" title="Int">s</a> = <a href="#412120" title="Int">b</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#412119" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412125" title="Int">s</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#411810" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#412038" title="Int">off</a>, <a href="#412125" title="Int">s</a><span class="delimiter">)</span>
        <a href="#412125" title="Int">s</a> = <a href="#412122" title="Int">d</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#412121" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412125" title="Int">s</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#411810" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#412124" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412125" title="Int">s</a>, <a href="#412125" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#411810" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#411218" title="Int">off</a>, <a href="#411219" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Int], off: Int, len: Int)Unit" id="411192">sort1</a><span class="delimiter">(</span><a title="Array[Int]" id="411213">x</a>: <a href="../Array.scala.html#279" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Int" id="411214">off</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411215">len</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="412382">swap</a><span class="delimiter">(</span><a title="Int" id="412386">a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412387">b</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="412388">t</a> = <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412386" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#24200" title="(i: Int, x: Int)Unit">x</a><span class="delimiter">(</span><a href="#412386" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412387" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#24200" title="(i: Int, x: Int)Unit">x</a><span class="delimiter">(</span><a href="#412387" title="Int">b</a><span class="delimiter">)</span> = <a href="#412388" title="Int">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="412383">vecswap</a><span class="delimiter">(</span><a title="Int" id="412391">_a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412392">_b</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412393">n</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="412394">a</a> = <a href="#412391" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="412395">b</a> = <a href="#412392" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="412396">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412396" title="Int">i</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#412393" title="Int">n</a><span class="delimiter">)</span> <a href="#412397" title="()Unit" class="delimiter">{</a>
        <a href="#412382" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412394" title="Int">a</a>, <a href="#412395" title="Int">b</a><span class="delimiter">)</span>
        <a href="#412396" title="Int">i</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#412394" title="Int">a</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#412395" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="412384">med3</a><span class="delimiter">(</span><a title="Int" id="412420">a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412421">b</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412422">c</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412420" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412421" title="Int">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412421" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412422" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#412421" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412420" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412422" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#412422" title="Int">c</a> <span class="keyword">else</span> <a href="#412420" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412421" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412422" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#412421" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412420" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412422" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#412422" title="Int">c</a> <span class="keyword">else</span> <a href="#412420" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="412385">sort2</a><span class="delimiter">(</span><a title="Int" id="412443">off</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412444">len</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412444" title="Int">len</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="412449">i</a> = <a href="#412443" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412449" title="Int">i</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#412444" title="Int">len</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412443" title="Int">off</a><span class="delimiter">)</span> <a href="#412450" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="412459">j</a> = <a href="#412449" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412459" title="Int">j</a><a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a><a href="#412443" title="Int">off</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412459" title="Int">j</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412459" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#412460" title="()Unit" class="delimiter">{</a>
            <a href="#412382" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412459" title="Int">j</a>, <a href="#412459" title="Int">j</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#412459" title="Int">j</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#412449" title="Int">i</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="412489">m</a> = <a href="#412443" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#412444" title="Int">len</a> <a href="../Int.scala.html#24631" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412444" title="Int">len</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="412511">l</a> = <a href="#412443" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="412512">n</a> = <a href="#412443" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412444" title="Int">len</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412444" title="Int">len</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="412525">s</a> = <a href="#412444" title="Int">len</a> <a href="../Int.scala.html#24714" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#412511" title="Int">l</a> = <a href="#412384" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412511" title="Int">l</a>, <a href="#412511" title="Int">l</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#412525" title="Int">s</a>, <a href="#412511" title="Int">l</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#24707" title="(x: Int)Int">*</a><a href="#412525" title="Int">s</a><span class="delimiter">)</span>
            <a href="#412489" title="Int">m</a> = <a href="#412384" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412489" title="Int">m</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412525" title="Int">s</a>, <a href="#412489" title="Int">m</a>, <a href="#412489" title="Int">m</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#412525" title="Int">s</a><span class="delimiter">)</span>
            <a href="#412512" title="Int">n</a> = <a href="#412384" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412512" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#24707" title="(x: Int)Int">*</a><a href="#412525" title="Int">s</a>, <a href="#412512" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412525" title="Int">s</a>, <a href="#412512" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#412489" title="Int">m</a> = <a href="#412384" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412511" title="Int">l</a>, <a href="#412489" title="Int">m</a>, <a href="#412512" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Int" id="412490">v</a> = <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412489" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="412491">a</a> = <a href="#412443" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="412492">b</a> = <a href="#412491" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="412493">c</a> = <a href="#412443" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412444" title="Int">len</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="412494">d</a> = <a href="#412493" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="412495">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#25457" title="=&gt; Boolean">!</a><a href="#412495" title="Boolean">done</a><span class="delimiter">)</span> <a href="#412498" title="()Unit" class="delimiter">{</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412492" title="Int">b</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#412493" title="Int">c</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412492" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#412490" title="Int">v</a><span class="delimiter">)</span> <a href="#412570" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412492" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <a href="#412490" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#412382" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412491" title="Int">a</a>, <a href="#412492" title="Int">b</a><span class="delimiter">)</span>
              <a href="#412491" title="Int">a</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#412492" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412493" title="Int">c</a> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <a href="#412492" title="Int">b</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412493" title="Int">c</a><span class="delimiter">)</span> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <a href="#412490" title="Int">v</a><span class="delimiter">)</span> <a href="#412571" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#412493" title="Int">c</a><span class="delimiter">)</span> <a href="../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <a href="#412490" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#412382" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412493" title="Int">c</a>, <a href="#412494" title="Int">d</a><span class="delimiter">)</span>
              <a href="#412494" title="Int">d</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#412493" title="Int">c</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412492" title="Int">b</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="#412493" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#412495" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#412382" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412492" title="Int">b</a>, <a href="#412493" title="Int">c</a><span class="delimiter">)</span>
            <a href="#412493" title="Int">c</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#412492" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="412496">n</a> = <a href="#412443" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412444" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="412497">s</a> = math.<a href="../math/package.scala.html#23571" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#412491" title="Int">a</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412443" title="Int">off</a>, <a href="#412492" title="Int">b</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412491" title="Int">a</a><span class="delimiter">)</span>
        <a href="#412383" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#412443" title="Int">off</a>, <a href="#412492" title="Int">b</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412497" title="Int">s</a>, <a href="#412497" title="Int">s</a><span class="delimiter">)</span>
        <a href="#412497" title="Int">s</a> = math.<a href="../math/package.scala.html#23571" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#412494" title="Int">d</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412493" title="Int">c</a>, <a href="#412496" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412494" title="Int">d</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#412383" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#412492" title="Int">b</a>,   <a href="#412496" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412497" title="Int">s</a>, <a href="#412497" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#412497" title="Int">s</a> = <a href="#412492" title="Int">b</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#412491" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412497" title="Int">s</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#412385" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#412443" title="Int">off</a>, <a href="#412497" title="Int">s</a><span class="delimiter">)</span>
        <a href="#412497" title="Int">s</a> = <a href="#412494" title="Int">d</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#412493" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412497" title="Int">s</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#412385" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#412496" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412497" title="Int">s</a>, <a href="#412497" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#412385" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#411214" title="Int">off</a>, <a href="#411215" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Double], off: Int, len: Int)Unit" id="411193">sort1</a><span class="delimiter">(</span><a title="Array[Double]" id="411209">x</a>: <a href="../Array.scala.html#279" title="Array[Double]">Array</a><span class="delimiter">[</span>Double<span class="delimiter">]</span>, <a title="Int" id="411210">off</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411211">len</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="412696">swap</a><span class="delimiter">(</span><a title="Int" id="412700">a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412701">b</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Double" id="412702">t</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#412700" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#24200" title="(i: Int, x: Double)Unit">x</a><span class="delimiter">(</span><a href="#412700" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#412701" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#24200" title="(i: Int, x: Double)Unit">x</a><span class="delimiter">(</span><a href="#412701" title="Int">b</a><span class="delimiter">)</span> = <a href="#412702" title="Double">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="412697">vecswap</a><span class="delimiter">(</span><a title="Int" id="412705">_a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412706">_b</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412707">n</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="412708">a</a> = <a href="#412705" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="412709">b</a> = <a href="#412706" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="412710">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412710" title="Int">i</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#412707" title="Int">n</a><span class="delimiter">)</span> <a href="#412711" title="()Unit" class="delimiter">{</a>
        <a href="#412696" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412708" title="Int">a</a>, <a href="#412709" title="Int">b</a><span class="delimiter">)</span>
        <a href="#412710" title="Int">i</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#412708" title="Int">a</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#412709" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="412698">med3</a><span class="delimiter">(</span><a title="Int" id="412734">a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412735">b</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412736">c</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="412737">ab</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7670" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#412734" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#412735" title="Int">b</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="412738">bc</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7670" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#412735" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#412736" title="Int">c</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="412739">ac</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7670" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#412734" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#412736" title="Int">c</a><span class="delimiter">)</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#412737" title="Int">ab</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#412738" title="Int">bc</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#412735" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#412739" title="Int">ac</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#412736" title="Int">c</a> <span class="keyword">else</span> <a href="#412734" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#412738" title="Int">bc</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#412735" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#412739" title="Int">ac</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#412736" title="Int">c</a> <span class="keyword">else</span> <a href="#412734" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="412699">sort2</a><span class="delimiter">(</span><a title="Int" id="412813">off</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="412814">len</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412814" title="Int">len</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="412819">i</a> = <a href="#412813" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412819" title="Int">i</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#412814" title="Int">len</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412813" title="Int">off</a><span class="delimiter">)</span> <a href="#412820" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="412829">j</a> = <a href="#412819" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412829" title="Int">j</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="#412813" title="Int">off</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7670" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#412829" title="Int">j</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#412829" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#412830" title="()Unit" class="delimiter">{</a>
            <a href="#412696" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412829" title="Int">j</a>, <a href="#412829" title="Int">j</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#412829" title="Int">j</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#412819" title="Int">i</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="412876">m</a> = <a href="#412813" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#412814" title="Int">len</a> <a href="../Int.scala.html#24631" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412814" title="Int">len</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="412898">l</a> = <a href="#412813" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="412899">n</a> = <a href="#412813" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412814" title="Int">len</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412814" title="Int">len</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="412912">s</a> = <a href="#412814" title="Int">len</a> <a href="../Int.scala.html#24714" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#412898" title="Int">l</a> = <a href="#412698" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412898" title="Int">l</a>, <a href="#412898" title="Int">l</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#412912" title="Int">s</a>, <a href="#412898" title="Int">l</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#24707" title="(x: Int)Int">*</a><a href="#412912" title="Int">s</a><span class="delimiter">)</span>
            <a href="#412876" title="Int">m</a> = <a href="#412698" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412876" title="Int">m</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412912" title="Int">s</a>, <a href="#412876" title="Int">m</a>, <a href="#412876" title="Int">m</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#412912" title="Int">s</a><span class="delimiter">)</span>
            <a href="#412899" title="Int">n</a> = <a href="#412698" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412899" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#24707" title="(x: Int)Int">*</a><a href="#412912" title="Int">s</a>, <a href="#412899" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412912" title="Int">s</a>, <a href="#412899" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#412876" title="Int">m</a> = <a href="#412698" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#412898" title="Int">l</a>, <a href="#412876" title="Int">m</a>, <a href="#412899" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Double" id="412877">v</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#412876" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="412878">a</a> = <a href="#412813" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="412879">b</a> = <a href="#412878" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="412880">c</a> = <a href="#412813" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412814" title="Int">len</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="412881">d</a> = <a href="#412880" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="412882">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#25457" title="=&gt; Boolean">!</a><a href="#412882" title="Boolean">done</a><span class="delimiter">)</span> <a href="#412885" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="412957">bv</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7670" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#412879" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Double)Int">compare</a> <a href="#412877" title="Double">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412879" title="Int">b</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#412880" title="Int">c</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#412957" title="Int">bv</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#412959" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412957" title="Int">bv</a> <a href="../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#412696" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412878" title="Int">a</a>, <a href="#412879" title="Int">b</a><span class="delimiter">)</span>
              <a href="#412878" title="Int">a</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#412879" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412879" title="Int">b</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#412880" title="Int">c</a><span class="delimiter">)</span> <a href="#412957" title="Int">bv</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7670" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#412879" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Double)Int">compare</a> <a href="#412877" title="Double">v</a>
          <span class="delimiter">}</span>
          <span class="keyword">var</span> <a title="Int" id="412958">cv</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7670" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#412880" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Double)Int">compare</a> <a href="#412877" title="Double">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#412880" title="Int">c</a> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <a href="#412879" title="Int">b</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#412958" title="Int">cv</a> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#412960" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412958" title="Int">cv</a> <a href="../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#412696" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412880" title="Int">c</a>, <a href="#412881" title="Int">d</a><span class="delimiter">)</span>
              <a href="#412881" title="Int">d</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#412880" title="Int">c</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412880" title="Int">c</a> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <a href="#412879" title="Int">b</a><span class="delimiter">)</span> <a href="#412958" title="Int">cv</a> = <a href="../Array.scala.html#24199" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7670" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#412880" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Double)Int">compare</a> <a href="#412877" title="Double">v</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412879" title="Int">b</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="#412880" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#412882" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#412696" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#412879" title="Int">b</a>, <a href="#412880" title="Int">c</a><span class="delimiter">)</span>
            <a href="#412880" title="Int">c</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#412879" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="412883">n</a> = <a href="#412813" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#412814" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="412884">s</a> = math.<a href="../math/package.scala.html#23571" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#412878" title="Int">a</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412813" title="Int">off</a>, <a href="#412879" title="Int">b</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412878" title="Int">a</a><span class="delimiter">)</span>
        <a href="#412697" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#412813" title="Int">off</a>, <a href="#412879" title="Int">b</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412884" title="Int">s</a>, <a href="#412884" title="Int">s</a><span class="delimiter">)</span>
        <a href="#412884" title="Int">s</a> = math.<a href="../math/package.scala.html#23571" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#412881" title="Int">d</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412880" title="Int">c</a>, <a href="#412883" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412881" title="Int">d</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#412697" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#412879" title="Int">b</a>,   <a href="#412883" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412884" title="Int">s</a>, <a href="#412884" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#412884" title="Int">s</a> = <a href="#412879" title="Int">b</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#412878" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412884" title="Int">s</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#412699" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#412813" title="Int">off</a>, <a href="#412884" title="Int">s</a><span class="delimiter">)</span>
        <a href="#412884" title="Int">s</a> = <a href="#412881" title="Int">d</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#412880" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#412884" title="Int">s</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#412699" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#412883" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#412884" title="Int">s</a>, <a href="#412884" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#412699" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#411210" title="Int">off</a>, <a href="#411211" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Float], off: Int, len: Int)Unit" id="411194">sort1</a><span class="delimiter">(</span><a title="Array[Float]" id="411205">x</a>: <a href="../Array.scala.html#279" title="Array[Float]">Array</a><span class="delimiter">[</span>Float<span class="delimiter">]</span>, <a title="Int" id="411206">off</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411207">len</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="413161">swap</a><span class="delimiter">(</span><a title="Int" id="413165">a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="413166">b</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Float" id="413167">t</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#413165" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#24200" title="(i: Int, x: Float)Unit">x</a><span class="delimiter">(</span><a href="#413165" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#413166" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#24200" title="(i: Int, x: Float)Unit">x</a><span class="delimiter">(</span><a href="#413166" title="Int">b</a><span class="delimiter">)</span> = <a href="#413167" title="Float">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="413162">vecswap</a><span class="delimiter">(</span><a title="Int" id="413170">_a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="413171">_b</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="413172">n</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="413173">a</a> = <a href="#413170" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="413174">b</a> = <a href="#413171" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="413175">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#413175" title="Int">i</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#413172" title="Int">n</a><span class="delimiter">)</span> <a href="#413176" title="()Unit" class="delimiter">{</a>
        <a href="#413161" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#413173" title="Int">a</a>, <a href="#413174" title="Int">b</a><span class="delimiter">)</span>
        <a href="#413175" title="Int">i</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#413173" title="Int">a</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#413174" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="413163">med3</a><span class="delimiter">(</span><a title="Int" id="413199">a</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="413200">b</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="413201">c</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="413202">ab</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7669" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#413199" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#413200" title="Int">b</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="413203">bc</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7669" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#413200" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#413201" title="Int">c</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="413204">ac</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7669" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#413199" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#413201" title="Int">c</a><span class="delimiter">)</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#413202" title="Int">ab</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#413203" title="Int">bc</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#413200" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#413204" title="Int">ac</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#413201" title="Int">c</a> <span class="keyword">else</span> <a href="#413199" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#413203" title="Int">bc</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#413200" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#413204" title="Int">ac</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#413201" title="Int">c</a> <span class="keyword">else</span> <a href="#413199" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="413164">sort2</a><span class="delimiter">(</span><a title="Int" id="413315">off</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="413316">len</a>: <a href="../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413316" title="Int">len</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="413321">i</a> = <a href="#413315" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#413321" title="Int">i</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#413316" title="Int">len</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#413315" title="Int">off</a><span class="delimiter">)</span> <a href="#413322" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="413331">j</a> = <a href="#413321" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#413331" title="Int">j</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="#413315" title="Int">off</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7669" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#413331" title="Int">j</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#413331" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#413332" title="()Unit" class="delimiter">{</a>
            <a href="#413161" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#413331" title="Int">j</a>, <a href="#413331" title="Int">j</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#413331" title="Int">j</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#413321" title="Int">i</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="413391">m</a> = <a href="#413315" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#413316" title="Int">len</a> <a href="../Int.scala.html#24631" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413316" title="Int">len</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="413413">l</a> = <a href="#413315" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="413414">n</a> = <a href="#413315" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#413316" title="Int">len</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413316" title="Int">len</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="413427">s</a> = <a href="#413316" title="Int">len</a> <a href="../Int.scala.html#24714" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#413413" title="Int">l</a> = <a href="#413163" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#413413" title="Int">l</a>, <a href="#413413" title="Int">l</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#413427" title="Int">s</a>, <a href="#413413" title="Int">l</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#24707" title="(x: Int)Int">*</a><a href="#413427" title="Int">s</a><span class="delimiter">)</span>
            <a href="#413391" title="Int">m</a> = <a href="#413163" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#413391" title="Int">m</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413427" title="Int">s</a>, <a href="#413391" title="Int">m</a>, <a href="#413391" title="Int">m</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#413427" title="Int">s</a><span class="delimiter">)</span>
            <a href="#413414" title="Int">n</a> = <a href="#413163" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#413414" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#24707" title="(x: Int)Int">*</a><a href="#413427" title="Int">s</a>, <a href="#413414" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413427" title="Int">s</a>, <a href="#413414" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#413391" title="Int">m</a> = <a href="#413163" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#413413" title="Int">l</a>, <a href="#413391" title="Int">m</a>, <a href="#413414" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Float" id="413392">v</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#413391" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="413393">a</a> = <a href="#413315" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="413394">b</a> = <a href="#413393" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="413395">c</a> = <a href="#413315" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#413316" title="Int">len</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="413396">d</a> = <a href="#413395" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="413397">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#25457" title="=&gt; Boolean">!</a><a href="#413397" title="Boolean">done</a><span class="delimiter">)</span> <a href="#413400" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="413472">bv</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7669" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#413394" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Float)Int">compare</a> <a href="#413392" title="Float">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#413394" title="Int">b</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#413395" title="Int">c</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#413472" title="Int">bv</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#413474" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413472" title="Int">bv</a> <a href="../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#413161" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#413393" title="Int">a</a>, <a href="#413394" title="Int">b</a><span class="delimiter">)</span>
              <a href="#413393" title="Int">a</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#413394" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413394" title="Int">b</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#413395" title="Int">c</a><span class="delimiter">)</span> <a href="#413472" title="Int">bv</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7669" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#413394" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Float)Int">compare</a> <a href="#413392" title="Float">v</a>
          <span class="delimiter">}</span>
          <span class="keyword">var</span> <a title="Int" id="413473">cv</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7669" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#413395" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Float)Int">compare</a> <a href="#413392" title="Float">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#413395" title="Int">c</a> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <a href="#413394" title="Int">b</a> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#413473" title="Int">cv</a> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#413475" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413473" title="Int">cv</a> <a href="../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#413161" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#413395" title="Int">c</a>, <a href="#413396" title="Int">d</a><span class="delimiter">)</span>
              <a href="#413396" title="Int">d</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#413395" title="Int">c</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413395" title="Int">c</a> <a href="../Int.scala.html#24671" title="(x: Int)Boolean">&gt;=</a> <a href="#413394" title="Int">b</a><span class="delimiter">)</span> <a href="#413473" title="Int">cv</a> = <a href="../Array.scala.html#24199" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7669" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#413395" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#24306" title="(y: Float)Int">compare</a> <a href="#413392" title="Float">v</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413394" title="Int">b</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="#413395" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#413397" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#413161" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#413394" title="Int">b</a>, <a href="#413395" title="Int">c</a><span class="delimiter">)</span>
            <a href="#413395" title="Int">c</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#413394" title="Int">b</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="413398">n</a> = <a href="#413315" title="Int">off</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#413316" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="413399">s</a> = math.<a href="../math/package.scala.html#23571" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#413393" title="Int">a</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413315" title="Int">off</a>, <a href="#413394" title="Int">b</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413393" title="Int">a</a><span class="delimiter">)</span>
        <a href="#413162" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#413315" title="Int">off</a>, <a href="#413394" title="Int">b</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413399" title="Int">s</a>, <a href="#413399" title="Int">s</a><span class="delimiter">)</span>
        <a href="#413399" title="Int">s</a> = math.<a href="../math/package.scala.html#23571" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#413396" title="Int">d</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413395" title="Int">c</a>, <a href="#413398" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413396" title="Int">d</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#413162" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#413394" title="Int">b</a>,   <a href="#413398" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413399" title="Int">s</a>, <a href="#413399" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#413399" title="Int">s</a> = <a href="#413394" title="Int">b</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#413393" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413399" title="Int">s</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#413164" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#413315" title="Int">off</a>, <a href="#413399" title="Int">s</a><span class="delimiter">)</span>
        <a href="#413399" title="Int">s</a> = <a href="#413396" title="Int">d</a> <a href="../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#413395" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#413399" title="Int">s</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#413164" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#413398" title="Int">n</a><a href="../Int.scala.html#24700" title="(x: Int)Int">-</a><a href="#413399" title="Int">s</a>, <a href="#413399" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#413164" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#411206" title="Int">off</a>, <a href="#411207" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K](a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit" id="411381">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="411197">K</a> : ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="411376">a</a>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Int" id="411377">lo</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="411378">hi</a>: <a href="../Int.scala.html#495" title="Int">Int</a>, <a title="Array[K]" id="411379">scratch</a>: <a href="../Array.scala.html#279" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="411380">f</a>: <span class="delimiter">(</span>K,K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#411377" title="Int">lo</a> <a href="../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#411378" title="Int">hi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="413732">mid</a> = <span class="delimiter">(</span><a href="#411377" title="Int">lo</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><a href="#411378" title="Int">hi</a><span class="delimiter">)</span> <a href="../Int.scala.html#24714" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span>
      <a href="#411381" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#411381" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#411376" title="Array[K]">a</a>, <a href="#411377" title="Int">lo</a>, <a href="#413732" title="Int">mid</a>, <a href="#411379" title="Array[K]">scratch</a>, <a href="#411380" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
      <a href="#411381" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#411381" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#411376" title="Array[K]">a</a>, <a href="#413732" title="Int">mid</a><a href="../Int.scala.html#24693" title="(x: Int)Int">+</a><span title="Int(1)" class="int">1</span>, <a href="#411378" title="Int">hi</a>, <a href="#411379" title="Array[K]">scratch</a>, <a href="#411380" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="413733">k</a>, <a title="Int" id="413734">t_lo</a> = <a href="#411377" title="Int">lo</a>
      <span class="keyword">var</span> <a title="Int" id="413735">t_hi</a> = <a href="#413732" title="Int">mid</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#413733" title="Int">k</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#411378" title="Int">hi</a><span class="delimiter">)</span> <a href="#413736" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#413734" title="Int">t_lo</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#413732" title="Int">mid</a><span class="delimiter">)</span> <a href="../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#413735" title="Int">t_hi</a> <a href="../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> <a href="#411378" title="Int">hi</a><span class="delimiter">)</span> <a href="../Boolean.scala.html#25460" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../Boolean.scala.html#25457" title="=&gt; Boolean">!</a><a href="../Function2.scala.html#32545" title="(v1: K, v2: K)Boolean">f</a><span class="delimiter">(</span><a href="../Array.scala.html#24199" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#413735" title="Int">t_hi</a><span class="delimiter">)</span>, <a href="../Array.scala.html#24199" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#413734" title="Int">t_lo</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Array.scala.html#24200" title="(i: Int, x: K)Unit">scratch</a><span class="delimiter">(</span><a href="#413733" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#24199" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#413734" title="Int">t_lo</a><span class="delimiter">)</span>
          <a href="#413734" title="Int">t_lo</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Array.scala.html#24200" title="(i: Int, x: K)Unit">scratch</a><span class="delimiter">(</span><a href="#413733" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#24199" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#413735" title="Int">t_hi</a><span class="delimiter">)</span>
          <a href="#413735" title="Int">t_hi</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#413733" title="Int">k</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#413733" title="Int">k</a> = <a href="#411377" title="Int">lo</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#413733" title="Int">k</a> <a href="../Int.scala.html#24657" title="(x: Int)Boolean">&lt;=</a> <a href="#411378" title="Int">hi</a><span class="delimiter">)</span> <a href="#413899" title="()Unit" class="delimiter">{</a>
        <a href="../Array.scala.html#24200" title="(i: Int, x: K)Unit">a</a><span class="delimiter">(</span><a href="#413733" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#24199" title="(i: Int)K">scratch</a><span class="delimiter">(</span><a href="#413733" title="Int">k</a><span class="delimiter">)</span>
        <a href="#413733" title="Int">k</a> <a href="../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>