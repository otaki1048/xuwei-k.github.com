<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/collection/parallel/immutable/ParHashMap.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2011, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

<span class="keyword">package</span> scala.collection.parallel.immutable

<span class="keyword">import</span> scala.collection.parallel.ParMapLike
<span class="keyword">import</span> scala.collection.parallel.Combiner
<span class="keyword">import</span> scala.collection.parallel.IterableSplitter
<span class="keyword">import</span> scala.collection.mutable.<a href="../../mutable/UnrolledBuffer.scala.html#13146" title="object scala.collection.mutable.UnrolledBuffer">UnrolledBuffer</a>.Unrolled
<span class="keyword">import</span> scala.collection.mutable.UnrolledBuffer
<span class="keyword">import</span> scala.collection.generic.ParMapFactory
<span class="keyword">import</span> scala.collection.generic.CanCombineFrom
<span class="keyword">import</span> scala.collection.generic.GenericParMapTemplate
<span class="keyword">import</span> scala.collection.generic.GenericParMapCompanion
<span class="keyword">import</span> scala.collection.immutable.<span class="delimiter">{</span> HashMap, TrieIterator <span class="delimiter">}</span>
<span class="keyword">import</span> annotation.unchecked.uncheckedVariance

/** Immutable parallel hash map, based on hash tries.
 *
 *  $paralleliterableinfo
 *
 *  $sideeffects
 *
 *  @tparam K    the key type of the map
 *  @tparam V    the value type of the map
 *
 *  @author Aleksandar Prokopec
 *  @since 2.9
 *
 *  @define Coll immutable.ParHashMap
 *  @define coll immutable parallel hash map
 */
@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
<span class="keyword">class</span> <a title="class ParHashMap[K, +V] extends Object with scala.collection.parallel.immutable.ParMap[K,V] with scala.collection.generic.GenericParMapTemplate[K,V,scala.collection.parallel.immutable.ParHashMap] with scala.collection.parallel.ParMapLike[K,V,scala.collection.parallel.immutable.ParHashMap[K,V],scala.collection.immutable.HashMap[K,V]] with Serializable with ScalaObject" id="15839">ParHashMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="15960">K</a>, +<a title="&gt;: Nothing &lt;: Any" id="15961">V</a><span class="delimiter">]</span> <a href="../../../ScalaObject.scala.html#1452" title="ScalaObject" class="keyword">private</a><span class="delimiter">[</span>immutable<span class="delimiter">]</span> <span class="delimiter">(</span><span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.immutable.HashMap[K,V]" id="162900">trie</a>: <a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,V]">HashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="ParMap.scala.html#15860" title="scala.collection.parallel.immutable.ParMap[K,V]">ParMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>
   <span class="keyword">with</span> <a href="../../generic/GenericParTemplate.scala.html#11120" title="scala.collection.generic.GenericParMapTemplate[K,V,scala.collection.parallel.immutable.ParHashMap]">GenericParMapTemplate</a><span class="delimiter">[</span>K, V, ParHashMap<span class="delimiter">]</span>
   <span class="keyword">with</span> <a href="../ParMapLike.scala.html#14660" title="scala.collection.parallel.ParMapLike[K,V,scala.collection.parallel.immutable.ParHashMap[K,V],scala.collection.immutable.HashMap[K,V]]">ParMapLike</a><span class="delimiter">[</span>K, V, ParHashMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span>, HashMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span>
   <span class="keyword">with</span> <a href="../../../Serializable.scala.html#1332" title="Serializable">Serializable</a>
<span class="delimiter">{</span>
self =&gt;

  <span class="keyword">def</span> <a title="()scala.collection.parallel.immutable.ParHashMap[K,V]" id="161816" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#15839" title="ParHashMap.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="../../immutable/HashMap.scala.html#11488" title="object scala.collection.immutable.HashMap">HashMap</a>.<a href="../../immutable/HashMap.scala.html#161848" title="[A, B]=&gt; scala.collection.immutable.HashMap[A,B]">empty</a><span title="scala.collection.immutable.HashMap[K,V]" class="delimiter">[</span><a href="#15960" title="K">K</a>, <a href="#15961" title="V">V</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.generic.GenericParMapCompanion[scala.collection.parallel.immutable.ParHashMap]" id="161817">mapCompanion</a>: <a href="../../generic/GenericParCompanion.scala.html#10964" title="scala.collection.generic.GenericParMapCompanion[scala.collection.parallel.immutable.ParHashMap]">GenericParMapCompanion</a><span class="delimiter">[</span>ParHashMap<span class="delimiter">]</span> = <a href="#355163" title="object scala.collection.parallel.immutable.ParHashMap">ParHashMap</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.parallel.immutable.ParHashMap[K,V]" id="161818">empty</a>: <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <a href="#161816" title="()scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">new</a> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>

  <span class="keyword">protected</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.parallel.immutable.HashMapCombiner[K,V]" id="161819">newCombiner</a> = <a href="#318700" title="[K, V]=&gt; scala.collection.parallel.immutable.HashMapCombiner[K,V]">HashMapCombiner</a><span title="scala.collection.parallel.immutable.HashMapCombiner[K,V]" class="delimiter">[</span><a href="#15960" title="K">K</a>, <a href="#15961" title="V">V</a><span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; scala.collection.parallel.IterableSplitter[(K, V)]" id="161820">splitter</a>: <a href="../RemainsIterator.scala.html#14378" title="scala.collection.parallel.IterableSplitter[(K, V)]">IterableSplitter</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="ParHashMap.this.ParHashMapIterator" class="keyword">new</span> <a href="#161833" title="ParHashMap.this.ParHashMapIterator">ParHashMapIterator</a><span class="delimiter">(</span><a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a>.<a href="../../immutable/HashMap.scala.html#161712" title="=&gt; Iterator[(K, V)]">iterator</a>, <a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a>.<a href="../../immutable/HashMap.scala.html#161710" title="=&gt; Int">size</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.HashMap[K,V]" id="161821">seq</a> = <a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a>

  <span class="keyword">def</span> <a title="(k: K)scala.collection.parallel.immutable.ParHashMap[K,V]" id="161822">-</a><span class="delimiter">(</span><a title="K" id="354674">k</a>: <a href="#15960" title="K">K</a><span class="delimiter">)</span> = <span title="scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">new</span> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">(</span><a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a> <a href="../../immutable/HashMap.scala.html#161726" title="(key: K)scala.collection.immutable.HashMap[K,V]">-</a> <a href="#354674" title="K">k</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[U &gt;: V](kv: (K, U))scala.collection.parallel.immutable.ParHashMap[K,U]" id="161823">+</a><span class="delimiter">[</span><a title="&gt;: V &lt;: Any" id="161825">U</a> &gt;: V<span class="delimiter">]</span><span class="delimiter">(</span><a title="(K, U)" id="354705">kv</a>: <a href="../../../Tuple2.scala.html#1191" title="(K, U)" class="delimiter">(</a>K, U<span class="delimiter">)</span><span class="delimiter">)</span> = <span title="scala.collection.parallel.immutable.ParHashMap[K,U]" class="keyword">new</span> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,U]">ParHashMap</a><span class="delimiter">(</span><a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a> <a href="../../immutable/HashMap.scala.html#161720" title="(kv: (K, U))scala.collection.immutable.HashMap[K,U]">+</a> <a href="#354705" title="(K, U)">kv</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(k: K)Option[V]" id="161826">get</a><span class="delimiter">(</span><a title="K" id="354857">k</a>: <a href="#15960" title="K">K</a><span class="delimiter">)</span> = <a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a>.<a href="../../immutable/HashMap.scala.html#161716" title="(key: K)Option[V]">get</a><span class="delimiter">(</span><a href="#354857" title="K">k</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="161827">size</a> = <a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a>.<a href="../../immutable/HashMap.scala.html#161710" title="=&gt; Int">size</a>

  <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="[S, That](oldc: Option[scala.collection.parallel.Combiner[S,That]], newc: scala.collection.parallel.Combiner[S,That])scala.collection.parallel.Combiner[S,That]" id="161828">reuse</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="161831">S</a>, <a title="&gt;: Nothing &lt;: Any" id="161832">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[scala.collection.parallel.Combiner[S,That]]" id="354864">oldc</a>: <a href="../../../Option.scala.html#1467" title="Option[scala.collection.parallel.Combiner[S,That]]">Option</a><span class="delimiter">[</span>Combiner<span class="delimiter">[</span>S, That<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scala.collection.parallel.Combiner[S,That]" id="354865">newc</a>: <a href="../Combiner.scala.html#15065" title="scala.collection.parallel.Combiner[S,That]">Combiner</a><span class="delimiter">[</span>S, That<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#354864" title="Option[scala.collection.parallel.Combiner[S,That]]">oldc</a> <span title="scala.collection.parallel.Combiner[S,That]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="scala.collection.parallel.Combiner[S,That]">Some</span><span class="delimiter">(</span><a title="scala.collection.parallel.Combiner[S,That]" id="354879">old</a><span class="delimiter">)</span> =&gt; <a href="#354879" title="scala.collection.parallel.Combiner[S,That]">old</a>
    <span class="keyword">case</span> <a href="../../../Option.scala.html#2425" title="scala.collection.parallel.Combiner[S,That]">None</a> =&gt; <a href="#354865" title="scala.collection.parallel.Combiner[S,That]">newc</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ParHashMapIterator extends Object with scala.collection.parallel.IterableSplitter[(K, V)] with ScalaObject" id="161833">ParHashMapIterator</a><a href="../../../ScalaObject.scala.html#1452" title="ScalaObject" class="delimiter">(</a><span class="keyword">var</span> <a title="Iterator[(K, V)]" id="354670">triter</a>: <a href="../../Iterator.scala.html#4712" title="Iterator[(K, V @scala.annotation.unchecked.uncheckedVariance)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V @uncheckedVariance<span class="delimiter">)</span><span class="delimiter">]</span>, <span class="keyword">val</span> <a title="Int" id="354671">sz</a>: <a href="../../../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="../RemainsIterator.scala.html#14378" title="scala.collection.parallel.IterableSplitter[(K, V)]">IterableSplitter</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="354661">i</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.parallel.IterableSplitter[(K, V)]" id="354663">dup</a> = <a href="#354670" title="=&gt; Iterator[(K, V)]">triter</a> <span title="scala.collection.parallel.IterableSplitter[(K, V)]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="ParHashMap.this.ParHashMapIterator" id="354890">t</a>: <a href="../../immutable/TrieIterator.scala.html#11958" title="scala.collection.immutable.TrieIterator[_]">TrieIterator</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
        <a href="#354664" title="(it: Iterator[(K, V)])ParHashMap.this.ParHashMapIterator">dupFromIterator</a><span class="delimiter">(</span><a href="#354890" title="scala.collection.immutable.TrieIterator[_]">t</a>.<a href="../../immutable/TrieIterator.scala.html#164700" title="=&gt; scala.collection.immutable.TrieIterator[_]">dupIterator</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ParHashMap.this.ParHashMapIterator">_</span> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.mutable.Buffer[(K, V)]" id="354897">buff</a> = <a href="#354670" title="=&gt; Iterator[(K, V)]">triter</a>.<a href="../../TraversableOnce.scala.html#25844" title="scala.collection.mutable.Buffer[(K, V)]">toBuffer</a>
        <a href="#354670" title="(x$1: Iterator[(K, V)])Unit">triter</a> = <a href="#354897" title="scala.collection.mutable.Buffer[(K, V)]">buff</a>.<a href="../../IterableLike.scala.html#26024" title="=&gt; Iterator[(K, V)]">iterator</a>
        <a href="#354664" title="(it: Iterator[(K, V)])ParHashMap.this.ParHashMapIterator">dupFromIterator</a><span class="delimiter">(</span><a href="#354897" title="scala.collection.mutable.Buffer[(K, V)]">buff</a>.<a href="../../IterableLike.scala.html#26024" title="=&gt; Iterator[(K, V)]">iterator</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(it: Iterator[(K, V)])ParHashMap.this.ParHashMapIterator" id="354664">dupFromIterator</a><span class="delimiter">(</span><a title="Iterator[(K, V @scala.annotation.unchecked.uncheckedVariance)]" id="354892">it</a>: <a href="../../Iterator.scala.html#4712" title="Iterator[(K, V @scala.annotation.unchecked.uncheckedVariance)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V @uncheckedVariance<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ParHashMap.this.ParHashMapIterator" id="354895">phit</a> = <span title="ParHashMap.this.ParHashMapIterator" class="keyword">new</span> <a href="#161833" title="ParHashMap.this.ParHashMapIterator">ParHashMapIterator</a><span class="delimiter">(</span><a href="#354892" title="Iterator[(K, V @scala.annotation.unchecked.uncheckedVariance)]">it</a>, <a href="#354671" title="=&gt; Int">sz</a><span class="delimiter">)</span>
      <a href="#354895" title="ParHashMap.this.ParHashMapIterator">phit</a>.<a href="#354661" title="(x$1: Int)Unit">i</a> = <a href="#354661" title="=&gt; Int">i</a>
      <a href="#354895" title="ParHashMap.this.ParHashMapIterator">phit</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Seq[scala.collection.parallel.IterableSplitter[(K, V)]]" id="354665">split</a>: <a href="../../Seq.scala.html#4994" title="Seq[scala.collection.parallel.IterableSplitter[(K, V)]]">Seq</a><span class="delimiter">[</span>IterableSplitter<span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="Seq[scala.collection.parallel.IterableSplitter[(K, V)]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#354668" title="=&gt; Int">remaining</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="../../generic/GenericCompanion.scala.html#23843" title="(elems: ParHashMap.this.ParHashMapIterator*)Seq[ParHashMap.this.ParHashMapIterator]">Seq</a><span class="delimiter">(</span><a href="#161833" title="ParHashMap.this.ParHashMapIterator" class="keyword">this</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#354670" title="=&gt; Iterator[(K, V)]">triter</a> <span title="Seq[scala.collection.parallel.IterableSplitter[(K, V)]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Seq[ParHashMap.this.ParHashMapIterator]" id="354937">t</a>: <a href="../../immutable/TrieIterator.scala.html#11958" title="scala.collection.immutable.TrieIterator[_]">TrieIterator</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="354939">previousRemaining</a> = <a href="#354668" title="=&gt; Int">remaining</a>
        <span class="keyword">val</span> <a href="../../../Tuple3.scala.html#30734" title="(Iterator[_], Int, Iterator[_])" class="delimiter">(</a><span class="delimiter">(</span><a href="../../../Tuple3.scala.html#29911" title="Iterator[_]" id="354941">fst</a>, <a href="../../../Tuple3.scala.html#29913" title="Int" id="354942">fstlength</a><span class="delimiter">)</span>, <a href="../../../Tuple3.scala.html#29915" title="Iterator[_]" id="354943">snd</a><span class="delimiter">)</span> = <a href="#354937" title="scala.collection.immutable.TrieIterator[_]">t</a>.<a href="../../immutable/TrieIterator.scala.html#164708" title="=&gt; ((Iterator[_], Int), Iterator[_])">split</a>
        <span class="keyword">val</span> <a title="Int" id="354944">sndlength</a> = <a href="#354939" title="Int">previousRemaining</a> <a href="../../../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#354942" title="Int">fstlength</a>
        <a href="../../generic/GenericCompanion.scala.html#23843" title="(elems: ParHashMap.this.ParHashMapIterator*)Seq[ParHashMap.this.ParHashMapIterator]">Seq</a><span class="delimiter">(</span>
          <span title="ParHashMap.this.ParHashMapIterator" class="keyword">new</span> <a href="#161833" title="ParHashMap.this.ParHashMapIterator">ParHashMapIterator</a><span class="delimiter">(</span><a href="#354941" title="Iterator[_]">fst</a>, <a href="#354942" title="Int">fstlength</a><span class="delimiter">)</span>,
          <span title="ParHashMap.this.ParHashMapIterator" class="keyword">new</span> <a href="#161833" title="ParHashMap.this.ParHashMapIterator">ParHashMapIterator</a><span class="delimiter">(</span><a href="#354943" title="Iterator[_]">snd</a>, <a href="#354944" title="Int">sndlength</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Seq[scala.collection.parallel.IterableSplitter[(K, V)]]">_</span> =&gt;
        // iterator of the collision map case
        <span class="keyword">val</span> <a title="scala.collection.mutable.Buffer[(K, V)]" id="354968">buff</a> = <a href="#354670" title="=&gt; Iterator[(K, V)]">triter</a>.<a href="../../TraversableOnce.scala.html#25844" title="scala.collection.mutable.Buffer[(K, V)]">toBuffer</a>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#30293" title="(scala.collection.mutable.Buffer[(K, V)], scala.collection.mutable.Buffer[(K, V)])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#30016" title="scala.collection.mutable.Buffer[(K, V)]" id="354970">fp</a>, <a href="../../../Tuple2.scala.html#30018" title="scala.collection.mutable.Buffer[(K, V)]" id="354971">sp</a><span class="delimiter">)</span> = <a href="#354968" title="scala.collection.mutable.Buffer[(K, V)]">buff</a>.<a href="../../TraversableLike.scala.html#24117" title="(n: Int)(scala.collection.mutable.Buffer[(K, V)], scala.collection.mutable.Buffer[(K, V)])">splitAt</a><a href="../../../Tuple2.scala.html#1191" title="(scala.collection.mutable.Buffer[(K, V)], scala.collection.mutable.Buffer[(K, V)]) @unchecked" class="delimiter">(</a><a href="#354968" title="scala.collection.mutable.Buffer[(K, V)]">buff</a>.<a href="../../mutable/BufferLike.scala.html#34545" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#24714" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <a href="../../generic/GenericCompanion.scala.html#23843" title="(elems: scala.collection.mutable.Buffer[(K, V)]*)Seq[scala.collection.mutable.Buffer[(K, V)]]">Seq</a><span class="delimiter">(</span><a href="#354970" title="scala.collection.mutable.Buffer[(K, V)]">fp</a>, <a href="#354971" title="scala.collection.mutable.Buffer[(K, V)]">sp</a><span class="delimiter">)</span> <a href="../../TraversableLike.scala.html#24063" title="(f: scala.collection.mutable.Buffer[(K, V)] =&gt; ParHashMap.this.ParHashMapIterator)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scala.collection.mutable.Buffer[(K, V)]],ParHashMap.this.ParHashMapIterator,Seq[scala.collection.parallel.IterableSplitter[(K, V)]]])Seq[scala.collection.parallel.IterableSplitter[(K, V)]]">map</a> <span class="delimiter">{</span> <a title="scala.collection.mutable.Buffer[(K, V)]" id="355034">b</a> =&gt; <span title="ParHashMap.this.ParHashMapIterator" class="keyword">new</span> <a href="#161833" title="ParHashMap.this.ParHashMapIterator">ParHashMapIterator</a><span class="delimiter">(</span><a href="#355034" title="scala.collection.mutable.Buffer[(K, V)]">b</a>.<a href="../../IterableLike.scala.html#26024" title="=&gt; Iterator[(K, V)]">iterator</a>, <a href="#355034" title="scala.collection.mutable.Buffer[(K, V)]">b</a>.<a href="../../mutable/BufferLike.scala.html#34545" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="()(K, V)" id="354666">next</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1191" title="(K, V)" class="delimiter">(</a>K, V<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#354661" title="(x$1: Int)Unit">i</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="keyword">val</span> <a title="(K, V)" id="355079">r</a> = <a href="#354670" title="=&gt; Iterator[(K, V)]">triter</a>.<a href="../../Iterator.scala.html#31861" title="()(K, V)">next</a>
      <a href="#355079" title="(K, V)">r</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="354667">hasNext</a>: <a href="../../../Boolean.scala.html#2157" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="#354661" title="=&gt; Int">i</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#354671" title="=&gt; Int">sz</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="354668">remaining</a> = <a href="#354671" title="=&gt; Int">sz</a> <a href="../../../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#354661" title="=&gt; Int">i</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="354669">toString</a> = <span title="String(&quot;HashTrieIterator(&quot;)" class="string">&quot;HashTrieIterator(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354671" title="=&gt; Int">sz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>parallel<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="161834">printDebugInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../Predef.scala.html#7785" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;Parallel hash trie&quot;)" class="string">&quot;Parallel hash trie&quot;</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#7785" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;Top level inner trie type: &quot;)" class="string">&quot;Top level inner trie type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span>
    <a href="#162900" title="scala.collection.immutable.HashMap[K,V]">trie</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Unit" id="355122">hm</a>: HashMap.<a href="../../immutable/HashMap.scala.html#161855" title="scala.collection.immutable.HashMap.HashMap1[k,v]">HashMap1</a><span class="delimiter">[</span>k, v<span class="delimiter">]</span> =&gt;
        <a href="../../../Predef.scala.html#7785" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;single node type&quot;)" class="string">&quot;single node type&quot;</span><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#7785" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;key stored: &quot;)" class="string">&quot;key stored: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355122" title="scala.collection.immutable.HashMap.HashMap1[k,v]">hm</a>.<a href="../../immutable/HashMap.scala.html#162789" title="=&gt; k">getKey</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#7785" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;hash of key: &quot;)" class="string">&quot;hash of key: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355122" title="scala.collection.immutable.HashMap.HashMap1[k,v]">hm</a>.<a href="../../immutable/HashMap.scala.html#162790" title="=&gt; scala.collection.immutable.HashMap.Int">getHash</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#7785" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;computed hash of &quot;)" class="string">&quot;computed hash of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355122" title="scala.collection.immutable.HashMap.HashMap1[k,v]">hm</a>.<a href="../../immutable/HashMap.scala.html#162789" title="=&gt; k">getKey</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355122" title="scala.collection.immutable.HashMap.HashMap1[k,v]">hm</a>.<a href="../../immutable/HashMap.scala.html#162791" title="(k: k)Int">computeHashFor</a><span class="delimiter">(</span><a href="#355122" title="scala.collection.immutable.HashMap.HashMap1[k,v]">hm</a>.<a href="../../immutable/HashMap.scala.html#162789" title="=&gt; k">getKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#7785" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;trie.get(key): &quot;)" class="string">&quot;trie.get(key): &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355122" title="scala.collection.immutable.HashMap.HashMap1[k,v]">hm</a>.<a href="../../immutable/HashMap.scala.html#161716" title="(key: k)Option[v]">get</a><span class="delimiter">(</span><a href="#355122" title="scala.collection.immutable.HashMap.HashMap1[k,v]">hm</a>.<a href="../../immutable/HashMap.scala.html#162789" title="=&gt; k">getKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <a href="../../../Predef.scala.html#7785" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;other kind of node&quot;)" class="string">&quot;other kind of node&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


/** $factoryInfo
 *  @define Coll immutable.ParHashMap
 *  @define coll immutable parallel hash map
 */
<span class="keyword">object</span> <a title="object scala.collection.parallel.immutable.ParHashMap" id="355163">ParHashMap</a> <a href="../../../ScalaObject.scala.html#1452" title="ScalaObject" class="keyword">extends</a> <a href="../../generic/ParMapFactory.scala.html#11114" title="scala.collection.generic.ParMapFactory[scala.collection.parallel.immutable.ParHashMap]">ParMapFactory</a><span class="delimiter">[</span>ParHashMap<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[K, V]=&gt; scala.collection.parallel.immutable.ParHashMap[K,V]" id="162577">empty</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="162580">K</a>, <a title="&gt;: Nothing &lt;: Any" id="162581">V</a><span class="delimiter">]</span>: <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <a href="#161816" title="()scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">new</a> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[K, V]=&gt; scala.collection.parallel.Combiner[(K, V),scala.collection.parallel.immutable.ParHashMap[K,V]]" id="162582">newCombiner</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="162585">K</a>, <a title="&gt;: Nothing &lt;: Any" id="162586">V</a><span class="delimiter">]</span>: <a href="../Combiner.scala.html#15065" title="scala.collection.parallel.Combiner[(K, V),scala.collection.parallel.immutable.ParHashMap[K,V]]">Combiner</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span>, ParHashMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#318700" title="[K, V]=&gt; scala.collection.parallel.immutable.HashMapCombiner[K,V]">HashMapCombiner</a><span title="scala.collection.parallel.immutable.HashMapCombiner[K,V]" class="delimiter">[</span><a href="#162585" title="K">K</a>, <a href="#162586" title="V">V</a><span class="delimiter">]</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[K, V]=&gt; scala.collection.generic.CanCombineFrom[scala.collection.parallel.immutable.ParHashMap.Coll,(K, V),scala.collection.parallel.immutable.ParHashMap[K,V]]" id="162587">canBuildFrom</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="162590">K</a>, <a title="&gt;: Nothing &lt;: Any" id="162591">V</a><span class="delimiter">]</span>: <a href="../../generic/CanCombineFrom.scala.html#11093" title="scala.collection.generic.CanCombineFrom[scala.collection.parallel.immutable.ParHashMap.Coll,(K, V),scala.collection.parallel.immutable.ParHashMap[K,V]]">CanCombineFrom</a><span class="delimiter">[</span>Coll, <span class="delimiter">(</span>K, V<span class="delimiter">)</span>, ParHashMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="scala.collection.parallel.immutable.ParHashMap.CanCombineFromMap[K,V]" class="keyword">new</span> <a href="../../generic/ParMapFactory.scala.html#120885" title="scala.collection.parallel.immutable.ParHashMap.CanCombineFromMap[K,V]">CanCombineFromMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[K, V](t: scala.collection.immutable.HashMap[K,V])scala.collection.parallel.immutable.ParHashMap[K,V]" id="162592">fromTrie</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="162595">K</a>, <a title="&gt;: Nothing &lt;: Any" id="162596">V</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.HashMap[K,V]" id="162893">t</a>: <a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,V]">HashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">new</span> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">(</span><a href="#162893" title="scala.collection.immutable.HashMap[K,V]">t</a><span class="delimiter">)</span>

  <span class="keyword">var</span> <a title="java.util.concurrent.atomic.AtomicInteger" id="162598">totalcombines</a> = <span title="java.util.concurrent.atomic.AtomicInteger" class="keyword">new</span> java.util.concurrent.atomic.<span title="java.util.concurrent.atomic.AtomicInteger">AtomicInteger</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


<span class="keyword">private</span><span class="delimiter">[</span>parallel<span class="delimiter">]</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class HashMapCombiner[K, V] extends scala.collection.parallel.BucketCombiner[(K, V),scala.collection.parallel.immutable.ParHashMap[K,V],(K, V),scala.collection.parallel.immutable.HashMapCombiner[K,V]] with ScalaObject" id="15833">HashMapCombiner</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="15962">K</a>, <a title="&gt;: Nothing &lt;: Any" id="15963">V</a><span class="delimiter">]</span>
<a href="../../../ScalaObject.scala.html#1452" title="ScalaObject" class="keyword">extends</a> collection.parallel.<a href="../package.scala.html#14711" title="scala.collection.parallel.BucketCombiner[(K, V),scala.collection.parallel.immutable.ParHashMap[K,V],(K, V),scala.collection.parallel.immutable.HashMapCombiner[K,V]]">BucketCombiner</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span>, ParHashMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <span class="delimiter">(</span>K, V<span class="delimiter">)</span>, HashMapCombiner<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#15834" title="object scala.collection.parallel.immutable.HashMapCombiner">HashMapCombiner</a>.<a href="#318707" title="=&gt; Int">rootsize</a><span class="delimiter">)</span> <span class="delimiter">{</span>
//self: EnvironmentPassingCombiner[(K, V), ParHashMap[K, V]] =&gt;
  <span class="keyword">import</span> <a href="#15834" title="object scala.collection.parallel.immutable.HashMapCombiner">HashMapCombiner</a>._
  <span class="keyword">import</span> collection.parallel.<a href="../package.scala.html#23492" title="=&gt; scala.collection.parallel.TaskSupport">tasksupport</a>._
  <span class="keyword">val</span> <a title="scala.collection.immutable.HashMap[K,V]" id="318743">emptyTrie</a> = <a href="../../immutable/HashMap.scala.html#11488" title="object scala.collection.immutable.HashMap">HashMap</a>.<a href="../../immutable/HashMap.scala.html#161848" title="[A, B]=&gt; scala.collection.immutable.HashMap[A,B]">empty</a><span title="scala.collection.immutable.HashMap[K,V]" class="delimiter">[</span><a href="#15962" title="K">K</a>, <a href="#15963" title="V">V</a><span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="(elem: (K, V))HashMapCombiner.this.type" id="318745">+=</a><span class="delimiter">(</span><a title="(K, V)" id="322376">elem</a>: <a href="../../../Tuple2.scala.html#1191" title="(K, V)" class="delimiter">(</a>K, V<span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../package.scala.html#318721" title="(x$1: Int)Unit">sz</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="keyword">val</span> <a title="Int" id="322399">hc</a> = <a href="#318743" title="=&gt; scala.collection.immutable.HashMap[K,V]">emptyTrie</a>.<a href="../../immutable/HashMap.scala.html#161729" title="(key: K)Int">computeHash</a><span class="delimiter">(</span><a href="#322376" title="(K, V)">elem</a>.<a href="../../../Tuple2.scala.html#30016" title="=&gt; K">_1</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Int" id="322400">pos</a> = <a href="#322399" title="Int">hc</a> <a href="../../../Int.scala.html#24683" title="(x: Int)Int">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Array.scala.html#24199" title="(i: Int)scala.collection.mutable.UnrolledBuffer[(K, V)]">buckets</a><span class="delimiter">(</span><a href="#322400" title="Int">pos</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      // initialize bucket
      <a href="../../../Array.scala.html#24200" title="(i: Int, x: scala.collection.mutable.UnrolledBuffer[(K, V)])Unit">buckets</a><span class="delimiter">(</span><a href="#322400" title="Int">pos</a><span class="delimiter">)</span> = <a href="../../../reflect/ClassManifest.scala.html#27561" title="scala.collection.mutable.UnrolledBuffer[(K, V)]" class="keyword">new</a> <a href="../../mutable/UnrolledBuffer.scala.html#13145" title="scala.collection.mutable.UnrolledBuffer[(K, V)]">UnrolledBuffer</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span>
    <span class="delimiter">}</span>
    // add to bucket
    <a href="../../../Array.scala.html#24199" title="(i: Int)scala.collection.mutable.UnrolledBuffer[(K, V)]">buckets</a><span class="delimiter">(</span><a href="#322400" title="Int">pos</a><span class="delimiter">)</span> <a href="../../mutable/UnrolledBuffer.scala.html#286485" title="(elem: (K, V))scala.collection.mutable.UnrolledBuffer[(K, V)]">+=</a> <a href="#322376" title="(K, V)">elem</a>
    <a href="#15833" title="HashMapCombiner.this.type" class="keyword">this</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()scala.collection.parallel.immutable.ParHashMap[K,V]" id="318746">result</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]" id="355173">bucks</a> = <a href="../../../Predef.scala.html#7817" title="(xs: Array[scala.collection.mutable.UnrolledBuffer[(K, V)]])scala.collection.mutable.ArrayOps[scala.collection.mutable.UnrolledBuffer[(K, V)]]">buckets</a>.<a href="../../TraversableLike.scala.html#24073" title="(p: scala.collection.mutable.UnrolledBuffer[(K, V)] =&gt; Boolean)Array[scala.collection.mutable.UnrolledBuffer[(K, V)]]">filter</a><a href="../../../Predef.scala.html#7817" title="(xs: Array[scala.collection.mutable.UnrolledBuffer[(K, V)]])scala.collection.mutable.ArrayOps[scala.collection.mutable.UnrolledBuffer[(K, V)]]" class="delimiter">(</a><a href="#355347" title="scala.collection.mutable.UnrolledBuffer[(K, V)]">_</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>.<a href="../../TraversableLike.scala.html#24063" title="(f: scala.collection.mutable.UnrolledBuffer[(K, V)] =&gt; scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)])(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.collection.mutable.UnrolledBuffer[(K, V)]],scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)],Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]])Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">map</a><a href="../../../Array.scala.html#35455" title="(implicit m: scala.reflect.ClassManifest[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]])scala.collection.generic.CanBuildFrom[Array[_],scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)],Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]]" class="delimiter">(</a><a href="#355789" title="scala.collection.mutable.UnrolledBuffer[(K, V)]">_</a>.<a href="../../mutable/UnrolledBuffer.scala.html#286475" title="=&gt; scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">headPtr</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Array[scala.collection.immutable.HashMap[K,V]]" id="355174">root</a> = <span title="Array[scala.collection.immutable.HashMap[K,V]]" class="keyword">new</span> <a href="../../../Array.scala.html#279" title="Array[scala.collection.immutable.HashMap[K,V]]">Array</a><span class="delimiter">[</span>HashMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#355173" title="Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>.<a href="../../../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span>

    <a href="../Tasks.scala.html#219102" title="(task: collection.parallel.tasksupport.Task[Unit,HashMapCombiner.this.CreateTrie])Unit">executeAndWaitResult</a><span class="delimiter">(</span><span title="HashMapCombiner.this.CreateTrie" class="keyword">new</span> <a href="#318751" title="HashMapCombiner.this.CreateTrie">CreateTrie</a><span class="delimiter">(</span><a href="#355173" title="Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>, <a href="#355174" title="Array[scala.collection.immutable.HashMap[K,V]]">root</a>, <span title="Int(0)" class="int">0</span>, <a href="#355173" title="Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>.<a href="../../../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Int" id="355175">bitmap</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">var</span> <a title="Int" id="355176">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#355176" title="Int">i</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#318707" title="=&gt; Int">rootsize</a><span class="delimiter">)</span> <a href="#355178" title="()Unit" class="delimiter">{</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Array.scala.html#24199" title="(i: Int)scala.collection.mutable.UnrolledBuffer[(K, V)]">buckets</a><span class="delimiter">(</span><a href="#355176" title="Int">i</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#355175" title="Int">bitmap</a> <a href="../../../Int.scala.html#24678" title="(x: Int)Int">|=</a> <span title="Int(1)" class="int">1</span> <a href="../../../Int.scala.html#24627" title="(x: Int)Int">&lt;&lt;</a> <a href="#355176" title="Int">i</a>
      <a href="#355176" title="Int">i</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Int" id="355177">sz</a> = <a href="../../../Predef.scala.html#7817" title="(xs: Array[scala.collection.immutable.HashMap[K,V]])scala.collection.mutable.ArrayOps[scala.collection.immutable.HashMap[K,V]]">root</a>.<a href="../../IndexedSeqOptimized.scala.html#26651" title="(z: Int)(op: (Int, scala.collection.immutable.HashMap[K,V]) =&gt; Int)Int">foldLeft</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#356310" title="Int">_</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#356311" title="scala.collection.immutable.HashMap[K,V]">_</a>.<a href="../../immutable/HashMap.scala.html#161710" title="=&gt; Int">size</a><span class="delimiter">)</span>

    <span title="scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">if</span> <span class="delimiter">(</span><a href="#355177" title="Int">sz</a> <a href="../../../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#161816" title="()scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">new</a> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>
    <span class="keyword">else</span> <span title="scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">if</span> <span class="delimiter">(</span><a href="#355177" title="Int">sz</a> <a href="../../../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">new</span> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../Array.scala.html#24199" title="(i: Int)scala.collection.immutable.HashMap[K,V]">root</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.HashMap.HashTrieMap[K,V]" id="356329">trie</a> = <span title="scala.collection.immutable.HashMap.HashTrieMap[K,V]" class="keyword">new</span> HashMap.<a href="../../immutable/HashMap.scala.html#161861" title="scala.collection.immutable.HashMap.HashTrieMap[K,V]">HashTrieMap</a><span class="delimiter">(</span><a href="#355175" title="Int">bitmap</a>, <a href="#355174" title="Array[scala.collection.immutable.HashMap[K,V]]">root</a>, <a href="#355177" title="Int">sz</a><span class="delimiter">)</span>
      <span title="scala.collection.parallel.immutable.ParHashMap[K,V]" class="keyword">new</span> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,V]">ParHashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#356329" title="scala.collection.immutable.HashMap.HashTrieMap[K,V]">trie</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[Repr](cbf: () =&gt; scala.collection.parallel.Combiner[V,Repr])scala.collection.parallel.immutable.ParHashMap[K,Repr]" id="318747">groupByKey</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="318749">Repr</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="() =&gt; scala.collection.parallel.Combiner[V,Repr]" id="318794">cbf</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Combiner<span class="delimiter">[</span>V, Repr<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,Repr]">ParHashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]" id="356340">bucks</a> = <a href="../../../Predef.scala.html#7817" title="(xs: Array[scala.collection.mutable.UnrolledBuffer[(K, V)]])scala.collection.mutable.ArrayOps[scala.collection.mutable.UnrolledBuffer[(K, V)]]">buckets</a>.<a href="../../TraversableLike.scala.html#24073" title="(p: scala.collection.mutable.UnrolledBuffer[(K, V)] =&gt; Boolean)Array[scala.collection.mutable.UnrolledBuffer[(K, V)]]">filter</a><a href="../../../Predef.scala.html#7817" title="(xs: Array[scala.collection.mutable.UnrolledBuffer[(K, V)]])scala.collection.mutable.ArrayOps[scala.collection.mutable.UnrolledBuffer[(K, V)]]" class="delimiter">(</a><a href="#356514" title="scala.collection.mutable.UnrolledBuffer[(K, V)]">_</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>.<a href="../../TraversableLike.scala.html#24063" title="(f: scala.collection.mutable.UnrolledBuffer[(K, V)] =&gt; scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)])(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.collection.mutable.UnrolledBuffer[(K, V)]],scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)],Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]])Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">map</a><a href="../../../Array.scala.html#35455" title="(implicit m: scala.reflect.ClassManifest[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]])scala.collection.generic.CanBuildFrom[Array[_],scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)],Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]]" class="delimiter">(</a><a href="#356956" title="scala.collection.mutable.UnrolledBuffer[(K, V)]">_</a>.<a href="../../mutable/UnrolledBuffer.scala.html#286475" title="=&gt; scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">headPtr</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Array[scala.collection.immutable.HashMap[K,AnyRef]]" id="356341">root</a> = <span title="Array[scala.collection.immutable.HashMap[K,AnyRef]]" class="keyword">new</span> <a href="../../../Array.scala.html#279" title="Array[scala.collection.immutable.HashMap[K,AnyRef]]">Array</a><span class="delimiter">[</span>HashMap<span class="delimiter">[</span>K, AnyRef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#356340" title="Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>.<a href="../../../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span>

    <a href="../Tasks.scala.html#219102" title="(task: collection.parallel.tasksupport.Task[Unit,HashMapCombiner.this.CreateGroupedTrie[Repr]])Unit">executeAndWaitResult</a><span class="delimiter">(</span><span title="HashMapCombiner.this.CreateGroupedTrie[Repr]" class="keyword">new</span> <a href="#318752" title="HashMapCombiner.this.CreateGroupedTrie[Repr]">CreateGroupedTrie</a><span class="delimiter">(</span><a href="#318794" title="() =&gt; scala.collection.parallel.Combiner[V,Repr]">cbf</a>, <a href="#356340" title="Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>, <a href="#356341" title="Array[scala.collection.immutable.HashMap[K,AnyRef]]">root</a>, <span title="Int(0)" class="int">0</span>, <a href="#356340" title="Array[scala.collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>.<a href="../../../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Int" id="356342">bitmap</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">var</span> <a title="Int" id="356343">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#356343" title="Int">i</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#318707" title="=&gt; Int">rootsize</a><span class="delimiter">)</span> <a href="#356345" title="()Unit" class="delimiter">{</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Array.scala.html#24199" title="(i: Int)scala.collection.mutable.UnrolledBuffer[(K, V)]">buckets</a><span class="delimiter">(</span><a href="#356343" title="Int">i</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#356342" title="Int">bitmap</a> <a href="../../../Int.scala.html#24678" title="(x: Int)Int">|=</a> <span title="Int(1)" class="int">1</span> <a href="../../../Int.scala.html#24627" title="(x: Int)Int">&lt;&lt;</a> <a href="#356343" title="Int">i</a>
      <a href="#356343" title="Int">i</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Int" id="356344">sz</a> = <a href="../../../Predef.scala.html#7817" title="(xs: Array[scala.collection.immutable.HashMap[K,AnyRef]])scala.collection.mutable.ArrayOps[scala.collection.immutable.HashMap[K,AnyRef]]">root</a>.<a href="../../IndexedSeqOptimized.scala.html#26651" title="(z: Int)(op: (Int, scala.collection.immutable.HashMap[K,AnyRef]) =&gt; Int)Int">foldLeft</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#357491" title="Int">_</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#357492" title="scala.collection.immutable.HashMap[K,AnyRef]">_</a>.<a href="../../immutable/HashMap.scala.html#161710" title="=&gt; Int">size</a><span class="delimiter">)</span>

    <span title="scala.collection.parallel.immutable.ParHashMap[K,Repr]" class="keyword">if</span> <span class="delimiter">(</span><a href="#356344" title="Int">sz</a> <a href="../../../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#161816" title="()scala.collection.parallel.immutable.ParHashMap[K,Repr]" class="keyword">new</a> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,Repr]">ParHashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span>
    <span class="keyword">else</span> <span title="scala.collection.parallel.immutable.ParHashMap[K,Repr]" class="keyword">if</span> <span class="delimiter">(</span><a href="#356344" title="Int">sz</a> <a href="../../../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="scala.collection.parallel.immutable.ParHashMap[K,Repr]" class="keyword">new</span> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,Repr]">ParHashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../Array.scala.html#24199" title="(i: Int)scala.collection.immutable.HashMap[K,AnyRef]">root</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.HashMap[K,Repr]" class="delimiter">[</span><a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,Repr]">HashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.HashMap.HashTrieMap[K,Repr]" id="357510">trie</a> = <span title="scala.collection.immutable.HashMap.HashTrieMap[K,Repr]" class="keyword">new</span> HashMap.<a href="../../immutable/HashMap.scala.html#161861" title="scala.collection.immutable.HashMap.HashTrieMap[K,Repr]">HashTrieMap</a><span class="delimiter">(</span><a href="#356342" title="Int">bitmap</a>, <a href="#356341" title="Array[scala.collection.immutable.HashMap[K,AnyRef]]">root</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Array[scala.collection.immutable.HashMap[K,Repr]]" class="delimiter">[</span><a href="../../../Array.scala.html#279" title="Array[scala.collection.immutable.HashMap[K,Repr]]">Array</a><span class="delimiter">[</span>HashMap<span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span>, <a href="#356344" title="Int">sz</a><span class="delimiter">)</span>
      <span title="scala.collection.parallel.immutable.ParHashMap[K,Repr]" class="keyword">new</span> <a href="#15839" title="scala.collection.parallel.immutable.ParHashMap[K,Repr]">ParHashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">(</span><a href="#357510" title="scala.collection.immutable.HashMap.HashTrieMap[K,Repr]">trie</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="318750">toString</a> = <span class="delimiter">{</span>
    <span title="String(&quot;HashTrieCombiner(sz: &quot;)" class="string">&quot;HashTrieCombiner(sz: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../package.scala.html#318723" title="=&gt; Int">size</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    //&quot;HashTrieCombiner(buckets:\n\t&quot; + buckets.filter(_ != null).mkString(&quot;\n\t&quot;) + &quot;)\n&quot;
  <span class="delimiter">}</span>

  /* tasks */

  <span class="keyword">class</span> <a title="class CreateTrie extends Object with collection.parallel.tasksupport.Task[Unit,HashMapCombiner.this.CreateTrie] with ScalaObject" id="318751">CreateTrie</a><a href="../../../ScalaObject.scala.html#1452" title="ScalaObject" class="delimiter">(</a><a title="Array[collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]" id="355876">bucks</a>: <a href="../../../Array.scala.html#279" title="Array[collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">Array</a><span class="delimiter">[</span>Unrolled<span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Array[scala.collection.immutable.HashMap[K,V]]" id="355877">root</a>: <a href="../../../Array.scala.html#279" title="Array[scala.collection.immutable.HashMap[K,V]]">Array</a><span class="delimiter">[</span>HashMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="355878">offset</a>: <a href="../../../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="355879">howmany</a>: <a href="../../../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="../Tasks.scala.html#219084" title="collection.parallel.tasksupport.Task[Unit,HashMapCombiner.this.CreateTrie]">Task</a><span class="delimiter">[</span>Unit, CreateTrie<span class="delimiter">]</span> <span class="delimiter">{</span>
    @volatile <span class="keyword">var</span> <a title="Unit" id="355870">result</a> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(prev: Option[Unit])Unit" id="355872">leaf</a><span class="delimiter">(</span><a title="Option[Unit]" id="357533">prev</a>: <a href="../../../Option.scala.html#1467" title="Option[Unit]">Option</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="357537">i</a> = <a href="#355878" title="Int">offset</a>
      <span class="keyword">val</span> <a title="Int" id="357538">until</a> = <a href="#355878" title="Int">offset</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#355879" title="Int">howmany</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#357537" title="Int">i</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#357538" title="Int">until</a><span class="delimiter">)</span> <a href="#357539" title="()Unit" class="delimiter">{</a>
        <a href="../../../Array.scala.html#24200" title="(i: Int, x: scala.collection.immutable.HashMap[K,V])Unit">root</a><span class="delimiter">(</span><a href="#357537" title="Int">i</a><span class="delimiter">)</span> = <a href="#355873" title="(elems: collection.mutable.UnrolledBuffer.Unrolled[(K, V)])scala.collection.immutable.HashMap[K,V]">createTrie</a><span class="delimiter">(</span><a href="../../../Array.scala.html#24199" title="(i: Int)collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">bucks</a><span class="delimiter">(</span><a href="#357537" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#357537" title="Int">i</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#355870" title="(x$1: Unit)Unit">result</a> = <a href="#355870" title="=&gt; Unit">result</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(elems: collection.mutable.UnrolledBuffer.Unrolled[(K, V)])scala.collection.immutable.HashMap[K,V]" id="355873">createTrie</a><span class="delimiter">(</span><a title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]" id="357550">elems</a>: <a href="../../mutable/UnrolledBuffer.scala.html#286550" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">Unrolled</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,V]">HashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.HashMap[K,V]" id="357559">trie</a> = <span title="scala.collection.immutable.HashMap[K,V]" class="keyword">new</span> <a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,V]">HashMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>

      <span class="keyword">var</span> <a title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]" id="357560">unrolled</a> = <a href="#357550" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">elems</a>
      <span class="keyword">var</span> <a title="Int" id="357561">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#357560" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#357562" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="Array[(K, V)]" id="357563">chunkarr</a> = <a href="#357560" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#286562" title="=&gt; Array[(K, V)]">array</a>
        <span class="keyword">val</span> <a title="Int" id="357564">chunksz</a> = <a href="#357560" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#286559" title="=&gt; Int">size</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#357561" title="Int">i</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#357564" title="Int">chunksz</a><span class="delimiter">)</span> <a href="#357565" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="(K, V)" id="357570">kv</a> = <a href="../../../Array.scala.html#24199" title="(i: Int)(K, V)">chunkarr</a><span class="delimiter">(</span><a href="#357561" title="Int">i</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="357571">hc</a> = <a href="#357559" title="scala.collection.immutable.HashMap[K,V]">trie</a>.<a href="../../immutable/HashMap.scala.html#161729" title="(key: K)Int">computeHash</a><span class="delimiter">(</span><a href="#357570" title="(K, V)">kv</a>.<a href="../../../Tuple2.scala.html#30016" title="=&gt; K">_1</a><span class="delimiter">)</span>
          <a href="#357559" title="scala.collection.immutable.HashMap[K,V]">trie</a> = <a href="#357559" title="scala.collection.immutable.HashMap[K,V]">trie</a>.<a href="../../immutable/HashMap.scala.html#161733" title="(key: K, hash: Int, level: Int, value: V, kv: (K, V), merger: ((K, V), (K, V)) =&gt; (K, V))scala.collection.immutable.HashMap[K,V]">updated0</a><span class="delimiter">(</span><a href="#357570" title="(K, V)">kv</a>.<a href="../../../Tuple2.scala.html#30016" title="=&gt; K">_1</a>, <a href="#357571" title="Int">hc</a>, <a href="#318705" title="=&gt; Int">rootbits</a>, <a href="#357570" title="(K, V)">kv</a>.<a href="../../../Tuple2.scala.html#30018" title="=&gt; V">_2</a>, <a href="#357570" title="(K, V)">kv</a>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#357561" title="Int">i</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#357561" title="Int">i</a> = <span title="Int(0)" class="int">0</span>
        <a href="#357560" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a> = <a href="#357560" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#286565" title="=&gt; collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">next</a>
      <span class="delimiter">}</span>

      <a href="#357559" title="scala.collection.immutable.HashMap[K,V]">trie</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; List[HashMapCombiner.this.CreateTrie]" id="355874">split</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="357624">fp</a> = <a href="#355879" title="Int">howmany</a> <a href="../../../Int.scala.html#24714" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span>
      <a href="../../immutable/List.scala.html#23913" title="(xs: HashMapCombiner.this.CreateTrie*)List[HashMapCombiner.this.CreateTrie]">List</a><span class="delimiter">(</span><span title="HashMapCombiner.this.CreateTrie" class="keyword">new</span> <a href="#318751" title="HashMapCombiner.this.CreateTrie">CreateTrie</a><span class="delimiter">(</span><a href="#355876" title="Array[collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>, <a href="#355877" title="Array[scala.collection.immutable.HashMap[K,V]]">root</a>, <a href="#355878" title="Int">offset</a>, <a href="#357624" title="Int">fp</a><span class="delimiter">)</span>, <span title="HashMapCombiner.this.CreateTrie" class="keyword">new</span> <a href="#318751" title="HashMapCombiner.this.CreateTrie">CreateTrie</a><span class="delimiter">(</span><a href="#355876" title="Array[collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>, <a href="#355877" title="Array[scala.collection.immutable.HashMap[K,V]]">root</a>, <a href="#355878" title="Int">offset</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#357624" title="Int">fp</a>, <a href="#355879" title="Int">howmany</a> <a href="../../../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#357624" title="Int">fp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="355875">shouldSplitFurther</a> = <a href="#355879" title="Int">howmany</a> <a href="../../../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> collection.parallel.<a href="../package.scala.html#23487" title="(sz: Int, parallelismLevel: Int)Int">thresholdFromSize</a><span class="delimiter">(</span><a href="#355877" title="Array[scala.collection.immutable.HashMap[K,V]]">root</a>.<a href="../../../Array.scala.html#24198" title="=&gt; Int">length</a>, <a href="../Tasks.scala.html#219107" title="=&gt; Int">parallelismLevel</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class CreateGroupedTrie[Repr] extends Object with collection.parallel.tasksupport.Task[Unit,HashMapCombiner.this.CreateGroupedTrie[Repr]] with ScalaObject" id="318752">CreateGroupedTrie</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="318753">Repr</a><span class="delimiter">]</span><a href="../../../ScalaObject.scala.html#1452" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; scala.collection.parallel.Combiner[V,Repr]" id="357046">cbf</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Combiner<span class="delimiter">[</span>V, Repr<span class="delimiter">]</span>, <a title="Array[collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]" id="357047">bucks</a>: <a href="../../../Array.scala.html#279" title="Array[collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">Array</a><span class="delimiter">[</span>Unrolled<span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Array[scala.collection.immutable.HashMap[K,AnyRef]]" id="357048">root</a>: <a href="../../../Array.scala.html#279" title="Array[scala.collection.immutable.HashMap[K,AnyRef]]">Array</a><span class="delimiter">[</span>HashMap<span class="delimiter">[</span>K, AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="357049">offset</a>: <a href="../../../Int.scala.html#495" title="Int">Int</a>, <a title="Int" id="357050">howmany</a>: <a href="../../../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="../Tasks.scala.html#219084" title="collection.parallel.tasksupport.Task[Unit,HashMapCombiner.this.CreateGroupedTrie[Repr]]">Task</a><span class="delimiter">[</span>Unit, CreateGroupedTrie<span class="delimiter">[</span>Repr<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    @volatile <span class="keyword">var</span> <a title="Unit" id="357038">result</a> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(prev: Option[Unit])Unit" id="357040">leaf</a><span class="delimiter">(</span><a title="Option[Unit]" id="357658">prev</a>: <a href="../../../Option.scala.html#1467" title="Option[Unit]">Option</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="357662">i</a> = <a href="#357049" title="Int">offset</a>
      <span class="keyword">val</span> <a title="Int" id="357663">until</a> = <a href="#357049" title="Int">offset</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#357050" title="Int">howmany</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#357662" title="Int">i</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#357663" title="Int">until</a><span class="delimiter">)</span> <a href="#357664" title="()Unit" class="delimiter">{</a>
        <a href="../../../Array.scala.html#24200" title="(i: Int, x: scala.collection.immutable.HashMap[K,AnyRef])Unit">root</a><span class="delimiter">(</span><a href="#357662" title="Int">i</a><span class="delimiter">)</span> = <a href="#357041" title="(elems: collection.mutable.UnrolledBuffer.Unrolled[(K, V)])scala.collection.immutable.HashMap[K,Repr]">createGroupedTrie</a><span class="delimiter">(</span><a href="../../../Array.scala.html#24199" title="(i: Int)collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">bucks</a><span class="delimiter">(</span><a href="#357662" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.HashMap[K,AnyRef]" class="delimiter">[</span><a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,AnyRef]">HashMap</a><span class="delimiter">[</span>K, AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>
        <a href="#357662" title="Int">i</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#357038" title="(x$1: Unit)Unit">result</a> = <a href="#357038" title="=&gt; Unit">result</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(elems: collection.mutable.UnrolledBuffer.Unrolled[(K, V)])scala.collection.immutable.HashMap[K,Repr]" id="357041">createGroupedTrie</a><span class="delimiter">(</span><a title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]" id="357675">elems</a>: <a href="../../mutable/UnrolledBuffer.scala.html#286550" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">Unrolled</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,Repr]">HashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]" id="357684">trie</a> = <span title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]" class="keyword">new</span> <a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">HashMap</a><span class="delimiter">[</span>K, Combiner<span class="delimiter">[</span>V, Repr<span class="delimiter">]</span><span class="delimiter">]</span>

      <span class="keyword">var</span> <a title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]" id="357685">unrolled</a> = <a href="#357675" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">elems</a>
      <span class="keyword">var</span> <a title="Int" id="357686">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#357685" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#357687" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="Array[(K, V)]" id="357688">chunkarr</a> = <a href="#357685" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#286562" title="=&gt; Array[(K, V)]">array</a>
        <span class="keyword">val</span> <a title="Int" id="357689">chunksz</a> = <a href="#357685" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#286559" title="=&gt; Int">size</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#357686" title="Int">i</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#357689" title="Int">chunksz</a><span class="delimiter">)</span> <a href="#357690" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="(K, V)" id="357695">kv</a> = <a href="../../../Array.scala.html#24199" title="(i: Int)(K, V)">chunkarr</a><span class="delimiter">(</span><a href="#357686" title="Int">i</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="357696">hc</a> = <a href="#357684" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">trie</a>.<a href="../../immutable/HashMap.scala.html#161729" title="(key: K)Int">computeHash</a><span class="delimiter">(</span><a href="#357695" title="(K, V)">kv</a>.<a href="../../../Tuple2.scala.html#30016" title="=&gt; K">_1</a><span class="delimiter">)</span>

          // check to see if already present
          <span class="keyword">val</span> <a title="scala.collection.parallel.Combiner[V,Repr]" id="357697">cmb</a>: <a href="../Combiner.scala.html#15065" title="scala.collection.parallel.Combiner[V,Repr]">Combiner</a><span class="delimiter">[</span>V, Repr<span class="delimiter">]</span> = <a href="#357684" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">trie</a>.<a href="../../immutable/HashMap.scala.html#161732" title="(key: K, hash: Int, level: Int)Option[scala.collection.parallel.Combiner[V,Repr]]">get0</a><span class="delimiter">(</span><a href="#357695" title="(K, V)">kv</a>.<a href="../../../Tuple2.scala.html#30016" title="=&gt; K">_1</a>, <a href="#357696" title="Int">hc</a>, <a href="#318705" title="=&gt; Int">rootbits</a><span class="delimiter">)</span> <span title="scala.collection.parallel.Combiner[V,Repr]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="scala.collection.parallel.Combiner[V,Repr]">Some</span><span class="delimiter">(</span><a title="scala.collection.parallel.Combiner[V,Repr]" id="357703">cmb</a><span class="delimiter">)</span> =&gt; <a href="#357703" title="scala.collection.parallel.Combiner[V,Repr]">cmb</a>
            <span class="keyword">case</span> <a href="../../../Option.scala.html#2425" title="scala.collection.parallel.Combiner[V,Repr]">None</a> =&gt;
              <span class="keyword">val</span> <a title="scala.collection.parallel.Combiner[V,Repr]" id="357704">cmb</a>: <a href="../Combiner.scala.html#15065" title="scala.collection.parallel.Combiner[V,Repr]">Combiner</a><span class="delimiter">[</span>V, Repr<span class="delimiter">]</span> = <a href="../../../Function0.scala.html#35030" title="()scala.collection.parallel.Combiner[V,Repr]">cbf</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#357684" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">trie</a> = <a href="#357684" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">trie</a>.<a href="../../immutable/HashMap.scala.html#161733" title="[B1 &gt;: scala.collection.parallel.Combiner[V,Repr]](key: K, hash: Int, level: Int, value: B1, kv: (K, B1), merger: ((K, B1), (K, B1)) =&gt; (K, B1))scala.collection.immutable.HashMap[K,B1]">updated0</a><span title="(key: K, hash: Int, level: Int, value: scala.collection.parallel.Combiner[V,Repr], kv: (K, scala.collection.parallel.Combiner[V,Repr]), merger: ((K, scala.collection.parallel.Combiner[V,Repr]), (K, scala.collection.parallel.Combiner[V,Repr])) =&gt; (K, scala.collection.parallel.Combiner[V,Repr]))scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]" class="delimiter">[</span><a href="../Combiner.scala.html#15065" title="scala.collection.parallel.Combiner[V,Repr]">Combiner</a><span class="delimiter">[</span>V, Repr<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#357695" title="(K, V)">kv</a>.<a href="../../../Tuple2.scala.html#30016" title="=&gt; K">_1</a>, <a href="#357696" title="Int">hc</a>, <a href="#318705" title="=&gt; Int">rootbits</a>, <a href="#357704" title="scala.collection.parallel.Combiner[V,Repr]">cmb</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
              <a href="#357704" title="scala.collection.parallel.Combiner[V,Repr]">cmb</a>
          <span class="delimiter">}</span>
          <a href="#357697" title="scala.collection.parallel.Combiner[V,Repr]">cmb</a> <a href="../../mutable/Builder.scala.html#27385" title="(elem: V)cmb.type">+=</a> <a href="#357695" title="(K, V)">kv</a>.<a href="../../../Tuple2.scala.html#30018" title="=&gt; V">_2</a>
          <a href="#357686" title="Int">i</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#357686" title="Int">i</a> = <span title="Int(0)" class="int">0</span>
        <a href="#357685" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a> = <a href="#357685" title="collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#286565" title="=&gt; collection.mutable.UnrolledBuffer.Unrolled[(K, V)]">next</a>
      <span class="delimiter">}</span>

      <a href="#357042" title="(trie: scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]])scala.collection.immutable.HashMap[K,Repr]">evaluateCombiners</a><span class="delimiter">(</span><a href="#357684" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">trie</a><span class="delimiter">)</span>
      <a href="#357684" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">trie</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.HashMap[K,Repr]" class="delimiter">[</span><a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,Repr]">HashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(trie: scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]])scala.collection.immutable.HashMap[K,Repr]" id="357042">evaluateCombiners</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]" id="357753">trie</a>: <a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">HashMap</a><span class="delimiter">[</span>K, Combiner<span class="delimiter">[</span>V, Repr<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,Repr]">HashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span> = <a href="#357753" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">trie</a> <span title="scala.collection.immutable.HashMap[K,Repr]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.HashMap.HashMap1[K,Repr]" id="357755">hm1</a>: HashMap.<a href="../../immutable/HashMap.scala.html#161855" title="scala.collection.immutable.HashMap.HashMap1[_,_]">HashMap1</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt;
        <span class="keyword">val</span> <a title="Repr" id="357758">evaledvalue</a> = <a href="#357755" title="scala.collection.immutable.HashMap.HashMap1[_,_]">hm1</a>.<a href="../../immutable/HashMap.scala.html#162782" title="=&gt; _">value</a>.<a href="../../mutable/Builder.scala.html#27387" title="()To">result</a>
        <span title="scala.collection.immutable.HashMap.HashMap1[K,Repr]" class="keyword">new</span> HashMap.<a href="../../immutable/HashMap.scala.html#161855" title="scala.collection.immutable.HashMap.HashMap1[K,Repr]">HashMap1</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">(</span><a href="#357755" title="scala.collection.immutable.HashMap.HashMap1[_,_]">hm1</a>.<a href="../../immutable/HashMap.scala.html#162778" title="=&gt; _">key</a>, <a href="#357755" title="scala.collection.immutable.HashMap.HashMap1[_,_]">hm1</a>.<a href="../../immutable/HashMap.scala.html#162780" title="=&gt; scala.collection.immutable.HashMap.Int">hash</a>, <a href="#357758" title="Repr">evaledvalue</a>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.HashMap.HashMapCollision1[K,Repr]" id="357763">hmc</a>: HashMap.<a href="../../immutable/HashMap.scala.html#161858" title="scala.collection.immutable.HashMap.HashMapCollision1[_,_]">HashMapCollision1</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.immutable.ListMap[_,Repr]" id="357766">evaledkvs</a> = <a href="#357763" title="scala.collection.immutable.HashMap.HashMapCollision1[_,_]">hmc</a>.<a href="../../immutable/HashMap.scala.html#163186" title="=&gt; scala.collection.immutable.ListMap[_,_]">kvs</a> <a href="../../TraversableLike.scala.html#24063" title="(f: ((_, _)) =&gt; (_, Repr))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.ListMap[_,_],(_, Repr),scala.collection.immutable.ListMap[_,Repr]])scala.collection.immutable.ListMap[_,Repr]">map</a> <span class="delimiter">{</span> <a title="(_, _)" id="357783">p</a> =&gt; <a href="../../../Tuple2.scala.html#30293" title="(_1: _, _2: Repr)(_, Repr)" class="delimiter">(</a><a href="#357783" title="(_, _)">p</a>.<a href="../../../Tuple2.scala.html#30016" title="=&gt; _">_1</a>, <a href="#357783" title="(_, _)">p</a>.<a href="../../../Tuple2.scala.html#30018" title="=&gt; _">_2</a>.<a href="../../mutable/Builder.scala.html#27387" title="()To">result</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span title="scala.collection.immutable.HashMap.HashMapCollision1[K,Repr]" class="keyword">new</span> HashMap.<a href="../../immutable/HashMap.scala.html#161858" title="scala.collection.immutable.HashMap.HashMapCollision1[K,Repr]">HashMapCollision1</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">(</span><a href="#357763" title="scala.collection.immutable.HashMap.HashMapCollision1[_,_]">hmc</a>.<a href="../../immutable/HashMap.scala.html#163184" title="=&gt; scala.collection.immutable.HashMap.Int">hash</a>, <a href="#357766" title="scala.collection.immutable.ListMap[_,Repr]">evaledkvs</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.HashMap[K,Repr]" id="357988">htm</a>: HashMap.<a href="../../immutable/HashMap.scala.html#161861" title="scala.collection.immutable.HashMap.HashTrieMap[k,v]">HashTrieMap</a><span class="delimiter">[</span>k, v<span class="delimiter">]</span> =&gt;
        <span class="keyword">var</span> <a title="Int" id="357991">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#357991" title="Int">i</a> <a href="../../../Int.scala.html#24650" title="(x: Int)Boolean">&lt;</a> <a href="#357988" title="scala.collection.immutable.HashMap.HashTrieMap[k,v]">htm</a>.<a href="../../immutable/HashMap.scala.html#163084" title="=&gt; Array[scala.collection.immutable.HashMap[k,v]]">elems</a>.<a href="../../../Array.scala.html#24198" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#357992" title="()Unit" class="delimiter">{</a>
          <a href="#357988" title="scala.collection.immutable.HashMap.HashTrieMap[k,v]">htm</a>.<a href="../../../Array.scala.html#24200" title="(i: Int, x: scala.collection.immutable.HashMap[k,v])Unit">elems</a><span class="delimiter">(</span><a href="#357991" title="Int">i</a><span class="delimiter">)</span> = <a href="#357042" title="(trie: scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]])scala.collection.immutable.HashMap[K,Repr]">evaluateCombiners</a><span class="delimiter">(</span><a href="#357988" title="scala.collection.immutable.HashMap.HashTrieMap[k,v]">htm</a>.<a href="../../../Array.scala.html#24199" title="(i: Int)scala.collection.immutable.HashMap[k,v]">elems</a><span class="delimiter">(</span><a href="#357991" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.HashMap[k,v]" class="delimiter">[</span><a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[k,v]">HashMap</a><span class="delimiter">[</span>k, v<span class="delimiter">]</span><span class="delimiter">]</span>
          <a href="#357991" title="Int">i</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#357988" title="scala.collection.immutable.HashMap.HashTrieMap[k,v]">htm</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.HashMap[K,Repr]" class="delimiter">[</span><a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,Repr]">HashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">]</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.HashMap[K,Repr]" id="358005">empty</a> =&gt; <a href="#358005" title="scala.collection.immutable.HashMap[K,scala.collection.parallel.Combiner[V,Repr]]">empty</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.HashMap[K,Repr]" class="delimiter">[</span><a href="../../immutable/HashMap.scala.html#11487" title="scala.collection.immutable.HashMap[K,Repr]">HashMap</a><span class="delimiter">[</span>K, Repr<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; List[HashMapCombiner.this.CreateGroupedTrie[Repr]]" id="357043">split</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="358009">fp</a> = <a href="#357050" title="Int">howmany</a> <a href="../../../Int.scala.html#24714" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span>
      <a href="../../immutable/List.scala.html#23913" title="(xs: HashMapCombiner.this.CreateGroupedTrie[Repr]*)List[HashMapCombiner.this.CreateGroupedTrie[Repr]]">List</a><span class="delimiter">(</span><span title="HashMapCombiner.this.CreateGroupedTrie[Repr]" class="keyword">new</span> <a href="#318752" title="HashMapCombiner.this.CreateGroupedTrie[Repr]">CreateGroupedTrie</a><span class="delimiter">(</span><a href="#357046" title="() =&gt; scala.collection.parallel.Combiner[V,Repr]">cbf</a>, <a href="#357047" title="Array[collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>, <a href="#357048" title="Array[scala.collection.immutable.HashMap[K,AnyRef]]">root</a>, <a href="#357049" title="Int">offset</a>, <a href="#358009" title="Int">fp</a><span class="delimiter">)</span>, <span title="HashMapCombiner.this.CreateGroupedTrie[Repr]" class="keyword">new</span> <a href="#318752" title="HashMapCombiner.this.CreateGroupedTrie[Repr]">CreateGroupedTrie</a><span class="delimiter">(</span><a href="#357046" title="() =&gt; scala.collection.parallel.Combiner[V,Repr]">cbf</a>, <a href="#357047" title="Array[collection.mutable.UnrolledBuffer.Unrolled[(K, V)]]">bucks</a>, <a href="#357048" title="Array[scala.collection.immutable.HashMap[K,AnyRef]]">root</a>, <a href="#357049" title="Int">offset</a> <a href="../../../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#358009" title="Int">fp</a>, <a href="#357050" title="Int">howmany</a> <a href="../../../Int.scala.html#24700" title="(x: Int)Int">-</a> <a href="#358009" title="Int">fp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="357044">shouldSplitFurther</a> = <a href="#357050" title="Int">howmany</a> <a href="../../../Int.scala.html#24664" title="(x: Int)Boolean">&gt;</a> collection.parallel.<a href="../package.scala.html#23487" title="(sz: Int, parallelismLevel: Int)Int">thresholdFromSize</a><span class="delimiter">(</span><a href="#357048" title="Array[scala.collection.immutable.HashMap[K,AnyRef]]">root</a>.<a href="../../../Array.scala.html#24198" title="=&gt; Int">length</a>, <a href="../Tasks.scala.html#219107" title="=&gt; Int">parallelismLevel</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


<span class="keyword">private</span><span class="delimiter">[</span>parallel<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object scala.collection.parallel.immutable.HashMapCombiner" id="15834">HashMapCombiner</a> <a href="../../../ScalaObject.scala.html#1452" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="[K, V]=&gt; scala.collection.parallel.immutable.HashMapCombiner[K,V]" id="318700">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="318703">K</a>, <a title="&gt;: Nothing &lt;: Any" id="318704">V</a><span class="delimiter">]</span> = <a href="#318712" title="scala.collection.parallel.immutable.HashMapCombiner[K,V]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.parallel.immutable.HashMapCombiner[K,V]" id="318712">HashMapCombiner</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> <span class="delimiter">{</span><span class="delimiter">}</span> // was: with EnvironmentPassingCombiner[(K, V), ParHashMap[K, V]]

  <span class="keyword">private</span><span class="delimiter">[</span>immutable<span class="delimiter">]</span> <span class="keyword">val</span> <a title="Int" id="318705">rootbits</a> = <span title="Int(5)" class="int">5</span>
  <span class="keyword">private</span><span class="delimiter">[</span>immutable<span class="delimiter">]</span> <span class="keyword">val</span> <a title="Int" id="318707">rootsize</a> = <span class="int">1</span> <span title="Int(32)">&lt;&lt;</span> <span class="int">5</span>
<span class="delimiter">}</span>


















        </pre>
    </body>
</html>