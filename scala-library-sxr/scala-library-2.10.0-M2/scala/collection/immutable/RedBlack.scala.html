<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/collection/immutable/RedBlack.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2005-2011, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */



<span class="keyword">package</span> scala.collection
<span class="keyword">package</span> immutable

/** Old base class that was used by previous implementations of `TreeMaps` and `TreeSets`.
 *
 *  Deprecated due to various performance bugs (see [[https://issues.scala-lang.org/browse/SI-5331 SI-5331]] for more information).
 *
 *  @since 2.3
 */
@deprecated<span class="delimiter">(</span><span class="string">&quot;use `TreeMap` or `TreeSet` instead&quot;</span>, <span class="string">&quot;2.10&quot;</span><span class="delimiter">)</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">8691885935445612921L</span><span class="delimiter">)</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RedBlack[A] extends Object with Serializable with ScalaObject" id="12060">RedBlack</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12611">A</a><span class="delimiter">]</span> <a href="../../ScalaObject.scala.html#1452" title="ScalaObject" class="keyword">extends</a> <a href="../../Serializable.scala.html#1332" title="Serializable">Serializable</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(x: A, y: A)Boolean" id="187383">isSmaller</a><span class="delimiter">(</span><a title="A" id="187405">x</a>: <a href="#12611" title="A">A</a>, <a title="A" id="187406">y</a>: <a href="#12611" title="A">A</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#2157" title="Boolean">Boolean</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]" id="187384">blacken</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187386">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="187408">t</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#187408" title="RedBlack.this.Tree[B]">t</a> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="RedBlack.this.BlackTree[B]">RedTree</span><span class="delimiter">(</span><a title="A" id="187526">k</a>, <a title="B" id="187527">v</a>, <a title="RedBlack.this.Tree[B]" id="187528">l</a>, <a title="RedBlack.this.Tree[B]" id="187529">r</a><span class="delimiter">)</span> =&gt; <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#187526" title="A">k</a>, <a href="#187527" title="B">v</a>, <a href="#187528" title="RedBlack.this.Tree[B]">l</a>, <a href="#187529" title="RedBlack.this.Tree[B]">r</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="RedBlack.this.Tree[B]" id="187573">t</a> =&gt; <a href="#187573" title="RedBlack.this.Tree[B]">t</a>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](isBlack: Boolean, k: A, v: B, l: RedBlack.this.Tree[B], r: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product" id="187387">mkTree</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187389">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="187574">isBlack</a>: <a href="../../Boolean.scala.html#2157" title="Boolean">Boolean</a>, <a title="A" id="187575">k</a>: <a href="#12611" title="A">A</a>, <a title="B" id="187576">v</a>: <a href="#187389" title="B">B</a>, <a title="RedBlack.this.Tree[B]" id="187577">l</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="187578">r</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">if</span> <span class="delimiter">(</span><a href="#187574" title="Boolean">isBlack</a><span class="delimiter">)</span> <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#187575" title="A">k</a>, <a href="#187576" title="B">v</a>, <a href="#187577" title="RedBlack.this.Tree[B]">l</a>, <a href="#187578" title="RedBlack.this.Tree[B]">r</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#187575" title="A">k</a>, <a href="#187576" title="B">v</a>, <a href="#187577" title="RedBlack.this.Tree[B]">l</a>, <a href="#187578" title="RedBlack.this.Tree[B]">r</a><span class="delimiter">)</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Tree[+B] extends Object with Serializable with ScalaObject" id="187390">Tree</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="187391">B</a><span class="delimiter">]</span> <a href="../../ScalaObject.scala.html#1452" title="ScalaObject" class="keyword">extends</a> <a href="../../Serializable.scala.html#1332" title="Serializable">Serializable</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="187412">isEmpty</a>: <a href="../../Boolean.scala.html#2157" title="Boolean">Boolean</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="187413">isBlack</a>: <a href="../../Boolean.scala.html#2157" title="Boolean">Boolean</a>
    <span class="keyword">def</span> <a title="(x: A)RedBlack.this.Tree[B]" id="187414">lookup</a><span class="delimiter">(</span><a title="A" id="187703">x</a>: <a href="#12611" title="A">A</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="[B1 &gt;: B](k: A, v: B1)RedBlack.this.Tree[B1]" id="187415">update</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="187417">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="187743">k</a>: <a href="#12611" title="A">A</a>, <a title="B1" id="187744">v</a>: <a href="#187417" title="B1">B1</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span> = <a href="#187384" title="(t: RedBlack.this.Tree[B1])RedBlack.this.Tree[B1]">blacken</a><span class="delimiter">(</span><a href="#187425" title="(k: A, v: B1)RedBlack.this.Tree[B1]">upd</a><span class="delimiter">(</span><a href="#187743" title="A">k</a>, <a href="#187744" title="B1">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[B]" id="187418">delete</a><span class="delimiter">(</span><a title="A" id="187756">k</a>: <a href="#12611" title="A">A</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#187384" title="(t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">blacken</a><span class="delimiter">(</span><a href="#187428" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#187756" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]" id="187419">range</a><span class="delimiter">(</span><a title="Option[A]" id="187761">from</a>: <a href="../../Option.scala.html#1467" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="187762">until</a>: <a href="../../Option.scala.html#1467" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#187384" title="(t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">blacken</a><span class="delimiter">(</span><a href="#187430" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="#187761" title="Option[A]">from</a>, <a href="#187762" title="Option[A]">until</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[U](f: (A, B) =&gt; U)Unit" id="187420">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187422">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, B) =&gt; U" id="187691">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt;  U<span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Stream[(A, B)]" id="187423">toStream</a>: <a href="Stream.scala.html#11538" title="scala.collection.immutable.Stream[(A, B)]">Stream</a><span class="delimiter">[</span><span class="delimiter">(</span>A,B<span class="delimiter">)</span><span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; Iterator[(A, B)]" id="187424">iterator</a>: <a href="../Iterator.scala.html#4712" title="Iterator[(A, B)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="[B1 &gt;: B](k: A, v: B1)RedBlack.this.Tree[B1]" id="187425">upd</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="187427">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="187658">k</a>: <a href="#12611" title="A">A</a>, <a title="B1" id="187659">v</a>: <a href="#187427" title="B1">B1</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[B]" id="187428">del</a><span class="delimiter">(</span><a title="A" id="187654">k</a>: <a href="#12611" title="A">A</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[B]" id="187429">smallest</a>: <a href="#187392" title="RedBlack.this.NonEmpty[B]">NonEmpty</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]" id="187430">rng</a><span class="delimiter">(</span><a title="Option[A]" id="187644">from</a>: <a href="../../Option.scala.html#1467" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="187645">until</a>: <a href="../../Option.scala.html#1467" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="187431">first</a> : <a href="#12611" title="A">A</a>
    <span class="keyword">def</span> <a title="=&gt; A" id="187432">last</a> : <a href="#12611" title="A">A</a>
    <span class="keyword">def</span> <a title="=&gt; Int" id="187433">count</a> : <a href="../../Int.scala.html#495" title="Int">Int</a>
  <span class="delimiter">}</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class NonEmpty[+B] extends RedBlack.this.Tree[B] with Serializable with ScalaObject" id="187392">NonEmpty</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="187393">B</a><span class="delimiter">]</span> <a href="../../ScalaObject.scala.html#1452" title="ScalaObject" class="keyword">extends</a> <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../Serializable.scala.html#1332" title="Serializable">Serializable</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="187440">isEmpty</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="187441">key</a>: <a href="#12611" title="A">A</a>
    <span class="keyword">def</span> <a title="=&gt; B" id="187442">value</a>: <a href="#187393" title="B">B</a>
    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.Tree[B]" id="187443">left</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.Tree[B]" id="187444">right</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[B]" id="187445">lookup</a><span class="delimiter">(</span><a title="A" id="187705">k</a>: <a href="#12611" title="A">A</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
      <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187705" title="A">k</a>, <a href="#187441" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187414" title="(x: A)RedBlack.this.Tree[B]">lookup</a><span class="delimiter">(</span><a href="#187705" title="A">k</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187705" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187414" title="(x: A)RedBlack.this.Tree[B]">lookup</a><span class="delimiter">(</span><a href="#187705" title="A">k</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#187392" title="RedBlack.this.NonEmpty[B]" class="keyword">this</a>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[B1 &gt;: B](isBlack: Boolean, z: A, zv: B, l: RedBlack.this.Tree[B1], d: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product" id="187446">balanceLeft</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="187448">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="187768">isBlack</a>: <a href="../../Boolean.scala.html#2157" title="Boolean">Boolean</a>, <a title="A" id="187769">z</a>: <a href="#12611" title="A">A</a>, <a title="B" id="187770">zv</a>: <a href="#187393" title="B">B</a>, <a title="RedBlack.this.Tree[B1]" id="187771">l</a>: <a href="#187390" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B1]" id="187772">d</a>: <a href="#187390" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span><span class="delimiter">)</span>/*: NonEmpty[B1]*/ = <a href="#187771" title="RedBlack.this.Tree[B1]">l</a> <span title="RedBlack extends RedBlack.this.NonEmpty[B1] with Product" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B1]">RedTree</span><span class="delimiter">(</span><a title="A" id="187779">y</a>, <a title="B1" id="187780">yv</a>, RedTree<span class="delimiter">(</span><a title="A" id="187785">x</a>, <a title="B1" id="187786">xv</a>, <a title="RedBlack.this.Tree[B1]" id="187787">a</a>, <a title="RedBlack.this.Tree[B1]" id="187788">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B1]" id="187789">c</a><span class="delimiter">)</span> =&gt;
        <a href="#189708" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.RedTree[B1]">RedTree</a><span class="delimiter">(</span><a href="#187779" title="A">y</a>, <a href="#187780" title="B1">yv</a>, <a href="#189700" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#187785" title="A">x</a>, <a href="#187786" title="B1">xv</a>, <a href="#187787" title="RedBlack.this.Tree[B1]">a</a>, <a href="#187788" title="RedBlack.this.Tree[B1]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#187769" title="A">z</a>, <a href="#187770" title="B">zv</a>, <a href="#187789" title="RedBlack.this.Tree[B1]">c</a>, <a href="#187772" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B1]">RedTree</span><span class="delimiter">(</span><a title="A" id="187821">x</a>, <a title="B1" id="187822">xv</a>, <a title="RedBlack.this.Tree[B1]" id="187823">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="187828">y</a>, <a title="B1" id="187829">yv</a>, <a title="RedBlack.this.Tree[B1]" id="187830">b</a>, <a title="RedBlack.this.Tree[B1]" id="187831">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#189708" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.RedTree[B1]">RedTree</a><span class="delimiter">(</span><a href="#187828" title="A">y</a>, <a href="#187829" title="B1">yv</a>, <a href="#189700" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#187821" title="A">x</a>, <a href="#187822" title="B1">xv</a>, <a href="#187823" title="RedBlack.this.Tree[B1]">a</a>, <a href="#187830" title="RedBlack.this.Tree[B1]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#187769" title="A">z</a>, <a href="#187770" title="B">zv</a>, <a href="#187831" title="RedBlack.this.Tree[B1]">c</a>, <a href="#187772" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B1] with Product">_</span> =&gt;
        <a href="#187387" title="(isBlack: Boolean, k: A, v: B1, l: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">mkTree</a><span class="delimiter">(</span><a href="#187768" title="Boolean">isBlack</a>, <a href="#187769" title="A">z</a>, <a href="#187770" title="B">zv</a>, <a href="#187771" title="RedBlack.this.Tree[B1]">l</a>, <a href="#187772" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[B1 &gt;: B](isBlack: Boolean, x: A, xv: B, a: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product" id="187449">balanceRight</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="187451">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="187880">isBlack</a>: <a href="../../Boolean.scala.html#2157" title="Boolean">Boolean</a>, <a title="A" id="187881">x</a>: <a href="#12611" title="A">A</a>, <a title="B" id="187882">xv</a>: <a href="#187393" title="B">B</a>, <a title="RedBlack.this.Tree[B1]" id="187883">a</a>: <a href="#187390" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B1]" id="187884">r</a>: <a href="#187390" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span><span class="delimiter">)</span>/*: NonEmpty[B1]*/ = <a href="#187884" title="RedBlack.this.Tree[B1]">r</a> <span title="RedBlack extends RedBlack.this.NonEmpty[B1] with Product" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B1]">RedTree</span><span class="delimiter">(</span><a title="A" id="187891">z</a>, <a title="B1" id="187892">zv</a>, RedTree<span class="delimiter">(</span><a title="A" id="187897">y</a>, <a title="B1" id="187898">yv</a>, <a title="RedBlack.this.Tree[B1]" id="187899">b</a>, <a title="RedBlack.this.Tree[B1]" id="187900">c</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B1]" id="187901">d</a><span class="delimiter">)</span> =&gt;
        <a href="#189708" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.RedTree[B1]">RedTree</a><span class="delimiter">(</span><a href="#187897" title="A">y</a>, <a href="#187898" title="B1">yv</a>, <a href="#189700" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#187881" title="A">x</a>, <a href="#187882" title="B">xv</a>, <a href="#187883" title="RedBlack.this.Tree[B1]">a</a>, <a href="#187899" title="RedBlack.this.Tree[B1]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#187891" title="A">z</a>, <a href="#187892" title="B1">zv</a>, <a href="#187900" title="RedBlack.this.Tree[B1]">c</a>, <a href="#187901" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B1]">RedTree</span><span class="delimiter">(</span><a title="A" id="187933">y</a>, <a title="B1" id="187934">yv</a>, <a title="RedBlack.this.Tree[B1]" id="187935">b</a>, RedTree<span class="delimiter">(</span><a title="A" id="187940">z</a>, <a title="B1" id="187941">zv</a>, <a title="RedBlack.this.Tree[B1]" id="187942">c</a>, <a title="RedBlack.this.Tree[B1]" id="187943">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#189708" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.RedTree[B1]">RedTree</a><span class="delimiter">(</span><a href="#187933" title="A">y</a>, <a href="#187934" title="B1">yv</a>, <a href="#189700" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#187881" title="A">x</a>, <a href="#187882" title="B">xv</a>, <a href="#187883" title="RedBlack.this.Tree[B1]">a</a>, <a href="#187935" title="RedBlack.this.Tree[B1]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B1, left: RedBlack.this.Tree[B1], right: RedBlack.this.Tree[B1])RedBlack.this.BlackTree[B1]">BlackTree</a><span class="delimiter">(</span><a href="#187940" title="A">z</a>, <a href="#187941" title="B1">zv</a>, <a href="#187942" title="RedBlack.this.Tree[B1]">c</a>, <a href="#187943" title="RedBlack.this.Tree[B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B1] with Product">_</span> =&gt;
        <a href="#187387" title="(isBlack: Boolean, k: A, v: B1, l: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">mkTree</a><span class="delimiter">(</span><a href="#187880" title="Boolean">isBlack</a>, <a href="#187881" title="A">x</a>, <a href="#187882" title="B">xv</a>, <a href="#187883" title="RedBlack.this.Tree[B1]">a</a>, <a href="#187884" title="RedBlack.this.Tree[B1]">r</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="[B1 &gt;: B](k: A, v: B1)RedBlack.this.Tree[B1]" id="187452">upd</a><span class="delimiter">[</span><a title="&gt;: B &lt;: Any" id="187454">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="187666">k</a>: <a href="#12611" title="A">A</a>, <a title="B1" id="187667">v</a>: <a href="#187454" title="B1">B1</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B1]">Tree</a><span class="delimiter">[</span>B1<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="RedBlack.this.Tree[B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187666" title="A">k</a>, <a href="#187441" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187446" title="(isBlack: Boolean, z: A, zv: B, l: RedBlack.this.Tree[B1], d: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">balanceLeft</a><span class="delimiter">(</span><a href="#187413" title="=&gt; Boolean">isBlack</a>, <a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187425" title="(k: A, v: B1)RedBlack.this.Tree[B1]">upd</a><span class="delimiter">(</span><a href="#187666" title="A">k</a>, <a href="#187667" title="B1">v</a><span class="delimiter">)</span>, <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="RedBlack.this.Tree[B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187666" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187449" title="(isBlack: Boolean, x: A, xv: B, a: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">balanceRight</a><span class="delimiter">(</span><a href="#187413" title="=&gt; Boolean">isBlack</a>, <a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187425" title="(k: A, v: B1)RedBlack.this.Tree[B1]">upd</a><span class="delimiter">(</span><a href="#187666" title="A">k</a>, <a href="#187667" title="B1">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#187387" title="(isBlack: Boolean, k: A, v: B1, l: RedBlack.this.Tree[B1], r: RedBlack.this.Tree[B1])RedBlack.this.NonEmpty[B1] with Product">mkTree</a><span class="delimiter">(</span><a href="#187413" title="=&gt; Boolean">isBlack</a>, <a href="#187666" title="A">k</a>, <a href="#187667" title="B1">v</a>, <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    // Based on Stefan Kahrs' Haskell version of Okasaki's Red&amp;Black Trees
    // http://www.cse.unsw.edu.au/~dons/data/RedBlackTree.html
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[B]" id="187455">del</a><span class="delimiter">(</span><a title="A" id="187656">k</a>: <a href="#12611" title="A">A</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product" id="188050">balance</a><span class="delimiter">(</span><a title="A" id="188057">x</a>: <a href="#12611" title="A">A</a>, <a title="B" id="188058">xv</a>: <a href="#187393" title="B">B</a>, <a title="RedBlack.this.Tree[B]" id="188059">tl</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="188060">tr</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#30293" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#188059" title="RedBlack.this.Tree[B]">tl</a>, <a href="#188060" title="RedBlack.this.Tree[B]">tr</a><span class="delimiter">)</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="188073">y</a>, <a title="B" id="188074">yv</a>, <a title="RedBlack.this.Tree[B]" id="188075">a</a>, <a title="RedBlack.this.Tree[B]" id="188076">b</a><span class="delimiter">)</span>, RedTree<span class="delimiter">(</span><a title="A" id="188081">z</a>, <a title="B" id="188082">zv</a>, <a title="RedBlack.this.Tree[B]" id="188083">c</a>, <a title="RedBlack.this.Tree[B]" id="188084">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188057" title="A">x</a>, <a href="#188058" title="B">xv</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188073" title="A">y</a>, <a href="#188074" title="B">yv</a>, <a href="#188075" title="RedBlack.this.Tree[B]">a</a>, <a href="#188076" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188081" title="A">z</a>, <a href="#188082" title="B">zv</a>, <a href="#188083" title="RedBlack.this.Tree[B]">c</a>, <a href="#188084" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="188118">y</a>, <a title="B" id="188119">yv</a>, RedTree<span class="delimiter">(</span><a title="A" id="188124">z</a>, <a title="B" id="188125">zv</a>, <a title="RedBlack.this.Tree[B]" id="188126">a</a>, <a title="RedBlack.this.Tree[B]" id="188127">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188128">c</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188129">d</a><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188118" title="A">y</a>, <a href="#188119" title="B">yv</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188124" title="A">z</a>, <a href="#188125" title="B">zv</a>, <a href="#188126" title="RedBlack.this.Tree[B]">a</a>, <a href="#188127" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188057" title="A">x</a>, <a href="#188058" title="B">xv</a>, <a href="#188128" title="RedBlack.this.Tree[B]">c</a>, <a href="#188129" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="188163">y</a>, <a title="B" id="188164">yv</a>, <a title="RedBlack.this.Tree[B]" id="188165">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="188170">z</a>, <a title="B" id="188171">zv</a>, <a title="RedBlack.this.Tree[B]" id="188172">b</a>, <a title="RedBlack.this.Tree[B]" id="188173">c</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188174">d</a><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188170" title="A">z</a>, <a href="#188171" title="B">zv</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188163" title="A">y</a>, <a href="#188164" title="B">yv</a>, <a href="#188165" title="RedBlack.this.Tree[B]">a</a>, <a href="#188172" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188057" title="A">x</a>, <a href="#188058" title="B">xv</a>, <a href="#188173" title="RedBlack.this.Tree[B]">c</a>, <a href="#188174" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188204">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="188209">y</a>, <a title="B" id="188210">yv</a>, <a title="RedBlack.this.Tree[B]" id="188211">b</a>, RedTree<span class="delimiter">(</span><a title="A" id="188216">z</a>, <a title="B" id="188217">zv</a>, <a title="RedBlack.this.Tree[B]" id="188218">c</a>, <a title="RedBlack.this.Tree[B]" id="188219">d</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188209" title="A">y</a>, <a href="#188210" title="B">yv</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188057" title="A">x</a>, <a href="#188058" title="B">xv</a>, <a href="#188204" title="RedBlack.this.Tree[B]">a</a>, <a href="#188211" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188216" title="A">z</a>, <a href="#188217" title="B">zv</a>, <a href="#188218" title="RedBlack.this.Tree[B]">c</a>, <a href="#188219" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188249">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="188254">y</a>, <a title="B" id="188255">yv</a>, RedTree<span class="delimiter">(</span><a title="A" id="188260">z</a>, <a title="B" id="188261">zv</a>, <a title="RedBlack.this.Tree[B]" id="188262">b</a>, <a title="RedBlack.this.Tree[B]" id="188263">c</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188264">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188260" title="A">z</a>, <a href="#188261" title="B">zv</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188057" title="A">x</a>, <a href="#188058" title="B">xv</a>, <a href="#188249" title="RedBlack.this.Tree[B]">a</a>, <a href="#188262" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188254" title="A">y</a>, <a href="#188255" title="B">yv</a>, <a href="#188263" title="RedBlack.this.Tree[B]">c</a>, <a href="#188264" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.BlackTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188294">a</a>, <a title="RedBlack.this.Tree[B]" id="188295">b</a><span class="delimiter">)</span> =&gt;
          <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188057" title="A">x</a>, <a href="#188058" title="B">xv</a>, <a href="#188294" title="RedBlack.this.Tree[B]">a</a>, <a href="#188295" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(t: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]" id="188051">subl</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188334">t</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#188334" title="RedBlack.this.Tree[B]">t</a> <span title="RedBlack.this.RedTree[B]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">BlackTree</span><span class="delimiter">(</span><a title="A" id="188373">x</a>, <a title="B" id="188374">xv</a>, <a title="RedBlack.this.Tree[B]" id="188375">a</a>, <a title="RedBlack.this.Tree[B]" id="188376">b</a><span class="delimiter">)</span> =&gt; <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188373" title="A">x</a>, <a href="#188374" title="B">xv</a>, <a href="#188375" title="RedBlack.this.Tree[B]">a</a>, <a href="#188376" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; sys.<a href="../../sys/package.scala.html#23733" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation; expected black, got &quot;)" class="string">&quot;Defect: invariance violation; expected black, got &quot;</span><span title="(x$1: Any)String">+</span><a href="#188334" title="RedBlack.this.Tree[B]">t</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product" id="188052">balLeft</a><span class="delimiter">(</span><a title="A" id="188386">x</a>: <a href="#12611" title="A">A</a>, <a title="B" id="188387">xv</a>: <a href="#187393" title="B">B</a>, <a title="RedBlack.this.Tree[B]" id="188388">tl</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="188389">tr</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#30293" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#188388" title="RedBlack.this.Tree[B]">tl</a>, <a href="#188389" title="RedBlack.this.Tree[B]">tr</a><span class="delimiter">)</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="188402">y</a>, <a title="B" id="188403">yv</a>, <a title="RedBlack.this.Tree[B]" id="188404">a</a>, <a title="RedBlack.this.Tree[B]" id="188405">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188406">c</a><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188386" title="A">x</a>, <a href="#188387" title="B">xv</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188402" title="A">y</a>, <a href="#188403" title="B">yv</a>, <a href="#188404" title="RedBlack.this.Tree[B]">a</a>, <a href="#188405" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#188406" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188427">bl</a>, BlackTree<span class="delimiter">(</span><a title="A" id="188432">y</a>, <a title="B" id="188433">yv</a>, <a title="RedBlack.this.Tree[B]" id="188434">a</a>, <a title="RedBlack.this.Tree[B]" id="188435">b</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#188050" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balance</a><span class="delimiter">(</span><a href="#188386" title="A">x</a>, <a href="#188387" title="B">xv</a>, <a href="#188427" title="RedBlack.this.Tree[B]">bl</a>, <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188432" title="A">y</a>, <a href="#188433" title="B">yv</a>, <a href="#188434" title="RedBlack.this.Tree[B]">a</a>, <a href="#188435" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188447">bl</a>, RedTree<span class="delimiter">(</span><a title="A" id="188452">y</a>, <a title="B" id="188453">yv</a>, BlackTree<span class="delimiter">(</span><a title="A" id="188458">z</a>, <a title="B" id="188459">zv</a>, <a title="RedBlack.this.Tree[B]" id="188460">a</a>, <a title="RedBlack.this.Tree[B]" id="188461">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188462">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188458" title="A">z</a>, <a href="#188459" title="B">zv</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188386" title="A">x</a>, <a href="#188387" title="B">xv</a>, <a href="#188447" title="RedBlack.this.Tree[B]">bl</a>, <a href="#188460" title="RedBlack.this.Tree[B]">a</a><span class="delimiter">)</span>, <a href="#188050" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balance</a><span class="delimiter">(</span><a href="#188452" title="A">y</a>, <a href="#188453" title="B">yv</a>, <a href="#188461" title="RedBlack.this.Tree[B]">b</a>, <a href="#188051" title="(t: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">subl</a><span class="delimiter">(</span><a href="#188462" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; sys.<a href="../../sys/package.scala.html#23733" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation at &quot;)" class="string">&quot;Defect: invariance violation at &quot;</span><span title="(x$1: Any)String">+</span><a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product" id="188053">balRight</a><span class="delimiter">(</span><a title="A" id="188481">x</a>: <a href="#12611" title="A">A</a>, <a title="B" id="188482">xv</a>: <a href="#187393" title="B">B</a>, <a title="RedBlack.this.Tree[B]" id="188483">tl</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="188484">tr</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#30293" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#188483" title="RedBlack.this.Tree[B]">tl</a>, <a href="#188484" title="RedBlack.this.Tree[B]">tr</a><span class="delimiter">)</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188493">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="188498">y</a>, <a title="B" id="188499">yv</a>, <a title="RedBlack.this.Tree[B]" id="188500">b</a>, <a title="RedBlack.this.Tree[B]" id="188501">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188481" title="A">x</a>, <a href="#188482" title="B">xv</a>, <a href="#188493" title="RedBlack.this.Tree[B]">a</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188498" title="A">y</a>, <a href="#188499" title="B">yv</a>, <a href="#188500" title="RedBlack.this.Tree[B]">b</a>, <a href="#188501" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="delimiter">(</span>BlackTree<span class="delimiter">(</span><a title="A" id="188526">y</a>, <a title="B" id="188527">yv</a>, <a title="RedBlack.this.Tree[B]" id="188528">a</a>, <a title="RedBlack.this.Tree[B]" id="188529">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188530">bl</a><span class="delimiter">)</span> =&gt;
          <a href="#188050" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balance</a><span class="delimiter">(</span><a href="#188481" title="A">x</a>, <a href="#188482" title="B">xv</a>, <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188526" title="A">y</a>, <a href="#188527" title="B">yv</a>, <a href="#188528" title="RedBlack.this.Tree[B]">a</a>, <a href="#188529" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#188530" title="RedBlack.this.Tree[B]">bl</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="188546">y</a>, <a title="B" id="188547">yv</a>, <a title="RedBlack.this.Tree[B]" id="188548">a</a>, BlackTree<span class="delimiter">(</span><a title="A" id="188553">z</a>, <a title="B" id="188554">zv</a>, <a title="RedBlack.this.Tree[B]" id="188555">b</a>, <a title="RedBlack.this.Tree[B]" id="188556">c</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188557">bl</a><span class="delimiter">)</span> =&gt;
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188553" title="A">z</a>, <a href="#188554" title="B">zv</a>, <a href="#188050" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balance</a><span class="delimiter">(</span><a href="#188546" title="A">y</a>, <a href="#188547" title="B">yv</a>, <a href="#188051" title="(t: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">subl</a><span class="delimiter">(</span><a href="#188548" title="RedBlack.this.Tree[B]">a</a><span class="delimiter">)</span>, <a href="#188555" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188481" title="A">x</a>, <a href="#188482" title="B">xv</a>, <a href="#188556" title="RedBlack.this.Tree[B]">c</a>, <a href="#188557" title="RedBlack.this.Tree[B]">bl</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; sys.<a href="../../sys/package.scala.html#23733" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation at &quot;)" class="string">&quot;Defect: invariance violation at &quot;</span><span title="(x$1: Any)String">+</span><a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[B] with Product" id="188054">delLeft</a> = <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product">_</span>: <a href="#189700" title="RedBlack.this.BlackTree[_]">BlackTree</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#188052" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balLeft</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187428" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#187656" title="A">k</a><span class="delimiter">)</span>, <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">_</span> =&gt; <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187428" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#187656" title="A">k</a><span class="delimiter">)</span>, <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[B] with Product" id="188055">delRight</a> = <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product">_</span>: <a href="#189700" title="RedBlack.this.BlackTree[_]">BlackTree</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#188053" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balRight</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187428" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#187656" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">_</span> =&gt; <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187428" title="(k: A)RedBlack.this.Tree[B]">del</a><span class="delimiter">(</span><a href="#187656" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]" id="188056">append</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188596">tl</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="188597">tr</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="../../Tuple2.scala.html#30293" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#188596" title="RedBlack.this.Tree[B]">tl</a>, <a href="#188597" title="RedBlack.this.Tree[B]">tr</a><span class="delimiter">)</span> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]" class="delimiter">(</span><a href="#189542" title="object RedBlack.this.Empty">Empty</a>, <a title="RedBlack.this.Tree[B]" id="188624">t</a><span class="delimiter">)</span> =&gt; <a href="#188624" title="RedBlack.this.Tree[B]">t</a>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188627">t</a>, <a href="#189542" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> =&gt; <a href="#188627" title="RedBlack.this.Tree[B]">t</a>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="188634">x</a>, <a title="B" id="188635">xv</a>, <a title="RedBlack.this.Tree[B]" id="188636">a</a>, <a title="RedBlack.this.Tree[B]" id="188637">b</a><span class="delimiter">)</span>, RedTree<span class="delimiter">(</span><a title="A" id="188642">y</a>, <a title="B" id="188643">yv</a>, <a title="RedBlack.this.Tree[B]" id="188644">c</a>, <a title="RedBlack.this.Tree[B]" id="188645">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#188056" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#188637" title="RedBlack.this.Tree[B]">b</a>, <a href="#188644" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">RedTree</span><span class="delimiter">(</span><a title="A" id="188650">z</a>, <a title="B" id="188651">zv</a>, <a title="RedBlack.this.Tree[B]" id="188652">bb</a>, <a title="RedBlack.this.Tree[B]" id="188653">cc</a><span class="delimiter">)</span> =&gt; <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188650" title="A">z</a>, <a href="#188651" title="B">zv</a>, <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188634" title="A">x</a>, <a href="#188635" title="B">xv</a>, <a href="#188636" title="RedBlack.this.Tree[B]">a</a>, <a href="#188652" title="RedBlack.this.Tree[B]">bb</a><span class="delimiter">)</span>, <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188642" title="A">y</a>, <a href="#188643" title="B">yv</a>, <a href="#188653" title="RedBlack.this.Tree[B]">cc</a>, <a href="#188645" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="RedBlack.this.RedTree[B]" id="188681">bc</a> =&gt; <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188634" title="A">x</a>, <a href="#188635" title="B">xv</a>, <a href="#188636" title="RedBlack.this.Tree[B]">a</a>, <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188642" title="A">y</a>, <a href="#188643" title="B">yv</a>, <a href="#188681" title="RedBlack.this.Tree[B]">bc</a>, <a href="#188645" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]" class="delimiter">(</span>BlackTree<span class="delimiter">(</span><a title="A" id="188706">x</a>, <a title="B" id="188707">xv</a>, <a title="RedBlack.this.Tree[B]" id="188708">a</a>, <a title="RedBlack.this.Tree[B]" id="188709">b</a><span class="delimiter">)</span>, BlackTree<span class="delimiter">(</span><a title="A" id="188714">y</a>, <a title="B" id="188715">yv</a>, <a title="RedBlack.this.Tree[B]" id="188716">c</a>, <a title="RedBlack.this.Tree[B]" id="188717">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#188056" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#188709" title="RedBlack.this.Tree[B]">b</a>, <a href="#188716" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]">RedTree</span><span class="delimiter">(</span><a title="A" id="188722">z</a>, <a title="B" id="188723">zv</a>, <a title="RedBlack.this.Tree[B]" id="188724">bb</a>, <a title="RedBlack.this.Tree[B]" id="188725">cc</a><span class="delimiter">)</span> =&gt; <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188722" title="A">z</a>, <a href="#188723" title="B">zv</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188706" title="A">x</a>, <a href="#188707" title="B">xv</a>, <a href="#188708" title="RedBlack.this.Tree[B]">a</a>, <a href="#188724" title="RedBlack.this.Tree[B]">bb</a><span class="delimiter">)</span>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188714" title="A">y</a>, <a href="#188715" title="B">yv</a>, <a href="#188725" title="RedBlack.this.Tree[B]">cc</a>, <a href="#188717" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="RedBlack extends RedBlack.this.NonEmpty[B] with Product" id="188753">bc</a> =&gt; <a href="#188052" title="(x: A, xv: B, tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balLeft</a><span class="delimiter">(</span><a href="#188706" title="A">x</a>, <a href="#188707" title="B">xv</a>, <a href="#188708" title="RedBlack.this.Tree[B]">a</a>, <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#188714" title="A">y</a>, <a href="#188715" title="B">yv</a>, <a href="#188753" title="RedBlack.this.Tree[B]">bc</a>, <a href="#188717" title="RedBlack.this.Tree[B]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="188765">a</a>, RedTree<span class="delimiter">(</span><a title="A" id="188770">x</a>, <a title="B" id="188771">xv</a>, <a title="RedBlack.this.Tree[B]" id="188772">b</a>, <a title="RedBlack.this.Tree[B]" id="188773">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188770" title="A">x</a>, <a href="#188771" title="B">xv</a>, <a href="#188056" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#188765" title="RedBlack.this.Tree[B]">a</a>, <a href="#188772" title="RedBlack.this.Tree[B]">b</a><span class="delimiter">)</span>, <a href="#188773" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RedBlack.this.RedTree[B]" class="delimiter">(</span>RedTree<span class="delimiter">(</span><a title="A" id="188789">x</a>, <a title="B" id="188790">xv</a>, <a title="RedBlack.this.Tree[B]" id="188791">a</a>, <a title="RedBlack.this.Tree[B]" id="188792">b</a><span class="delimiter">)</span>, <a title="RedBlack.this.Tree[B]" id="188793">c</a><span class="delimiter">)</span> =&gt; <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#188789" title="A">x</a>, <a href="#188790" title="B">xv</a>, <a href="#188791" title="RedBlack.this.Tree[B]">a</a>, <a href="#188056" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#188792" title="RedBlack.this.Tree[B]">b</a>, <a href="#188793" title="RedBlack.this.Tree[B]">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      // RedBlack is neither A : Ordering[A], nor A &lt;% Ordered[A]
      <a href="#187656" title="A">k</a> <span title="RedBlack.this.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product">_</span> <span class="keyword">if</span> <a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187656" title="A">k</a>, <a href="#187441" title="=&gt; A">key</a><span class="delimiter">)</span> =&gt; <a href="#188054" title="=&gt; RedBlack.this.NonEmpty[B] with Product">delLeft</a>
        <span class="keyword">case</span> <span title="RedBlack extends RedBlack.this.NonEmpty[B] with Product">_</span> <span class="keyword">if</span> <a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187656" title="A">k</a><span class="delimiter">)</span> =&gt; <a href="#188055" title="=&gt; RedBlack.this.NonEmpty[B] with Product">delRight</a>
        <span class="keyword">case</span> <span title="RedBlack.this.Tree[B]">_</span> =&gt; <a href="#188056" title="(tl: RedBlack.this.Tree[B], tr: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">append</a><span class="delimiter">(</span><a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[B]" id="187456">smallest</a>: <a href="#187392" title="RedBlack.this.NonEmpty[B]">NonEmpty</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span title="RedBlack.this.NonEmpty[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187412" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#187392" title="RedBlack.this.NonEmpty[B]" class="keyword">this</a> <span class="keyword">else</span> <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187429" title="=&gt; RedBlack.this.NonEmpty[B]">smallest</a>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Stream[(A, B)]" id="187457">toStream</a>: <a href="Stream.scala.html#11538" title="scala.collection.immutable.Stream[(A, B)]">Stream</a><span class="delimiter">[</span><span class="delimiter">(</span>A,B<span class="delimiter">)</span><span class="delimiter">]</span> =
      <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187423" title="=&gt; scala.collection.immutable.Stream[(A, B)]">toStream</a> <a href="Stream.scala.html#95949" title="(that: scala.collection.GenTraversableOnce[(A, B)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[(A, B)],(A, B),scala.collection.immutable.Stream[(A, B)]])scala.collection.immutable.Stream[(A, B)]">++</a> <a href="Stream.scala.html#107521" title="(xs: (A, B)*)scala.collection.immutable.Stream[(A, B)]">Stream</a><span class="delimiter">(</span><a href="../../Tuple2.scala.html#30293" title="(_1: A, _2: B)(A, B)" class="delimiter">(</a><a href="#187441" title="=&gt; A">key</a>,<a href="#187442" title="=&gt; B">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Stream.scala.html#95949" title="(that: scala.collection.GenTraversableOnce[(A, B)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[(A, B)],(A, B),scala.collection.immutable.Stream[(A, B)]])scala.collection.immutable.Stream[(A, B)]">++</a> <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187423" title="=&gt; scala.collection.immutable.Stream[(A, B)]">toStream</a>

    <span class="keyword">def</span> <a title="=&gt; Iterator[(A, B)]" id="187458">iterator</a>: <a href="../Iterator.scala.html#4712" title="Iterator[(A, B)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span> =
      <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187424" title="=&gt; Iterator[(A, B)]">iterator</a> <a href="../Iterator.scala.html#31871" title="(that: =&gt; scala.collection.GenTraversableOnce[(A, B)])Iterator[(A, B)]">++</a> <a href="../Iterator.scala.html#4713" title="object Iterator">Iterator</a>.<a href="../Iterator.scala.html#55879" title="(elem: (A, B))Iterator[(A, B)]">single</a><span class="delimiter">(</span><a href="../../Predef.scala.html#30647" title="(x: A, y: B)(A, B)">Pair</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Iterator.scala.html#31871" title="(that: =&gt; scala.collection.GenTraversableOnce[(A, B)])Iterator[(A, B)]">++</a> <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187424" title="=&gt; Iterator[(A, B)]">iterator</a>

    <span class="keyword">def</span> <a title="[U](f: (A, B) =&gt; U)Unit" id="187459">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187461">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, B) =&gt; U" id="187695">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a> <a href="#187420" title="(f: (A, B) =&gt; U)Unit">foreach</a> <a href="#187695" title="(A, B) =&gt; U">f</a>
      <a href="../../Function2.scala.html#32545" title="(v1: A, v2: B)U">f</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a><span class="delimiter">)</span>
      <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a> <a href="#187420" title="(f: (A, B) =&gt; U)Unit">foreach</a> <a href="#187695" title="(A, B) =&gt; U">f</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]" id="187462">rng</a><span class="delimiter">(</span><a title="Option[A]" id="187647">from</a>: <a href="../../Option.scala.html#1467" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="187648">until</a>: <a href="../../Option.scala.html#1467" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187647" title="Option[A]">from</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../Option.scala.html#2425" title="object None">None</a> <a href="../../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#187648" title="Option[A]">until</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../Option.scala.html#2425" title="object None">None</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#187392" title="RedBlack.this.NonEmpty[B]" class="keyword">this</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187647" title="Option[A]">from</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../Option.scala.html#2425" title="object None">None</a> <a href="../../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187647" title="Option[A]">from</a>.<a href="../../Option.scala.html#30302" title="=&gt; A">get</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187430" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="#187647" title="Option[A]">from</a>, <a href="#187648" title="Option[A]">until</a><span class="delimiter">)</span>;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187648" title="Option[A]">until</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../Option.scala.html#2425" title="object None">None</a> <a href="../../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187648" title="Option[A]">until</a>.<a href="../../Option.scala.html#30302" title="=&gt; A">get</a>,<a href="#187441" title="=&gt; A">key</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#25460" title="(x: Boolean)Boolean">||</a> <a href="../../Boolean.scala.html#25457" title="=&gt; Boolean">!</a><a href="#187383" title="(x: A, y: A)Boolean">isSmaller</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>,<a href="#187648" title="Option[A]">until</a>.<a href="../../Option.scala.html#30302" title="=&gt; A">get</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187430" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="#187647" title="Option[A]">from</a>, <a href="#187648" title="Option[A]">until</a><span class="delimiter">)</span>;
      <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="189103">newLeft</a> = <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187430" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="#187647" title="Option[A]">from</a>, <a href="../../Option.scala.html#2425" title="object None">None</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="189104">newRight</a> = <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187430" title="(from: Option[A], until: Option[A])RedBlack.this.Tree[B]">rng</a><span class="delimiter">(</span><a href="../../Option.scala.html#2425" title="object None">None</a>, <a href="#187648" title="Option[A]">until</a><span class="delimiter">)</span>
      <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#189103" title="RedBlack.this.Tree[B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#25461" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#189104" title="RedBlack.this.Tree[B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187392" title="RedBlack.this.NonEmpty[B]" class="keyword">this</a>
      <span class="keyword">else</span> <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#189103" title="RedBlack.this.Tree[B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#189542" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> <a href="#189104" title="RedBlack.this.Tree[B]">newRight</a>.<a href="#187425" title="(k: A, v: B)RedBlack.this.Tree[B]">upd</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a><span class="delimiter">)</span>;
      <span class="keyword">else</span> <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#189104" title="RedBlack.this.Tree[B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#189542" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> <a href="#189103" title="RedBlack.this.Tree[B]">newLeft</a>.<a href="#187425" title="(k: A, v: B)RedBlack.this.Tree[B]">upd</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a><span class="delimiter">)</span>;
      <span class="keyword">else</span> <a href="#187464" title="(newLeft: RedBlack.this.Tree[B], newRight: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">rebalance</a><span class="delimiter">(</span><a href="#189103" title="RedBlack.this.Tree[B]">newLeft</a>, <a href="#189104" title="RedBlack.this.Tree[B]">newRight</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // The zipper returned might have been traversed left-most (always the left child)
    // or right-most (always the right child). Left trees are traversed right-most,
    // and right trees are traversed leftmost.

    // Returns the zipper for the side with deepest black nodes depth, a flag
    // indicating whether the trees were unbalanced at all, and a flag indicating
    // whether the zipper was traversed left-most or right-most.

    // If the trees were balanced, returns an empty zipper
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" id="187463">compareDepth</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="189177">left</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="189178">right</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Tuple4.scala.html#1854" title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a>List<span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, Boolean, Boolean, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
      // Once a side is found to be deeper, unzip it to the bottom
      <span class="keyword">def</span> <a title="(zipper: List[RedBlack.this.NonEmpty[B]], leftMost: Boolean)List[RedBlack.this.NonEmpty[B]]" id="189283">unzip</a><span class="delimiter">(</span><a title="List[RedBlack.this.NonEmpty[B]]" id="189285">zipper</a>: <a href="List.scala.html#12279" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="189286">leftMost</a>: <a href="../../Boolean.scala.html#2157" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="List.scala.html#12279" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="189287">next</a> = <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#189286" title="Boolean">leftMost</a><span class="delimiter">)</span> <a href="#189285" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>.<a href="../IterableLike.scala.html#26040" title="=&gt; RedBlack.this.NonEmpty[B]">head</a>.<a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a> <span class="keyword">else</span> <a href="#189285" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>.<a href="../IterableLike.scala.html#26040" title="=&gt; RedBlack.this.NonEmpty[B]">head</a>.<a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>
        <a href="#189287" title="RedBlack.this.Tree[B]">next</a> <span title="List[RedBlack.this.NonEmpty[B]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[RedBlack.this.NonEmpty[B]]" id="189288">node</a>: <a href="#187392" title="RedBlack.this.NonEmpty[_]">NonEmpty</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#189283" title="(zipper: List[RedBlack.this.NonEmpty[B]], leftMost: Boolean)List[RedBlack.this.NonEmpty[B]]">unzip</a><span class="delimiter">(</span><a href="#189288" title="RedBlack.this.NonEmpty[_]">node</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189285" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>, <a href="#189286" title="Boolean">leftMost</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#189542" title="List[RedBlack.this.NonEmpty[B]]">Empty</a>             =&gt; <a href="#189285" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // Unzip left tree on the rightmost side and right tree on the leftmost side until one is
      // found to be deeper, or the bottom is reached
      <span class="keyword">def</span> <a title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" id="189284">unzipBoth</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="189296">left</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>,
                    <a title="RedBlack.this.Tree[B]" id="189297">right</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>,
                    <a title="List[RedBlack.this.NonEmpty[B]]" id="189298">leftZipper</a>: <a href="List.scala.html#12279" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>,
                    <a title="List[RedBlack.this.NonEmpty[B]]" id="189299">rightZipper</a>: <a href="List.scala.html#12279" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>,
                    <a title="Int" id="189300">smallerDepth</a>: <a href="../../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Tuple4.scala.html#1854" title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a>List<span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, Boolean, Boolean, Int<span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#30293" title="(_1: RedBlack.this.Tree[B], _2: RedBlack.this.Tree[B])(RedBlack.this.Tree[B], RedBlack.this.Tree[B])" class="delimiter">(</a><a href="#189296" title="RedBlack.this.Tree[B]">left</a>, <a href="#189297" title="RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a title="RedBlack.this.BlackTree[B]" id="189309">l</a> @ BlackTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>, <a title="RedBlack.this.BlackTree[B]" id="189314">r</a> @ BlackTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#189284" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#189309" title="RedBlack.this.BlackTree[B]">l</a>.<a href="#187558" title="=&gt; RedBlack.this.Tree[B]">right</a>, <a href="#189314" title="RedBlack.this.BlackTree[B]">r</a>.<a href="#187557" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#189309" title="RedBlack.this.BlackTree[B]">l</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189298" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#189314" title="RedBlack.this.BlackTree[B]">r</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189299" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#189300" title="Int">smallerDepth</a> <a href="../../Int.scala.html#24693" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a title="RedBlack.this.RedTree[B]" id="189337">l</a> @ RedTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>, <a title="RedBlack.this.RedTree[B]" id="189342">r</a> @ RedTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#189284" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#189337" title="RedBlack.this.RedTree[B]">l</a>.<a href="#187593" title="=&gt; RedBlack.this.Tree[B]">right</a>, <a href="#189342" title="RedBlack.this.RedTree[B]">r</a>.<a href="#187592" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#189337" title="RedBlack.this.RedTree[B]">l</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189298" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#189342" title="RedBlack.this.RedTree[B]">r</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189299" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#189300" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span>_, <a title="RedBlack.this.RedTree[B]" id="189361">r</a> @ RedTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#189284" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#189296" title="RedBlack.this.Tree[B]">left</a>, <a href="#189361" title="RedBlack.this.RedTree[B]">r</a>.<a href="#187592" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#189298" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#189361" title="RedBlack.this.RedTree[B]">r</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189299" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#189300" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a title="RedBlack.this.RedTree[B]" id="189372">l</a> @ RedTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt;
          <a href="#189284" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#189372" title="RedBlack.this.RedTree[B]">l</a>.<a href="#187593" title="=&gt; RedBlack.this.Tree[B]">right</a>, <a href="#189297" title="RedBlack.this.Tree[B]">right</a>, <a href="#189372" title="RedBlack.this.RedTree[B]">l</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189298" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#189299" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#189300" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, Boolean, Boolean, Int)" class="delimiter">(</span><a href="#189542" title="object RedBlack.this.Empty">Empty</a>, <a href="#189542" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> =&gt;
          <a href="../../Tuple4.scala.html#40225" title="(_1: scala.collection.immutable.Nil.type, _2: Boolean, _3: Boolean, _4: Int)(scala.collection.immutable.Nil.type, Boolean, Boolean, Int)" class="delimiter">(</a><a href="List.scala.html#11500" title="object Nil">Nil</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#189300" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a href="#189542" title="object RedBlack.this.Empty">Empty</a>, <a title="RedBlack.this.BlackTree[B]" id="189399">r</a> @ BlackTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="189404">leftMost</a> = <span title="Boolean(true)" class="keyword">true</span>
          <a href="../../Tuple4.scala.html#40225" title="(_1: List[RedBlack.this.NonEmpty[B]], _2: Boolean, _3: Boolean, _4: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="#189283" title="(zipper: List[RedBlack.this.NonEmpty[B]], leftMost: Boolean)List[RedBlack.this.NonEmpty[B]]">unzip</a><span class="delimiter">(</span><a href="#189399" title="RedBlack.this.BlackTree[B]">r</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189299" title="List[RedBlack.this.NonEmpty[B]]">rightZipper</a>, <a href="#189404" title="Boolean">leftMost</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#189404" title="Boolean">leftMost</a>, <a href="#189300" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</span><a title="RedBlack.this.BlackTree[B]" id="189425">l</a> @ BlackTree<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>, <a href="#189542" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="189430">leftMost</a> = <span title="Boolean(false)" class="keyword">false</span>
          <a href="../../Tuple4.scala.html#40225" title="(_1: List[RedBlack.this.NonEmpty[B]], _2: Boolean, _3: Boolean, _4: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="#189283" title="(zipper: List[RedBlack.this.NonEmpty[B]], leftMost: Boolean)List[RedBlack.this.NonEmpty[B]]">unzip</a><span class="delimiter">(</span><a href="#189425" title="RedBlack.this.BlackTree[B]">l</a> <a href="List.scala.html#24151" title="(x: RedBlack.this.NonEmpty[B])List[RedBlack.this.NonEmpty[B]]">::</a> <a href="#189298" title="List[RedBlack.this.NonEmpty[B]]">leftZipper</a>, <a href="#189430" title="Boolean">leftMost</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#189430" title="Boolean">leftMost</a>, <a href="#189300" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#189284" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B], leftZipper: List[RedBlack.this.NonEmpty[B]], rightZipper: List[RedBlack.this.NonEmpty[B]], smallerDepth: Int)(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#189177" title="RedBlack.this.Tree[B]">left</a>, <a href="#189178" title="RedBlack.this.Tree[B]">right</a>, <a href="List.scala.html#11500" title="object Nil">Nil</a>, <a href="List.scala.html#11500" title="object Nil">Nil</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(newLeft: RedBlack.this.Tree[B], newRight: RedBlack.this.Tree[B])RedBlack.this.Tree[B]" id="187464">rebalance</a><span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="189137">newLeft</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="RedBlack.this.Tree[B]" id="189138">newRight</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      // This is like drop(n-1), but only counting black nodes
      <span class="keyword">def</span>  <a title="(zipper: List[RedBlack.this.NonEmpty[B]], depth: Int)List[RedBlack.this.NonEmpty[B]]" id="189141">findDepth</a><span class="delimiter">(</span><a title="List[RedBlack.this.NonEmpty[B]]" id="189149">zipper</a>: <a href="List.scala.html#12279" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="189150">depth</a>: <a href="../../Int.scala.html#495" title="Int">Int</a><span class="delimiter">)</span>: <a href="List.scala.html#12279" title="List[RedBlack.this.NonEmpty[B]]">List</a><span class="delimiter">[</span>NonEmpty<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#189149" title="List[RedBlack.this.NonEmpty[B]]">zipper</a> <span title="List[RedBlack.this.NonEmpty[B]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[RedBlack.this.NonEmpty[B]]">BlackTree</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> :: <a title="List[RedBlack.this.NonEmpty[B]]" id="189159">tail</a> =&gt;
          <span title="List[RedBlack.this.NonEmpty[B]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#189150" title="Int">depth</a> <a href="../../Int.scala.html#24636" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#189149" title="List[RedBlack.this.NonEmpty[B]]">zipper</a> <span class="keyword">else</span> <a href="#189141" title="(zipper: List[RedBlack.this.NonEmpty[B]], depth: Int)List[RedBlack.this.NonEmpty[B]]">findDepth</a><span class="delimiter">(</span><a href="#189159" title="List[RedBlack.this.NonEmpty[B]]">tail</a>, <a href="#189150" title="Int">depth</a> <a href="../../Int.scala.html#24700" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="List[RedBlack.this.NonEmpty[B]]">_</span> :: <a title="List[RedBlack.this.NonEmpty[B]]" id="189170">tail</a> =&gt; <a href="#189141" title="(zipper: List[RedBlack.this.NonEmpty[B]], depth: Int)List[RedBlack.this.NonEmpty[B]]">findDepth</a><span class="delimiter">(</span><a href="#189170" title="List[RedBlack.this.NonEmpty[B]]">tail</a>, <a href="#189150" title="Int">depth</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="List.scala.html#11500" title="Nothing">Nil</a> =&gt; sys.<a href="../../sys/package.scala.html#23733" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: unexpected empty zipper while computing range&quot;)" class="string">&quot;Defect: unexpected empty zipper while computing range&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // Blackening the smaller tree avoids balancing problems on union;
      // this can't be done later, though, or it would change the result of compareDepth
      <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="189142">blkNewLeft</a> = <a href="#187384" title="(t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">blacken</a><span class="delimiter">(</span><a href="#189137" title="RedBlack.this.Tree[B]">newLeft</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="189143">blkNewRight</a> = <a href="#187384" title="(t: RedBlack.this.Tree[B])RedBlack.this.Tree[B]">blacken</a><span class="delimiter">(</span><a href="#189138" title="RedBlack.this.Tree[B]">newRight</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="../../Tuple4.scala.html#40225" title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="../../Tuple4.scala.html#36684" title="List[RedBlack.this.NonEmpty[B]]" id="189145">zipper</a>, <a href="../../Tuple4.scala.html#36686" title="Boolean" id="189146">levelled</a>, <a href="../../Tuple4.scala.html#36688" title="Boolean" id="189147">leftMost</a>, <a href="../../Tuple4.scala.html#36690" title="Int" id="189148">smallerDepth</a><span class="delimiter">)</span> = <a href="#187463" title="(left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int)">compareDepth</a><a href="../../Tuple4.scala.html#1854" title="(List[RedBlack.this.NonEmpty[B]], Boolean, Boolean, Int) @unchecked" class="delimiter">(</a><a href="#189142" title="RedBlack.this.Tree[B]">blkNewLeft</a>, <a href="#189143" title="RedBlack.this.Tree[B]">blkNewRight</a><span class="delimiter">)</span>

      <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#189146" title="Boolean">levelled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#189700" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.BlackTree[B]">BlackTree</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#189142" title="RedBlack.this.Tree[B]">blkNewLeft</a>, <a href="#189143" title="RedBlack.this.Tree[B]">blkNewRight</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RedBlack.this.NonEmpty[B]]" id="189209">zipFrom</a> = <a href="#189141" title="(zipper: List[RedBlack.this.NonEmpty[B]], depth: Int)List[RedBlack.this.NonEmpty[B]]">findDepth</a><span class="delimiter">(</span><a href="#189145" title="List[RedBlack.this.NonEmpty[B]]">zipper</a>, <a href="#189148" title="Int">smallerDepth</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RedBlack.this.RedTree[B]" id="189210">union</a> = <span title="RedBlack.this.RedTree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#189147" title="Boolean">leftMost</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#189142" title="RedBlack.this.Tree[B]">blkNewLeft</a>, <a href="#189209" title="List[RedBlack.this.NonEmpty[B]]">zipFrom</a>.<a href="../IterableLike.scala.html#26040" title="=&gt; RedBlack.this.NonEmpty[B]">head</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#187441" title="=&gt; A">key</a>, <a href="#187442" title="=&gt; B">value</a>, <a href="#189209" title="List[RedBlack.this.NonEmpty[B]]">zipFrom</a>.<a href="../IterableLike.scala.html#26040" title="=&gt; RedBlack.this.NonEmpty[B]">head</a>, <a href="#189143" title="RedBlack.this.Tree[B]">blkNewRight</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="189211">zippedTree</a> = <a href="#189209" title="List[RedBlack.this.NonEmpty[B]]">zipFrom</a>.<a href="../TraversableLike.scala.html#24104" title="=&gt; List[RedBlack.this.NonEmpty[B]]">tail</a>.<a href="../LinearSeqOptimized.scala.html#42896" title="(z: RedBlack.this.Tree[B])(f: (RedBlack.this.Tree[B], RedBlack.this.NonEmpty[B]) =&gt; RedBlack.this.Tree[B])RedBlack.this.Tree[B]">foldLeft</a><span class="delimiter">(</span><a href="#189210" title="RedBlack.this.RedTree[B]">union</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="RedBlack.this.Tree[B]" id="189251">tree</a>, <a title="RedBlack.this.NonEmpty[B]" id="189252">node</a><span class="delimiter">)</span> =&gt;
            <span title="RedBlack.this.Tree[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#189147" title="Boolean">leftMost</a><span class="delimiter">)</span>
              <a href="#187446" title="(isBlack: Boolean, z: A, zv: B, l: RedBlack.this.Tree[B], d: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balanceLeft</a><span class="delimiter">(</span><a href="#189252" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#187413" title="=&gt; Boolean">isBlack</a>, <a href="#189252" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#187441" title="=&gt; A">key</a>, <a href="#189252" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#187442" title="=&gt; B">value</a>, <a href="#189251" title="RedBlack.this.Tree[B]">tree</a>, <a href="#189252" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#187449" title="(isBlack: Boolean, x: A, xv: B, a: RedBlack.this.Tree[B], r: RedBlack.this.Tree[B])RedBlack.this.NonEmpty[B] with Product">balanceRight</a><span class="delimiter">(</span><a href="#189252" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#187413" title="=&gt; Boolean">isBlack</a>, <a href="#189252" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#187441" title="=&gt; A">key</a>, <a href="#189252" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#187442" title="=&gt; B">value</a>, <a href="#189252" title="RedBlack.this.NonEmpty[B]">node</a>.<a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>, <a href="#189251" title="RedBlack.this.Tree[B]">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#189211" title="RedBlack.this.Tree[B]">zippedTree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="187465">first</a> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a> .<a href="#187412" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#187441" title="=&gt; A">key</a> <span class="keyword">else</span> <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187431" title="=&gt; A">first</a>
    <span class="keyword">def</span> <a title="=&gt; A" id="187466">last</a>  = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187412" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#187441" title="=&gt; A">key</a> <span class="keyword">else</span> <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187432" title="=&gt; A">last</a>
    <span class="keyword">def</span> <a title="=&gt; Int" id="187467">count</a> = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#187443" title="=&gt; RedBlack.this.Tree[B]">left</a>.<a href="#187433" title="=&gt; Int">count</a> <a href="../../Int.scala.html#24693" title="(x: Int)Int">+</a> <a href="#187444" title="=&gt; RedBlack.this.Tree[B]">right</a>.<a href="#187433" title="=&gt; Int">count</a>
  <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#189534" title="object RedBlack.this.Empty" id="189542">Empty</a> <a href="../../ScalaObject.scala.html#1452" title="ScalaObject" class="keyword">extends</a> <a href="#187390" title="RedBlack.this.Tree[Nothing]">Tree</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="188607">isEmpty</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="188608">isBlack</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[Nothing]" id="188609">lookup</a><span class="delimiter">(</span><a title="A" id="189456">k</a>: <a href="#12611" title="A">A</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[Nothing]">Tree</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> = <span class="keyword">this</span>
    <span class="keyword">def</span> <a title="[B](k: A, v: B)RedBlack.this.Tree[B]" id="188610">upd</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="188612">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="189458">k</a>: <a href="#12611" title="A">A</a>, <a title="B" id="189459">v</a>: <a href="#188612" title="B">B</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#189708" title="(key: A, value: B, left: RedBlack.this.Tree[B], right: RedBlack.this.Tree[B])RedBlack.this.RedTree[B]">RedTree</a><span class="delimiter">(</span><a href="#189458" title="A">k</a>, <a href="#189459" title="B">v</a>, <a href="#189542" title="object RedBlack.this.Empty">Empty</a>, <a href="#189542" title="object RedBlack.this.Empty">Empty</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(k: A)RedBlack.this.Tree[Nothing]" id="188613">del</a><span class="delimiter">(</span><a title="A" id="189479">k</a>: <a href="#12611" title="A">A</a><span class="delimiter">)</span>: <a href="#187390" title="RedBlack.this.Tree[Nothing]">Tree</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> = <span class="keyword">this</span>
    <span class="keyword">def</span> <a title="=&gt; RedBlack.this.NonEmpty[Nothing]" id="188614">smallest</a>: <a href="#187392" title="RedBlack.this.NonEmpty[Nothing]">NonEmpty</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#23607" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Iterator[(A, Nothing)]" id="188615">iterator</a>: <a href="../Iterator.scala.html#4712" title="Iterator[(A, Nothing)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>A, Nothing<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../Iterator.scala.html#4713" title="object Iterator">Iterator</a>.<a href="../Iterator.scala.html#55877" title="=&gt; Iterator[Nothing]">empty</a>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Stream[(A, Nothing)]" id="188616">toStream</a>: <a href="Stream.scala.html#11538" title="scala.collection.immutable.Stream[(A, Nothing)]">Stream</a><span class="delimiter">[</span><span class="delimiter">(</span>A,Nothing<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="Stream.scala.html#11539" title="object scala.collection.immutable.Stream">Stream</a>.<a href="Stream.scala.html#107518" title="scala.collection.immutable.Stream[Nothing]">empty</a>

    <span class="keyword">def</span> <a title="[U](f: (A, Nothing) =&gt; U)Unit" id="188617">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="188619">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, Nothing) =&gt; U" id="189508">f</a>: <span class="delimiter">(</span>A, Nothing<span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(from: Option[A], until: Option[A])RedBlack.this.Empty.type" id="188620">rng</a><span class="delimiter">(</span><a title="Option[A]" id="189514">from</a>: <a href="../../Option.scala.html#1467" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="189515">until</a>: <a href="../../Option.scala.html#1467" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="keyword">this</span>
    <span class="keyword">def</span> <a title="=&gt; Nothing" id="188621">first</a> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#23607" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Nothing" id="188622">last</a> = <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#23607" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="188623">count</a> = <span title="Int(0)" class="int">0</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class RedTree[+B] extends RedBlack.this.NonEmpty[B] with ScalaObject with Product with Serializable" id="189708">RedTree</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="187438">B</a><span class="delimiter">]</span><a href="../../ScalaObject.scala.html#1452" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="A" id="187590">key</a>: <a href="#12611" title="A">A</a>,
                         <span class="keyword">override</span> <span class="keyword">val</span> <a title="B" id="187591">value</a>: <a href="#187438" title="B">B</a>,
                         <span class="keyword">override</span> <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187592">left</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>,
                         <span class="keyword">override</span> <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187593">right</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#187392" title="RedBlack.this.NonEmpty[B]">NonEmpty</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="187481">isBlack</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class BlackTree[+B] extends RedBlack.this.NonEmpty[B] with ScalaObject with Product with Serializable" id="189700">BlackTree</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="187534">B</a><span class="delimiter">]</span><a href="../../ScalaObject.scala.html#1452" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="A" id="187555">key</a>: <a href="#12611" title="A">A</a>,
                           <span class="keyword">override</span> <span class="keyword">val</span> <a title="B" id="187556">value</a>: <a href="#187534" title="B">B</a>,
                           <span class="keyword">override</span> <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187557">left</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span>,
                           <span class="keyword">override</span> <span class="keyword">val</span> <a title="RedBlack.this.Tree[B]" id="187558">right</a>: <a href="#187390" title="RedBlack.this.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#187392" title="RedBlack.this.NonEmpty[B]">NonEmpty</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="187548">isBlack</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>