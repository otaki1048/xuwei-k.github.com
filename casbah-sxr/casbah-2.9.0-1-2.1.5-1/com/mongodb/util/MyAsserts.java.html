<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>com/mongodb/util/MyAsserts.java</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">// MyAsserts.java </span>

<span class="keyword">package</span> com.mongodb.util;

<span class="keyword">import</span> java.util.regex.*;

public <span class="keyword">class</span> <a title="object com.mongodb.util.MyAsserts" id="8290">MyAsserts</a> <span class="delimiter">{</span>

    public static <span class="keyword">class</span> <a title="object com.mongodb.util.MyAsserts.MyAssert" id="146696">MyAssert</a> <span class="keyword">extends</span> RuntimeException <span class="delimiter">{</span>

        <span class="keyword">private</span> static <span class="keyword">final</span> long <a title="Long" id="146722">serialVersionUID</a> = -<span class="long">4415279469780082174L</span>;

        MyAssert<span class="delimiter">(</span> String s <span class="delimiter">)</span><span class="delimiter">{</span>
            <span class="keyword">super</span><span class="delimiter">(</span> s <span class="delimiter">)</span>;
            _s = s;
        <span class="delimiter">}</span>

        public String toString<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span>
            <span class="keyword">return</span> _s;
        <span class="delimiter">}</span>

        <span class="keyword">final</span> String _s;
    <span class="delimiter">}</span>

    public static void <a title="(b: Boolean)Unit" id="146697">assertTrue</a><span class="delimiter">(</span> boolean <a title="Boolean" id="146723">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> ! b <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;false&quot;</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(b: Boolean, msg: java.lang.String)Unit" id="146698">assertTrue</a><span class="delimiter">(</span> boolean <a title="Boolean" id="146725">b</a> , String <a title="java.lang.String" id="146726">msg</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> ! b <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;false : &quot;</span> + msg <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(b: Boolean)Unit" id="146699">assertFalse</a><span class="delimiter">(</span> boolean <a title="Boolean" id="146728">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> b <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;true&quot;</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: Int, b: Int)Unit" id="146700">assertEquals</a><span class="delimiter">(</span> int <a title="Int" id="146730">a</a> , int <a title="Int" id="146731">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> a != b <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;&quot;</span> + a + <span class="string">&quot; != &quot;</span> + b <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: Long, b: Long)Unit" id="146701">assertEquals</a><span class="delimiter">(</span> long <a title="Long" id="146733">a</a> , long <a title="Long" id="146734">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> a != b <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;&quot;</span> + a + <span class="string">&quot; != &quot;</span> + b <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: Char, b: Char)Unit" id="146702">assertEquals</a><span class="delimiter">(</span> char <a title="Char" id="146736">a</a> , char <a title="Char" id="146737">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> a != b <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;&quot;</span> + a + <span class="string">&quot; != &quot;</span> + b <span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    
    public static void <a title="(a: Short, b: Short)Unit" id="146703">assertEquals</a><span class="delimiter">(</span> short <a title="Short" id="146739">a</a> , short <a title="Short" id="146740">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> a != b <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;&quot;</span> + a + <span class="string">&quot; != &quot;</span> + b <span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    
    public static void <a title="(a: Double, b: Double, diff: Double)Unit" id="146704">assertEquals</a><span class="delimiter">(</span> double <a title="Double" id="146742">a</a> , double <a title="Double" id="146743">b</a> , double <a title="Double" id="146744">diff</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> Math.abs<span class="delimiter">(</span> a - b <span class="delimiter">)</span> &gt; diff <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;&quot;</span> + a + <span class="string">&quot; != &quot;</span> + b <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: java.lang.String, b: Any)Unit" id="146705">assertEquals</a><span class="delimiter">(</span> String <a title="java.lang.String" id="146746">a</a> , Object <a title="Any" id="146747">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
	_assertEquals<span class="delimiter">(</span> a , b == <span class="keyword">null</span> ? <span class="keyword">null</span> : b.toString<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: Any, b: Any)Unit" id="146706">assertEquals</a><span class="delimiter">(</span> Object <a title="Any" id="146749">a</a> , Object <a title="Any" id="146750">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
	_assertEquals<span class="delimiter">(</span> a , b <span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    
    public static void <a title="(a: Any, b: Any)Unit" id="146707">_assertEquals</a><span class="delimiter">(</span> Object <a title="Any" id="146752">a</a> , Object <a title="Any" id="146753">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> a == <span class="keyword">null</span> <span class="delimiter">)</span><span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span> b == <span class="keyword">null</span> <span class="delimiter">)</span>
                <span class="keyword">return</span>;
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;left null, right not&quot;</span> <span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        
        <span class="keyword">if</span> <span class="delimiter">(</span> a.equals<span class="delimiter">(</span> b <span class="delimiter">)</span> <span class="delimiter">)</span>
            <span class="keyword">return</span>;
        
        <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;[&quot;</span> + a + <span class="string">&quot;] != [&quot;</span> + b + <span class="string">&quot;] &quot;</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: java.lang.String, b: java.lang.String, msg: java.lang.String)Unit" id="146708">assertEquals</a><span class="delimiter">(</span> String <a title="java.lang.String" id="146755">a</a> , String <a title="java.lang.String" id="146756">b</a> , String <a title="java.lang.String" id="146757">msg</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> a.equals<span class="delimiter">(</span> b <span class="delimiter">)</span> <span class="delimiter">)</span>
            <span class="keyword">return</span>;

        <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;[&quot;</span> + a + <span class="string">&quot;] != [&quot;</span> + b + <span class="string">&quot;] &quot;</span> + msg <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: Any, b: Any)Unit" id="146709">assertNotEquals</a><span class="delimiter">(</span> Object <a title="Any" id="146759">a</a> , Object <a title="Any" id="146760">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> a == <span class="keyword">null</span> <span class="delimiter">)</span><span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span> b != <span class="keyword">null</span> <span class="delimiter">)</span>
                <span class="keyword">return</span>;
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;left null, right null&quot;</span> <span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        
        <span class="keyword">if</span> <span class="delimiter">(</span> ! a.equals<span class="delimiter">(</span> b <span class="delimiter">)</span> <span class="delimiter">)</span>
            <span class="keyword">return</span>;
        
        <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;[&quot;</span> + a + <span class="string">&quot;] == [&quot;</span> + b + <span class="string">&quot;] &quot;</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: java.lang.String, o: Any)Unit" id="146710">assertClose</a><span class="delimiter">(</span> String <a title="java.lang.String" id="146762">a</a> , Object <a title="Any" id="146763">o</a><span class="delimiter">)</span><span class="delimiter">{</span>
        assertClose<span class="delimiter">(</span> a , o == <span class="keyword">null</span> ? <span class="string">&quot;null&quot;</span> : o.toString<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: java.lang.String, b: java.lang.String)Unit" id="146711">assertClose</a><span class="delimiter">(</span> String <a title="java.lang.String" id="146765">a</a> , String <a title="java.lang.String" id="146766">b</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        assertClose<span class="delimiter">(</span>a, b, <span class="string">&quot;&quot;</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(a: java.lang.String, b: java.lang.String, tag: java.lang.String)Unit" id="146712">assertClose</a><span class="delimiter">(</span> String <a title="java.lang.String" id="146768">a</a> , String <a title="java.lang.String" id="146769">b</a>, String <a title="java.lang.String" id="146770">tag</a> <span class="delimiter">)</span><span class="delimiter">{</span>

        <span class="keyword">if</span> <span class="delimiter">(</span>isClose<span class="delimiter">(</span>a, b<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span>;
        <span class="delimiter">}</span>

        <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> tag +  <span class="string">&quot;[&quot;</span> + a + <span class="string">&quot;] != [&quot;</span> + b + <span class="string">&quot;]&quot;</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    
    public static boolean <a title="(a: java.lang.String, b: java.lang.String)Boolean" id="146713">isClose</a><span class="delimiter">(</span>String <a title="java.lang.String" id="146772">a</a>, String <a title="java.lang.String" id="146773">b</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
        a = _simplify<span class="delimiter">(</span> a <span class="delimiter">)</span>;
        b = _simplify<span class="delimiter">(</span> b <span class="delimiter">)</span>;
        <span class="keyword">return</span> a.equalsIgnoreCase<span class="delimiter">(</span>b<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static String <a title="(s: java.lang.String)java.lang.String" id="146714">_simplify</a><span class="delimiter">(</span> String <a title="java.lang.String" id="146775">s</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        s = s.trim<span class="delimiter">(</span><span class="delimiter">)</span>;
        s = _whiteSpace.matcher<span class="delimiter">(</span> s <span class="delimiter">)</span>.replaceAll<span class="delimiter">(</span> <span class="string">&quot;&quot;</span> <span class="delimiter">)</span>;
        <span class="keyword">return</span> s;
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> static Pattern <a title="java.util.regex.Pattern" id="146715">_whiteSpace</a> = Pattern.compile<span class="delimiter">(</span> <span class="string">&quot;\\s+&quot;</span> , Pattern.DOTALL | Pattern.MULTILINE <span class="delimiter">)</span>;
    
    public static void <a title="(foo: Any)Unit" id="146716">assertNull</a><span class="delimiter">(</span> Object <a title="Any" id="146777">foo</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> foo == <span class="keyword">null</span> <span class="delimiter">)</span>
            <span class="keyword">return</span>;
        
        <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;not null [&quot;</span> + foo + <span class="string">&quot;]&quot;</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(foo: Any)Unit" id="146717">assertNotNull</a><span class="delimiter">(</span> Object <a title="Any" id="146779">foo</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> foo != <span class="keyword">null</span> <span class="delimiter">)</span>
            <span class="keyword">return</span>;
        
        <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> <span class="string">&quot;null&quot;</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(lower: Long, higher: Long)Unit" id="146718">assertLess</a><span class="delimiter">(</span> long <a title="Long" id="146781">lower</a> , long <a title="Long" id="146782">higher</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> lower &lt; higher <span class="delimiter">)</span>
            <span class="keyword">return</span>;

        <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> lower + <span class="string">&quot; is higher than &quot;</span> + higher <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(lower: Double, higher: Double)Unit" id="146719">assertLess</a><span class="delimiter">(</span> double <a title="Double" id="146784">lower</a> , double <a title="Double" id="146785">higher</a> <span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> lower &lt; higher <span class="delimiter">)</span>
            <span class="keyword">return</span>;

        <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> lower + <span class="string">&quot; is higher than &quot;</span> + higher <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public static void <a title="(s: java.lang.String)Unit" id="146720">assertEmptyString</a><span class="delimiter">(</span> String <a title="java.lang.String" id="146787">s</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span><span class="delimiter">(</span> !s.equals<span class="delimiter">(</span> <span class="string">&quot;&quot;</span> <span class="delimiter">)</span> <span class="delimiter">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> MyAssert<span class="delimiter">(</span> s <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>