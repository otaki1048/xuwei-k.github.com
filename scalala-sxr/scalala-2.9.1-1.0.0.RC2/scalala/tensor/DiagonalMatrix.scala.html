<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalala/tensor/DiagonalMatrix.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalala
<span class="keyword">package</span> tensor

<span class="keyword">import</span> domain.TableDomain
<span class="keyword">import</span> scalar.Scalar

<span class="comment">/**
 * A matrix with values only on its diagonal, as defined by the
 * given vector.
 * 
 * @author dlwh, dramage
 */</span>
<span class="keyword">class</span> <a title="class DiagonalMatrix[Vec, V] extends java.lang.Object with scalala.tensor.Matrix[V] with scalala.tensor.MatrixLike[V,scalala.tensor.DiagonalMatrix[Vec,V]] with ScalaObject" id="17834">DiagonalMatrix</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="18602">Vec</a>,<a title="&gt;: Nothing &lt;: Any" id="18603">V</a><span class="delimiter">]</span><a href="#17834" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Vec" id="364340">diag</a> : <a href="#18602" title="Vec">Vec</a><span class="delimiter">)</span>
<span class="delimiter">(</span><span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalala.scalar.Scalar[V]" id="364341">scalar</a>: <a href="../scalar/Scalar.scala.html#17481" title="scalala.scalar.Scalar[V]">Scalar</a><span class="delimiter">[</span>V<span class="delimiter">]</span>, <a title="&lt;:&lt;[Vec,scalala.tensor.Vector[V]]" id="364342">view</a>: Vec<span title="&lt;:&lt;[Vec,scalala.tensor.Vector[V]]">&lt;:&lt;</span>Vector<span class="delimiter">[</span>V<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="Matrix.scala.html#18329" title="scalala.tensor.Matrix[V]">Matrix</a><span class="delimiter">[</span>V<span class="delimiter">]</span> <span class="keyword">with</span> <a href="Matrix.scala.html#17651" title="scalala.tensor.MatrixLike[V,scalala.tensor.DiagonalMatrix[Vec,V]]">MatrixLike</a><span class="delimiter">[</span>V,DiagonalMatrix<span class="delimiter">[</span>Vec,V<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="364318">numCols</a> = <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Vector.scala.html#42814" title="=&gt; Int">size</a>;
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="364319">numRows</a> = <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Vector.scala.html#42814" title="=&gt; Int">size</a>;
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="364320">nonzeroSize</a> = <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42249" title="=&gt; Int">nonzeroSize</a>;
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(i: Int, j: Int)V" id="364321">apply</a><span class="delimiter">(</span><a title="Int" id="749750">i</a>: <span title="Int">Int</span>, <a title="Int" id="749751">j</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#18603" title="V">V</a> = <span class="delimiter">{</span>
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="DomainFunction.scala.html#42234" title="(key: Int)Unit">checkKey</a><span class="delimiter">(</span><a href="#749750" title="Int">i</a><span class="delimiter">)</span>;
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="DomainFunction.scala.html#42234" title="(key: Int)Unit">checkKey</a><span class="delimiter">(</span><a href="#749751" title="Int">j</a><span class="delimiter">)</span>;
    <span title="V" class="keyword">if</span> <span class="delimiter">(</span><a href="#749750" title="Int">i</a> <span title="(x: Int)Boolean">==</span> <a href="#749751" title="Int">j</a><span class="delimiter">)</span> <a href="Tensor.scala.html#42342" title="(key: Int)V">diag</a><span class="delimiter">(</span><a href="#749750" title="Int">i</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#364341" title="=&gt; scalala.scalar.Scalar[V]">scalar</a>.<a href="../scalar/Scalar.scala.html#41048" title="=&gt; V">zero</a>
  <span class="delimiter">}</span>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[U](fn: (Int, Int) =&gt; U)Boolean" id="364322">foreachNonZeroKey</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="364324">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Int, Int) =&gt; U" id="750232">fn</a> : <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span>Int,Int<span class="delimiter">)</span><span class="delimiter">)</span>=&gt;U<span class="delimiter">)</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42263" title="(fn: Int =&gt; U)Boolean">foreachNonZeroKey</a><span class="delimiter">(</span><span class="delimiter">(</span>i : <span title="Int">Int</span><span class="delimiter">)</span> =&gt; <a href="#750232" title="(v1: (Int, Int))U">fn</a><span class="delimiter">(</span><span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#750265" title="Int">i</a>,<a href="#750265" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span title="Boolean(false)" class="keyword">false</span>;
  <span class="delimiter">}</span>
    
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[U](fn: V =&gt; U)Boolean" id="364325">foreachNonZeroValue</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="364327">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V =&gt; U" id="750274">fn</a> : <span class="delimiter">(</span>V=&gt;U<span class="delimiter">)</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42269" title="(fn: V =&gt; U)Boolean">foreachNonZeroValue</a><span class="delimiter">(</span><a href="#750274" title="V =&gt; U">fn</a><span class="delimiter">)</span>;
    <span title="Boolean(false)" class="keyword">false</span>;
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[U](fn: ((Int, Int), V) =&gt; U)Boolean" id="364328">foreachNonZeroPair</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="364330">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="((Int, Int), V) =&gt; U" id="750302">fn</a> : <span class="delimiter">(</span><span class="delimiter">(</span>Int,Int<span class="delimiter">)</span>,V<span class="delimiter">)</span>=&gt;U<span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42257" title="(fn: (Int, V) =&gt; U)Boolean">foreachNonZeroPair</a><span class="delimiter">(</span><span class="delimiter">(</span>i : <span title="Int">Int</span>, v : <a href="#18603" title="V">V</a><span class="delimiter">)</span> =&gt; <a href="#750302" title="(v1: (Int, Int), v2: V)U">fn</a><span class="delimiter">(</span><span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#750335" title="Int">i</a>,<a href="#750335" title="Int">i</a><span class="delimiter">)</span>,<a href="#750336" title="V">v</a><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span title="Boolean(false)" class="keyword">false</span>;
  <span class="delimiter">}</span>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[U](fn: (Int, Int, V) =&gt; U)Boolean" id="364331">foreachNonZeroTriple</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="364333">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Int, Int, V) =&gt; U" id="750346">fn</a> : <span class="delimiter">(</span>Int,Int,V<span class="delimiter">)</span>=&gt;U<span class="delimiter">)</span> : <span title="Boolean">Boolean</span> =
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42257" title="(fn: (Int, V) =&gt; U)Boolean">foreachNonZeroPair</a><span class="delimiter">(</span><span class="delimiter">(</span>i : <span title="Int">Int</span>, v : <a href="#18603" title="V">V</a><span class="delimiter">)</span> =&gt; <a href="#750346" title="(v1: Int, v2: Int, v3: V)U">fn</a><span class="delimiter">(</span><a href="#750373" title="Int">i</a>,<a href="#750373" title="Int">i</a>,<a href="#750374" title="V">v</a><span class="delimiter">)</span><span class="delimiter">)</span>;
    
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterator[(Int, Int)]" id="364334">keysIteratorNonZero</a> =
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42305" title="=&gt; Iterator[Int]">keysIteratorNonZero</a>.<span title="(f: Int =&gt; (Int, Int))Iterator[(Int, Int)]">map</span><span class="delimiter">(</span><a title="Int" id="750407">i</a> =&gt; <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#750407" title="Int">i</a>,<a href="#750407" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>;
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterator[V]" id="364335">valuesIteratorNonZero</a> =
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42307" title="=&gt; Iterator[V]">valuesIteratorNonZero</a>;
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterator[((Int, Int), V)]" id="364336">pairsIteratorNonZero</a> =
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42309" title="=&gt; Iterator[(Int, V)]">pairsIteratorNonZero</a>.<span title="(f: (Int, V) =&gt; ((Int, Int), V))Iterator[((Int, Int), V)]">map</span><span class="delimiter">(</span><a title="(Int, V)" id="750465">tup</a> =&gt; <span title="(_1: (Int, Int), _2: V)((Int, Int), V)" class="delimiter">(</span><span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#750465" title="(Int, V)">tup</a>.<span title="=&gt; Int">_1</span>,<a href="#750465" title="(Int, V)">tup</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span>,<a href="#750465" title="(Int, V)">tup</a>.<span title="=&gt; V">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterator[(Int, Int, V)]" id="364337">triplesIteratorNonZero</a> =
    <a href="#364342" title="(v1: Vec)scalala.tensor.Vector[V]">diag</a>.<a href="Tensor.scala.html#42309" title="=&gt; Iterator[(Int, V)]">pairsIteratorNonZero</a>.<span title="(f: (Int, V) =&gt; (Int, Int, V))Iterator[(Int, Int, V)]">map</span><span class="delimiter">(</span><a title="(Int, V)" id="750504">tup</a> =&gt; <span title="(_1: Int, _2: Int, _3: V)(Int, Int, V)" class="delimiter">(</span><a href="#750504" title="(Int, V)">tup</a>.<span title="=&gt; Int">_1</span>, <a href="#750504" title="(Int, V)">tup</a>.<span title="=&gt; Int">_1</span>, <a href="#750504" title="(Int, V)">tup</a>.<span title="=&gt; V">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>;
<span class="delimiter">}</span>


        </pre>
    </body>
</html>