<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalala/library/Library.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Distributed as part of Scalala, a linear algebra library.
 *
 * Copyright (C) 2008- Daniel Ramage
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110 USA
 */</span>
<span class="keyword">package</span> scalala;
<span class="keyword">package</span> library;

<span class="keyword">import</span> scalala.generic.math._
<span class="keyword">import</span> scalala.tensor.mutable.Counter;
<span class="keyword">import</span> tensor._
<span class="keyword">import</span> dense._
<span class="keyword">import</span> domain.CanGetDomain
<span class="keyword">import</span> scalar.Scalar
<span class="keyword">import</span> operators._
<span class="keyword">import</span> scalala.generic.collection.<span class="delimiter">{</span>CanMapValues, CanSliceCol, CanBuildTensorFrom, CanSliceRow<span class="delimiter">}</span>

<span class="comment">/**
 * Library of scalala basic mathematical functions.
 *
 * @author dramage, afwlehmann
 */</span>
<span class="keyword">trait</span> <a title="trait Library extends java.lang.Object with ScalaObject" id="12565">Library</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">//</span>
  <span class="comment">// Aliases to scala math package.</span>
  <span class="comment">//</span>

  <span class="comment">/** Alias for math.log. */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(v: Double)Double" id="20536">log</a><span class="delimiter">(</span><a title="Double" id="54573">v</a> : <span title="Double">Double</span><span class="delimiter">)</span> : <span title="Double">Double</span> = scala.math.<span title="(x: Double)Double">log</span><span class="delimiter">(</span><a href="#54573" title="Double">v</a><span class="delimiter">)</span>;

  <span class="comment">/** Alias for math.log1p. */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(v: Double)Double" id="20537">log1p</a><span class="delimiter">(</span><a title="Double" id="54575">v</a> : <span title="Double">Double</span><span class="delimiter">)</span> : <span title="Double">Double</span> = scala.math.<span title="(x: Double)Double">log1p</span><span class="delimiter">(</span><a href="#54575" title="Double">v</a><span class="delimiter">)</span>;

  <span class="comment">/** Alias for math.exp. */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(v: Double)Double" id="20538">exp</a><span class="delimiter">(</span><a title="Double" id="54577">v</a> : <span title="Double">Double</span><span class="delimiter">)</span> : <span title="Double">Double</span> = scala.math.<span title="(x: Double)Double">exp</span><span class="delimiter">(</span><a href="#54577" title="Double">v</a><span class="delimiter">)</span>;

  <span class="comment">/** Alias for math.pow. */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(base: Double, exponent: Double)Double" id="20539">pow</a><span class="delimiter">(</span><a title="Double" id="54579">base</a> : <span title="Double">Double</span>, <a title="Double" id="54580">exponent</a> : <span title="Double">Double</span><span class="delimiter">)</span> : <span title="Double">Double</span> =
    scala.math.<span title="(x: Double, y: Double)Double">pow</span><span class="delimiter">(</span><a href="#54579" title="Double">base</a>, <a href="#54580" title="Double">exponent</a><span class="delimiter">)</span>;

  <span class="comment">/** Alias for math.abs. */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(v: Double)Double" id="20540">abs</a><span class="delimiter">(</span><a title="Double" id="54582">v</a> : <span title="Double">Double</span><span class="delimiter">)</span> : <span title="Double">Double</span> = scala.math.<span title="(x: Double)Double">abs</span><span class="delimiter">(</span><a href="#54582" title="Double">v</a><span class="delimiter">)</span>;

  <span class="comment">/** Alias for x.isNaN. */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(x: Double)Boolean" id="20541">isnan</a><span class="delimiter">(</span><a title="Double" id="54592">x</a> : <span title="Double">Double</span><span class="delimiter">)</span> = java.lang.<span title="object java.lang.Double">Double</span>.<span title="(x$1: Double)Boolean">isNaN</span><span class="delimiter">(</span><a href="#54592" title="Double">x</a><span class="delimiter">)</span>;

  <span class="comment">/** Alias for math.sqrt. */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(x: Double)Double" id="20542">sqrt</a><span class="delimiter">(</span><a title="Double" id="54595">x</a> : <span title="Double">Double</span><span class="delimiter">)</span> = scala.math.<span title="(x: Double)Double">sqrt</span><span class="delimiter">(</span><a href="#54595" title="Double">x</a><span class="delimiter">)</span>;

  <span class="comment">/** Alias for Double.NaN */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Double(NaN)" id="20543">NaN</a> = Double.<span title="Double(NaN)">NaN</span>;

  <span class="comment">/** Alias for Double.NaN */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Double(NaN)" id="20545">nan</a> = <span title="Double(NaN)">NaN</span>;

  <span class="comment">/** Alias for Double.PositiveInfinity */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Double(Infinity)" id="20547">Inf</a> = Double.<span title="Double(Infinity)">PositiveInfinity</span>;

  <span class="comment">/** Alias for Double.PositiveInfinity */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Double(Infinity)" id="20549">inf</a> = <span title="Double(Infinity)">Inf</span>;

  <span class="comment">//</span>
  <span class="comment">// Collection level operations</span>
  <span class="comment">//</span>

  <span class="comment">/** Take the log of the given value. */</span>
  <span class="keyword">def</span> <a title="[V, That](value: V)(implicit log: scalala.generic.math.CanLog[V,That])That" id="20551">log</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20554">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20555">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54598">value</a> : <a href="#20554" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanLog[V,That]" id="54599">log</a> : <a href="../generic/math/CanLog.scala.html#12205" title="scalala.generic.math.CanLog[V,That]">CanLog</a><span class="delimiter">[</span>V,That<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#20555" title="That">That</a> =
    <a href="../operators/UnaryOp.scala.html#40238" title="(t: V)That">log</a><span class="delimiter">(</span><a href="#54598" title="V">value</a><span class="delimiter">)</span>;

  <span class="comment">/** Take the exp of the given value. */</span>
  <span class="keyword">def</span> <a title="[V, That](value: V)(implicit exp: scalala.generic.math.CanExp[V,That])That" id="20556">exp</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20559">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20560">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54604">value</a> : <a href="#20559" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanExp[V,That]" id="54605">exp</a> : <a href="../generic/math/CanExp.scala.html#12211" title="scalala.generic.math.CanExp[V,That]">CanExp</a><span class="delimiter">[</span>V,That<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#20560" title="That">That</a> =
    <a href="../operators/UnaryOp.scala.html#40238" title="(t: V)That">exp</a><span class="delimiter">(</span><a href="#54604" title="V">value</a><span class="delimiter">)</span>;

    <span class="comment">/** Take the log of the given value. */</span>
  <span class="keyword">def</span> <a title="[V, That](value: V)(implicit abs: scalala.generic.math.CanAbs[V,That])That" id="20561">abs</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20564">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20565">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54610">value</a> : <a href="#20564" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanAbs[V,That]" id="54611">abs</a> : <a href="../generic/math/CanAbs.scala.html#12244" title="scalala.generic.math.CanAbs[V,That]">CanAbs</a><span class="delimiter">[</span>V,That<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#20565" title="That">That</a> =
    <a href="../generic/math/CanAbs.scala.html#50692" title="(v: V)That">abs</a><span class="delimiter">(</span><a href="#54610" title="V">value</a><span class="delimiter">)</span>;

  <span class="comment">/** Take the n-norm of the given values. */</span>
  <span class="keyword">def</span> <a title="[V, That](value: V)(implicit mean: scalala.generic.math.CanMean[V,That])That" id="20566">mean</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20569">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20570">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54626">value</a> : <a href="#20569" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanMean[V,That]" id="54627">mean</a> : <a href="../generic/math/CanMean.scala.html#12166" title="scalala.generic.math.CanMean[V,That]">CanMean</a><span class="delimiter">[</span>V,That<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#20570" title="That">That</a> =
    <a href="#54627" title="(v1: V)That">mean</a><span class="delimiter">(</span><a href="#54626" title="V">value</a><span class="delimiter">)</span>;

  <span class="comment">/** Take the n-norm of the given value. */</span>
  <span class="keyword">def</span> <a title="[V](value: V, n: Double)(implicit norm: scalala.generic.math.CanNorm[V])Double" id="20571">norm</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20573">V</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54632">value</a> : <a href="#20573" title="V">V</a>, <a title="Double" id="54633">n</a> : <span title="Double">Double</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanNorm[V]" id="54634">norm</a> : <a href="../generic/math/CanNorm.scala.html#12241" title="scalala.generic.math.CanNorm[V]">CanNorm</a><span class="delimiter">[</span>V<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Double">Double</span> =
    <a href="#54634" title="(v1: V, v2: Double)Double">norm</a><span class="delimiter">(</span><a href="#54632" title="V">value</a>, <a href="#54633" title="Double">n</a><span class="delimiter">)</span>;

  <span class="comment">/** Take the sqrt of the given value. */</span>
  <span class="keyword">def</span> <a title="[V, That](value: V)(implicit sqrt: scalala.generic.math.CanSqrt[V,That])That" id="20574">sqrt</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20577">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20578">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54641">value</a> : <a href="#20577" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanSqrt[V,That]" id="54642">sqrt</a> : <a href="../generic/math/CanSqrt.scala.html#12277" title="scalala.generic.math.CanSqrt[V,That]">CanSqrt</a><span class="delimiter">[</span>V,That<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#20578" title="That">That</a> =
    <a href="../operators/UnaryOp.scala.html#40238" title="(t: V)That">sqrt</a><span class="delimiter">(</span><a href="#54641" title="V">value</a><span class="delimiter">)</span>;

  <span class="comment">/** Take the standard deviation of a collection. */</span>
  <span class="keyword">def</span> <a title="[V, VV, That](data: V)(implicit variance: scalala.generic.math.CanVariance[V,VV], implicit sqrt: scalala.generic.math.CanSqrt[VV,That])That" id="20579">stddev</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20583">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20584">VV</a>,<a title="&gt;: Nothing &lt;: Any" id="20585">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54647">data</a> : <a href="#20583" title="V">V</a><span class="delimiter">)</span>
  <span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanVariance[V,VV]" id="54648">variance</a> : <a href="../generic/math/CanVariance.scala.html#12349" title="scalala.generic.math.CanVariance[V,VV]">CanVariance</a><span class="delimiter">[</span>V,VV<span class="delimiter">]</span>, <a title="scalala.generic.math.CanSqrt[VV,That]" id="54649">sqrt</a> : <a href="../generic/math/CanSqrt.scala.html#12277" title="scalala.generic.math.CanSqrt[VV,That]">CanSqrt</a><span class="delimiter">[</span>VV,That<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#20585" title="That">That</a> =
    <a href="../operators/UnaryOp.scala.html#40238" title="(t: VV)That">sqrt</a><span class="delimiter">(</span><a href="#54648" title="(v1: V)VV">variance</a><span class="delimiter">(</span><a href="#54647" title="V">data</a><span class="delimiter">)</span><span class="delimiter">)</span>;

  <span class="comment">/** Take the variance of a collection. */</span>
  <span class="keyword">def</span> <a title="[V, That](data: V)(implicit variance: scalala.generic.math.CanVariance[V,That])That" id="20586">variance</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20589">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20590">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54656">data</a> : <a href="#20589" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanVariance[V,That]" id="54657">variance</a> : <a href="../generic/math/CanVariance.scala.html#12349" title="scalala.generic.math.CanVariance[V,That]">CanVariance</a><span class="delimiter">[</span>V,That<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#54657" title="(v1: V)That">variance</a><span class="delimiter">(</span><a href="#54656" title="V">data</a><span class="delimiter">)</span>;

  <span class="comment">/** Take the softmax of a collection. */</span>
  <span class="keyword">def</span> <a title="[V](value: V)(implicit softmax: scalala.generic.math.CanSoftmax[V])Double" id="20591">softmax</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20593">V</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="54663">value</a>: <a href="#20593" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanSoftmax[V]" id="54664">softmax</a>: <a href="../generic/math/CanSoftmax.scala.html#12262" title="scalala.generic.math.CanSoftmax[V]">CanSoftmax</a><span class="delimiter">[</span>V<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Double">Double</span> =
    <a href="#54664" title="scalala.generic.math.CanSoftmax[V]">softmax</a>.<a href="../generic/math/CanSoftmax.scala.html#53073" title="(x: V)Double">softmax</a><span class="delimiter">(</span><a href="#54663" title="V">value</a><span class="delimiter">)</span>

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Axis extends java.lang.Object" id="20594">Axis</a>;
  <span class="keyword">object</span> <a title="object Library.this.Axis" id="20595">Axis</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">type</span> <a title="Library.this.Axis" id="54671">Value</a> = <a href="#20594" title="Library.this.Axis">Axis</a>
    case <span class="keyword">object</span> <a href="#54684" title="object scalala.library.Library.Axis.Horizontal" id="54689">Horizontal</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#20594" title="Library.this.Axis">Axis</a>;
    case <span class="keyword">object</span> <a href="#54697" title="object scalala.library.Library.Axis.Vertical" id="54702">Vertical</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#20594" title="Library.this.Axis">Axis</a>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Minimum vector of the given matrix along the specified axis.
   */</span>
  <span class="keyword">def</span> <a title="[T](X: scalala.tensor.Matrix[T], axis: Library.this.Axis.Value)(implicit evidence$1: scalala.scalar.Scalar[T])scalala.tensor.dense.DenseVector[T]" id="54705">min</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20599">T</a>: Scalar<span class="delimiter">]</span><span class="delimiter">(</span><a title="scalala.tensor.Matrix[T]" id="54703">X</a>: <a href="../tensor/Matrix.scala.html#18329" title="scalala.tensor.Matrix[T]">Matrix</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Library.this.Axis.Value" id="54704">axis</a>: Axis.<a href="#20594" title="Library.this.Axis.Value">Value</a><span class="delimiter">)</span>: <a href="../tensor/dense/DenseVector.scala.html#19049" title="scalala.tensor.dense.DenseVector[T]">DenseVector</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#54704" title="Library.this.Axis.Value">axis</a> <span title="scalala.tensor.dense.DenseVector[T]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#20595" title="scalala.tensor.dense.DenseVectorCol[T]">Axis</a>.<a href="#54689" title="object Library.this.Axis.Horizontal">Horizontal</a> =&gt; <a href="../tensor/dense/DenseVector.scala.html#18906" title="object scalala.tensor.dense.DenseVectorCol">DenseVectorCol</a>.<a href="../tensor/dense/DenseVector.scala.html#43300" title="[V](size: Int)(f: Int =&gt; V)(implicit evidence$43: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseVectorCol[V]">tabulate</a><span title="(size: Int)(f: Int =&gt; T)(implicit evidence$43: scalala.scalar.Scalar[T])scalala.tensor.dense.DenseVectorCol[T]" class="delimiter">[</span><a href="#20599" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#54703" title="scalala.tensor.Matrix[T]">X</a>.<a href="../tensor/Matrix.scala.html#49654" title="=&gt; Int">numRows</a><span class="delimiter">)</span><a href="#54705" title="scalala.scalar.Scalar[T]" class="delimiter">(</a><a href="../tensor/Tensor2.scala.html#44384" title="(i: Int, j: scalala.tensor.package.SelectAll)(implicit bf: scalala.generic.collection.CanSliceRow[scalala.tensor.Matrix[T],Int,scalala.tensor.VectorRow[T]])scalala.tensor.VectorRow[T]">X</a><a href="../tensor/Matrix.scala.html#56579" title="(implicit evidence$1: scalala.scalar.Scalar[T])scalala.generic.collection.CanSliceRow[scalala.tensor.Matrix[T],Int,scalala.tensor.VectorRow[T]]" class="delimiter">(</a><a href="#54775" title="Int">_</a>,<a href="../tensor/package.scala.html#20530" title="object scalala.tensor.package.::">::</a><span class="delimiter">)</span>.<a href="../tensor/Tensor.scala.html#42374" title="=&gt; T">min</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#20595" title="scalala.tensor.dense.DenseVectorCol[T]">Axis</a>.<a href="#54702" title="object Library.this.Axis.Vertical">Vertical</a> =&gt; <a href="../tensor/dense/DenseVector.scala.html#19026" title="object scalala.tensor.dense.DenseVectorRow">DenseVectorRow</a>.<a href="../tensor/dense/DenseVector.scala.html#42746" title="[V](size: Int)(f: Int =&gt; V)(implicit evidence$37: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseVectorCol[V]">tabulate</a><span title="(size: Int)(f: Int =&gt; T)(implicit evidence$37: scalala.scalar.Scalar[T])scalala.tensor.dense.DenseVectorCol[T]" class="delimiter">[</span><a href="#20599" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#54703" title="scalala.tensor.Matrix[T]">X</a>.<a href="../tensor/Matrix.scala.html#49655" title="=&gt; Int">numCols</a><span class="delimiter">)</span><a href="#54705" title="scalala.scalar.Scalar[T]" class="delimiter">(</a><a href="../tensor/Tensor2.scala.html#44389" title="(i: scalala.tensor.package.SelectAll, j: Int)(implicit bf: scalala.generic.collection.CanSliceCol[scalala.tensor.Matrix[T],Int,scalala.tensor.VectorCol[T]])scalala.tensor.VectorCol[T]">X</a><a href="../tensor/Matrix.scala.html#56582" title="(implicit evidence$2: scalala.scalar.Scalar[T])scalala.generic.collection.CanSliceCol[scalala.tensor.Matrix[T],Int,scalala.tensor.VectorCol[T]]" class="delimiter">(</a><a href="../tensor/package.scala.html#20530" title="object scalala.tensor.package.::">::</a>,<a href="#57133" title="Int">_</a><span class="delimiter">)</span>.<a href="../tensor/Tensor.scala.html#42374" title="=&gt; T">min</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maximum vector of the given matrix along the specified axis.
   */</span>
  <span class="keyword">def</span> <a title="[T](X: scalala.tensor.Matrix[T], axis: Library.this.Axis.Value)(implicit evidence$2: scalala.scalar.Scalar[T])scalala.tensor.dense.DenseVector[T]" id="57961">max</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20602">T</a>: Scalar<span class="delimiter">]</span><span class="delimiter">(</span><a title="scalala.tensor.Matrix[T]" id="57959">X</a>: <a href="../tensor/Matrix.scala.html#18329" title="scalala.tensor.Matrix[T]">Matrix</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Library.this.Axis.Value" id="57960">axis</a>: Axis.<a href="#20594" title="Library.this.Axis.Value">Value</a><span class="delimiter">)</span>: <a href="../tensor/dense/DenseVector.scala.html#19049" title="scalala.tensor.dense.DenseVector[T]">DenseVector</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#57960" title="Library.this.Axis.Value">axis</a> <span title="scalala.tensor.dense.DenseVector[T]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#20595" title="scalala.tensor.dense.DenseVectorCol[T]">Axis</a>.<a href="#54689" title="object Library.this.Axis.Horizontal">Horizontal</a> =&gt; <a href="../tensor/dense/DenseVector.scala.html#18906" title="object scalala.tensor.dense.DenseVectorCol">DenseVectorCol</a>.<a href="../tensor/dense/DenseVector.scala.html#43300" title="[V](size: Int)(f: Int =&gt; V)(implicit evidence$43: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseVectorCol[V]">tabulate</a><span title="(size: Int)(f: Int =&gt; T)(implicit evidence$43: scalala.scalar.Scalar[T])scalala.tensor.dense.DenseVectorCol[T]" class="delimiter">[</span><a href="#20602" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#57959" title="scalala.tensor.Matrix[T]">X</a>.<a href="../tensor/Matrix.scala.html#49654" title="=&gt; Int">numRows</a><span class="delimiter">)</span><a href="#57961" title="scalala.scalar.Scalar[T]" class="delimiter">(</a><a href="../tensor/Tensor2.scala.html#44384" title="(i: Int, j: scalala.tensor.package.SelectAll)(implicit bf: scalala.generic.collection.CanSliceRow[scalala.tensor.Matrix[T],Int,scalala.tensor.VectorRow[T]])scalala.tensor.VectorRow[T]">X</a><a href="../tensor/Matrix.scala.html#56579" title="(implicit evidence$1: scalala.scalar.Scalar[T])scalala.generic.collection.CanSliceRow[scalala.tensor.Matrix[T],Int,scalala.tensor.VectorRow[T]]" class="delimiter">(</a><a href="#57969" title="Int">_</a>,<a href="../tensor/package.scala.html#20530" title="object scalala.tensor.package.::">::</a><span class="delimiter">)</span>.<a href="../tensor/Tensor.scala.html#42373" title="=&gt; T">max</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#20595" title="scalala.tensor.dense.DenseVectorCol[T]">Axis</a>.<a href="#54702" title="object Library.this.Axis.Vertical">Vertical</a> =&gt; <a href="../tensor/dense/DenseVector.scala.html#19026" title="object scalala.tensor.dense.DenseVectorRow">DenseVectorRow</a>.<a href="../tensor/dense/DenseVector.scala.html#42746" title="[V](size: Int)(f: Int =&gt; V)(implicit evidence$37: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseVectorCol[V]">tabulate</a><span title="(size: Int)(f: Int =&gt; T)(implicit evidence$37: scalala.scalar.Scalar[T])scalala.tensor.dense.DenseVectorCol[T]" class="delimiter">[</span><a href="#20602" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#57959" title="scalala.tensor.Matrix[T]">X</a>.<a href="../tensor/Matrix.scala.html#49655" title="=&gt; Int">numCols</a><span class="delimiter">)</span><a href="#57961" title="scalala.scalar.Scalar[T]" class="delimiter">(</a><a href="../tensor/Tensor2.scala.html#44389" title="(i: scalala.tensor.package.SelectAll, j: Int)(implicit bf: scalala.generic.collection.CanSliceCol[scalala.tensor.Matrix[T],Int,scalala.tensor.VectorCol[T]])scalala.tensor.VectorCol[T]">X</a><a href="../tensor/Matrix.scala.html#56582" title="(implicit evidence$2: scalala.scalar.Scalar[T])scalala.generic.collection.CanSliceCol[scalala.tensor.Matrix[T],Int,scalala.tensor.VectorCol[T]]" class="delimiter">(</a><a href="../tensor/package.scala.html#20530" title="object scalala.tensor.package.::">::</a>,<a href="#58794" title="Int">_</a><span class="delimiter">)</span>.<a href="../tensor/Tensor.scala.html#42373" title="=&gt; T">max</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Mean vector of the given matrix along the specified axis.
   */</span>
  <span class="keyword">def</span> <a title="[T](X: scalala.tensor.Matrix[T], axis: Library.this.Axis.Value)(implicit xv: T =&gt; Double)scalala.tensor.dense.DenseVector[Double]" id="20603">mean</a><span class="delimiter">[</span>@specialized <a title="&gt;: Nothing &lt;: Any" id="20605">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalala.tensor.Matrix[T]" id="59612">X</a>: <a href="../tensor/Matrix.scala.html#18329" title="scalala.tensor.Matrix[T]">Matrix</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Library.this.Axis.Value" id="59613">axis</a>: Axis.<a href="#20594" title="Library.this.Axis.Value">Value</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; Double" id="59614">xv</a>: T =&gt; Double<span class="delimiter">)</span>
  : <a href="../tensor/dense/DenseVector.scala.html#19049" title="scalala.tensor.dense.DenseVector[Double]">DenseVector</a><span class="delimiter">[</span>Double<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// TODO: This calculation of the mean is rather slow. It should</span>
    <span class="comment">//       be transformed into several while loops.</span>
    <a href="#59613" title="Library.this.Axis.Value">axis</a> <span title="scalala.tensor.dense.DenseVector[Double]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#20595" title="scalala.tensor.dense.DenseVectorCol[Double]">Axis</a>.<a href="#54689" title="object Library.this.Axis.Horizontal">Horizontal</a> =&gt;
        <span class="keyword">var</span> <a title="scalala.tensor.dense.DenseVectorCol[Double]" id="59631">mu</a> = <a href="../tensor/dense/DenseVector.scala.html#19050" title="object scalala.tensor.dense.DenseVector">DenseVector</a>.<a href="../tensor/dense/DenseVector.scala.html#43294" title="[V](size: Int)(implicit s: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseVectorCol[V]">zeros</a><span title="(size: Int)(implicit s: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseVectorCol[Double]" class="delimiter">[</span><span title="Double">Double</span><span class="delimiter">]</span><a href="../scalar/Scalar.scala.html#45343" title="object scalala.scalar.Scalar.scalarD" class="delimiter">(</a><a href="#59612" title="scalala.tensor.Matrix[T]">X</a>.<a href="../tensor/Matrix.scala.html#49654" title="=&gt; Int">numRows</a><span class="delimiter">)</span>
        <a href="#59612" title="scalala.tensor.Matrix[T]">X</a> <a href="../tensor/Tensor2.scala.html#44425" title="(fn: (Int, Int, T) =&gt; Unit)Unit">foreachTriple</a> <span class="delimiter">(</span> <span class="delimiter">(</span><a title="Int" id="59768">i</a>, <a title="Int" id="59769">j</a>, <a title="T" id="59770">value</a><span class="delimiter">)</span> =&gt;
          <a href="#59631" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a><span class="delimiter">(</span><a href="#59768" title="Int">i</a><span class="delimiter">)</span> <span title="(x: Double)Double">+=</span> <span class="delimiter">(</span><a href="#59614" title="(v1: T)Double">value</a> <span title="(x: Double)Double">-</span> <a href="../tensor/dense/DenseVector.scala.html#43336" title="(key: Int)Double">mu</a><span class="delimiter">(</span><a href="#59768" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Double">/</span> <span class="delimiter">(</span><a href="#59769" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#59631" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a>

      <span class="keyword">case</span> <a href="#20595" title="scalala.tensor.dense.DenseVectorRow[Double]">Axis</a>.<a href="#54702" title="object Library.this.Axis.Vertical">Vertical</a> =&gt;
        <span class="keyword">var</span> <a title="scalala.tensor.dense.DenseVectorCol[Double]" id="60823">mu</a> = <a href="../tensor/dense/DenseVector.scala.html#19050" title="object scalala.tensor.dense.DenseVector">DenseVector</a>.<a href="../tensor/dense/DenseVector.scala.html#43294" title="[V](size: Int)(implicit s: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseVectorCol[V]">zeros</a><span title="(size: Int)(implicit s: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseVectorCol[Double]" class="delimiter">[</span><span title="Double">Double</span><span class="delimiter">]</span><a href="../scalar/Scalar.scala.html#45343" title="object scalala.scalar.Scalar.scalarD" class="delimiter">(</a><a href="#59612" title="scalala.tensor.Matrix[T]">X</a>.<a href="../tensor/Matrix.scala.html#49655" title="=&gt; Int">numCols</a><span class="delimiter">)</span>
        <a href="#59612" title="scalala.tensor.Matrix[T]">X</a> <a href="../tensor/Tensor2.scala.html#44425" title="(fn: (Int, Int, T) =&gt; Unit)Unit">foreachTriple</a> <span class="delimiter">(</span> <span class="delimiter">(</span><a title="Int" id="60828">i</a>, <a title="Int" id="60829">j</a>, <a title="T" id="60830">value</a><span class="delimiter">)</span> =&gt;
          <a href="#60823" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a><span class="delimiter">(</span><a href="#60829" title="Int">j</a><span class="delimiter">)</span> <span title="(x: Double)Double">+=</span> <span class="delimiter">(</span><a href="#59614" title="(v1: T)Double">value</a> <span title="(x: Double)Double">-</span> <a href="../tensor/dense/DenseVector.scala.html#43336" title="(key: Int)Double">mu</a><span class="delimiter">(</span><a href="#60829" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Double">/</span> <span class="delimiter">(</span><a href="#60828" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#60823" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a>.<a href="../tensor/dense/DenseVector.scala.html#43343" title="=&gt; scalala.tensor.dense.DenseVectorRow[Double]">t</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The covariance matrix and mean of the given dataset X where the samples of
   * a multivariate random distribution are stacked along the given axis.
   */</span>
  <span class="keyword">def</span> <a title="(X: scalala.tensor.Matrix[Double], axis: Library.this.Axis.Value)(scalala.tensor.dense.DenseMatrix[Double], scalala.tensor.dense.DenseVector[Double])" id="20606">covariance</a><span class="delimiter">(</span><a title="scalala.tensor.Matrix[Double]" id="61464">X</a>: <a href="../tensor/Matrix.scala.html#18329" title="scalala.tensor.Matrix[Double]">Matrix</a><span class="delimiter">[</span>Double<span class="delimiter">]</span>, <a title="Library.this.Axis.Value" id="61467">axis</a>: Axis.<a href="#20594" title="Library.this.Axis.Value">Value</a> = <a href="#20595" title="object Library.this.Axis">Axis</a>.<a href="#54689" title="object Library.this.Axis.Horizontal">Horizontal</a><span class="delimiter">)</span>:
    <span title="(scalala.tensor.dense.DenseMatrix[Double], scalala.tensor.dense.DenseVector[Double])" class="delimiter">(</span>DenseMatrix<span class="delimiter">[</span>Double<span class="delimiter">]</span>, DenseVector<span class="delimiter">[</span>Double<span class="delimiter">]</span><span class="delimiter">)</span> =
  <span class="delimiter">{</span>
    <span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><a href="#61464" title="scalala.tensor.Matrix[Double]">X</a>.<a href="../tensor/Matrix.scala.html#49655" title="=&gt; Int">numCols</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#61464" title="scalala.tensor.Matrix[Double]">X</a>.<a href="../tensor/Matrix.scala.html#49654" title="=&gt; Int">numRows</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

    <a href="#61467" title="Library.this.Axis.Value">axis</a> <span title="(scalala.tensor.dense.DenseMatrix[Double], scalala.tensor.dense.DenseVector[Double])" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#20595" title="(scalala.tensor.dense.DenseMatrix[Double], scalala.tensor.dense.DenseVectorCol[Double])">Axis</a>.<a href="#54689" title="object Library.this.Axis.Horizontal">Horizontal</a> =&gt;
        <span class="keyword">val</span> <a title="Int" id="61478">dim</a>   = <a href="#61464" title="scalala.tensor.Matrix[Double]">X</a>.<a href="../tensor/Matrix.scala.html#49654" title="=&gt; Int">numRows</a>
        <span class="keyword">var</span> <a title="scalala.tensor.dense.DenseVectorCol[Double]" id="61479">mu</a>    = <a href="../tensor/dense/DenseVector.scala.html#19050" title="object scalala.tensor.dense.DenseVector">DenseVector</a>.<a href="../tensor/dense/DenseVector.scala.html#43300" title="[V](size: Int)(f: Int =&gt; V)(implicit evidence$43: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseVectorCol[V]">tabulate</a><span title="(size: Int)(f: Int =&gt; Double)(implicit evidence$43: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseVectorCol[Double]" class="delimiter">[</span><span title="Double">Double</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#61478" title="Int">dim</a><span class="delimiter">)</span><a href="../scalar/Scalar.scala.html#45343" title="object scalala.scalar.Scalar.scalarD" class="delimiter">(</a><a href="../tensor/Tensor2.scala.html#44382" title="(i: Int, j: Int)Double">X</a><span class="delimiter">(</span><a href="#61485" title="Int">_</a>,<span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="scalala.tensor.dense.DenseMatrix[Double]" id="61480">Sigma</a> = <a href="../tensor/dense/DenseMatrix.scala.html#19128" title="object scalala.tensor.dense.DenseMatrix">DenseMatrix</a>.<a href="../tensor/dense/DenseMatrix.scala.html#62269" title="[V](rows: Int, cols: Int)(implicit s: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseMatrix[V]">zeros</a><span title="(rows: Int, cols: Int)(implicit s: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseMatrix[Double]" class="delimiter">[</span><span title="Double">Double</span><span class="delimiter">]</span><a href="../scalar/Scalar.scala.html#45343" title="object scalala.scalar.Scalar.scalarD" class="delimiter">(</a><a href="#61478" title="Int">dim</a>, <a href="#61478" title="Int">dim</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Double" id="61481">K</a>     = <span title="Double(1.0)" class="double">1.0</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="65260">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(f: Int =&gt; scalala.tensor.dense.DenseMatrix[Double])Unit">until</span> <a href="#61464" title="scalala.tensor.Matrix[Double]">X</a>.<a href="../tensor/Matrix.scala.html#49655" title="=&gt; Int">numCols</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scalala.tensor.mutable.VectorCol[Double]" id="65261">xMinusMu</a> = <a href="../tensor/Tensor2.scala.html#44389" title="(i: scalala.tensor.package.SelectAll, j: Int)(implicit bf: scalala.generic.collection.CanSliceCol[scalala.tensor.Matrix[Double],Int,scalala.tensor.VectorCol[Double]])scalala.tensor.VectorCol[Double]">X</a><a href="../tensor/Matrix.scala.html#56582" title="(implicit evidence$2: scalala.scalar.Scalar[Double])scalala.generic.collection.CanSliceCol[scalala.tensor.Matrix[Double],Int,scalala.tensor.VectorCol[Double]]" class="delimiter">(</a><a href="../tensor/package.scala.html#20530" title="object scalala.tensor.package.::">::</a>,<a href="#65260" title="Int">i</a><span class="delimiter">)</span> <a href="../operators/Ops.scala.html#40753" title="(b: scalala.tensor.dense.DenseVectorCol[Double])(implicit op: scalala.operators.BinaryOp[scalala.tensor.VectorCol[Double],scalala.tensor.dense.DenseVectorCol[Double],scalala.operators.OpSub,scalala.tensor.mutable.VectorCol[Double]])scalala.tensor.mutable.VectorCol[Double]">-</a> <a href="#61479" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a>
          <a href="#61481" title="Double">K</a>     <span title="(x: Int)Double">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#61479" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a>    <a href="../operators/Ops.scala.html#40923" title="(b: scalala.tensor.mutable.VectorCol[Double])(implicit op: scalala.operators.BinaryUpdateOp[scalala.tensor.dense.DenseVectorCol[Double],scalala.tensor.mutable.VectorCol[Double],scalala.operators.OpAdd])scalala.tensor.dense.DenseVectorCol[Double]">+=</a> <a href="#65261" title="scalala.tensor.mutable.VectorCol[Double]">xMinusMu</a> <a href="../operators/Ops.scala.html#40781" title="(b: Double)(implicit op: scalala.operators.BinaryOp[scalala.tensor.mutable.VectorCol[Double],Double,scalala.operators.OpDiv,scalala.tensor.mutable.VectorCol[Double]], implicit sb: scalala.scalar.Scalar[Double])scalala.tensor.mutable.VectorCol[Double]">/</a> <a href="#61481" title="Double">K</a>
          <a href="#61480" title="scalala.tensor.dense.DenseMatrix[Double]">Sigma</a> <a href="../operators/Ops.scala.html#40923" title="(b: scalala.tensor.mutable.Matrix[Double])(implicit op: scalala.operators.BinaryUpdateOp[scalala.tensor.dense.DenseMatrix[Double],scalala.tensor.mutable.Matrix[Double],scalala.operators.OpAdd])scalala.tensor.dense.DenseMatrix[Double]">+=</a> <a href="#65261" title="scalala.tensor.mutable.VectorCol[Double]">xMinusMu</a> <a href="../operators/Ops.scala.html#43245" title="(b: scalala.tensor.mutable.VectorRow[Double])(implicit op: scalala.operators.BinaryOp[scalala.tensor.mutable.VectorCol[Double],scalala.tensor.mutable.VectorRow[Double],scalala.operators.OpMulColVectorBy,scalala.tensor.mutable.Matrix[Double]])scalala.tensor.mutable.Matrix[Double]">*</a> <a href="#65261" title="scalala.tensor.mutable.VectorCol[Double]">xMinusMu</a>.<a href="../tensor/mutable/VectorCol.scala.html#43406" title="=&gt; scalala.tensor.mutable.VectorRow[Double]">t</a> <a href="../operators/Ops.scala.html#44449" title="(b: Double)(implicit op: scalala.operators.BinaryOp[scalala.tensor.mutable.Matrix[Double],Double,scalala.operators.OpMulMatrixBy,scalala.tensor.mutable.Matrix[Double]])scalala.tensor.mutable.Matrix[Double]">*</a> <span class="delimiter">(</span><span title="Double(1.0)" class="double">1.</span> <span title="(x: Double)Double">-</span> <span title="Double(1.0)" class="double">1.</span> <span title="(x: Double)Double">/</span> <a href="#61481" title="Double">K</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="(_1: scalala.tensor.dense.DenseMatrix[Double], _2: scalala.tensor.dense.DenseVectorCol[Double])(scalala.tensor.dense.DenseMatrix[Double], scalala.tensor.dense.DenseVectorCol[Double])" class="delimiter">(</span><a href="#61480" title="scalala.tensor.dense.DenseMatrix[Double]">Sigma</a> <a href="../operators/Ops.scala.html#40781" title="(b: Double)(implicit op: scalala.operators.BinaryOp[scalala.tensor.dense.DenseMatrix[Double],Double,scalala.operators.OpDiv,scalala.tensor.dense.DenseMatrix[Double]], implicit sb: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseMatrix[Double]">/</a> math.<span title="(x: Double, y: Double)Double">max</span><span class="delimiter">(</span><span title="Double(1.0)" class="int">1</span>, <a href="#61481" title="Double">K</a><span title="(x: Int)Double">-</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#61479" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <a href="#20595" title="(scalala.tensor.dense.DenseMatrix[Double], scalala.tensor.dense.DenseVectorCol[Double])">Axis</a>.<a href="#54702" title="object Library.this.Axis.Vertical">Vertical</a> =&gt;
        <span class="keyword">val</span> <a title="Int" id="141559">dim</a>   = <a href="#61464" title="scalala.tensor.Matrix[Double]">X</a>.<a href="../tensor/Matrix.scala.html#49655" title="=&gt; Int">numCols</a>
        <span class="keyword">var</span> <a title="scalala.tensor.dense.DenseVectorCol[Double]" id="141560">mu</a>    = <a href="../tensor/dense/DenseVector.scala.html#19050" title="object scalala.tensor.dense.DenseVector">DenseVector</a>.<a href="../tensor/dense/DenseVector.scala.html#43300" title="[V](size: Int)(f: Int =&gt; V)(implicit evidence$43: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseVectorCol[V]">tabulate</a><span title="(size: Int)(f: Int =&gt; Double)(implicit evidence$43: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseVectorCol[Double]" class="delimiter">[</span><span title="Double">Double</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#141559" title="Int">dim</a><span class="delimiter">)</span><a href="../scalar/Scalar.scala.html#45343" title="object scalala.scalar.Scalar.scalarD" class="delimiter">(</a><a href="../tensor/Tensor2.scala.html#44382" title="(i: Int, j: Int)Double">X</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>,<a href="#141566" title="Int">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="scalala.tensor.dense.DenseMatrix[Double]" id="141561">Sigma</a> = <a href="../tensor/dense/DenseMatrix.scala.html#19128" title="object scalala.tensor.dense.DenseMatrix">DenseMatrix</a>.<a href="../tensor/dense/DenseMatrix.scala.html#62269" title="[V](rows: Int, cols: Int)(implicit s: scalala.scalar.Scalar[V])scalala.tensor.dense.DenseMatrix[V]">zeros</a><span title="(rows: Int, cols: Int)(implicit s: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseMatrix[Double]" class="delimiter">[</span><span title="Double">Double</span><span class="delimiter">]</span><a href="../scalar/Scalar.scala.html#45343" title="object scalala.scalar.Scalar.scalarD" class="delimiter">(</a><a href="#141559" title="Int">dim</a>, <a href="#141559" title="Int">dim</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Double" id="141562">K</a>     = <span title="Double(1.0)" class="double">1.0</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="142434">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(f: Int =&gt; scalala.tensor.dense.DenseMatrix[Double])Unit">until</span> <a href="#61464" title="scalala.tensor.Matrix[Double]">X</a>.<a href="../tensor/Matrix.scala.html#49654" title="=&gt; Int">numRows</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scalala.tensor.mutable.VectorRow[Double]" id="142435">xMinusMu</a> = <a href="../tensor/Tensor2.scala.html#44384" title="(i: Int, j: scalala.tensor.package.SelectAll)(implicit bf: scalala.generic.collection.CanSliceRow[scalala.tensor.Matrix[Double],Int,scalala.tensor.VectorRow[Double]])scalala.tensor.VectorRow[Double]">X</a><a href="../tensor/Matrix.scala.html#56579" title="(implicit evidence$1: scalala.scalar.Scalar[Double])scalala.generic.collection.CanSliceRow[scalala.tensor.Matrix[Double],Int,scalala.tensor.VectorRow[Double]]" class="delimiter">(</a><a href="#142434" title="Int">i</a>,<a href="../tensor/package.scala.html#20530" title="object scalala.tensor.package.::">::</a><span class="delimiter">)</span> <a href="../operators/Ops.scala.html#40753" title="(b: scalala.tensor.dense.DenseVectorCol[Double])(implicit op: scalala.operators.BinaryOp[scalala.tensor.VectorRow[Double],scalala.tensor.dense.DenseVectorCol[Double],scalala.operators.OpSub,scalala.tensor.mutable.VectorRow[Double]])scalala.tensor.mutable.VectorRow[Double]">-</a> <a href="#141560" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a>
          <a href="#141562" title="Double">K</a>     <span title="(x: Int)Double">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#141560" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a>    <a href="../operators/Ops.scala.html#40923" title="(b: scalala.tensor.mutable.VectorRow[Double])(implicit op: scalala.operators.BinaryUpdateOp[scalala.tensor.dense.DenseVectorCol[Double],scalala.tensor.mutable.VectorRow[Double],scalala.operators.OpAdd])scalala.tensor.dense.DenseVectorCol[Double]">+=</a> <a href="#142435" title="scalala.tensor.mutable.VectorRow[Double]">xMinusMu</a> <a href="../operators/Ops.scala.html#40781" title="(b: Double)(implicit op: scalala.operators.BinaryOp[scalala.tensor.mutable.VectorRow[Double],Double,scalala.operators.OpDiv,scalala.tensor.mutable.VectorRow[Double]], implicit sb: scalala.scalar.Scalar[Double])scalala.tensor.mutable.VectorRow[Double]">/</a> <a href="#141562" title="Double">K</a>
          <a href="#141561" title="scalala.tensor.dense.DenseMatrix[Double]">Sigma</a> <a href="../operators/Ops.scala.html#40923" title="(b: scalala.tensor.mutable.Matrix[Double])(implicit op: scalala.operators.BinaryUpdateOp[scalala.tensor.dense.DenseMatrix[Double],scalala.tensor.mutable.Matrix[Double],scalala.operators.OpAdd])scalala.tensor.dense.DenseMatrix[Double]">+=</a> <a href="#142435" title="scalala.tensor.mutable.VectorRow[Double]">xMinusMu</a>.<a href="../tensor/mutable/VectorRow.scala.html#43007" title="=&gt; scalala.tensor.mutable.VectorCol[Double]">t</a> <a href="../operators/Ops.scala.html#43245" title="(b: scalala.tensor.mutable.VectorRow[Double])(implicit op: scalala.operators.BinaryOp[scalala.tensor.mutable.VectorCol[Double],scalala.tensor.mutable.VectorRow[Double],scalala.operators.OpMulColVectorBy,scalala.tensor.mutable.Matrix[Double]])scalala.tensor.mutable.Matrix[Double]">*</a> <a href="#142435" title="scalala.tensor.mutable.VectorRow[Double]">xMinusMu</a> <a href="../operators/Ops.scala.html#44449" title="(b: Double)(implicit op: scalala.operators.BinaryOp[scalala.tensor.mutable.Matrix[Double],Double,scalala.operators.OpMulMatrixBy,scalala.tensor.mutable.Matrix[Double]])scalala.tensor.mutable.Matrix[Double]">*</a> <span class="delimiter">(</span><span title="Double(1.0)" class="double">1.</span> <span title="(x: Double)Double">-</span> <span title="Double(1.0)" class="double">1.</span> <span title="(x: Double)Double">/</span> <a href="#141562" title="Double">K</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="(_1: scalala.tensor.dense.DenseMatrix[Double], _2: scalala.tensor.dense.DenseVectorCol[Double])(scalala.tensor.dense.DenseMatrix[Double], scalala.tensor.dense.DenseVectorCol[Double])" class="delimiter">(</span><a href="#141561" title="scalala.tensor.dense.DenseMatrix[Double]">Sigma</a> <a href="../operators/Ops.scala.html#40781" title="(b: Double)(implicit op: scalala.operators.BinaryOp[scalala.tensor.dense.DenseMatrix[Double],Double,scalala.operators.OpDiv,scalala.tensor.dense.DenseMatrix[Double]], implicit sb: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseMatrix[Double]">/</a> math.<span title="(x: Double, y: Double)Double">max</span><span class="delimiter">(</span><span title="Double(1.0)" class="int">1</span>, <a href="#141562" title="Double">K</a><span title="(x: Int)Double">-</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#141560" title="scalala.tensor.dense.DenseVectorCol[Double]">mu</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sums the tensor2 along the horizontal axis */</span>
  <span class="keyword">def</span> <a title="[K1, K2, V, T, ADomain, Row](matrix: T, axis: Library.this.Axis.Horizontal.type)(implicit view: T =&gt; scalala.tensor.Tensor2[K1,K2,V], implicit sliceRows: scalala.generic.collection.CanSliceRow[T,K1,Row], implicit opAdd: scalala.operators.BinaryOp[Row,Row,scalala.operators.OpAdd,Row])Row" id="20607">sum</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="200674">K1</a>,<a title="&gt;: Nothing &lt;: Any" id="200675">K2</a>,<a title="&gt;: Nothing &lt;: Any" id="200676">V</a>,<a title="&gt;: Nothing &lt;: Any" id="200677">T</a>,<a title="&gt;: Nothing &lt;: Any" id="200678">ADomain</a>,<a title="&gt;: Nothing &lt;: Any" id="200679">Row</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="200661">matrix</a>: <a href="#200677" title="T">T</a>,
                                 <a title="Library.this.Axis.Horizontal.type" id="200667">axis</a>: Axis.Horizontal.<span class="keyword">type</span> = <a href="#20595" title="object Library.this.Axis">Axis</a>.<a href="#54689" title="object Library.this.Axis.Horizontal">Horizontal</a><span class="delimiter">)</span>
                                <span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; scalala.tensor.Tensor2[K1,K2,V]" id="200663">view</a>: T=&gt;Tensor2<span class="delimiter">[</span>K1,K2,V<span class="delimiter">]</span>,
                                 <a title="scalala.generic.collection.CanSliceRow[T,K1,Row]" id="200664">sliceRows</a>: <a href="../generic/collection/CanSliceMatrix.scala.html#10302" title="scalala.generic.collection.CanSliceRow[T,K1,Row]">CanSliceRow</a><span class="delimiter">[</span>T,K1,Row<span class="delimiter">]</span>,
                                 <a title="scalala.operators.BinaryOp[Row,Row,scalala.operators.OpAdd,Row]" id="200665">opAdd</a>: <a href="../operators/BinaryOp.scala.html#11910" title="scalala.operators.BinaryOp[Row,Row,scalala.operators.OpAdd,Row]">BinaryOp</a><span class="delimiter">[</span>Row,Row,OpAdd,Row<span class="delimiter">]</span><span class="delimiter">)</span>:<a href="#200679" title="Row">Row</a>  = <span class="delimiter">{</span>
    <a href="#200663" title="(v1: T)scalala.tensor.Tensor2[K1,K2,V]">matrix</a>.<a href="../tensor/DomainFunction.scala.html#42232" title="=&gt; scalala.tensor.domain.Domain2[K1,K2]">domain</a>.<a href="../tensor/domain/Domain2.scala.html#43758" title="=&gt; scalala.tensor.domain.Domain1[K1]">_1</a>.<span title="=&gt; java.lang.Object with scala.collection.IterableView[K1,Iterable[K1]]">view</span>.<span title="(f: K1 =&gt; Row)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.IterableView[K1,Iterable[K1]],Row,scala.collection.IterableView[Row,Iterable[_]]])scala.collection.IterableView[Row,Iterable[_]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.IterableView.Coll,Row,scala.collection.IterableView[Row,Iterable[_]]]" class="delimiter">(</span><a href="../generic/collection/CanSliceMatrix.scala.html#49345" title="(from: T, row: K1)Row">sliceRows</a><span class="delimiter">(</span><a href="#200661" title="T">matrix</a>,<a href="#201294" title="K1">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(op: (Row, Row) =&gt; Row)Row">reduceLeft</span><span class="delimiter">(</span><a href="#200665" title="scalala.operators.BinaryOp[Row,Row,scalala.operators.OpAdd,Row]">opAdd</a><span class="delimiter">)</span>;
  <span class="delimiter">}</span>


  <span class="comment">/** Sums the tensor2 along the vertical axis */</span>
  <span class="keyword">def</span> <a title="[K1, K2, V, T, ADomain, Col](matrix: T, axis: Library.this.Axis.Vertical.type)(implicit view: T =&gt; scalala.tensor.Tensor2[K1,K2,V], implicit sliceCols: scalala.generic.collection.CanSliceCol[T,K2,Col], implicit opAdd: scalala.operators.BinaryOp[Col,Col,scalala.operators.OpAdd,Col])Col" id="20620">sum</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20627">K1</a>,<a title="&gt;: Nothing &lt;: Any" id="20628">K2</a>,<a title="&gt;: Nothing &lt;: Any" id="20629">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20630">T</a>,<a title="&gt;: Nothing &lt;: Any" id="20631">ADomain</a>,<a title="&gt;: Nothing &lt;: Any" id="20632">Col</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="201540">matrix</a>: <a href="#20630" title="T">T</a>,
                                 <a title="Library.this.Axis.Vertical.type" id="201541">axis</a>: Axis.Vertical.<span class="keyword">type</span><span class="delimiter">)</span>
                                <span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; scalala.tensor.Tensor2[K1,K2,V]" id="201542">view</a>: T=&gt;Tensor2<span class="delimiter">[</span>K1,K2,V<span class="delimiter">]</span>,
                                 <a title="scalala.generic.collection.CanSliceCol[T,K2,Col]" id="201543">sliceCols</a>: <a href="../generic/collection/CanSliceMatrix.scala.html#10176" title="scalala.generic.collection.CanSliceCol[T,K2,Col]">CanSliceCol</a><span class="delimiter">[</span>T,K2,Col<span class="delimiter">]</span>,
                                 <a title="scalala.operators.BinaryOp[Col,Col,scalala.operators.OpAdd,Col]" id="201544">opAdd</a>: <a href="../operators/BinaryOp.scala.html#11910" title="scalala.operators.BinaryOp[Col,Col,scalala.operators.OpAdd,Col]">BinaryOp</a><span class="delimiter">[</span>Col,Col,OpAdd,Col<span class="delimiter">]</span><span class="delimiter">)</span>:<a href="#20632" title="Col">Col</a>  = <span class="delimiter">{</span>
    <a href="#201542" title="(v1: T)scalala.tensor.Tensor2[K1,K2,V]">matrix</a>.<a href="../tensor/DomainFunction.scala.html#42232" title="=&gt; scalala.tensor.domain.Domain2[K1,K2]">domain</a>.<a href="../tensor/domain/Domain2.scala.html#43759" title="=&gt; scalala.tensor.domain.Domain1[K2]">_2</a>.<span title="=&gt; java.lang.Object with scala.collection.IterableView[K2,Iterable[K2]]">view</span>.<span title="(f: K2 =&gt; Col)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.IterableView[K2,Iterable[K2]],Col,scala.collection.IterableView[Col,Iterable[_]]])scala.collection.IterableView[Col,Iterable[_]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.IterableView.Coll,Col,scala.collection.IterableView[Col,Iterable[_]]]" class="delimiter">(</span><a href="../generic/collection/CanSliceMatrix.scala.html#49349" title="(from: T, col: K2)Col">sliceCols</a><span class="delimiter">(</span><a href="#201540" title="T">matrix</a>,<a href="#201641" title="K2">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(op: (Col, Col) =&gt; Col)Col">reduceLeft</span><span class="delimiter">(</span><a href="#201544" title="scalala.operators.BinaryOp[Col,Col,scalala.operators.OpAdd,Col]">opAdd</a><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">//</span>
  <span class="comment">// Constructors</span>
  <span class="comment">//</span>

  <span class="comment">/** Counts the given items. */</span>
  <span class="keyword">def</span> <a title="[X](items: TraversableOnce[X])scalala.tensor.mutable.Counter[X,Int]" id="20633">count</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20635">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="TraversableOnce[X]" id="201680">items</a> : <span title="TraversableOnce[X]">TraversableOnce</span><span class="delimiter">[</span>X<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="../tensor/mutable/Counter.scala.html#20112" title="scalala.tensor.mutable.Counter[X,Int]">Counter</a><span class="delimiter">[</span>X,Int<span class="delimiter">]</span> =
    <a href="../tensor/mutable/Counter.scala.html#20113" title="object scalala.tensor.mutable.Counter">Counter</a>.<a href="../tensor/mutable/Counter.scala.html#201702" title="(items: TraversableOnce[X])scalala.tensor.mutable.Counter[X,Int]">count</a><span class="delimiter">(</span><a href="#201680" title="TraversableOnce[X]">items</a><span class="delimiter">)</span>;

  <span class="comment">//</span>
  <span class="comment">// normalization and log-normalization:</span>
  <span class="comment">//</span>

  <span class="comment">/**
   * Normalizes the argument such that its norm is 1.0 (with respect to the argument n).
   * Returns value if value's norm is 0.
   */</span>
  <span class="keyword">def</span> <a title="[V, K, That](value: V, n: Double)(implicit _norm: scalala.generic.math.CanNorm[V], implicit st: &lt;:&lt;[V,scalala.operators.NumericOps[V]], implicit op: scalala.operators.BinaryOp[V,Double,scalala.operators.OpDiv,V])V" id="20636">normalize</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20640">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20641">K</a>,<a title="&gt;: Nothing &lt;: Any" id="20642">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="201781">value</a>: <a href="#20640" title="V">V</a>, <a title="Double" id="201782">n</a>: <span title="Double">Double</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanNorm[V]" id="201783">_norm</a>: <a href="../generic/math/CanNorm.scala.html#12241" title="scalala.generic.math.CanNorm[V]">CanNorm</a><span class="delimiter">[</span>V<span class="delimiter">]</span>, <a title="&lt;:&lt;[V,scalala.operators.NumericOps[V]]" id="201784">st</a>: V<span title="&lt;:&lt;[V,scalala.operators.NumericOps[V]]">&lt;:&lt;</span>NumericOps<span class="delimiter">[</span>V<span class="delimiter">]</span>, <a title="scalala.operators.BinaryOp[V,Double,scalala.operators.OpDiv,V]" id="201785">op</a>: <a href="../operators/BinaryOp.scala.html#11910" title="scalala.operators.BinaryOp[V,Double,scalala.operators.OpDiv,V]">BinaryOp</a><span class="delimiter">[</span>V,Double,OpDiv,V<span class="delimiter">]</span><span class="delimiter">)</span>:<a href="#20640" title="V">V</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Double" id="201792">norm</a> = <a href="#201783" title="(v1: V, v2: Double)Double">_norm</a><span class="delimiter">(</span><a href="#201781" title="V">value</a>,<a href="#201782" title="Double">n</a><span class="delimiter">)</span>
    <span title="V" class="keyword">if</span><span class="delimiter">(</span><a href="#201792" title="Double">norm</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#201781" title="V">value</a>
    <span class="keyword">else</span> <a href="#201784" title="(v1: V)scalala.operators.NumericOps[V]">value</a> <a href="../operators/Ops.scala.html#40781" title="(b: Double)(implicit op: scalala.operators.BinaryOp[V,Double,scalala.operators.OpDiv,V], implicit sb: scalala.scalar.Scalar[Double])V">/</a> <a href="#201792" title="Double">norm</a>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * logNormalizes the argument such that the softmax is 0.0.
   * Returns value if value's softmax is -infinity
   */</span>
  <span class="keyword">def</span> <a title="[V, K](value: V)(implicit view: V =&gt; scalala.operators.NumericOps[V], implicit sm: scalala.generic.math.CanSoftmax[V], implicit op: scalala.operators.BinaryOp[V,Double,scalala.operators.OpSub,V])V" id="20643">logNormalize</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20646">V</a>,<a title="&gt;: Nothing &lt;: Any" id="20647">K</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="201874">value</a>: <a href="#20646" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="V =&gt; scalala.operators.NumericOps[V]" id="201875">view</a>: V =&gt; NumericOps<span class="delimiter">[</span>V<span class="delimiter">]</span>,
                                  <a title="scalala.generic.math.CanSoftmax[V]" id="201876">sm</a>: <a href="../generic/math/CanSoftmax.scala.html#12262" title="scalala.generic.math.CanSoftmax[V]">CanSoftmax</a><span class="delimiter">[</span>V<span class="delimiter">]</span>,
                                  <a title="scalala.operators.BinaryOp[V,Double,scalala.operators.OpSub,V]" id="201877">op</a> : <a href="../operators/BinaryOp.scala.html#11910" title="scalala.operators.BinaryOp[V,Double,scalala.operators.OpSub,V]">BinaryOp</a><span class="delimiter">[</span>V,Double,OpSub,V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#20646" title="V">V</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Double" id="201883">max</a> = <a href="#20591" title="(value: V)(implicit softmax: scalala.generic.math.CanSoftmax[V])Double">softmax</a><a href="#201876" title="scalala.generic.math.CanSoftmax[V]" class="delimiter">(</a><a href="#201874" title="V">value</a><span class="delimiter">)</span>
    <span title="V" class="keyword">if</span><span class="delimiter">(</span><a href="#201883" title="implicit scala.Predef.double2Double : (x: Double)java.lang.Double">max</a>.<span title="()Boolean">isInfinite</span><span class="delimiter">)</span> <a href="#201874" title="V">value</a>
    <span class="keyword">else</span> <a href="#201875" title="(v1: V)scalala.operators.NumericOps[V]">value</a> <a href="../operators/Ops.scala.html#40753" title="(b: Double)(implicit op: scalala.operators.BinaryOp[V,Double,scalala.operators.OpSub,V])V">-</a> <a href="#201883" title="Double">max</a>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * logs and then logNormalizes the argument such that the softmax is 0.0.
   * Returns value if value's softmax is -infinity
   */</span>
  <span class="keyword">def</span> <a title="[V](value: V)(implicit canLog: scalala.generic.math.CanLog[V,V], implicit view: V =&gt; scalala.operators.NumericOps[V], implicit sm: scalala.generic.math.CanSoftmax[V], implicit op: scalala.operators.BinaryOp[V,Double,scalala.operators.OpSub,V])V" id="20648">logAndNormalize</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20650">V</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="V" id="201958">value</a>: <a href="#20650" title="V">V</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalala.generic.math.CanLog[V,V]" id="201959">canLog</a> : <a href="../generic/math/CanLog.scala.html#12205" title="scalala.generic.math.CanLog[V,V]">CanLog</a><span class="delimiter">[</span>V,V<span class="delimiter">]</span>,
                                     <a title="V =&gt; scalala.operators.NumericOps[V]" id="201960">view</a>: V =&gt; NumericOps<span class="delimiter">[</span>V<span class="delimiter">]</span>, <a title="scalala.generic.math.CanSoftmax[V]" id="201961">sm</a>: <a href="../generic/math/CanSoftmax.scala.html#12262" title="scalala.generic.math.CanSoftmax[V]">CanSoftmax</a><span class="delimiter">[</span>V<span class="delimiter">]</span>,
                                     <a title="scalala.operators.BinaryOp[V,Double,scalala.operators.OpSub,V]" id="201962">op</a> : <a href="../operators/BinaryOp.scala.html#11910" title="scalala.operators.BinaryOp[V,Double,scalala.operators.OpSub,V]">BinaryOp</a><span class="delimiter">[</span>V,Double,OpSub,V<span class="delimiter">]</span><span class="delimiter">)</span>:<a href="#20650" title="V">V</a> = <span class="delimiter">{</span>
    <a href="#20643" title="(value: V)(implicit view: V =&gt; scalala.operators.NumericOps[V], implicit sm: scalala.generic.math.CanSoftmax[V], implicit op: scalala.operators.BinaryOp[V,Double,scalala.operators.OpSub,V])V">logNormalize</a><a href="#201960" title="V =&gt; scalala.operators.NumericOps[V]" class="delimiter">(</a><a href="#20551" title="(value: V)(implicit log: scalala.generic.math.CanLog[V,V])V">log</a><a href="#201959" title="scalala.generic.math.CanLog[V,V]" class="delimiter">(</a><a href="#201958" title="V">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T, K1, K2, Row, ADomain, That](matrix: T)(implicit view: T =&gt; scalala.tensor.Tensor2[K1,K2,Double], implicit domainA: scalala.tensor.domain.CanGetDomain[T,ADomain], implicit sliceRows: scalala.generic.collection.CanSliceRow[T,K1,Row], implicit canLog: scalala.generic.collection.CanMapValues[Row,Double,Double,Row], implicit view2: Row =&gt; scalala.tensor.Tensor1[K2,Double] with scalala.operators.NumericOps[Row], implicit sm: scalala.generic.math.CanSoftmax[Row], implicit op: scalala.operators.BinaryOp[Row,Double,scalala.operators.OpSub,Row], implicit bf: scalala.generic.collection.CanBuildTensorFrom[T,ADomain,(K1, K2),Double,That])That" id="20651">logAndNormalizeRows</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="20658">T</a>,<a title="&gt;: Nothing &lt;: Any" id="20659">K1</a>,<a title="&gt;: Nothing &lt;: Any" id="20660">K2</a>,<a title="&gt;: Nothing &lt;: Any" id="20661">Row</a>,<a title="&gt;: Nothing &lt;: Any" id="20662">ADomain</a>,<a title="&gt;: Nothing &lt;: Any" id="20663">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="202076">matrix</a>: <a href="#20658" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; scalala.tensor.Tensor2[K1,K2,Double]" id="202077">view</a>: T=&gt;Tensor2<span class="delimiter">[</span>K1,K2,Double<span class="delimiter">]</span>,
                                                    <a title="scalala.tensor.domain.CanGetDomain[T,ADomain]" id="202078">domainA</a> : <a href="../tensor/domain/CanGetDomain.scala.html#19411" title="scalala.tensor.domain.CanGetDomain[T,ADomain]">CanGetDomain</a><span class="delimiter">[</span>T,ADomain<span class="delimiter">]</span>,
                                                    <a title="scalala.generic.collection.CanSliceRow[T,K1,Row]" id="202079">sliceRows</a>: <a href="../generic/collection/CanSliceMatrix.scala.html#10302" title="scalala.generic.collection.CanSliceRow[T,K1,Row]">CanSliceRow</a><span class="delimiter">[</span>T,K1,Row<span class="delimiter">]</span>,
                                                    <a title="scalala.generic.collection.CanMapValues[Row,Double,Double,Row]" id="202080">canLog</a>: <a href="../generic/collection/CanMapValues.scala.html#9756" title="scalala.generic.collection.CanMapValues[Row,Double,Double,Row]">CanMapValues</a><span class="delimiter">[</span>Row,Double,Double,Row<span class="delimiter">]</span>,
                                                    <a title="Row =&gt; scalala.tensor.Tensor1[K2,Double] with scalala.operators.NumericOps[Row]" id="202081">view2</a>: Row =&gt; Tensor1<span class="delimiter">[</span>K2,Double<span class="delimiter">]</span> <span class="keyword">with</span> NumericOps<span class="delimiter">[</span>Row<span class="delimiter">]</span>, <a title="scalala.generic.math.CanSoftmax[Row]" id="202082">sm</a>: <a href="../generic/math/CanSoftmax.scala.html#12262" title="scalala.generic.math.CanSoftmax[Row]">CanSoftmax</a><span class="delimiter">[</span>Row<span class="delimiter">]</span>,
                                                    <a title="scalala.operators.BinaryOp[Row,Double,scalala.operators.OpSub,Row]" id="202083">op</a> : <a href="../operators/BinaryOp.scala.html#11910" title="scalala.operators.BinaryOp[Row,Double,scalala.operators.OpSub,Row]">BinaryOp</a><span class="delimiter">[</span>Row,Double,OpSub,Row<span class="delimiter">]</span>,
                                                    <a title="scalala.generic.collection.CanBuildTensorFrom[T,ADomain,(K1, K2),Double,That]" id="202084">bf</a> : <a href="../generic/collection/CanBuildTensorFrom.scala.html#9972" title="scalala.generic.collection.CanBuildTensorFrom[T,ADomain,(K1, K2),Double,That]">CanBuildTensorFrom</a><span class="delimiter">[</span>T,ADomain,<span class="delimiter">(</span>K1,K2<span class="delimiter">)</span>,Double,That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#20663" title="That">That</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scalala.tensor.generic.TensorBuilder[(K1, K2),Double,That]" id="202097">builder</a> = <a href="../generic/collection/CanBuildTensorFrom.scala.html#42169" title="(from: T, domain: ADomain)scalala.tensor.generic.TensorBuilder[(K1, K2),Double,That]">bf</a><span class="delimiter">(</span><a href="#202076" title="T">matrix</a>,<a href="#202078" title="(v1: T)ADomain">domainA</a><span class="delimiter">(</span><a href="#202076" title="T">matrix</a><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="keyword">for</span><span class="delimiter">(</span><a title="K1" id="202189">k1</a> &lt;- <a href="#202077" title="(v1: T)scalala.tensor.Tensor2[K1,K2,Double]">matrix</a>.<a href="../tensor/DomainFunction.scala.html#42232" title="=&gt; scalala.tensor.domain.Domain2[K1,K2]">domain</a>.<a href="../tensor/domain/Domain2.scala.html#43758" title="(f: K1 =&gt; Unit)Unit">_1</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Row" id="202190">row</a>: <a href="#20661" title="Row">Row</a> = <a href="../generic/collection/CanSliceMatrix.scala.html#49345" title="(from: T, row: K1)Row">sliceRows</a><span class="delimiter">(</span><a href="#202076" title="T">matrix</a>, <a href="#202189" title="K1">k1</a><span class="delimiter">)</span>;
      <span class="keyword">val</span> <a title="Row" id="202191">ln</a>: <a href="#20661" title="Row">Row</a> = <a href="#20648" title="(value: Row)(implicit canLog: scalala.generic.math.CanLog[Row,Row], implicit view: Row =&gt; scalala.operators.NumericOps[Row], implicit sm: scalala.generic.math.CanSoftmax[Row], implicit op: scalala.operators.BinaryOp[Row,Double,scalala.operators.OpSub,Row])Row">logAndNormalize</a><a href="../generic/math/CanLog.scala.html#51100" title="(implicit map: scalala.generic.collection.CanMapValues[Row,Double,Double,Row], implicit op: scalala.generic.math.CanLog[Double,Double])scalala.generic.math.CanLog[Row,Row]" class="delimiter">(</a><a href="#202190" title="Row">row</a><span class="delimiter">)</span>;
      <span class="keyword">for</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="K2" id="203956">k2</a>,<a title="Double" id="203957">v</a><span class="delimiter">)</span> &lt;- <a href="#202081" title="(v1: Row)scalala.tensor.Tensor1[K2,Double] with scalala.operators.NumericOps[Row]">ln</a>.<a href="../tensor/Tensor.scala.html#42308" title="(f: (K2, Double) =&gt; Unit)Unit">pairsIterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../tensor/generic/TensorBuilder.scala.html#42139" title="(key: (K1, K2), value: Double)Unit">builder</a><span class="delimiter">(</span><a href="#202189" title="(x: K1)ArrowAssoc[K1]">k1</a> <span title="(y: K2)(K1, K2)">-&gt;</span> <a href="#203956" title="K2">k2</a><span class="delimiter">)</span> = <a href="#203957" title="Double">v</a>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#202097" title="scalala.tensor.generic.TensorBuilder[(K1, K2),Double,That]">builder</a>.<a href="../tensor/generic/TensorBuilder.scala.html#42140" title="=&gt; That">result</a>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Generates a vector of linearly spaced values between a and b (inclusive).
   * The returned vector will have length elements, defaulting to 100.
   */</span>
  <span class="keyword">def</span> <a title="(a: Double, b: Double, length: Int)scalala.tensor.dense.DenseVectorCol[Double]" id="20664">linspace</a><span class="delimiter">(</span><a title="Double" id="203982">a</a> : <span title="Double">Double</span>, <a title="Double" id="203983">b</a> : <span title="Double">Double</span>, <a title="Int" id="203986">length</a> : <span title="Int">Int</span> = <span title="Int(100)" class="int">100</span><span class="delimiter">)</span> : <a href="../tensor/dense/DenseVector.scala.html#18905" title="scalala.tensor.dense.DenseVectorCol[Double]">DenseVectorCol</a><span class="delimiter">[</span>Double<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Double" id="203987">increment</a> = <span class="delimiter">(</span><a href="#203983" title="Double">b</a> <span title="(x: Double)Double">-</span> <a href="#203982" title="Double">a</a><span class="delimiter">)</span> <span title="(x: Int)Double">/</span> <span class="delimiter">(</span><a href="#203986" title="Int">length</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>;
    <a href="../tensor/dense/DenseVector.scala.html#18906" title="object scalala.tensor.dense.DenseVectorCol">DenseVectorCol</a>.<a href="../tensor/dense/DenseVector.scala.html#43300" title="(size: Int)(f: Int =&gt; Double)(implicit evidence$43: scalala.scalar.Scalar[Double])scalala.tensor.dense.DenseVectorCol[Double]">tabulate</a><span class="delimiter">(</span><a href="#203986" title="Int">length</a><span class="delimiter">)</span><a href="../scalar/Scalar.scala.html#45343" title="object scalala.scalar.Scalar.scalarD" class="delimiter">(</a><a title="Int" id="204009">i</a> =&gt; <a href="#203982" title="Double">a</a> <span title="(x: Double)Double">+</span> <a href="#203987" title="Double">increment</a> <span title="(x: Int)Double">*</span> <a href="#204009" title="Int">i</a><span class="delimiter">)</span>;
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalala.library.Library" id="12566">Library</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12565" title="scalala.library.Library">Library</a>;

        </pre>
    </body>
</html>