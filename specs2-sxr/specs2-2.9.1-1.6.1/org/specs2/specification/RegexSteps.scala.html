<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/specification/RegexSteps.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> specification

<span class="keyword">import</span> execute._
<span class="keyword">import</span> main.Arguments
<span class="keyword">import</span> matcher.MatchResult
<span class="keyword">import</span> specification.<a href="Fragment.scala.html#11486" title="object org.specs2.specification.StandardFragments">StandardFragments</a>.<span class="delimiter">{</span>Backtab, Tab, Br, End<span class="delimiter">}</span>

<span class="comment">/**
* This trait provides building blocks to create steps and examples from regular expression.
*
* It is used to implement a Given-When-Then way of describing systems.
*
* Fragments are created by adding a `Given` step to a `Text`:
*
*  &lt;code&gt;&quot;name: ${user}&quot; ^ givenName&lt;/code&gt;
*
* This creates a PreStep object containing the current context (representing all the extracted values) and a list of
* Fragments containing:
*
*  * the Text fragment: &lt;code&gt;Text(&quot;name: ${Eric}&quot;)&lt;/code&gt;
*  * a Step containing the extraction code to get the value delimited by &lt;code&gt;${}&lt;/code&gt;
*
* Then, this PreStep object can be followed by another piece of Text to create a PreStepText object. This object merely
* stores the additional Text fragment so that values can be extracted from it when a `When` step is added:
* &lt;code&gt;
*  // this creates a PreStepText object
*  &quot;name: ${user}&quot; ^ givenName ^
*  &quot;age: ${38}&quot;
*
*  // this creates a PreStep object
*  &quot;name: ${user}&quot; ^ givenName ^
*  &quot;age: ${38}&quot;    ^ thenAge ^
* &lt;/code&gt;
*
* Eventually, when a `Then` step is added, a sequence of PostStep/PostStepText objects is created. Those objects use
* the current context and the results returned by the `Then` objects to create Examples.
*
* The last PostStep object contains the list of all fragments created by the Given/When/Then sequence:
*
*  * Text fragments
*  * Steps
*  * Examples
*
*/</span>
<span class="keyword">trait</span> <a title="trait RegexSteps extends java.lang.Object with ScalaObject" id="11600">RegexSteps</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/** at any point in time a regex sequence can be transformed as a sequence of Fragments */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit org.specs2.specification.RegexSteps.RegexFragmentToFragments : (r: org.specs2.specification.RegexFragment)org.specs2.specification.Fragments" id="53556">RegexFragmentToFragments</a><span class="delimiter">(</span><a title="org.specs2.specification.RegexFragment" id="59488">r</a>: <a href="#11604" title="org.specs2.specification.RegexFragment">RegexFragment</a><span class="delimiter">)</span>: <a href="Fragments.scala.html#11516" title="org.specs2.specification.Fragments">Fragments</a> = <a href="#59488" title="org.specs2.specification.RegexFragment">r</a>.<a href="#59492" title="=&gt; org.specs2.specification.Fragments">fs</a>


  <span class="comment">/**
   * implicit conversion to transform a Given[Y] to Given[X] when Y &lt;: X
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[X, Y &lt;: X](gv: org.specs2.specification.Given[Y])org.specs2.specification.Given[X]{def extract(s: String): Y}" id="53557">downcastGiven</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="53560">X</a>, <a title="&gt;: Nothing &lt;: X" id="53561">Y</a> &lt;: X<span class="delimiter">]</span><span class="delimiter">(</span><a title="org.specs2.specification.Given[Y]" id="59451">gv</a>: <a href="RegexStep.scala.html#11571" title="org.specs2.specification.Given[Y]">Given</a><span class="delimiter">[</span>Y<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#59454" title="org.specs2.specification.Given[X]" class="keyword">new</a> <a title="anonymous class $anon extends org.specs2.specification.Given[X]" id="59454">Given</a><span class="delimiter">[</span>X<span class="delimiter">]</span><span class="delimiter">(</span><a href="#59451" title="org.specs2.specification.Given[Y]">gv</a>.<a href="RegexStep.scala.html#59456" title="=&gt; String">regex</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="(s: String)Y" id="59462">extract</a><span class="delimiter">(</span><a title="String" id="59463">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#59451" title="org.specs2.specification.Given[Y]">gv</a>.<a href="RegexStep.scala.html#59460" title="(text: String)Y">extract</a><span class="delimiter">(</span><a href="#59463" title="String">s</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/**
   * implicit conversion to transform a When[P, Q] to When[R, S] when R &lt;: P and S &gt;: Q
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[P, Q, R &lt;: P, S &gt;: Q](wh: org.specs2.specification.When[P,Q])org.specs2.specification.When[R,S]" id="53562">updowncastWhen</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="53567">P</a>, <a title="&gt;: Nothing &lt;: Any" id="53568">Q</a>, <a title="&gt;: Nothing &lt;: P" id="53569">R</a> &lt;: P, <a title="&gt;: Q &lt;: Any" id="53570">S</a> &gt;: Q<span class="delimiter">]</span><span class="delimiter">(</span><a title="org.specs2.specification.When[P,Q]" id="59406">wh</a>: <a href="RegexStep.scala.html#11575" title="org.specs2.specification.When[P,Q]">When</a><span class="delimiter">[</span>P, Q<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#59409" title="org.specs2.specification.When[R,S]" class="keyword">new</a> <a title="anonymous class $anon extends org.specs2.specification.When[R,S]" id="59409">When</a><span class="delimiter">[</span>R, S<span class="delimiter">]</span><span class="delimiter">(</span><a href="#59406" title="org.specs2.specification.When[P,Q]">wh</a>.<a href="RegexStep.scala.html#59411" title="=&gt; String">regex</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="(t: R, s: String)S" id="59417">extract</a><span class="delimiter">(</span><a title="R" id="59418">t</a>: <a href="#53569" title="R">R</a>, <a title="String" id="59419">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#53570" title="S">S</a> = <a href="#59406" title="org.specs2.specification.When[P,Q]">wh</a>.<a href="RegexStep.scala.html#59415" title="(p: P, text: String)Q">extract</a><span class="delimiter">(</span><a href="#59418" title="R">t</a>, <a href="#59419" title="String">s</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/**
   * implicit conversion to transform a Then[Y] to Then[X] when Y &lt;: X
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[X, Y &lt;: X](th: org.specs2.specification.Then[X])org.specs2.specification.Then[Y]" id="53571">upcastThen</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="53574">X</a>, <a title="&gt;: Nothing &lt;: X" id="53575">Y</a> &lt;: X<span class="delimiter">]</span><span class="delimiter">(</span><a title="org.specs2.specification.Then[X]" id="59342">th</a>: <a href="RegexStep.scala.html#11580" title="org.specs2.specification.Then[X]">Then</a><span class="delimiter">[</span>X<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#59345" title="org.specs2.specification.Then[Y]" class="keyword">new</a> <a title="anonymous class $anon extends org.specs2.specification.Then[Y]" id="59345">Then</a><span class="delimiter">[</span>Y<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="(t: Y, s: String)org.specs2.execute.Result" id="59371">extract</a><span class="delimiter">(</span><a title="Y" id="59372">t</a>: <a href="#53575" title="Y">Y</a>, <a title="String" id="59373">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#59342" title="org.specs2.specification.Then[X]">th</a>.<a href="RegexStep.scala.html#59369" title="(t: X, text: String)org.specs2.execute.Result">extract</a><span class="delimiter">(</span><a href="#59372" title="Y">t</a>, <a href="#59373" title="String">s</a><span class="delimiter">)</span> <span class="delimiter">}</span>

<span class="delimiter">}</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="object org.specs2.specification.RegexSteps" id="11601">RegexSteps</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11600" title="org.specs2.specification.RegexSteps">RegexSteps</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](context: =&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)])org.specs2.execute.Result" id="243463">toResult</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="243465">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]" id="244606">context</a>: =&gt;Either<span class="delimiter">[</span>Result, <span class="delimiter">(</span>T, Result<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#244606" title="=&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]">context</a> <span title="org.specs2.execute.Result" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="org.specs2.execute.Result">Left</span><span class="delimiter">(</span><a title="org.specs2.execute.Result" id="244610">l</a><span class="delimiter">)</span>  =&gt; <a href="#244610" title="org.specs2.execute.Result">l</a>
      <span class="keyword">case</span> <span title="org.specs2.execute.Result">Right</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="T" id="244614">t</a>, <a title="org.specs2.execute.Result" id="244615">r</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#244615" title="org.specs2.execute.Result">r</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[T](context: =&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)])Either[org.specs2.execute.Result,T]" id="243466">toContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="243468">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]" id="244617">context</a>: =&gt;Either<span class="delimiter">[</span>Result, <span class="delimiter">(</span>T, Result<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[org.specs2.execute.Result,T]">Either</span><span class="delimiter">[</span>Result, T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#244617" title="=&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]">context</a> <span title="Either[org.specs2.execute.Result,T]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Left[org.specs2.execute.Result,Nothing]">Left</span><span class="delimiter">(</span><a title="org.specs2.execute.Result" id="244621">l</a><span class="delimiter">)</span>  =&gt; <span title="(a: org.specs2.execute.Result)Left[org.specs2.execute.Result,Nothing]">Left</span><span class="delimiter">(</span><a href="#244621" title="org.specs2.execute.Result">l</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Right[Nothing,T]">Right</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="T" id="244629">t</a>, <a title="org.specs2.execute.Result" id="244630">r</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(b: T)Right[Nothing,T]">Right</span><span class="delimiter">(</span><a href="#244629" title="T">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="#11601" title="object org.specs2.specification.RegexSteps">RegexSteps</a>._

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait RegexFragment extends java.lang.Object with ScalaObject" id="11604">RegexFragment</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: org.specs2.specification.RegexFragment" id="59491">RegexType</a> &lt;: RegexFragment
  <span class="keyword">val</span> <a title="=&gt; org.specs2.specification.Fragments" id="59492">fs</a>: <a href="Fragments.scala.html#11516" title="org.specs2.specification.Fragments">Fragments</a>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.Fragment)RegexFragment.this.RegexType" id="59493">add</a><span class="delimiter">(</span><a title="org.specs2.specification.Fragment" id="244637">f</a>: <a href="Fragment.scala.html#11467" title="org.specs2.specification.Fragment">Fragment</a><span class="delimiter">)</span>: <a href="#59491" title="RegexFragment.this.RegexType">RegexType</a>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.Text)RegexFragment.this.RegexType" id="59494">^</a><span class="delimiter">(</span><a title="org.specs2.specification.Text" id="244639">f</a>: <a href="Fragment.scala.html#11474" title="org.specs2.specification.Text">Text</a><span class="delimiter">)</span>        = <a href="#59493" title="(f: org.specs2.specification.Fragment)RegexFragment.this.RegexType">add</a><span class="delimiter">(</span><a href="#244639" title="org.specs2.specification.Text">f</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.StandardFragments.Br)RegexFragment.this.RegexType" id="59495">^</a><span class="delimiter">(</span><a title="org.specs2.specification.StandardFragments.Br" id="244642">f</a>: <a href="Fragment.scala.html#50190" title="org.specs2.specification.StandardFragments.Br">Br</a><span class="delimiter">)</span>          = <a href="#59493" title="(f: org.specs2.specification.Fragment)RegexFragment.this.RegexType">add</a><span class="delimiter">(</span><a href="#244642" title="org.specs2.specification.StandardFragments.Br">f</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.StandardFragments.Tab)RegexFragment.this.RegexType" id="59496">^</a><span class="delimiter">(</span><a title="org.specs2.specification.StandardFragments.Tab" id="244645">f</a>: <a href="Fragment.scala.html#50193" title="org.specs2.specification.StandardFragments.Tab">Tab</a><span class="delimiter">)</span>         = <a href="#59493" title="(f: org.specs2.specification.Fragment)RegexFragment.this.RegexType">add</a><span class="delimiter">(</span><a href="#244645" title="org.specs2.specification.StandardFragments.Tab">f</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.StandardFragments.Backtab)RegexFragment.this.RegexType" id="59497">^</a><span class="delimiter">(</span><a title="org.specs2.specification.StandardFragments.Backtab" id="244648">f</a>: <a href="Fragment.scala.html#50196" title="org.specs2.specification.StandardFragments.Backtab">Backtab</a><span class="delimiter">)</span>     = <a href="#59493" title="(f: org.specs2.specification.Fragment)RegexFragment.this.RegexType">add</a><span class="delimiter">(</span><a href="#244648" title="org.specs2.specification.StandardFragments.Backtab">f</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.StandardFragments.End)org.specs2.specification.Fragments" id="59498">^</a><span class="delimiter">(</span><a title="org.specs2.specification.StandardFragments.End" id="244651">f</a>: <a href="Fragment.scala.html#50187" title="org.specs2.specification.StandardFragments.End">End</a><span class="delimiter">)</span>         = <a href="#59492" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="#244651" title="org.specs2.specification.StandardFragments.End">f</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(a: org.specs2.main.Arguments)org.specs2.specification.Fragments" id="59499">^</a><span class="delimiter">(</span><a title="org.specs2.main.Arguments" id="244658">a</a>: <a href="../main/Arguments.scala.html#10033" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span>   = <a href="#59492" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50166" title="(a: org.specs2.main.Arguments)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="#244658" title="org.specs2.main.Arguments">a</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(fs2: org.specs2.specification.Fragments)org.specs2.specification.Fragments" id="59500">^</a><span class="delimiter">(</span><a title="org.specs2.specification.Fragments" id="244665">fs2</a>: <a href="Fragments.scala.html#11516" title="org.specs2.specification.Fragments">Fragments</a><span class="delimiter">)</span> = <a href="#59492" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50164" title="(fs: Seq[org.specs2.specification.Fragment])org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="#244665" title="org.specs2.specification.Fragments">fs2</a>.<a href="Fragments.scala.html#50151" title="=&gt; Seq[org.specs2.specification.Fragment]">middle</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span> case <span class="keyword">class</span> <a title="class PreStep[T] extends java.lang.Object with org.specs2.specification.RegexFragment with ScalaObject with Product with Serializable" id="245382">PreStep</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="243482">T</a><span class="delimiter">]</span><a href="#245382" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; Either[org.specs2.execute.Result,T]" id="245375">context</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span>, <a title="org.specs2.specification.Fragments" id="245376">fs</a>: <a href="Fragments.scala.html#11516" title="org.specs2.specification.Fragments">Fragments</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11604" title="org.specs2.specification.RegexFragment">RegexFragment</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="org.specs2.specification.PreStep[T]" id="187925">RegexType</a> = <a href="#245382" title="org.specs2.specification.PreStep[T]">PreStep</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="(toExtract: String)org.specs2.specification.PreStepText[T]" id="187926">^</a><span class="delimiter">(</span><a title="String" id="244675">toExtract</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="org.specs2.specification.PreStepText[T]" class="keyword">new</span> <a href="#245371" title="org.specs2.specification.PreStepText[T]">PreStepText</a><span class="delimiter">(</span><a href="#244675" title="String">toExtract</a>, <a href="#245375" title="=&gt; () =&gt; Either[org.specs2.execute.Result,T]">context</a>, <a href="#245376" title="=&gt; org.specs2.specification.Fragments">fs</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.Fragment)PreStep.this.RegexType" id="187927">add</a><span class="delimiter">(</span><a title="org.specs2.specification.Fragment" id="244709">f</a>: <a href="Fragment.scala.html#11467" title="org.specs2.specification.Fragment">Fragment</a><span class="delimiter">)</span>: <a href="#245382" title="PreStep.this.RegexType">RegexType</a> = <span title="org.specs2.specification.PreStep[T]" class="keyword">new</span> <a href="#245382" title="org.specs2.specification.PreStep[T]">PreStep</a><span class="delimiter">(</span><a href="#245375" title="=&gt; () =&gt; Either[org.specs2.execute.Result,T]">context</a>, <a href="#245376" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="#244709" title="org.specs2.specification.Fragment">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span> case <span class="keyword">class</span> <a title="class PreStepText[T] extends java.lang.Object with org.specs2.specification.RegexFragment with ScalaObject with Product with Serializable" id="245371">PreStepText</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="244976">T</a><span class="delimiter">]</span><a href="#245371" title="ScalaObject" class="delimiter">(</a><a title="String" id="245361">text</a>: <span title="String">String</span>, <a title="() =&gt; Either[org.specs2.execute.Result,T]" id="245362">context</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span>, <a title="org.specs2.specification.Fragments" id="245363">fs</a>: <a href="Fragments.scala.html#11516" title="org.specs2.specification.Fragments">Fragments</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11604" title="org.specs2.specification.RegexFragment">RegexFragment</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="org.specs2.specification.PreStepText[T]" id="244690">RegexType</a> = <a href="#245371" title="org.specs2.specification.PreStepText[T]">PreStepText</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[R](step: org.specs2.specification.When[T,R])org.specs2.specification.PreStep[R]" id="244691">^</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="244693">R</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="org.specs2.specification.When[T,R]" id="244791">step</a>: <a href="RegexStep.scala.html#11575" title="org.specs2.specification.When[T,R]">When</a><span class="delimiter">[</span>T, R<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Either[org.specs2.execute.Result,R]" id="244811">extracted</a> = <a href="#244791" title="org.specs2.specification.When[T,R]">step</a>.<a href="RegexStep.scala.html#59414" title="(p: Either[org.specs2.execute.Result,T], text: String)Either[org.specs2.execute.Result,R]">extractContext</a><span class="delimiter">(</span><a href="#245362" title="()Either[org.specs2.execute.Result,T]">context</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#245361" title="=&gt; String">text</a><span class="delimiter">)</span>
    <span title="org.specs2.specification.PreStep[R]" class="keyword">new</span> <a href="#245382" title="org.specs2.specification.PreStep[R]">PreStep</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#244810" title="=&gt; Either[org.specs2.execute.Result,R]">extracted</a>, <a href="#245363" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="Fragment.scala.html#187621" title="(n: Int)org.specs2.specification.StandardFragments.Backtab">Backtab</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="Fragment.scala.html#188101" title="(t: String)org.specs2.specification.Text">Text</a><span class="delimiter">(</span><a href="#244791" title="org.specs2.specification.When[T,R]">step</a>.<a href="RegexStep.scala.html#59353" title="(text: String)String">strip</a><span class="delimiter">(</span><a href="#245361" title="=&gt; String">text</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="Fragment.scala.html#11481" title="object org.specs2.specification.Step">Step</a>.<a href="Fragment.scala.html#187709" title="(r: =&gt; Either[org.specs2.execute.Result,R])org.specs2.specification.Step">fromEither</a><span class="delimiter">(</span><a href="#244810" title="=&gt; Either[org.specs2.execute.Result,R]">extracted</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(step: org.specs2.specification.Then[T])org.specs2.specification.PostStep[T]" id="244694">^</a><span class="delimiter">(</span><a title="org.specs2.specification.Then[T]" id="244842">step</a>: <a href="RegexStep.scala.html#11580" title="org.specs2.specification.Then[T]">Then</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
   <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]" id="244848">extracted</a> = <a href="#244842" title="org.specs2.specification.Then[T]">step</a>.<a href="RegexStep.scala.html#59368" title="(t: Either[org.specs2.execute.Result,T], text: String)Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]">extractContext</a><span class="delimiter">(</span><a href="#245362" title="()Either[org.specs2.execute.Result,T]">context</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#245361" title="=&gt; String">text</a><span class="delimiter">)</span>
   <span title="org.specs2.specification.PostStep[T]" class="keyword">new</span> <a href="#245357" title="org.specs2.specification.PostStep[T]">PostStep</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#243466" title="(context: =&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)])Either[org.specs2.execute.Result,T]">toContext</a><span class="delimiter">(</span><a href="#244847" title="=&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]">extracted</a><span class="delimiter">)</span>, <a href="#245363" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="Fragment.scala.html#17171" title="(desc: String, body: =&gt; org.specs2.execute.Result)(implicit evidence$1: org.specs2.execute.Result =&gt; org.specs2.execute.Result)org.specs2.specification.Example">Example</a><span title="&lt;:&lt;[org.specs2.execute.Result,org.specs2.execute.Result]" class="delimiter">(</span><a href="#244842" title="org.specs2.specification.Then[T]">step</a>.<a href="RegexStep.scala.html#59353" title="(text: String)String">strip</a><span class="delimiter">(</span><a href="#245361" title="=&gt; String">text</a><span class="delimiter">)</span>, <a href="#243463" title="(context: =&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)])org.specs2.execute.Result">toResult</a><span class="delimiter">(</span><a href="#244847" title="=&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]">extracted</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.Fragment)PreStepText.this.RegexType" id="244695">add</a><span class="delimiter">(</span><a title="org.specs2.specification.Fragment" id="244927">f</a>: <a href="Fragment.scala.html#11467" title="org.specs2.specification.Fragment">Fragment</a><span class="delimiter">)</span>: <a href="#245371" title="PreStepText.this.RegexType">RegexType</a> = <span title="org.specs2.specification.PreStepText[T]" class="keyword">new</span> <a href="#245371" title="org.specs2.specification.PreStepText[T]">PreStepText</a><span class="delimiter">(</span><a href="#245361" title="=&gt; String">text</a>, <a href="#245362" title="=&gt; () =&gt; Either[org.specs2.execute.Result,T]">context</a>, <a href="#245363" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="#244927" title="org.specs2.specification.Fragment">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span> case <span class="keyword">class</span> <a title="class PostStep[T] extends java.lang.Object with org.specs2.specification.RegexFragment with ScalaObject with Product with Serializable" id="245357">PostStep</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="245105">T</a><span class="delimiter">]</span><a href="#245357" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; Either[org.specs2.execute.Result,T]" id="245350">context</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span>, <a title="org.specs2.specification.Fragments" id="245351">fs</a>: <a href="Fragments.scala.html#11516" title="org.specs2.specification.Fragments">Fragments</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11604" title="org.specs2.specification.RegexFragment">RegexFragment</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="org.specs2.specification.PostStep[T]" id="244858">RegexType</a> = <a href="#245357" title="org.specs2.specification.PostStep[T]">PostStep</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="(toExtract: String)org.specs2.specification.PostStepText[T]" id="244859">^</a><span class="delimiter">(</span><a title="String" id="245036">toExtract</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="org.specs2.specification.PostStepText[T]" class="keyword">new</span> <a href="#245346" title="org.specs2.specification.PostStepText[T]">PostStepText</a><span class="delimiter">(</span><a href="#245036" title="String">toExtract</a>, <a href="#245350" title="=&gt; () =&gt; Either[org.specs2.execute.Result,T]">context</a>, <a href="#245351" title="=&gt; org.specs2.specification.Fragments">fs</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.Fragment)PostStep.this.RegexType" id="244860">add</a><span class="delimiter">(</span><a title="org.specs2.specification.Fragment" id="245067">f</a>: <a href="Fragment.scala.html#11467" title="org.specs2.specification.Fragment">Fragment</a><span class="delimiter">)</span>: <a href="#245357" title="PostStep.this.RegexType">RegexType</a> = <span title="org.specs2.specification.PostStep[T]" class="keyword">new</span> <a href="#245357" title="org.specs2.specification.PostStep[T]">PostStep</a><span class="delimiter">(</span><a href="#245350" title="=&gt; () =&gt; Either[org.specs2.execute.Result,T]">context</a>, <a href="#245351" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="#245067" title="org.specs2.specification.Fragment">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span> case <span class="keyword">class</span> <a title="class PostStepText[T] extends java.lang.Object with org.specs2.specification.RegexFragment with ScalaObject with Product with Serializable" id="245346">PostStepText</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="245276">T</a><span class="delimiter">]</span><a href="#245346" title="ScalaObject" class="delimiter">(</a><a title="String" id="245336">text</a>: <span title="String">String</span>, <a title="() =&gt; Either[org.specs2.execute.Result,T]" id="245337">context</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Either<span class="delimiter">[</span>Result, T<span class="delimiter">]</span>, <a title="org.specs2.specification.Fragments" id="245338">fs</a>: <a href="Fragments.scala.html#11516" title="org.specs2.specification.Fragments">Fragments</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11604" title="org.specs2.specification.RegexFragment">RegexFragment</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="org.specs2.specification.PostStepText[T]" id="245051">RegexType</a> = <a href="#245346" title="org.specs2.specification.PostStepText[T]">PostStepText</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="(step: org.specs2.specification.Then[T])org.specs2.specification.PostStep[T]" id="245052">^</a><span class="delimiter">(</span><a title="org.specs2.specification.Then[T]" id="245157">step</a>: <a href="RegexStep.scala.html#11580" title="org.specs2.specification.Then[T]">Then</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]" id="245163">extracted</a> = <a href="#245157" title="org.specs2.specification.Then[T]">step</a>.<a href="RegexStep.scala.html#59368" title="(t: Either[org.specs2.execute.Result,T], text: String)Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]">extractContext</a><span class="delimiter">(</span><a href="#245337" title="()Either[org.specs2.execute.Result,T]">context</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#245336" title="=&gt; String">text</a><span class="delimiter">)</span>
    <span title="org.specs2.specification.PostStep[T]" class="keyword">new</span> <a href="#245357" title="org.specs2.specification.PostStep[T]">PostStep</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#243466" title="(context: =&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)])Either[org.specs2.execute.Result,T]">toContext</a><span class="delimiter">(</span><a href="#245162" title="=&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]">extracted</a><span class="delimiter">)</span>, <a href="#245338" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="Fragment.scala.html#17171" title="(desc: String, body: =&gt; org.specs2.execute.Result)(implicit evidence$1: org.specs2.execute.Result =&gt; org.specs2.execute.Result)org.specs2.specification.Example">Example</a><span title="&lt;:&lt;[org.specs2.execute.Result,org.specs2.execute.Result]" class="delimiter">(</span><a href="#245157" title="org.specs2.specification.Then[T]">step</a>.<a href="RegexStep.scala.html#59353" title="(text: String)String">strip</a><span class="delimiter">(</span><a href="#245336" title="=&gt; String">text</a><span class="delimiter">)</span>, <a href="#243463" title="(context: =&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)])org.specs2.execute.Result">toResult</a><span class="delimiter">(</span><a href="#245162" title="=&gt; Either[org.specs2.execute.Result,(T, org.specs2.execute.Result)]">extracted</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(f: org.specs2.specification.Fragment)PostStepText.this.RegexType" id="245053">add</a><span class="delimiter">(</span><a title="org.specs2.specification.Fragment" id="245227">f</a>: <a href="Fragment.scala.html#11467" title="org.specs2.specification.Fragment">Fragment</a><span class="delimiter">)</span>: <a href="#245346" title="PostStepText.this.RegexType">RegexType</a> = <span title="org.specs2.specification.PostStepText[T]" class="keyword">new</span> <a href="#245346" title="org.specs2.specification.PostStepText[T]">PostStepText</a><span class="delimiter">(</span><a href="#245336" title="=&gt; String">text</a>, <a href="#245337" title="=&gt; () =&gt; Either[org.specs2.execute.Result,T]">context</a>, <a href="#245338" title="=&gt; org.specs2.specification.Fragments">fs</a>.<a href="Fragments.scala.html#50163" title="(e: org.specs2.specification.Fragment)org.specs2.specification.Fragments">add</a><span class="delimiter">(</span><a href="#245227" title="org.specs2.specification.Fragment">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>