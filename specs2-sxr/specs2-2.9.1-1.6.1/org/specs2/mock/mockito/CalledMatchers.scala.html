<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/mock/mockito/CalledMatchers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> mock
<span class="keyword">package</span> mockito

<span class="keyword">import</span> org.mockito.InOrder
<span class="keyword">import</span> org.mockito.verification.<span class="delimiter">{</span> VerificationMode <span class="delimiter">}</span>
<span class="keyword">import</span> control.<a href="../../control/Exceptions.scala.html#9553" title="object org.specs2.control.Exceptions">Exceptions</a>._
<span class="keyword">import</span> matcher._
<span class="keyword">import</span> org.mockito.InOrder
<span class="keyword">import</span> execute.Result

<span class="comment">/**
 * This trait provides methods to declare expectations on mock calls:&lt;code&gt;
 * 
 * there was one(mockedList).get(0)
 * there was no(mockedList).get(0)
 * 
 * there was two(mockedList).get(0)
 * there was three(mockedList).get(0)
 * there was 4.times(mockedList).get(0)
 *
 * there was atLeastOne(mockedList).get(0)
 * there was atLeastTwo(mockedList).get(0)
 * there was atLeastThree(mockedList).get(0)
 * there was atLeast(4)(mockedList).get(0)
 * there was atMostOne(mockedList).get(0)
 * there was atMostTwo(mockedList).get(0)
 * there was atMostThree(mockedList).get(0)
 * there was atMost(4)(mockedList).get(0)
 * 
 * It is also possible to use a different wording:
 * 
 * there were two(mockedList).get(0)
 * got { two(mockedList).get(0) }
 * 
 * &lt;/code&gt;
 */</span>
<span class="keyword">trait</span> <a title="trait CalledMatchers extends java.lang.Object with org.specs2.mock.mockito.NumberOfTimes with org.specs2.mock.mockito.TheMockitoMocker with org.specs2.matcher.Expectations with ScalaObject" id="10607">CalledMatchers</a> <span title="ScalaObject" class="keyword">extends</span> <a href="NumberOfTimes.scala.html#10646" title="org.specs2.mock.mockito.NumberOfTimes">NumberOfTimes</a> <span class="keyword">with</span> <a href="TheMockitoMocker.scala.html#10650" title="org.specs2.mock.mockito.TheMockitoMocker">TheMockitoMocker</a> <span class="keyword">with</span> <a href="../../matcher/Expectations.scala.html#10194" title="org.specs2.matcher.Expectations">Expectations</a> <span class="delimiter">{</span>
  <span class="comment">/** this matcher evaluates an expression containing mockito calls verification */</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class CallsMatcher extends java.lang.Object with org.specs2.matcher.Matcher[Any] with ScalaObject" id="183294">CallsMatcher</a> <a href="#183294" title="ScalaObject" class="keyword">extends</a> <a href="../../matcher/Matcher.scala.html#10321" title="org.specs2.matcher.Matcher[Any]">Matcher</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[S](calls: org.specs2.matcher.Expectable[S])org.specs2.matcher.MatchResult[S]" id="183499">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="183501">S</a> &lt;: Any<span class="delimiter">]</span><span class="delimiter">(</span><a title="org.specs2.matcher.Expectable[S]" id="183505">calls</a>: <a href="../../matcher/Expectable.scala.html#10184" title="org.specs2.matcher.Expectable[S]">Expectable</a><span class="delimiter">[</span>S<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#183295" title="[T]=&gt; java.lang.Object with org.specs2.matcher.Matcher[T]">checkCalls</a><a href="../../matcher/Matcher.scala.html#50821" title="(t: org.specs2.matcher.Expectable[S])org.specs2.matcher.MatchResult[S]" class="delimiter">[</a><a href="#183501" title="S">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#183505" title="org.specs2.matcher.Expectable[S]">calls</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T]=&gt; java.lang.Object with org.specs2.matcher.Matcher[T]" id="183295">checkCalls</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="183297">T</a><span class="delimiter">]</span> = <a href="#183518" title="java.lang.Object with org.specs2.matcher.Matcher[T]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.specs2.matcher.Matcher[T]" id="183518">Matcher</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[S &lt;: T](s: org.specs2.matcher.Expectable[S])org.specs2.matcher.MatchResult[S]" id="183520">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: T" id="183522">S</a> &lt;: T<span class="delimiter">]</span><span class="delimiter">(</span><a title="org.specs2.matcher.Expectable[S]" id="183523">s</a>: <a href="../../matcher/Expectable.scala.html#10184" title="org.specs2.matcher.Expectable[S]">Expectable</a><span class="delimiter">[</span>S<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../../control/Exceptions.scala.html#17219" title="(a: =&gt; S)(f: Throwable =&gt; Throwable)Either[Throwable,S]">catchAll</a> <span class="delimiter">{</span> <a href="#183523" title="org.specs2.matcher.Expectable[S]">s</a>.<a href="../../matcher/Expectable.scala.html#55662" title="=&gt; S">value</a> <span class="delimiter">}</span> <span class="delimiter">{</span> <a href="#183543" title="(x: Throwable)Throwable">identity</a> <span class="delimiter">}</span> <span title="org.specs2.matcher.MatchResult[S]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="org.specs2.matcher.MatchSuccess[S]">Right</span><span class="delimiter">(</span><a title="S" id="183549">v</a><span class="delimiter">)</span> =&gt; <span title="org.specs2.matcher.MatchSuccess[S]" class="keyword">new</span> <a href="../../matcher/MatchResult.scala.html#10268" title="org.specs2.matcher.MatchSuccess[S]">MatchSuccess</a><span class="delimiter">(</span><span title="java.lang.String(&quot;The mock was called as expected&quot;)" class="string">&quot;The mock was called as expected&quot;</span>, <span title="java.lang.String(&quot;The mock was not called as expected&quot;)" class="string">&quot;The mock was not called as expected&quot;</span>, <a href="../../matcher/Expectable.scala.html#50689" title="(t: =&gt; S)org.specs2.matcher.Expectable[S]">Expectable</a><span class="delimiter">(</span><a href="#183549" title="S">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="org.specs2.matcher.MatchFailure[S]">Left</span><span class="delimiter">(</span><a title="Throwable" id="183575">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <a href="../../matcher/MatchResult.scala.html#113306" title="org.specs2.matcher.MatchFailure[S]" class="keyword">new</a> <a href="../../matcher/MatchResult.scala.html#10272" title="org.specs2.matcher.MatchFailure[S]">MatchFailure</a><span class="delimiter">(</span><span title="java.lang.String(&quot;The mock was called as expected&quot;)" class="string">&quot;The mock was called as expected&quot;</span>,
                           <span title="java.lang.String(&quot;The mock was not called as expected: &quot;)" class="string">&quot;The mock was not called as expected: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#183575" title="Throwable">e</a>.<span title="()java.lang.String">getMessage</span>,
                           <a href="../../matcher/Expectations.scala.html#49988" title="(t: =&gt; S, alias: String)org.specs2.matcher.Expectable[S]">createExpectable</a><span class="delimiter">(</span><a href="#183523" title="org.specs2.matcher.Expectable[S]">s</a>.<a href="../../matcher/Expectable.scala.html#55662" title="=&gt; S">value</a>, <a href="#183575" title="Throwable">e</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** create an object supporting 'was' and 'were' methods */</span>
  <span class="keyword">def</span> <a title="=&gt; CalledMatchers.this.Calls" id="183298">there</a> = <span title="CalledMatchers.this.Calls" class="keyword">new</span> <a href="#183299" title="CalledMatchers.this.Calls">Calls</a>
  <span class="comment">/** 
   * class supporting 'was' and 'were' methods to forward mockito calls to the CallsMatcher matcher 
   */</span>
  <span class="keyword">class</span> <a title="class Calls extends java.lang.Object with ScalaObject" id="183299">Calls</a> <a href="#183299" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="[T](calls: =&gt; T)org.specs2.matcher.MatchResult[T]" id="183685">were</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="183687">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="183692">calls</a>: =&gt;T<span class="delimiter">)</span>: <a href="../../matcher/MatchResult.scala.html#10266" title="org.specs2.matcher.MatchResult[T]">MatchResult</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#183688" title="(calls: =&gt; T)org.specs2.matcher.MatchResult[T]">was</a><span class="delimiter">(</span><a href="#183692" title="=&gt; T">calls</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[T](calls: =&gt; T)org.specs2.matcher.MatchResult[T]" id="183688">was</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="183690">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="183695">calls</a>: =&gt;T<span class="delimiter">)</span>: <a href="../../matcher/MatchResult.scala.html#10266" title="org.specs2.matcher.MatchResult[T]">MatchResult</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="../../matcher/Expectations.scala.html#49985" title="(t: =&gt; T)org.specs2.matcher.Expectable[T]">createExpectable</a><span class="delimiter">(</span><a href="#183695" title="=&gt; T">calls</a><span class="delimiter">)</span>.<a href="../../matcher/Expectable.scala.html#55668" title="(m: =&gt; org.specs2.matcher.Matcher[T])org.specs2.matcher.MatchResult[T]">applyMatcher</a><span class="delimiter">(</span><a href="#183295" title="checkCalls extends java.lang.Object with org.specs2.matcher.Matcher[Any]">checkCalls</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * alias for 'there was'
   */</span>
  <span class="keyword">def</span> <a title="[T](t: =&gt; T)org.specs2.matcher.MatchResult[T]" id="183300">got</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="183302">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="183729">t</a>: =&gt;T<span class="delimiter">)</span> = <a href="#183298" title="=&gt; CalledMatchers.this.Calls">there</a> <a href="#183688" title="(calls: =&gt; T)org.specs2.matcher.MatchResult[T]">was</a> <a href="#183729" title="=&gt; T">t</a>
  <span class="comment">/**
   * implicit definition to be able to declare a number of calls 3.times(m).clear()
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit org.specs2.mock.mockito.CalledMatchers.rangeIntToTimes : (r: CalledMatchers.this.RangeInt)CalledMatchers.this.RangeIntToTimes" id="183303">rangeIntToTimes</a><span class="delimiter">(</span><a title="CalledMatchers.this.RangeInt" id="183598">r</a>: <a href="NumberOfTimes.scala.html#183290" title="CalledMatchers.this.RangeInt">RangeInt</a><span class="delimiter">)</span>: <a href="#183304" title="CalledMatchers.this.RangeIntToTimes">RangeIntToTimes</a> = <span title="CalledMatchers.this.RangeIntToTimes" class="keyword">new</span> <a href="#183304" title="CalledMatchers.this.RangeIntToTimes">RangeIntToTimes</a><span class="delimiter">(</span><a href="#183598" title="CalledMatchers.this.RangeInt">r</a><span class="delimiter">)</span>
  <span class="comment">/**
   * class providing a apply method to be able to declare a number of calls:
   *   3.times(m).clear() is actually 3.times.apply(m).clear()
   */</span>
  <span class="keyword">class</span> <a title="class RangeIntToTimes extends java.lang.Object with ScalaObject" id="183304">RangeIntToTimes</a><a href="#183304" title="ScalaObject" class="delimiter">(</a><a title="CalledMatchers.this.RangeInt" id="183742">r</a>: <a href="NumberOfTimes.scala.html#183290" title="CalledMatchers.this.RangeInt">RangeInt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: =&gt; T)T" id="183739">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="183741">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="183745">mock</a>: =&gt;T<span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#183745" title="=&gt; T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">times</span><span class="delimiter">(</span><a href="#183742" title="CalledMatchers.this.RangeInt">r</a>.<a href="NumberOfTimes.scala.html#183601" title="=&gt; Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/** temporary InOrder object to accumulate mocks to verify in order */</span>
<span class="comment">//  protected implicit val mockitoHasNoInOrderOrderdingByDefault: Option[InOrder] = None</span>
  <span class="comment">/**
   * verify that a mock has been called appropriately
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T" id="183305">verify</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="183307">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="183748">mock</a>: <a href="#183307" title="T">T</a>, <a title="org.mockito.verification.VerificationMode" id="183749">v</a>: <span title="org.mockito.verification.VerificationMode">VerificationMode</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="183750">order</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#183750" title="Option[org.mockito.InOrder]">order</a> <span title="T" class="keyword">match</span> <span class="delimiter">{</span> 
      <span class="keyword">case</span> <span title="T">Some</span><span class="delimiter">(</span><a title="org.mockito.InOrder" id="183765">ordered</a><span class="delimiter">)</span> =&gt; <a href="TheMockitoMocker.scala.html#183267" title="=&gt; java.lang.Object with org.specs2.mock.MockitoMocker">mocker</a>.<a href="MockitoMocker.scala.html#183793" title="(inOrder: Option[org.mockito.InOrder], m: T, v: org.mockito.verification.VerificationMode)T">verify</a><span class="delimiter">(</span><a href="#183750" title="Option[org.mockito.InOrder]">order</a>, <a href="#183748" title="T">mock</a>, <a href="#183749" title="org.mockito.verification.VerificationMode">v</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="T">None</span>          =&gt; <a href="TheMockitoMocker.scala.html#183267" title="=&gt; java.lang.Object with org.specs2.mock.MockitoMocker">mocker</a>.<a href="MockitoMocker.scala.html#183796" title="(m: T, v: org.mockito.verification.VerificationMode)T">verify</a><span class="delimiter">(</span><a href="#183748" title="T">mock</a>, <a href="#183749" title="org.mockito.verification.VerificationMode">v</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(mocks: AnyRef*)Option[org.mockito.InOrder]" id="183308">inOrder</a><span class="delimiter">(</span><a title="AnyRef*" id="184211">mocks</a>: <span title="AnyRef*">AnyRef</span>*<span class="delimiter">)</span>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> =
    <span title="Option[org.mockito.InOrder]" class="keyword">if</span> <span class="delimiter">(</span><a href="#184211" title="AnyRef*">mocks</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="object None">None</span>
    <span class="keyword">else</span>               <span title="(x: org.mockito.internal.InOrderImpl)Some[org.mockito.internal.InOrderImpl]">Some</span><span class="delimiter">(</span><span title="org.mockito.internal.InOrderImpl" class="keyword">new</span> org.mockito.internal.<span title="org.mockito.internal.InOrderImpl">InOrderImpl</span><span class="delimiter">(</span>java.util.<span title="object java.util.Arrays">Arrays</span>.<span title="(x$1: &lt;repeated...&gt;[AnyRef])java.util.List[AnyRef]">asList</span><span class="delimiter">(</span><a href="#184211" title="AnyRef*">mocks</a>:_*<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/** no call made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183309">no</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184720">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184986">mock</a>: <a href="#184720" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184718">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184986" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="()org.mockito.verification.VerificationMode">never</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184718" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** one call only made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183312">one</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184733">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184983">mock</a>: <a href="#184733" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184731">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184983" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">times</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184731" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** two calls only made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183315">two</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184746">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184980">mock</a>: <a href="#184746" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184744">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184980" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">times</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184744" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** three calls only made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183318">three</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184759">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184977">mock</a>: <a href="#184759" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184757">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184977" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">times</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184757" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** at least n calls made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](i: Int)(mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183321">atLeast</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184773">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="184973">i</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="T" id="184974">mock</a>: <a href="#184773" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184771">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184974" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">atLeast</span><span class="delimiter">(</span><a href="#184973" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184771" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** at least 1 call made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183324">atLeastOne</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184786">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184970">mock</a>: <a href="#184786" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184784">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184970" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">atLeast</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184784" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** at least 2 calls made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183327">atLeastTwo</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184799">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184967">mock</a>: <a href="#184799" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184797">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184967" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">atLeast</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184797" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** at least 3 calls made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183330">atLeastThree</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184812">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184964">mock</a>: <a href="#184812" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184810">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184964" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">atLeast</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184810" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** at most n calls made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](i: Int)(mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183333">atMost</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184826">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="184960">i</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="T" id="184961">mock</a>: <a href="#184826" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184824">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184961" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">atMost</span><span class="delimiter">(</span><a href="#184960" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184824" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** at most 1 call made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183336">atMostOne</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184839">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184957">mock</a>: <a href="#184839" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184837">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184957" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">atMost</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184837" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** at most 2 calls made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183339">atMostTwo</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184852">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184954">mock</a>: <a href="#184852" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184850">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184954" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">atMost</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184850" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** at most 3 calls made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)(implicit anOrder: Option[org.mockito.InOrder])T" id="183342">atMostThree</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="184865">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184951">mock</a>: <a href="#184865" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[org.mockito.InOrder]" id="184863">anOrder</a>: <span title="Option[org.mockito.InOrder]">Option</span><span class="delimiter">[</span>InOrder<span class="delimiter">]</span> = <a href="#183308" title="(mocks: AnyRef*)Option[org.mockito.InOrder]">inOrder</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#183305" title="(mock: T, v: org.mockito.verification.VerificationMode)(implicit order: Option[org.mockito.InOrder])T">verify</a><span class="delimiter">(</span><a href="#184951" title="T">mock</a>, org.mockito.<span title="object org.mockito.Mockito">Mockito</span>.<span title="(x$1: Int)org.mockito.verification.VerificationMode">atMost</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184863" title="Option[org.mockito.InOrder]">anOrder</a><span class="delimiter">)</span>
  <span class="comment">/** no more calls made to the mock */</span>
  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](mock: T)Unit" id="183345">noMoreCallsTo</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="183347">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="184872">mock</a>: <a href="#183347" title="T">T</a><span class="delimiter">)</span> = <a href="TheMockitoMocker.scala.html#183267" title="=&gt; java.lang.Object with org.specs2.mock.MockitoMocker">mocker</a>.<a href="MockitoMocker.scala.html#183799" title="(mocks: T*)Unit">verifyNoMoreInteractions</a><span class="delimiter">(</span><a href="#184872" title="T">mock</a><span class="delimiter">)</span>
  <span class="comment">/** implicit def supporting calls in order */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](calls: =&gt; T)(implicit evidence$1: T =&gt; org.specs2.execute.Result)CalledMatchers.this.ToInOrderMode[T]" id="183607">toInOrderMode</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="183350">T</a> &lt;% Result<span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="183606">calls</a>: =&gt;T<span class="delimiter">)</span>: <a href="#183351" title="CalledMatchers.this.ToInOrderMode[T]">ToInOrderMode</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#183607" title="CalledMatchers.this.ToInOrderMode[T]" class="keyword">new</a> <a href="#183351" title="CalledMatchers.this.ToInOrderMode[T]">ToInOrderMode</a><span class="delimiter">(</span><a href="#183606" title="=&gt; T">calls</a><span class="delimiter">)</span>
  <span class="comment">/** 
   * class defining a then method to declare that calls must be made in a specific order.
   * 
   * The orderedBy method can be used to declare the mock order if there are several mocks
   */</span>
  <span class="keyword">class</span> <a title="class ToInOrderMode[T] extends java.lang.Object with ScalaObject" id="183351">ToInOrderMode</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="183352">T</a> &lt;% Result<span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="184902">calls</a>: =&gt;T<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[U](otherCalls: =&gt; U)org.specs2.execute.Result" id="183618">then</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="183620">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; U" id="184917">otherCalls</a>: =&gt;U<span class="delimiter">)</span>: <a href="../../execute/Result.scala.html#9666" title="org.specs2.execute.Result">Result</a> = <span class="delimiter">{</span>
      <a href="#183616" title="(v1: T)org.specs2.execute.Result">calls</a> <a href="../../execute/Result.scala.html#32484" title="(r: =&gt; org.specs2.execute.Result)org.specs2.execute.Result">and</a> <a href="../../matcher/Expectations.scala.html#49985" title="(t: =&gt; U)org.specs2.matcher.Expectable[U]">createExpectable</a><span class="delimiter">(</span><a href="#184917" title="=&gt; U">otherCalls</a><span class="delimiter">)</span>.<a href="../../matcher/Expectable.scala.html#55668" title="(m: =&gt; org.specs2.matcher.Matcher[Any])org.specs2.matcher.MatchResult[Any]">applyMatcher</a><span class="delimiter">(</span><a href="#183295" title="checkCalls extends java.lang.Object with org.specs2.matcher.Matcher[Any]">checkCalls</a><span class="delimiter">)</span>.<a href="../../matcher/MatchResult.scala.html#50681" title="=&gt; org.specs2.execute.Result">toResult</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>