<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/io/FileSystem.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> io

<span class="keyword">import</span> java.io._
<span class="keyword">import</span> java.util.regex._
<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> java.util.zip._
<span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConversions">JavaConversions</span>._
<span class="keyword">import</span> java.lang.<span title="object java.lang.String">String</span>._

<span class="comment">/**
 * The FileSystem trait abstracts file system operations to allow easier mocking of file system related functionalities.
 * &lt;p&gt;
 * It mixes the &lt;code&gt;FileReader&lt;/code&gt; and &lt;code&gt;FileWriter&lt;/code&gt; traits to provide easy read/write operations.  
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait FileSystem extends java.lang.Object with org.specs2.io.FileReader with org.specs2.io.FileWriter with ScalaObject" id="9953">FileSystem</a> <span title="ScalaObject" class="keyword">extends</span> org.specs2.io.<a href="FileReader.scala.html#9941" title="org.specs2.io.FileReader">FileReader</a> <span class="keyword">with</span> org.specs2.io.<a href="FileWriter.scala.html#9963" title="org.specs2.io.FileWriter">FileWriter</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * @param path glob expression, for example: &lt;code&gt;./dir/**/*.xml&lt;/code&gt;
   * @return the list of paths represented by the &quot;glob&quot; definition &lt;code&gt;path&lt;/path&gt;  
   */</span>
  <span class="keyword">def</span> <a title="(basePath: String, path: String, verbose: Boolean)Seq[String]" id="55112">filePaths</a><span class="delimiter">(</span><a title="String" id="97210">basePath</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <a title="String" id="97211">path</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>, <a title="Boolean" id="97212">verbose</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Stream[java.io.File]" id="97213">found</a> = <a href="#55115" title="(file: java.io.File)Stream[java.io.File]">recurse</a><span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#97210" title="String">basePath</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#97212" title="Boolean">verbose</a><span class="delimiter">)</span> <a href="#97213" title="Stream[java.io.File]">found</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="java.io.File" id="97244">f</a> =&gt; <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;found file: &quot;)" class="string">&quot;found file: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#97244" title="java.io.File">f</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="97214">pattern</a> = <a href="#55116" title="(glob: String)String">globToPattern</a><span class="delimiter">(</span><a href="#97211" title="String">path</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#55117" title="(path: String)Boolean">isDir</a><span class="delimiter">(</span><a href="#97211" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;/*.*&quot;)" class="string">&quot;/*.*&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#97212" title="Boolean">verbose</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012The pattern used to match files is: &quot;)" class="string">&quot;\nThe pattern used to match files is: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#97214" title="java.lang.String">pattern</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Seq[java.lang.String]" id="97215">collected</a> = <a href="#97213" title="Stream[java.io.File]">found</a>.<span title="(pf: PartialFunction[java.io.File,java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[java.io.File],java.lang.String,scala.collection.immutable.Stream[java.lang.String]])scala.collection.immutable.Stream[java.lang.String]">collect</span> <a href="#97284" title="java.lang.String" class="delimiter">{</a> <span class="keyword">case</span> <a title="java.lang.String" id="97285">f</a> <span class="keyword">if</span> <a href="#55114" title="(f: java.io.File, pattern: String, verbose: Boolean)Boolean">fileMatchesPattern</a><span class="delimiter">(</span><a href="#97285" title="java.io.File">f</a>, <a href="#97214" title="java.lang.String">pattern</a>, <a href="#97212" title="Boolean">verbose</a><span class="delimiter">)</span> =&gt; <a href="#97285" title="java.io.File">f</a>.<span title="()java.lang.String">getPath</span> <span class="delimiter">}</span>.<span title="=&gt; scala.collection.immutable.Seq[java.lang.String]">toSeq</span>
    <a href="#97215" title="scala.collection.immutable.Seq[java.lang.String]">collected</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(f: java.io.File)Boolean" id="55113">isVersionFile</a><span class="delimiter">(</span><a title="java.io.File" id="97572">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <span title="(elems: java.lang.String*)Seq[java.lang.String]">Seq</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.svn&quot;)" class="string">&quot;.svn&quot;</span>, <span title="java.lang.String(&quot;.cvs&quot;)" class="string">&quot;.cvs&quot;</span><span class="delimiter">)</span>.<span title="(p: java.lang.String =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#97572" title="java.io.File">f</a>.<span title="()java.lang.String">getPath</span>.<span title="(x$1: java.lang.CharSequence)Boolean">contains</span><span class="delimiter">(</span><a href="#97585" title="java.lang.String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(f: java.io.File, pattern: String, verbose: Boolean)Boolean" id="55114">fileMatchesPattern</a><span class="delimiter">(</span><a title="java.io.File" id="97286">f</a>: <span title="java.io.File">File</span>, <a title="String" id="97287">pattern</a>: <span title="String">String</span>, <a title="Boolean" id="97291">verbose</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="97292">filePath</a> = <span title="java.lang.String(&quot;./&quot;)" class="string">&quot;./&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#97286" title="java.io.File">f</a>.<span title="()java.lang.String">getPath</span>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\\&quot;)" class="string">&quot;\\&quot;</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#97291" title="Boolean">verbose</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#97286" title="java.io.File">f</a>.<span title="()Boolean">isFile</span><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#97292" title="java.lang.String">filePath</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; matches pattern: &quot;)" class="string">&quot; matches pattern: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><a href="#97292" title="java.lang.String">filePath</a> <span title="(x$1: java.lang.String)Boolean">matches</span> <a href="#97287" title="String">pattern</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#97286" title="java.io.File">f</a>.<span title="()Boolean">isFile</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#97292" title="java.lang.String">filePath</a> <span title="(x$1: java.lang.String)Boolean">matches</span> <a href="#97287" title="String">pattern</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @param file start file
   * @return a Stream with all the recursively accessible files
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(file: java.io.File)Stream[java.io.File]" id="55115">recurse</a><span class="delimiter">(</span><a title="java.io.File" id="97216">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Stream[java.io.File]">Stream</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <span class="delimiter">{</span>
	  <span class="keyword">import</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>._
	  <span title="(hd: java.io.File, tl: =&gt; scala.collection.immutable.Stream[java.io.File])Stream.Cons[java.io.File]">cons</span><span class="delimiter">(</span><a href="#97216" title="java.io.File">file</a>, <span title="scala.collection.immutable.Stream[java.io.File]" class="keyword">if</span> <span class="delimiter">(</span><a href="#97216" title="java.io.File">file</a>.<span title="()Array[java.io.File]">listFiles</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Stream[Nothing]">empty</span> <span class="keyword">else</span> <a href="#97216" title="java.io.File">file</a>.<span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">listFiles</span>.<span title="=&gt; scala.collection.immutable.Stream[java.io.File]">toStream</span>.<span title="(p: java.io.File =&gt; Boolean)scala.collection.immutable.Stream[java.io.File]">filterNot</span><span class="delimiter">(</span><a href="#55113" title="(f: java.io.File)Boolean">isVersionFile</a><span class="delimiter">)</span>.<span title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[java.io.File])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[java.io.File],java.io.File,scala.collection.immutable.Stream[java.io.File]])scala.collection.immutable.Stream[java.io.File]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[Stream.Coll,java.io.File,scala.collection.immutable.Stream[java.io.File]]" class="delimiter">(</span><a href="#55115" title="(file: java.io.File)Stream[java.io.File]">recurse</a><span class="delimiter">(</span><a href="#98269" title="java.io.File">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/**
   * @return the regular expression equivalent to a glob pattern (see the specs for Fragments)
   */</span>
  <span class="keyword">def</span> <a title="(glob: String)String" id="55116">globToPattern</a><span class="delimiter">(</span><a title="String" id="97248">glob</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="98287">star</a> = <span title="java.lang.String(&quot;&lt;STAR&gt;&quot;)" class="string">&quot;&lt;STAR&gt;&quot;</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="98288">authorizedNamePattern</a> = <span title="java.lang.String(&quot;[^\\/\\?&lt;&gt;\\|\\&quot;)" class="string">&quot;[^\\/\\?&lt;&gt;\\|\\&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#98287" title="java.lang.String">star</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:\&quot;]&quot;)" class="string">&quot;:\&quot;]&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#98287" title="java.lang.String">star</a>
    <span class="keyword">var</span> <a title="java.lang.String" id="98289">pattern</a> = <a href="#97248" title="String">glob</a>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\\&quot;)" class="string">&quot;\\&quot;</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
    									.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <span title="java.lang.String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span>
    									.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;**/&quot;)" class="string">&quot;**/&quot;</span>, <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#98288" title="java.lang.String">authorizedNamePattern</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/)&quot;)" class="string">&quot;/)&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#98287" title="java.lang.String">star</a><span class="delimiter">)</span>
                      .<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>, <a href="#98288" title="java.lang.String">authorizedNamePattern</a><span class="delimiter">)</span>
                      .<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><a href="#98287" title="java.lang.String">star</a>, <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#98289" title="java.lang.String">pattern</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\\./&quot;)" class="string">&quot;\\./&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#98289" title="java.lang.String">pattern</a> = <span title="java.lang.String(&quot;\\./&quot;)" class="string">&quot;\\./&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#98289" title="java.lang.String">pattern</a> 
    <a href="#98289" title="java.lang.String">pattern</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/**
   * @return true if the File represented by this path is a directory
   */</span>
  <span class="keyword">def</span> <a title="(path: String)Boolean" id="55117">isDir</a><span class="delimiter">(</span><a title="String" id="97250">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#55124" title="(path: String)Boolean">isDirectory</a><span class="delimiter">(</span><a href="#97250" title="String">path</a><span class="delimiter">)</span>

  <span class="comment">/**
   * creates a directory for a given path
   */</span>
  <span class="keyword">def</span> <a title="(path: String)Boolean" id="55118">createDir</a><span class="delimiter">(</span><a title="String" id="98312">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#98312" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()Boolean">mkdirs</span>

  <span class="comment">/**
   * deletes the directory and all directory content at the specified path and return the parent path of that directory
   */</span>
  <span class="keyword">def</span> <a title="(path: String)String" id="55119">removeDir</a><span class="delimiter">(</span><a title="String" id="98319">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="98321">dir</a> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#98319" title="String">path</a><span class="delimiter">)</span>
    <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#98321" title="java.io.File">dir</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#98321" title="java.io.File">dir</a>.<span title="()Array[java.io.File]">listFiles</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <a href="#98321" title="java.io.File">dir</a>.<span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">listFiles</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
        <a href="#98321" title="java.io.File">dir</a>.<span title="()Boolean">delete</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#98321" title="java.io.File">dir</a>.<span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">listFiles</span>.<span title="(f: java.io.File =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span> <a title="java.io.File" id="99292">file</a> =&gt; 
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#99292" title="java.io.File">file</a>.<span title="()Boolean">isFile</span><span class="delimiter">)</span> 
            <a href="#99292" title="java.io.File">file</a>.<span title="()Boolean">delete</span>
          <span class="keyword">else</span> 
            <a href="#55119" title="(path: String)String">removeDir</a><span class="delimiter">(</span><a href="#99292" title="java.io.File">file</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#98321" title="java.io.File">dir</a>.<span title="()Boolean">delete</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#98321" title="java.io.File">dir</a>.<span title="()java.lang.String">getParent</span>
  <span class="delimiter">}</span>
  <span class="comment">/** @return true if the file can be read */</span>
  <span class="keyword">def</span> <a title="(path: String)Boolean" id="55120">canRead</a><span class="delimiter">(</span><a title="String" id="99331">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#99331" title="String">path</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99331" title="String">path</a><span class="delimiter">)</span>.<span title="()Boolean">canRead</span>  

  <span class="comment">/** @return true if the file can be written */</span>
  <span class="keyword">def</span> <a title="(path: String)Boolean" id="55121">canWrite</a><span class="delimiter">(</span><a title="String" id="99342">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#99342" title="String">path</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99342" title="String">path</a><span class="delimiter">)</span>.<span title="()Boolean">canWrite</span>  

  <span class="comment">/** @return true if the file is absolute */</span>
  <span class="keyword">def</span> <a title="(path: String)Boolean" id="55122">isAbsolute</a><span class="delimiter">(</span><a title="String" id="99353">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#99353" title="String">path</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99353" title="String">path</a><span class="delimiter">)</span>.<span title="()Boolean">isAbsolute</span>  

  <span class="comment">/** @return true if the file is a file */</span>
  <span class="keyword">def</span> <a title="(path: String)Boolean" id="55123">isFile</a><span class="delimiter">(</span><a title="String" id="99364">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#99364" title="String">path</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99364" title="String">path</a><span class="delimiter">)</span>.<span title="()Boolean">isFile</span>  

  <span class="comment">/** @return true if the file is a directory */</span>
  <span class="keyword">def</span> <a title="(path: String)Boolean" id="55124">isDirectory</a><span class="delimiter">(</span><a title="String" id="97253">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#97253" title="String">path</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#97253" title="String">path</a><span class="delimiter">)</span>.<span title="()Boolean">isDirectory</span>  

  <span class="comment">/** @return true if the file is hidden */</span>
  <span class="keyword">def</span> <a title="(path: String)Boolean" id="55125">isHidden</a><span class="delimiter">(</span><a title="String" id="99375">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#99375" title="String">path</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99375" title="String">path</a><span class="delimiter">)</span>.<span title="()Boolean">isHidden</span>  

  <span class="comment">/** @return the file name */</span>
  <span class="keyword">def</span> <a title="(path: String)java.lang.String" id="55126">getName</a><span class="delimiter">(</span><a title="String" id="99386">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99386" title="String">path</a><span class="delimiter">)</span>.<span title="()java.lang.String">getName</span>  

  <span class="comment">/** @return the file absolute path */</span>
  <span class="keyword">def</span> <a title="(path: String)java.lang.String" id="55127">getAbsolutePath</a><span class="delimiter">(</span><a title="String" id="99393">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99393" title="String">path</a><span class="delimiter">)</span>.<span title="()java.lang.String">getAbsolutePath</span>  

  <span class="comment">/** @return the file canonical path */</span>
  <span class="keyword">def</span> <a title="(path: String)java.lang.String" id="55128">getCanonicalPath</a><span class="delimiter">(</span><a title="String" id="99400">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99400" title="String">path</a><span class="delimiter">)</span>.<span title="()java.lang.String">getCanonicalPath</span>  

  <span class="comment">/** @return the file parent path */</span>
  <span class="keyword">def</span> <a title="(path: String)java.lang.String" id="55129">getParent</a><span class="delimiter">(</span><a title="String" id="99407">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99407" title="String">path</a><span class="delimiter">)</span>.<span title="()java.lang.String">getParent</span>  

  <span class="comment">/** @return the files of that directory */</span>
  <span class="keyword">def</span> <a title="(path: String)List[String]" id="55130">listFiles</a><span class="delimiter">(</span><a title="String" id="99414">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99414" title="String">path</a><span class="delimiter">)</span>.<span title="()Array[java.lang.String]">list</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99414" title="String">path</a><span class="delimiter">)</span>.<span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">list</span>.<span title="=&gt; List[java.lang.String]">toList</span>
  
  <span class="comment">/** 
   * copy the content of a directory to another.
   * @param url url of the directory to copy
   * @param dest destination directory path
   */</span>
  <span class="keyword">def</span> <a title="(url: java.net.URL, dest: String)Unit" id="55131">copyDir</a><span class="delimiter">(</span><a title="java.net.URL" id="99543">url</a>: <span title="java.net.URL">URL</span>, <a title="String" id="99544">dest</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#55132" title="(src: String, dest: String)Unit">copyDir</a><span class="delimiter">(</span><span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99543" title="java.net.URL">url</a>.<span title="()java.net.URI">toURI</span><span class="delimiter">)</span>.<span title="()java.lang.String">getPath</span>, <a href="#99544" title="String">dest</a><span class="delimiter">)</span> <span class="delimiter">}</span>
   <span class="comment">/** 
   * copy the content of a directory to another.
   * @param path path of the directory to copy
   * @param dest destination directory path
   */</span>
  <span class="keyword">def</span> <a title="(src: String, dest: String)Unit" id="55132">copyDir</a><span class="delimiter">(</span><a title="String" id="99550">src</a>: <span title="String">String</span>, <a title="String" id="99551">dest</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#55130" title="(path: String)List[String]">listFiles</a><span class="delimiter">(</span><a href="#99550" title="String">src</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)List[String]">filterNot</span><span class="delimiter">(</span><a href="#99564" title="String">_</a>.<span title="(x$1: java.lang.CharSequence)Boolean">contains</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.svn&quot;)" class="string">&quot;.svn&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="99586">name</a> =&gt;
      <span class="keyword">val</span> <a title="java.lang.String" id="99587">path</a> = <a href="#99550" title="String">src</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#99586" title="String">name</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99587" title="java.lang.String">path</a><span class="delimiter">)</span>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span> <a href="#55132" title="(src: String, dest: String)Unit">copyDir</a><span class="delimiter">(</span><a href="#99587" title="java.lang.String">path</a>, <a href="#99551" title="String">dest</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#55133" title="(path: String, dest: String)Unit">copyFile</a><span class="delimiter">(</span><a href="#99587" title="java.lang.String">path</a>, <a href="#99551" title="String">dest</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** 
   * Copy the content of a directory to another.
   * @param path path of the file to copy
   * @param dest destination directory path
   */</span>
  <span class="keyword">def</span> <a title="(path: String, dest: String)Unit" id="55133">copyFile</a><span class="delimiter">(</span><a title="String" id="99598">path</a>: <span title="String">String</span>, <a title="String" id="99599">dest</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="FileWriter.scala.html#55199" title="(path: String)Boolean">mkdirs</a><span class="delimiter">(</span><a href="#99599" title="String">dest</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="99602">destFilePath</a> = <a href="#99599" title="String">dest</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99598" title="String">path</a><span class="delimiter">)</span>.<span title="()java.lang.String">getName</span>
    <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#99602" title="java.lang.String">destFilePath</a><span class="delimiter">)</span>.<span title="()Boolean">createNewFile</span>
    <span class="keyword">val</span> <a title="java.io.BufferedInputStream" id="99603">input</a> = <span title="java.io.BufferedInputStream" class="keyword">new</span> <span title="java.io.BufferedInputStream">BufferedInputStream</span><span class="delimiter">(</span><span title="java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#99598" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="java.io.BufferedOutputStream" id="99604">output</a>  = <span title="(x$1: java.io.OutputStream, x$2: Int)java.io.BufferedOutputStream" class="keyword">new</span> <span title="java.io.BufferedOutputStream">BufferedOutputStream</span><span class="delimiter">(</span><span title="java.io.FileOutputStream" class="keyword">new</span> <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#99602" title="java.lang.String">destFilePath</a><span class="delimiter">)</span>, <span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>
    <a href="#55136" title="(input: java.io.InputStream, output: java.io.OutputStream)Unit">copy</a><span class="delimiter">(</span><a href="#99603" title="java.io.BufferedInputStream">input</a>, <a href="#99604" title="java.io.BufferedOutputStream">output</a><span class="delimiter">)</span>
    <a href="#99604" title="java.io.BufferedOutputStream">output</a>.<span title="()Unit">flush</span>
    <a href="#99604" title="java.io.BufferedOutputStream">output</a>.<span title="()Unit">close</span>
    <a href="#99603" title="java.io.BufferedInputStream">input</a>.<span title="()Unit">close</span>
  <span class="delimiter">}</span>  
  <span class="comment">/** 
   * Unjar the jar (or zip file) specified by &quot;path&quot; to the &quot;dest&quot; directory.
   * @param path path of the jar file
   * @param dest destination directory path
   */</span>
  <span class="keyword">def</span> <a title="(path: String, dest: String)Unit" id="55134">unjar</a><span class="delimiter">(</span><a title="String" id="99735">path</a>: <span title="String">String</span>, <a title="String" id="99736">dest</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#55135" title="(path: String, dirPath: String, regexFilter: String)Unit">unjar</a><span class="delimiter">(</span><a href="#99735" title="String">path</a>, <a href="#99736" title="String">dest</a>, <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>
  
  <span class="comment">/** 
   * Unjar the jar (or zip file) specified by &quot;path&quot; to the &quot;dest&quot; directory.
   * Filters files which shouldn't be extracted with a regular expression.
   * @param path path of the jar file
   * @param dest destination directory path
   * @param regexFilter regular expression filtering files which shouldn't be extracted
   */</span>
  <span class="keyword">def</span> <a title="(path: String, dirPath: String, regexFilter: String)Unit" id="55135">unjar</a><span class="delimiter">(</span><a title="String" id="99742">path</a>: <span title="String">String</span>, <a title="String" id="99743">dirPath</a>: <span title="String">String</span>, <a title="String" id="99744">regexFilter</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
	 <a href="FileWriter.scala.html#55199" title="(path: String)Boolean">mkdirs</a><span class="delimiter">(</span><a href="#99743" title="String">dirPath</a><span class="delimiter">)</span>
   <span class="keyword">val</span> <a title="java.io.FileInputStream" id="99746">fis</a> = <span title="java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#99742" title="String">path</a><span class="delimiter">)</span>
   <span class="keyword">val</span> <a title="java.util.zip.ZipInputStream" id="99747">zis</a> = <span title="java.util.zip.ZipInputStream" class="keyword">new</span> <span title="java.util.zip.ZipInputStream">ZipInputStream</span><span class="delimiter">(</span><span title="java.io.BufferedInputStream" class="keyword">new</span> <span title="java.io.BufferedInputStream">BufferedInputStream</span><span class="delimiter">(</span><a href="#99746" title="java.io.FileInputStream">fis</a><span class="delimiter">)</span><span class="delimiter">)</span>
   <span class="keyword">var</span> <a title="java.util.zip.ZipEntry" id="99748">entry</a>: <span title="java.util.zip.ZipEntry">ZipEntry</span> = <span title="Null(null)" class="keyword">null</span>
   <span class="keyword">def</span> <a title="(entry: java.util.zip.ZipEntry)Unit" id="99749">extractEntry</a><span class="delimiter">(</span><a title="java.util.zip.ZipEntry" id="99883">entry</a>: <span title="java.util.zip.ZipEntry">ZipEntry</span><span class="delimiter">)</span> <span class="delimiter">{</span>
     <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#99883" title="java.util.zip.ZipEntry">entry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
       <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#99883" title="java.util.zip.ZipEntry">entry</a>.<span title="()java.lang.String">getName</span>.<span title="(x$1: java.lang.String)Boolean">matches</span><span class="delimiter">(</span><a href="#99744" title="String">regexFilter</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
		     <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#99883" title="java.util.zip.ZipEntry">entry</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span>
		       <a href="#55118" title="(path: String)Boolean">createDir</a><span class="delimiter">(</span><a href="#99743" title="String">dirPath</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#99883" title="java.util.zip.ZipEntry">entry</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
		     <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
		       <a href="FileWriter.scala.html#55197" title="(path: String)AnyVal">createFile</a><span class="delimiter">(</span><a href="#99743" title="String">dirPath</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#99883" title="java.util.zip.ZipEntry">entry</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
		       <span class="keyword">val</span> <a title="java.io.FileOutputStream" id="99888">fos</a> = <span title="java.io.FileOutputStream" class="keyword">new</span> <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#99743" title="String">dirPath</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#99883" title="java.util.zip.ZipEntry">entry</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
		       <span class="keyword">val</span> <a title="java.io.BufferedOutputStream" id="99889">dest</a> = <span title="(x$1: java.io.OutputStream, x$2: Int)java.io.BufferedOutputStream" class="keyword">new</span> <span title="java.io.BufferedOutputStream">BufferedOutputStream</span><span class="delimiter">(</span><a href="#99888" title="java.io.FileOutputStream">fos</a>, <span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>
		       <a href="#55136" title="(input: java.io.InputStream, output: java.io.OutputStream)Unit">copy</a><span class="delimiter">(</span><a href="#99747" title="java.util.zip.ZipInputStream">zis</a>, <a href="#99889" title="java.io.BufferedOutputStream">dest</a><span class="delimiter">)</span>
             <a href="#99889" title="java.io.BufferedOutputStream">dest</a>.<span title="()Unit">flush</span>
		       <a href="#99889" title="java.io.BufferedOutputStream">dest</a>.<span title="()Unit">close</span>
		     <span class="delimiter">}</span>
         
       <span class="delimiter">}</span>
       <a href="#99749" title="(entry: java.util.zip.ZipEntry)Unit">extractEntry</a><span class="delimiter">(</span><a href="#99747" title="java.util.zip.ZipInputStream">zis</a>.<span title="()java.util.zip.ZipEntry">getNextEntry</span><span class="delimiter">)</span>
     <span class="delimiter">}</span>
   <span class="delimiter">}</span> 
   <a href="#99749" title="(entry: java.util.zip.ZipEntry)Unit">extractEntry</a><span class="delimiter">(</span><a href="#99747" title="java.util.zip.ZipInputStream">zis</a>.<span title="()java.util.zip.ZipEntry">getNextEntry</span><span class="delimiter">)</span>
   <a href="#99747" title="java.util.zip.ZipInputStream">zis</a>.<span title="()Unit">close</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** 
   * Copy an input stream to an output stream.
   * @param input input stream
   * @param output output stream
   */</span>
  <span class="keyword">def</span> <a title="(input: java.io.InputStream, output: java.io.OutputStream)Unit" id="55136">copy</a><span class="delimiter">(</span><a title="java.io.InputStream" id="99732">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="99733">output</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[Byte]" id="99973">data</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(count: Int)Unit" id="99974">readData</a><span class="delimiter">(</span><a title="Int" id="99977">count</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#99977" title="Int">count</a> <span title="(x: Int)Boolean">!=</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#99733" title="java.io.OutputStream">output</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#99973" title="Array[Byte]">data</a>, <span title="Int(0)" class="int">0</span>, <a href="#99977" title="Int">count</a><span class="delimiter">)</span>
        <a href="#99733" title="java.io.OutputStream">output</a>.<span title="()Unit">flush</span>
        <a href="#99974" title="(count: Int)Unit">readData</a><span class="delimiter">(</span><a href="#99732" title="java.io.InputStream">input</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Int">read</span><span class="delimiter">(</span><a href="#99973" title="Array[Byte]">data</a>, <span title="Int(0)" class="int">0</span>, <span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#99974" title="(count: Int)Unit">readData</a><span class="delimiter">(</span><a href="#99732" title="java.io.InputStream">input</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Int">read</span><span class="delimiter">(</span><a href="#99973" title="Array[Byte]">data</a>, <span title="Int(0)" class="int">0</span>, <span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** 
   * Copy specs resources found either in the specs jar or in the classpath directories to an output directory
   * 
   * @param src name of the resource directory to copy
   * @param outputDir output directory where to copy the files to
   */</span>
  <span class="keyword">def</span> <a title="(src: String, outputDir: String)Unit" id="55137">copySpecResourcesDir</a><span class="delimiter">(</span><a title="String" id="99988">src</a>: <span title="String">String</span>, <a title="String" id="99989">outputDir</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.net.URL" id="99991">jarUrl</a> = <span title="object java.lang.Thread">Thread</span>.<span title="()java.lang.Thread">currentThread</span>.<span title="()java.lang.ClassLoader">getContextClassLoader</span>.<span title="(x$1: java.lang.String)java.net.URL">getResource</span><span class="delimiter">(</span><a href="#9953" title="()java.lang.Class[_]">getClass</a>.<span title="()java.lang.String">getName</span>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="java.net.URL" id="100744">url</a> &lt;- <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span title="(f: java.net.URL =&gt; Unit)Unit" class="delimiter">(</span><a href="#99991" title="java.net.URL">jarUrl</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#100744" title="java.net.URL">url</a>.<span title="()java.lang.String">toString</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#55135" title="(path: String, dirPath: String, regexFilter: String)Unit">unjar</a><span class="delimiter">(</span><a href="#55138" title="(url: java.net.URL)java.lang.String">getPath</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="#100744" title="java.net.URL">url</a><span class="delimiter">)</span>.<span title="(p: Char =&gt; Boolean)String">takeWhile</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="#100854" title="Char">_</a> <span title="(x: Char)Boolean">!=</span> <span title="Char(\'!\')" class="char">'!'</span><span class="delimiter">)</span>.<span title="=&gt; String">mkString</span>, <a href="#99989" title="String">outputDir</a>, <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#99988" title="String">src</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/.*&quot;)" class="string">&quot;/.*&quot;</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="java.net.URL" id="99992">folderUrl</a> = <span title="object java.lang.Thread">Thread</span>.<span title="()java.lang.Thread">currentThread</span>.<span title="()java.lang.ClassLoader">getContextClassLoader</span>.<span title="(x$1: java.lang.String)java.net.URL">getResource</span><span class="delimiter">(</span><a href="#99988" title="String">src</a><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="java.net.URL" id="100942">url</a> &lt;- <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span title="(f: java.net.URL =&gt; Unit)Unit" class="delimiter">(</span><a href="#99992" title="java.net.URL">folderUrl</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#99992" title="java.net.URL">folderUrl</a>.<span title="()java.lang.String">toString</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#55131" title="(url: java.net.URL, dest: String)Unit">copyDir</a><span class="delimiter">(</span><a href="#100942" title="java.net.URL">url</a>, <a href="#99989" title="String">outputDir</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#99988" title="String">src</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return a path that should be valid on all plateforms (@see issue 148 of the specs project)
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(url: java.net.URL)java.lang.String" id="55138">getPath</a><span class="delimiter">(</span><a title="java.net.URL" id="100749">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="100752">path</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;file.separator&quot;)" class="string">&quot;file.separator&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;\\&quot;)" class="string">&quot;\\&quot;</span><span class="delimiter">)</span> <a href="#100749" title="java.net.URL">url</a>.<span title="()java.lang.String">getPath</span>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\\&quot;)" class="string">&quot;\\&quot;</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;file:/&quot;)" class="string">&quot;file:/&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
	             <span class="keyword">else</span>                                         		 <a href="#100749" title="java.net.URL">url</a>.<span title="()java.lang.String">getPath</span>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;file:&quot;)" class="string">&quot;file:&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

    <a href="#100752" title="java.lang.String">path</a>.<span title="(x$1: java.lang.CharSequence, x$2: java.lang.CharSequence)java.lang.String">replace</span><span class="delimiter">(</span><span title="java.lang.String(&quot;%20&quot;)" class="string">&quot;%20&quot;</span>, <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="comment">/**
 * The fs object offers a simple interface to the file system (see the description of the FileSystem trait)
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="object org.specs2.io.fs" id="9954">fs</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9953" title="org.specs2.io.FileSystem">FileSystem</a>


        </pre>
    </body>
</html>