<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/reporter/NestedBlocks.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> reporter

<span class="keyword">import</span> org.specs2.internal.scalaz._
<span class="keyword">import</span>  <span title="object org.specs2.internal.scalaz.Scalaz">Scalaz</span>._
<span class="keyword">import</span> data.<a href="../data/Trees.scala.html#9635" title="object org.specs2.data.Trees">Trees</a>._
<span class="keyword">import</span> specification.<span class="delimiter">{</span>SpecEnd, SpecStart, Fragment, ExecutedSpecEnd, ExecutedSpecStart, ExecutedFragment<span class="delimiter">}</span>

<span class="comment">/**
* This trait takes a sequence of delimited blocks and uses that information to either:
*
* - define what is the &quot;current&quot; context and makes sure that the current context is overriding the &quot;parent&quot; context
* - sum the &quot;values&quot; of the current context and cumulate the total of children contexts into the parent context
*
*/</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait NestedBlocks extends java.lang.Object with ScalaObject" id="10973">NestedBlocks</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait SpecBlock[T] extends java.lang.Object" id="204093">SpecBlock</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204094">T</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; T" id="204183">value</a>: <a href="#204094" title="T">T</a>
    <span class="keyword">def</span> <a title="(value: T)NestedBlocks.this.SpecBlock[T]" id="204184">update</a><span class="delimiter">(</span><a title="T" id="204658">value</a>: <a href="#204094" title="T">T</a><span class="delimiter">)</span>: <a href="#204093" title="NestedBlocks.this.SpecBlock[T]">SpecBlock</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class BlockStart[T] extends java.lang.Object with NestedBlocks.this.SpecBlock[T] with ScalaObject with Product with Serializable" id="204180">BlockStart</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204182">T</a><span class="delimiter">]</span><a href="#204180" title="ScalaObject" class="delimiter">(</a><a title="T" id="204196">value</a>: <a href="#204182" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#204093" title="NestedBlocks.this.SpecBlock[T]">SpecBlock</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(value: T)NestedBlocks.this.BlockStart[T]" id="204189">update</a><span class="delimiter">(</span><a title="T" id="204656">value</a>: <a href="#204182" title="T">T</a><span class="delimiter">)</span> = <a href="#204180" title="(value: T)NestedBlocks.this.BlockStart[T]">BlockStart</a><span class="delimiter">(</span><a href="#204656" title="T">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class BlockEnd[T] extends java.lang.Object with NestedBlocks.this.SpecBlock[T] with ScalaObject with Product with Serializable" id="204376">BlockEnd</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204378">T</a><span class="delimiter">]</span><a href="#204376" title="ScalaObject" class="delimiter">(</a><a title="T" id="204390">value</a>: <a href="#204378" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#204093" title="NestedBlocks.this.SpecBlock[T]">SpecBlock</a><span class="delimiter">[</span>T<span class="delimiter">]</span>  <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(value: T)NestedBlocks.this.BlockEnd[T]" id="204383">update</a><span class="delimiter">(</span><a title="T" id="204668">value</a>: <a href="#204378" title="T">T</a><span class="delimiter">)</span> = <a href="#204376" title="(value: T)NestedBlocks.this.BlockEnd[T]">BlockEnd</a><span class="delimiter">(</span><a href="#204668" title="T">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class BlockBit[T] extends java.lang.Object with NestedBlocks.this.SpecBlock[T] with ScalaObject with Product with Serializable" id="204564">BlockBit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204566">T</a><span class="delimiter">]</span><a href="#204564" title="ScalaObject" class="delimiter">(</a><a title="T" id="204578">value</a>: <a href="#204566" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#204093" title="NestedBlocks.this.SpecBlock[T]">SpecBlock</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(value: T)NestedBlocks.this.BlockBit[T]" id="204571">update</a><span class="delimiter">(</span><a title="T" id="204679">value</a>: <a href="#204566" title="T">T</a><span class="delimiter">)</span> = <a href="#204564" title="(value: T)NestedBlocks.this.BlockBit[T]">BlockBit</a><span class="delimiter">(</span><a href="#204679" title="T">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[T](b: NestedBlocks.this.SpecBlock[T])Boolean" id="204107">isBlockStart</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204109">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="NestedBlocks.this.SpecBlock[T]" id="213307">b</a>: <a href="#204093" title="NestedBlocks.this.SpecBlock[T]">SpecBlock</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#213307" title="NestedBlocks.this.SpecBlock[T]">b</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(true)">BlockStart</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>; <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[T](b: NestedBlocks.this.SpecBlock[T])Boolean" id="204110">isBlockEnd</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204112">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="NestedBlocks.this.SpecBlock[T]" id="213312">b</a>: <a href="#204093" title="NestedBlocks.this.SpecBlock[T]">SpecBlock</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>   = <a href="#213312" title="NestedBlocks.this.SpecBlock[T]">b</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(true)">BlockEnd</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>; <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[T](b: NestedBlocks.this.SpecBlock[T])Boolean" id="204113">isBlockBit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204115">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="NestedBlocks.this.SpecBlock[T]" id="213317">b</a>: <a href="#204093" title="NestedBlocks.this.SpecBlock[T]">SpecBlock</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>   = <a href="#213317" title="NestedBlocks.this.SpecBlock[T]">b</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(true)">BlockBit</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>; <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

  <span class="comment">/**
   * The context is overriden when we enter a Nested Block.
   * This is used for Arguments management, where arguments of an included specification must override those of the parent
   * one.
   */</span>
  <span class="keyword">def</span> <a title="[T](blocks: Seq[NestedBlocks.this.SpecBlock[T]])(implicit evidence$1: org.specs2.internal.scalaz.Monoid[T])Seq[T]" id="213323">overrideContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204118">T</a> : Monoid<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[NestedBlocks.this.SpecBlock[T]]" id="213322">blocks</a>: <span title="Seq[NestedBlocks.this.SpecBlock[T]]">Seq</span><span class="delimiter">[</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#213333" title="(blocks: Seq[NestedBlocks.this.SpecBlock[T]], f: T =&gt; T)(implicit evidence$2: org.specs2.internal.scalaz.Monoid[T])Seq[T]">overrideContext</a><a href="#213323" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#213322" title="Seq[NestedBlocks.this.SpecBlock[T]]">blocks</a>, <span title="[A](x: A)A">identity</span><a href="#213424" title="(x: T)T" class="delimiter">[</a><a href="#204118" title="T">T</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T, S](blocks: Seq[NestedBlocks.this.SpecBlock[T]], f: T =&gt; S)(implicit evidence$2: org.specs2.internal.scalaz.Monoid[T])Seq[S]" id="213333">overrideContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204122">T</a> : Monoid, <a title="&gt;: Nothing &lt;: Any" id="204123">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[NestedBlocks.this.SpecBlock[T]]" id="213331">blocks</a>: <span title="Seq[NestedBlocks.this.SpecBlock[T]]">Seq</span><span class="delimiter">[</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="T =&gt; S" id="213332">f</a>: T =&gt; S<span class="delimiter">)</span>: <span title="Seq[S]">Seq</span><span class="delimiter">[</span>S<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#213331" title="Seq[NestedBlocks.this.SpecBlock[T]]">blocks</a>.<span title="(z: (List[S], List[T]))(op: ((List[S], List[T]), NestedBlocks.this.SpecBlock[T]) =&gt; (List[S], List[T]))(List[S], List[T])">foldLeft</span><span class="delimiter">(</span><span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><span title="object Nil">Nil</span>: <span title="List[S]">List</span><span class="delimiter">[</span>S<span class="delimiter">]</span>, <span title="object Nil">Nil</span>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="(List[S], List[T])" id="213488">res</a>, <a title="NestedBlocks.this.SpecBlock[T]" id="213489">cur</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a href="#213491" title="(List[S], List[T])" class="delimiter">(</a><a href="#213490" title="List[S]" id="213491">result</a>, <a href="#213490" title="List[T]" id="213492">stack</a><span class="delimiter">)</span> = <a href="#213488" title="(List[S], List[T])">res</a>
      <a href="#213489" title="NestedBlocks.this.SpecBlock[T]">cur</a> <span title="(List[S], List[T])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockStart</span><span class="delimiter">(</span><a title="T" id="213504">value</a><span class="delimiter">)</span>       =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#213491" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#213332" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#213333" title="(x: =&gt; T)org.specs2.internal.scalaz.Identity[T]" class="delimiter">(</a><a href="#213492" title="List[T]">stack</a><span class="delimiter">)</span> <a href="#213333" title="(a: =&gt; T)(implicit s: org.specs2.internal.scalaz.Semigroup[T])T">|+|</a> <a href="#213504" title="T">value</a><span class="delimiter">)</span>, <span class="delimiter">(</span><a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#213333" title="(x: =&gt; T)org.specs2.internal.scalaz.Identity[T]" class="delimiter">(</a><a href="#213492" title="List[T]">stack</a><span class="delimiter">)</span> <a href="#213333" title="(a: =&gt; T)(implicit s: org.specs2.internal.scalaz.Semigroup[T])T">|+|</a> <a href="#213504" title="T">value</a><span class="delimiter">)</span> <a href="#213650" title="(x: T)List[T]">::</a> <a href="#213492" title="List[T]">stack</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockBit</span><span class="delimiter">(</span><a title="T" id="213749">value</a><span class="delimiter">)</span>         =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#213491" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#213332" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#213333" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#213492" title="List[T]">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#213492" title="List[T]">stack</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockEnd</span><span class="delimiter">(</span><a title="T" id="213809">value</a><span class="delimiter">)</span>         =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#213491" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#213332" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#213333" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#213492" title="List[T]">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#204151" title="(stack: List[T])List[T]">pop</a><span class="delimiter">(</span><a href="#213492" title="List[T]">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<span title="=&gt; List[S]">_1</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The context is reset when we enter a Nested Block and totaled when we leave it.
   * This is used for Statistics management where an included specification must start new Statistics then add its
   * total to the parent ones.
   */</span>
  <span class="keyword">def</span> <a title="[T](blocks: Seq[NestedBlocks.this.SpecBlock[T]])(implicit evidence$3: org.specs2.internal.scalaz.Monoid[T])Seq[T]" id="213888">totalContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204126">T</a> : Monoid<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[NestedBlocks.this.SpecBlock[T]]" id="213887">blocks</a>: <span title="Seq[NestedBlocks.this.SpecBlock[T]]">Seq</span><span class="delimiter">[</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#213898" title="(blocks: Seq[NestedBlocks.this.SpecBlock[T]], f: T =&gt; T)(implicit evidence$4: org.specs2.internal.scalaz.Monoid[T])Seq[T]">totalContext</a><a href="#213888" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#213887" title="Seq[NestedBlocks.this.SpecBlock[T]]">blocks</a>, <span title="[A](x: A)A">identity</span><a href="#213986" title="(x: T)T" class="delimiter">[</a><a href="#204126" title="T">T</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T, S](blocks: Seq[NestedBlocks.this.SpecBlock[T]], f: T =&gt; S)(implicit evidence$4: org.specs2.internal.scalaz.Monoid[T])Seq[S]" id="213898">totalContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204130">T</a> : Monoid, <a title="&gt;: Nothing &lt;: Any" id="204131">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[NestedBlocks.this.SpecBlock[T]]" id="213896">blocks</a>: <span title="Seq[NestedBlocks.this.SpecBlock[T]]">Seq</span><span class="delimiter">[</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="T =&gt; S" id="213897">f</a>: T =&gt; S<span class="delimiter">)</span>: <span title="Seq[S]">Seq</span><span class="delimiter">[</span>S<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#213896" title="Seq[NestedBlocks.this.SpecBlock[T]]">blocks</a>.<span title="(z: (List[S], List[T]))(op: ((List[S], List[T]), NestedBlocks.this.SpecBlock[T]) =&gt; (List[S], List[T]))(List[S], List[T])">foldLeft</span><span class="delimiter">(</span><span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><span title="object Nil">Nil</span>: <span title="List[S]">List</span><span class="delimiter">[</span>S<span class="delimiter">]</span>, <span title="object Nil">Nil</span>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="(List[S], List[T])" id="214050">res</a>, <a title="NestedBlocks.this.SpecBlock[T]" id="214051">cur</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a href="#214053" title="(List[S], List[T])" class="delimiter">(</a><a href="#214052" title="List[S]" id="214053">result</a>, <a href="#214052" title="List[T]" id="214054">stack</a><span class="delimiter">)</span> = <a href="#214050" title="(List[S], List[T])">res</a>
      <a href="#214051" title="NestedBlocks.this.SpecBlock[T]">cur</a> <span title="(List[S], List[T])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockStart</span><span class="delimiter">(</span><a title="T" id="214066">value</a><span class="delimiter">)</span>       =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#214053" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#213897" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#214066" title="T">value</a><span class="delimiter">)</span>, <a href="#214066" title="T">value</a> <a href="#214116" title="(x: T)List[T]">::</a> <a href="#214054" title="List[T]">stack</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockBit</span><span class="delimiter">(</span><a title="T" id="214126">value</a><span class="delimiter">)</span>         =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#214053" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#213897" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#214126" title="T">value</a><span class="delimiter">)</span>, <a href="#214167" title="(stack: List[T], value: T)(implicit evidence$7: org.specs2.internal.scalaz.Monoid[T])List[T]">addToTop</a><a href="#213898" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#214054" title="List[T]">stack</a>, <a href="#214126" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockEnd</span><span class="delimiter">(</span><a title="T" id="214321">value</a><span class="delimiter">)</span>         =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#214053" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#213897" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#213898" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#214054" title="List[T]">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#214167" title="(stack: List[T], value: T)(implicit evidence$7: org.specs2.internal.scalaz.Monoid[T])List[T]">addToTop</a><a href="#213898" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#204151" title="(stack: List[T])List[T]">pop</a><span class="delimiter">(</span><a href="#214054" title="List[T]">stack</a><span class="delimiter">)</span>, <a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#213898" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#214054" title="List[T]">stack</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<span title="=&gt; List[S]">_1</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The context is added when we enter a Nested Block and reset when we leave it.
   * This is used for Level management where an included specification must go on with indenting text, then reset
   * to the previous indentation level when finished.
   */</span>
  <span class="keyword">def</span> <a title="[T](blocks: Seq[NestedBlocks.this.SpecBlock[T]])(implicit evidence$5: org.specs2.internal.scalaz.Monoid[T])Seq[T]" id="204722">sumContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204134">T</a> : Monoid<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[NestedBlocks.this.SpecBlock[T]]" id="204721">blocks</a>: <span title="Seq[NestedBlocks.this.SpecBlock[T]]">Seq</span><span class="delimiter">[</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#204698" title="(blocks: Seq[NestedBlocks.this.SpecBlock[T]], f: T =&gt; T)(implicit evidence$6: org.specs2.internal.scalaz.Monoid[T])Seq[T]">sumContext</a><a href="#204722" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#204721" title="Seq[NestedBlocks.this.SpecBlock[T]]">blocks</a>, <span title="[A](x: A)A">identity</span><a href="#214520" title="(x: T)T" class="delimiter">[</a><a href="#204134" title="T">T</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T, S](blocks: Seq[NestedBlocks.this.SpecBlock[T]], f: T =&gt; S)(implicit evidence$6: org.specs2.internal.scalaz.Monoid[T])Seq[S]" id="204698">sumContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204138">T</a> : Monoid, <a title="&gt;: Nothing &lt;: Any" id="204139">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[NestedBlocks.this.SpecBlock[T]]" id="204696">blocks</a>: <span title="Seq[NestedBlocks.this.SpecBlock[T]]">Seq</span><span class="delimiter">[</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="T =&gt; S" id="204697">f</a>: T =&gt; S<span class="delimiter">)</span>: <span title="Seq[S]">Seq</span><span class="delimiter">[</span>S<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#204696" title="Seq[NestedBlocks.this.SpecBlock[T]]">blocks</a>.<span title="(z: (List[S], List[T]))(op: ((List[S], List[T]), NestedBlocks.this.SpecBlock[T]) =&gt; (List[S], List[T]))(List[S], List[T])">foldLeft</span><span class="delimiter">(</span><span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><span title="object Nil">Nil</span>: <span title="List[S]">List</span><span class="delimiter">[</span>S<span class="delimiter">]</span>, <span title="object Nil">Nil</span>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="(List[S], List[T])" id="214584">res</a>, <a title="NestedBlocks.this.SpecBlock[T]" id="214585">cur</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a href="#214587" title="(List[S], List[T])" class="delimiter">(</a><a href="#214586" title="List[S]" id="214587">result</a>, <a href="#214586" title="List[T]" id="214588">stack</a><span class="delimiter">)</span> = <a href="#214584" title="(List[S], List[T])">res</a>
      <a href="#214585" title="NestedBlocks.this.SpecBlock[T]">cur</a> <span title="(List[S], List[T])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockStart</span><span class="delimiter">(</span><a title="T" id="214600">value</a><span class="delimiter">)</span>       =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#214587" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#204697" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#214600" title="T">value</a><span class="delimiter">)</span>, <a href="#214600" title="T">value</a> <a href="#214650" title="(x: T)List[T]">::</a> <a href="#214588" title="List[T]">stack</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockBit</span><span class="delimiter">(</span><a title="T" id="214660">value</a><span class="delimiter">)</span>         =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#214587" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#204697" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#204698" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#214167" title="(stack: List[T], value: T)(implicit evidence$7: org.specs2.internal.scalaz.Monoid[T])List[T]">addToTop</a><a href="#204698" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#214588" title="List[T]">stack</a>, <a href="#214660" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#214167" title="(stack: List[T], value: T)(implicit evidence$7: org.specs2.internal.scalaz.Monoid[T])List[T]">addToTop</a><a href="#204698" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#214588" title="List[T]">stack</a>, <a href="#214660" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[S], List[T])">BlockEnd</span><span class="delimiter">(</span><a title="T" id="214760">value</a><span class="delimiter">)</span>         =&gt; <span title="(_1: List[S], _2: List[T])(List[S], List[T])" class="delimiter">(</span><a href="#214587" title="List[S]">result</a> <span title="(elem: S)(implicit bf: scala.collection.generic.CanBuildFrom[List[S],S,List[S]])List[S]">:+</span> <a href="#204697" title="(v1: T)S">f</a><span class="delimiter">(</span><a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#204698" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#214167" title="(stack: List[T], value: T)(implicit evidence$7: org.specs2.internal.scalaz.Monoid[T])List[T]">addToTop</a><a href="#204698" title="org.specs2.internal.scalaz.Monoid[T]" class="delimiter">(</a><a href="#214588" title="List[T]">stack</a>, <a href="#214760" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#204151" title="(stack: List[T])List[T]">pop</a><span class="delimiter">(</span><a href="#214588" title="List[T]">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>.<span title="=&gt; List[S]">_1</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait TreeNode[T] extends java.lang.Object" id="204140">TreeNode</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204141">T</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(b: NestedBlocks.this.SpecBlock[T])Unit" id="214854">addStart</a><span class="delimiter">(</span><a title="NestedBlocks.this.SpecBlock[T]" id="214856">b</a>: <a href="#204093" title="NestedBlocks.this.SpecBlock[T]">SpecBlock</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](blocks: Seq[NestedBlocks.this.SpecBlock[T]], f: (T, T) =&gt; (T, T))Seq[T]" id="204142">associateStartEnd</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204144">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[NestedBlocks.this.SpecBlock[T]]" id="214857">blocks</a>: <span title="Seq[NestedBlocks.this.SpecBlock[T]]">Seq</span><span class="delimiter">[</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="(T, T) =&gt; (T, T)" id="214858">f</a>: <span class="delimiter">(</span>T, T<span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>T, T<span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#214857" title="Seq[NestedBlocks.this.SpecBlock[T]]">blocks</a>.<span title="=&gt; Option[NestedBlocks.this.SpecBlock[T]]">headOption</span> <span title="Seq[T]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Seq[Nothing]">None</span>         =&gt; <span title="(elems: Nothing*)Seq[Nothing]">Seq</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Seq[T]">Some</span><span class="delimiter">(</span><a title="NestedBlocks.this.SpecBlock[T]" id="214866">start</a><span class="delimiter">)</span>  =&gt; <span class="delimiter">{</span>
        <a href="#214857" title="Seq[NestedBlocks.this.SpecBlock[T]]">blocks</a>.<span title="(n: Int)Seq[NestedBlocks.this.SpecBlock[T]]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(z: org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]])(op: (org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]], NestedBlocks.this.SpecBlock[T]) =&gt; org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]])org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">foldLeft</span><span class="delimiter">(</span><span title="(root: =&gt; NestedBlocks.this.SpecBlock[T])org.specs2.internal.scalaz.Tree[NestedBlocks.this.SpecBlock[T]]">leaf</span><span class="delimiter">(</span><a href="#214866" title="NestedBlocks.this.SpecBlock[T]">start</a><span class="delimiter">)</span>.<span title="=&gt; org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">loc</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]" id="214888">res</a>, <a title="NestedBlocks.this.SpecBlock[T]" id="214889">cur</a><span class="delimiter">)</span> =&gt;
          <a href="#214889" title="NestedBlocks.this.SpecBlock[T]">cur</a> <span title="org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">BlockStart</span><span class="delimiter">(</span><a title="T" id="214891">value</a><span class="delimiter">)</span>       =&gt; <a href="#214888" title="org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">res</a>.<span title="(t: org.specs2.internal.scalaz.Tree[NestedBlocks.this.SpecBlock[T]])org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">insertDownLast</span><span class="delimiter">(</span><span title="(root: =&gt; NestedBlocks.this.SpecBlock[T])org.specs2.internal.scalaz.Tree[NestedBlocks.this.SpecBlock[T]]">leaf</span><span class="delimiter">(</span><a href="#214889" title="NestedBlocks.this.SpecBlock[T]">cur</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">BlockBit</span><span class="delimiter">(</span><a title="T" id="214901">value</a><span class="delimiter">)</span>         =&gt; <a href="../data/Trees.scala.html#69061" title="(t: org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]])org.specs2.data.Trees.TreeLocx[NestedBlocks.this.SpecBlock[T]]">res</a>.<a href="../data/Trees.scala.html#70347" title="(c: NestedBlocks.this.SpecBlock[T])org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">addChild</a><span class="delimiter">(</span><a href="#214889" title="NestedBlocks.this.SpecBlock[T]">cur</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">BlockEnd</span><span class="delimiter">(</span><a title="T" id="214946">value</a><span class="delimiter">)</span>         =&gt; <span class="delimiter">{</span>
              <span class="keyword">val</span> <a href="#214948" title="(T, T)" class="delimiter">(</a><a href="#214947" title="T" id="214948">st</a>, <a href="#214947" title="T" id="214949">en</a><span class="delimiter">)</span> = <a href="#214858" title="(v1: T, v2: T)(T, T)">f</a><span title="(T, T) @unchecked" class="delimiter">(</span><a href="#214888" title="org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">res</a>.<span title="=&gt; NestedBlocks.this.SpecBlock[T]">getLabel</span>.<a href="#204183" title="=&gt; T">value</a>, <a href="#214946" title="T">value</a><span class="delimiter">)</span>
              <a href="../data/Trees.scala.html#69061" title="(t: org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]])org.specs2.data.Trees.TreeLocx[NestedBlocks.this.SpecBlock[T]]">res</a>.<a href="../data/Trees.scala.html#70346" title="(f: NestedBlocks.this.SpecBlock[T] =&gt; NestedBlocks.this.SpecBlock[T])org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">updateLabel</a><a href="../data/Trees.scala.html#69061" title="(t: org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]])org.specs2.data.Trees.TreeLocx[NestedBlocks.this.SpecBlock[T]]" class="delimiter">(</a><a href="#215004" title="NestedBlocks.this.SpecBlock[T]">_</a>.<a href="#204184" title="(value: T)NestedBlocks.this.SpecBlock[T]">update</a><span class="delimiter">(</span><a href="#214948" title="T">st</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../data/Trees.scala.html#70347" title="(c: NestedBlocks.this.SpecBlock[T])org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">addChild</a><a href="../data/Trees.scala.html#69061" title="(t: org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]])org.specs2.data.Trees.TreeLocx[NestedBlocks.this.SpecBlock[T]]" class="delimiter">(</a><a href="#214889" title="NestedBlocks.this.SpecBlock[T]">cur</a>.<a href="#204184" title="(value: T)NestedBlocks.this.SpecBlock[T]">update</a><span class="delimiter">(</span><a href="#214949" title="T">en</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../data/Trees.scala.html#70345" title="=&gt; org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">getParent</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>.<span title="=&gt; org.specs2.internal.scalaz.TreeLoc[NestedBlocks.this.SpecBlock[T]]">root</span>.<span title="=&gt; org.specs2.internal.scalaz.Tree[NestedBlocks.this.SpecBlock[T]]">tree</span>.<span title="=&gt; Stream[NestedBlocks.this.SpecBlock[T]]">flatten</span>.<span title="(f: NestedBlocks.this.SpecBlock[T] =&gt; T)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[NestedBlocks.this.SpecBlock[T]],T,scala.collection.immutable.Stream[T]])scala.collection.immutable.Stream[T]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,T,scala.collection.immutable.Stream[T]]" class="delimiter">(</span><a href="#215114" title="NestedBlocks.this.SpecBlock[T]">_</a>.<a href="#204183" title="=&gt; T">value</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Seq[T]">toSeq</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="keyword">def</span> <a title="[T](stack: List[T], value: T)(implicit evidence$7: org.specs2.internal.scalaz.Monoid[T])List[T]" id="214167">addToTop</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204147">T</a> : Monoid<span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="214165">stack</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="T" id="214166">value</a>: <a href="#204147" title="T">T</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#213528" title="(stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T">top</a><a href="#214167" title="(x: =&gt; T)org.specs2.internal.scalaz.Identity[T]" class="delimiter">(</a><a href="#214165" title="List[T]">stack</a><span class="delimiter">)</span> <a href="#214167" title="(a: =&gt; T)(implicit s: org.specs2.internal.scalaz.Semigroup[T])T">|+|</a> <a href="#214166" title="T">value</a><span class="delimiter">)</span> <a href="#214170" title="(x: T)List[T]">::</a> <a href="#204151" title="(stack: List[T])List[T]">pop</a><span class="delimiter">(</span><a href="#214165" title="List[T]">stack</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](stack: List[T])(implicit evidence$8: org.specs2.internal.scalaz.Monoid[T])T" id="213528">top</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204150">T</a> : Monoid<span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="213527">stack</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#204150" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.Monoid[T]" id="215153">monoid</a> = <span title="[T](implicit e: T)T">implicitly</span><a href="#213528" title="(implicit e: org.specs2.internal.scalaz.Monoid[T])org.specs2.internal.scalaz.Monoid[T]" class="delimiter">[</a><span title="org.specs2.internal.scalaz.Monoid[T]">Monoid</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
    <a href="#213527" title="List[T]">stack</a>.<span title="=&gt; Option[T]">headOption</span>.<span title="(default: =&gt; T)T">getOrElse</span><span class="delimiter">(</span><a href="#215153" title="org.specs2.internal.scalaz.Monoid[T]">monoid</a>.<span title="=&gt; T">zero</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[T](stack: List[T])List[T]" id="204151">pop</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204153">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="213866">stack</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#213866" title="List[T]">stack</a>.<span title="(n: Int)List[T]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](f: (T, T) =&gt; (T, T))(NestedBlocks.this.SpecBlock[T], NestedBlocks.this.SpecBlock[T]) =&gt; (NestedBlocks.this.SpecBlock[T], NestedBlocks.this.SpecBlock[T])" id="204154">lift</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="204156">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(T, T) =&gt; (T, T)" id="215160">f</a>: <span class="delimiter">(</span>T, T<span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>T, T<span class="delimiter">)</span><span class="delimiter">)</span>: <span class="delimiter">(</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span>, SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span>, SpecBlock<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <span class="delimiter">(</span><a title="NestedBlocks.this.SpecBlock[T]" id="215164">b1</a>, <a title="NestedBlocks.this.SpecBlock[T]" id="215165">b2</a><span class="delimiter">)</span> =&gt;
    <span class="keyword">val</span> <a href="#215167" title="(T, T)" class="delimiter">(</a><a href="#215166" title="T" id="215167">updated1</a>, <a href="#215166" title="T" id="215168">updated2</a><span class="delimiter">)</span> = <a href="#215160" title="(v1: T, v2: T)(T, T)">f</a><span title="(T, T) @unchecked" class="delimiter">(</span><a href="#215164" title="NestedBlocks.this.SpecBlock[T]">b1</a>.<a href="#204183" title="=&gt; T">value</a>, <a href="#215165" title="NestedBlocks.this.SpecBlock[T]">b2</a>.<a href="#204183" title="=&gt; T">value</a><span class="delimiter">)</span>
    <span title="(_1: NestedBlocks.this.SpecBlock[T], _2: NestedBlocks.this.SpecBlock[T])(NestedBlocks.this.SpecBlock[T], NestedBlocks.this.SpecBlock[T])" class="delimiter">(</span><a href="#215164" title="NestedBlocks.this.SpecBlock[T]">b1</a>.<a href="#204184" title="(value: T)NestedBlocks.this.SpecBlock[T]">update</a><span class="delimiter">(</span><a href="#215167" title="T">updated1</a><span class="delimiter">)</span>, <a href="#215165" title="NestedBlocks.this.SpecBlock[T]">b2</a>.<a href="#204184" title="(value: T)NestedBlocks.this.SpecBlock[T]">update</a><span class="delimiter">(</span><a href="#215168" title="T">updated2</a><span class="delimiter">)</span><span class="delimiter">)</span> 
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="=&gt; org.specs2.specification.Fragment =&gt; Product with Serializable with NestedBlocks.this.SpecBlock[org.specs2.specification.Fragment]" id="204157">fragmentsToSpecBlock</a> = <span class="delimiter">(</span>f: <a href="../specification/Fragment.scala.html#11467" title="org.specs2.specification.Fragment">Fragment</a><span class="delimiter">)</span> =&gt; <a href="#215193" title="org.specs2.specification.Fragment">f</a> <span title="&lt;none&gt; extends Product with Serializable with NestedBlocks.this.SpecBlock[org.specs2.specification.Fragment]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="NestedBlocks.this.BlockStart[org.specs2.specification.Fragment]">SpecStart</span><span class="delimiter">(</span>_,_,_,_<span class="delimiter">)</span>   =&gt; <a href="#204180" title="(value: org.specs2.specification.Fragment)NestedBlocks.this.BlockStart[org.specs2.specification.Fragment]">BlockStart</a><span class="delimiter">(</span><a href="#215193" title="org.specs2.specification.Fragment">f</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="NestedBlocks.this.BlockEnd[org.specs2.specification.Fragment]">SpecEnd</span><span class="delimiter">(</span>_<span class="delimiter">)</span>           =&gt; <a href="#204376" title="(value: org.specs2.specification.Fragment)NestedBlocks.this.BlockEnd[org.specs2.specification.Fragment]">BlockEnd</a><span class="delimiter">(</span><a href="#215193" title="org.specs2.specification.Fragment">f</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="NestedBlocks.this.BlockBit[org.specs2.specification.Fragment]" id="215200">other</a>                =&gt; <a href="#204564" title="(value: org.specs2.specification.Fragment)NestedBlocks.this.BlockBit[org.specs2.specification.Fragment]">BlockBit</a><span class="delimiter">(</span><a href="#215193" title="org.specs2.specification.Fragment">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; org.specs2.specification.ExecutedFragment =&gt; Product with Serializable with NestedBlocks.this.SpecBlock[org.specs2.specification.ExecutedFragment]" id="204158">executedFragmentsToSpecBlock</a> = <span class="delimiter">(</span>f: <a href="../specification/ExecutedFragment.scala.html#11396" title="org.specs2.specification.ExecutedFragment">ExecutedFragment</a><span class="delimiter">)</span> =&gt; <a href="#215237" title="org.specs2.specification.ExecutedFragment">f</a> <span title="&lt;none&gt; extends Product with Serializable with NestedBlocks.this.SpecBlock[org.specs2.specification.ExecutedFragment]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="NestedBlocks.this.BlockStart[org.specs2.specification.ExecutedFragment]">ExecutedSpecStart</span><span class="delimiter">(</span>_,_,_<span class="delimiter">)</span> =&gt; <a href="#204180" title="(value: org.specs2.specification.ExecutedFragment)NestedBlocks.this.BlockStart[org.specs2.specification.ExecutedFragment]">BlockStart</a><span class="delimiter">(</span><a href="#215237" title="org.specs2.specification.ExecutedFragment">f</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="NestedBlocks.this.BlockEnd[org.specs2.specification.ExecutedFragment]">ExecutedSpecEnd</span><span class="delimiter">(</span>_,_,_<span class="delimiter">)</span>   =&gt; <a href="#204376" title="(value: org.specs2.specification.ExecutedFragment)NestedBlocks.this.BlockEnd[org.specs2.specification.ExecutedFragment]">BlockEnd</a><span class="delimiter">(</span><a href="#215237" title="org.specs2.specification.ExecutedFragment">f</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="NestedBlocks.this.BlockBit[org.specs2.specification.ExecutedFragment]" id="215244">other</a>                    =&gt; <a href="#204564" title="(value: org.specs2.specification.ExecutedFragment)NestedBlocks.this.BlockBit[org.specs2.specification.ExecutedFragment]">BlockBit</a><span class="delimiter">(</span><a href="#215237" title="org.specs2.specification.ExecutedFragment">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="object org.specs2.reporter.NestedBlocks" id="10974">NestedBlocks</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10973" title="org.specs2.reporter.NestedBlocks">NestedBlocks</a>

        </pre>
    </body>
</html>