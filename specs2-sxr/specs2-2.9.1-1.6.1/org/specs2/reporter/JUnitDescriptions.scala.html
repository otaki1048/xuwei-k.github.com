<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/specs2/reporter/JUnitDescriptions.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.specs2
<span class="keyword">package</span> reporter

<span class="keyword">import</span> _root_.org.junit.runner._
<span class="keyword">import</span> org.specs2.data.<a href="../data/Trees.scala.html#9635" title="object org.specs2.data.Trees">Trees</a>._
<span class="keyword">import</span> org.specs2.internal.scalaz._
<span class="keyword">import</span> org.specs2.internal.scalaz.<span title="object org.specs2.internal.scalaz.Scalaz">Scalaz</span>._
<span class="keyword">import</span> org.specs2.internal.scalaz.<span title="object org.specs2.internal.scalaz.Traverse">Traverse</span>._
<span class="keyword">import</span> main.Arguments
<span class="keyword">import</span> specification._
<span class="keyword">import</span> control.<span class="delimiter">{</span>ExecutionOrigin, Stacktraces<span class="delimiter">}</span>
<span class="keyword">import</span> text.<a href="../text/Trim.scala.html#11777" title="object org.specs2.text.Trim">Trim</a>.<a href="../text/Trim.scala.html#17236" title="object org.specs2.text.Trim.Trimmed">Trimmed</a>._
<span class="keyword">import</span> java.util.regex.Matcher

<span class="comment">/**
 * The JUnit descriptions class transforms a list of fragments
 * to:
 * 
 * * a Description object having children Descriptions. It is used by the JUnitRunner
 *   to display the suites and tests to execute
 * * a Map of Fragments to execute, or executed fragments, indexed by Description: Description -&gt; Fragment
 * 
 * The Description object creation works by using the Levels reducer to build a Tree[Description].
 * That Tree is then folded bottom-up to create the necessary associations between the 
 * Description objects. 
 * 
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class JUnitDescriptions[F] extends java.lang.Object with org.specs2.reporter.JUnitDescriptionMaker[F] with ScalaObject" id="10892">JUnitDescriptions</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10893">F</a><span class="delimiter">]</span><a href="#10892" title="ScalaObject" class="delimiter">(</a><a title="Class[_]" id="208503">specificationClass</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.internal.scalaz.Reducer[F,org.specs2.reporter.Levels[F]]" id="208504">reducer</a>: <span title="org.specs2.internal.scalaz.Reducer[F,org.specs2.reporter.Levels[F]]">Reducer</span><span class="delimiter">[</span>F, Levels<span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10894" title="org.specs2.reporter.JUnitDescriptionMaker[F]">JUnitDescriptionMaker</a><span class="delimiter">[</span>F<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="Levels.scala.html#10940" title="object org.specs2.reporter.Levels">Levels</a>._

  <span class="comment">/**
   * @return fragment that must be used as the root description if the specification is empty
   */</span>
  <span class="keyword">def</span> <a title="(s: Class[_])F" id="208281">initialFragment</a><span class="delimiter">(</span><a title="Class[_]" id="208494">s</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10893" title="F">F</a>

  <span class="keyword">implicit</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="(org.junit.runner.Description, F)" id="208283">initial</a> = <span title="(_1: org.junit.runner.Description, _2: F)(org.junit.runner.Description, F)" class="delimiter">(</span><a href="#208285" title="=&gt; org.junit.runner.Description">specificationDescription</a>, <a href="#208281" title="(s: Class[_])F">initialFragment</a><span class="delimiter">(</span><a href="#208503" title="Class[_]">specificationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(fs: Seq[F])(implicit args: org.specs2.main.Arguments)org.specs2.reporter.DescriptionAndExamples[(org.junit.runner.Description, F)]" id="208284">foldAll</a><span class="delimiter">(</span><a title="Seq[F]" id="208509">fs</a>: <span title="Seq[F]">Seq</span><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="208510">args</a>: <a href="../main/Arguments.scala.html#10033" title="org.specs2.main.Arguments">Arguments</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.specs2.reporter.Levels[F]" id="208513">leveledFragments</a> = <a href="Levels.scala.html#10940" title="object org.specs2.reporter.Levels">Levels</a>.<a href="Levels.scala.html#198532" title="(fs: Seq[F])(implicit reducer: org.specs2.internal.scalaz.Reducer[F,org.specs2.reporter.Levels[F]])org.specs2.reporter.Levels[F]">foldAll</a><a href="#208504" title="org.specs2.internal.scalaz.Reducer[F,org.specs2.reporter.Levels[F]]" class="delimiter">(</a><a href="#208509" title="Seq[F]">fs</a><span class="delimiter">)</span>

    <span title="org.specs2.reporter.DescriptionAndExamples[(org.junit.runner.Description, F)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#208513" title="org.specs2.reporter.Levels[F]">leveledFragments</a>.<a href="Levels.scala.html#198551" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <a href="#210563" title="(description: org.junit.runner.Description, executions: Stream[(org.junit.runner.Description, F)])org.specs2.reporter.DescriptionAndExamples[(org.junit.runner.Description, F)]">DescriptionAndExamples</a><span class="delimiter">(</span><a href="#208285" title="=&gt; org.junit.runner.Description">specificationDescription</a>, <span title="(elems: (org.junit.runner.Description, F)*)Seq[(org.junit.runner.Description, F)]">Seq</span><span class="delimiter">(</span><a href="#208282" title="=&gt; (org.junit.runner.Description, F)">initial</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Stream[(org.junit.runner.Description, F)]">toStream</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]" id="209770">descriptionTree</a> = <a href="#208513" title="org.specs2.reporter.Levels[F]">leveledFragments</a>.<a href="Levels.scala.html#198559" title="[S](m: (F, Seq[S], Int) =&gt; Option[S])org.specs2.internal.scalaz.Tree[S]">toTree</a><span title="(m: (F, Seq[(org.junit.runner.Description, F)], Int) =&gt; Option[(org.junit.runner.Description, F)])org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]" class="delimiter">[</span><span title="(org.junit.runner.Description, F)">DescribedFragment</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#208265" title="(klass: Class[_])(F, Seq[(org.junit.runner.Description, F)], Int) =&gt; Option[(org.junit.runner.Description, F)]">mapper</a><span class="delimiter">(</span><a href="#208503" title="Class[_]">specificationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)] =&gt; Option[(org.junit.runner.Description, F)]" id="209771">removeDanglingText</a> = <span class="delimiter">(</span>t: <span title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">Tree</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <a href="#209795" title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">t</a>.<span title="=&gt; (org.junit.runner.Description, F)">rootLabel</span>  <span title="Option[(org.junit.runner.Description, F)]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Option[(org.junit.runner.Description, F)]" class="delimiter">(</span><a title="org.junit.runner.Description" id="209798">desc</a>, Text<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#209795" title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">t</a>.<span title="=&gt; Stream[org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]]">subForest</span>.<span title="=&gt; Boolean">isEmpty</span>  =&gt; <span class="delimiter">(</span><span title="object None">None</span>:<span title="Option[(org.junit.runner.Description, F)]">Option</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Some[(org.junit.runner.Description, F)]" id="209806">other</a>                                   =&gt; <span title="(x: (org.junit.runner.Description, F))Some[(org.junit.runner.Description, F)]">Some</span><span class="delimiter">(</span><a href="#209795" title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">t</a>.<span title="=&gt; (org.junit.runner.Description, F)">rootLabel</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]" id="209772">prunedDescriptionTree</a> = <a href="../data/Trees.scala.html#69028" title="(t: org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)])org.specs2.data.Trees.Treex[(org.junit.runner.Description, F)]">descriptionTree</a>.<a href="../data/Trees.scala.html#69094" title="(f: org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)] =&gt; Option[(org.junit.runner.Description, F)])(implicit initial: (org.junit.runner.Description, F))org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">prune</a><a href="#208282" title="=&gt; (org.junit.runner.Description, F)" class="delimiter">(</a><a href="#209771" title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)] =&gt; Option[(org.junit.runner.Description, F)]">removeDanglingText</a><span class="delimiter">)</span>
      <a href="#210563" title="(description: org.junit.runner.Description, executions: Stream[(org.junit.runner.Description, F)])org.specs2.reporter.DescriptionAndExamples[(org.junit.runner.Description, F)]">DescriptionAndExamples</a><span class="delimiter">(</span><a href="#208266" title="(descriptionTree: org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)])(implicit args: org.specs2.main.Arguments)org.junit.runner.Description">asOneDescription</a><a href="#208510" title="org.specs2.main.Arguments" class="delimiter">(</a><a href="#209772" title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">prunedDescriptionTree</a><span class="delimiter">)</span>, <a href="#209772" title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">prunedDescriptionTree</a>.<span title="=&gt; Stream[(org.junit.runner.Description, F)]">flatten</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.junit.runner.Description" id="208286">specificationDescription</a> = <a href="#208270" title="(testClass: Class[_], suiteName: String, testName: String, label: String)org.junit.runner.Description">createDescription</a><span class="delimiter">(</span><a href="#208503" title="Class[_]">specificationClass</a>, <a href="#208503" title="Class[_]">specificationClass</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>specs2<span class="delimiter">]</span>
<span class="keyword">trait</span> <a title="trait JUnitDescriptionMaker[F] extends java.lang.Object with org.specs2.control.ExecutionOrigin with ScalaObject" id="10894">JUnitDescriptionMaker</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10895">F</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="../control/ExecutionOrigin.scala.html#9558" title="org.specs2.control.ExecutionOrigin">ExecutionOrigin</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="(org.junit.runner.Description, F)" id="208264">DescribedFragment</a> = <span title="(org.junit.runner.Description, F)" class="delimiter">(</span>Description, F<span class="delimiter">)</span>
  <span class="comment">/**
   * This function is used to map each node in a Tree[Fragment] to a pair of 
   * (Description, Fragment)
   * 
   * The Int argument is the numeric label of the current TreeNode being mapped.
   * It is used to create a unique description of the example to executed which is required
   * by JUnit
   */</span>
  <span class="keyword">def</span> <a title="(klass: Class[_])(F, Seq[(org.junit.runner.Description, F)], Int) =&gt; Option[(org.junit.runner.Description, F)]" id="208265">mapper</a><span class="delimiter">(</span><a title="Class[_]" id="209777">klass</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="delimiter">(</span>F, Seq<span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span>, Int<span class="delimiter">)</span> =&gt; Option<span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span>
  <span class="comment">/**
   * @return a Description with parent-child relationships to other Description objects
   *         from a Tree[Description]
   */</span>
  <span class="keyword">def</span> <a title="(descriptionTree: org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)])(implicit args: org.specs2.main.Arguments)org.junit.runner.Description" id="208266">asOneDescription</a><span class="delimiter">(</span><a title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]" id="210466">descriptionTree</a>: <span title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">Tree</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="org.specs2.main.Arguments" id="209880">args</a>: <a href="../main/Arguments.scala.html#10033" title="org.specs2.main.Arguments">Arguments</a> = <a href="../main/Arguments.scala.html#71244" title="(implicit arguments: String*)org.specs2.main.Arguments">Arguments</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="org.junit.runner.Description">Description</span> = <span class="delimiter">{</span>
    <span title="org.junit.runner.Description" class="keyword">if</span> <span class="delimiter">(</span><a href="#209880" title="org.specs2.main.Arguments">args</a>.<a href="../main/Arguments.scala.html#50458" title="=&gt; Boolean">noindent</a><span class="delimiter">)</span>
      <a href="#210466" title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">descriptionTree</a>.<span title="=&gt; Stream[(org.junit.runner.Description, F)]">flatten</span>.<span title="(n: Int)scala.collection.immutable.Stream[(org.junit.runner.Description, F)]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(z: (org.junit.runner.Description, F))(op: ((org.junit.runner.Description, F), (org.junit.runner.Description, F)) =&gt; (org.junit.runner.Description, F))(org.junit.runner.Description, F)">foldLeft</span><span class="delimiter">(</span><a href="#210466" title="org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">descriptionTree</a>.<span title="=&gt; (org.junit.runner.Description, F)">rootLabel</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#208269" title="=&gt; ((org.junit.runner.Description, F), (org.junit.runner.Description, F)) =&gt; (org.junit.runner.Description, F)">flattenChildren</a><span class="delimiter">)</span>.<span title="=&gt; org.junit.runner.Description">_1</span>
    <span class="keyword">else</span>
      <a href="../data/Trees.scala.html#69028" title="(t: org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)])org.specs2.data.Trees.Treex[(org.junit.runner.Description, F)]">descriptionTree</a>.<a href="../data/Trees.scala.html#69088" title="(f: ((org.junit.runner.Description, F), Stream[(org.junit.runner.Description, F)]) =&gt; (org.junit.runner.Description, F))org.specs2.internal.scalaz.Tree[(org.junit.runner.Description, F)]">bottomUp</a><span class="delimiter">(</span><a href="#208267" title="=&gt; ((org.junit.runner.Description, F), Stream[(org.junit.runner.Description, F)]) =&gt; (org.junit.runner.Description, F)">addChildren</a><span class="delimiter">)</span>.<span title="=&gt; (org.junit.runner.Description, F)">rootLabel</span>.<span title="=&gt; org.junit.runner.Description">_1</span>
  <span class="delimiter">}</span>
  <span class="comment">/** 
   * unfolding function attaching children descriptions their parent
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="((org.junit.runner.Description, F), Stream[(org.junit.runner.Description, F)]) =&gt; (org.junit.runner.Description, F)" id="208267">addChildren</a> = <span class="delimiter">(</span>desc: <span title="(org.junit.runner.Description, F)" class="delimiter">(</span>Description, F<span class="delimiter">)</span>, children: <span title="Stream[(org.junit.runner.Description, F)]">Stream</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <a href="#209904" title="Stream[(org.junit.runner.Description, F)]">children</a>.<span title="(f: (org.junit.runner.Description, F) =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="(org.junit.runner.Description, F)" id="209927">child</a> =&gt; <a href="#209903" title="(org.junit.runner.Description, F)">desc</a>.<span title="=&gt; org.junit.runner.Description">_1</span>.<span title="(x$1: org.junit.runner.Description)Unit">addChild</span><span class="delimiter">(</span><a href="#209927" title="(org.junit.runner.Description, F)">child</a>.<span title="=&gt; org.junit.runner.Description">_1</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <a href="#209903" title="(org.junit.runner.Description, F)">desc</a>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * unfolding function attaching children descriptions the root
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; ((org.junit.runner.Description, F), (org.junit.runner.Description, F)) =&gt; (org.junit.runner.Description, F)" id="208269">flattenChildren</a> = <span class="delimiter">(</span>result: <span title="(org.junit.runner.Description, F)">DescribedFragment</span>, current: <span title="(org.junit.runner.Description, F)">DescribedFragment</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <a href="#209973" title="(org.junit.runner.Description, F)">result</a>.<span title="=&gt; org.junit.runner.Description">_1</span>.<span title="(x$1: org.junit.runner.Description)Unit">addChild</span><span class="delimiter">(</span><a href="#209974" title="(org.junit.runner.Description, F)">current</a>.<span title="=&gt; org.junit.runner.Description">_1</span><span class="delimiter">)</span>
    <a href="#209973" title="(org.junit.runner.Description, F)">result</a>
  <span class="delimiter">}</span>
  <span class="comment">/** @return a sanitized description */</span>
  <span class="keyword">def</span> <a title="(testClass: Class[_], suiteName: String, testName: String, label: String)org.junit.runner.Description" id="208270">createDescription</a><span class="delimiter">(</span><a title="Class[_]" id="208294">testClass</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="208300">suiteName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a title="String" id="208301">testName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a title="String" id="208302">label</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="208303">origin</a> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../control/ExecutionOrigin.scala.html#60316" title="=&gt; Boolean">isExecutedFromAnIDE</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#208302" title="String">label</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#208302" title="String">label</a>
      <span class="keyword">else</span> <a href="#208294" title="Class[_]">testClass</a>.<span title="()java.lang.String">getName</span>

    <span class="keyword">val</span> <a title="java.lang.String" id="208304">desc</a>=
      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#208301" title="String">testName</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#208300" title="String">suiteName</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#208294" title="Class[_]">testClass</a>.<span title="()java.lang.String">getName</span> <span class="keyword">else</span> <a href="#208300" title="String">suiteName</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#208274" title="(s: String)java.lang.String">sanitize</a><span class="delimiter">(</span><a href="#208301" title="String">testName</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#208303" title="String">origin</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    
    <span title="object org.junit.runner.Description">Description</span>.<span title="(x$1: java.lang.String, x$2: &lt;repeated...&gt;[java.lang.annotation.Annotation])org.junit.runner.Description">createSuiteDescription</span><span class="delimiter">(</span><a href="#208304" title="java.lang.String">desc</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> text.<a href="../text/Trim.scala.html#11777" title="object org.specs2.text.Trim">Trim</a>._

  <span class="comment">/** @return a seq containing the path of an example without the root name */</span>
  <span class="keyword">def</span> <a title="(parentNodes: Seq[(org.junit.runner.Description, F)])Seq[java.lang.String]" id="208272">parentPath</a><span class="delimiter">(</span><a title="Seq[(org.junit.runner.Description, F)]" id="210026">parentNodes</a>: <span title="Seq[(org.junit.runner.Description, F)]">Seq</span><span class="delimiter">[</span>DescribedFragment<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#210026" title="Seq[(org.junit.runner.Description, F)]">parentNodes</a>.<span title="(n: Int)Seq[(org.junit.runner.Description, F)]">drop</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(f: (org.junit.runner.Description, F) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(org.junit.runner.Description, F)],java.lang.String,Seq[java.lang.String]])Seq[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.String,Seq[java.lang.String]]" class="delimiter">(</span><a href="#210052" title="(org.junit.runner.Description, F)">_</a>.<span title="=&gt; org.junit.runner.Description">_1</span>.<span title="()java.lang.String">getDisplayName</span><span class="delimiter">)</span>

  <span class="comment">/** @return a test name with no newlines */</span>
  <span class="keyword">def</span> <a title="(s: String, parentNodes: Seq[String])String" id="208273">testName</a><span class="delimiter">(</span><a title="String" id="210072">s</a>: <span title="String">String</span>, <a title="Seq[String]" id="210075">parentNodes</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(elems: Nothing*)Seq[Nothing]">Seq</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#210075" title="Seq[String]">parentNodes</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="../control/ExecutionOrigin.scala.html#60316" title="=&gt; Boolean">isExecutedFromAnIDE</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#210075" title="Seq[String]">parentNodes</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;::&quot;)" class="string">&quot;::&quot;</span>, <span title="java.lang.String(&quot;::&quot;)" class="string">&quot;::&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
    <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../control/ExecutionOrigin.scala.html#60316" title="=&gt; Boolean">isExecutedFromAnIDE</a><span class="delimiter">)</span> <a href="../text/Trim.scala.html#208261" title="(s: String)org.specs2.text.Trim.Trimmed">Trimmed</a><span class="delimiter">(</span><a href="#210072" title="String">s</a><span class="delimiter">)</span>.<a href="../text/Trim.scala.html#44994" title="=&gt; String">removeNewLines</a> <span class="keyword">else</span> <a href="../text/Trim.scala.html#208261" title="(s: String)org.specs2.text.Trim.Trimmed">Trimmed</a><span class="delimiter">(</span><a href="#210072" title="String">s</a><span class="delimiter">)</span>.<a href="../text/Trim.scala.html#44993" title="=&gt; String">trimNewLines</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">/** @return replace () with [] because it cause display issues in JUnit plugins */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)java.lang.String" id="208274">sanitize</a><span class="delimiter">(</span><a title="String" id="208307">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="208310">trimmed</a> = <a href="../text/Trim.scala.html#208261" title="(s: String)org.specs2.text.Trim.Trimmed">Trimmed</a><span class="delimiter">(</span><a href="#208307" title="String">s</a><span class="delimiter">)</span>.<a href="../text/Trim.scala.html#44997" title="(pairs: (String, String)*)java.lang.String">trimReplace</a><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;(&quot;</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>,  <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;)&quot;</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
    <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#208310" title="java.lang.String">trimmed</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
    <span class="keyword">else</span> <a href="#208310" title="java.lang.String">trimmed</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="comment">/**
 * Utility class grouping the total description + fragments to execute for each Description
 */</span>
case <span class="keyword">class</span> <a title="class DescriptionAndExamples[T] extends java.lang.Object with ScalaObject with Product with Serializable" id="210563">DescriptionAndExamples</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="209727">T</a><span class="delimiter">]</span><a href="#210563" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="org.junit.runner.Description" id="209741">description</a>: <span title="org.junit.runner.Description">Description</span>, <a title="Stream[T]" id="209742">executions</a>: <span title="Stream[T]">Stream</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>

        </pre>
    </body>
</html>