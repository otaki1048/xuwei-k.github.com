<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>fj/F.java</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> fj;

<span class="keyword">import</span> fj.control.parallel.Actor;
<span class="keyword">import</span> fj.control.parallel.Promise;
<span class="keyword">import</span> fj.control.parallel.Strategy;
<span class="keyword">import</span> fj.data.Array;
<span class="keyword">import</span> fj.data.Either;
<span class="keyword">import</span> fj.data.IterableW;
<span class="keyword">import</span> fj.data.List;
<span class="keyword">import</span> fj.data.NonEmptyList;
<span class="keyword">import</span> fj.data.Option;
<span class="keyword">import</span> fj.data.Set;
<span class="keyword">import</span> fj.data.Stream;
<span class="keyword">import</span> fj.data.Tree;
<span class="keyword">import</span> fj.data.TreeZipper;
<span class="keyword">import</span> fj.data.Validation;
<span class="keyword">import</span> fj.data.Zipper;

<span class="keyword">import</span> java.util.ArrayList;
<span class="keyword">import</span> java.util.LinkedList;
<span class="keyword">import</span> java.util.PriorityQueue;
<span class="keyword">import</span> java.util.TreeSet;
<span class="keyword">import</span> java.util.concurrent.ArrayBlockingQueue;
<span class="keyword">import</span> java.util.concurrent.ConcurrentLinkedQueue;
<span class="keyword">import</span> java.util.concurrent.CopyOnWriteArrayList;
<span class="keyword">import</span> java.util.concurrent.CopyOnWriteArraySet;
<span class="keyword">import</span> java.util.concurrent.LinkedBlockingQueue;
<span class="keyword">import</span> java.util.concurrent.PriorityBlockingQueue;
<span class="keyword">import</span> java.util.concurrent.SynchronousQueue;

<span class="keyword">import</span> static fj.data.Option.some;
<span class="keyword">import</span> static fj.data.Stream.iterableStream;
<span class="keyword">import</span> static fj.data.Zipper.fromStream;

<span class="comment">/**
 * A transformation or function from &lt;code&gt;A&lt;/code&gt; to &lt;code&gt;B&lt;/code&gt;. This type can be represented
 * using the Java 7 closure syntax.
 *
 * @version %build.number%
 */</span>
public <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="object fj.F" id="9532">F</a>&lt;<a title="Nothing" id="9533">A</a>, <a title="Nothing" id="9534">B</a>&gt; <span class="delimiter">{</span>
  <span class="comment">/**
   * Transform &lt;code&gt;A&lt;/code&gt; to &lt;code&gt;B&lt;/code&gt;.
   *
   * @param a The &lt;code&gt;A&lt;/code&gt; to transform.
   * @return The result of the transformation.
   */</span>
  public <span class="keyword">abstract</span> <a href="#9534" title="B">B</a> <a title="(a: A)B" id="13510">f</a><span class="delimiter">(</span><a href="#9533" title="A">A</a> <a title="A" id="19654">a</a><span class="delimiter">)</span>;


  <span class="comment">/**
   * Function composition
   *
   * @param g A function to compose with this one.
   * @return The composed function such that this function is applied last.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13513">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#13513" title="C">C</a>, <a href="#9534" title="B">B</a>&gt; <a title="[C](g: fj.F[C,A])fj.F[C,B]" id="13511">o</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#13513" title="C">C</a>, <a href="#9533" title="A">A</a>&gt; <a title="fj.F[C,A]" id="19655">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;C, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public B f<span class="delimiter">(</span><span class="keyword">final</span> C c<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F.<span class="keyword">this</span>.f<span class="delimiter">(</span>g.f<span class="delimiter">(</span>c<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * First-class function composition
   *
   * @return A function that composes this function with another.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13516">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9532" title="fj.F">F</a>&lt;<a href="#13516" title="C">C</a>, <a href="#9533" title="A">A</a>&gt;, <a href="#9532" title="fj.F">F</a>&lt;<a href="#13516" title="C">C</a>, <a href="#9534" title="B">B</a>&gt;&gt; <a title="[C]()fj.F[fj.F[C,A],fj.F[C,B]]" id="13514">o</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;F&lt;C, A&gt;, F&lt;C, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;C, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;C, A&gt; g<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F.<span class="keyword">this</span>.o<span class="delimiter">(</span>g<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Function composition flipped.
   *
   * @param g A function with which to compose this one.
   * @return The composed function such that this function is applied first.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13519">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13519" title="C">C</a>&gt; <a title="[C](g: fj.F[B,C])fj.F[A,C]" id="13517">andThen</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#13519" title="C">C</a>&gt; <a title="fj.F[B,C]" id="19657">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> g.o<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * First-class composition flipped.
   *
   * @return A function that invokes this function and then a given function on the result.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13522">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#13522" title="C">C</a>&gt;, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13522" title="C">C</a>&gt;&gt; <a title="[C]()fj.F[fj.F[B,C],fj.F[A,C]]" id="13520">andThen</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;F&lt;B, C&gt;, F&lt;A, C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;A, C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;B, C&gt; g<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F.<span class="keyword">this</span>.andThen<span class="delimiter">(</span>g<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds a given function across this function (Reader Monad).
   *
   * @param g A function that takes the return value of this function as an argument, yielding a new function.
   * @return A function that invokes this function on its argument and then the given function on the result.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13525">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13525" title="C">C</a>&gt; <a title="[C](g: fj.F[B,fj.F[A,C]])fj.F[A,C]" id="13523">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13525" title="C">C</a>&gt;&gt; <a title="fj.F[B,fj.F[A,C]]" id="19659">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, C&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
      public C f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> g.f<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * First-class function binding.
   *
   * @return A function that binds another function across this function.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13528">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13528" title="C">C</a>&gt;&gt;, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13528" title="C">C</a>&gt;&gt; <a title="[C]()fj.F[fj.F[B,fj.F[A,C]],fj.F[A,C]]" id="13526">bind</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;F&lt;B, F&lt;A, C&gt;&gt;, F&lt;A, C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;A, C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;B, F&lt;A, C&gt;&gt; g<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F.<span class="keyword">this</span>.bind<span class="delimiter">(</span>g<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Function application in an environment (Applicative Functor).
   *
   * @param g A function with the same argument type as this function, yielding a function that takes the return
   *          value of this function.
   * @return A new function that invokes the given function on its argument, yielding a new function that is then
   *         applied to the result of applying this function to the argument.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13531">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13531" title="C">C</a>&gt; <a title="[C](g: fj.F[A,fj.F[B,C]])fj.F[A,C]" id="13529">apply</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#13531" title="C">C</a>&gt;&gt; <a title="fj.F[A,fj.F[B,C]]" id="19661">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, C&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
      public C f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> g.f<span class="delimiter">(</span>a<span class="delimiter">)</span>.f<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * First-class function application in an environment.
   *
   * @return A function that applies a given function within the environment of this function.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13534">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#13534" title="C">C</a>&gt;&gt;, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13534" title="C">C</a>&gt;&gt; <a title="[C]()fj.F[fj.F[A,fj.F[B,C]],fj.F[A,C]]" id="13532">apply</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;F&lt;A, F&lt;B, C&gt;&gt;, F&lt;A, C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;A, C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, F&lt;B, C&gt;&gt; g<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F.<span class="keyword">this</span>.apply<span class="delimiter">(</span>g<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Applies this function over the arguments of another function.
   *
   * @param g The function over whose arguments to apply this function.
   * @return A new function that invokes this function on its arguments before invoking the given function.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13537">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13537" title="C">C</a>&gt;&gt; <a title="[C](g: fj.F[B,fj.F[B,C]])fj.F[A,fj.F[A,C]]" id="13535">on</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#13537" title="C">C</a>&gt;&gt; <a title="fj.F[B,fj.F[B,C]]" id="19663">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, F&lt;A, C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;A, C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a1<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, C&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
          public C f<span class="delimiter">(</span><span class="keyword">final</span> A a2<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> g.f<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a1<span class="delimiter">)</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a2<span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Applies this function over the arguments of another function.
   *
   * @return A function that applies this function over the arguments of another function.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13540">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9534" title="B">B</a>, <a href="#13540" title="C">C</a>&gt;&gt;, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13540" title="C">C</a>&gt;&gt;&gt; <a title="[C]()fj.F[fj.F[B,fj.F[B,C]],fj.F[A,fj.F[A,C]]]" id="13538">on</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;F&lt;B, F&lt;B, C&gt;&gt;, F&lt;A, F&lt;A, C&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;A, F&lt;A, C&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;B, F&lt;B, C&gt;&gt; g<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F.<span class="keyword">this</span>.on<span class="delimiter">(</span>g<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result in a product-1. Kleisli arrow for P1.
   *
   * @return This function promoted to return its result in a product-1.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, <a href="P1.java.html#9697" title="fj.P1">P1</a>&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.P1[B]]" id="13541" class="keyword">lazy</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, P1&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public P1&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> P1&lt;B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public B _1<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a product-1.
   *
   * @return This function promoted to map over a product-1.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="P1.java.html#9697" title="fj.P1">P1</a>&lt;<a href="#9533" title="A">A</a>&gt;, <a href="P1.java.html#9697" title="fj.P1">P1</a>&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.P1[A],fj.P1[B]]" id="13542">mapP1</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;P1&lt;A&gt;, P1&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public P1&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> P1&lt;A&gt; p<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> p.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result in an Option. Kleisli arrow for Option.
   *
   * @return This function promoted to return its result in an Option.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Option&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.Option[B]]" id="13543">optionK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Option&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> some<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over an optional value.
   *
   * @return This function promoted to map over an optional value.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Option&lt;<a href="#9533" title="A">A</a>&gt;, Option&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.data.Option[A],fj.data.Option[B]]" id="13544">mapOption</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Option&lt;A&gt;, Option&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Option&lt;A&gt; o<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> o.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result in a List. Kleisli arrow for List.
   *
   * @return This function promoted to return its result in a List.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, List&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.List[B]]" id="13545">listK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, List&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> List.single<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a List.
   *
   * @return This function promoted to map over a List.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;List&lt;<a href="#9533" title="A">A</a>&gt;, List&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.data.List[A],fj.data.List[B]]" id="13546">mapList</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, List&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; x<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> x.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result in a Stream. Kleisli arrow for Stream.
   *
   * @return This function promoted to return its result in a Stream.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Stream&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.Stream[B]]" id="13547">streamK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Stream&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Stream&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Stream.single<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a Stream.
   *
   * @return This function promoted to map over a Stream.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Stream&lt;<a href="#9533" title="A">A</a>&gt;, Stream&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.data.Stream[A],fj.data.Stream[B]]" id="13548">mapStream</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Stream&lt;A&gt;, Stream&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Stream&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Stream&lt;A&gt; x<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> x.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result in a Array. Kleisli arrow for Array.
   *
   * @return This function promoted to return its result in a Array.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Array&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.Array[B]]" id="13549">arrayK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Array&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Array&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Array.single<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a Array.
   *
   * @return This function promoted to map over a Array.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Array&lt;<a href="#9533" title="A">A</a>&gt;, Array&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.data.Array[A],fj.data.Array[B]]" id="13550">mapArray</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Array&lt;A&gt;, Array&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Array&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Array&lt;A&gt; x<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> x.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that comaps over a given actor.
   *
   * @return A function that comaps over a given actor.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Actor&lt;<a href="#9534" title="B">B</a>&gt;, Actor&lt;<a href="#9533" title="A">A</a>&gt;&gt; <a title="()fj.F[fj.control.parallel.Actor[B],fj.control.parallel.Actor[A]]" id="13551">comapActor</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Actor&lt;B&gt;, Actor&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Actor&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Actor&lt;B&gt; a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a.comap<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a concurrent function that returns a Promise of a value.
   *
   * @param s A parallel strategy for concurrent execution.
   * @return A concurrent function that returns a Promise of a value.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Promise&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="(s: fj.control.parallel.Strategy[fj.Unit])fj.F[A,fj.control.parallel.Promise[B]]" id="13552">promiseK</a><span class="delimiter">(</span><span class="keyword">final</span> Strategy&lt;<a href="Unit.java.html#9820" title="fj.Unit">Unit</a>&gt; <a title="fj.control.parallel.Strategy[fj.Unit]" id="19674">s</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Promise.promise<span class="delimiter">(</span>s, <span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a Promise.
   *
   * @return This function promoted to map over Promises.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Promise&lt;<a href="#9533" title="A">A</a>&gt;, Promise&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.control.parallel.Promise[A],fj.control.parallel.Promise[B]]" id="13553">mapPromise</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Promise&lt;A&gt;, Promise&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Promise&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Promise&lt;A&gt; p<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> p.fmap<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result on the left side of an Either.
   * Kleisli arrow for the Either left projection.
   *
   * @return This function promoted to return its result on the left side of an Either.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13556">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Either&lt;<a href="#9534" title="B">B</a>, <a href="#13556" title="C">C</a>&gt;&gt; <a title="[C]()fj.F[A,fj.data.Either[B,C]]" id="13554">eitherLeftK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Either.&lt;B, C&gt;left_<span class="delimiter">(</span><span class="delimiter">)</span>.o<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result on the right side of an Either.
   * Kleisli arrow for the Either right projection.
   *
   * @return This function promoted to return its result on the right side of an Either.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13559">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Either&lt;<a href="#13559" title="C">C</a>, <a href="#9534" title="B">B</a>&gt;&gt; <a title="[C]()fj.F[A,fj.data.Either[C,B]]" id="13557">eitherRightK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Either.&lt;C, B&gt;right_<span class="delimiter">(</span><span class="delimiter">)</span>.o<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over the left side of an Either.
   *
   * @return This function promoted to map over the left side of an Either.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13562">X</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;Either&lt;<a href="#9533" title="A">A</a>, <a href="#13562" title="X">X</a>&gt;, Either&lt;<a href="#9534" title="B">B</a>, <a href="#13562" title="X">X</a>&gt;&gt; <a title="[X]()fj.F[fj.data.Either[A,X],fj.data.Either[B,X]]" id="13560">mapLeft</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Either.&lt;A, X, B&gt;leftMap_<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over the right side of an Either.
   *
   * @return This function promoted to map over the right side of an Either.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13565">X</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;Either&lt;<a href="#13565" title="X">X</a>, <a href="#9533" title="A">A</a>&gt;, Either&lt;<a href="#13565" title="X">X</a>, <a href="#9534" title="B">B</a>&gt;&gt; <a title="[X]()fj.F[fj.data.Either[X,A],fj.data.Either[X,B]]" id="13563">mapRight</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Either.&lt;X, A, B&gt;rightMap_<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that returns the left side of a given Either, or this function applied to the right side.
   *
   * @return a function that returns the left side of a given Either, or this function applied to the right side.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Either&lt;<a href="#9534" title="B">B</a>, <a href="#9533" title="A">A</a>&gt;, <a href="#9534" title="B">B</a>&gt; <a title="()fj.F[fj.data.Either[B,A],B]" id="13566">onLeft</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Either&lt;B, A&gt;, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public B f<span class="delimiter">(</span><span class="keyword">final</span> Either&lt;B, A&gt; either<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> either.left<span class="delimiter">(</span><span class="delimiter">)</span>.on<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that returns the right side of a given Either, or this function applied to the left side.
   *
   * @return a function that returns the right side of a given Either, or this function applied to the left side.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Either&lt;<a href="#9533" title="A">A</a>, <a href="#9534" title="B">B</a>&gt;, <a href="#9534" title="B">B</a>&gt; <a title="()fj.F[fj.data.Either[A,B],B]" id="13567">onRight</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Either&lt;A, B&gt;, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public B f<span class="delimiter">(</span><span class="keyword">final</span> Either&lt;A, B&gt; either<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> either.right<span class="delimiter">(</span><span class="delimiter">)</span>.on<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to return its value in an Iterable.
   *
   * @return This function promoted to return its value in an Iterable.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, IterableW&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.IterableW[B]]" id="13568">iterableK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> IterableW.&lt;A, B&gt;arrow<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over Iterables.
   *
   * @return This function promoted to map over Iterables.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Iterable&lt;<a href="#9533" title="A">A</a>&gt;, IterableW&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[java.lang.Iterable[A],fj.data.IterableW[B]]" id="13569">mapIterable</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> IterableW.&lt;A, B&gt;map<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>.o<span class="delimiter">(</span>IterableW.&lt;A, Iterable&lt;A&gt;&gt;wrap<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to return its value in a NonEmptyList.
   *
   * @return This function promoted to return its value in a NonEmptyList.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, NonEmptyList&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.NonEmptyList[B]]" id="13570">nelK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> NonEmptyList.&lt;B&gt;nel<span class="delimiter">(</span><span class="delimiter">)</span>.o<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a NonEmptyList.
   *
   * @return This function promoted to map over a NonEmptyList.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;NonEmptyList&lt;<a href="#9533" title="A">A</a>&gt;, NonEmptyList&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.data.NonEmptyList[A],fj.data.NonEmptyList[B]]" id="13571">mapNel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;NonEmptyList&lt;A&gt;, NonEmptyList&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public NonEmptyList&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> NonEmptyList&lt;A&gt; list<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> list.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to return its value in a Set.
   *
   * @param o An order for the set.
   * @return This function promoted to return its value in a Set.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Set&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="(o: fj.Ord[B])fj.F[A,fj.data.Set[B]]" id="13572">setK</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="Ord.java.html#9680" title="fj.Ord">Ord</a>&lt;<a href="#9534" title="B">B</a>&gt; <a title="fj.Ord[B]" id="19824">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Set&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Set&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Set.single<span class="delimiter">(</span>o, F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a Set.
   *
   * @param o An order for the resulting set.
   * @return This function promoted to map over a Set.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Set&lt;<a href="#9533" title="A">A</a>&gt;, Set&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="(o: fj.Ord[B])fj.F[fj.data.Set[A],fj.data.Set[B]]" id="13573">mapSet</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="Ord.java.html#9680" title="fj.Ord">Ord</a>&lt;<a href="#9534" title="B">B</a>&gt; <a title="fj.Ord[B]" id="19843">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Set&lt;A&gt;, Set&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Set&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Set&lt;A&gt; set<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> set.map<span class="delimiter">(</span>o, F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to return its value in a Tree.
   *
   * @return This function promoted to return its value in a Tree.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Tree&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.Tree[B]]" id="13574">treeK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Tree&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Tree&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Tree.leaf<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a Tree.
   *
   * @return This function promoted to map over a Tree.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Tree&lt;<a href="#9533" title="A">A</a>&gt;, Tree&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.data.Tree[A],fj.data.Tree[B]]" id="13575">mapTree</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Tree.&lt;A, B&gt;fmap_<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that maps this function over a tree and folds it with the given monoid.
   *
   * @param m The monoid with which to fold the mapped tree.
   * @return a function that maps this function over a tree and folds it with the given monoid.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Tree&lt;<a href="#9533" title="A">A</a>&gt;, <a href="#9534" title="B">B</a>&gt; <a title="(m: fj.Monoid[B])fj.F[fj.data.Tree[A],B]" id="13576">foldMapTree</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="Monoid.java.html#9663" title="fj.Monoid">Monoid</a>&lt;<a href="#9534" title="B">B</a>&gt; <a title="fj.Monoid[B]" id="19844">m</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Tree.foldMap_<span class="delimiter">(</span>F.<span class="keyword">this</span>, m<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to return its value in a TreeZipper.
   *
   * @return This function promoted to return its value in a TreeZipper.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, TreeZipper&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.TreeZipper[B]]" id="13577">treeZipperK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> treeK<span class="delimiter">(</span><span class="delimiter">)</span>.andThen<span class="delimiter">(</span>TreeZipper.&lt;B&gt;fromTree<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a TreeZipper.
   *
   * @return This function promoted to map over a TreeZipper.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;TreeZipper&lt;<a href="#9533" title="A">A</a>&gt;, TreeZipper&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.data.TreeZipper[A],fj.data.TreeZipper[B]]" id="13578">mapTreeZipper</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;TreeZipper&lt;A&gt;, TreeZipper&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public TreeZipper&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> TreeZipper&lt;A&gt; zipper<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> zipper.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result on the failure side of a Validation.
   * Kleisli arrow for the Validation failure projection.
   *
   * @return This function promoted to return its result on the failure side of a Validation.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13581">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Validation&lt;<a href="#9534" title="B">B</a>, <a href="#13581" title="C">C</a>&gt;&gt; <a title="[C]()fj.F[A,fj.data.Validation[B,C]]" id="13579">failK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Validation&lt;B, C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Validation&lt;B, C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Validation.fail<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function so that it returns its result on the success side of an Validation.
   * Kleisli arrow for the Validation success projection.
   *
   * @return This function promoted to return its result on the success side of an Validation.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13584">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Validation&lt;<a href="#13584" title="C">C</a>, <a href="#9534" title="B">B</a>&gt;&gt; <a title="[C]()fj.F[A,fj.data.Validation[C,B]]" id="13582">successK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Validation&lt;C, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Validation&lt;C, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Validation.success<span class="delimiter">(</span>F.<span class="keyword">this</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over the failure side of a Validation.
   *
   * @return This function promoted to map over the failure side of a Validation.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13587">X</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;Validation&lt;<a href="#9533" title="A">A</a>, <a href="#13587" title="X">X</a>&gt;, Validation&lt;<a href="#9534" title="B">B</a>, <a href="#13587" title="X">X</a>&gt;&gt; <a title="[X]()fj.F[fj.data.Validation[A,X],fj.data.Validation[B,X]]" id="13585">mapFail</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Validation&lt;A, X&gt;, Validation&lt;B, X&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Validation&lt;B, X&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Validation&lt;A, X&gt; validation<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> validation.f<span class="delimiter">(</span><span class="delimiter">)</span>.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over the success side of a Validation.
   *
   * @return This function promoted to map over the success side of a Validation.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13590">X</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;Validation&lt;<a href="#13590" title="X">X</a>, <a href="#9533" title="A">A</a>&gt;, Validation&lt;<a href="#13590" title="X">X</a>, <a href="#9534" title="B">B</a>&gt;&gt; <a title="[X]()fj.F[fj.data.Validation[X,A],fj.data.Validation[X,B]]" id="13588">mapSuccess</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Validation&lt;X, A&gt;, Validation&lt;X, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Validation&lt;X, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Validation&lt;X, A&gt; validation<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> validation.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that returns the failure side of a given Validation,
   * or this function applied to the success side.
   *
   * @return a function that returns the failure side of a given Validation,
   *         or this function applied to the success side.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Validation&lt;<a href="#9534" title="B">B</a>, <a href="#9533" title="A">A</a>&gt;, <a href="#9534" title="B">B</a>&gt; <a title="()fj.F[fj.data.Validation[B,A],B]" id="13591">onFail</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Validation&lt;B, A&gt;, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public B f<span class="delimiter">(</span><span class="keyword">final</span> Validation&lt;B, A&gt; v<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> v.f<span class="delimiter">(</span><span class="delimiter">)</span>.on<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that returns the success side of a given Validation,
   * or this function applied to the failure side.
   *
   * @return a function that returns the success side of a given Validation,
   *         or this function applied to the failure side.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Validation&lt;<a href="#9533" title="A">A</a>, <a href="#9534" title="B">B</a>&gt;, <a href="#9534" title="B">B</a>&gt; <a title="()fj.F[fj.data.Validation[A,B],B]" id="13592">onSuccess</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Validation&lt;A, B&gt;, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public B f<span class="delimiter">(</span><span class="keyword">final</span> Validation&lt;A, B&gt; v<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> v.on<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to return its value in a Zipper.
   *
   * @return This function promoted to return its value in a Zipper.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="#9533" title="A">A</a>, Zipper&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[A,fj.data.Zipper[B]]" id="13593">zipperK</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> streamK<span class="delimiter">(</span><span class="delimiter">)</span>.andThen<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Stream&lt;B&gt;, Zipper&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Zipper&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Stream&lt;B&gt; stream<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> fromStream<span class="delimiter">(</span>stream<span class="delimiter">)</span>.some<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a Zipper.
   *
   * @return This function promoted to map over a Zipper.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;Zipper&lt;<a href="#9533" title="A">A</a>&gt;, Zipper&lt;<a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.data.Zipper[A],fj.data.Zipper[B]]" id="13594">mapZipper</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Zipper&lt;A&gt;, Zipper&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Zipper&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Zipper&lt;A&gt; zipper<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> zipper.map<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over an Equal as a contravariant functor.
   *
   * @return This function promoted to map over an Equal as a contravariant functor.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="Equal.java.html#9498" title="fj.Equal">Equal</a>&lt;<a href="#9534" title="B">B</a>&gt;, <a href="Equal.java.html#9498" title="fj.Equal">Equal</a>&lt;<a href="#9533" title="A">A</a>&gt;&gt; <a title="()fj.F[fj.Equal[B],fj.Equal[A]]" id="13595">comapEqual</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Equal&lt;B&gt;, Equal&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Equal&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Equal&lt;B&gt; equal<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> equal.comap<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a Hash as a contravariant functor.
   *
   * @return This function promoted to map over a Hash as a contravariant functor.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="Hash.java.html#9646" title="fj.Hash">Hash</a>&lt;<a href="#9534" title="B">B</a>&gt;, <a href="Hash.java.html#9646" title="fj.Hash">Hash</a>&lt;<a href="#9533" title="A">A</a>&gt;&gt; <a title="()fj.F[fj.Hash[B],fj.Hash[A]]" id="13596">comapHash</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Hash&lt;B&gt;, Hash&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Hash&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Hash&lt;B&gt; hash<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> hash.comap<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over a Show as a contravariant functor.
   *
   * @return This function promoted to map over a Show as a contravariant functor.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="Show.java.html#9815" title="fj.Show">Show</a>&lt;<a href="#9534" title="B">B</a>&gt;, <a href="Show.java.html#9815" title="fj.Show">Show</a>&lt;<a href="#9533" title="A">A</a>&gt;&gt; <a title="()fj.F[fj.Show[B],fj.Show[A]]" id="13597">comapShow</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Show&lt;B&gt;, Show&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Show&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Show&lt;B&gt; s<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> s.comap<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over the first element of a pair.
   *
   * @return This function promoted to map over the first element of a pair.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13600">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="P2.java.html#9705" title="fj.P2">P2</a>&lt;<a href="#9533" title="A">A</a>, <a href="#13600" title="C">C</a>&gt;, <a href="P2.java.html#9705" title="fj.P2">P2</a>&lt;<a href="#9534" title="B">B</a>, <a href="#13600" title="C">C</a>&gt;&gt; <a title="[C]()fj.F[fj.P2[A,C],fj.P2[B,C]]" id="13598">mapFst</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> P2.map1_<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over the second element of a pair.
   *
   * @return This function promoted to map over the second element of a pair.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="13603">C</a>&gt; <a href="#9532" title="fj.F">F</a>&lt;<a href="P2.java.html#9705" title="fj.P2">P2</a>&lt;<a href="#13603" title="C">C</a>, <a href="#9533" title="A">A</a>&gt;, <a href="P2.java.html#9705" title="fj.P2">P2</a>&lt;<a href="#13603" title="C">C</a>, <a href="#9534" title="B">B</a>&gt;&gt; <a title="[C]()fj.F[fj.P2[C,A],fj.P2[C,B]]" id="13601">mapSnd</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> P2.map2_<span class="delimiter">(</span>F.<span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to map over both elements of a pair.
   *
   * @return This function promoted to map over both elements of a pair.
   */</span>
  public <span class="keyword">final</span> <a href="#9532" title="fj.F">F</a>&lt;<a href="P2.java.html#9705" title="fj.P2">P2</a>&lt;<a href="#9533" title="A">A</a>, <a href="#9533" title="A">A</a>&gt;, <a href="P2.java.html#9705" title="fj.P2">P2</a>&lt;<a href="#9534" title="B">B</a>, <a href="#9534" title="B">B</a>&gt;&gt; <a title="()fj.F[fj.P2[A,A],fj.P2[B,B]]" id="13604">mapBoth</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;P2&lt;A, A&gt;, P2&lt;B, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public P2&lt;B, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> P2&lt;A, A&gt; aap2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> P2.map<span class="delimiter">(</span>F.<span class="keyword">this</span>, aap2<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over a SynchronousQueue.
   *
   * @param as A SynchronousQueue to map this function over.
   * @return A new SynchronousQueue with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> SynchronousQueue&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.concurrent.SynchronousQueue[A])java.util.concurrent.SynchronousQueue[B]" id="13605">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> SynchronousQueue&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.concurrent.SynchronousQueue[A]" id="19979">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> SynchronousQueue&lt;B&gt; bs = <span class="keyword">new</span> SynchronousQueue&lt;B&gt;<span class="delimiter">(</span><span class="delimiter">)</span>;
    bs.addAll<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> bs;
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Maps this function over a PriorityBlockingQueue.
   *
   * @param as A PriorityBlockingQueue to map this function over.
   * @return A new PriorityBlockingQueue with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> PriorityBlockingQueue&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.concurrent.PriorityBlockingQueue[A])java.util.concurrent.PriorityBlockingQueue[B]" id="13606">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> PriorityBlockingQueue&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.concurrent.PriorityBlockingQueue[A]" id="20621">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> PriorityBlockingQueue&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over a LinkedBlockingQueue.
   *
   * @param as A LinkedBlockingQueue to map this function over.
   * @return A new LinkedBlockingQueue with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> LinkedBlockingQueue&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.concurrent.LinkedBlockingQueue[A])java.util.concurrent.LinkedBlockingQueue[B]" id="13607">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> LinkedBlockingQueue&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.concurrent.LinkedBlockingQueue[A]" id="20771">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> LinkedBlockingQueue&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over a CopyOnWriteArraySet.
   *
   * @param as A CopyOnWriteArraySet to map this function over.
   * @return A new CopyOnWriteArraySet with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> CopyOnWriteArraySet&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.concurrent.CopyOnWriteArraySet[A])java.util.concurrent.CopyOnWriteArraySet[B]" id="13608">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> CopyOnWriteArraySet&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.concurrent.CopyOnWriteArraySet[A]" id="20845">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> CopyOnWriteArraySet&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over a CopyOnWriteArrayList.
   *
   * @param as A CopyOnWriteArrayList to map this function over.
   * @return A new CopyOnWriteArrayList with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> CopyOnWriteArrayList&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.concurrent.CopyOnWriteArrayList[A])java.util.concurrent.CopyOnWriteArrayList[B]" id="13609">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> CopyOnWriteArrayList&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.concurrent.CopyOnWriteArrayList[A]" id="20945">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> CopyOnWriteArrayList&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over a ConcurrentLinkedQueue.
   *
   * @param as A ConcurrentLinkedQueue to map this function over.
   * @return A new ConcurrentLinkedQueue with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> ConcurrentLinkedQueue&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.concurrent.ConcurrentLinkedQueue[A])java.util.concurrent.ConcurrentLinkedQueue[B]" id="13610">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> ConcurrentLinkedQueue&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.concurrent.ConcurrentLinkedQueue[A]" id="21152">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> ConcurrentLinkedQueue&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over an ArrayBlockingQueue.
   *
   * @param as An ArrayBlockingQueue to map this function over.
   * @return A new ArrayBlockingQueue with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> ArrayBlockingQueue&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.concurrent.ArrayBlockingQueue[A])java.util.concurrent.ArrayBlockingQueue[B]" id="13611">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> ArrayBlockingQueue&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.concurrent.ArrayBlockingQueue[A]" id="21656">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> ArrayBlockingQueue&lt;B&gt; bs = <span class="keyword">new</span> ArrayBlockingQueue&lt;B&gt;<span class="delimiter">(</span>as.size<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    bs.addAll<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> bs;
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Maps this function over a TreeSet.
   *
   * @param as A TreeSet to map this function over.
   * @return A new TreeSet with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> TreeSet&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.TreeSet[A])java.util.TreeSet[B]" id="13612">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> TreeSet&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.TreeSet[A]" id="21743">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> TreeSet&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over a PriorityQueue.
   *
   * @param as A PriorityQueue to map this function over.
   * @return A new PriorityQueue with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> PriorityQueue&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.PriorityQueue[A])java.util.PriorityQueue[B]" id="13613">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> PriorityQueue&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.PriorityQueue[A]" id="21900">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> PriorityQueue&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over a LinkedList.
   *
   * @param as A LinkedList to map this function over.
   * @return A new LinkedList with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> LinkedList&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.LinkedList[A])java.util.LinkedList[B]" id="13614">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> LinkedList&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.LinkedList[A]" id="21970">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> LinkedList&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps this function over an ArrayList.
   *
   * @param as An ArrayList to map this function over.
   * @return A new ArrayList with this function applied to each element.
   */</span>
  public <span class="keyword">final</span> ArrayList&lt;<a href="#9534" title="B">B</a>&gt; <a title="(as: java.util.ArrayList[A])java.util.ArrayList[B]" id="13615">mapJ</a><span class="delimiter">(</span><span class="keyword">final</span> ArrayList&lt;<a href="#9533" title="A">A</a>&gt; <a title="java.util.ArrayList[A]" id="22222">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;B&gt;<span class="delimiter">(</span>iterableStream<span class="delimiter">(</span>as<span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>