<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>fj/Semigroup.java</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> fj;

<span class="keyword">import</span> static fj.Function.curry;

<span class="keyword">import</span> fj.data.Array;
<span class="keyword">import</span> fj.data.List;
<span class="keyword">import</span> fj.data.Natural;
<span class="keyword">import</span> fj.data.NonEmptyList;
<span class="keyword">import</span> fj.data.Option;
<span class="keyword">import</span> fj.data.Set;
<span class="keyword">import</span> fj.data.Stream;

<span class="keyword">import</span> java.math.BigInteger;
<span class="keyword">import</span> java.math.BigDecimal;

<span class="comment">/**
 * Implementations must satisfy the law of associativity:
 * &lt;ul&gt;
 * &lt;li&gt;&lt;em&gt;Associativity&lt;/em&gt;; forall x. forall y. forall z. sum(sum(x, y), z) == sum(x, sum(y, z))&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * @version %build.number%
 */</span>
public <span class="keyword">final</span> <span class="keyword">class</span> <a title="object fj.Semigroup" id="9782">Semigroup</a>&lt;<a title="Nothing" id="9783">A</a>&gt; <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#9783" title="A">A</a>, <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#9783" title="A">A</a>, <a href="#9783" title="A">A</a>&gt;&gt; <a title="fj.F[A,fj.F[A,A]]" id="23473">sum</a>;

  <span class="keyword">private</span> Semigroup<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, F&lt;A, A&gt;&gt; sum<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">this</span>.sum = sum;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sums the two given arguments.
   *
   * @param a1 A value to sum with another.
   * @param a2 A value to sum with another.
   * @return The of the two given arguments.
   */</span>
  public <a href="#9783" title="A">A</a> <a title="(a1: A, a2: A)A" id="23475">sum</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9783" title="A">A</a> <a title="A" id="24807">a1</a>, <span class="keyword">final</span> <a href="#9783" title="A">A</a> <a title="A" id="24808">a2</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> sum.f<span class="delimiter">(</span>a1<span class="delimiter">)</span>.f<span class="delimiter">(</span>a2<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that sums the given value according to this semigroup.
   *
   * @param a1 The value to sum.
   * @return A function that sums the given value according to this semigroup.
   */</span>
  public <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#9783" title="A">A</a>, <a href="#9783" title="A">A</a>&gt; <a title="(a1: A)fj.F[A,A]" id="23476">sum</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9783" title="A">A</a> <a title="A" id="24809">a1</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> sum.f<span class="delimiter">(</span>a1<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that sums according to this semigroup.
   *
   * @return A function that sums according to this semigroup.
   */</span>
  public <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#9783" title="A">A</a>, <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#9783" title="A">A</a>, <a href="#9783" title="A">A</a>&gt;&gt; <a title="()fj.F[A,fj.F[A,A]]" id="23477">sum</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> sum;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a semigroup from the given function.
   *
   * @param sum The function to construct this semigroup with.
   * @return A semigroup from the given function.
   */</span>
  public static &lt;<a title="Nothing" id="24712">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="#24712" title="A">A</a>&gt; <a title="[A](sum: fj.F[A,fj.F[A,A]])fj.Semigroup[A]" id="24710">semigroup</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#24712" title="A">A</a>, <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#24712" title="A">A</a>, <a href="#24712" title="A">A</a>&gt;&gt; <a title="fj.F[A,fj.F[A,A]]" id="24782">sum</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Semigroup&lt;A&gt;<span class="delimiter">(</span>sum<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a semigroup from the given function.
   *
   * @param sum The function to construct this semigroup with.
   * @return A semigroup from the given function.
   */</span>
  public static &lt;<a title="Nothing" id="24715">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="#24715" title="A">A</a>&gt; <a title="[A](sum: fj.F2[A,A,A])fj.Semigroup[A]" id="24713">semigroup</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="F2.java.html#9555" title="fj.F2">F2</a>&lt;<a href="#24715" title="A">A</a>, <a href="#24715" title="A">A</a>, <a href="#24715" title="A">A</a>&gt; <a title="fj.F2[A,A,A]" id="24785">sum</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Semigroup&lt;A&gt;<span class="delimiter">(</span>curry<span class="delimiter">(</span>sum<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup that adds integers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Integer&gt; <a title="fj.Semigroup[java.lang.Integer]" id="24716">intAdditionSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Integer, Integer, Integer&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Integer f<span class="delimiter">(</span><span class="keyword">final</span> Integer i1, <span class="keyword">final</span> Integer i2<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> i1 + i2;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that adds doubles.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Double&gt; <a title="fj.Semigroup[java.lang.Double]" id="24717">doubleAdditionSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Double, Double, Double&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Double f<span class="delimiter">(</span><span class="keyword">final</span> Double d1, <span class="keyword">final</span> Double d2<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> d1 + d2;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that multiplies integers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Integer&gt; <a title="fj.Semigroup[java.lang.Integer]" id="24718">intMultiplicationSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Integer, Integer, Integer&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Integer f<span class="delimiter">(</span><span class="keyword">final</span> Integer i1, <span class="keyword">final</span> Integer i2<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> i1 * i2;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that multiplies doubles.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Double&gt; <a title="fj.Semigroup[java.lang.Double]" id="24719">doubleMultiplicationSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Double, Double, Double&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Double f<span class="delimiter">(</span><span class="keyword">final</span> Double d1, <span class="keyword">final</span> Double d2<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> d1 * d2;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the maximum of integers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Integer&gt; <a title="fj.Semigroup[java.lang.Integer]" id="24720">intMaximumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.intOrd.max<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the minimum of integers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Integer&gt; <a title="fj.Semigroup[java.lang.Integer]" id="24721">intMinimumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.intOrd.min<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that adds big integers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;BigInteger&gt; <a title="fj.Semigroup[java.math.BigInteger]" id="24722">bigintAdditionSemigroup</a> =
      semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;BigInteger, BigInteger, BigInteger&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public BigInteger f<span class="delimiter">(</span><span class="keyword">final</span> BigInteger i1, <span class="keyword">final</span> BigInteger i2<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> i1.add<span class="delimiter">(</span>i2<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that multiplies big integers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;BigInteger&gt; <a title="fj.Semigroup[java.math.BigInteger]" id="24723">bigintMultiplicationSemigroup</a> =
      semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;BigInteger, BigInteger, BigInteger&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public BigInteger f<span class="delimiter">(</span><span class="keyword">final</span> BigInteger i1, <span class="keyword">final</span> BigInteger i2<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> i1.multiply<span class="delimiter">(</span>i2<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the maximum of big integers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;BigInteger&gt; <a title="fj.Semigroup[java.math.BigInteger]" id="24724">bigintMaximumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.bigintOrd.max<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the minimum of big integers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;BigInteger&gt; <a title="fj.Semigroup[java.math.BigInteger]" id="24725">bigintMinimumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.bigintOrd.min<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that adds big decimals.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;BigDecimal&gt; <a title="fj.Semigroup[java.math.BigDecimal]" id="24726">bigdecimalAdditionSemigroup</a> =
      semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;BigDecimal, BigDecimal, BigDecimal&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public BigDecimal f<span class="delimiter">(</span><span class="keyword">final</span> BigDecimal i1, <span class="keyword">final</span> BigDecimal i2<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> i1.add<span class="delimiter">(</span>i2<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that multiplies big decimals.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;BigDecimal&gt; <a title="fj.Semigroup[java.math.BigDecimal]" id="24727">bigdecimalMultiplicationSemigroup</a> =
      semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;BigDecimal, BigDecimal, BigDecimal&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public BigDecimal f<span class="delimiter">(</span><span class="keyword">final</span> BigDecimal i1, <span class="keyword">final</span> BigDecimal i2<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> i1.multiply<span class="delimiter">(</span>i2<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the maximum of big decimals.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;BigDecimal&gt; <a title="fj.Semigroup[java.math.BigDecimal]" id="24728">bigDecimalMaximumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.bigdecimalOrd.max<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the minimum of big decimals.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;BigDecimal&gt; <a title="fj.Semigroup[java.math.BigDecimal]" id="24729">bigDecimalMinimumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.bigdecimalOrd.min<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that multiplies natural numbers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Natural&gt; <a title="fj.Semigroup[fj.data.Natural]" id="24730">naturalMultiplicationSemigroup</a> =
      semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Natural, Natural, Natural&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public Natural f<span class="delimiter">(</span><span class="keyword">final</span> Natural n1, <span class="keyword">final</span> Natural n2<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> n1.multiply<span class="delimiter">(</span>n2<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that multiplies natural numbers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Natural&gt; <a title="fj.Semigroup[fj.data.Natural]" id="24731">naturalAdditionSemigroup</a> =
      semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Natural, Natural, Natural&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public Natural f<span class="delimiter">(</span><span class="keyword">final</span> Natural n1, <span class="keyword">final</span> Natural n2<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> n1.add<span class="delimiter">(</span>n2<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the maximum of natural numbers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Natural&gt; <a title="fj.Semigroup[fj.data.Natural]" id="24732">naturalMaximumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.naturalOrd.max<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the minimum of natural numbers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Natural&gt; <a title="fj.Semigroup[fj.data.Natural]" id="24733">naturalMinimumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.naturalOrd.min<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that adds longs.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Long&gt; <a title="fj.Semigroup[java.lang.Long]" id="24734">longAdditionSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Long, Long, Long&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Long f<span class="delimiter">(</span><span class="keyword">final</span> Long x, <span class="keyword">final</span> Long y<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> x + y;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that multiplies longs.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Long&gt; <a title="fj.Semigroup[java.lang.Long]" id="24735">longMultiplicationSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Long, Long, Long&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Long f<span class="delimiter">(</span><span class="keyword">final</span> Long x, <span class="keyword">final</span> Long y<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> x * y;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the maximum of longs.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Long&gt; <a title="fj.Semigroup[java.lang.Long]" id="24736">longMaximumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.longOrd.max<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that yields the minimum of longs.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Long&gt; <a title="fj.Semigroup[java.lang.Long]" id="24737">longMinimumSemigroup</a> = semigroup<span class="delimiter">(</span>Ord.longOrd.min<span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that ORs booleans.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Boolean&gt; <a title="fj.Semigroup[java.lang.Boolean]" id="24738">disjunctionSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Boolean, Boolean, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> Boolean b1, <span class="keyword">final</span> Boolean b2<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> b1 || b2;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that XORs booleans.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Boolean&gt; <a title="fj.Semigroup[java.lang.Boolean]" id="24739">exclusiveDisjunctionSemiGroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Boolean, Boolean, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> Boolean p, <span class="keyword">final</span> Boolean q<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> p &amp;&amp; !q || !p &amp;&amp; q;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that ANDs booleans.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Boolean&gt; <a title="fj.Semigroup[java.lang.Boolean]" id="24740">conjunctionSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Boolean, Boolean, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> Boolean b1, <span class="keyword">final</span> Boolean b2<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> b1 &amp;&amp; b2;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that appends strings.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;String&gt; <a title="fj.Semigroup[java.lang.String]" id="24741">stringSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;String, String, String&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public String f<span class="delimiter">(</span><span class="keyword">final</span> String s1, <span class="keyword">final</span> String s2<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> s1 + s2;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that appends string buffers.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;StringBuffer&gt; <a title="fj.Semigroup[java.lang.StringBuffer]" id="24742">stringBufferSemigroup</a> =
      semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;StringBuffer, StringBuffer, StringBuffer&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public StringBuffer f<span class="delimiter">(</span><span class="keyword">final</span> StringBuffer s1, <span class="keyword">final</span> StringBuffer s2<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> <span class="keyword">new</span> StringBuffer<span class="delimiter">(</span>s1<span class="delimiter">)</span>.append<span class="delimiter">(</span>s2<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup that appends string builders.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;StringBuilder&gt; <a title="fj.Semigroup[java.lang.StringBuilder]" id="24743">stringBuilderSemigroup</a> =
      semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;StringBuilder, StringBuilder, StringBuilder&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public StringBuilder f<span class="delimiter">(</span><span class="keyword">final</span> StringBuilder s1, <span class="keyword">final</span> StringBuilder s2<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> <span class="keyword">new</span> StringBuilder<span class="delimiter">(</span>s1<span class="delimiter">)</span>.append<span class="delimiter">(</span>s2<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup for functions.
   *
   * @param sb The smeigroup for the codomain.
   * @return A semigroup for functions.
   */</span>
  public static &lt;<a title="Nothing" id="24747">A</a>, <a title="Nothing" id="24748">B</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#24747" title="A">A</a>, <a href="#24748" title="B">B</a>&gt;&gt; <a title="[A, B](sb: fj.Semigroup[B])fj.Semigroup[fj.F[A,B]]" id="24744">functionSemigroup</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="#24748" title="B">B</a>&gt; <a title="fj.Semigroup[B]" id="24788">sb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;F&lt;A, B&gt;, F&lt;A, B&gt;, F&lt;A, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;A, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, B&gt; a1, <span class="keyword">final</span> F&lt;A, B&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public B f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> sb.sum<span class="delimiter">(</span>a1.f<span class="delimiter">(</span>a<span class="delimiter">)</span>, a2.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for lists.
   *
   * @return A semigroup for lists.
   */</span>
  public static &lt;<a title="Nothing" id="24751">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;List&lt;<a href="#24751" title="A">A</a>&gt;&gt; <a title="[A]()fj.Semigroup[fj.data.List[A]]" id="24749">listSemigroup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;List&lt;A&gt;, List&lt;A&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; a1, <span class="keyword">final</span> List&lt;A&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a1.append<span class="delimiter">(</span>a2<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for non-empty lists.
   *
   * @return A semigroup for non-empty lists.
   */</span>
  public static &lt;<a title="Nothing" id="24754">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;NonEmptyList&lt;<a href="#24754" title="A">A</a>&gt;&gt; <a title="[A]()fj.Semigroup[fj.data.NonEmptyList[A]]" id="24752">nonEmptyListSemigroup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;NonEmptyList&lt;A&gt;, NonEmptyList&lt;A&gt;, NonEmptyList&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public NonEmptyList&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> NonEmptyList&lt;A&gt; a1, <span class="keyword">final</span> NonEmptyList&lt;A&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a1.append<span class="delimiter">(</span>a2<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for optional values.
   ** @return A semigroup for optional values.
   */</span>
  public static &lt;<a title="Nothing" id="24757">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Option&lt;<a href="#24757" title="A">A</a>&gt;&gt; <a title="[A]()fj.Semigroup[fj.data.Option[A]]" id="24755">optionSemigroup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Option&lt;A&gt;, Option&lt;A&gt;, Option&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Option&lt;A&gt; a1, <span class="keyword">final</span> Option&lt;A&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a1.isSome<span class="delimiter">(</span><span class="delimiter">)</span> ? a1 : a2;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for optional values that take the first available value.
   *
   * @return A semigroup for optional values that take the first available value.
   */</span>
  public static &lt;<a title="Nothing" id="24760">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Option&lt;<a href="#24760" title="A">A</a>&gt;&gt; <a title="[A]()fj.Semigroup[fj.data.Option[A]]" id="24758">firstOptionSemigroup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Option&lt;A&gt;, Option&lt;A&gt;, Option&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Option&lt;A&gt; a1, <span class="keyword">final</span> Option&lt;A&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a1.orElse<span class="delimiter">(</span>a2<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for optional values that take the last available value.
   *
   * @return A semigroup for optional values that take the last available value.
   */</span>
  public static &lt;<a title="Nothing" id="24763">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Option&lt;<a href="#24763" title="A">A</a>&gt;&gt; <a title="[A]()fj.Semigroup[fj.data.Option[A]]" id="24761">lastOptionSemigroup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Option&lt;A&gt;, Option&lt;A&gt;, Option&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Option&lt;A&gt; a1, <span class="keyword">final</span> Option&lt;A&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a2.orElse<span class="delimiter">(</span>a1<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for streams.
   *
   * @return A semigroup for streams.
   */</span>
  public static &lt;<a title="Nothing" id="24766">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Stream&lt;<a href="#24766" title="A">A</a>&gt;&gt; <a title="[A]()fj.Semigroup[fj.data.Stream[A]]" id="24764">streamSemigroup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Stream&lt;A&gt;, Stream&lt;A&gt;, Stream&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Stream&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Stream&lt;A&gt; a1, <span class="keyword">final</span> Stream&lt;A&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a1.append<span class="delimiter">(</span>a2<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for arrays.
   *
   * @return A semigroup for arrays.
   */</span>
  public static &lt;<a title="Nothing" id="24769">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Array&lt;<a href="#24769" title="A">A</a>&gt;&gt; <a title="[A]()fj.Semigroup[fj.data.Array[A]]" id="24767">arraySemigroup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Array&lt;A&gt;, Array&lt;A&gt;, Array&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Array&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Array&lt;A&gt; a1, <span class="keyword">final</span> Array&lt;A&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a1.append<span class="delimiter">(</span>a2<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for unary products.
   *
   * @param sa A semigroup for the product's type.
   * @return A semigroup for unary products.
   */</span>
  public static &lt;<a title="Nothing" id="24772">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="P1.java.html#9697" title="fj.P1">P1</a>&lt;<a href="#24772" title="A">A</a>&gt;&gt; <a title="[A](sa: fj.Semigroup[A])fj.Semigroup[fj.P1[A]]" id="24770">p1Semigroup</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="#24772" title="A">A</a>&gt; <a title="fj.Semigroup[A]" id="24798">sa</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;P1&lt;A&gt;, P1&lt;A&gt;, P1&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public P1&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> P1&lt;A&gt; a1, <span class="keyword">final</span> P1&lt;A&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> P1&lt;A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public A _1<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> sa.sum<span class="delimiter">(</span>a1._1<span class="delimiter">(</span><span class="delimiter">)</span>, a2._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for binary products.
   *
   * @param sa A semigroup for the product's first type.
   * @param sb A semigroup for the product's second type.
   * @return A semigroup for binary products.
   */</span>
  public static &lt;<a title="Nothing" id="24776">A</a>, <a title="Nothing" id="24777">B</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="P2.java.html#9705" title="fj.P2">P2</a>&lt;<a href="#24776" title="A">A</a>, <a href="#24777" title="B">B</a>&gt;&gt; <a title="[A, B](sa: fj.Semigroup[A], sb: fj.Semigroup[B])fj.Semigroup[fj.P2[A,B]]" id="24773">p2Semigroup</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="#24776" title="A">A</a>&gt; <a title="fj.Semigroup[A]" id="24801">sa</a>, <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="#24777" title="B">B</a>&gt; <a title="fj.Semigroup[B]" id="24802">sb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;P2&lt;A, B&gt;, P2&lt;A, B&gt;, P2&lt;A, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public P2&lt;A, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> P2&lt;A, B&gt; a1, <span class="keyword">final</span> P2&lt;A, B&gt; a2<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> P2&lt;A, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public A _1<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> sa.sum<span class="delimiter">(</span>a1._1<span class="delimiter">(</span><span class="delimiter">)</span>, a2._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>

          public B _2<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> sb.sum<span class="delimiter">(</span>a1._2<span class="delimiter">(</span><span class="delimiter">)</span>, a2._2<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A semigroup for the Unit value.
   */</span>
  public static <span class="keyword">final</span> <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;<a href="Unit.java.html#9820" title="fj.Unit">Unit</a>&gt; <a title="fj.Semigroup[fj.Unit]" id="24778">unitSemigroup</a> = semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Unit, Unit, Unit&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    public Unit f<span class="delimiter">(</span><span class="keyword">final</span> Unit u1, <span class="keyword">final</span> Unit u2<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> Unit.unit<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * A semigroup for sets.
   *
   * @return a semigroup for sets.
   */</span>
  public static &lt;<a title="Nothing" id="24781">A</a>&gt; <a href="#9782" title="fj.Semigroup">Semigroup</a>&lt;Set&lt;<a href="#24781" title="A">A</a>&gt;&gt; <a title="[A]()fj.Semigroup[fj.data.Set[A]]" id="24779">setSemigroup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> semigroup<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Set&lt;A&gt;, Set&lt;A&gt;, Set&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Set&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Set&lt;A&gt; a, <span class="keyword">final</span> Set&lt;A&gt; b<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a.union<span class="delimiter">(</span>b<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>