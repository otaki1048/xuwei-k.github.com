<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>fj/test/reflect/Main.java</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> fj.test.reflect;

<span class="keyword">import</span> fj.Effect;
<span class="keyword">import</span> fj.P2;
<span class="keyword">import</span> static fj.data.Array.array;
<span class="keyword">import</span> fj.test.CheckResult;
<span class="keyword">import</span> static fj.test.CheckResult.summary;
<span class="keyword">import</span> static fj.test.reflect.Check.check;

<span class="keyword">import</span> static java.lang.Class.forName;
<span class="keyword">import</span> static java.lang.System.exit;
<span class="keyword">import</span> static java.lang.System.out;

<span class="comment">/**
 * Checks the properties of a class using a standard random generator, standard check parameters and
 * the given categories. The class name and categories are passed as command line arguments. 
 *
 * @version %build.number%
 */</span>
public <span class="keyword">final</span> <span class="keyword">class</span> <a title="object fj.test.reflect.Main" id="11328">Main</a> <span class="delimiter">{</span>
  <span class="keyword">private</span> Main<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Check the given class and categories. At least one command line argument (the class name) must be
   * passed or an error message results.
   *
   * @param args The class name as the first argument, then zero or more categories.
   */</span>
  public static void <a title="(args: &lt;repeated...&gt;[java.lang.String])Unit" id="39471">main</a><span class="delimiter">(</span><span class="keyword">final</span> <span title="&lt;repeated...&gt;">String</span>... <a title="&lt;repeated...&gt;[java.lang.String]" id="39472">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">if</span><span class="delimiter">(</span>args.length == <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      System.err.println<span class="delimiter">(</span><span class="string">&quot;&lt;class&gt; [category]*&quot;</span><span class="delimiter">)</span>;
      <span class="comment">//noinspection CallToSystemExit</span>
      exit<span class="delimiter">(</span><span class="int">441</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        check<span class="delimiter">(</span>forName<span class="delimiter">(</span>args<span class="delimiter">[</span><span class="int">0</span><span class="delimiter">]</span><span class="delimiter">)</span>, array<span class="delimiter">(</span>args<span class="delimiter">)</span>.toList<span class="delimiter">(</span><span class="delimiter">)</span>.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.foreach<span class="delimiter">(</span><span class="keyword">new</span> Effect&lt;P2&lt;String, CheckResult&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public void e<span class="delimiter">(</span><span class="keyword">final</span> P2&lt;String, CheckResult&gt; r<span class="delimiter">)</span> <span class="delimiter">{</span>
            summary.print<span class="delimiter">(</span>r._2<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
            out.println<span class="delimiter">(</span><span class="string">&quot; (&quot;</span> + r._1<span class="delimiter">(</span><span class="delimiter">)</span> + <span class="char">')'</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span> <span class="keyword">catch</span><span class="delimiter">(</span>ClassNotFoundException e<span class="delimiter">)</span> <span class="delimiter">{</span>
        System.err.println<span class="delimiter">(</span>e<span class="delimiter">)</span>;
        <span class="comment">//noinspection CallToSystemExit</span>
        exit<span class="delimiter">(</span><span class="int">144</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>