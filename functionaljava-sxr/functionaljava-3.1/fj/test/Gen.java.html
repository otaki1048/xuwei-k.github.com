<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>fj/test/Gen.java</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> fj.test;

<span class="keyword">import</span> static fj.Bottom.error;
<span class="keyword">import</span> fj.Effect;
<span class="keyword">import</span> fj.F;
<span class="keyword">import</span> fj.Function;
<span class="keyword">import</span> static fj.Function.flip;
<span class="keyword">import</span> static fj.Function.curry;
<span class="keyword">import</span> fj.P2;
<span class="keyword">import</span> static fj.P2.__1;
<span class="keyword">import</span> fj.Unit;
<span class="keyword">import</span> fj.F2;
<span class="keyword">import</span> static fj.data.Array.array;
<span class="keyword">import</span> fj.data.List;
<span class="keyword">import</span> static fj.data.List.nil;
<span class="keyword">import</span> static fj.data.List.replicate;
<span class="keyword">import</span> fj.data.Option;
<span class="keyword">import</span> static fj.Monoid.intAdditionMonoid;
<span class="keyword">import</span> static fj.Ord.intOrd;

<span class="keyword">import</span> static java.lang.Math.max;
<span class="keyword">import</span> static java.lang.Math.min;

<span class="comment">/**
 * &lt;p&gt; A generator for values of the type of the given type parameter (&lt;code&gt;A&lt;/code&gt;). Generation
 * of a value accepts a general 'size' argument (integer), a {@link Rand random generator} and
 * returns an {@link Option optional value} of the type parameter. Several generators are provided,
 * allowing various forms of composition of generators. &lt;/p&gt; &lt;p&gt; A user typically creates an {@link
 * Arbitrary arbitrary} to return a generator using the 'combinator methods' below. For example,
 * suppose a &lt;code&gt;class Person&lt;/code&gt;:
&lt;pre&gt;
class Person {
  final int age;
  final String name;
  final boolean male;

  Person(final int age, final String name, final boolean male) {
    this.age = age;
    this.name = name;
    this.male = male;
  }
}
&lt;/pre&gt;
 * &lt;/p&gt; &lt;p&gt; In a case like this one, a user may create a generator over &lt;code&gt;Person&lt;/code&gt; by
 * invoking the {@link #bind(F)}  methods &amp;mdash; in this case, {@link #bind(Gen , Gen , F)} the one
 * that takes two generator arguments}, since the class has one more than two fields (the bind
 * method is invoked on a generator adding the extra one to the count as they are composed). The
 * class fields are of types for which there exist generators (on {@link Arbitrary} so those can be
 * used to compose a generator for &lt;code&gt;Person&lt;/code&gt;: &lt;/p&gt;
&lt;pre&gt;
static Arbitrary&amp;lt;Person&amp;gt; personArbitrary() {
  final Gen&amp;lt;Person&amp;gt; personGenerator = arbInteger.gen.bind(arbString().gen, arbBoolean().gen,
      // compose the generators
      {int age =&amp;gt; {String name =&amp;gt; {boolean male =&amp;gt; new Person(age, name, male)}}};
  return arbitrary(personGenerator);
}
&lt;/pre&gt;
 * &lt;p/&gt;
 * The example above uses Java 7 closure syntax. Here is the same example using objects instead:
&lt;pre&gt;
static Arbitrary&amp;lt;Person&amp;gt; personArbitrary() {
  final Gen&amp;lt;Person&amp;gt; personGenerator = arbInteger.gen.bind(arbString.gen, arbBoolean.gen,
      // compose the generators
      new F&amp;lt;Integer, F&amp;lt;String, F&amp;lt;Boolean, Person&amp;gt;&amp;gt;&amp;gt;() {
        public F&amp;lt;String, F&amp;lt;Boolean, Person&amp;gt;&amp;gt; f(final Integer age) {
          return new F&amp;lt;String, F&amp;lt;Boolean, Person&amp;gt;&amp;gt;() {
            public F&amp;lt;Boolean, Person&amp;gt; f(final String name) {
              return new F&amp;lt;Boolean, Person&amp;gt;() {
                public Person f(final Boolean male) {
                  return new Person(age, name, male);
                }
              };
            }
          };
        }
      });
  return arbitrary(personGenerator);
}
&lt;/pre&gt;
 *
 * @version %build.number%
 */</span>
public <span class="keyword">final</span> <span class="keyword">class</span> <a title="object fj.test.Gen" id="11114">Gen</a>&lt;<a title="Nothing" id="11115">A</a>&gt; <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">final</span> F&lt;Integer, F&lt;<a href="Rand.java.html#11157" title="fj.test.Rand">Rand</a>, <a href="#11115" title="A">A</a>&gt;&gt; <a title="fj.F[java.lang.Integer,fj.F[fj.test.Rand,A]]" id="34938">f</a>;

  <span class="keyword">private</span> Gen<span class="delimiter">(</span><span class="keyword">final</span> F&lt;Integer, F&lt;Rand, A&gt;&gt; f<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">this</span>.f = f;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Applies the given size and random generator to produce a value.
   *
   * @param i The size to use to produce the value.
   * @param r The random generator to use to produce the value..
   * @return A generated value.
   */</span>
  public <a href="#11115" title="A">A</a> <a title="(i: Int, r: fj.test.Rand)A" id="34940">gen</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="37740">i</a>, <span class="keyword">final</span> <a href="Rand.java.html#11157" title="fj.test.Rand">Rand</a> <a title="fj.test.Rand" id="37741">r</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> f.f<span class="delimiter">(</span>i<span class="delimiter">)</span>.f<span class="delimiter">(</span>r<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps the given function across this generator.
   *
   * @param f The function to map across this generator.
   * @return A new generator after applying the mapping function.
   */</span>
  public &lt;<a title="Nothing" id="34943">B</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34943" title="B">B</a>&gt; <a title="[B](f: fj.F[A,B])fj.test.Gen[B]" id="34941">map</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, <a href="#34943" title="B">B</a>&gt; <a title="fj.F[A,B]" id="37742">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Gen&lt;B&gt;<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, F&lt;Rand, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Rand, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Rand, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public B f<span class="delimiter">(</span><span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> f.f<span class="delimiter">(</span>gen<span class="delimiter">(</span>i, r<span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that produces values that meet the given predicate.
   *
   * @param f The predicate to meet for the values produced by the generator.
   * @return A generator that produces values that meet the given predicate.
   */</span>
  public <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#11115" title="A">A</a>&gt; <a title="(f: fj.F[A,java.lang.Boolean])fj.test.Gen[A]" id="34944">filter</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="37744">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gen<span class="delimiter">(</span>curry<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Integer, Rand, A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public A f<span class="delimiter">(</span><span class="keyword">final</span> Integer i, <span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
        A a;

        <span class="keyword">do</span> <span class="delimiter">{</span>
          a = gen<span class="delimiter">(</span>i, r<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">while</span><span class="delimiter">(</span>!f.f<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span>;

        <span class="keyword">return</span> a;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Executes a side-effect for each generated result using the given arguments.
   *
   * @param i The size to generate the result to apply the side-effect to.
   * @param r The random generator to generate the result to apply the side-effect to.
   * @param f The side-effect to execute on the generated value.
   * @return The unit value.
   */</span>
  public Unit <a title="(i: java.lang.Integer, r: fj.test.Rand, f: fj.F[A,fj.Unit])fj.Unit" id="34945">foreach</a><span class="delimiter">(</span><span class="keyword">final</span> Integer <a title="java.lang.Integer" id="37745">i</a>, <span class="keyword">final</span> <a href="Rand.java.html#11157" title="fj.test.Rand">Rand</a> <a title="fj.test.Rand" id="37746">r</a>, <span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, Unit&gt; <a title="fj.F[A,fj.Unit]" id="37747">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> f.f<span class="delimiter">(</span><span class="keyword">this</span>.f.f<span class="delimiter">(</span>i<span class="delimiter">)</span>.f<span class="delimiter">(</span>r<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Executes a side-effect for each generated result using the given arguments.
   *
   * @param i The size to generate the result to apply the side-effect to.
   * @param r The random generator to generate the result to apply the side-effect to.
   * @param f The side-effect to execute on the generated value.
   */</span>
  public void <a title="(i: java.lang.Integer, r: fj.test.Rand, f: fj.Effect[A])Unit" id="34946">foreach</a><span class="delimiter">(</span><span class="keyword">final</span> Integer <a title="java.lang.Integer" id="37748">i</a>, <span class="keyword">final</span> <a href="Rand.java.html#11157" title="fj.test.Rand">Rand</a> <a title="fj.test.Rand" id="37749">r</a>, <span class="keyword">final</span> Effect&lt;<a href="#11115" title="A">A</a>&gt; <a title="fj.Effect[A]" id="37750">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    f.e<span class="delimiter">(</span><span class="keyword">this</span>.f.f<span class="delimiter">(</span>i<span class="delimiter">)</span>.f<span class="delimiter">(</span>r<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across this generator to produce a new generator.
   *
   * @param f The function to bind across this generator.
   * @return A new generator after binding the given function.
   */</span>
  public &lt;<a title="Nothing" id="34949">B</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34949" title="B">B</a>&gt; <a title="[B](f: fj.F[A,fj.test.Gen[B]])fj.test.Gen[B]" id="34947">bind</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34949" title="B">B</a>&gt;&gt; <a title="fj.F[A,fj.test.Gen[B]]" id="37751">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Gen&lt;B&gt;<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, F&lt;Rand, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Rand, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Rand, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public B f<span class="delimiter">(</span><span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> f.f<span class="delimiter">(</span>gen<span class="delimiter">(</span>i, r<span class="delimiter">)</span><span class="delimiter">)</span>.f.f<span class="delimiter">(</span>i<span class="delimiter">)</span>.f<span class="delimiter">(</span>r<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across this generator and the given generator to produce a new
   * generator.
   *
   * @param gb The second generator to bind the given function across.
   * @param f  The function to bind across this generator and the given generator.
   * @return A new generator after binding the given function.
   */</span>
  public &lt;<a title="Nothing" id="34953">B</a>, <a title="Nothing" id="34954">C</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34954" title="C">C</a>&gt; <a title="[B, C](gb: fj.test.Gen[B], f: fj.F[A,fj.F[B,C]])fj.test.Gen[C]" id="34950">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34953" title="B">B</a>&gt; <a title="fj.test.Gen[B]" id="37753">gb</a>, <span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, F&lt;<a href="#34953" title="B">B</a>, <a href="#34954" title="C">C</a>&gt;&gt; <a title="fj.F[A,fj.F[B,C]]" id="37754">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gb.apply<span class="delimiter">(</span>map<span class="delimiter">(</span>f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across this generator and the given generators to produce a new
   * generator.
   *
   * @param gb The second generator to bind the given function across.
   * @param gc The third generator to bind the given function across.
   * @param f  The function to bind across this generator and the given generators.
   * @return A new generator after binding the given function.
   */</span>
  public &lt;<a title="Nothing" id="34959">B</a>, <a title="Nothing" id="34960">C</a>, <a title="Nothing" id="34961">D</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34961" title="D">D</a>&gt; <a title="[B, C, D](gb: fj.test.Gen[B], gc: fj.test.Gen[C], f: fj.F[A,fj.F[B,fj.F[C,D]]])fj.test.Gen[D]" id="34955">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34959" title="B">B</a>&gt; <a title="fj.test.Gen[B]" id="37757">gb</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34960" title="C">C</a>&gt; <a title="fj.test.Gen[C]" id="37758">gc</a>, <span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, F&lt;<a href="#34959" title="B">B</a>, F&lt;<a href="#34960" title="C">C</a>, <a href="#34961" title="D">D</a>&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,D]]]" id="37759">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gc.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>gb, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across this generator and the given generators to produce a new
   * generator.
   *
   * @param gb The second generator to bind the given function across.
   * @param gc The third generator to bind the given function across.
   * @param gd The fourth generator to bind the given function across.
   * @param f  The function to bind across this generator and the given generators.
   * @return A new generator after binding the given function.
   */</span>
  public &lt;<a title="Nothing" id="34967">B</a>, <a title="Nothing" id="34968">C</a>, <a title="Nothing" id="34969">D</a>, <a title="Nothing" id="34970">E</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34970" title="E">E</a>&gt; <a title="[B, C, D, E](gb: fj.test.Gen[B], gc: fj.test.Gen[C], gd: fj.test.Gen[D], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,E]]]])fj.test.Gen[E]" id="34962">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34967" title="B">B</a>&gt; <a title="fj.test.Gen[B]" id="37763">gb</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34968" title="C">C</a>&gt; <a title="fj.test.Gen[C]" id="37764">gc</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34969" title="D">D</a>&gt; <a title="fj.test.Gen[D]" id="37765">gd</a>, <span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, F&lt;<a href="#34967" title="B">B</a>, F&lt;<a href="#34968" title="C">C</a>, F&lt;<a href="#34969" title="D">D</a>, <a href="#34970" title="E">E</a>&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,E]]]]" id="37766">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gd.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>gb, gc, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across this generator and the given generators to produce a new
   * generator.
   *
   * @param gb The second generator to bind the given function across.
   * @param gc The third generator to bind the given function across.
   * @param gd The fourth generator to bind the given function across.
   * @param ge The fifth generator to bind the given function across.
   * @param f  The function to bind across this generator and the given generators.
   * @return A new generator after binding the given function.
   */</span>
  public &lt;<a title="Nothing" id="34977">B</a>, <a title="Nothing" id="34978">C</a>, <a title="Nothing" id="34979">D</a>, <a title="Nothing" id="34980">E</a>, <a title="Nothing" id="34981">F$</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34981" title="F$">F$</a>&gt; <a title="[B, C, D, E, F$](gb: fj.test.Gen[B], gc: fj.test.Gen[C], gd: fj.test.Gen[D], ge: fj.test.Gen[E], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,F$]]]]])fj.test.Gen[F$]" id="34971">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34977" title="B">B</a>&gt; <a title="fj.test.Gen[B]" id="37771">gb</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34978" title="C">C</a>&gt; <a title="fj.test.Gen[C]" id="37772">gc</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34979" title="D">D</a>&gt; <a title="fj.test.Gen[D]" id="37773">gd</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34980" title="E">E</a>&gt; <a title="fj.test.Gen[E]" id="37774">ge</a>, <span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, F&lt;<a href="#34977" title="B">B</a>, F&lt;<a href="#34978" title="C">C</a>, F&lt;<a href="#34979" title="D">D</a>, F&lt;<a href="#34980" title="E">E</a>, <a href="#34981" title="F$">F$</a>&gt;&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,F$]]]]]" id="37775">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> ge.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>gb, gc, gd, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across this generator and the given generators to produce a new
   * generator.
   *
   * @param gb The second generator to bind the given function across.
   * @param gc The third generator to bind the given function across.
   * @param gd The fourth generator to bind the given function across.
   * @param ge The fifth generator to bind the given function across.
   * @param gf The sixth generator to bind the given function across.
   * @param f  The function to bind across this generator and the given generators.
   * @return A new generator after binding the given function.
   */</span>
  public &lt;<a title="Nothing" id="34989">B</a>, <a title="Nothing" id="34990">C</a>, <a title="Nothing" id="34991">D</a>, <a title="Nothing" id="34992">E</a>, <a title="Nothing" id="34993">F$</a>, <a title="Nothing" id="34994">G</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34994" title="G">G</a>&gt; <a title="[B, C, D, E, F$, G](gb: fj.test.Gen[B], gc: fj.test.Gen[C], gd: fj.test.Gen[D], ge: fj.test.Gen[E], gf: fj.test.Gen[F$], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,G]]]]]])fj.test.Gen[G]" id="34982">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34989" title="B">B</a>&gt; <a title="fj.test.Gen[B]" id="37781">gb</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34990" title="C">C</a>&gt; <a title="fj.test.Gen[C]" id="37782">gc</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34991" title="D">D</a>&gt; <a title="fj.test.Gen[D]" id="37783">gd</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34992" title="E">E</a>&gt; <a title="fj.test.Gen[E]" id="37784">ge</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#34993" title="F$">F$</a>&gt; <a title="fj.test.Gen[F$]" id="37785">gf</a>, <span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, F&lt;<a href="#34989" title="B">B</a>, F&lt;<a href="#34990" title="C">C</a>, F&lt;<a href="#34991" title="D">D</a>, F&lt;<a href="#34992" title="E">E</a>, F&lt;<a href="#34993" title="F$">F$</a>, <a href="#34994" title="G">G</a>&gt;&gt;&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,G]]]]]]" id="37786">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gf.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>gb, gc, gd, ge, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across this generator and the given generators to produce a new
   * generator.
   *
   * @param gb The second generator to bind the given function across.
   * @param gc The third generator to bind the given function across.
   * @param gd The fourth generator to bind the given function across.
   * @param ge The fifth generator to bind the given function across.
   * @param gf The sixth generator to bind the given function across.
   * @param gg The seventh generator to bind the given function across.
   * @param f  The function to bind across this generator and the given generators.
   * @return A new generator after binding the given function.
   */</span>
  public &lt;<a title="Nothing" id="35003">B</a>, <a title="Nothing" id="35004">C</a>, <a title="Nothing" id="35005">D</a>, <a title="Nothing" id="35006">E</a>, <a title="Nothing" id="35007">F$</a>, <a title="Nothing" id="35008">G</a>, <a title="Nothing" id="35009">H</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35009" title="H">H</a>&gt; <a title="[B, C, D, E, F$, G, H](gb: fj.test.Gen[B], gc: fj.test.Gen[C], gd: fj.test.Gen[D], ge: fj.test.Gen[E], gf: fj.test.Gen[F$], gg: fj.test.Gen[G], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,fj.F[G,H]]]]]]])fj.test.Gen[H]" id="34995">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35003" title="B">B</a>&gt; <a title="fj.test.Gen[B]" id="37793">gb</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35004" title="C">C</a>&gt; <a title="fj.test.Gen[C]" id="37794">gc</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35005" title="D">D</a>&gt; <a title="fj.test.Gen[D]" id="37795">gd</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35006" title="E">E</a>&gt; <a title="fj.test.Gen[E]" id="37796">ge</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35007" title="F$">F$</a>&gt; <a title="fj.test.Gen[F$]" id="37797">gf</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35008" title="G">G</a>&gt; <a title="fj.test.Gen[G]" id="37798">gg</a>, <span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, F&lt;<a href="#35003" title="B">B</a>, F&lt;<a href="#35004" title="C">C</a>, F&lt;<a href="#35005" title="D">D</a>, F&lt;<a href="#35006" title="E">E</a>, F&lt;<a href="#35007" title="F$">F$</a>, F&lt;<a href="#35008" title="G">G</a>, <a href="#35009" title="H">H</a>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,fj.F[G,H]]]]]]]" id="37799">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gg.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>gb, gc, gd, ge, gf, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across this generator and the given generators to produce a new
   * generator.
   *
   * @param gb The second generator to bind the given function across.
   * @param gc The third generator to bind the given function across.
   * @param gd The fourth generator to bind the given function across.
   * @param ge The fifth generator to bind the given function across.
   * @param gf The sixth generator to bind the given function across.
   * @param gg The seventh generator to bind the given function across.
   * @param gh The eighth generator to bind the given function across.
   * @param f  The function to bind across this generator and the given generators.
   * @return A new generator after binding the given function.
   */</span>
  public &lt;<a title="Nothing" id="35019">B</a>, <a title="Nothing" id="35020">C</a>, <a title="Nothing" id="35021">D</a>, <a title="Nothing" id="35022">E</a>, <a title="Nothing" id="35023">F$</a>, <a title="Nothing" id="35024">G</a>, <a title="Nothing" id="35025">H</a>, <a title="Nothing" id="35026">I</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35026" title="I">I</a>&gt; <a title="[B, C, D, E, F$, G, H, I](gb: fj.test.Gen[B], gc: fj.test.Gen[C], gd: fj.test.Gen[D], ge: fj.test.Gen[E], gf: fj.test.Gen[F$], gg: fj.test.Gen[G], gh: fj.test.Gen[H], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,fj.F[G,fj.F[H,I]]]]]]]])fj.test.Gen[I]" id="35010">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35019" title="B">B</a>&gt; <a title="fj.test.Gen[B]" id="37807">gb</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35020" title="C">C</a>&gt; <a title="fj.test.Gen[C]" id="37808">gc</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35021" title="D">D</a>&gt; <a title="fj.test.Gen[D]" id="37809">gd</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35022" title="E">E</a>&gt; <a title="fj.test.Gen[E]" id="37810">ge</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35023" title="F$">F$</a>&gt; <a title="fj.test.Gen[F$]" id="37811">gf</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35024" title="G">G</a>&gt; <a title="fj.test.Gen[G]" id="37812">gg</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35025" title="H">H</a>&gt; <a title="fj.test.Gen[H]" id="37813">gh</a>, <span class="keyword">final</span> F&lt;<a href="#11115" title="A">A</a>, F&lt;<a href="#35019" title="B">B</a>, F&lt;<a href="#35020" title="C">C</a>, F&lt;<a href="#35021" title="D">D</a>, F&lt;<a href="#35022" title="E">E</a>, F&lt;<a href="#35023" title="F$">F$</a>, F&lt;<a href="#35024" title="G">G</a>, F&lt;<a href="#35025" title="H">H</a>, <a href="#35026" title="I">I</a>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,fj.F[G,fj.F[H,I]]]]]]]]" id="37814">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gh.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>gb, gc, gd, ge, gf, gg, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Function application within this generator to produce a new generator.
   *
   * @param gf The generator over the function to apply to this generator.
   * @return A new generator after function application.
   */</span>
  public &lt;<a title="Nothing" id="35029">B</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#35029" title="B">B</a>&gt; <a title="[B](gf: fj.test.Gen[fj.F[A,B]])fj.test.Gen[B]" id="35027">apply</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;F&lt;<a href="#11115" title="A">A</a>, <a href="#35029" title="B">B</a>&gt;&gt; <a title="fj.test.Gen[fj.F[A,B]]" id="37823">gf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gf.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;F&lt;A, B&gt;, Gen&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Gen&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, B&gt; f<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> map<span class="delimiter">(</span><span class="keyword">new</span> F&lt;A, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public B f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> f.f<span class="delimiter">(</span>a<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Resizes this generator with the given size.
   *
   * @param s The new size of the generator.
   * @return A new generator that uses the given size.
   */</span>
  public <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#11115" title="A">A</a>&gt; <a title="(s: Int)fj.test.Gen[A]" id="35030">resize</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="37825">s</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Gen&lt;A&gt;<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, F&lt;Rand, A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Rand, A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Rand, A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public A f<span class="delimiter">(</span><span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> f.f<span class="delimiter">(</span>s<span class="delimiter">)</span>.f<span class="delimiter">(</span>r<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that uses the given function.
   *
   * @param f The function to use for this generator.
   * @return A new generator that uses the given function.
   */</span>
  public static &lt;<a title="Nothing" id="37620">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37620" title="A">A</a>&gt; <a title="[A](f: fj.F[java.lang.Integer,fj.F[fj.test.Rand,A]])fj.test.Gen[A]" id="37618">gen</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;Integer, F&lt;<a href="Rand.java.html#11157" title="fj.test.Rand">Rand</a>, <a href="#37620" title="A">A</a>&gt;&gt; <a title="fj.F[java.lang.Integer,fj.F[fj.test.Rand,A]]" id="37676">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Gen&lt;A&gt;<span class="delimiter">(</span>f<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sequence the given generators through a {@link #bind(F)} operation.
   *
   * @param gs The generators to sequence.
   * @return A generator of lists after sequencing the given generators.
   */</span>
  public static &lt;<a title="Nothing" id="37623">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;List&lt;<a href="#37623" title="A">A</a>&gt;&gt; <a title="[A](gs: fj.data.List[fj.test.Gen[A]])fj.test.Gen[fj.data.List[A]]" id="37621">sequence</a><span class="delimiter">(</span><span class="keyword">final</span> List&lt;<a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37623" title="A">A</a>&gt;&gt; <a title="fj.data.List[fj.test.Gen[A]]" id="37679">gs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gs.foldRight<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Gen&lt;A&gt;, F&lt;Gen&lt;List&lt;A&gt;&gt;, Gen&lt;List&lt;A&gt;&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Gen&lt;List&lt;A&gt;&gt;, Gen&lt;List&lt;A&gt;&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Gen&lt;A&gt; ga<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Gen&lt;List&lt;A&gt;&gt;, Gen&lt;List&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Gen&lt;List&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Gen&lt;List&lt;A&gt;&gt; gas<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> ga.bind<span class="delimiter">(</span>gas, List.&lt;A&gt;cons<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, value<span class="delimiter">(</span>List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sequences the given generator the given number of times through a {@link #bind(F)} operation.
   *
   * @param n The number of times to sequence the given generator.
   * @param g The generator sequence.
   * @return A generator of lists after sequencing the given generator.
   */</span>
  public static &lt;<a title="Nothing" id="37626">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;List&lt;<a href="#37626" title="A">A</a>&gt;&gt; <a title="[A](n: Int, g: fj.test.Gen[A])fj.test.Gen[fj.data.List[A]]" id="37624">sequenceN</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="37682">n</a>, <span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37626" title="A">A</a>&gt; <a title="fj.test.Gen[A]" id="37683">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> sequence<span class="delimiter">(</span>replicate<span class="delimiter">(</span>n, g<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a generator that can access its construction arguments &amp;mdash; size and random
   * generator.
   *
   * @param f The function that constructs the generator with its arguments.
   * @return A new generator.
   */</span>
  public static &lt;<a title="Nothing" id="37629">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37629" title="A">A</a>&gt; <a title="[A](f: fj.F[java.lang.Integer,fj.F[fj.test.Rand,fj.test.Gen[A]]])fj.test.Gen[A]" id="37627">parameterised</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;Integer, F&lt;<a href="Rand.java.html#11157" title="fj.test.Rand">Rand</a>, <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37629" title="A">A</a>&gt;&gt;&gt; <a title="fj.F[java.lang.Integer,fj.F[fj.test.Rand,fj.test.Gen[A]]]" id="37687">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Gen&lt;A&gt;<span class="delimiter">(</span>curry<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Integer, Rand, A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public A f<span class="delimiter">(</span><span class="keyword">final</span> Integer i, <span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> f.f<span class="delimiter">(</span>i<span class="delimiter">)</span>.f<span class="delimiter">(</span>r<span class="delimiter">)</span>.gen<span class="delimiter">(</span>i, r<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a generator that can access its size construction arguments.
   *
   * @param f The function that constructs the generator with its size argument.
   * @return A new generator.
   */</span>
  public static &lt;<a title="Nothing" id="37632">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37632" title="A">A</a>&gt; <a title="[A](f: fj.F[java.lang.Integer,fj.test.Gen[A]])fj.test.Gen[A]" id="37630">sized</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;Integer, <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37632" title="A">A</a>&gt;&gt; <a title="fj.F[java.lang.Integer,fj.test.Gen[A]]" id="37690">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> parameterised<span class="delimiter">(</span>flip<span class="delimiter">(</span>Function.&lt;Rand, F&lt;Integer, Gen&lt;A&gt;&gt;&gt;constant<span class="delimiter">(</span>f<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that always produces the given value.
   *
   * @param a The value to always produce.
   * @return A generator that always produces the given value.
   */</span>
  public static &lt;<a title="Nothing" id="37635">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37635" title="A">A</a>&gt; <a title="[A](a: A)fj.test.Gen[A]" id="37633">value</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#37635" title="A">A</a> <a title="A" id="37693">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Gen&lt;A&gt;<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, F&lt;Rand, A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Rand, A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Rand, A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public A f<span class="delimiter">(</span><span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> a;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that produces values between the given range (inclusive).
   *
   * @param from The value for the generator to produce values from.
   * @param to   The value for the generator to produce values from.
   * @return A generator that produces values between the given range (inclusive).
   */</span>
  public static <a href="#11114" title="fj.test.Gen">Gen</a>&lt;Integer&gt; <a title="(from: Int, to: Int)fj.test.Gen[java.lang.Integer]" id="37636">choose</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="37696">from</a>, <span class="keyword">final</span> int <a title="Int" id="37697">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> int f = min<span class="delimiter">(</span>from, to<span class="delimiter">)</span>;
    <span class="keyword">final</span> int t = max<span class="delimiter">(</span>from, to<span class="delimiter">)</span>;
    <span class="keyword">return</span> parameterised<span class="delimiter">(</span>curry<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Integer, Rand, Gen&lt;Integer&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Gen&lt;Integer&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i, <span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> value<span class="delimiter">(</span>r.choose<span class="delimiter">(</span>f, t<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that produces values between the given range (inclusive).
   *
   * @param from The value for the generator to produce values from.
   * @param to   The value for the generator to produce values from.
   * @return A generator that produces v
   */</span>
  public static <a href="#11114" title="fj.test.Gen">Gen</a>&lt;Double&gt; <a title="(from: Double, to: Double)fj.test.Gen[java.lang.Double]" id="37637">choose</a><span class="delimiter">(</span><span class="keyword">final</span> double <a title="Double" id="37699">from</a>, <span class="keyword">final</span> double <a title="Double" id="37700">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> double f = min<span class="delimiter">(</span>from, to<span class="delimiter">)</span>;
    <span class="keyword">final</span> double t = max<span class="delimiter">(</span>from, to<span class="delimiter">)</span>;
    <span class="keyword">return</span> parameterised<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, F&lt;Rand, Gen&lt;Double&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Rand, Gen&lt;Double&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Rand, Gen&lt;Double&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Gen&lt;Double&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> value<span class="delimiter">(</span>r.choose<span class="delimiter">(</span>f, t<span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that never returns a value.
   *
   * @return A generator that never returns a value.
   */</span>
  public static &lt;<a title="Nothing" id="37640">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37640" title="A">A</a>&gt; <a title="[A]()fj.test.Gen[A]" id="37638">fail</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Gen&lt;A&gt;<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, F&lt;Rand, A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Rand, A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Rand, A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public A f<span class="delimiter">(</span><span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> error<span class="delimiter">(</span><span class="string">&quot;Failing generator&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Joins the generator of generators through a {@link #bind(F)} operation.
   *
   * @param g The generator of generators to join.
   * @return A new generator after joining the given generator.
   */</span>
  public static &lt;<a title="Nothing" id="37643">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37643" title="A">A</a>&gt; <a title="[A](g: fj.test.Gen[fj.test.Gen[A]])fj.test.Gen[A]" id="37641">join</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37643" title="A">A</a>&gt;&gt; <a title="fj.test.Gen[fj.test.Gen[A]]" id="37703">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> g.bind<span class="delimiter">(</span>Function.&lt;Gen&lt;A&gt;&gt;identity<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that uses values from the given frequency and generator pairs. The returned
   * generator will produce values from the generator in a pair with a higher frequency than a lower
   * frequency generator.
   *
   * @param gs The pairs of frequency and generator from which to return values in the returned
   *           generator.
   * @return A new generator that uses the given pairs of frequency and generator.
   */</span>
  public static &lt;<a title="Nothing" id="37646">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37646" title="A">A</a>&gt; <a title="[A](gs: fj.data.List[fj.P2[java.lang.Integer,fj.test.Gen[A]]])fj.test.Gen[A]" id="37644">frequency</a><span class="delimiter">(</span><span class="keyword">final</span> List&lt;P2&lt;Integer, <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37646" title="A">A</a>&gt;&gt;&gt; <a title="fj.data.List[fj.P2[java.lang.Integer,fj.test.Gen[A]]]" id="37706">gs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">class</span> Pick <span class="delimiter">{</span>
      &lt;A&gt; Gen&lt;A&gt; pick<span class="delimiter">(</span><span class="keyword">final</span> int n, <span class="keyword">final</span> List&lt;P2&lt;Integer, Gen&lt;A&gt;&gt;&gt; gs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span><span class="delimiter">(</span>gs.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">return</span> fail<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">final</span> int k = gs.head<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="keyword">return</span> n &lt;= k ? gs.head<span class="delimiter">(</span><span class="delimiter">)</span>._2<span class="delimiter">(</span><span class="delimiter">)</span> : pick<span class="delimiter">(</span>n - k, gs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">final</span> F&lt;P2&lt;Integer, Gen&lt;A&gt;&gt;, Integer&gt; f = __1<span class="delimiter">(</span><span class="delimiter">)</span>;

    <span class="keyword">return</span> choose<span class="delimiter">(</span><span class="int">1</span>, intAdditionMonoid.sumLeft<span class="delimiter">(</span>gs.map<span class="delimiter">(</span>f<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, Gen&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Gen&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> Pick<span class="delimiter">(</span><span class="delimiter">)</span>.pick<span class="delimiter">(</span>i, gs<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that produces values from the given frequency and value pairs. The returned
   * generator will produce the value with a higher frequency than a lower one.
   *
   * @param as The pairs of frequency and value from which to produce values.
   * @return A new generator that uses the given pairs of frequency and value.
   */</span>
  public static &lt;<a title="Nothing" id="37649">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37649" title="A">A</a>&gt; <a title="[A](as: fj.data.List[fj.P2[java.lang.Integer,A]])fj.test.Gen[A]" id="37647">elemFrequency</a><span class="delimiter">(</span><span class="keyword">final</span> List&lt;P2&lt;Integer, <a href="#37649" title="A">A</a>&gt;&gt; <a title="fj.data.List[fj.P2[java.lang.Integer,A]]" id="37709">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> frequency<span class="delimiter">(</span>as.map<span class="delimiter">(</span><span class="keyword">new</span> F&lt;P2&lt;Integer, A&gt;, P2&lt;Integer, Gen&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public P2&lt;Integer, Gen&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> P2&lt;Integer, A&gt; p<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> p.map2<span class="delimiter">(</span><span class="keyword">new</span> F&lt;A, Gen&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Gen&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> value<span class="delimiter">(</span>a<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that produces values from the given arguments.
   *
   * @param as The values that the returned generator may produce.
   * @return A generator that produces values from the given arguments.
   */</span>
  public static &lt;<a title="Nothing" id="37652">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37652" title="A">A</a>&gt; <a title="[A](as: &lt;repeated...&gt;[A])fj.test.Gen[A]" id="37650">elements</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#37652" title="&lt;repeated...&gt;">A</a>... <a title="&lt;repeated...&gt;[A]" id="37712">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> array<span class="delimiter">(</span>as<span class="delimiter">)</span>.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? Gen.&lt;A&gt;fail<span class="delimiter">(</span><span class="delimiter">)</span> : choose<span class="delimiter">(</span><span class="int">0</span>, as.length - <span class="int">1</span><span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public A f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as<span class="delimiter">[</span>i<span class="delimiter">]</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator that produces values from one of the given generators on subsequent
   * requests.
   *
   * @param gs The list of generators to produce a value from.
   * @return A generator that produces values from one of the given generators on subsequent
   *         requests.
   */</span>
  public static &lt;<a title="Nothing" id="37655">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37655" title="A">A</a>&gt; <a title="[A](gs: fj.data.List[fj.test.Gen[A]])fj.test.Gen[A]" id="37653">oneOf</a><span class="delimiter">(</span><span class="keyword">final</span> List&lt;<a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37655" title="A">A</a>&gt;&gt; <a title="fj.data.List[fj.test.Gen[A]]" id="37715">gs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> gs.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? Gen.&lt;A&gt;fail<span class="delimiter">(</span><span class="delimiter">)</span> : choose<span class="delimiter">(</span><span class="int">0</span>, gs.length<span class="delimiter">(</span><span class="delimiter">)</span> - <span class="int">1</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, Gen&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Gen&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> gs.index<span class="delimiter">(</span>i<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator of lists whose values come from the given generator.
   *
   * @param g The generator to produce values from for the returned generator.
   * @param x An adjuster of size to apply to the given generator when producing values.
   * @return A generator of lists whose values come from the given generator.
   */</span>
  public static &lt;<a title="Nothing" id="37658">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;List&lt;<a href="#37658" title="A">A</a>&gt;&gt; <a title="[A](g: fj.test.Gen[A], x: Int)fj.test.Gen[fj.data.List[A]]" id="37656">listOf</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37658" title="A">A</a>&gt; <a title="fj.test.Gen[A]" id="37718">g</a>, <span class="keyword">final</span> int <a title="Int" id="37719">x</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> sized<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, Gen&lt;List&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Gen&lt;List&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer size<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> choose<span class="delimiter">(</span>x, size<span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, Gen&lt;List&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Gen&lt;List&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer n<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> sequenceN<span class="delimiter">(</span>n, g<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator of lists whose values come from the given generator.
   *
   * @param g The generator to produce values from for the returned generator.
   * @return A generator of lists whose values come from the given generator.
   */</span>
  public static &lt;<a title="Nothing" id="37661">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;List&lt;<a href="#37661" title="A">A</a>&gt;&gt; <a title="[A](g: fj.test.Gen[A])fj.test.Gen[fj.data.List[A]]" id="37659">listOf</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37661" title="A">A</a>&gt; <a title="fj.test.Gen[A]" id="37723">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> listOf<span class="delimiter">(</span>g, <span class="int">0</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator of lists whose values come from the given generator.
   *
   * @param g The generator to produce values from for the returned generator.
   * @return A generator of lists whose values come from the given generator.
   */</span>
  public static &lt;<a title="Nothing" id="37664">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;List&lt;<a href="#37664" title="A">A</a>&gt;&gt; <a title="[A](g: fj.test.Gen[A])fj.test.Gen[fj.data.List[A]]" id="37662">listOf1</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37664" title="A">A</a>&gt; <a title="fj.test.Gen[A]" id="37726">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> listOf<span class="delimiter">(</span>g, <span class="int">1</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator of lists that picks the given number of elements from the given list. If
   * the given number is less than zero or greater than the length of the given list, then the
   * returned generator will never produce a value.
   *
   * @param n  The number of elements to pick from the given list.
   * @param as The list from which to pick elements.
   * @return A generator of lists that picks the given number of elements from the given list.
   */</span>
  public static &lt;<a title="Nothing" id="37667">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;List&lt;<a href="#37667" title="A">A</a>&gt;&gt; <a title="[A](n: Int, as: fj.data.List[A])fj.test.Gen[fj.data.List[A]]" id="37665">pick</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="37729">n</a>, <span class="keyword">final</span> List&lt;<a href="#37667" title="A">A</a>&gt; <a title="fj.data.List[A]" id="37730">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> n &lt; <span class="int">0</span> || n &gt; as.length<span class="delimiter">(</span><span class="delimiter">)</span> ? Gen.&lt;List&lt;A&gt;&gt;fail<span class="delimiter">(</span><span class="delimiter">)</span> : sequenceN<span class="delimiter">(</span>n, choose<span class="delimiter">(</span><span class="int">0</span>, as.length<span class="delimiter">(</span><span class="delimiter">)</span> - <span class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>.map<span class="delimiter">(</span><span class="keyword">new</span> F&lt;List&lt;Integer&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;Integer&gt; is<span class="delimiter">)</span> <span class="delimiter">{</span>
        List&lt;A&gt; r = nil<span class="delimiter">(</span><span class="delimiter">)</span>;

        List&lt;Integer&gt; iis = is.sort<span class="delimiter">(</span>intOrd<span class="delimiter">)</span>;
        List&lt;P2&lt;A, Integer&gt;&gt; aas = as.zipIndex<span class="delimiter">(</span><span class="delimiter">)</span>;

        <span class="comment">//noinspection ForLoopWithMissingComponent</span>
        <span class="keyword">for</span><span class="delimiter">(</span>; iis.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span> &amp;&amp; aas.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; aas = aas.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">if</span><span class="delimiter">(</span>iis.head<span class="delimiter">(</span><span class="delimiter">)</span>.equals<span class="delimiter">(</span>aas.head<span class="delimiter">(</span><span class="delimiter">)</span>._2<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            iis = iis.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="keyword">else</span>
            r = r.snoc<span class="delimiter">(</span>aas.head<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;

        <span class="keyword">return</span> r;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a generator of lists that produces some of the values of the given list.
   *
   * @param as The list from which to pick values.
   * @return A generator of lists that produces some of the values of the given list.
   */</span>
  public static &lt;<a title="Nothing" id="37670">A</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;List&lt;<a href="#37670" title="A">A</a>&gt;&gt; <a title="[A](as: fj.data.List[A])fj.test.Gen[fj.data.List[A]]" id="37668">someOf</a><span class="delimiter">(</span><span class="keyword">final</span> List&lt;<a href="#37670" title="A">A</a>&gt; <a title="fj.data.List[A]" id="37734">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> choose<span class="delimiter">(</span><span class="int">0</span>, as.length<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, Gen&lt;List&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Gen&lt;List&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> pick<span class="delimiter">(</span>i, as<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes the given function to a generator for functions.
   *
   * @param f The function to promote to a generator of functions.
   * @return A generator for functions.
   */</span>
  public static &lt;<a title="Nothing" id="37674">A</a>, <a title="Nothing" id="37675">B</a>&gt; <a href="#11114" title="fj.test.Gen">Gen</a>&lt;F&lt;<a href="#37674" title="A">A</a>, <a href="#37675" title="B">B</a>&gt;&gt; <a title="[A, B](f: fj.F[A,fj.test.Gen[B]])fj.test.Gen[fj.F[A,B]]" id="37671">promote</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#37674" title="A">A</a>, <a href="#11114" title="fj.test.Gen">Gen</a>&lt;<a href="#37675" title="B">B</a>&gt;&gt; <a title="fj.F[A,fj.test.Gen[B]]" id="37737">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Gen&lt;F&lt;A, B&gt;&gt;<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, F&lt;Rand, F&lt;A, B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Rand, F&lt;A, B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Rand, F&lt;A, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public F&lt;A, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Rand r<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              public B f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> f.f<span class="delimiter">(</span>a<span class="delimiter">)</span>.f.f<span class="delimiter">(</span>i<span class="delimiter">)</span>.f<span class="delimiter">(</span>r<span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>