<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>fj/data/Either.java</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> fj.data;

<span class="keyword">import</span> static fj.Bottom.error;
<span class="keyword">import</span> fj.Effect;
<span class="keyword">import</span> fj.F;
<span class="keyword">import</span> static fj.Function.identity;
<span class="keyword">import</span> static fj.P.p;

<span class="keyword">import</span> fj.Function;
<span class="keyword">import</span> fj.P1;
<span class="keyword">import</span> fj.Unit;
<span class="keyword">import</span> static fj.Unit.unit;
<span class="keyword">import</span> static fj.data.Array.mkArray;
<span class="keyword">import</span> static fj.data.List.single;
<span class="keyword">import</span> static fj.data.List.cons_;
<span class="keyword">import</span> static fj.data.Option.some;

<span class="keyword">import</span> java.util.Collection;
<span class="keyword">import</span> java.util.Iterator;

<span class="comment">/**
 * The &lt;code&gt;Either&lt;/code&gt; type represents a value of one of two possible types (a disjoint union).
 * The data constructors; &lt;code&gt;Left&lt;/code&gt; and &lt;code&gt;Right&lt;/code&gt; represent the two possible
 * values. The &lt;code&gt;Either&lt;/code&gt; type is often used as an alternative to
 * &lt;code&gt;scala.Option&lt;/code&gt; where &lt;code&gt;Left&lt;/code&gt; represents failure (by convention) and
 * &lt;code&gt;Right&lt;/code&gt; is akin to &lt;code&gt;Some&lt;/code&gt;.
 *
 * @version %build.number%
 */</span>
public <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="object fj.data.Either" id="10039">Either</a>&lt;<a title="Nothing" id="10040">A</a>, <a title="Nothing" id="10041">B</a>&gt; <span class="delimiter">{</span>
  <span class="keyword">private</span> Either<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Projects this either as a left.
   *
   * @return A left projection of this either.
   */</span>
  public <span class="keyword">final</span> LeftProjection&lt;<a href="#10040" title="A">A</a>, <a href="#10041" title="B">B</a>&gt; <a title="()Either.this.LeftProjection[A,B]" id="17541">left</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> LeftProjection&lt;A, B&gt;<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Projects this either as a right.
   *
   * @return A right projection of this either.
   */</span>
  public <span class="keyword">final</span> RightProjection&lt;<a href="#10040" title="A">A</a>, <a href="#10041" title="B">B</a>&gt; <a title="()Either.this.RightProjection[A,B]" id="17542">right</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> RightProjection&lt;A, B&gt;<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns &lt;code&gt;true&lt;/code&gt; if this either is a left, &lt;code&gt;false&lt;/code&gt; otherwise.
   *
   * @return &lt;code&gt;true&lt;/code&gt; if this either is a left, &lt;code&gt;false&lt;/code&gt; otherwise.
   */</span>
  public <span class="keyword">abstract</span> boolean <a title="()Boolean" id="17543">isLeft</a><span class="delimiter">(</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * Returns &lt;code&gt;true&lt;/code&gt; if this either is a right, &lt;code&gt;false&lt;/code&gt; otherwise.
   *
   * @return &lt;code&gt;true&lt;/code&gt; if this either is a right, &lt;code&gt;false&lt;/code&gt; otherwise.
   */</span>
  public <span class="keyword">abstract</span> boolean <a title="()Boolean" id="17544">isRight</a><span class="delimiter">(</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * The catamorphism for either. Folds over this either breaking into left or right.
   *
   * @param left  The function to call if this is left.
   * @param right The function to call if this is right.
   * @return The reduced value.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="17547">X</a>&gt; <a href="#17547" title="X">X</a> <a title="[X](left: fj.F[A,X], right: fj.F[B,X])X" id="17545">either</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10040" title="A">A</a>, <a href="#17547" title="X">X</a>&gt; <a title="fj.F[A,X]" id="26904">left</a>, <span class="keyword">final</span> F&lt;<a href="#10041" title="B">B</a>, <a href="#17547" title="X">X</a>&gt; <a title="fj.F[B,X]" id="26905">right</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ?
           left.f<span class="delimiter">(</span>left<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> :
           right.f<span class="delimiter">(</span>right<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * If this is a left, then return the left value in right, or vice versa.
   *
   * @return The value of this either swapped to the opposing side.
   */</span>
  public <span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#10041" title="B">B</a>, <a href="#10040" title="A">A</a>&gt; <a title="()fj.data.Either[B,A]" id="17548">swap</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? <span class="keyword">new</span> Right&lt;B, A&gt;<span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span>Left&lt;A, B&gt;<span class="delimiter">)</span> <span class="keyword">this</span><span class="delimiter">)</span>.a<span class="delimiter">)</span> : <span class="keyword">new</span> Left&lt;B, A&gt;<span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span>Right&lt;A, B&gt;<span class="delimiter">)</span> <span class="keyword">this</span><span class="delimiter">)</span>.b<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="keyword">private</span> static <span class="keyword">final</span> <span class="keyword">class</span> <a title="object fj.data.Either.Left" id="26718">Left</a>&lt;<a id="26719">A</a>, <a id="26720">B</a>&gt; <span class="keyword">extends</span> Either&lt;A, B&gt; <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">final</span> A a;

    Left<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">this</span>.a = a;
    <span class="delimiter">}</span>

    public boolean isLeft<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> <span class="keyword">true</span>;
    <span class="delimiter">}</span>

    public boolean isRight<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> <span class="keyword">false</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> static <span class="keyword">final</span> <span class="keyword">class</span> <a title="object fj.data.Either.Right" id="26723">Right</a>&lt;<a id="26724">A</a>, <a id="26725">B</a>&gt; <span class="keyword">extends</span> Either&lt;A, B&gt; <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">final</span> B b;

    Right<span class="delimiter">(</span><span class="keyword">final</span> B b<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">this</span>.b = b;
    <span class="delimiter">}</span>

    public boolean isLeft<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> <span class="keyword">false</span>;
    <span class="delimiter">}</span>

    public boolean isRight<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> <span class="keyword">true</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A left projection of an either value.
   */</span>
  public <span class="keyword">final</span> <span class="keyword">class</span> <a title="object Either.this.LeftProjection" id="17551">LeftProjection</a>&lt;<a title="Nothing" id="17552">A</a>, <a title="Nothing" id="17553">B</a>&gt; implements Iterable&lt;<a href="#17552" title="A">A</a>&gt; <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17552" title="A">A</a>, <a href="#17553" title="B">B</a>&gt; <a title="fj.data.Either[A,B]" id="26838">e</a>;

    <span class="keyword">private</span> LeftProjection<span class="delimiter">(</span><span class="keyword">final</span> Either&lt;A, B&gt; e<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">this</span>.e = e;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns an iterator for this projection. This method exists to permit the use in a &lt;code&gt;for&lt;/code&gt;-each loop.
     *
     * @return A iterator for this projection.
     */</span>
    public Iterator&lt;<a href="#17552" title="A">A</a>&gt; <a title="()java.util.Iterator[A]" id="26840">iterator</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> toCollection<span class="delimiter">(</span><span class="delimiter">)</span>.iterator<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The either value underlying this projection.
     *
     * @return The either value underlying this projection.
     */</span>
    public <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17552" title="A">A</a>, <a href="#17553" title="B">B</a>&gt; <a title="()fj.data.Either[A,B]" id="26841">either</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> e;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the value of this projection or fails with the given error message.
     *
     * @param err The error message to fail with.
     * @return The value of this projection
     */</span>
    public <a href="#17552" title="A">A</a> <a title="(err: fj.P1[java.lang.String])A" id="26842">valueE</a><span class="delimiter">(</span><span class="keyword">final</span> P1&lt;String&gt; <a title="fj.P1[java.lang.String]" id="26911">err</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>e.isLeft<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">//noinspection CastToConcreteClass</span>
        <span class="keyword">return</span> <span class="delimiter">(</span><span class="delimiter">(</span>Left&lt;A, B&gt;<span class="delimiter">)</span> e<span class="delimiter">)</span>.a;
      <span class="keyword">else</span>
        <span class="keyword">throw</span> error<span class="delimiter">(</span>err._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the value of this projection or fails with the given error message.
     *
     * @param err The error message to fail with.
     * @return The value of this projection
     */</span>
    public <a href="#17552" title="A">A</a> <a title="(err: java.lang.String)A" id="26843">valueE</a><span class="delimiter">(</span><span class="keyword">final</span> String <a title="java.lang.String" id="26913">err</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> valueE<span class="delimiter">(</span>p<span class="delimiter">(</span>err<span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The value of this projection or fails with a specialised error message.
     *
     * @return The value of this projection.
     */</span>
    public <a href="#17552" title="A">A</a> <a title="()A" id="26844">value</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> valueE<span class="delimiter">(</span>p<span class="delimiter">(</span><span class="string">&quot;left.value on Right&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The value of this projection or the given argument.
     *
     * @param a The value to return if this projection has no value.
     * @return The value of this projection or the given argument.
     */</span>
    public <a href="#17552" title="A">A</a> <a title="(a: fj.P1[A])A" id="26845">orValue</a><span class="delimiter">(</span><span class="keyword">final</span> P1&lt;<a href="#17552" title="A">A</a>&gt; <a title="fj.P1[A]" id="26916">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? value<span class="delimiter">(</span><span class="delimiter">)</span> : a._1<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The value of this projection or the given argument.
     *
     * @param a The value to return if this projection has no value.
     * @return The value of this projection or the given argument.
     */</span>
    public <a href="#17552" title="A">A</a> <a title="(a: A)A" id="26846">orValue</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#17552" title="A">A</a> <a title="A" id="26918">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? value<span class="delimiter">(</span><span class="delimiter">)</span> : a;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The value of this projection or the result of the given function on the opposing projection's
     * value.
     *
     * @param f The function to execute if this projection has no value.
     * @return The value of this projection or the result of the given function on the opposing projection's
     *         value.
     */</span>
    public <a href="#17552" title="A">A</a> <a title="(f: fj.F[B,A])A" id="26847">on</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17553" title="B">B</a>, <a href="#17552" title="A">A</a>&gt; <a title="fj.F[B,A]" id="26920">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? value<span class="delimiter">(</span><span class="delimiter">)</span> : f.f<span class="delimiter">(</span>e.right<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Execute a side-effect on this projection's value if it has one.
     *
     * @param f The side-effect to execute.
     * @return The unit value.
     */</span>
    public Unit <a title="(f: fj.F[A,fj.Unit])fj.Unit" id="26848">foreach</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17552" title="A">A</a>, Unit&gt; <a title="fj.F[A,fj.Unit]" id="26922">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>isLeft<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;

      <span class="keyword">return</span> unit<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Execute a side-effect on this projection's value if it has one.
     *
     * @param f The side-effect to execute.
     */</span>
    public void <a title="(f: fj.Effect[A])Unit" id="26849">foreach</a><span class="delimiter">(</span><span class="keyword">final</span> Effect&lt;<a href="#17552" title="A">A</a>&gt; <a title="fj.Effect[A]" id="26924">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>isLeft<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        f.e<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Map the given function across this projection's value if it has one.
     *
     * @param f The function to map across this projection.
     * @return A new either value after mapping.
     */</span>
    public &lt;<a title="Nothing" id="26852">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26852" title="X">X</a>, <a href="#17553" title="B">B</a>&gt; <a title="[X](f: fj.F[A,X])fj.data.Either[X,B]" id="26850">map</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17552" title="A">A</a>, <a href="#26852" title="X">X</a>&gt; <a title="fj.F[A,X]" id="26926">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? <span class="keyword">new</span> Left&lt;X, B&gt;<span class="delimiter">(</span>f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> : <span class="keyword">new</span> Right&lt;X, B&gt;<span class="delimiter">(</span>e.right<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Binds the given function across this projection's value if it has one.
     *
     * @param f The function to bind across this projection.
     * @return A new either value after binding.
     */</span>
    public &lt;<a title="Nothing" id="26855">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26855" title="X">X</a>, <a href="#17553" title="B">B</a>&gt; <a title="[X](f: fj.F[A,fj.data.Either[X,B]])fj.data.Either[X,B]" id="26853">bind</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17552" title="A">A</a>, <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26855" title="X">X</a>, <a href="#17553" title="B">B</a>&gt;&gt; <a title="fj.F[A,fj.data.Either[X,B]]" id="26929">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : <span class="keyword">new</span> Right&lt;X, B&gt;<span class="delimiter">(</span>e.right<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Anonymous bind through this projection.
     *
     * @param e The value to bind with.
     * @return An either after binding through this projection.
     */</span>
    public &lt;<a title="Nothing" id="26858">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26858" title="X">X</a>, <a href="#17553" title="B">B</a>&gt; <a title="[X](e: fj.data.Either[X,B])fj.data.Either[X,B]" id="26856">sequence</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26858" title="X">X</a>, <a href="#17553" title="B">B</a>&gt; <a title="fj.data.Either[X,B]" id="26932">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> bind<span class="delimiter">(</span>Function.&lt;A, Either&lt;X, B&gt;&gt;constant<span class="delimiter">(</span>e<span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns &lt;code&gt;None&lt;/code&gt; if this projection has no value or if the given predicate
     * &lt;code&gt;p&lt;/code&gt; does not hold for the value, otherwise, returns a right in &lt;code&gt;Some&lt;/code&gt;.
     *
     * @param f The predicate function to test on this projection's value.
     * @return &lt;code&gt;None&lt;/code&gt; if this projection has no value or if the given predicate
     *         &lt;code&gt;p&lt;/code&gt; does not hold for the value, otherwise, returns a right in &lt;code&gt;Some&lt;/code&gt;.
     */</span>
    public &lt;<a title="Nothing" id="26861">X</a>&gt; <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17552" title="A">A</a>, <a href="#26861" title="X">X</a>&gt;&gt; <a title="[X](f: fj.F[A,java.lang.Boolean])fj.data.Option[fj.data.Either[A,X]]" id="26859">filter</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17552" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="26935">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ?
             f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> ?
             Option.&lt;Either&lt;A, X&gt;&gt;some<span class="delimiter">(</span><span class="keyword">new</span> Left&lt;A, X&gt;<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> :
             Option.&lt;Either&lt;A, X&gt;&gt;none<span class="delimiter">(</span><span class="delimiter">)</span> :
             Option.&lt;Either&lt;A, X&gt;&gt;none<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Function application on this projection's value.
     *
     * @param e The either of the function to apply on this projection's value.
     * @return The result of function application within either.
     */</span>
    public &lt;<a title="Nothing" id="26864">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26864" title="X">X</a>, <a href="#17553" title="B">B</a>&gt; <a title="[X](e: fj.data.Either[fj.F[A,X],B])fj.data.Either[X,B]" id="26862">apply</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;F&lt;<a href="#17552" title="A">A</a>, <a href="#26864" title="X">X</a>&gt;, <a href="#17553" title="B">B</a>&gt; <a title="fj.data.Either[fj.F[A,X],B]" id="26937">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> e.left<span class="delimiter">(</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;F&lt;A, X&gt;, Either&lt;X, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public Either&lt;X, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, X&gt; f<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> map<span class="delimiter">(</span>f<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns &lt;code&gt;true&lt;/code&gt; if no value or returns the result of the application of the given
     * function to the value.
     *
     * @param f The predicate function to test on this projection's value.
     * @return &lt;code&gt;true&lt;/code&gt; if no value or returns the result of the application of the given
     *         function to the value.
     */</span>
    public boolean <a title="(f: fj.F[A,java.lang.Boolean])Boolean" id="26865">forall</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17552" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="26940">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> || f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns &lt;code&gt;false&lt;/code&gt; if no value or returns the result of the application of the given
     * function to the value.
     *
     * @param f The predicate function to test on this projection's value.
     * @return &lt;code&gt;false&lt;/code&gt; if no value or returns the result of the application of the given
     *         function to the value.
     */</span>
    public boolean <a title="(f: fj.F[A,java.lang.Boolean])Boolean" id="26866">exists</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17552" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="26942">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> &amp;&amp; f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns a single element list if this projection has a value, otherwise an empty list.
     *
     * @return A single element list if this projection has a value, otherwise an empty list.
     */</span>
    public <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#17552" title="A">A</a>&gt; <a title="()fj.data.List[A]" id="26867">toList</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? single<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns this projection's value in &lt;code&gt;Some&lt;/code&gt; if it exists, otherwise
     * &lt;code&gt;None&lt;/code&gt;.
     *
     * @return This projection's value in &lt;code&gt;Some&lt;/code&gt; if it exists, otherwise
     *         &lt;code&gt;None&lt;/code&gt;.
     */</span>
    public <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#17552" title="A">A</a>&gt; <a title="()fj.data.Option[A]" id="26868">toOption</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? some<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : Option.&lt;A&gt;none<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns a single element array if this projection has a value, otherwise an empty array.
     *
     * @return A single element array if this projection has a value, otherwise an empty array.
     */</span>
    public <a href="Array.java.html#10010" title="fj.data.Array">Array</a>&lt;<a href="#17552" title="A">A</a>&gt; <a title="()fj.data.Array[A]" id="26869">toArray</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>isLeft<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">final</span> Object<span class="delimiter">[</span><span class="delimiter">]</span> a = <span class="keyword">new</span> Object<span class="delimiter">[</span><span class="int">1</span><span class="delimiter">]</span>;
        a<span class="delimiter">[</span><span class="int">0</span><span class="delimiter">]</span> = value<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="keyword">return</span> mkArray<span class="delimiter">(</span>a<span class="delimiter">)</span>;
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <span class="keyword">return</span> mkArray<span class="delimiter">(</span><span class="keyword">new</span> Object<span class="delimiter">[</span><span class="int">0</span><span class="delimiter">]</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns a single element stream if this projection has a value, otherwise an empty stream.
     *
     * @return A single element stream if this projection has a value, otherwise an empty stream.
     */</span>
    public <a href="Stream.java.html#10365" title="fj.data.Stream">Stream</a>&lt;<a href="#17552" title="A">A</a>&gt; <a title="()fj.data.Stream[A]" id="26870">toStream</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? Stream.single<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : Stream.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Projects an immutable collection of this projection.
     *
     * @return An immutable collection of this projection.
     */</span>
    public Collection&lt;<a href="#17552" title="A">A</a>&gt; <a title="()java.util.Collection[A]" id="26871">toCollection</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> toList<span class="delimiter">(</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A right projection of an either value.
   */</span>
  public <span class="keyword">final</span> <span class="keyword">class</span> <a title="object Either.this.RightProjection" id="17556">RightProjection</a>&lt;<a title="Nothing" id="17557">A</a>, <a title="Nothing" id="17558">B</a>&gt; implements Iterable&lt;<a href="#17558" title="B">B</a>&gt; <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, <a href="#17558" title="B">B</a>&gt; <a title="fj.data.Either[A,B]" id="26872">e</a>;

    <span class="keyword">private</span> RightProjection<span class="delimiter">(</span><span class="keyword">final</span> Either&lt;A, B&gt; e<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">this</span>.e = e;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns an iterator for this projection. This method exists to permit the use in a &lt;code&gt;for&lt;/code&gt;-each loop.
     *
     * @return A iterator for this projection.
     */</span>
    public Iterator&lt;<a href="#17558" title="B">B</a>&gt; <a title="()java.util.Iterator[B]" id="26874">iterator</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> toCollection<span class="delimiter">(</span><span class="delimiter">)</span>.iterator<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The either value underlying this projection.
     *
     * @return The either value underlying this projection.
     */</span>
    public <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, <a href="#17558" title="B">B</a>&gt; <a title="()fj.data.Either[A,B]" id="26875">either</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> e;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the value of this projection or fails with the given error message.
     *
     * @param err The error message to fail with.
     * @return The value of this projection
     */</span>
    public <a href="#17558" title="B">B</a> <a title="(err: fj.P1[java.lang.String])B" id="26876">valueE</a><span class="delimiter">(</span><span class="keyword">final</span> P1&lt;String&gt; <a title="fj.P1[java.lang.String]" id="26952">err</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>e.isRight<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">//noinspection CastToConcreteClass</span>
        <span class="keyword">return</span> <span class="delimiter">(</span><span class="delimiter">(</span>Right&lt;A, B&gt;<span class="delimiter">)</span> e<span class="delimiter">)</span>.b;
      <span class="keyword">else</span>
        <span class="keyword">throw</span> error<span class="delimiter">(</span>err._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The value of this projection or fails with a specialised error message.
     *
     * @return The value of this projection.
     */</span>
    public <a href="#17558" title="B">B</a> <a title="()B" id="26877">value</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> valueE<span class="delimiter">(</span>p<span class="delimiter">(</span><span class="string">&quot;right.value on Left&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The value of this projection or the given argument.
     *
     * @param b The value to return if this projection has no value.
     * @return The value of this projection or the given argument.
     */</span>
    public <a href="#17558" title="B">B</a> <a title="(b: fj.P1[B])B" id="26878">orValue</a><span class="delimiter">(</span><span class="keyword">final</span> P1&lt;<a href="#17558" title="B">B</a>&gt; <a title="fj.P1[B]" id="26955">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> ? value<span class="delimiter">(</span><span class="delimiter">)</span> : b._1<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The value of this projection or the result of the given function on the opposing projection's
     * value.
     *
     * @param f The function to execute if this projection has no value.
     * @return The value of this projection or the result of the given function on the opposing projection's
     *         value.
     */</span>
    public <a href="#17558" title="B">B</a> <a title="(f: fj.F[A,B])B" id="26879">on</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17557" title="A">A</a>, <a href="#17558" title="B">B</a>&gt; <a title="fj.F[A,B]" id="26957">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> ? value<span class="delimiter">(</span><span class="delimiter">)</span> : f.f<span class="delimiter">(</span>e.left<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Execute a side-effect on this projection's value if it has one.
     *
     * @param f The side-effect to execute.
     * @return The unit value.
     */</span>
    public Unit <a title="(f: fj.F[B,fj.Unit])fj.Unit" id="26880">foreach</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17558" title="B">B</a>, Unit&gt; <a title="fj.F[B,fj.Unit]" id="26959">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>isRight<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;

      <span class="keyword">return</span> unit<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Execute a side-effect on this projection's value if it has one.
     *
     * @param f The side-effect to execute.
     */</span>
    public void <a title="(f: fj.Effect[B])Unit" id="26881">foreach</a><span class="delimiter">(</span><span class="keyword">final</span> Effect&lt;<a href="#17558" title="B">B</a>&gt; <a title="fj.Effect[B]" id="26961">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>isRight<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        f.e<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Map the given function across this projection's value if it has one.
     *
     * @param f The function to map across this projection.
     * @return A new either value after mapping.
     */</span>
    public &lt;<a title="Nothing" id="26884">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, <a href="#26884" title="X">X</a>&gt; <a title="[X](f: fj.F[B,X])fj.data.Either[A,X]" id="26882">map</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17558" title="B">B</a>, <a href="#26884" title="X">X</a>&gt; <a title="fj.F[B,X]" id="26963">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> ? <span class="keyword">new</span> Right&lt;A, X&gt;<span class="delimiter">(</span>f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> : <span class="keyword">new</span> Left&lt;A, X&gt;<span class="delimiter">(</span>e.left<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Binds the given function across this projection's value if it has one.
     *
     * @param f The function to bind across this projection.
     * @return A new either value after binding.
     */</span>
    public &lt;<a title="Nothing" id="26887">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, <a href="#26887" title="X">X</a>&gt; <a title="[X](f: fj.F[B,fj.data.Either[A,X]])fj.data.Either[A,X]" id="26885">bind</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17558" title="B">B</a>, <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, <a href="#26887" title="X">X</a>&gt;&gt; <a title="fj.F[B,fj.data.Either[A,X]]" id="26966">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> ? f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : <span class="keyword">new</span> Left&lt;A, X&gt;<span class="delimiter">(</span>e.left<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>


    <span class="comment">/**
     * Anonymous bind through this projection.
     *
     * @param e The value to bind with.
     * @return An either after binding through this projection.
     */</span>
    public &lt;<a title="Nothing" id="26890">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, <a href="#26890" title="X">X</a>&gt; <a title="[X](e: fj.data.Either[A,X])fj.data.Either[A,X]" id="26888">sequence</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, <a href="#26890" title="X">X</a>&gt; <a title="fj.data.Either[A,X]" id="26969">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> bind<span class="delimiter">(</span>Function.&lt;B, Either&lt;A, X&gt;&gt;constant<span class="delimiter">(</span>e<span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns &lt;code&gt;None&lt;/code&gt; if this projection has no value or if the given predicate
     * &lt;code&gt;p&lt;/code&gt; does not hold for the value, otherwise, returns a left in &lt;code&gt;Some&lt;/code&gt;.
     *
     * @param f The predicate function to test on this projection's value.
     * @return &lt;code&gt;None&lt;/code&gt; if this projection has no value or if the given predicate
     *         &lt;code&gt;p&lt;/code&gt; does not hold for the value, otherwise, returns a left in &lt;code&gt;Some&lt;/code&gt;.
     */</span>
    public &lt;<a title="Nothing" id="26893">X</a>&gt; <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26893" title="X">X</a>, <a href="#17558" title="B">B</a>&gt;&gt; <a title="[X](f: fj.F[B,java.lang.Boolean])fj.data.Option[fj.data.Either[X,B]]" id="26891">filter</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17558" title="B">B</a>, Boolean&gt; <a title="fj.F[B,java.lang.Boolean]" id="26972">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> ?
             f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> ?
             Option.&lt;Either&lt;X, B&gt;&gt;some<span class="delimiter">(</span><span class="keyword">new</span> Right&lt;X, B&gt;<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> :
             Option.&lt;Either&lt;X, B&gt;&gt;none<span class="delimiter">(</span><span class="delimiter">)</span> :
             Option.&lt;Either&lt;X, B&gt;&gt;none<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Function application on this projection's value.
     *
     * @param e The either of the function to apply on this projection's value.
     * @return The result of function application within either.
     */</span>
    public &lt;<a title="Nothing" id="26896">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, <a href="#26896" title="X">X</a>&gt; <a title="[X](e: fj.data.Either[A,fj.F[B,X]])fj.data.Either[A,X]" id="26894">apply</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#17557" title="A">A</a>, F&lt;<a href="#17558" title="B">B</a>, <a href="#26896" title="X">X</a>&gt;&gt; <a title="fj.data.Either[A,fj.F[B,X]]" id="26974">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> e.right<span class="delimiter">(</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;F&lt;B, X&gt;, Either&lt;A, X&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public Either&lt;A, X&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;B, X&gt; f<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> map<span class="delimiter">(</span>f<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns &lt;code&gt;true&lt;/code&gt; if no value or returns the result of the application of the given
     * function to the value.
     *
     * @param f The predicate function to test on this projection's value.
     * @return &lt;code&gt;true&lt;/code&gt; if no value or returns the result of the application of the given
     *         function to the value.
     */</span>
    public boolean <a title="(f: fj.F[B,java.lang.Boolean])Boolean" id="26897">forall</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17558" title="B">B</a>, Boolean&gt; <a title="fj.F[B,java.lang.Boolean]" id="26977">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isLeft<span class="delimiter">(</span><span class="delimiter">)</span> || f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns &lt;code&gt;false&lt;/code&gt; if no value or returns the result of the application of the given
     * function to the value.
     *
     * @param f The predicate function to test on this projection's value.
     * @return &lt;code&gt;false&lt;/code&gt; if no value or returns the result of the application of the given
     *         function to the value.
     */</span>
    public boolean <a title="(f: fj.F[B,java.lang.Boolean])Boolean" id="26898">exists</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#17558" title="B">B</a>, Boolean&gt; <a title="fj.F[B,java.lang.Boolean]" id="26979">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> &amp;&amp; f.f<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns a single element list if this projection has a value, otherwise an empty list.
     *
     * @return A single element list if this projection has a value, otherwise an empty list.
     */</span>
    public <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#17558" title="B">B</a>&gt; <a title="()fj.data.List[B]" id="26899">toList</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> ? single<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : List.&lt;B&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns this projection's value in &lt;code&gt;Some&lt;/code&gt; if it exists, otherwise
     * &lt;code&gt;None&lt;/code&gt;.
     *
     * @return This projection's value in &lt;code&gt;Some&lt;/code&gt; if it exists, otherwise
     *         &lt;code&gt;None&lt;/code&gt;.
     */</span>
    public <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#17558" title="B">B</a>&gt; <a title="()fj.data.Option[B]" id="26900">toOption</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> ? some<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : Option.&lt;B&gt;none<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns a single element array if this projection has a value, otherwise an empty array.
     *
     * @return A single element array if this projection has a value, otherwise an empty array.
     */</span>
    public <a href="Array.java.html#10010" title="fj.data.Array">Array</a>&lt;<a href="#17558" title="B">B</a>&gt; <a title="()fj.data.Array[B]" id="26901">toArray</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>isRight<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">final</span> Object<span class="delimiter">[</span><span class="delimiter">]</span> a = <span class="keyword">new</span> Object<span class="delimiter">[</span><span class="int">1</span><span class="delimiter">]</span>;
        a<span class="delimiter">[</span><span class="int">0</span><span class="delimiter">]</span> = value<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="keyword">return</span> mkArray<span class="delimiter">(</span>a<span class="delimiter">)</span>;
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <span class="keyword">return</span> Array.empty<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns a single element stream if this projection has a value, otherwise an empty stream.
     *
     * @return A single element stream if this projection has a value, otherwise an empty stream.
     */</span>
    public <a href="Stream.java.html#10365" title="fj.data.Stream">Stream</a>&lt;<a href="#17558" title="B">B</a>&gt; <a title="()fj.data.Stream[B]" id="26902">toStream</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> isRight<span class="delimiter">(</span><span class="delimiter">)</span> ? Stream.single<span class="delimiter">(</span>value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : Stream.&lt;B&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Projects an immutable collection of this projection.
     *
     * @return An immutable collection of this projection.
     */</span>
    public Collection&lt;<a href="#17558" title="B">B</a>&gt; <a title="()java.util.Collection[B]" id="26903">toCollection</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> toList<span class="delimiter">(</span><span class="delimiter">)</span>.toCollection<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Construct a left value of either.
   *
   * @param a The value underlying the either.
   * @return A left value of either.
   */</span>
  public static &lt;<a title="Nothing" id="26729">A</a>, <a title="Nothing" id="26730">B</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26729" title="A">A</a>, <a href="#26730" title="B">B</a>&gt; <a title="[A, B](a: A)fj.data.Either[A,B]" id="26726">left</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#26729" title="A">A</a> <a title="A" id="26800">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Left&lt;A, B&gt;<span class="delimiter">(</span>a<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A function that constructs a left value of either.
   *
   * @return A function that constructs a left value of either.
   */</span>
  public static &lt;<a title="Nothing" id="26734">A</a>, <a title="Nothing" id="26735">B</a>&gt; F&lt;<a href="#26734" title="A">A</a>, <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26734" title="A">A</a>, <a href="#26735" title="B">B</a>&gt;&gt; <a title="[A, B]()fj.F[A,fj.data.Either[A,B]]" id="26731">left_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Either&lt;A, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Either&lt;A, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> left<span class="delimiter">(</span>a<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A function that constructs a right value of either.
   *
   * @return A function that constructs a right value of either.
   */</span>
  public static &lt;<a title="Nothing" id="26739">A</a>, <a title="Nothing" id="26740">B</a>&gt; F&lt;<a href="#26740" title="B">B</a>, <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26739" title="A">A</a>, <a href="#26740" title="B">B</a>&gt;&gt; <a title="[A, B]()fj.F[B,fj.data.Either[A,B]]" id="26736">right_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;B, Either&lt;A, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Either&lt;A, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> B b<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> right<span class="delimiter">(</span>b<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Construct a right value of either.
   *
   * @param b The value underlying the either.
   * @return A right value of either.
   */</span>
  public static &lt;<a title="Nothing" id="26744">A</a>, <a title="Nothing" id="26745">B</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26744" title="A">A</a>, <a href="#26745" title="B">B</a>&gt; <a title="[A, B](b: B)fj.data.Either[A,B]" id="26741">right</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#26745" title="B">B</a> <a title="B" id="26805">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Right&lt;A, B&gt;<span class="delimiter">(</span>b<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return A function that maps another function across an either's left projection.
   */</span>
  public static &lt;<a title="Nothing" id="26750">A</a>, <a title="Nothing" id="26751">B</a>, <a title="Nothing" id="26752">X</a>&gt; F&lt;F&lt;<a href="#26750" title="A">A</a>, <a href="#26752" title="X">X</a>&gt;, F&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26750" title="A">A</a>, <a href="#26751" title="B">B</a>&gt;, <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26752" title="X">X</a>, <a href="#26751" title="B">B</a>&gt;&gt;&gt; <a title="[A, B, X]()fj.F[fj.F[A,X],fj.F[fj.data.Either[A,B],fj.data.Either[X,B]]]" id="26746">leftMap_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;F&lt;A, X&gt;, F&lt;Either&lt;A, B&gt;, Either&lt;X, B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Either&lt;A, B&gt;, Either&lt;X, B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, X&gt; axf<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Either&lt;A, B&gt;, Either&lt;X, B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Either&lt;X, B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Either&lt;A, B&gt; e<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> e.left<span class="delimiter">(</span><span class="delimiter">)</span>.map<span class="delimiter">(</span>axf<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return A function that maps another function across an either's right projection.
   */</span>
  public static &lt;<a title="Nothing" id="26757">A</a>, <a title="Nothing" id="26758">B</a>, <a title="Nothing" id="26759">X</a>&gt; F&lt;F&lt;<a href="#26758" title="B">B</a>, <a href="#26759" title="X">X</a>&gt;, F&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26757" title="A">A</a>, <a href="#26758" title="B">B</a>&gt;, <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26757" title="A">A</a>, <a href="#26759" title="X">X</a>&gt;&gt;&gt; <a title="[A, B, X]()fj.F[fj.F[B,X],fj.F[fj.data.Either[A,B],fj.data.Either[A,X]]]" id="26753">rightMap_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;F&lt;B, X&gt;, F&lt;Either&lt;A, B&gt;, Either&lt;A, X&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Either&lt;A, B&gt;, Either&lt;A, X&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;B, X&gt; axf<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Either&lt;A, B&gt;, Either&lt;A, X&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Either&lt;A, X&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Either&lt;A, B&gt; e<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> e.right<span class="delimiter">(</span><span class="delimiter">)</span>.map<span class="delimiter">(</span>axf<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Joins an either through left.
   *
   * @param e The either of either to join.
   * @return An either after joining.
   */</span>
  public static &lt;<a title="Nothing" id="26763">A</a>, <a title="Nothing" id="26764">B</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26763" title="A">A</a>, <a href="#26764" title="B">B</a>&gt; <a title="[A, B](e: fj.data.Either[fj.data.Either[A,B],B])fj.data.Either[A,B]" id="26760">joinLeft</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26763" title="A">A</a>, <a href="#26764" title="B">B</a>&gt;, <a href="#26764" title="B">B</a>&gt; <a title="fj.data.Either[fj.data.Either[A,B],B]" id="26810">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> F&lt;Either&lt;A, B&gt;, Either&lt;A, B&gt;&gt; id = identity<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> e.left<span class="delimiter">(</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span>id<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Joins an either through right.
   *
   * @param e The either of either to join.
   * @return An either after joining.
   */</span>
  public static &lt;<a title="Nothing" id="26768">A</a>, <a title="Nothing" id="26769">B</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26768" title="A">A</a>, <a href="#26769" title="B">B</a>&gt; <a title="[A, B](e: fj.data.Either[A,fj.data.Either[A,B]])fj.data.Either[A,B]" id="26765">joinRight</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26768" title="A">A</a>, <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26768" title="A">A</a>, <a href="#26769" title="B">B</a>&gt;&gt; <a title="fj.data.Either[A,fj.data.Either[A,B]]" id="26813">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> F&lt;Either&lt;A, B&gt;, Either&lt;A, B&gt;&gt; id = identity<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> e.right<span class="delimiter">(</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span>id<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sequences through the left side of the either monad with a list of values.
   *
   * @param a The list of values to sequence with the either monad.
   * @return A sequenced value.
   */</span>
  public static &lt;<a title="Nothing" id="26773">A</a>, <a title="Nothing" id="26774">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#26773" title="A">A</a>&gt;, <a href="#26774" title="X">X</a>&gt; <a title="[A, X](a: fj.data.List[fj.data.Either[A,X]])fj.data.Either[fj.data.List[A],X]" id="26770">sequenceLeft</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26773" title="A">A</a>, <a href="#26774" title="X">X</a>&gt;&gt; <a title="fj.data.List[fj.data.Either[A,X]]" id="26816">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> a.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ?
           Either.&lt;List&lt;A&gt;, X&gt;left<span class="delimiter">(</span>List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> :
           a.head<span class="delimiter">(</span><span class="delimiter">)</span>.left<span class="delimiter">(</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;A, Either&lt;List&lt;A&gt;, X&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
             public Either&lt;List&lt;A&gt;, X&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A aa<span class="delimiter">)</span> <span class="delimiter">{</span>
               <span class="keyword">return</span> sequenceLeft<span class="delimiter">(</span>a.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.left<span class="delimiter">(</span><span class="delimiter">)</span>.map<span class="delimiter">(</span>cons_<span class="delimiter">(</span>aa<span class="delimiter">)</span><span class="delimiter">)</span>;
             <span class="delimiter">}</span>
           <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sequences through the right side of the either monad with a list of values.
   *
   * @param a The list of values to sequence with the either monad.
   * @return A sequenced value.
   */</span>
  public static &lt;<a title="Nothing" id="26778">B</a>, <a title="Nothing" id="26779">X</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26779" title="X">X</a>, <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#26778" title="B">B</a>&gt;&gt; <a title="[B, X](a: fj.data.List[fj.data.Either[X,B]])fj.data.Either[X,fj.data.List[B]]" id="26775">sequenceRight</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26779" title="X">X</a>, <a href="#26778" title="B">B</a>&gt;&gt; <a title="fj.data.List[fj.data.Either[X,B]]" id="26819">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> a.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ?
           Either.&lt;X, List&lt;B&gt;&gt;right<span class="delimiter">(</span>List.&lt;B&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> :
           a.head<span class="delimiter">(</span><span class="delimiter">)</span>.right<span class="delimiter">(</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;B, Either&lt;X, List&lt;B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
             public Either&lt;X, List&lt;B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> B bb<span class="delimiter">)</span> <span class="delimiter">{</span>
               <span class="keyword">return</span> sequenceRight<span class="delimiter">(</span>a.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.right<span class="delimiter">(</span><span class="delimiter">)</span>.map<span class="delimiter">(</span>cons_<span class="delimiter">(</span>bb<span class="delimiter">)</span><span class="delimiter">)</span>;
             <span class="delimiter">}</span>
           <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Takes an &lt;code&gt;Either&lt;/code&gt; to its contained value within left or right.
   *
   * @param e The either to reduce.
   * @return An &lt;code&gt;Either&lt;/code&gt; to its contained value within left or right.
   */</span>
  public static &lt;<a title="Nothing" id="26782">A</a>&gt; <a href="#26782" title="A">A</a> <a title="[A](e: fj.data.Either[A,A])A" id="26780">reduce</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26782" title="A">A</a>, <a href="#26782" title="A">A</a>&gt; <a title="fj.data.Either[A,A]" id="26822">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> e.isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? e.left<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span> : e.right<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * If the condition satisfies, return the given A in left, otherwise, return the given B in right.
   *
   * @param c     The condition to test.
   * @param right The right value to use if the condition satisfies.
   * @param left  The left value to use if the condition does not satisfy.
   * @return A constructed either based on the given condition.
   */</span>
  public static &lt;<a title="Nothing" id="26786">A</a>, <a title="Nothing" id="26787">B</a>&gt; <a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26786" title="A">A</a>, <a href="#26787" title="B">B</a>&gt; <a title="[A, B](c: Boolean, right: fj.P1[B], left: fj.P1[A])fj.data.Either[A,B]" id="26783">iif</a><span class="delimiter">(</span><span class="keyword">final</span> boolean <a title="Boolean" id="26825">c</a>, <span class="keyword">final</span> P1&lt;<a href="#26787" title="B">B</a>&gt; <a title="fj.P1[B]" id="26826">right</a>, <span class="keyword">final</span> P1&lt;<a href="#26786" title="A">A</a>&gt; <a title="fj.P1[A]" id="26827">left</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> c ? <span class="keyword">new</span> Right&lt;A, B&gt;<span class="delimiter">(</span>right._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : <span class="keyword">new</span> Left&lt;A, B&gt;<span class="delimiter">(</span>left._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns all the left values in the given list.
   *
   * @param es The list of possible left values.
   * @return All the left values in the given list.
   */</span>
  public static &lt;<a title="Nothing" id="26791">A</a>, <a title="Nothing" id="26792">B</a>&gt; <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#26791" title="A">A</a>&gt; <a title="[A, B](es: fj.data.List[fj.data.Either[A,B]])fj.data.List[A]" id="26788">lefts</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26791" title="A">A</a>, <a href="#26792" title="B">B</a>&gt;&gt; <a title="fj.data.List[fj.data.Either[A,B]]" id="26832">es</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> es.foldRight<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Either&lt;A, B&gt;, F&lt;List&lt;A&gt;, List&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;List&lt;A&gt;, List&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Either&lt;A, B&gt; e<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> e.isLeft<span class="delimiter">(</span><span class="delimiter">)</span> ? as.cons<span class="delimiter">(</span>e.left<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : as;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns all the right values in the given list.
   *
   * @param es The list of possible right values.
   * @return All the right values in the given list.
   */</span>
  public static &lt;<a title="Nothing" id="26796">A</a>, <a title="Nothing" id="26797">B</a>&gt; <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#26797" title="B">B</a>&gt; <a title="[A, B](es: fj.data.List[fj.data.Either[A,B]])fj.data.List[B]" id="26793">rights</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="List.java.html#10232" title="fj.data.List">List</a>&lt;<a href="#10039" title="fj.data.Either">Either</a>&lt;<a href="#26796" title="A">A</a>, <a href="#26797" title="B">B</a>&gt;&gt; <a title="fj.data.List[fj.data.Either[A,B]]" id="26835">es</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> es.foldRight<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Either&lt;A, B&gt;, F&lt;List&lt;B&gt;, List&lt;B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;List&lt;B&gt;, List&lt;B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Either&lt;A, B&gt; e<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;B&gt;, List&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public List&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> e.isRight<span class="delimiter">(</span><span class="delimiter">)</span> ? bs.cons<span class="delimiter">(</span>e.right<span class="delimiter">(</span><span class="delimiter">)</span>.value<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : bs;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, List.&lt;B&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>