<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>fj/data/List.java</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> fj.data;

<span class="keyword">import</span> static fj.Bottom.error;
<span class="keyword">import</span> fj.Effect;
<span class="keyword">import</span> fj.Equal;
<span class="keyword">import</span> fj.F;
<span class="keyword">import</span> fj.F2;
<span class="keyword">import</span> fj.F3;
<span class="keyword">import</span> fj.Function;
<span class="keyword">import</span> fj.Hash;
<span class="keyword">import</span> fj.Monoid;
<span class="keyword">import</span> fj.Ord;
<span class="keyword">import</span> fj.P;
<span class="keyword">import</span> fj.P1;
<span class="keyword">import</span> fj.P2;
<span class="keyword">import</span> fj.Show;
<span class="keyword">import</span> fj.Unit;
<span class="keyword">import</span> static fj.Function.curry;
<span class="keyword">import</span> static fj.Function.constant;
<span class="keyword">import</span> static fj.Function.identity;
<span class="keyword">import</span> static fj.Function.compose;
<span class="keyword">import</span> static fj.P.p;
<span class="keyword">import</span> static fj.P.p2;
<span class="keyword">import</span> static fj.Unit.unit;
<span class="keyword">import</span> static fj.data.Array.mkArray;
<span class="keyword">import</span> <a href="#14963" title="object fj.data.List.Buffer">static</a> fj.data.List.Buffer.*;
<span class="keyword">import</span> static fj.data.Option.none;
<span class="keyword">import</span> static fj.data.Option.some;
<span class="keyword">import</span> static fj.function.Booleans.not;
<span class="keyword">import</span> static fj.Ordering.GT;
<span class="keyword">import</span> static fj.Ord.intOrd;

<span class="keyword">import</span> fj.Ordering;
<span class="keyword">import</span> fj.control.Trampoline;

<span class="keyword">import</span> java.util.AbstractCollection;
<span class="keyword">import</span> java.util.Collection;
<span class="keyword">import</span> java.util.Iterator;
<span class="keyword">import</span> java.util.NoSuchElementException;

<span class="comment">/**
 * Provides an in-memory, immutable, singly linked list.
 *
 * @version %build.number%
 */</span>
public <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="object fj.data.List" id="10232">List</a>&lt;<a title="Nothing" id="10233">A</a>&gt; implements Iterable&lt;<a href="#10233" title="A">A</a>&gt; <span class="delimiter">{</span>
  <span class="keyword">private</span> List<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns an iterator for this list. This method exists to permit the use in a &lt;code&gt;for&lt;/code&gt;-each loop.
   *
   * @return A iterator for this list.
   */</span>
  public <span class="keyword">final</span> Iterator&lt;<a href="#10233" title="A">A</a>&gt; <a title="()java.util.Iterator[A]" id="14977">iterator</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> toCollection<span class="delimiter">(</span><span class="delimiter">)</span>.iterator<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The first element of the linked list or fails for the empty list.
   *
   * @return The first element of the linked list or fails for the empty list.
   */</span>
  public <span class="keyword">abstract</span> <a href="#10233" title="A">A</a> <a title="()A" id="14978">head</a><span class="delimiter">(</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * The list without the first element or fails for the empty list.
   *
   * @return The list without the first element or fails for the empty list.
   */</span>
  public <span class="keyword">abstract</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="()fj.data.List[A]" id="14979">tail</a><span class="delimiter">(</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * The length of this list.
   *
   * @return The length of this list.
   */</span>
  public <span class="keyword">final</span> int <a title="()Int" id="14980">length</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldLeft<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Integer, F&lt;A, Integer&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;A, Integer&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, Integer&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Integer f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> i + <span class="int">1</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, <span class="int">0</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns &lt;code&gt;true&lt;/code&gt; if this list is empty, &lt;code&gt;false&lt;/code&gt; otherwise.
   *
   * @return &lt;code&gt;true&lt;/code&gt; if this list is empty, &lt;code&gt;false&lt;/code&gt; otherwise.
   */</span>
  public <span class="keyword">final</span> boolean <a title="()Boolean" id="14981">isEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">this</span> instanceof Nil;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns &lt;code&gt;false&lt;/code&gt; if this list is empty, &lt;code&gt;true&lt;/code&gt; otherwise.
   *
   * @return &lt;code&gt;false&lt;/code&gt; if this list is empty, &lt;code&gt;true&lt;/code&gt; otherwise.
   */</span>
  public <span class="keyword">final</span> boolean <a title="()Boolean" id="14982">isNotEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">this</span> instanceof Cons;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a reduction on this list using the given arguments.
   *
   * @param nil  The value to return if this list is empty.
   * @param cons The function to apply to the head and tail of this list if it is not empty.
   * @return A reduction on this list.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="14985">B</a>&gt; <a href="#14985" title="B">B</a> <a title="[B](nil: B, cons: fj.F[A,fj.F[fj.data.List[A],B]])B" id="14983">list</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#14985" title="B">B</a> <a title="B" id="29341">nil</a>, <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;, <a href="#14985" title="B">B</a>&gt;&gt; <a title="fj.F[A,fj.F[fj.data.List[A],B]]" id="29342">cons</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? nil : cons.f<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the head of this list if there is one or the given argument if this list is empty.
   *
   * @param a The argument to return if this list is empty.
   * @return The head of this list if there is one or the given argument if this list is empty.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="(a: fj.P1[A])A" id="14986">orHead</a><span class="delimiter">(</span><span class="keyword">final</span> P1&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.P1[A]" id="29346">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? a._1<span class="delimiter">(</span><span class="delimiter">)</span> : head<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the tail of this list if there is one or the given argument if this list is empty.
   *
   * @param as The argument to return if this list is empty.
   * @return The tail of this list if there is one or the given argument if this list is empty.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(as: fj.P1[fj.data.List[A]])fj.data.List[A]" id="14987">orTail</a><span class="delimiter">(</span><span class="keyword">final</span> P1&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="fj.P1[fj.data.List[A]]" id="29348">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? as._1<span class="delimiter">(</span><span class="delimiter">)</span> : tail<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns an option projection of this list; &lt;code&gt;None&lt;/code&gt; if empty, or the first element in
   * &lt;code&gt;Some&lt;/code&gt;.
   *
   * @return An option projection of this list.
   */</span>
  public <span class="keyword">final</span> <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="()fj.data.Option[A]" id="14988">toOption</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? Option.&lt;A&gt;none<span class="delimiter">(</span><span class="delimiter">)</span> : some<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns an either projection of this list; the given argument in &lt;code&gt;Left&lt;/code&gt; if empty, or
   * the first element in &lt;code&gt;Right&lt;/code&gt;.
   *
   * @param x The value to return in left if this list is empty.
   * @return An either projection of this list.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="14991">X</a>&gt; <a href="Either.java.html#10039" title="fj.data.Either">Either</a>&lt;<a href="#14991" title="X">X</a>, <a href="#10233" title="A">A</a>&gt; <a title="[X](x: fj.P1[X])fj.data.Either[X,A]" id="14989">toEither</a><span class="delimiter">(</span><span class="keyword">final</span> P1&lt;<a href="#14991" title="X">X</a>&gt; <a title="fj.P1[X]" id="29351">x</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? Either.&lt;X, A&gt;left<span class="delimiter">(</span>x._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : Either.&lt;X, A&gt;right<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a stream projection of this list.
   *
   * @return A stream projection of this list.
   */</span>
  public <span class="keyword">final</span> <a href="Stream.java.html#10365" title="fj.data.Stream">Stream</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="()fj.data.Stream[A]" id="14992">toStream</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> Stream&lt;A&gt; nil = Stream.nil<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> foldRight<span class="delimiter">(</span><span class="keyword">new</span> F&lt;A, F&lt;Stream&lt;A&gt;, Stream&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Stream&lt;A&gt;, Stream&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Stream&lt;A&gt;, Stream&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Stream&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Stream&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> as.cons<span class="delimiter">(</span>a<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, nil<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a array projection of this list.
   *
   * @return A array projection of this list.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> <a href="Array.java.html#10010" title="fj.data.Array">Array</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="()fj.data.Array[A]" id="14993">toArray</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> Object<span class="delimiter">[</span><span class="delimiter">]</span> a = <span class="keyword">new</span> Object<span class="delimiter">[</span>length<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">]</span>;
    List&lt;A&gt; x = <span class="keyword">this</span>;
    <span class="keyword">for</span> <span class="delimiter">(</span>int i = <span class="int">0</span>; i &lt; length<span class="delimiter">(</span><span class="delimiter">)</span>; i++<span class="delimiter">)</span> <span class="delimiter">{</span>
      a<span class="delimiter">[</span>i<span class="delimiter">]</span> = x.head<span class="delimiter">(</span><span class="delimiter">)</span>;
      x = x.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">return</span> mkArray<span class="delimiter">(</span>a<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a array projection of this list.
   *
   * @param c The class type of the array to return.
   * @return A array projection of this list.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span>, <span class="string">&quot;UnnecessaryFullyQualifiedName&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> <a href="Array.java.html#10010" title="fj.data.Array">Array</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(c: java.lang.Class[Array[A with java.lang.Object]])fj.data.Array[A]" id="14994">toArray</a><span class="delimiter">(</span><span class="keyword">final</span> Class&lt;<a href="#10233" title="A">A</a><span class="delimiter">[</span><span title="Array" class="delimiter">]</span>&gt; <a title="java.lang.Class[Array[A]]" id="29356">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> A<span class="delimiter">[</span><span class="delimiter">]</span> a = <span class="delimiter">(</span>A<span class="delimiter">[</span><span class="delimiter">]</span><span class="delimiter">)</span> java.lang.reflect.Array.newInstance<span class="delimiter">(</span>c.getComponentType<span class="delimiter">(</span><span class="delimiter">)</span>, length<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    List&lt;A&gt; x = <span class="keyword">this</span>;
    <span class="keyword">for</span> <span class="delimiter">(</span>int i = <span class="int">0</span>; i &lt; length<span class="delimiter">(</span><span class="delimiter">)</span>; i++<span class="delimiter">)</span> <span class="delimiter">{</span>
      a<span class="delimiter">[</span>i<span class="delimiter">]</span> = x.head<span class="delimiter">(</span><span class="delimiter">)</span>;
      x = x.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">return</span> Array.array<span class="delimiter">(</span>a<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns an array from this list.
   *
   * @param c The class type of the array to return.
   * @return An array from this list.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a><span class="delimiter">[</span><span title="Array" class="delimiter">]</span> <a title="(c: java.lang.Class[Array[A with java.lang.Object]])Array[A with java.lang.Object]" id="14995">array</a><span class="delimiter">(</span><span class="keyword">final</span> Class&lt;<a href="#10233" title="A">A</a><span class="delimiter">[</span><span title="Array" class="delimiter">]</span>&gt; <a title="java.lang.Class[Array[A]]" id="29361">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> toArray<span class="delimiter">(</span>c<span class="delimiter">)</span>.array<span class="delimiter">(</span>c<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Prepends (cons) the given element to this list to product a new list.
   *
   * @param a The element to prepend.
   * @return A new list with the given element at the head.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(a: A)fj.data.List[A]" id="14996">cons</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="A" id="29367">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Cons&lt;A&gt;<span class="delimiter">(</span>a, <span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Prepends (cons) the given element to this list to product a new list. This method is added to prevent conflict with
   * overloads.
   *
   * @param a The element to prepend.
   * @return A new list with the given element at the head.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(a: A)fj.data.List[A]" id="14997">conss</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="A" id="29369">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Cons&lt;A&gt;<span class="delimiter">(</span>a, <span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps the given function across this list.
   *
   * @param f The function to map across this list.
   * @return A new list after the given function has been applied to each element.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15000">B</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15000" title="B">B</a>&gt; <a title="[B](f: fj.F[A,B])fj.data.List[B]" id="14998">map</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, <a href="#15000" title="B">B</a>&gt; <a title="fj.F[A,B]" id="29371">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> Buffer&lt;B&gt; bs = empty<span class="delimiter">(</span><span class="delimiter">)</span>;

    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      bs.snoc<span class="delimiter">(</span>f.f<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">return</span> bs.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a side-effect for each element of this list.
   *
   * @param f The side-effect to perform for the given element.
   * @return The unit value.
   */</span>
  public <span class="keyword">final</span> Unit <a title="(f: fj.F[A,fj.Unit])fj.Unit" id="15001">foreach</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Unit&gt; <a title="fj.F[A,fj.Unit]" id="29374">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      f.f<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">return</span> unit<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a side-effect for each element of this list.
   *
   * @param f The side-effect to perform for the given element.
   */</span>
  public <span class="keyword">final</span> void <a title="(f: fj.Effect[A])Unit" id="15002">foreach</a><span class="delimiter">(</span><span class="keyword">final</span> Effect&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Effect[A]" id="29376">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      f.e<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Filters elements from this list by returning only elements which produce &lt;code&gt;true&lt;/code&gt; when
   * the given function is applied to them.
   *
   * @param f The predicate function to filter on.
   * @return A new list whose elements all match the given predicate.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(f: fj.F[A,java.lang.Boolean])fj.data.List[A]" id="15003">filter</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29378">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> Buffer&lt;A&gt; b = empty<span class="delimiter">(</span><span class="delimiter">)</span>;

    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">final</span> A h = xs.head<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="keyword">if</span> <span class="delimiter">(</span>f.f<span class="delimiter">(</span>h<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        b.snoc<span class="delimiter">(</span>h<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">return</span> b.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Filters elements from this list by returning only elements which produce &lt;code&gt;false&lt;/code&gt; when
   * the given function is applied to them.
   *
   * @param f The predicate function to filter on.
   * @return A new list whose elements do not match the given predicate.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(f: fj.F[A,java.lang.Boolean])fj.data.List[A]" id="15004">removeAll</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29380">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> filter<span class="delimiter">(</span>compose<span class="delimiter">(</span>not, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Removes the first element that equals the given object.
   * To remove all matches, use &lt;code&gt;removeAll(e.eq(a))&lt;/code&gt;
   *
   * @param a The element to remove
   * @param e An &lt;code&gt;Equals&lt;/code&gt; instance for the element's type.
   * @return A new list whose elements do not match the given predicate.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(a: A, e: fj.Equal[A])fj.data.List[A]" id="15005">delete</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="A" id="29382">a</a>, <span class="keyword">final</span> Equal&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Equal[A]" id="29383">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> P2&lt;List&lt;A&gt;, List&lt;A&gt;&gt; p = span<span class="delimiter">(</span>compose<span class="delimiter">(</span>not, e.eq<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> p._2<span class="delimiter">(</span><span class="delimiter">)</span>.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? p._1<span class="delimiter">(</span><span class="delimiter">)</span> : p._1<span class="delimiter">(</span><span class="delimiter">)</span>.append<span class="delimiter">(</span>p._2<span class="delimiter">(</span><span class="delimiter">)</span>.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the first elements of the head of this list that match the given predicate function.
   *
   * @param f The predicate function to apply on this list until it finds an element that does not
   *          hold, or the list is exhausted.
   * @return The first elements of the head of this list that match the given predicate function.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(f: fj.F[A,java.lang.Boolean])fj.data.List[A]" id="15006">takeWhile</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29385">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> Buffer&lt;A&gt; b = empty<span class="delimiter">(</span><span class="delimiter">)</span>;
    boolean taking = <span class="keyword">true</span>;

    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span> &amp;&amp; taking; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">final</span> A h = xs.head<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="keyword">if</span> <span class="delimiter">(</span>f.f<span class="delimiter">(</span>h<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        b.snoc<span class="delimiter">(</span>h<span class="delimiter">)</span>;
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        taking = <span class="keyword">false</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">return</span> b.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Removes elements from the head of this list that do not match the given predicate function
   * until an element is found that does match or the list is exhausted.
   *
   * @param f The predicate function to apply through this list.
   * @return The list whose first element does not match the given predicate function.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(f: fj.F[A,java.lang.Boolean])fj.data.List[A]" id="15007">dropWhile</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29387">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    List&lt;A&gt; xs;

    <span class="comment">//noinspection StatementWithEmptyBody</span>
    <span class="keyword">for</span> <span class="delimiter">(</span>xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span> &amp;&amp; f.f<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> ;

    <span class="keyword">return</span> xs;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a tuple where the first element is the longest prefix of this list that satisfies
   * the given predicate and the second element is the remainder of the list.
   *
   * @param p A predicate to be satisfied by a prefix of this list.
   * @return A tuple where the first element is the longest prefix of this list that satisfies
   *         the given predicate and the second element is the remainder of the list.
   */</span>
  public <span class="keyword">final</span> P2&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="(p: fj.F[A,java.lang.Boolean])fj.P2[fj.data.List[A],fj.data.List[A]]" id="15008">span</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29389">p</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> Buffer&lt;A&gt; b = empty<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>p.f<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        b.snoc<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="keyword">else</span>
        <span class="keyword">return</span> P.p<span class="delimiter">(</span>b.toList<span class="delimiter">(</span><span class="delimiter">)</span>, xs<span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    <span class="keyword">return</span> P.p<span class="delimiter">(</span>b.toList<span class="delimiter">(</span><span class="delimiter">)</span>, List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a tuple where the first element is the longest prefix of this list that does not satisfy
   * the given predicate and the second element is the remainder of the list.
   *
   * @param p A predicate for an element to not satisfy by a prefix of this list.
   * @return A tuple where the first element is the longest prefix of this list that does not satisfy
   *         the given predicate and the second element is the remainder of the list.
   */</span>
  public <span class="keyword">final</span> P2&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="(p: fj.F[A,java.lang.Boolean])fj.P2[fj.data.List[A],fj.data.List[A]]" id="15009">breakk</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29391">p</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> span<span class="delimiter">(</span><span class="keyword">new</span> F&lt;A, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> !p.f<span class="delimiter">(</span>a<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Groups elements according to the given equality implementation.
   *
   * @param e The equality implementation for the elements.
   * @return A list of grouped elements.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="(e: fj.Equal[A])fj.data.List[fj.data.List[A]]" id="15010">group</a><span class="delimiter">(</span><span class="keyword">final</span> Equal&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Equal[A]" id="29393">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">if</span> <span class="delimiter">(</span>isEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">return</span> nil<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">final</span> P2&lt;List&lt;A&gt;, List&lt;A&gt;&gt; z = tail<span class="delimiter">(</span><span class="delimiter">)</span>.span<span class="delimiter">(</span>e.eq<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="keyword">return</span> cons<span class="delimiter">(</span>z._1<span class="delimiter">(</span><span class="delimiter">)</span>.cons<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, z._2<span class="delimiter">(</span><span class="delimiter">)</span>.group<span class="delimiter">(</span>e<span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Binds the given function across each element of this list with a final join.
   *
   * @param f The function to apply to each element of this list.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15013">B</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15013" title="B">B</a>&gt; <a title="[B](f: fj.F[A,fj.data.List[B]])fj.data.List[B]" id="15011">bind</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15013" title="B">B</a>&gt;&gt; <a title="fj.F[A,fj.data.List[B]]" id="29395">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> Buffer&lt;B&gt; b = empty<span class="delimiter">(</span><span class="delimiter">)</span>;

    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      b.append<span class="delimiter">(</span>f.f<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">return</span> b.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across each element of this list and the given list with a final
   * join.
   *
   * @param lb A given list to bind the given function with.
   * @param f  The function to apply to each element of this list and the given list.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15017">B</a>, <a title="Nothing" id="15018">C</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15018" title="C">C</a>&gt; <a title="[B, C](lb: fj.data.List[B], f: fj.F[A,fj.F[B,C]])fj.data.List[C]" id="15014">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15017" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29398">lb</a>, <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15017" title="B">B</a>, <a href="#15018" title="C">C</a>&gt;&gt; <a title="fj.F[A,fj.F[B,C]]" id="29399">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> lb.apply<span class="delimiter">(</span>map<span class="delimiter">(</span>f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across each element of this list and the given list with a final
   * join.
   *
   * @param lb A given list to bind the given function with.
   * @param f  The function to apply to each element of this list and the given list.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15022">B</a>, <a title="Nothing" id="15023">C</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15023" title="C">C</a>&gt; <a title="[B, C](lb: fj.data.List[B], f: fj.F2[A,B,C])fj.data.List[C]" id="15019">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15022" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29403">lb</a>, <span class="keyword">final</span> F2&lt;<a href="#10233" title="A">A</a>, <a href="#15022" title="B">B</a>, <a href="#15023" title="C">C</a>&gt; <a title="fj.F2[A,B,C]" id="29404">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> bind<span class="delimiter">(</span>lb, curry<span class="delimiter">(</span>f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes the given function of arity-2 to a function on lists.
   *
   * @param f The function to promote to a function on lists.
   * @return The given function, promoted to operate on lists.
   */</span>
  public static &lt;<a title="Nothing" id="14839">A</a>, <a title="Nothing" id="14840">B</a>, <a title="Nothing" id="14841">C</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14839" title="A">A</a>&gt;, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14840" title="B">B</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14841" title="C">C</a>&gt;&gt;&gt; <a title="[A, B, C](f: fj.F[A,fj.F[B,C]])fj.F[fj.data.List[A],fj.F[fj.data.List[B],fj.data.List[C]]]" id="14835">liftM2</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#14839" title="A">A</a>, F&lt;<a href="#14840" title="B">B</a>, <a href="#14841" title="C">C</a>&gt;&gt; <a title="fj.F[A,fj.F[B,C]]" id="29219">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> curry<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;List&lt;A&gt;, List&lt;B&gt;, List&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as, <span class="keyword">final</span> List&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.bind<span class="delimiter">(</span>bs, f<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across each element of this list and the given lists with a final
   * join.
   *
   * @param lb A given list to bind the given function with.
   * @param lc A given list to bind the given function with.
   * @param f  The function to apply to each element of this list and the given lists.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15028">B</a>, <a title="Nothing" id="15029">C</a>, <a title="Nothing" id="15030">D</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15030" title="D">D</a>&gt; <a title="[B, C, D](lb: fj.data.List[B], lc: fj.data.List[C], f: fj.F[A,fj.F[B,fj.F[C,D]]])fj.data.List[D]" id="15024">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15028" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29408">lb</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15029" title="C">C</a>&gt; <a title="fj.data.List[C]" id="29409">lc</a>, <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15028" title="B">B</a>, F&lt;<a href="#15029" title="C">C</a>, <a href="#15030" title="D">D</a>&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,D]]]" id="29410">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> lc.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>lb, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across each element of this list and the given lists with a final
   * join.
   *
   * @param lb A given list to bind the given function with.
   * @param lc A given list to bind the given function with.
   * @param ld A given list to bind the given function with.
   * @param f  The function to apply to each element of this list and the given lists.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15036">B</a>, <a title="Nothing" id="15037">C</a>, <a title="Nothing" id="15038">D</a>, <a title="Nothing" id="15039">E</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15039" title="E">E</a>&gt; <a title="[B, C, D, E](lb: fj.data.List[B], lc: fj.data.List[C], ld: fj.data.List[D], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,E]]]])fj.data.List[E]" id="15031">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15036" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29415">lb</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15037" title="C">C</a>&gt; <a title="fj.data.List[C]" id="29416">lc</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15038" title="D">D</a>&gt; <a title="fj.data.List[D]" id="29417">ld</a>,
                                   <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15036" title="B">B</a>, F&lt;<a href="#15037" title="C">C</a>, F&lt;<a href="#15038" title="D">D</a>, <a href="#15039" title="E">E</a>&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,E]]]]" id="29418">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> ld.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>lb, lc, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across each element of this list and the given lists with a final
   * join.
   *
   * @param lb A given list to bind the given function with.
   * @param lc A given list to bind the given function with.
   * @param ld A given list to bind the given function with.
   * @param le A given list to bind the given function with.
   * @param f  The function to apply to each element of this list and the given lists.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15046">B</a>, <a title="Nothing" id="15047">C</a>, <a title="Nothing" id="15048">D</a>, <a title="Nothing" id="15049">E</a>, <a title="Nothing" id="15050">F$</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15050" title="F$">F$</a>&gt; <a title="[B, C, D, E, F$](lb: fj.data.List[B], lc: fj.data.List[C], ld: fj.data.List[D], le: fj.data.List[E], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,F$]]]]])fj.data.List[F$]" id="15040">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15046" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29424">lb</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15047" title="C">C</a>&gt; <a title="fj.data.List[C]" id="29425">lc</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15048" title="D">D</a>&gt; <a title="fj.data.List[D]" id="29426">ld</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15049" title="E">E</a>&gt; <a title="fj.data.List[E]" id="29427">le</a>,
                                        <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15046" title="B">B</a>, F&lt;<a href="#15047" title="C">C</a>, F&lt;<a href="#15048" title="D">D</a>, F&lt;<a href="#15049" title="E">E</a>, <a href="#15050" title="F$">F$</a>&gt;&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,F$]]]]]" id="29428">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> le.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>lb, lc, ld, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across each element of this list and the given lists with a final
   * join.
   *
   * @param lb A given list to bind the given function with.
   * @param lc A given list to bind the given function with.
   * @param ld A given list to bind the given function with.
   * @param le A given list to bind the given function with.
   * @param lf A given list to bind the given function with.
   * @param f  The function to apply to each element of this list and the given lists.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15058">B</a>, <a title="Nothing" id="15059">C</a>, <a title="Nothing" id="15060">D</a>, <a title="Nothing" id="15061">E</a>, <a title="Nothing" id="15062">F$</a>, <a title="Nothing" id="15063">G</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15063" title="G">G</a>&gt; <a title="[B, C, D, E, F$, G](lb: fj.data.List[B], lc: fj.data.List[C], ld: fj.data.List[D], le: fj.data.List[E], lf: fj.data.List[F$], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,G]]]]]])fj.data.List[G]" id="15051">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15058" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29435">lb</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15059" title="C">C</a>&gt; <a title="fj.data.List[C]" id="29436">lc</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15060" title="D">D</a>&gt; <a title="fj.data.List[D]" id="29437">ld</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15061" title="E">E</a>&gt; <a title="fj.data.List[E]" id="29438">le</a>,
                                          <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15062" title="F$">F$</a>&gt; <a title="fj.data.List[F$]" id="29439">lf</a>, <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15058" title="B">B</a>, F&lt;<a href="#15059" title="C">C</a>, F&lt;<a href="#15060" title="D">D</a>, F&lt;<a href="#15061" title="E">E</a>, F&lt;<a href="#15062" title="F$">F$</a>, <a href="#15063" title="G">G</a>&gt;&gt;&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,G]]]]]]" id="29440">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> lf.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>lb, lc, ld, le, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across each element of this list and the given lists with a final
   * join.
   *
   * @param lb A given list to bind the given function with.
   * @param lc A given list to bind the given function with.
   * @param ld A given list to bind the given function with.
   * @param le A given list to bind the given function with.
   * @param lf A given list to bind the given function with.
   * @param lg A given list to bind the given function with.
   * @param f  The function to apply to each element of this list and the given lists.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15072">B</a>, <a title="Nothing" id="15073">C</a>, <a title="Nothing" id="15074">D</a>, <a title="Nothing" id="15075">E</a>, <a title="Nothing" id="15076">F$</a>, <a title="Nothing" id="15077">G</a>, <a title="Nothing" id="15078">H</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15078" title="H">H</a>&gt; <a title="[B, C, D, E, F$, G, H](lb: fj.data.List[B], lc: fj.data.List[C], ld: fj.data.List[D], le: fj.data.List[E], lf: fj.data.List[F$], lg: fj.data.List[G], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,fj.F[G,H]]]]]]])fj.data.List[H]" id="15064">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15072" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29448">lb</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15073" title="C">C</a>&gt; <a title="fj.data.List[C]" id="29449">lc</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15074" title="D">D</a>&gt; <a title="fj.data.List[D]" id="29450">ld</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15075" title="E">E</a>&gt; <a title="fj.data.List[E]" id="29451">le</a>,
                                             <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15076" title="F$">F$</a>&gt; <a title="fj.data.List[F$]" id="29452">lf</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15077" title="G">G</a>&gt; <a title="fj.data.List[G]" id="29453">lg</a>,
                                             <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15072" title="B">B</a>, F&lt;<a href="#15073" title="C">C</a>, F&lt;<a href="#15074" title="D">D</a>, F&lt;<a href="#15075" title="E">E</a>, F&lt;<a href="#15076" title="F$">F$</a>, F&lt;<a href="#15077" title="G">G</a>, <a href="#15078" title="H">H</a>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,fj.F[G,H]]]]]]]" id="29454">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> lg.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>lb, lc, ld, le, lf, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds the given function across each element of this list and the given lists with a final
   * join.
   *
   * @param lb A given list to bind the given function with.
   * @param lc A given list to bind the given function with.
   * @param ld A given list to bind the given function with.
   * @param le A given list to bind the given function with.
   * @param lf A given list to bind the given function with.
   * @param lg A given list to bind the given function with.
   * @param lh A given list to bind the given function with.
   * @param f  The function to apply to each element of this list and the given lists.
   * @return A new list after performing the map, then final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15088">B</a>, <a title="Nothing" id="15089">C</a>, <a title="Nothing" id="15090">D</a>, <a title="Nothing" id="15091">E</a>, <a title="Nothing" id="15092">F$</a>, <a title="Nothing" id="15093">G</a>, <a title="Nothing" id="15094">H</a>, <a title="Nothing" id="15095">I</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15095" title="I">I</a>&gt; <a title="[B, C, D, E, F$, G, H, I](lb: fj.data.List[B], lc: fj.data.List[C], ld: fj.data.List[D], le: fj.data.List[E], lf: fj.data.List[F$], lg: fj.data.List[G], lh: fj.data.List[H], f: fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,fj.F[G,fj.F[H,I]]]]]]]])fj.data.List[I]" id="15079">bind</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15088" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29463">lb</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15089" title="C">C</a>&gt; <a title="fj.data.List[C]" id="29464">lc</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15090" title="D">D</a>&gt; <a title="fj.data.List[D]" id="29465">ld</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15091" title="E">E</a>&gt; <a title="fj.data.List[E]" id="29466">le</a>,
                                                <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15092" title="F$">F$</a>&gt; <a title="fj.data.List[F$]" id="29467">lf</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15093" title="G">G</a>&gt; <a title="fj.data.List[G]" id="29468">lg</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15094" title="H">H</a>&gt; <a title="fj.data.List[H]" id="29469">lh</a>,
                                                <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15088" title="B">B</a>, F&lt;<a href="#15089" title="C">C</a>, F&lt;<a href="#15090" title="D">D</a>, F&lt;<a href="#15091" title="E">E</a>, F&lt;<a href="#15092" title="F$">F$</a>, F&lt;<a href="#15093" title="G">G</a>, F&lt;<a href="#15094" title="H">H</a>, <a href="#15095" title="I">I</a>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <a title="fj.F[A,fj.F[B,fj.F[C,fj.F[D,fj.F[E,fj.F[F$,fj.F[G,fj.F[H,I]]]]]]]]" id="29470">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> lh.apply<span class="delimiter">(</span>bind<span class="delimiter">(</span>lb, lc, ld, le, lf, lg, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a bind across each list element, but ignores the element value each time.
   *
   * @param bs The list to apply in the final join.
   * @return A new list after the final join.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15098">B</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15098" title="B">B</a>&gt; <a title="[B](bs: fj.data.List[B])fj.data.List[B]" id="15096">sequence</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15098" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29480">bs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> F&lt;A, List&lt;B&gt;&gt; c = constant<span class="delimiter">(</span>bs<span class="delimiter">)</span>;
    <span class="keyword">return</span> bind<span class="delimiter">(</span>c<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs function application within a list (applicative functor pattern).
   *
   * @param lf The list of functions to apply.
   * @return A new list after applying the given list of functions through this list.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15101">B</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15101" title="B">B</a>&gt; <a title="[B](lf: fj.data.List[fj.F[A,B]])fj.data.List[B]" id="15099">apply</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;F&lt;<a href="#10233" title="A">A</a>, <a href="#15101" title="B">B</a>&gt;&gt; <a title="fj.data.List[fj.F[A,B]]" id="29483">lf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> lf.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;F&lt;A, B&gt;, List&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, B&gt; f<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> map<span class="delimiter">(</span>f<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Appends the given list to this list.
   *
   * @param as The list to append to this one.
   * @return A new list that has appended the given list.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(as: fj.data.List[A])fj.data.List[A]" id="15102">append</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.data.List[A]" id="29486">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> fromList<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.append<span class="delimiter">(</span>as<span class="delimiter">)</span>.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a right-fold reduction across this list. This function uses O(length) stack space.
   *
   * @param f The function to apply on each element of the list.
   * @param b The beginning value to start the application from.
   * @return The final result after the right-fold reduction.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15105">B</a>&gt; <a href="#15105" title="B">B</a> <a title="[B](f: fj.F[A,fj.F[B,B]], b: B)B" id="15103">foldRight</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15105" title="B">B</a>, <a href="#15105" title="B">B</a>&gt;&gt; <a title="fj.F[A,fj.F[B,B]]" id="29488">f</a>, <span class="keyword">final</span> <a href="#15105" title="B">B</a> <a title="B" id="29489">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? b : f.f<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>tail<span class="delimiter">(</span><span class="delimiter">)</span>.foldRight<span class="delimiter">(</span>f, b<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a right-fold reduction across this list. This function uses O(length) stack space.
   *
   * @param f The function to apply on each element of the list.
   * @param b The beginning value to start the application from.
   * @return The final result after the right-fold reduction.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15108">B</a>&gt; <a href="#15108" title="B">B</a> <a title="[B](f: fj.F2[A,B,B], b: B)B" id="15106">foldRight</a><span class="delimiter">(</span><span class="keyword">final</span> F2&lt;<a href="#10233" title="A">A</a>, <a href="#15108" title="B">B</a>, <a href="#15108" title="B">B</a>&gt; <a title="fj.F2[A,B,B]" id="29493">f</a>, <span class="keyword">final</span> <a href="#15108" title="B">B</a> <a title="B" id="29494">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldRight<span class="delimiter">(</span>curry<span class="delimiter">(</span>f<span class="delimiter">)</span>, b<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a right-fold reduction across this list in O(1) stack space.
   * @param f The function to apply on each element of the list.
   * @param b The beginning value to start the application from.
   * @return A Trampoline containing the final result after the right-fold reduction.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15111">B</a>&gt; Trampoline&lt;<a href="#15111" title="B">B</a>&gt; <a title="[B](f: fj.F2[A,B,B], b: B)fj.control.Trampoline[B]" id="15109">foldRightC</a><span class="delimiter">(</span><span class="keyword">final</span> F2&lt;<a href="#10233" title="A">A</a>, <a href="#15111" title="B">B</a>, <a href="#15111" title="B">B</a>&gt; <a title="fj.F2[A,B,B]" id="29498">f</a>, <span class="keyword">final</span> <a href="#15111" title="B">B</a> <a title="B" id="29499">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Trampoline.suspend<span class="delimiter">(</span><span class="keyword">new</span> P1&lt;Trampoline&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Trampoline&lt;B&gt; _1<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? Trampoline.pure<span class="delimiter">(</span>b<span class="delimiter">)</span> : tail<span class="delimiter">(</span><span class="delimiter">)</span>.foldRightC<span class="delimiter">(</span>f, b<span class="delimiter">)</span>.map<span class="delimiter">(</span>f.f<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a left-fold reduction across this list. This function runs in constant space.
   *
   * @param f The function to apply on each element of the list.
   * @param b The beginning value to start the application from.
   * @return The final result after the left-fold reduction.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15114">B</a>&gt; <a href="#15114" title="B">B</a> <a title="[B](f: fj.F[B,fj.F[A,B]], b: B)B" id="15112">foldLeft</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#15114" title="B">B</a>, F&lt;<a href="#10233" title="A">A</a>, <a href="#15114" title="B">B</a>&gt;&gt; <a title="fj.F[B,fj.F[A,B]]" id="29503">f</a>, <span class="keyword">final</span> <a href="#15114" title="B">B</a> <a title="B" id="29504">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    B x = b;

    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; !xs.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      x = f.f<span class="delimiter">(</span>x<span class="delimiter">)</span>.f<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">return</span> x;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Performs a left-fold reduction across this list. This function runs in constant space.
   *
   * @param f The function to apply on each element of the list.
   * @param b The beginning value to start the application from.
   * @return The final result after the left-fold reduction.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15117">B</a>&gt; <a href="#15117" title="B">B</a> <a title="[B](f: fj.F2[B,A,B], b: B)B" id="15115">foldLeft</a><span class="delimiter">(</span><span class="keyword">final</span> F2&lt;<a href="#15117" title="B">B</a>, <a href="#10233" title="A">A</a>, <a href="#15117" title="B">B</a>&gt; <a title="fj.F2[B,A,B]" id="29508">f</a>, <span class="keyword">final</span> <a href="#15117" title="B">B</a> <a title="B" id="29509">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldLeft<span class="delimiter">(</span>curry<span class="delimiter">(</span>f<span class="delimiter">)</span>, b<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Takes the first 2 elements of the list and applies the function to them,
   * then applies the function to the result and the third element and so on.
   *
   * @param f The function to apply on each element of the list.
   * @return The final result after the left-fold reduction.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="(f: fj.F2[A,A,A])A" id="15118">foldLeft1</a><span class="delimiter">(</span><span class="keyword">final</span> F2&lt;<a href="#10233" title="A">A</a>, <a href="#10233" title="A">A</a>, <a href="#10233" title="A">A</a>&gt; <a title="fj.F2[A,A,A]" id="29513">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldLeft1<span class="delimiter">(</span>curry<span class="delimiter">(</span>f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Takes the first 2 elements of the list and applies the function to them,
   * then applies the function to the result and the third element and so on.
   *
   * @param f The function to apply on each element of the list.
   * @return The final result after the left-fold reduction.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="(f: fj.F[A,fj.F[A,A]])A" id="15119">foldLeft1</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#10233" title="A">A</a>, <a href="#10233" title="A">A</a>&gt;&gt; <a title="fj.F[A,fj.F[A,A]]" id="29515">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">if</span> <span class="delimiter">(</span>isEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">throw</span> error<span class="delimiter">(</span><span class="string">&quot;Undefined: foldLeft1 on empty list&quot;</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> tail<span class="delimiter">(</span><span class="delimiter">)</span>.foldLeft<span class="delimiter">(</span>f, head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Reverse this list in constant stack space.
   *
   * @return A new list that is the reverse of this one.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="()fj.data.List[A]" id="15120">reverse</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldLeft<span class="delimiter">(</span><span class="keyword">new</span> F&lt;List&lt;A&gt;, F&lt;A, List&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;A, List&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> cons<span class="delimiter">(</span>a, as<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the element at the given index if it exists, fails otherwise.
   *
   * @param i The index at which to get the element to return.
   * @return The element at the given index if it exists, fails otherwise.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="(i: Int)A" id="15121">index</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="29518">i</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">if</span> <span class="delimiter">(</span>i &lt; <span class="int">0</span> || i &gt; length<span class="delimiter">(</span><span class="delimiter">)</span> - <span class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">throw</span> error<span class="delimiter">(</span><span class="string">&quot;index &quot;</span> + i + <span class="string">&quot; out of range on list with length &quot;</span> + length<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="keyword">else</span> <span class="delimiter">{</span>
      List&lt;A&gt; xs = <span class="keyword">this</span>;

      <span class="keyword">for</span> <span class="delimiter">(</span>int c = <span class="int">0</span>; c &lt; i; c++<span class="delimiter">)</span> <span class="delimiter">{</span>
        xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>

      <span class="keyword">return</span> xs.head<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Takes the given number of elements from the head of this list if they are available.
   *
   * @param i The maximum number of elements to take from this list.
   * @return A new list with a length the same, or less than, this list.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(i: Int)fj.data.List[A]" id="15122">take</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="29520">i</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> i &lt;= <span class="int">0</span> || isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span> : cons<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span>, tail<span class="delimiter">(</span><span class="delimiter">)</span>.take<span class="delimiter">(</span>i - <span class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Drops the given number of elements from the head of this list if they are available.
   *
   * @param i The number of elements to drop from the head of this list.
   * @return A list with a length the same, or less than, this list.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(i: Int)fj.data.List[A]" id="15123">drop</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="29522">i</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    int c = <span class="int">0</span>;

    List&lt;A&gt; xs = <span class="keyword">this</span>;

    <span class="keyword">for</span> <span class="delimiter">(</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span> &amp;&amp; c &lt; i; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      c++;

    <span class="keyword">return</span> xs;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Splits this list into two lists at the given index. If the index goes out of bounds, then it is
   * normalised so that this function never fails.
   *
   * @param i The index at which to split this list in two parts.
   * @return A pair of lists split at the given index of this list.
   */</span>
  public <span class="keyword">final</span> P2&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="(i: Int)fj.P2[fj.data.List[A],fj.data.List[A]]" id="15124">splitAt</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="29524">i</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    P2&lt;List&lt;A&gt;, List&lt;A&gt;&gt; s = p<span class="delimiter">(</span>List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span>, List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;

    int c = <span class="int">0</span>;
    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = <span class="keyword">this</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">final</span> A h = xs.head<span class="delimiter">(</span><span class="delimiter">)</span>;
      s = c &lt; i ? s.map1<span class="delimiter">(</span><span class="keyword">new</span> F&lt;List&lt;A&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> as.snoc<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> : s.map2<span class="delimiter">(</span><span class="keyword">new</span> F&lt;List&lt;A&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> as.snoc<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>;
      c++;
    <span class="delimiter">}</span>

    <span class="keyword">return</span> s;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Splits this list into lists of the given size. If the size of this list is not evenly divisible by
   * the given number, the last partition will contain the remainder.
   *
   * @param n The size of the partitions into which to split this list.
   * @return A list of sublists of this list, of at most the given size.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="(n: Int)fj.data.List[fj.data.List[A]]" id="15125">partition</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="29526">n</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">if</span> <span class="delimiter">(</span>n &lt; <span class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">throw</span> error<span class="delimiter">(</span><span class="string">&quot;Can't create list partitions shorter than 1 element long.&quot;</span><span class="delimiter">)</span>;
    <span class="keyword">if</span> <span class="delimiter">(</span>isEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">throw</span> error<span class="delimiter">(</span><span class="string">&quot;Partition on empty list.&quot;</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> unfold<span class="delimiter">(</span><span class="keyword">new</span> F&lt;List&lt;A&gt;, Option&lt;P2&lt;List&lt;A&gt;, List&lt;A&gt;&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;P2&lt;List&lt;A&gt;, List&lt;A&gt;&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? Option.&lt;P2&lt;List&lt;A&gt;, List&lt;A&gt;&gt;&gt;none<span class="delimiter">(</span><span class="delimiter">)</span> : some<span class="delimiter">(</span>as.splitAt<span class="delimiter">(</span>n<span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, <span class="keyword">this</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the list of initial segments of this list, shortest first.
   *
   * @return The list of initial segments of this list, shortest first.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="()fj.data.List[fj.data.List[A]]" id="15126">inits</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    List&lt;List&lt;A&gt;&gt; s = single<span class="delimiter">(</span>List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="keyword">if</span> <span class="delimiter">(</span>isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      s = s.append<span class="delimiter">(</span>tail<span class="delimiter">(</span><span class="delimiter">)</span>.inits<span class="delimiter">(</span><span class="delimiter">)</span>.map<span class="delimiter">(</span>List.&lt;A&gt;cons<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> s;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the list of final segments of this list, longest first.
   *
   * @return The list of final segments of this list, longest first.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="()fj.data.List[fj.data.List[A]]" id="15127">tails</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? single<span class="delimiter">(</span>List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : cons<span class="delimiter">(</span><span class="keyword">this</span>, tail<span class="delimiter">(</span><span class="delimiter">)</span>.tails<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sorts this list using the given order over elements using a &lt;em&gt;merge sort&lt;/em&gt; algorithm.
   *
   * @param o The order over the elements of this list.
   * @return A sorted list according to the given order.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(o: fj.Ord[A])fj.data.List[A]" id="15128">sort</a><span class="delimiter">(</span><span class="keyword">final</span> Ord&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Ord[A]" id="29530">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">if</span> <span class="delimiter">(</span>isEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">return</span> nil<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">else</span> <span class="keyword">if</span> <span class="delimiter">(</span>tail<span class="delimiter">(</span><span class="delimiter">)</span>.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">return</span> <span class="keyword">this</span>;
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">final</span> <span class="keyword">class</span> Merge&lt;A&gt; <span class="delimiter">{</span>
        List&lt;A&gt; merge<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; xs, <span class="keyword">final</span> List&lt;A&gt; ys, <span class="keyword">final</span> Ord&lt;A&gt; o<span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">return</span> xs.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ?
                 ys :
                 ys.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ?
                 xs :
                 o.isLessThan<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span>, ys.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> ?
                 cons<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span>, merge<span class="delimiter">(</span>xs.tail<span class="delimiter">(</span><span class="delimiter">)</span>, ys, o<span class="delimiter">)</span><span class="delimiter">)</span> :
                 cons<span class="delimiter">(</span>ys.head<span class="delimiter">(</span><span class="delimiter">)</span>, merge<span class="delimiter">(</span>xs, ys.tail<span class="delimiter">(</span><span class="delimiter">)</span>, o<span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">final</span> P2&lt;List&lt;A&gt;, List&lt;A&gt;&gt; s = splitAt<span class="delimiter">(</span>length<span class="delimiter">(</span><span class="delimiter">)</span> / <span class="int">2</span><span class="delimiter">)</span>;
      <span class="keyword">return</span> <span class="keyword">new</span> Merge&lt;A&gt;<span class="delimiter">(</span><span class="delimiter">)</span>.merge<span class="delimiter">(</span>s._1<span class="delimiter">(</span><span class="delimiter">)</span>.sort<span class="delimiter">(</span>o<span class="delimiter">)</span>, s._2<span class="delimiter">(</span><span class="delimiter">)</span>.sort<span class="delimiter">(</span>o<span class="delimiter">)</span>, o<span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Zips this list with the given list using the given function to produce a new list. If this list
   * and the given list have different lengths, then the longer list is normalised so this function
   * never fails.
   *
   * @param bs The list to zip this list with.
   * @param f  The function to zip this list and the given list with.
   * @return A new list with a length the same as the shortest of this list and the given list.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15132">B</a>, <a title="Nothing" id="15133">C</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15133" title="C">C</a>&gt; <a title="[B, C](bs: fj.data.List[B], f: fj.F[A,fj.F[B,C]])fj.data.List[C]" id="15129">zipWith</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15132" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29532">bs</a>, <span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15132" title="B">B</a>, <a href="#15133" title="C">C</a>&gt;&gt; <a title="fj.F[A,fj.F[B,C]]" id="29533">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> || bs.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? List.&lt;C&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span> : cons<span class="delimiter">(</span>f.f<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>bs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, tail<span class="delimiter">(</span><span class="delimiter">)</span>.zipWith<span class="delimiter">(</span>bs.tail<span class="delimiter">(</span><span class="delimiter">)</span>, f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Zips this list with the given list using the given function to produce a new list. If this list
   * and the given list have different lengths, then the longer list is normalised so this function
   * never fails.
   *
   * @param bs The list to zip this list with.
   * @param f  The function to zip this list and the given list with.
   * @return A new list with a length the same as the shortest of this list and the given list.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15137">B</a>, <a title="Nothing" id="15138">C</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15138" title="C">C</a>&gt; <a title="[B, C](bs: fj.data.List[B], f: fj.F2[A,B,C])fj.data.List[C]" id="15134">zipWith</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15137" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29537">bs</a>, <span class="keyword">final</span> F2&lt;<a href="#10233" title="A">A</a>, <a href="#15137" title="B">B</a>, <a href="#15138" title="C">C</a>&gt; <a title="fj.F2[A,B,C]" id="29538">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> zipWith<span class="delimiter">(</span>bs, curry<span class="delimiter">(</span>f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Provides a first-class version of zipWith
   *
   * @return The first-class version of zipWith
   */</span>
  public static &lt;<a title="Nothing" id="14846">A</a>, <a title="Nothing" id="14847">B</a>, <a title="Nothing" id="14848">C</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14846" title="A">A</a>&gt;, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14847" title="B">B</a>&gt;, F&lt;F&lt;<a href="#14846" title="A">A</a>, F&lt;<a href="#14847" title="B">B</a>, <a href="#14848" title="C">C</a>&gt;&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14848" title="C">C</a>&gt;&gt;&gt;&gt; <a title="[A, B, C]()fj.F[fj.data.List[A],fj.F[fj.data.List[B],fj.F[fj.F[A,fj.F[B,C]],fj.data.List[C]]]]" id="14842">zipWith</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> curry<span class="delimiter">(</span><span class="keyword">new</span> F3&lt;List&lt;A&gt;, List&lt;B&gt;, F&lt;A, F&lt;B, C&gt;&gt;, List&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as, <span class="keyword">final</span> List&lt;B&gt; bs, <span class="keyword">final</span> F&lt;A, F&lt;B, C&gt;&gt; f<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.zipWith<span class="delimiter">(</span>bs, f<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Zips this list with the given list to produce a list of pairs. If this list and the given list
   * have different lengths, then the longer list is normalised so this function never fails.
   *
   * @param bs The list to zip this list with.
   * @return A new list with a length the same as the shortest of this list and the given list.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15141">B</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;P2&lt;<a href="#10233" title="A">A</a>, <a href="#15141" title="B">B</a>&gt;&gt; <a title="[B](bs: fj.data.List[B])fj.data.List[fj.P2[A,B]]" id="15139">zip</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15141" title="B">B</a>&gt; <a title="fj.data.List[B]" id="29542">bs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> F&lt;A, F&lt;B, P2&lt;A, B&gt;&gt;&gt; __2 = p2<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> zipWith<span class="delimiter">(</span>bs, __2<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The first-class version of the zip function.
   *
   * @return A function that zips the given lists to produce a list of pairs.
   */</span>
  public static &lt;<a title="Nothing" id="14852">A</a>, <a title="Nothing" id="14853">B</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14852" title="A">A</a>&gt;, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14853" title="B">B</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;P2&lt;<a href="#14852" title="A">A</a>, <a href="#14853" title="B">B</a>&gt;&gt;&gt;&gt; <a title="[A, B]()fj.F[fj.data.List[A],fj.F[fj.data.List[B],fj.data.List[fj.P2[A,B]]]]" id="14849">zip</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> curry<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;List&lt;A&gt;, List&lt;B&gt;, List&lt;P2&lt;A, B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;P2&lt;A, B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as, <span class="keyword">final</span> List&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.zip<span class="delimiter">(</span>bs<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Zips this list with the index of its element as a pair.
   *
   * @return A new list with the same length as this list.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;P2&lt;<a href="#10233" title="A">A</a>, Integer&gt;&gt; <a title="()fj.data.List[fj.P2[A,java.lang.Integer]]" id="15142">zipIndex</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> zipWith<span class="delimiter">(</span>range<span class="delimiter">(</span><span class="int">0</span>, length<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span class="keyword">new</span> F&lt;A, F&lt;Integer, P2&lt;A, Integer&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;Integer, P2&lt;A, Integer&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;Integer, P2&lt;A, Integer&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public P2&lt;A, Integer&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer i<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> p<span class="delimiter">(</span>a, i<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Appends (snoc) the given element to this list to produce a new list.
   *
   * @param a The element to append to this list.
   * @return A new list with the given element appended.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(a: A)fj.data.List[A]" id="15143">snoc</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="A" id="29546">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> fromList<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>.snoc<span class="delimiter">(</span>a<span class="delimiter">)</span>.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns &lt;code&gt;true&lt;/code&gt; if the predicate holds for all of the elements of this list,
   * &lt;code&gt;false&lt;/code&gt; otherwise (&lt;code&gt;true&lt;/code&gt; for the empty list).
   *
   * @param f The predicate function to test on each element of this list.
   * @return &lt;code&gt;true&lt;/code&gt; if the predicate holds for all of the elements of this list,
   *         &lt;code&gt;false&lt;/code&gt; otherwise.
   */</span>
  public <span class="keyword">final</span> boolean <a title="(f: fj.F[A,java.lang.Boolean])Boolean" id="15144">forall</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29548">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> || f.f<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> &amp;&amp; tail<span class="delimiter">(</span><span class="delimiter">)</span>.forall<span class="delimiter">(</span>f<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns &lt;code&gt;true&lt;/code&gt; if the predicate holds for at least one of the elements of this list,
   * &lt;code&gt;false&lt;/code&gt; otherwise (&lt;code&gt;false&lt;/code&gt; for the empty list).
   *
   * @param f The predicate function to test on the elements of this list.
   * @return &lt;code&gt;true&lt;/code&gt; if the predicate holds for at least one of the elements of this
   *         list.
   */</span>
  public <span class="keyword">final</span> boolean <a title="(f: fj.F[A,java.lang.Boolean])Boolean" id="15145">exists</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29550">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> find<span class="delimiter">(</span>f<span class="delimiter">)</span>.isSome<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Finds the first occurrence of an element that matches the given predicate or no value if no
   * elements match.
   *
   * @param f The predicate function to test on elements of this list.
   * @return The first occurrence of an element that matches the given predicate or no value if no
   *         elements match.
   */</span>
  public <span class="keyword">final</span> <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(f: fj.F[A,java.lang.Boolean])fj.data.Option[A]" id="15146">find</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29552">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; as = <span class="keyword">this</span>; as.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; as = as.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>f.f<span class="delimiter">(</span>as.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">return</span> some<span class="delimiter">(</span>as.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">return</span> none<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Intersperses the given argument between each element of this list.
   *
   * @param a The separator to intersperse in this list.
   * @return A list with the given separator interspersed.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(a: A)fj.data.List[A]" id="15147">intersperse</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="A" id="29554">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> || tail<span class="delimiter">(</span><span class="delimiter">)</span>.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ?
           <span class="keyword">this</span> :
           cons<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span>, cons<span class="delimiter">(</span>a, tail<span class="delimiter">(</span><span class="delimiter">)</span>.intersperse<span class="delimiter">(</span>a<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Intersperses this list through the given list then joins the results.
   *
   * @param as The list to intersperse through.
   * @return This list through the given list then joins the results.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(as: fj.data.List[fj.data.List[A]])fj.data.List[A]" id="15148">intercalate</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt;&gt; <a title="fj.data.List[fj.data.List[A]]" id="29556">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> join<span class="delimiter">(</span>as.intersperse<span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Removes duplicates according to object equality.
   *
   * @return A list without duplicates according to object equality.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="()fj.data.List[A]" id="15149">nub</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> nub<span class="delimiter">(</span>Equal.&lt;A&gt;anyEqual<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Removes duplicates according to the given equality. Warning: O(n^2).
   *
   * @param eq Equality over the elements.
   * @return A list without duplicates.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(eq: fj.Equal[A])fj.data.List[A]" id="15150">nub</a><span class="delimiter">(</span><span class="keyword">final</span> Equal&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Equal[A]" id="29559">eq</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> ? <span class="keyword">this</span> : cons<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span>, tail<span class="delimiter">(</span><span class="delimiter">)</span>.filter<span class="delimiter">(</span><span class="keyword">new</span> F&lt;A, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> !eq.eq<span class="delimiter">(</span>a, head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>.nub<span class="delimiter">(</span>eq<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Removes duplicates according to the given ordering. This function is O(n).
   *
   * @param o An ordering for the elements.
   * @return A list without duplicates.
   */</span>
  @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(o: fj.Ord[A])fj.data.List[A]" id="15151">nub</a><span class="delimiter">(</span><span class="keyword">final</span> Ord&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Ord[A]" id="29561">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> sort<span class="delimiter">(</span>o<span class="delimiter">)</span>.group<span class="delimiter">(</span>o.equal<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.map<span class="delimiter">(</span>List.&lt;A&gt;head_<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * First-class head function.
   *
   * @return A function that gets the head of a given list.
   */</span>
  public static &lt;<a title="Nothing" id="14856">A</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14856" title="A">A</a>&gt;, <a href="#14856" title="A">A</a>&gt; <a title="[A]()fj.F[fj.data.List[A],A]" id="14854">head_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public A f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; list<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> list.head<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * First-class tail function.
   *
   * @return A function that gets the tail of a given list.
   */</span>
  public static &lt;<a title="Nothing" id="14859">A</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14859" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14859" title="A">A</a>&gt;&gt; <a title="[A]()fj.F[fj.data.List[A],fj.data.List[A]]" id="14857">tail_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; list<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> list.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a new list of all the items in this list that do not appear in the given list.
   *
   * @param eq an equality for the items of the lists.
   * @param xs a list to subtract from this list.
   * @return a list of all the items in this list that do not appear in the given list.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(eq: fj.Equal[A], xs: fj.data.List[A])fj.data.List[A]" id="15152">minus</a><span class="delimiter">(</span><span class="keyword">final</span> Equal&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Equal[A]" id="29563">eq</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.data.List[A]" id="29564">xs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> removeAll<span class="delimiter">(</span>compose<span class="delimiter">(</span>Monoid.disjunctionMonoid.sumLeft<span class="delimiter">(</span><span class="delimiter">)</span>, xs.mapM<span class="delimiter">(</span>curry<span class="delimiter">(</span>eq.eq<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps the given function of arity-2 across this list and returns a function that applies all the resulting
   * functions to a given argument.
   *
   * @param f A function of arity-2
   * @return A function that, when given an argument, applies the given function to that argument and every element
   *         in this list.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15156">B</a>, <a title="Nothing" id="15157">C</a>&gt; F&lt;<a href="#15156" title="B">B</a>, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15157" title="C">C</a>&gt;&gt; <a title="[B, C](f: fj.F[A,fj.F[B,C]])fj.F[B,fj.data.List[C]]" id="15153">mapM</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#15156" title="B">B</a>, <a href="#15157" title="C">C</a>&gt;&gt; <a title="fj.F[A,fj.F[B,C]]" id="29566">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> sequence_<span class="delimiter">(</span>map<span class="delimiter">(</span>f<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps the given function across this list by binding through the Option monad.
   *
   * @param f The function to apply through the this list.
   * @return A possible list of values after binding through the Option monad.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15160">B</a>&gt; <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15160" title="B">B</a>&gt;&gt; <a title="[B](f: fj.F[A,fj.data.Option[B]])fj.data.Option[fj.data.List[B]]" id="15158">mapMOption</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#15160" title="B">B</a>&gt;&gt; <a title="fj.F[A,fj.data.Option[B]]" id="29569">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldRight<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;A, Option&lt;List&lt;B&gt;&gt;, Option&lt;List&lt;B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;List&lt;B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a, <span class="keyword">final</span> Option&lt;List&lt;B&gt;&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> f.f<span class="delimiter">(</span>a<span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;B, Option&lt;List&lt;B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Option&lt;List&lt;B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> B b<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> bs.map<span class="delimiter">(</span><span class="keyword">new</span> F&lt;List&lt;B&gt;, List&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              public List&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;B&gt; bbs<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> bbs.cons<span class="delimiter">(</span>b<span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, Option.&lt;List&lt;B&gt;&gt;some<span class="delimiter">(</span>List.&lt;B&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps the given function across this list by binding through the Trampoline monad.
   *
   * @param f The function to apply through the this list.
   * @return A list of values in the Trampoline monad.
   */</span>
  public <span class="keyword">final</span> &lt;<a title="Nothing" id="15163">B</a>&gt; Trampoline&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#15163" title="B">B</a>&gt;&gt; <a title="[B](f: fj.F[A,fj.control.Trampoline[B]])fj.control.Trampoline[fj.data.List[B]]" id="15161">mapMTrampoline</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, Trampoline&lt;<a href="#15163" title="B">B</a>&gt;&gt; <a title="fj.F[A,fj.control.Trampoline[B]]" id="29572">f</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldRight<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;A, Trampoline&lt;List&lt;B&gt;&gt;, Trampoline&lt;List&lt;B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Trampoline&lt;List&lt;B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a, <span class="keyword">final</span> Trampoline&lt;List&lt;B&gt;&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> f.f<span class="delimiter">(</span>a<span class="delimiter">)</span>.bind<span class="delimiter">(</span><span class="keyword">new</span> F&lt;B, Trampoline&lt;List&lt;B&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Trampoline&lt;List&lt;B&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> B b<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> bs.map<span class="delimiter">(</span><span class="keyword">new</span> F&lt;List&lt;B&gt;, List&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              public List&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;B&gt; bbs<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> bbs.cons<span class="delimiter">(</span>b<span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>, Trampoline.&lt;List&lt;B&gt;&gt;pure<span class="delimiter">(</span>List.&lt;B&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the index of the first element in this list which is equal (by the given equality) to the
   * query element, or None if there is no such element.
   *
   * @param e An equality for this list's elements.
   * @param a A query element.
   * @return The index of the first element in this list which is equal (by the given equality) to the
   *         query element, or None if there is no such element.
   */</span>
  public <span class="keyword">final</span> <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;Integer&gt; <a title="(e: fj.Equal[A], a: A)fj.data.Option[java.lang.Integer]" id="15164">elementIndex</a><span class="delimiter">(</span><span class="keyword">final</span> Equal&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Equal[A]" id="29575">e</a>, <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="A" id="29576">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> lookup<span class="delimiter">(</span>e, zipIndex<span class="delimiter">(</span><span class="delimiter">)</span>, a<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the last element of this list. Undefined for the empty list.
   *
   * @return The last element of this list or throws an error if this list is empty.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="()A" id="15165">last</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    A a = head<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = tail<span class="delimiter">(</span><span class="delimiter">)</span>; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      a = xs.head<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> a;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns all but the last element of this list. Undefiend for the empty list.
   *
   * @return All but the last element of this list. Undefiend for the empty list.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="()fj.data.List[A]" id="15166">init</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    List&lt;A&gt; ys = <span class="keyword">this</span>;
    <span class="keyword">final</span> Buffer&lt;A&gt; a = empty<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">while</span><span class="delimiter">(</span>ys.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span> &amp;&amp; ys.tail<span class="delimiter">(</span><span class="delimiter">)</span>.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      a.snoc<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      ys = ys.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    <span class="keyword">return</span> a.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Inserts the given element before the first element that is greater than or equal to it according
   * to the given ordering.
   *
   * @param f An ordering function to compare elements.
   * @param x The element to insert.
   * @return A new list with the given element inserted before the first element that is greater than or equal to
   *         it according to the given ordering.
   */</span>
  public <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10233" title="A">A</a>&gt; <a title="(f: fj.F[A,fj.F[A,fj.Ordering]], x: A)fj.data.List[A]" id="15167">insertBy</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#10233" title="A">A</a>, F&lt;<a href="#10233" title="A">A</a>, Ordering&gt;&gt; <a title="fj.F[A,fj.F[A,fj.Ordering]]" id="29580">f</a>, <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="A" id="29581">x</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    List&lt;A&gt; ys = <span class="keyword">this</span>;
    Buffer&lt;A&gt; xs = empty<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">while</span> <span class="delimiter">(</span>ys.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span> &amp;&amp; f.f<span class="delimiter">(</span>x<span class="delimiter">)</span>.f<span class="delimiter">(</span>ys.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> == GT<span class="delimiter">)</span> <span class="delimiter">{</span>
      xs = xs.snoc<span class="delimiter">(</span>ys.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      ys = ys.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    <span class="keyword">return</span> xs.append<span class="delimiter">(</span>ys.cons<span class="delimiter">(</span>x<span class="delimiter">)</span><span class="delimiter">)</span>.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the most common element in this list.
   *
   * @param o An ordering for the elements of the list.
   * @return The most common element in this list.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="(o: fj.Ord[A])A" id="15168">mode</a><span class="delimiter">(</span><span class="keyword">final</span> Ord&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Ord[A]" id="29583">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> sort<span class="delimiter">(</span>o<span class="delimiter">)</span>.group<span class="delimiter">(</span>o.equal<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.maximum<span class="delimiter">(</span>intOrd.comap<span class="delimiter">(</span>List.&lt;A&gt;length_<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.head<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns whether or not all elements in the list are equal according to the given equality test.
   *
   * @param eq The equality test.
   * @return Whether or not all elements in the list are equal according to the given equality test.
   */</span>
  public boolean <a title="(eq: fj.Equal[A])Boolean" id="15169">allEqual</a><span class="delimiter">(</span><span class="keyword">final</span> Equal&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Equal[A]" id="29585">eq</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> || tail<span class="delimiter">(</span><span class="delimiter">)</span>.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span> || eq.eq<span class="delimiter">(</span>head<span class="delimiter">(</span><span class="delimiter">)</span>, tail<span class="delimiter">(</span><span class="delimiter">)</span>.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> &amp;&amp; tail<span class="delimiter">(</span><span class="delimiter">)</span>.allEqual<span class="delimiter">(</span>eq<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * First-class length.
   *
   * @return A function that gets the length of a given list.
   */</span>
  public static &lt;<a title="Nothing" id="14862">A</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14862" title="A">A</a>&gt;, Integer&gt; <a title="[A]()fj.F[fj.data.List[A],java.lang.Integer]" id="14860">length_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, Integer&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Integer f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a.length<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the maximum element in this list according to the given ordering.
   *
   * @param o An ordering for the elements of the list.
   * @return The maximum element in this list according to the given ordering.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="(o: fj.Ord[A])A" id="15170">maximum</a><span class="delimiter">(</span><span class="keyword">final</span> Ord&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Ord[A]" id="29587">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldLeft1<span class="delimiter">(</span>o.max<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the minimum element in this list according to the given ordering.
   *
   * @param o An ordering for the elements of the list.
   * @return The minimum element in this list according to the given ordering.
   */</span>
  public <span class="keyword">final</span> <a href="#10233" title="A">A</a> <a title="(o: fj.Ord[A])A" id="15171">minimum</a><span class="delimiter">(</span><span class="keyword">final</span> Ord&lt;<a href="#10233" title="A">A</a>&gt; <a title="fj.Ord[A]" id="29589">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> foldLeft1<span class="delimiter">(</span>o.min<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Projects an immutable collection of this list.
   *
   * @return An immutable collection of this list.
   */</span>
  public <span class="keyword">final</span> Collection&lt;<a href="#10233" title="A">A</a>&gt; <a title="()java.util.Collection[A]" id="15172">toCollection</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> AbstractCollection&lt;A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Iterator&lt;A&gt; iterator<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> Iterator&lt;A&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">private</span> List&lt;A&gt; xs = List.<span class="keyword">this</span>;

          public boolean hasNext<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>

          public A next<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>xs.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException<span class="delimiter">(</span><span class="delimiter">)</span>;
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">final</span> A a = xs.head<span class="delimiter">(</span><span class="delimiter">)</span>;
              xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
              <span class="keyword">return</span> a;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          public void remove<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException<span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>

      public int size<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> length<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="keyword">private</span> static <span class="keyword">final</span> <span class="keyword">class</span> <a title="object fj.data.List.Nil" id="14865">Nil</a>&lt;<a id="14866">A</a>&gt; <span class="keyword">extends</span> List&lt;A&gt; <span class="delimiter">{</span>
    public A head<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">throw</span> error<span class="delimiter">(</span><span class="string">&quot;head on empty list&quot;</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    public List&lt;A&gt; tail<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">throw</span> error<span class="delimiter">(</span><span class="string">&quot;tail on empty list&quot;</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> static <span class="keyword">final</span> <span class="keyword">class</span> <a title="object fj.data.List.Cons" id="14869">Cons</a>&lt;<a id="14870">A</a>&gt; <span class="keyword">extends</span> List&lt;A&gt; <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">final</span> A head;
    <span class="keyword">private</span> List&lt;A&gt; tail;

    Cons<span class="delimiter">(</span><span class="keyword">final</span> A head, <span class="keyword">final</span> List&lt;A&gt; tail<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">this</span>.head = head;
      <span class="keyword">this</span>.tail = tail;
    <span class="delimiter">}</span>

    public A head<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> head;
    <span class="delimiter">}</span>

    public List&lt;A&gt; tail<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> tail;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> void tail<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; tail<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">this</span>.tail = tail;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a list from the given elements.
   *
   * @param as The elements to construct a list with.
   * @return A list with the given elements.
   */</span>
  public static &lt;<a title="Nothing" id="14873">A</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14873" title="A">A</a>&gt; <a title="[A](as: &lt;repeated...&gt;[A])fj.data.List[A]" id="14871">list</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#14873" title="&lt;repeated...&gt;">A</a>... <a title="&lt;repeated...&gt;[A]" id="29229">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> Array.array<span class="delimiter">(</span>as<span class="delimiter">)</span>.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns an empty list.
   *
   * @return An empty list.
   */</span>
  public static &lt;<a title="Nothing" id="14876">A</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14876" title="A">A</a>&gt; <a title="[A]()fj.data.List[A]" id="14874">nil</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Nil&lt;A&gt;<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that prepends (cons) an element to a list to produce a new list.
   *
   * @return A function that prepends (cons) an element to a list to produce a new list.
   */</span>
  public static &lt;<a title="Nothing" id="14879">A</a>&gt; F&lt;<a href="#14879" title="A">A</a>, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14879" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14879" title="A">A</a>&gt;&gt;&gt; <a title="[A]()fj.F[A,fj.F[fj.data.List[A],fj.data.List[A]]]" id="14877">cons</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, F&lt;List&lt;A&gt;, List&lt;A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;List&lt;A&gt;, List&lt;A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; tail<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> cons<span class="delimiter">(</span>a, tail<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that prepends a value to the given list.
   *
   * @param tail The list to prepend to.
   * @return A function that prepends a value to the given list.
   */</span>
  public static &lt;<a title="Nothing" id="14882">A</a>&gt; F&lt;<a href="#14882" title="A">A</a>, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14882" title="A">A</a>&gt;&gt; <a title="[A](tail: fj.data.List[A])fj.F[A,fj.data.List[A]]" id="14880">cons</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14882" title="A">A</a>&gt; <a title="fj.data.List[A]" id="29234">tail</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> tail.cons<span class="delimiter">(</span>a<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that prepends the given value to a list.
   *
   * @param a The value to prepend to a list.
   * @return A function that prepends the given value to a list.
   */</span>
  public static &lt;<a title="Nothing" id="14885">A</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14885" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14885" title="A">A</a>&gt;&gt; <a title="[A](a: A)fj.F[fj.data.List[A],fj.data.List[A]]" id="14883">cons_</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#14885" title="A">A</a> <a title="A" id="29237">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.cons<span class="delimiter">(</span>a<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Prepends the given head element to the given tail element to produce a new list.
   *
   * @param head The element to prepend.
   * @param tail The list to prepend to.
   * @return The list with the given element prepended.
   */</span>
  public static &lt;<a title="Nothing" id="14888">A</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14888" title="A">A</a>&gt; <a title="[A](head: A, tail: fj.data.List[A])fj.data.List[A]" id="14886">cons</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#14888" title="A">A</a> <a title="A" id="29240">head</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14888" title="A">A</a>&gt; <a title="fj.data.List[A]" id="29241">tail</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> Cons&lt;A&gt;<span class="delimiter">(</span>head, tail<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that determines whether a given list is empty.
   *
   * @return A function that determines whether a given list is empty.
   */</span>
  public static &lt;<a title="Nothing" id="14891">A</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14891" title="A">A</a>&gt;, Boolean&gt; <a title="[A]()fj.F[fj.data.List[A],java.lang.Boolean]" id="14889">isEmpty_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a function that determines whether a given list is not empty.
   *
   * @return A function that determines whether a given list is not empty.
   */</span>
  public static &lt;<a title="Nothing" id="14894">A</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14894" title="A">A</a>&gt;, Boolean&gt; <a title="[A]()fj.F[fj.data.List[A],java.lang.Boolean]" id="14892">isNotEmpty_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;A&gt;, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Joins the given list of lists using a bind operation.
   *
   * @param o The list of lists to join.
   * @return A new list that is the join of the given lists.
   */</span>
  public static &lt;<a title="Nothing" id="14897">A</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14897" title="A">A</a>&gt; <a title="[A](o: fj.data.List[fj.data.List[A]])fj.data.List[A]" id="14895">join</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14897" title="A">A</a>&gt;&gt; <a title="fj.data.List[fj.data.List[A]]" id="29247">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> F&lt;List&lt;A&gt;, List&lt;A&gt;&gt; id = identity<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> o.bind<span class="delimiter">(</span>id<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A first-class version of join
   *
   * @return A function that joins a list of lists using a bind operation.
   */</span>
  public static &lt;<a title="Nothing" id="14900">A</a>&gt; F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14900" title="A">A</a>&gt;&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14900" title="A">A</a>&gt;&gt; <a title="[A]()fj.F[fj.data.List[fj.data.List[A]],fj.data.List[A]]" id="14898">join</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;List&lt;A&gt;&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;List&lt;A&gt;&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> join<span class="delimiter">(</span>as<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Unfolds across the given function starting at the given value to produce a list.
   *
   * @param f The function to unfold across.
   * @param b The start value to begin the unfold.
   * @return A new list that is a result of unfolding until the function does not produce a value.
   */</span>
  public static &lt;<a title="Nothing" id="14904">A</a>, <a title="Nothing" id="14905">B</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14904" title="A">A</a>&gt; <a title="[A, B](f: fj.F[B,fj.data.Option[fj.P2[A,B]]], b: B)fj.data.List[A]" id="14901">unfold</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#14905" title="B">B</a>, <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;P2&lt;<a href="#14904" title="A">A</a>, <a href="#14905" title="B">B</a>&gt;&gt;&gt; <a title="fj.F[B,fj.data.Option[fj.P2[A,B]]]" id="29251">f</a>, <span class="keyword">final</span> <a href="#14905" title="B">B</a> <a title="B" id="29252">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    Buffer&lt;A&gt; buf = empty<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">for</span> <span class="delimiter">(</span>Option&lt;P2&lt;A, B&gt;&gt; o = f.f<span class="delimiter">(</span>b<span class="delimiter">)</span>; o.isSome<span class="delimiter">(</span><span class="delimiter">)</span>; o = f.f<span class="delimiter">(</span>o.some<span class="delimiter">(</span><span class="delimiter">)</span>._2<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      buf = buf.snoc<span class="delimiter">(</span>o.some<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    <span class="keyword">return</span> buf.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Transforms a list of pairs into a list of first components and a list of second components.
   *
   * @param xs The list of pairs to transform.sp
   * @return A list of first components and a list of second components.
   */</span>
  public static &lt;<a title="Nothing" id="14909">A</a>, <a title="Nothing" id="14910">B</a>&gt; P2&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14909" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14910" title="B">B</a>&gt;&gt; <a title="[A, B](xs: fj.data.List[fj.P2[A,B]])fj.P2[fj.data.List[A],fj.data.List[B]]" id="14906">unzip</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;P2&lt;<a href="#14909" title="A">A</a>, <a href="#14910" title="B">B</a>&gt;&gt; <a title="fj.data.List[fj.P2[A,B]]" id="29256">xs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    Buffer&lt;A&gt; ba = empty<span class="delimiter">(</span><span class="delimiter">)</span>;
    Buffer&lt;B&gt; bb = empty<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="keyword">final</span> P2&lt;A, B&gt; p : xs<span class="delimiter">)</span> <span class="delimiter">{</span>
      ba = ba.snoc<span class="delimiter">(</span>p._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      bb = bb.snoc<span class="delimiter">(</span>p._2<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
    <span class="keyword">return</span> P.p<span class="delimiter">(</span>ba.toList<span class="delimiter">(</span><span class="delimiter">)</span>, bb.toList<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a list of the given value replicated the given number of times.
   *
   * @param n The number of times to replicate the given value.
   * @param a The value to replicate.
   * @return A list of the given value replicated the given number of times.
   */</span>
  public static &lt;<a title="Nothing" id="14913">A</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14913" title="A">A</a>&gt; <a title="[A](n: Int, a: A)fj.data.List[A]" id="14911">replicate</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="29259">n</a>, <span class="keyword">final</span> <a href="#14913" title="A">A</a> <a title="A" id="29260">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> n &lt;= <span class="int">0</span> ? List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span> : replicate<span class="delimiter">(</span>n - <span class="int">1</span>, a<span class="delimiter">)</span>.cons<span class="delimiter">(</span>a<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a list of integers from the given &lt;code&gt;from&lt;/code&gt; value (inclusive) to the given
   * &lt;code&gt;to&lt;/code&gt; value (exclusive).
   *
   * @param from The minimum value for the list (inclusive).
   * @param to   The maximum value for the list (exclusive).
   * @return A list of integers from the given &lt;code&gt;from&lt;/code&gt; value (inclusive) to the given
   *         &lt;code&gt;to&lt;/code&gt; value (exclusive).
   */</span>
  public static <a href="#10232" title="fj.data.List">List</a>&lt;Integer&gt; <a title="(from: Int, to: Int)fj.data.List[java.lang.Integer]" id="14914">range</a><span class="delimiter">(</span><span class="keyword">final</span> int <a title="Int" id="29264">from</a>, <span class="keyword">final</span> int <a title="Int" id="29265">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> from &gt;= to ? List.&lt;Integer&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span> : cons<span class="delimiter">(</span>from, range<span class="delimiter">(</span>from + <span class="int">1</span>, to<span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a list of characters from the given string. The inverse of this function is {@link
   * #asString(List)}.
   *
   * @param s The string to produce the list of characters from.
   * @return A list of characters from the given string.
   */</span>
  public static <a href="#10232" title="fj.data.List">List</a>&lt;Character&gt; <a title="(s: java.lang.String)fj.data.List[java.lang.Character]" id="14915">fromString</a><span class="delimiter">(</span><span class="keyword">final</span> String <a title="java.lang.String" id="29267">s</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    List&lt;Character&gt; cs = nil<span class="delimiter">(</span><span class="delimiter">)</span>;

    <span class="keyword">for</span> <span class="delimiter">(</span>int i = s.length<span class="delimiter">(</span><span class="delimiter">)</span> - <span class="int">1</span>; i &gt;= <span class="int">0</span>; i--<span class="delimiter">)</span>
      cs = cons<span class="delimiter">(</span>s.charAt<span class="delimiter">(</span>i<span class="delimiter">)</span>, cs<span class="delimiter">)</span>;

    <span class="keyword">return</span> cs;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A first-class &lt;code&gt;fromString&lt;/code&gt;.
   *
   * @return A first-class &lt;code&gt;fromString&lt;/code&gt;.
   */</span>
  public static F&lt;String, <a href="#10232" title="fj.data.List">List</a>&lt;Character&gt;&gt; <a title="()fj.F[java.lang.String,fj.data.List[java.lang.Character]]" id="14916">fromString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;String, List&lt;Character&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;Character&gt; f<span class="delimiter">(</span><span class="keyword">final</span> String s<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> fromString<span class="delimiter">(</span>s<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a string from the given list of characters. The invers of this function is {@link
   * #fromString(String)}.
   *
   * @param cs The list of characters to produce the string from.
   * @return A string from the given list of characters.
   */</span>
  public static String <a title="(cs: fj.data.List[java.lang.Character])java.lang.String" id="14917">asString</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;Character&gt; <a title="fj.data.List[java.lang.Character]" id="29270">cs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> StringBuilder sb = <span class="keyword">new</span> StringBuilder<span class="delimiter">(</span><span class="delimiter">)</span>;

    cs.foreach<span class="delimiter">(</span><span class="keyword">new</span> F&lt;Character, Unit&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Unit f<span class="delimiter">(</span><span class="keyword">final</span> Character c<span class="delimiter">)</span> <span class="delimiter">{</span>
        sb.append<span class="delimiter">(</span>c<span class="delimiter">)</span>;
        <span class="keyword">return</span> unit<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
    <span class="keyword">return</span> sb.toString<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A first-class &lt;code&gt;asString&lt;/code&gt;.
   *
   * @return A first-class &lt;code&gt;asString&lt;/code&gt;.
   */</span>
  public static F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;Character&gt;, String&gt; <a title="()fj.F[fj.data.List[java.lang.Character],java.lang.String]" id="14918">asString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;List&lt;Character&gt;, String&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public String f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;Character&gt; cs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> asString<span class="delimiter">(</span>cs<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a list of one element containing the given value.
   *
   * @param a The value for the head of the returned list.
   * @return A list of one element containing the given value.
   */</span>
  public static &lt;<a title="Nothing" id="14921">A</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14921" title="A">A</a>&gt; <a title="[A](a: A)fj.data.List[A]" id="14919">single</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#14921" title="A">A</a> <a title="A" id="29273">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> cons<span class="delimiter">(</span>a, List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Creates a list where the first item is calculated by applying the function on the third argument,
   * the second item by applying the function on the previous result and so on.
   *
   * @param f The function to iterate with.
   * @param p The predicate which must be true for the next item in order to continue the iteration.
   * @param a The input to the first iteration.
   * @return A list where the first item is calculated by applying the function on the third argument,
   *         the second item by applying the function on the previous result and so on.
   */</span>
  public static &lt;<a title="Nothing" id="14924">A</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14924" title="A">A</a>&gt; <a title="[A](f: fj.F[A,A], p: fj.F[A,java.lang.Boolean], a: A)fj.data.List[A]" id="14922">iterateWhile</a><span class="delimiter">(</span><span class="keyword">final</span> F&lt;<a href="#14924" title="A">A</a>, <a href="#14924" title="A">A</a>&gt; <a title="fj.F[A,A]" id="29276">f</a>, <span class="keyword">final</span> F&lt;<a href="#14924" title="A">A</a>, Boolean&gt; <a title="fj.F[A,java.lang.Boolean]" id="29277">p</a>, <span class="keyword">final</span> <a href="#14924" title="A">A</a> <a title="A" id="29278">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> unfold<span class="delimiter">(</span>
        <span class="keyword">new</span> F&lt;A, Option&lt;P2&lt;A, A&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Option&lt;P2&lt;A, A&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A o<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Option.iif<span class="delimiter">(</span><span class="keyword">new</span> F&lt;P2&lt;A, A&gt;, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> P2&lt;A, A&gt; p2<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> p.f<span class="delimiter">(</span>o<span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>, P.p<span class="delimiter">(</span>o, f.f<span class="delimiter">(</span>o<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        , a<span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns an associated value with the given key in the list of pairs.
   *
   * @param e The test for equality on keys.
   * @param x The list of pairs to search.
   * @param a The key value to find the associated value of.
   * @return An associated value with the given key in the list of pairs.
   */</span>
  public static &lt;<a title="Nothing" id="14928">A</a>, <a title="Nothing" id="14929">B</a>&gt; <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#14929" title="B">B</a>&gt; <a title="[A, B](e: fj.Equal[A], x: fj.data.List[fj.P2[A,B]], a: A)fj.data.Option[B]" id="14925">lookup</a><span class="delimiter">(</span><span class="keyword">final</span> Equal&lt;<a href="#14928" title="A">A</a>&gt; <a title="fj.Equal[A]" id="29283">e</a>, <span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;P2&lt;<a href="#14928" title="A">A</a>, <a href="#14929" title="B">B</a>&gt;&gt; <a title="fj.data.List[fj.P2[A,B]]" id="29284">x</a>, <span class="keyword">final</span> <a href="#14928" title="A">A</a> <a title="A" id="29285">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> x.find<span class="delimiter">(</span><span class="keyword">new</span> F&lt;P2&lt;A, B&gt;, Boolean&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Boolean f<span class="delimiter">(</span><span class="keyword">final</span> P2&lt;A, B&gt; p<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> e.eq<span class="delimiter">(</span>p._1<span class="delimiter">(</span><span class="delimiter">)</span>, a<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>.map<span class="delimiter">(</span>P2.&lt;A, B&gt;__2<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a partially applied version of {@link #lookup(Equal, List, Object)}.
   *
   * @param e The test for equality on keys.
   * @return A partially applied version of {@link #lookup(Equal , List, Object)}.
   */</span>
  public static &lt;<a title="Nothing" id="14933">A</a>, <a title="Nothing" id="14934">B</a>&gt; F2&lt;<a href="#10232" title="fj.data.List">List</a>&lt;P2&lt;<a href="#14933" title="A">A</a>, <a href="#14934" title="B">B</a>&gt;&gt;, <a href="#14933" title="A">A</a>, <a href="Option.java.html#10291" title="fj.data.Option">Option</a>&lt;<a href="#14934" title="B">B</a>&gt;&gt; <a title="[A, B](e: fj.Equal[A])fj.F2[fj.data.List[fj.P2[A,B]],A,fj.data.Option[B]]" id="14930">lookup</a><span class="delimiter">(</span><span class="keyword">final</span> Equal&lt;<a href="#14933" title="A">A</a>&gt; <a title="fj.Equal[A]" id="29290">e</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;List&lt;P2&lt;A, B&gt;&gt;, A, Option&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;P2&lt;A, B&gt;&gt; x, <span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> lookup<span class="delimiter">(</span>e, x, a<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Provides a first-class version of bind()
   *
   * @return The bind function for lists.
   */</span>
  public static &lt;<a title="Nothing" id="14938">A</a>, <a title="Nothing" id="14939">B</a>&gt; F&lt;F&lt;<a href="#14938" title="A">A</a>, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14939" title="B">B</a>&gt;&gt;, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14938" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14939" title="B">B</a>&gt;&gt;&gt; <a title="[A, B]()fj.F[fj.F[A,fj.data.List[B]],fj.F[fj.data.List[A],fj.data.List[B]]]" id="14935">bind_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> curry<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;F&lt;A, List&lt;B&gt;&gt;, List&lt;A&gt;, List&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, List&lt;B&gt;&gt; f, <span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.bind<span class="delimiter">(</span>f<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Provides a first-class version of map()
   *
   * @return The map function for lists.
   */</span>
  public static &lt;<a title="Nothing" id="14943">A</a>, <a title="Nothing" id="14944">B</a>&gt; F&lt;F&lt;<a href="#14943" title="A">A</a>, <a href="#14944" title="B">B</a>&gt;, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14943" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14944" title="B">B</a>&gt;&gt;&gt; <a title="[A, B]()fj.F[fj.F[A,B],fj.F[fj.data.List[A],fj.data.List[B]]]" id="14940">map_</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> curry<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;F&lt;A, B&gt;, List&lt;A&gt;, List&lt;B&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;B&gt; f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;A, B&gt; f, <span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.map<span class="delimiter">(</span>f<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Turn a list of functions into a function returning a list.
   *
   * @param fs The list of functions to sequence into a single function that returns a list.
   * @return A function that, when given an argument, applies all the functions in the given list to it
   *         and returns a list of the results.
   */</span>
  public static &lt;<a title="Nothing" id="14948">A</a>, <a title="Nothing" id="14949">B</a>&gt; F&lt;<a href="#14949" title="B">B</a>, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14948" title="A">A</a>&gt;&gt; <a title="[A, B](fs: fj.data.List[fj.F[B,A]])fj.F[B,fj.data.List[A]]" id="14945">sequence_</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;F&lt;<a href="#14949" title="B">B</a>, <a href="#14948" title="A">A</a>&gt;&gt; <a title="fj.data.List[fj.F[B,A]]" id="29295">fs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> fs.foldRight<span class="delimiter">(</span>Function.&lt;A, List&lt;A&gt;, List&lt;A&gt;, B&gt;lift<span class="delimiter">(</span>List.&lt;A&gt;cons<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, Function
        .&lt;B, List&lt;A&gt;&gt;constant<span class="delimiter">(</span>List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Provides a first-class version of foldLeft.
   *
   * @return The left fold function for lists.
   */</span>
  public static &lt;<a title="Nothing" id="14953">A</a>, <a title="Nothing" id="14954">B</a>&gt; F&lt;F&lt;<a href="#14954" title="B">B</a>, F&lt;<a href="#14953" title="A">A</a>, <a href="#14954" title="B">B</a>&gt;&gt;, F&lt;<a href="#14954" title="B">B</a>, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14953" title="A">A</a>&gt;, <a href="#14954" title="B">B</a>&gt;&gt;&gt; <a title="[A, B]()fj.F[fj.F[B,fj.F[A,B]],fj.F[B,fj.F[fj.data.List[A],B]]]" id="14950">foldLeft</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> curry<span class="delimiter">(</span><span class="keyword">new</span> F3&lt;F&lt;B, F&lt;A, B&gt;&gt;, B, List&lt;A&gt;, B&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public B f<span class="delimiter">(</span><span class="keyword">final</span> F&lt;B, F&lt;A, B&gt;&gt; f, <span class="keyword">final</span> B b, <span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.foldLeft<span class="delimiter">(</span>f, b<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Provides a first-class version of take.
   *
   * @return First-class version of take.
   */</span>
  public static &lt;<a title="Nothing" id="14957">A</a>&gt; F&lt;Integer, F&lt;<a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14957" title="A">A</a>&gt;, <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14957" title="A">A</a>&gt;&gt;&gt; <a title="[A]()fj.F[java.lang.Integer,fj.F[fj.data.List[A],fj.data.List[A]]]" id="14955">take</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> curry<span class="delimiter">(</span><span class="keyword">new</span> F2&lt;Integer, List&lt;A&gt;, List&lt;A&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;A&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Integer n, <span class="keyword">final</span> List&lt;A&gt; as<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.take<span class="delimiter">(</span>n<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Takes the given iterable to a list.
   *
   * @param i The iterable to take to a list.
   * @return A list from the given iterable.
   */</span>
  public static &lt;<a title="Nothing" id="14960">A</a>&gt; <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14960" title="A">A</a>&gt; <a title="[A](i: java.lang.Iterable[A])fj.data.List[A]" id="14958">iterableList</a><span class="delimiter">(</span><span class="keyword">final</span> Iterable&lt;<a href="#14960" title="A">A</a>&gt; <a title="java.lang.Iterable[A]" id="29300">i</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">final</span> Buffer&lt;A&gt; bs = empty<span class="delimiter">(</span><span class="delimiter">)</span>;

    <span class="keyword">for</span> <span class="delimiter">(</span><span class="keyword">final</span> A a : i<span class="delimiter">)</span>
      bs.snoc<span class="delimiter">(</span>a<span class="delimiter">)</span>;

    <span class="keyword">return</span> bs.toList<span class="delimiter">(</span><span class="delimiter">)</span>;
  <span class="delimiter">}</span>


  <span class="comment">/**
   * A mutable, singly linked list. This structure should be used &lt;em&gt;very&lt;/em&gt; sparingly, in favour
   * of the {@link List immutable singly linked list structure}.
   */</span>
  public static <span class="keyword">final</span> <span class="keyword">class</span> <a title="object fj.data.List.Buffer" id="14963">Buffer</a>&lt;<a title="Nothing" id="14964">A</a>&gt; implements Iterable&lt;<a href="#14964" title="A">A</a>&gt; <span class="delimiter">{</span>
    <span class="keyword">private</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14964" title="A">A</a>&gt; <a title="fj.data.List[A]" id="29306">start</a> = nil<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="keyword">private</span> Cons&lt;<a href="#14964" title="A">A</a>&gt; <a title="fj.data.List.Cons[A]" id="29307">tail</a>;
    <span class="keyword">private</span> boolean <a title="Boolean" id="29308">exported</a>;

    <span class="comment">/**
     * Returns an iterator for this buffer. This method exists to permit the use in a &lt;code&gt;for&lt;/code&gt;-each loop.
     *
     * @return A iterator for this buffer.
     */</span>
    public Iterator&lt;<a href="#14964" title="A">A</a>&gt; <a title="()java.util.Iterator[A]" id="29309">iterator</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> start.iterator<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Appends (snoc) the given element to this buffer to produce a new buffer.
     *
     * @param a The element to append to this buffer.
     * @return A new buffer with the given element appended.
     */</span>
    public Buffer&lt;<a href="#14964" title="A">A</a>&gt; <a title="(a: A)fj.data.List.Buffer[A]" id="29310">snoc</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#14964" title="A">A</a> <a title="A" id="29328">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">if</span> <span class="delimiter">(</span>exported<span class="delimiter">)</span>
        copy<span class="delimiter">(</span><span class="delimiter">)</span>;

      <span class="keyword">final</span> Cons&lt;A&gt; t = <span class="keyword">new</span> Cons&lt;A&gt;<span class="delimiter">(</span>a, List.&lt;A&gt;nil<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;

      <span class="keyword">if</span> <span class="delimiter">(</span>tail == <span class="keyword">null</span><span class="delimiter">)</span>
        start = t;
      <span class="keyword">else</span>
        tail.tail<span class="delimiter">(</span>t<span class="delimiter">)</span>;

      tail = t;

      <span class="keyword">return</span> <span class="keyword">this</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Appends the given buffer to this buffer.
     *
     * @param as The buffer to append to this one.
     * @return A new buffer that has appended the given buffer.
     */</span>
    public Buffer&lt;<a href="#14964" title="A">A</a>&gt; <a title="(as: fj.data.List[A])fj.data.List.Buffer[A]" id="29311">append</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14964" title="A">A</a>&gt; <a title="fj.data.List[A]" id="29330">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = as; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        snoc<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;

      <span class="keyword">return</span> <span class="keyword">this</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns an immutable list projection of this buffer. Modifications to the underlying buffer
     * will &lt;em&gt;not&lt;/em&gt; be reflected in returned lists.
     *
     * @return An immutable list projection of this buffer.
     */</span>
    public <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14964" title="A">A</a>&gt; <a title="()fj.data.List[A]" id="29312">toList</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      exported = !start.isEmpty<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="keyword">return</span> start;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Projects an immutable collection of this buffer.
     *
     * @return An immutable collection of this buffer.
     */</span>
    public Collection&lt;<a href="#14964" title="A">A</a>&gt; <a title="()java.util.Collection[A]" id="29313">toCollection</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> start.toCollection<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * An empty buffer.
     *
     * @return An empty buffer.
     */</span>
    public static &lt;<a title="Nothing" id="14968">A</a>&gt; Buffer&lt;<a href="#14968" title="A">A</a>&gt; <a title="[A]()fj.data.List.Buffer[A]" id="14966">empty</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">return</span> <span class="keyword">new</span> Buffer&lt;A&gt;<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Constructs a buffer from the given list.
     *
     * @param as The list to construct a buffer with.
     * @return A buffer from the given list.
     */</span>
    public static &lt;<a title="Nothing" id="14971">A</a>&gt; Buffer&lt;<a href="#14971" title="A">A</a>&gt; <a title="[A](as: fj.data.List[A])fj.data.List.Buffer[A]" id="14969">fromList</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#10232" title="fj.data.List">List</a>&lt;<a href="#14971" title="A">A</a>&gt; <a title="fj.data.List[A]" id="29315">as</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">final</span> Buffer&lt;A&gt; b = <span class="keyword">new</span> Buffer&lt;A&gt;<span class="delimiter">(</span><span class="delimiter">)</span>;

      <span class="keyword">for</span> <span class="delimiter">(</span>List&lt;A&gt; xs = as; xs.isNotEmpty<span class="delimiter">(</span><span class="delimiter">)</span>; xs = xs.tail<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        b.snoc<span class="delimiter">(</span>xs.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;

      <span class="keyword">return</span> b;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Takes the given iterable to a buffer.
     *
     * @param i The iterable to take to a buffer.
     * @return A buffer from the given iterable.
     */</span>
    public static &lt;<a title="Nothing" id="14974">A</a>&gt; Buffer&lt;<a href="#14974" title="A">A</a>&gt; <a title="[A](i: java.lang.Iterable[A])fj.data.List.Buffer[A]" id="14972">iterableBuffer</a><span class="delimiter">(</span><span class="keyword">final</span> Iterable&lt;<a href="#14974" title="A">A</a>&gt; <a title="java.lang.Iterable[A]" id="29318">i</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">final</span> Buffer&lt;A&gt; b = empty<span class="delimiter">(</span><span class="delimiter">)</span>;

      <span class="keyword">for</span> <span class="delimiter">(</span><span class="keyword">final</span> A a : i<span class="delimiter">)</span>
        b.snoc<span class="delimiter">(</span>a<span class="delimiter">)</span>;

      <span class="keyword">return</span> b;
    <span class="delimiter">}</span>

    @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;ObjectEquality&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="keyword">private</span> void <a title="()Unit" id="29314">copy</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      List&lt;A&gt; s = start;
      <span class="keyword">final</span> Cons&lt;A&gt; t = tail;
      start = nil<span class="delimiter">(</span><span class="delimiter">)</span>;
      exported = <span class="keyword">false</span>;
      <span class="keyword">while</span> <span class="delimiter">(</span>s != t<span class="delimiter">)</span> <span class="delimiter">{</span>
        snoc<span class="delimiter">(</span>s.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
        s = s.tail<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>

      <span class="keyword">if</span> <span class="delimiter">(</span>t != <span class="keyword">null</span><span class="delimiter">)</span>
        snoc<span class="delimiter">(</span>t.head<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

    <span class="comment">/**
     * Perform an equality test on this list which delegates to the .equals() method of the member instances.
     * This is implemented with Equal.listEqual using the anyEqual rule.
     *
     * @param obj the other object to check for equality against.
     * @return true if this list is equal to the provided argument
     */</span>
    <span class="comment">//Suppress the warning for cast to &lt;code&gt;List&lt;A&gt;&lt;/code&gt; because the type is checked in the previous line.</span>
    @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span> <span class="string">&quot;unchecked&quot;</span> <span class="delimiter">}</span><span class="delimiter">)</span>
    @Override public boolean <a title="(obj: Any)Boolean" id="15173">equals</a><span class="delimiter">(</span> <span class="keyword">final</span> Object <a title="Any" id="29592">obj</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span> obj == <span class="keyword">null</span> || !<span class="delimiter">(</span> obj instanceof List <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span> <span class="keyword">return</span> <span class="keyword">false</span>; <span class="delimiter">}</span>

        <span class="comment">//Casting to List&lt;A&gt; here does not cause a runtime exception even if the type arguments don't match.</span>
        <span class="comment">//The cast is done to avoid the compiler warning &quot;raw use of parameterized class 'List'&quot;</span>
        <span class="keyword">return</span> Equal.listEqual<span class="delimiter">(</span> Equal.&lt;A&gt;anyEqual<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">)</span>.eq<span class="delimiter">(</span> <span class="keyword">this</span>, <span class="delimiter">(</span>List&lt;A&gt;<span class="delimiter">)</span> obj <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Compute the hash code from this list as a function of the hash codes of its members.
     * Delegates to Hash.listHash, using the anyHash() rule, which uses the hash codes of the contents.
     *
     * @return the hash code for this list.
     */</span>
    @Override public int <a title="()Int" id="15174">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Hash.listHash<span class="delimiter">(</span> Hash.&lt;A&gt;anyHash<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">)</span>.hash<span class="delimiter">(</span> <span class="keyword">this</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Obtain a string representation of this list using the toString implementations of the members.  Uses Show.listShow with F2 argument and may
     * not be very performant.
     *
     * @return a String representation of the list
     */</span>
    @Override public String <a title="()java.lang.String" id="15175">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Show.listShow<span class="delimiter">(</span> Show.&lt;A&gt;anyShow<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">)</span>.show<span class="delimiter">(</span> <span class="keyword">this</span> <span class="delimiter">)</span>.foldLeft<span class="delimiter">(</span> <span class="keyword">new</span> F2&lt;String, Character, String&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            @Override public String f<span class="delimiter">(</span> <span class="keyword">final</span> String s, <span class="keyword">final</span> Character c <span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> s + c;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>, <span class="string">&quot;&quot;</span> <span class="delimiter">)</span>;
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>