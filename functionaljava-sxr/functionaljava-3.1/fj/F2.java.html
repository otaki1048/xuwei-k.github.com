<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>fj/F2.java</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> fj;

<span class="keyword">import</span> fj.control.parallel.Promise;
<span class="keyword">import</span> fj.data.Array;
<span class="keyword">import</span> fj.data.IterableW;
<span class="keyword">import</span> fj.data.List;
<span class="keyword">import</span> fj.data.NonEmptyList;
<span class="keyword">import</span> fj.data.Option;
<span class="keyword">import</span> fj.data.Set;
<span class="keyword">import</span> fj.data.Stream;
<span class="keyword">import</span> fj.data.Tree;
<span class="keyword">import</span> fj.data.TreeZipper;
<span class="keyword">import</span> fj.data.Zipper;

<span class="keyword">import</span> static fj.data.Tree.node;
<span class="keyword">import</span> static fj.P.p;
<span class="keyword">import</span> static fj.data.IterableW.wrap;
<span class="keyword">import</span> static fj.data.Set.iterableSet;
<span class="keyword">import</span> static fj.data.TreeZipper.treeZipper;
<span class="keyword">import</span> static fj.data.Zipper.zipper;

<span class="comment">/**
 * A transformation function of arity-2 from &lt;code&gt;A&lt;/code&gt; and &lt;code&gt;B&lt;/code&gt; to &lt;code&gt;C&lt;/code&gt;.
 * This type can be represented using the Java 7 closure syntax.
 *
 * @version %build.number%
 */</span>
public <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="object fj.F2" id="9555">F2</a>&lt;<a title="Nothing" id="9556">A</a>, <a title="Nothing" id="9557">B</a>, <a title="Nothing" id="9558">C</a>&gt; <span class="delimiter">{</span>
  <span class="comment">/**
   * Transform &lt;code&gt;A&lt;/code&gt; and &lt;code&gt;B&lt;/code&gt; to &lt;code&gt;C&lt;/code&gt;.
   *
   * @param a The &lt;code&gt;A&lt;/code&gt; to transform.
   * @param b The &lt;code&gt;B&lt;/code&gt; to transform.
   * @return The result of the transformation.
   */</span>
  public <span class="keyword">abstract</span> <a href="#9558" title="C">C</a> <a title="(a: A, b: B)C" id="19627">f</a><span class="delimiter">(</span><a href="#9556" title="A">A</a> <a title="A" id="22289">a</a>, <a href="#9557" title="B">B</a> <a title="B" id="22290">b</a><span class="delimiter">)</span>;


  <span class="comment">/**
   * Partial application.
   *
   * @param a The &lt;code&gt;A&lt;/code&gt; to which to apply this function.
   * @return The function partially applied to the given argument.
   */</span>
  public <span class="keyword">final</span> <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#9557" title="B">B</a>, <a href="#9558" title="C">C</a>&gt; <a title="(a: A)fj.F[B,C]" id="19628">f</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="#9556" title="A">A</a> <a title="A" id="22291">a</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;B, C&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public C f<span class="delimiter">(</span><span class="keyword">final</span> B b<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>a, b<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Curries this wrapped function to a wrapped function of arity-1 that returns another wrapped function.
   *
   * @return a wrapped function of arity-1 that returns another wrapped function.
   */</span>
  public <span class="keyword">final</span> <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#9556" title="A">A</a>, <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="#9557" title="B">B</a>, <a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F[A,fj.F[B,C]]" id="19629">curry</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;A, F&lt;B, C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public F&lt;B, C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> <span class="keyword">new</span> F&lt;B, C&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public C f<span class="delimiter">(</span><span class="keyword">final</span> B b<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>a, b<span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Flips the arguments of this function.
   *
   * @return A new function with the arguments of this function flipped.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;<a href="#9557" title="B">B</a>, <a href="#9556" title="A">A</a>, <a href="#9558" title="C">C</a>&gt; <a title="()fj.F2[B,A,C]" id="19630">flip</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;B, A, C&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public C f<span class="delimiter">(</span><span class="keyword">final</span> B b, <span class="keyword">final</span> A a<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>a, b<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Uncurries this function to a function on tuples.
   *
   * @return A new function that calls this function with the elements of a given tuple.
   */</span>
  public <span class="keyword">final</span> <a href="F.java.html#9532" title="fj.F">F</a>&lt;<a href="P2.java.html#9705" title="fj.P2">P2</a>&lt;<a href="#9556" title="A">A</a>, <a href="#9557" title="B">B</a>&gt;, <a href="#9558" title="C">C</a>&gt; <a title="()fj.F[fj.P2[A,B],C]" id="19631">tuple</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F&lt;P2&lt;A, B&gt;, C&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public C f<span class="delimiter">(</span><span class="keyword">final</span> P2&lt;A, B&gt; p<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>p._1<span class="delimiter">(</span><span class="delimiter">)</span>, p._2<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on Arrays.
   *
   * @return This function promoted to transform Arrays.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Array&lt;<a href="#9556" title="A">A</a>&gt;, Array&lt;<a href="#9557" title="B">B</a>&gt;, Array&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.Array[A],fj.data.Array[B],fj.data.Array[C]]" id="19632">arrayM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Array&lt;A&gt;, Array&lt;B&gt;, Array&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Array&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Array&lt;A&gt; a, <span class="keyword">final</span> Array&lt;B&gt; b<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a.bind<span class="delimiter">(</span>b, F2.<span class="keyword">this</span>.curry<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on Promises.
   *
   * @return This function promoted to transform Promises.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Promise&lt;<a href="#9556" title="A">A</a>&gt;, Promise&lt;<a href="#9557" title="B">B</a>&gt;, Promise&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.control.parallel.Promise[A],fj.control.parallel.Promise[B],fj.control.parallel.Promise[C]]" id="19633">promiseM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Promise&lt;A&gt;, Promise&lt;B&gt;, Promise&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Promise&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Promise&lt;A&gt; a, <span class="keyword">final</span> Promise&lt;B&gt; b<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> a.bind<span class="delimiter">(</span>b, F2.<span class="keyword">this</span>.curry<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on Iterables.
   *
   * @return This function promoted to transform Iterables.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Iterable&lt;<a href="#9556" title="A">A</a>&gt;, Iterable&lt;<a href="#9557" title="B">B</a>&gt;, IterableW&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[java.lang.Iterable[A],java.lang.Iterable[B],fj.data.IterableW[C]]" id="19634">iterableM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Iterable&lt;A&gt;, Iterable&lt;B&gt;, IterableW&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public IterableW&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Iterable&lt;A&gt; a, <span class="keyword">final</span> Iterable&lt;B&gt; b<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> IterableW.liftM2<span class="delimiter">(</span>F2.<span class="keyword">this</span>.curry<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span>.f<span class="delimiter">(</span>b<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on Lists.
   *
   * @return This function promoted to transform Lists.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;List&lt;<a href="#9556" title="A">A</a>&gt;, List&lt;<a href="#9557" title="B">B</a>&gt;, List&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.List[A],fj.data.List[B],fj.data.List[C]]" id="19635">listM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;List&lt;A&gt;, List&lt;B&gt;, List&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; a, <span class="keyword">final</span> List&lt;B&gt; b<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> List.liftM2<span class="delimiter">(</span>F2.<span class="keyword">this</span>.curry<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span>.f<span class="delimiter">(</span>b<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on non-empty lists.
   *
   * @return This function promoted to transform non-empty lists.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;NonEmptyList&lt;<a href="#9556" title="A">A</a>&gt;, NonEmptyList&lt;<a href="#9557" title="B">B</a>&gt;, NonEmptyList&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.NonEmptyList[A],fj.data.NonEmptyList[B],fj.data.NonEmptyList[C]]" id="19636">nelM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;NonEmptyList&lt;A&gt;, NonEmptyList&lt;B&gt;, NonEmptyList&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public NonEmptyList&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> NonEmptyList&lt;A&gt; as, <span class="keyword">final</span> NonEmptyList&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> NonEmptyList.fromList<span class="delimiter">(</span>as.toList<span class="delimiter">(</span><span class="delimiter">)</span>.bind<span class="delimiter">(</span>bs.toList<span class="delimiter">(</span><span class="delimiter">)</span>, F2.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">)</span>.some<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on Options.
   *
   * @return This function promoted to transform Options.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Option&lt;<a href="#9556" title="A">A</a>&gt;, Option&lt;<a href="#9557" title="B">B</a>&gt;, Option&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.Option[A],fj.data.Option[B],fj.data.Option[C]]" id="19637">optionM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Option&lt;A&gt;, Option&lt;B&gt;, Option&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Option&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Option&lt;A&gt; a, <span class="keyword">final</span> Option&lt;B&gt; b<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> Option.liftM2<span class="delimiter">(</span>F2.<span class="keyword">this</span>.curry<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>a<span class="delimiter">)</span>.f<span class="delimiter">(</span>b<span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on Sets.
   *
   * @param o An ordering for the result of the promoted function.
   * @return This function promoted to transform Sets.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Set&lt;<a href="#9556" title="A">A</a>&gt;, Set&lt;<a href="#9557" title="B">B</a>&gt;, Set&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="(o: fj.Ord[C])fj.F2[fj.data.Set[A],fj.data.Set[B],fj.data.Set[C]]" id="19638">setM</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="Ord.java.html#9680" title="fj.Ord">Ord</a>&lt;<a href="#9558" title="C">C</a>&gt; <a title="fj.Ord[C]" id="22292">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Set&lt;A&gt;, Set&lt;B&gt;, Set&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Set&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Set&lt;A&gt; as, <span class="keyword">final</span> Set&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        Set&lt;C&gt; cs = Set.empty<span class="delimiter">(</span>o<span class="delimiter">)</span>;
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="keyword">final</span> A a : as<span class="delimiter">)</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><span class="keyword">final</span> B b : bs<span class="delimiter">)</span>
            cs = cs.insert<span class="delimiter">(</span>F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>a, b<span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="keyword">return</span> cs;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on Streams.
   *
   * @return This function promoted to transform Streams.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Stream&lt;<a href="#9556" title="A">A</a>&gt;, Stream&lt;<a href="#9557" title="B">B</a>&gt;, Stream&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.Stream[A],fj.data.Stream[B],fj.data.Stream[C]]" id="19639">streamM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Stream&lt;A&gt;, Stream&lt;B&gt;, Stream&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Stream&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Stream&lt;A&gt; as, <span class="keyword">final</span> Stream&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.bind<span class="delimiter">(</span>bs, F2.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to a function on Trees.
   *
   * @return This function promoted to transform Trees.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Tree&lt;<a href="#9556" title="A">A</a>&gt;, Tree&lt;<a href="#9557" title="B">B</a>&gt;, Tree&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.Tree[A],fj.data.Tree[B],fj.data.Tree[C]]" id="19640">treeM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Tree&lt;A&gt;, Tree&lt;B&gt;, Tree&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Tree&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Tree&lt;A&gt; as, <span class="keyword">final</span> Tree&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">final</span> F2&lt;Tree&lt;A&gt;, Tree&lt;B&gt;, Tree&lt;C&gt;&gt; self = <span class="keyword">this</span>;
        <span class="keyword">return</span> node<span class="delimiter">(</span>F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>as.root<span class="delimiter">(</span><span class="delimiter">)</span>, bs.root<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span class="keyword">new</span> P1&lt;Stream&lt;Tree&lt;C&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Stream&lt;Tree&lt;C&gt;&gt; _1<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> self.streamM<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>as.subForest<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span>, bs.subForest<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to zip two arrays, applying the function lock-step over both Arrays.
   *
   * @return A function that zips two arrays with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Array&lt;<a href="#9556" title="A">A</a>&gt;, Array&lt;<a href="#9557" title="B">B</a>&gt;, Array&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.Array[A],fj.data.Array[B],fj.data.Array[C]]" id="19641">zipArrayM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Array&lt;A&gt;, Array&lt;B&gt;, Array&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Array&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Array&lt;A&gt; as, <span class="keyword">final</span> Array&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.zipWith<span class="delimiter">(</span>bs, F2.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to zip two iterables, applying the function lock-step over both iterables.
   *
   * @return A function that zips two iterables with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Iterable&lt;<a href="#9556" title="A">A</a>&gt;, Iterable&lt;<a href="#9557" title="B">B</a>&gt;, Iterable&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[java.lang.Iterable[A],java.lang.Iterable[B],java.lang.Iterable[C]]" id="19642">zipIterableM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Iterable&lt;A&gt;, Iterable&lt;B&gt;, Iterable&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Iterable&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Iterable&lt;A&gt; as, <span class="keyword">final</span> Iterable&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> wrap<span class="delimiter">(</span>as<span class="delimiter">)</span>.zipWith<span class="delimiter">(</span>bs, F2.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to zip two lists, applying the function lock-step over both lists.
   *
   * @return A function that zips two lists with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;List&lt;<a href="#9556" title="A">A</a>&gt;, List&lt;<a href="#9557" title="B">B</a>&gt;, List&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.List[A],fj.data.List[B],fj.data.List[C]]" id="19643">zipListM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;List&lt;A&gt;, List&lt;B&gt;, List&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public List&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> List&lt;A&gt; as, <span class="keyword">final</span> List&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.zipWith<span class="delimiter">(</span>bs, F2.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Promotes this function to zip two streams, applying the function lock-step over both streams.
   *
   * @return A function that zips two streams with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Stream&lt;<a href="#9556" title="A">A</a>&gt;, Stream&lt;<a href="#9557" title="B">B</a>&gt;, Stream&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.Stream[A],fj.data.Stream[B],fj.data.Stream[C]]" id="19644">zipStreamM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Stream&lt;A&gt;, Stream&lt;B&gt;, Stream&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Stream&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Stream&lt;A&gt; as, <span class="keyword">final</span> Stream&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> as.zipWith<span class="delimiter">(</span>bs, F2.<span class="keyword">this</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to zip two non-empty lists, applying the function lock-step over both lists.
   *
   * @return A function that zips two non-empty lists with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;NonEmptyList&lt;<a href="#9556" title="A">A</a>&gt;, NonEmptyList&lt;<a href="#9557" title="B">B</a>&gt;, NonEmptyList&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.NonEmptyList[A],fj.data.NonEmptyList[B],fj.data.NonEmptyList[C]]" id="19645">zipNelM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;NonEmptyList&lt;A&gt;, NonEmptyList&lt;B&gt;, NonEmptyList&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public NonEmptyList&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> NonEmptyList&lt;A&gt; as, <span class="keyword">final</span> NonEmptyList&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> NonEmptyList.fromList<span class="delimiter">(</span>as.toList<span class="delimiter">(</span><span class="delimiter">)</span>.zipWith<span class="delimiter">(</span>bs.toList<span class="delimiter">(</span><span class="delimiter">)</span>, F2.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">)</span>.some<span class="delimiter">(</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to zip two sets, applying the function lock-step over both sets.
   *
   * @param o An ordering for the resulting set.
   * @return A function that zips two sets with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Set&lt;<a href="#9556" title="A">A</a>&gt;, Set&lt;<a href="#9557" title="B">B</a>&gt;, Set&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="(o: fj.Ord[C])fj.F2[fj.data.Set[A],fj.data.Set[B],fj.data.Set[C]]" id="19646">zipSetM</a><span class="delimiter">(</span><span class="keyword">final</span> <a href="Ord.java.html#9680" title="fj.Ord">Ord</a>&lt;<a href="#9558" title="C">C</a>&gt; <a title="fj.Ord[C]" id="22293">o</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Set&lt;A&gt;, Set&lt;B&gt;, Set&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Set&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Set&lt;A&gt; as, <span class="keyword">final</span> Set&lt;B&gt; bs<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> iterableSet<span class="delimiter">(</span>o, as.toStream<span class="delimiter">(</span><span class="delimiter">)</span>.zipWith<span class="delimiter">(</span>bs.toStream<span class="delimiter">(</span><span class="delimiter">)</span>, F2.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to zip two trees, applying the function lock-step over both trees.
   * The structure of the resulting tree is the structural intersection of the two trees.
   *
   * @return A function that zips two trees with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Tree&lt;<a href="#9556" title="A">A</a>&gt;, Tree&lt;<a href="#9557" title="B">B</a>&gt;, Tree&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.Tree[A],fj.data.Tree[B],fj.data.Tree[C]]" id="19647">zipTreeM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Tree&lt;A&gt;, Tree&lt;B&gt;, Tree&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      public Tree&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Tree&lt;A&gt; ta, <span class="keyword">final</span> Tree&lt;B&gt; tb<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">final</span> F2&lt;Tree&lt;A&gt;, Tree&lt;B&gt;, Tree&lt;C&gt;&gt; self = <span class="keyword">this</span>;
        <span class="keyword">return</span> node<span class="delimiter">(</span>F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>ta.root<span class="delimiter">(</span><span class="delimiter">)</span>, tb.root<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span class="keyword">new</span> P1&lt;Stream&lt;Tree&lt;C&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          public Stream&lt;Tree&lt;C&gt;&gt; _1<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> self.zipStreamM<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>ta.subForest<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span>, tb.subForest<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to zip two zippers, applying the function lock-step over both zippers in both directions.
   * The structure of the resulting zipper is the structural intersection of the two zippers.
   *
   * @return A function that zips two zippers with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;Zipper&lt;<a href="#9556" title="A">A</a>&gt;, Zipper&lt;<a href="#9557" title="B">B</a>&gt;, Zipper&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.Zipper[A],fj.data.Zipper[B],fj.data.Zipper[C]]" id="19648">zipZipperM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;Zipper&lt;A&gt;, Zipper&lt;B&gt;, Zipper&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
      public Zipper&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> Zipper&lt;A&gt; ta, <span class="keyword">final</span> Zipper&lt;B&gt; tb<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">final</span> F2&lt;Stream&lt;A&gt;, Stream&lt;B&gt;, Stream&lt;C&gt;&gt; sf = F2.<span class="keyword">this</span>.zipStreamM<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="keyword">return</span> zipper<span class="delimiter">(</span>sf.f<span class="delimiter">(</span>ta.lefts<span class="delimiter">(</span><span class="delimiter">)</span>, tb.lefts<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>ta.focus<span class="delimiter">(</span><span class="delimiter">)</span>, tb.focus<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, sf.f<span class="delimiter">(</span>ta.rights<span class="delimiter">(</span><span class="delimiter">)</span>, tb.rights<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Promotes this function to zip two TreeZippers, applying the function lock-step over both zippers in all directions.
   * The structure of the resulting TreeZipper is the structural intersection of the two TreeZippers.
   *
   * @return A function that zips two TreeZippers with this function.
   */</span>
  public <span class="keyword">final</span> <a href="#9555" title="fj.F2">F2</a>&lt;TreeZipper&lt;<a href="#9556" title="A">A</a>&gt;, TreeZipper&lt;<a href="#9557" title="B">B</a>&gt;, TreeZipper&lt;<a href="#9558" title="C">C</a>&gt;&gt; <a title="()fj.F2[fj.data.TreeZipper[A],fj.data.TreeZipper[B],fj.data.TreeZipper[C]]" id="19649">zipTreeZipperM</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">return</span> <span class="keyword">new</span> F2&lt;TreeZipper&lt;A&gt;, TreeZipper&lt;B&gt;, TreeZipper&lt;C&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      @SuppressWarnings<span class="delimiter">(</span><span class="delimiter">{</span><span class="string">&quot;unchecked&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
      public TreeZipper&lt;C&gt; f<span class="delimiter">(</span><span class="keyword">final</span> TreeZipper&lt;A&gt; ta, <span class="keyword">final</span> TreeZipper&lt;B&gt; tb<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">final</span> F2&lt;Stream&lt;Tree&lt;A&gt;&gt;, Stream&lt;Tree&lt;B&gt;&gt;, Stream&lt;Tree&lt;C&gt;&gt;&gt; sf = F2.<span class="keyword">this</span>.treeM<span class="delimiter">(</span><span class="delimiter">)</span>.zipStreamM<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="keyword">final</span>
        F2&lt;Stream&lt;P3&lt;Stream&lt;Tree&lt;A&gt;&gt;, A, Stream&lt;Tree&lt;A&gt;&gt;&gt;&gt;,
            Stream&lt;P3&lt;Stream&lt;Tree&lt;B&gt;&gt;, B, Stream&lt;Tree&lt;B&gt;&gt;&gt;&gt;,
            Stream&lt;P3&lt;Stream&lt;Tree&lt;C&gt;&gt;, C, Stream&lt;Tree&lt;C&gt;&gt;&gt;&gt;&gt;
            pf =
            <span class="keyword">new</span> F2&lt;P3&lt;Stream&lt;Tree&lt;A&gt;&gt;, A, Stream&lt;Tree&lt;A&gt;&gt;&gt;,
                P3&lt;Stream&lt;Tree&lt;B&gt;&gt;, B, Stream&lt;Tree&lt;B&gt;&gt;&gt;,
                P3&lt;Stream&lt;Tree&lt;C&gt;&gt;, C, Stream&lt;Tree&lt;C&gt;&gt;&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              public P3&lt;Stream&lt;Tree&lt;C&gt;&gt;, C, Stream&lt;Tree&lt;C&gt;&gt;&gt; f<span class="delimiter">(</span><span class="keyword">final</span> P3&lt;Stream&lt;Tree&lt;A&gt;&gt;, A, Stream&lt;Tree&lt;A&gt;&gt;&gt; pa,
                                                               <span class="keyword">final</span> P3&lt;Stream&lt;Tree&lt;B&gt;&gt;, B, Stream&lt;Tree&lt;B&gt;&gt;&gt; pb<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> p<span class="delimiter">(</span>F2.<span class="keyword">this</span>.treeM<span class="delimiter">(</span><span class="delimiter">)</span>.zipStreamM<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>pa._1<span class="delimiter">(</span><span class="delimiter">)</span>, pb._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, F2.<span class="keyword">this</span>.f<span class="delimiter">(</span>pa._2<span class="delimiter">(</span><span class="delimiter">)</span>, pb._2<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                         F2.<span class="keyword">this</span>.treeM<span class="delimiter">(</span><span class="delimiter">)</span>.zipStreamM<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>pa._3<span class="delimiter">(</span><span class="delimiter">)</span>, pb._3<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>.zipStreamM<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="keyword">return</span> treeZipper<span class="delimiter">(</span>F2.<span class="keyword">this</span>.treeM<span class="delimiter">(</span><span class="delimiter">)</span>.f<span class="delimiter">(</span>ta.p<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span>, tb.p<span class="delimiter">(</span><span class="delimiter">)</span>._1<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, sf.f<span class="delimiter">(</span>ta.lefts<span class="delimiter">(</span><span class="delimiter">)</span>, tb.lefts<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                          sf.f<span class="delimiter">(</span>ta.rights<span class="delimiter">(</span><span class="delimiter">)</span>, tb.rights<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, pf.f<span class="delimiter">(</span>ta.p<span class="delimiter">(</span><span class="delimiter">)</span>._4<span class="delimiter">(</span><span class="delimiter">)</span>, tb.p<span class="delimiter">(</span><span class="delimiter">)</span>._4<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>;
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>