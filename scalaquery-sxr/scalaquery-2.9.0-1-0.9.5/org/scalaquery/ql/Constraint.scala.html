<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/scalaquery/ql/Constraint.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.scalaquery.ql

<span class="keyword">import</span> org.scalaquery.util.<span class="delimiter">{</span>Node, BinaryNode<span class="delimiter">}</span>

<span class="comment">/**
 * Marker trait for foreign key and primary key constraints.
 */</span>
<span class="keyword">trait</span> <a title="trait Constraint extends java.lang.Object" id="9843">Constraint</a>

case <span class="keyword">class</span> <a title="class ForeignKey[TT &lt;: org.scalaquery.ql.AbstractTable[_]] extends org.scalaquery.ql.OperatorColumn[Boolean] with org.scalaquery.util.BinaryNode with ScalaObject with Product with Serializable" id="85527">ForeignKey</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: org.scalaquery.ql.AbstractTable[_]" id="84728">TT</a> &lt;: AbstractTable<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><a href="#85527" title="ScalaObject" class="delimiter">(</a><a title="String" id="85494">name</a>: <span title="String">String</span>, <a title="org.scalaquery.util.Node" id="85495">sourceTable</a>: <a href="../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a>, <a title="TT" id="85496">targetTable</a>: <a href="#84728" title="TT">TT</a>, <a title="TT" id="85497">originalTargetTable</a>: <a href="#84728" title="TT">TT</a>,
    <a title="org.scalaquery.util.Node" id="85498">sourceColumns</a>: <a href="../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a>, <a title="TT =&gt; org.scalaquery.ql.ColumnBase[_]" id="85499">targetColumns</a>: TT =&gt; ColumnBase<span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.ql.ForeignKeyAction" id="85500">onUpdate</a>: <a href="#9848" title="org.scalaquery.ql.ForeignKeyAction">ForeignKeyAction</a>, <a title="org.scalaquery.ql.ForeignKeyAction" id="85501">onDelete</a>: <a href="#9848" title="org.scalaquery.ql.ForeignKeyAction">ForeignKeyAction</a><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="ColumnBase.scala.html#9815" title="org.scalaquery.ql.OperatorColumn[Boolean]">OperatorColumn</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../util/Node.scala.html#10741" title="org.scalaquery.util.BinaryNode">BinaryNode</a> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="org.scalaquery.util.Node" id="84543">left</a> = <a href="../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#85498" title="=&gt; org.scalaquery.util.Node">sourceColumns</a><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="org.scalaquery.util.Node" id="84545">right</a> = <a href="../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#85499" title="(v1: TT)org.scalaquery.ql.ColumnBase[_]">targetColumns</a><span class="delimiter">(</span><a href="#85496" title="=&gt; TT">targetTable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="84547">toString</a> = <span title="java.lang.String(&quot;ForeignKey &quot;)" class="string">&quot;ForeignKey &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#85494" title="=&gt; String">name</a>
  <span class="keyword">def</span> <a title="=&gt; org.scalaquery.ql.ColumnBase[_]" id="84548">targetColumnsForOriginalTargetTable</a> = <a href="#85499" title="(v1: TT)org.scalaquery.ql.ColumnBase[_]">targetColumns</a><span class="delimiter">(</span><a href="#85497" title="=&gt; TT">originalTargetTable</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ForeignKeyAction extends java.lang.Object with ScalaObject" id="9848">ForeignKeyAction</a><a href="#9848" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="54756">action</a>: <span title="String">String</span><span class="delimiter">)</span>

<span class="keyword">object</span> <a title="object org.scalaquery.ql.ForeignKeyAction" id="9849">ForeignKeyAction</a> <span title="ScalaObject" class="delimiter">{</span>
  case <span class="keyword">object</span> <a href="#84855" title="object org.scalaquery.ql.ForeignKeyAction.Cascade" id="84860">Cascade</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9848" title="org.scalaquery.ql.ForeignKeyAction">ForeignKeyAction</a><span class="delimiter">(</span><span title="java.lang.String(&quot;CASCADE&quot;)" class="string">&quot;CASCADE&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#84867" title="object org.scalaquery.ql.ForeignKeyAction.Restrict" id="84872">Restrict</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9848" title="org.scalaquery.ql.ForeignKeyAction">ForeignKeyAction</a><span class="delimiter">(</span><span title="java.lang.String(&quot;RESTRICT&quot;)" class="string">&quot;RESTRICT&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#84879" title="object org.scalaquery.ql.ForeignKeyAction.NoAction" id="84884">NoAction</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9848" title="org.scalaquery.ql.ForeignKeyAction">ForeignKeyAction</a><span class="delimiter">(</span><span title="java.lang.String(&quot;NO ACTION&quot;)" class="string">&quot;NO ACTION&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#84891" title="object org.scalaquery.ql.ForeignKeyAction.SetNull" id="84896">SetNull</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9848" title="org.scalaquery.ql.ForeignKeyAction">ForeignKeyAction</a><span class="delimiter">(</span><span title="java.lang.String(&quot;SET NULL&quot;)" class="string">&quot;SET NULL&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#84903" title="object org.scalaquery.ql.ForeignKeyAction.SetDefault" id="84908">SetDefault</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9848" title="org.scalaquery.ql.ForeignKeyAction">ForeignKeyAction</a><span class="delimiter">(</span><span title="java.lang.String(&quot;SET DEFAULT&quot;)" class="string">&quot;SET DEFAULT&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class ForeignKeyQuery[TT &lt;: org.scalaquery.ql.AbstractTable[_]] extends org.scalaquery.ql.Query[TT] with org.scalaquery.ql.Constraint with ScalaObject" id="9851">ForeignKeyQuery</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: org.scalaquery.ql.AbstractTable[_]" id="9852">TT</a> &lt;: AbstractTable<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><a href="#9851" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="List[org.scalaquery.ql.ForeignKey[TT]]" id="84921">fks</a>: <span title="List[org.scalaquery.ql.ForeignKey[TT]]">List</span><span class="delimiter">[</span>ForeignKey<span class="delimiter">[</span>TT<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Query.scala.html#10200" title="org.scalaquery.ql.Query[TT]">Query</a><span class="delimiter">[</span>TT<span class="delimiter">]</span><span class="delimiter">(</span><a href="#84921" title="List[org.scalaquery.ql.ForeignKey[TT]]">fks</a>.<span title="=&gt; org.scalaquery.ql.ForeignKey[TT]">head</span>.<a href="#85496" title="=&gt; TT">targetTable</a>, <a href="#84921" title="List[org.scalaquery.ql.ForeignKey[TT]]">fks</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#9843" title="org.scalaquery.ql.Constraint">Constraint</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="84913">toString</a> = <span title="java.lang.String(&quot;ForeignKeyQuery&quot;)" class="string">&quot;ForeignKeyQuery&quot;</span>

  <span class="comment">/**
   * Combine the constraints of this ForeignKeyQuery with another one with the
   * same target table, leading to a single instance of the target table which
   * satisfies the constraints of both.
   */</span>
  <span class="keyword">def</span> <a title="(other: org.scalaquery.ql.ForeignKeyQuery[TT])org.scalaquery.ql.ForeignKeyQuery[TT]" id="84914">&amp;</a> <span class="delimiter">(</span><a title="org.scalaquery.ql.ForeignKeyQuery[TT]" id="84944">other</a>: <a href="#9851" title="org.scalaquery.ql.ForeignKeyQuery[TT]">ForeignKeyQuery</a><span class="delimiter">[</span>TT<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TT" id="84947">tt</a> = <a href="#84921" title="=&gt; List[org.scalaquery.ql.ForeignKey[TT]]">fks</a>.<span title="=&gt; org.scalaquery.ql.ForeignKey[TT]">head</span>.<a href="#85496" title="=&gt; TT">targetTable</a>
    <span title="org.scalaquery.ql.ForeignKeyQuery[TT]" class="keyword">new</span> <a href="#9851" title="org.scalaquery.ql.ForeignKeyQuery[TT]">ForeignKeyQuery</a><span class="delimiter">(</span><a href="#84921" title="=&gt; List[org.scalaquery.ql.ForeignKey[TT]]">fks</a> <span title="(that: scala.collection.GenTraversableOnce[org.scalaquery.ql.ForeignKey[TT]])(implicit bf: scala.collection.generic.CanBuildFrom[List[org.scalaquery.ql.ForeignKey[TT]],org.scalaquery.ql.ForeignKey[TT],List[org.scalaquery.ql.ForeignKey[TT]]])List[org.scalaquery.ql.ForeignKey[TT]]">++</span> <a href="#84944" title="org.scalaquery.ql.ForeignKeyQuery[TT]">other</a>.<a href="#84921" title="=&gt; List[org.scalaquery.ql.ForeignKey[TT]]">fks</a>.<span title="(f: org.scalaquery.ql.ForeignKey[TT] =&gt; org.scalaquery.ql.ForeignKey[TT])(implicit bf: scala.collection.generic.CanBuildFrom[List[org.scalaquery.ql.ForeignKey[TT]],org.scalaquery.ql.ForeignKey[TT],List[org.scalaquery.ql.ForeignKey[TT]]])List[org.scalaquery.ql.ForeignKey[TT]]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,org.scalaquery.ql.ForeignKey[TT],List[org.scalaquery.ql.ForeignKey[TT]]]" class="delimiter">{</span> <a title="org.scalaquery.ql.ForeignKey[TT]" id="85002">fk</a> =&gt; <a href="#85002" title="org.scalaquery.ql.ForeignKey[TT]">fk</a>.<a href="#85494" title="String" id="85337">copy</a><span class="delimiter">(</span>targetTable = <a href="#84947" title="TT" id="85330">tt</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class PrimaryKey extends java.lang.Object with org.scalaquery.ql.Constraint with ScalaObject with Product with Serializable" id="85489">PrimaryKey</a><a href="#85489" title="ScalaObject" class="delimiter">(</a><a title="String" id="85484">name</a>: <span title="String">String</span>, <a title="org.scalaquery.util.Node" id="85485">columns</a>: <a href="../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9843" title="org.scalaquery.ql.Constraint">Constraint</a>

        </pre>
    </body>
</html>