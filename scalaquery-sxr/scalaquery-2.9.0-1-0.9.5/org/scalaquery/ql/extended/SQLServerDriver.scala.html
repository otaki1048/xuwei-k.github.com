<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/scalaquery/ql/extended/SQLServerDriver.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.scalaquery.ql.extended

<span class="keyword">import</span> org.scalaquery.ql._
<span class="keyword">import</span> org.scalaquery.ql.basic._
<span class="keyword">import</span> org.scalaquery.util._
<span class="keyword">import</span> org.scalaquery.SQueryException
<span class="keyword">import</span> java.sql.<span class="delimiter">{</span>Timestamp, Time, Date<span class="delimiter">}</span>
<span class="keyword">import</span> org.scalaquery.session.<span class="delimiter">{</span>PositionedResult, ResultSetType<span class="delimiter">}</span>

<span class="comment">/**
 * ScalaQuery driver for Microsoft SQL Server.
 *
 * &lt;p&gt;This driver implements the ExtendedProfile with the following
 * limitations:&lt;/p&gt;
 *
 * &lt;ul&gt;
 *   &lt;li&gt;Sequences are not supported because SQLServer does not have this
 *     feature.&lt;/li&gt;
 *   &lt;li&gt;There is limited support for take() and drop() modifiers on
 *     subqueries. Due to the way these modifiers have to be encoded for SQL
 *     Server, they only work on top-level queries or sub-queries of simple
 *     COUNT(*) top-level queries.&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * @author szeiger
 */</span>
<span class="keyword">class</span> <a title="class SQLServerDriver extends java.lang.Object with org.scalaquery.ql.extended.ExtendedProfile with ScalaObject" id="10574">SQLServerDriver</a> <a href="#10574" title="ScalaObject" class="keyword">extends</a> <a href="ExtendedProfile.scala.html#10484" title="org.scalaquery.ql.extended.ExtendedProfile">ExtendedProfile</a> <span class="delimiter">{</span> self =&gt;

  <span class="keyword">type</span> <a title="org.scalaquery.ql.extended.ExtendedImplicitConversions[org.scalaquery.ql.extended.SQLServerDriver]" id="122351">ImplicitT</a> = <a href="ExtendedProfile.scala.html#10485" title="org.scalaquery.ql.extended.ExtendedImplicitConversions[org.scalaquery.ql.extended.SQLServerDriver]">ExtendedImplicitConversions</a><span class="delimiter">[</span>SQLServerDriver<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="org.scalaquery.ql.basic.BasicTypeMapperDelegates" id="122352">TypeMapperDelegatesT</a> = <a href="../basic/BasicTypeMapperDelegates.scala.html#10427" title="org.scalaquery.ql.basic.BasicTypeMapperDelegates">BasicTypeMapperDelegates</a>

  <span class="keyword">val</span> <a title="Implicit extends java.lang.Object with org.scalaquery.ql.extended.ExtendedImplicitConversions[org.scalaquery.ql.extended.SQLServerDriver]" id="122353">Implicit</a> = <a href="#122362" title="java.lang.Object with org.scalaquery.ql.extended.ExtendedImplicitConversions[org.scalaquery.ql.extended.SQLServerDriver]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with org.scalaquery.ql.extended.ExtendedImplicitConversions[org.scalaquery.ql.extended.SQLServerDriver]" id="122362">ExtendedImplicitConversions</a><span class="delimiter">[</span>SQLServerDriver<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="org.scalaquery.ql.extended.SQLServerDriver" id="122364">scalaQueryDriver</a> = <a href="#10574" title="org.scalaquery.ql.extended.SQLServerDriver">self</a>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates" id="122355">typeMapperDelegates</a> = <span title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates" class="keyword">new</span> <a href="#10577" title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates">SQLServerTypeMapperDelegates</a>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="org.scalaquery.ql.extended.SQLServerSQLUtils" id="122357">sqlUtils</a> = <span title="org.scalaquery.ql.extended.SQLServerSQLUtils" class="keyword">new</span> <a href="#10582" title="org.scalaquery.ql.extended.SQLServerSQLUtils">SQLServerSQLUtils</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(table: org.scalaquery.ql.basic.AbstractBasicTable[_])org.scalaquery.ql.DDL" id="122359">buildTableDDL</a><span class="delimiter">(</span><a title="org.scalaquery.ql.basic.AbstractBasicTable[_]" id="122384">table</a>: <a href="../basic/BasicTable.scala.html#10416" title="org.scalaquery.ql.basic.AbstractBasicTable[_]">AbstractBasicTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../DDL.scala.html#9860" title="org.scalaquery.ql.DDL">DDL</a> = <span title="org.scalaquery.ql.extended.SQLServerDDLBuilder" class="keyword">new</span> <a href="#10581" title="org.scalaquery.ql.extended.SQLServerDDLBuilder">SQLServerDDLBuilder</a><span class="delimiter">(</span><a href="#122384" title="org.scalaquery.ql.basic.AbstractBasicTable[_]">table</a>, <a href="#10574" title="org.scalaquery.ql.extended.SQLServerDriver" class="keyword">this</a><span class="delimiter">)</span>.<a href="../basic/BasicDDLBuilder.scala.html#107795" title="=&gt; org.scalaquery.ql.DDL">buildDDL</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(query: org.scalaquery.ql.Query[_], nc: org.scalaquery.util.NamingContext)org.scalaquery.ql.extended.SQLServerQueryBuilder" id="122360">createQueryBuilder</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="122403">query</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.util.NamingContext" id="122404">nc</a>: <a href="../../util/NamingContext.scala.html#10725" title="org.scalaquery.util.NamingContext">NamingContext</a><span class="delimiter">)</span> = <span title="org.scalaquery.ql.extended.SQLServerQueryBuilder" class="keyword">new</span> <a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder">SQLServerQueryBuilder</a><span class="delimiter">(</span><a href="#122403" title="org.scalaquery.ql.Query[_]">query</a>, <a href="#122404" title="org.scalaquery.util.NamingContext">nc</a>, <span title="object None">None</span>, <a href="#10574" title="org.scalaquery.ql.extended.SQLServerDriver" class="keyword">this</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object org.scalaquery.ql.extended.SQLServerDriver" id="10575">SQLServerDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10574" title="org.scalaquery.ql.extended.SQLServerDriver">SQLServerDriver</a>

<span class="keyword">class</span> <a title="class SQLServerTypeMapperDelegates extends java.lang.Object with org.scalaquery.ql.basic.BasicTypeMapperDelegates with ScalaObject" id="10577">SQLServerTypeMapperDelegates</a> <a href="#10577" title="ScalaObject" class="keyword">extends</a> <a href="../basic/BasicTypeMapperDelegates.scala.html#10427" title="org.scalaquery.ql.basic.BasicTypeMapperDelegates">BasicTypeMapperDelegates</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#10578" title="object org.scalaquery.ql.extended.SQLServerTypeMapperDelegates">SQLServerTypeMapperDelegates</a>._
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.BooleanTypeMapperDelegate" id="122376">booleanTypeMapperDelegate</a> = <span title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.BooleanTypeMapperDelegate" class="keyword">new</span> <a href="#122449" title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.BooleanTypeMapperDelegate">BooleanTypeMapperDelegate</a>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.DateTypeMapperDelegate" id="122378">dateTypeMapperDelegate</a> = <span title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.DateTypeMapperDelegate" class="keyword">new</span> <a href="#122450" title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.DateTypeMapperDelegate">DateTypeMapperDelegate</a>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.TimestampTypeMapperDelegate" id="122380">timestampTypeMapperDelegate</a> = <span title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.TimestampTypeMapperDelegate" class="keyword">new</span> <a href="#122451" title="org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.TimestampTypeMapperDelegate">TimestampTypeMapperDelegate</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object org.scalaquery.ql.extended.SQLServerTypeMapperDelegates" id="10578">SQLServerTypeMapperDelegates</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/* SQL Server does not have a proper BOOLEAN type. The suggested workaround is
   * BIT with constants 1 and 0 for TRUE and FALSE. */</span>
  <span class="keyword">class</span> <a title="class BooleanTypeMapperDelegate extends org.scalaquery.ql.basic.BasicTypeMapperDelegates.BooleanTypeMapperDelegate with ScalaObject" id="122449">BooleanTypeMapperDelegate</a> <a href="#122449" title="ScalaObject" class="keyword">extends</a> <a href="../basic/BasicTypeMapperDelegates.scala.html#10428" title="object org.scalaquery.ql.basic.BasicTypeMapperDelegates">BasicTypeMapperDelegates</a>.<a href="../basic/BasicTypeMapperDelegates.scala.html#107108" title="org.scalaquery.ql.basic.BasicTypeMapperDelegates.BooleanTypeMapperDelegate">BooleanTypeMapperDelegate</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(value: Boolean)String" id="122453">valueToSQLLiteral</a><span class="delimiter">(</span><a title="Boolean" id="122461">value</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#122461" title="Boolean">value</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;1&quot;)" class="string">&quot;1&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;0&quot;)" class="string">&quot;0&quot;</span>
  <span class="delimiter">}</span>
  <span class="comment">/* Selecting a straight Date or Timestamp literal fails with a NPE (probably
   * because the type information gets lost along the way), so we cast all Date
   * and Timestamp values to the proper type. This work-around does not seem to
   * be required for Time values. */</span>
  <span class="keyword">class</span> <a title="class DateTypeMapperDelegate extends org.scalaquery.ql.basic.BasicTypeMapperDelegates.DateTypeMapperDelegate with ScalaObject" id="122450">DateTypeMapperDelegate</a> <a href="#122450" title="ScalaObject" class="keyword">extends</a> <a href="../basic/BasicTypeMapperDelegates.scala.html#10428" title="object org.scalaquery.ql.basic.BasicTypeMapperDelegates">BasicTypeMapperDelegates</a>.<a href="../basic/BasicTypeMapperDelegates.scala.html#107113" title="org.scalaquery.ql.basic.BasicTypeMapperDelegates.DateTypeMapperDelegate">DateTypeMapperDelegate</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(value: java.sql.Date)java.lang.String" id="122455">valueToSQLLiteral</a><span class="delimiter">(</span><a title="java.sql.Date" id="122466">value</a>: <span title="java.sql.Date">Date</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;{fn convert({d \'&quot;)" class="string">&quot;{fn convert({d '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#122466" title="java.sql.Date">value</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'}, DATE)}&quot;)" class="string">&quot;'}, DATE)}&quot;</span>
  <span class="delimiter">}</span>
  <span class="keyword">class</span> <a title="class TimestampTypeMapperDelegate extends org.scalaquery.ql.basic.BasicTypeMapperDelegates.TimestampTypeMapperDelegate with ScalaObject" id="122451">TimestampTypeMapperDelegate</a> <a href="#122451" title="ScalaObject" class="keyword">extends</a> <a href="../basic/BasicTypeMapperDelegates.scala.html#10428" title="object org.scalaquery.ql.basic.BasicTypeMapperDelegates">BasicTypeMapperDelegates</a>.<a href="../basic/BasicTypeMapperDelegates.scala.html#107120" title="org.scalaquery.ql.basic.BasicTypeMapperDelegates.TimestampTypeMapperDelegate">TimestampTypeMapperDelegate</a> <span class="delimiter">{</span>
    <span class="comment">/* TIMESTAMP in SQL Server is a data type for sequence numbers. What we
     * want here is DATETIME. */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="122457">sqlTypeName</a> = <span title="java.lang.String(&quot;DATETIME&quot;)" class="string">&quot;DATETIME&quot;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(value: java.sql.Timestamp)java.lang.String" id="122458">valueToSQLLiteral</a><span class="delimiter">(</span><a title="java.sql.Timestamp" id="122475">value</a>: <span title="java.sql.Timestamp">Timestamp</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;{fn convert({ts \'&quot;)" class="string">&quot;{fn convert({ts '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#122475" title="java.sql.Timestamp">value</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'}, DATETIME)}&quot;)" class="string">&quot;'}, DATETIME)}&quot;</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class SQLServerQueryBuilder extends org.scalaquery.ql.basic.BasicQueryBuilder with ScalaObject" id="10580">SQLServerQueryBuilder</a><a href="#10580" title="ScalaObject" class="delimiter">(</a><a title="org.scalaquery.ql.Query[_]" id="122436">_query</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.util.NamingContext" id="122437">_nc</a>: <a href="../../util/NamingContext.scala.html#10725" title="org.scalaquery.util.NamingContext">NamingContext</a>, <a title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]" id="122438">parent</a>: <span title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]">Option</span><span class="delimiter">[</span>BasicQueryBuilder<span class="delimiter">]</span>, <a title="org.scalaquery.ql.extended.SQLServerDriver" id="122439">profile</a>: <a href="#10574" title="org.scalaquery.ql.extended.SQLServerDriver">SQLServerDriver</a><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="../basic/BasicQueryBuilder.scala.html#10376" title="org.scalaquery.ql.basic.BasicQueryBuilder">BasicQueryBuilder</a><span class="delimiter">(</span><a href="#122436" title="org.scalaquery.ql.Query[_]">_query</a>, <a href="#122437" title="org.scalaquery.util.NamingContext">_nc</a>, <a href="#122438" title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]">parent</a>, <a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a>.<a href="#122357" title="=&gt; org.scalaquery.ql.extended.SQLServerSQLUtils">sqlUtils</a>._
  <span class="keyword">import</span> <a href="ExtendedProfile.scala.html#10489" title="object org.scalaquery.ql.extended.ExtendedQueryOps">ExtendedQueryOps</a>._

  <span class="keyword">override</span> <span class="keyword">type</span> <a title="org.scalaquery.ql.extended.SQLServerQueryBuilder" id="122420">Self</a> = <a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder">SQLServerQueryBuilder</a>

  <span class="keyword">val</span> <a title="Boolean" id="122421">hasTakeDrop</a> = <span title="=&gt; Boolean">!</span><a href="../basic/BasicQueryBuilder.scala.html#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79962" title="[T &lt;: org.scalaquery.ql.QueryModifier](implicit m: ClassManifest[T])List[T]">typedModifiers</a><span title="(implicit m: ClassManifest[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop])List[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop]" class="delimiter">[</span><a href="ExtendedProfile.scala.html#112730" title="org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop">TakeDrop</a><span class="delimiter">]</span>.<span title="=&gt; Boolean">isEmpty</span>
  <span class="keyword">val</span> <a title="Boolean" id="122423">hasDropOnly</a> = <a href="../basic/BasicQueryBuilder.scala.html#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79962" title="[T &lt;: org.scalaquery.ql.QueryModifier](implicit m: ClassManifest[T])List[T]">typedModifiers</a><span title="(implicit m: ClassManifest[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop])List[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop]" class="delimiter">[</span><a href="ExtendedProfile.scala.html#112730" title="org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop">TakeDrop</a><span class="delimiter">]</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(true)">TakeDrop</span><span class="delimiter">(</span><span title="object None">None</span>, Some<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> :: _ =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  <span class="keyword">val</span> <a title="Boolean" id="122425">isCountAll</a> = <a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="../basic/BasicQueryBuilder.scala.html#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(true)">ColumnOps</span>.CountAll<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(query: org.scalaquery.ql.Query[_], nc: org.scalaquery.util.NamingContext)org.scalaquery.ql.extended.SQLServerQueryBuilder" id="122427">createSubQueryBuilder</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="122517">query</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.util.NamingContext" id="122518">nc</a>: <a href="../../util/NamingContext.scala.html#10725" title="org.scalaquery.util.NamingContext">NamingContext</a><span class="delimiter">)</span> =
    <span title="org.scalaquery.ql.extended.SQLServerQueryBuilder" class="keyword">new</span> <a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder">SQLServerQueryBuilder</a><span class="delimiter">(</span><a href="#122517" title="org.scalaquery.ql.Query[_]">query</a>, <a href="#122518" title="org.scalaquery.util.NamingContext">nc</a>, <span title="(x: org.scalaquery.ql.extended.SQLServerQueryBuilder)Some[org.scalaquery.ql.extended.SQLServerQueryBuilder]">Some</span><span class="delimiter">(</span><a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder" class="keyword">this</a><span class="delimiter">)</span>, <a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="122428">buildSelect</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="122529">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="comment">/* Rename at top level if we need to wrap with TakeDrop code */</span>
    <a href="../basic/BasicQueryBuilder.scala.html#103897" title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit">innerBuildSelect</a><span class="delimiter">(</span><a href="#122529" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#122421" title="=&gt; Boolean">hasTakeDrop</a><span class="delimiter">)</span>
    <a href="../basic/BasicQueryBuilder.scala.html#103911" title="()Unit">insertAllFromClauses</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit" id="122429">innerBuildSelectNoRewrite</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="122532">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a>, <a title="Boolean" id="122533">rename</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../basic/BasicQueryBuilder.scala.html#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79962" title="[T &lt;: org.scalaquery.ql.QueryModifier](implicit m: ClassManifest[T])List[T]">typedModifiers</a><span title="(implicit m: ClassManifest[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop])List[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop]" class="delimiter">[</span><a href="ExtendedProfile.scala.html#112730" title="org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop">TakeDrop</a><span class="delimiter">]</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">TakeDrop</span><span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="Int" id="122548">t</a><span class="delimiter">)</span>, Some<span class="delimiter">(</span><a title="Int" id="122550">d</a><span class="delimiter">)</span><span class="delimiter">)</span> :: _ =&gt;
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;WITH T AS (SELECT TOP &quot;)" class="string">&quot;WITH T AS (SELECT TOP &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <span class="delimiter">(</span><a href="#122548" title="Int">t</a><span title="(x: Int)Int">+</span><a href="#122550" title="Int">d</a><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\' \')" class="char">' '</span>
        <a href="#122431" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="../basic/BasicQueryBuilder.scala.html#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span>, <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#122533" title="Boolean">rename</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <a href="../basic/BasicQueryBuilder.scala.html#103879" title="(x$1: org.scalaquery.util.SQLBuilder)Unit">fromSlot</a> = <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103850" title="=&gt; org.scalaquery.util.SQLBuilder">createSlot</a>
        <a href="#122433" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendClauses</a><span class="delimiter">(</span><a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) SELECT &quot;)" class="string">&quot;) SELECT &quot;</span>
        <a href="#122430" title="(b: org.scalaquery.util.SQLBuilder)Unit">addCopyColumns</a><span class="delimiter">(</span><a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; FROM T WHERE \&quot;c0r\&quot; BETWEEN &quot;)" class="string">&quot; FROM T WHERE \&quot;c0r\&quot; BETWEEN &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <span class="delimiter">(</span><a href="#122550" title="Int">d</a><span title="(x: Int)Int">+</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; AND &quot;)" class="string">&quot; AND &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <span class="delimiter">(</span><a href="#122548" title="Int">t</a><span title="(x: Int)Int">+</span><a href="#122550" title="Int">d</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#122425" title="=&gt; Boolean">isCountAll</a><span class="delimiter">)</span> <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; ORDER BY \&quot;c0r\&quot; ASC&quot;)" class="string">&quot; ORDER BY \&quot;c0r\&quot; ASC&quot;</span>
      <span class="keyword">case</span> <span title="Unit">TakeDrop</span><span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="Int" id="122618">t</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span> :: _ =&gt;
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;WITH T AS (SELECT TOP &quot;)" class="string">&quot;WITH T AS (SELECT TOP &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <a href="#122618" title="Int">t</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\' \')" class="char">' '</span>
        <a href="#122431" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="../basic/BasicQueryBuilder.scala.html#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span>, <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#122533" title="Boolean">rename</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <a href="../basic/BasicQueryBuilder.scala.html#103879" title="(x$1: org.scalaquery.util.SQLBuilder)Unit">fromSlot</a> = <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103850" title="=&gt; org.scalaquery.util.SQLBuilder">createSlot</a>
        <a href="#122433" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendClauses</a><span class="delimiter">(</span><a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) SELECT &quot;)" class="string">&quot;) SELECT &quot;</span>
        <a href="#122430" title="(b: org.scalaquery.util.SQLBuilder)Unit">addCopyColumns</a><span class="delimiter">(</span><a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; FROM T WHERE \&quot;c0r\&quot; BETWEEN 1 AND &quot;)" class="string">&quot; FROM T WHERE \&quot;c0r\&quot; BETWEEN 1 AND &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <a href="#122618" title="Int">t</a>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#122425" title="=&gt; Boolean">isCountAll</a><span class="delimiter">)</span> <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; ORDER BY \&quot;c0r\&quot; ASC&quot;)" class="string">&quot; ORDER BY \&quot;c0r\&quot; ASC&quot;</span>
      <span class="keyword">case</span> <span title="Unit">TakeDrop</span><span class="delimiter">(</span><span title="object None">None</span>, Some<span class="delimiter">(</span><a title="Int" id="122656">d</a><span class="delimiter">)</span><span class="delimiter">)</span> :: _ =&gt;
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;WITH T AS (SELECT &quot;)" class="string">&quot;WITH T AS (SELECT &quot;</span>
        <a href="#122431" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="../basic/BasicQueryBuilder.scala.html#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span>, <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#122533" title="Boolean">rename</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <a href="../basic/BasicQueryBuilder.scala.html#103879" title="(x$1: org.scalaquery.util.SQLBuilder)Unit">fromSlot</a> = <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103850" title="=&gt; org.scalaquery.util.SQLBuilder">createSlot</a>
        <a href="#122433" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendClauses</a><span class="delimiter">(</span><a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) SELECT &quot;)" class="string">&quot;) SELECT &quot;</span>
        <a href="#122430" title="(b: org.scalaquery.util.SQLBuilder)Unit">addCopyColumns</a><span class="delimiter">(</span><a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
        <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; FROM T WHERE \&quot;c0r\&quot; &gt; &quot;)" class="string">&quot; FROM T WHERE \&quot;c0r\&quot; &gt; &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <a href="#122656" title="Int">d</a>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#122425" title="=&gt; Boolean">isCountAll</a><span class="delimiter">)</span> <a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; ORDER BY \&quot;c0r\&quot; ASC&quot;)" class="string">&quot; ORDER BY \&quot;c0r\&quot; ASC&quot;</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder" class="keyword">super</a>.<a href="../basic/BasicQueryBuilder.scala.html#103898" title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit">innerBuildSelectNoRewrite</a><span class="delimiter">(</span><a href="#122532" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#122533" title="Boolean">rename</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="122430">addCopyColumns</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="122583">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#122425" title="=&gt; Boolean">isCountAll</a><span class="delimiter">)</span> <a href="#122583" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;count(*)&quot;)" class="string">&quot;count(*)&quot;</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../basic/BasicQueryBuilder.scala.html#103884" title="=&gt; Int">maxColumnPos</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#122583" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>
    <span class="keyword">else</span> <a href="#122583" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103846" title="(sequence: Traversable[Int], separator: String)(f: Int =&gt; Unit)Unit">sep</a><span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <a href="../basic/BasicQueryBuilder.scala.html#103884" title="=&gt; Int">maxColumnPos</a>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Int" id="122834">i</a> =&gt; <a href="#122583" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;\&quot;c&quot;)" class="string">&quot;\&quot;c&quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <a href="#122834" title="Int">i</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit" id="122431">expr</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="122567">c</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a>, <a title="org.scalaquery.util.SQLBuilder" id="122568">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a>, <a title="Boolean" id="122569">rename</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="122570">topLevel</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#122567" title="org.scalaquery.util.Node">c</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="comment">/* Convert proper BOOLEANs which should be returned from a SELECT
       * statement into pseudo-boolean BIT values 1 and 0 */</span>
      <span class="keyword">case</span> <a title="org.scalaquery.util.SQLBuilder" id="122847">c</a>: <a href="../ColumnBase.scala.html#9801" title="org.scalaquery.ql.Column[_]">Column</a><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="keyword">if</span> <a href="#122570" title="Boolean">topLevel</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#122569" title="Boolean">rename</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../basic/BasicQueryBuilder.scala.html#103881" title="=&gt; org.scalaquery.util.SQLBuilder">selectSlot</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#122847" title="org.scalaquery.ql.Column[_]">c</a>.<a href="../ColumnBase.scala.html#78936" title="(v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[_]">typeMapper</a><span class="delimiter">(</span><a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a>.<a href="#122355" title="=&gt; org.scalaquery.ql.extended.SQLServerTypeMapperDelegates">typeMapperDelegates</a>.<a href="#122376" title="=&gt; org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.BooleanTypeMapperDelegate">booleanTypeMapperDelegate</a> =&gt;
        <a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;case when &quot;)" class="string">&quot;case when &quot;</span>
        <a href="#122432" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">innerExpr</a><span class="delimiter">(</span><a href="#122847" title="org.scalaquery.ql.Column[_]">c</a>, <a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
        <a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; then 1 else 0 end&quot;)" class="string">&quot; then 1 else 0 end&quot;</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder" class="keyword">super</a>.<a href="../basic/BasicQueryBuilder.scala.html#103907" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="#122567" title="org.scalaquery.util.Node">c</a>, <a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#122569" title="Boolean">rename</a>, <a href="#122570" title="Boolean">topLevel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#122570" title="Boolean">topLevel</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#122421" title="=&gt; Boolean">hasTakeDrop</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;,ROW_NUMBER() OVER (&quot;)" class="string">&quot;,ROW_NUMBER() OVER (&quot;</span>
      <a href="../basic/BasicQueryBuilder.scala.html#103901" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendOrderClause</a><span class="delimiter">(</span><a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="../basic/BasicQueryBuilder.scala.html#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79962" title="[T &lt;: org.scalaquery.ql.QueryModifier](implicit m: ClassManifest[T])List[T]">typedModifiers</a><span title="(implicit m: ClassManifest[org.scalaquery.ql.Ordering])List[org.scalaquery.ql.Ordering]" class="delimiter">[</span><a href="../QueryModifier.scala.html#10222" title="org.scalaquery.ql.Ordering">Ordering</a><span class="delimiter">]</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;ORDER BY (SELECT NULL)&quot;)" class="string">&quot;ORDER BY (SELECT NULL)&quot;</span>
      <a href="#122568" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) AS \&quot;c0r\&quot;&quot;)" class="string">&quot;) AS \&quot;c0r\&quot;&quot;</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit" id="122432">innerExpr</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="122863">c</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a>, <a title="org.scalaquery.util.SQLBuilder" id="122864">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#122863" title="org.scalaquery.util.Node">c</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="comment">/* Create TRUE and FALSE values because SQL Server lacks boolean literals */</span>
    <span class="keyword">case</span> <a title="Unit" id="122919">c</a> @ ConstColumn<span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =&gt; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(1=1)&quot;)" class="string">&quot;(1=1)&quot;</span>
    <span class="keyword">case</span> <a title="Unit" id="122926">c</a> @ ConstColumn<span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =&gt; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(1=0)&quot;)" class="string">&quot;(1=0)&quot;</span>

    <span class="comment">/* Convert pseudo-booleans from tables and subqueries to real booleans */</span>
    <span class="keyword">case</span> <a title="Unit" id="122933">n</a>: <a href="../ColumnBase.scala.html#9819" title="org.scalaquery.ql.NamedColumn[_]">NamedColumn</a><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="keyword">if</span> <a href="#122933" title="org.scalaquery.ql.NamedColumn[_]">n</a>.<a href="../ColumnBase.scala.html#78936" title="(v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[_]">typeMapper</a><span class="delimiter">(</span><a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a>.<a href="#122355" title="=&gt; org.scalaquery.ql.extended.SQLServerTypeMapperDelegates">typeMapperDelegates</a>.<a href="#122376" title="=&gt; org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.BooleanTypeMapperDelegate">booleanTypeMapperDelegate</a> =&gt;
      <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>; <a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder" class="keyword">super</a>.<a href="../basic/BasicQueryBuilder.scala.html#103908" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">innerExpr</a><span class="delimiter">(</span><a href="#122863" title="org.scalaquery.util.Node">c</a>, <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; != 0)&quot;)" class="string">&quot; != 0)&quot;</span>
    <span class="keyword">case</span> <a title="Unit" id="122950">c</a> @ SubqueryColumn<span class="delimiter">(</span><a title="Int" id="122951">pos</a>, <a title="org.scalaquery.ql.Subquery" id="122952">sq</a>, <a title="org.scalaquery.ql.TypeMapper[_]" id="122953">tm</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#122953" title="((v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[_0]) forSome { type _0; type _0; type _0 }">tm</a><span class="delimiter">(</span><a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#122439" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a>.<a href="#122355" title="=&gt; org.scalaquery.ql.extended.SQLServerTypeMapperDelegates">typeMapperDelegates</a>.<a href="#122376" title="=&gt; org.scalaquery.ql.extended.SQLServerTypeMapperDelegates.BooleanTypeMapperDelegate">booleanTypeMapperDelegate</a> =&gt;
      <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>; <a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder" class="keyword">super</a>.<a href="../basic/BasicQueryBuilder.scala.html#103908" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">innerExpr</a><span class="delimiter">(</span><a href="#122950" title="org.scalaquery.ql.SubqueryColumn">c</a>, <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; != 0)&quot;)" class="string">&quot; != 0)&quot;</span>

    <span class="keyword">case</span> <a title="Unit" id="122981">fk</a>: <a href="../Constraint.scala.html#9844" title="org.scalaquery.ql.ForeignKey[_]">ForeignKey</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
      <span class="comment">/* SQL Server does not support row value constructor syntax (tuple
       * syntax) with '=' operators, so we need to untuple and compare the
       * individual columns. */</span>
      <span class="keyword">val</span> <a title="List[(org.scalaquery.util.Node, org.scalaquery.util.Node)]" id="122985">cols</a> = <a href="../basic/BasicQueryBuilder.scala.html#103915" title="(columns: org.scalaquery.util.Node)List[org.scalaquery.util.Node]">untupleColumn</a><span class="delimiter">(</span><a href="#122981" title="org.scalaquery.ql.ForeignKey[_]">fk</a>.<a href="../Constraint.scala.html#84543" title="=&gt; org.scalaquery.util.Node">left</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenIterable[org.scalaquery.util.Node])(implicit bf: scala.collection.generic.CanBuildFrom[List[org.scalaquery.util.Node],(org.scalaquery.util.Node, org.scalaquery.util.Node),List[(org.scalaquery.util.Node, org.scalaquery.util.Node)]])List[(org.scalaquery.util.Node, org.scalaquery.util.Node)]">zip</span> <a href="../basic/BasicQueryBuilder.scala.html#103915" title="(columns: org.scalaquery.util.Node)List[org.scalaquery.util.Node]">untupleColumn</a><span class="delimiter">(</span><a href="#122981" title="org.scalaquery.ql.ForeignKey[_]">fk</a>.<a href="../Constraint.scala.html#84545" title="=&gt; org.scalaquery.util.Node">right</a><span class="delimiter">)</span>
      <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>
      <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103846" title="(sequence: Traversable[(org.scalaquery.util.Node, org.scalaquery.util.Node)], separator: String)(f: (org.scalaquery.util.Node, org.scalaquery.util.Node) =&gt; Unit)Unit">sep</a><span class="delimiter">(</span><a href="#122985" title="List[(org.scalaquery.util.Node, org.scalaquery.util.Node)]">cols</a>, <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span class="delimiter">)</span><a href="#123064" title="Unit" class="delimiter">{</a> <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="org.scalaquery.util.Node" id="123067">l</a>,<a title="org.scalaquery.util.Node" id="123068">r</a><span class="delimiter">)</span> =&gt; <a href="../basic/BasicQueryBuilder.scala.html#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#123067" title="org.scalaquery.util.Node">l</a>, <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;=&quot;)" class="string">&quot;=&quot;</span>; <a href="../basic/BasicQueryBuilder.scala.html#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#123068" title="org.scalaquery.util.Node">r</a>, <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.Concat<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="123085">l</a>, <a title="org.scalaquery.util.Node" id="123086">r</a><span class="delimiter">)</span> =&gt; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'(\')" class="char">'('</span>; <a href="../basic/BasicQueryBuilder.scala.html#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#123085" title="org.scalaquery.util.Node">l</a>, <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;+&quot;)" class="string">&quot;+&quot;</span>; <a href="../basic/BasicQueryBuilder.scala.html#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#123086" title="org.scalaquery.util.Node">r</a>, <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\')\')" class="char">')'</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.CountAll<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="123107">q</a><span class="delimiter">)</span> <span class="keyword">if</span><span class="delimiter">(</span><a href="#122421" title="=&gt; Boolean">hasTakeDrop</a><span class="delimiter">)</span> =&gt; <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>; <a href="../basic/BasicQueryBuilder.scala.html#103891" title="(n: org.scalaquery.util.Node)String">localTableName</a><span title="Unit" class="delimiter">(</span><a href="#123107" title="org.scalaquery.util.Node">q</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#10580" title="org.scalaquery.ql.extended.SQLServerQueryBuilder" class="keyword">super</a>.<a href="../basic/BasicQueryBuilder.scala.html#103908" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">innerExpr</a><span class="delimiter">(</span><a href="#122863" title="org.scalaquery.util.Node">c</a>, <a href="#122864" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="122433">appendClauses</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="122577">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="../basic/BasicQueryBuilder.scala.html#103909" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendConditions</a><span class="delimiter">(</span><a href="#122577" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <a href="../basic/BasicQueryBuilder.scala.html#103900" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendGroupClause</a><span class="delimiter">(</span><a href="#122577" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <a href="../basic/BasicQueryBuilder.scala.html#103910" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendHavingConditions</a><span class="delimiter">(</span><a href="#122577" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#122423" title="=&gt; Boolean">hasDropOnly</a><span class="delimiter">)</span> <a href="../basic/BasicQueryBuilder.scala.html#103901" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendOrderClause</a><span class="delimiter">(</span><a href="#122577" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(o: org.scalaquery.ql.Ordering, b: org.scalaquery.util.SQLBuilder)Unit" id="122434">appendOrdering</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Ordering" id="123113">o</a>: <a href="../QueryModifier.scala.html#10222" title="org.scalaquery.ql.Ordering">Ordering</a>, <a title="org.scalaquery.util.SQLBuilder" id="123114">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="123116">desc</a> = <a href="#123113" title="org.scalaquery.ql.Ordering">o</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>Ordering.<a href="../QueryModifier.scala.html#80112" title="org.scalaquery.ql.Ordering.Desc">Desc</a><span class="delimiter">]</span>
    <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#123113" title="org.scalaquery.ql.Ordering">o</a>.<a href="../QueryModifier.scala.html#80124" title="=&gt; org.scalaquery.ql.Ordering.NullOrdering">nullOrdering</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../QueryModifier.scala.html#10223" title="object org.scalaquery.ql.Ordering">Ordering</a>.<a href="../QueryModifier.scala.html#80120" title="object org.scalaquery.ql.Ordering.NullsLast">NullsLast</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#123116" title="Boolean">desc</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#123114" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;case when (&quot;)" class="string">&quot;case when (&quot;</span>
      <a href="../basic/BasicQueryBuilder.scala.html#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#123113" title="org.scalaquery.ql.Ordering">o</a>.<a href="../QueryModifier.scala.html#80123" title="=&gt; org.scalaquery.util.Node">by</a>, <a href="#123114" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
      <a href="#123114" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) is null then 1 else 0 end,&quot;)" class="string">&quot;) is null then 1 else 0 end,&quot;</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#123113" title="org.scalaquery.ql.Ordering">o</a>.<a href="../QueryModifier.scala.html#80124" title="=&gt; org.scalaquery.ql.Ordering.NullOrdering">nullOrdering</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../QueryModifier.scala.html#10223" title="object org.scalaquery.ql.Ordering">Ordering</a>.<a href="../QueryModifier.scala.html#80118" title="object org.scalaquery.ql.Ordering.NullsFirst">NullsFirst</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#123116" title="Boolean">desc</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#123114" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;case when (&quot;)" class="string">&quot;case when (&quot;</span>
      <a href="../basic/BasicQueryBuilder.scala.html#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#123113" title="org.scalaquery.ql.Ordering">o</a>.<a href="../QueryModifier.scala.html#80123" title="=&gt; org.scalaquery.util.Node">by</a>, <a href="#123114" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
      <a href="#123114" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) is null then 0 else 1 end,&quot;)" class="string">&quot;) is null then 0 else 1 end,&quot;</span>
    <span class="delimiter">}</span>
    <a href="../basic/BasicQueryBuilder.scala.html#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#123113" title="org.scalaquery.ql.Ordering">o</a>.<a href="../QueryModifier.scala.html#80123" title="=&gt; org.scalaquery.util.Node">by</a>, <a href="#123114" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#123116" title="Boolean">desc</a><span class="delimiter">)</span> <a href="#123114" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; desc&quot;)" class="string">&quot; desc&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/* Move COUNT(*) into subqueries even if they have TakeDrop modifiers.
   * It will be treated specially there to make it work. */</span>
  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(q: org.scalaquery.ql.Query[_])Boolean" id="122435">rewriteCountStarQuery</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="123165">q</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class SQLServerDDLBuilder extends org.scalaquery.ql.basic.BasicDDLBuilder with ScalaObject" id="10581">SQLServerDDLBuilder</a><a href="#10581" title="ScalaObject" class="delimiter">(</a><a title="org.scalaquery.ql.basic.AbstractBasicTable[_]" id="122397">table</a>: <a href="../basic/BasicTable.scala.html#10416" title="org.scalaquery.ql.basic.AbstractBasicTable[_]">AbstractBasicTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.ql.extended.SQLServerDriver" id="122398">profile</a>: <a href="#10574" title="org.scalaquery.ql.extended.SQLServerDriver">SQLServerDriver</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../basic/BasicDDLBuilder.scala.html#10320" title="org.scalaquery.ql.basic.BasicDDLBuilder">BasicDDLBuilder</a><span class="delimiter">(</span><a href="#122397" title="org.scalaquery.ql.basic.AbstractBasicTable[_]">table</a>, <a href="#122398" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#122398" title="org.scalaquery.ql.extended.SQLServerDriver">profile</a>.<a href="#122357" title="=&gt; org.scalaquery.ql.extended.SQLServerSQLUtils">sqlUtils</a>._

  <span class="keyword">protected</span> <span class="keyword">class</span> <a title="class SQLServerColumnDDLBuilder extends SQLServerDDLBuilder.this.BasicColumnDDLBuilder with ScalaObject" id="122395">SQLServerColumnDDLBuilder</a><a href="#122395" title="ScalaObject" class="delimiter">(</a><a title="org.scalaquery.ql.NamedColumn[_]" id="123189">column</a>: <a href="../ColumnBase.scala.html#9819" title="org.scalaquery.ql.NamedColumn[_]">NamedColumn</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../basic/BasicDDLBuilder.scala.html#107793" title="SQLServerDDLBuilder.this.BasicColumnDDLBuilder">BasicColumnDDLBuilder</a><span class="delimiter">(</span><a href="#123189" title="org.scalaquery.ql.NamedColumn[_]">column</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sb: StringBuilder)Unit" id="123183">appendOptions</a><span class="delimiter">(</span><a title="StringBuilder" id="123195">sb</a>: <span title="StringBuilder">StringBuilder</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="../basic/BasicDDLBuilder.scala.html#107867" title="=&gt; String">defaultLiteral</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#123195" title="StringBuilder">sb</a> <span title="(s: String)StringBuilder">append</span> <span title="java.lang.String(&quot; DEFAULT &quot;)" class="string">&quot; DEFAULT &quot;</span> <span title="(s: String)StringBuilder">append</span> <a href="../basic/BasicDDLBuilder.scala.html#107867" title="=&gt; String">defaultLiteral</a>
      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="../basic/BasicDDLBuilder.scala.html#107858" title="=&gt; Boolean">notNull</a><span class="delimiter">)</span> <a href="#123195" title="StringBuilder">sb</a> <span title="(s: String)StringBuilder">append</span> <span title="java.lang.String(&quot; NOT NULL&quot;)" class="string">&quot; NOT NULL&quot;</span>
      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="../basic/BasicDDLBuilder.scala.html#107864" title="=&gt; Boolean">primaryKey</a><span class="delimiter">)</span> <a href="#123195" title="StringBuilder">sb</a> <span title="(s: String)StringBuilder">append</span> <span title="java.lang.String(&quot; PRIMARY KEY&quot;)" class="string">&quot; PRIMARY KEY&quot;</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../basic/BasicDDLBuilder.scala.html#107861" title="=&gt; Boolean">autoIncrement</a><span class="delimiter">)</span> <a href="#123195" title="StringBuilder">sb</a> <span title="(s: String)StringBuilder">append</span> <span title="java.lang.String(&quot; IDENTITY&quot;)" class="string">&quot; IDENTITY&quot;</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(c: org.scalaquery.ql.NamedColumn[_])SQLServerDDLBuilder.this.SQLServerColumnDDLBuilder" id="122396">createColumnDDLBuilder</a><span class="delimiter">(</span><a title="org.scalaquery.ql.NamedColumn[_]" id="123241">c</a>: <a href="../ColumnBase.scala.html#9819" title="org.scalaquery.ql.NamedColumn[_]">NamedColumn</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="SQLServerDDLBuilder.this.SQLServerColumnDDLBuilder" class="keyword">new</span> <a href="#122395" title="SQLServerDDLBuilder.this.SQLServerColumnDDLBuilder">SQLServerColumnDDLBuilder</a><span class="delimiter">(</span><a href="#123241" title="org.scalaquery.ql.NamedColumn[_]">c</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class SQLServerSQLUtils extends org.scalaquery.ql.basic.BasicSQLUtils with ScalaObject" id="10582">SQLServerSQLUtils</a> <a href="#10582" title="ScalaObject" class="keyword">extends</a> <a href="../basic/BasicSQLUtils.scala.html#10403" title="org.scalaquery.ql.basic.BasicSQLUtils">BasicSQLUtils</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tmd: org.scalaquery.ql.TypeMapperDelegate[_])String" id="122383">mapTypeName</a><span class="delimiter">(</span><a title="org.scalaquery.ql.TypeMapperDelegate[_]" id="123250">tmd</a>: <a href="../TypeMapper.scala.html#10291" title="org.scalaquery.ql.TypeMapperDelegate[_]">TypeMapperDelegate</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#123250" title="org.scalaquery.ql.TypeMapperDelegate[_]">tmd</a>.<a href="../TypeMapper.scala.html#79205" title="=&gt; Int">sqlType</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;BIT&quot;)">java</span>.sql.Types.<span title="Int(16)">BOOLEAN</span> =&gt; <span title="java.lang.String(&quot;BIT&quot;)" class="string">&quot;BIT&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;IMAGE&quot;)">java</span>.sql.Types.<span title="Int(2004)">BLOB</span> =&gt; <span title="java.lang.String(&quot;IMAGE&quot;)" class="string">&quot;IMAGE&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;TEXT&quot;)">java</span>.sql.Types.<span title="Int(2005)">CLOB</span> =&gt; <span title="java.lang.String(&quot;TEXT&quot;)" class="string">&quot;TEXT&quot;</span>
    <span class="keyword">case</span> <span title="String">_</span> =&gt; <a href="#10582" title="org.scalaquery.ql.extended.SQLServerSQLUtils" class="keyword">super</a>.<a href="../basic/BasicSQLUtils.scala.html#107848" title="(tmd: org.scalaquery.ql.TypeMapperDelegate[_])String">mapTypeName</a><span class="delimiter">(</span><a href="#123250" title="org.scalaquery.ql.TypeMapperDelegate[_]">tmd</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>