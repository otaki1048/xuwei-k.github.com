<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/scalaquery/ql/basic/BasicQueryBuilder.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.scalaquery.ql.basic

<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span>HashMap, HashSet<span class="delimiter">}</span>
<span class="keyword">import</span> org.scalaquery.SQueryException
<span class="keyword">import</span> org.scalaquery.ql._
<span class="keyword">import</span> extended.<a href="../extended/ExtendedProfile.scala.html#10489" title="object org.scalaquery.ql.extended.ExtendedQueryOps">ExtendedQueryOps</a>.TakeDrop
<span class="keyword">import</span> org.scalaquery.util._

<span class="keyword">class</span> <a title="class ConcreteBasicQueryBuilder extends org.scalaquery.ql.basic.BasicQueryBuilder with ScalaObject" id="10375">ConcreteBasicQueryBuilder</a><a href="#10375" title="ScalaObject" class="delimiter">(</a><a title="org.scalaquery.ql.Query[_]" id="112393">_query</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.util.NamingContext" id="112394">_nc</a>: <a href="../../util/NamingContext.scala.html#10725" title="org.scalaquery.util.NamingContext">NamingContext</a>, <a title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]" id="112395">parent</a>: <span title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]">Option</span><span class="delimiter">[</span>BasicQueryBuilder<span class="delimiter">]</span>, <a title="org.scalaquery.ql.basic.BasicProfile" id="112396">_profile</a>: <a href="BasicProfile.scala.html#10366" title="org.scalaquery.ql.basic.BasicProfile">BasicProfile</a><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="#10376" title="org.scalaquery.ql.basic.BasicQueryBuilder">BasicQueryBuilder</a><span class="delimiter">(</span><a href="#112393" title="org.scalaquery.ql.Query[_]">_query</a>, <a href="#112394" title="org.scalaquery.util.NamingContext">_nc</a>, <a href="#112395" title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]">parent</a>, <a href="#112396" title="org.scalaquery.ql.basic.BasicProfile">_profile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="org.scalaquery.ql.basic.BasicQueryBuilder" id="112391">Self</a> = <a href="#10376" title="org.scalaquery.ql.basic.BasicQueryBuilder">BasicQueryBuilder</a>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(query: org.scalaquery.ql.Query[_], nc: org.scalaquery.util.NamingContext)org.scalaquery.ql.basic.ConcreteBasicQueryBuilder" id="112392">createSubQueryBuilder</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="112936">query</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.util.NamingContext" id="112937">nc</a>: <a href="../../util/NamingContext.scala.html#10725" title="org.scalaquery.util.NamingContext">NamingContext</a><span class="delimiter">)</span> =
    <span title="org.scalaquery.ql.basic.ConcreteBasicQueryBuilder" class="keyword">new</span> <a href="#10375" title="org.scalaquery.ql.basic.ConcreteBasicQueryBuilder">ConcreteBasicQueryBuilder</a><span class="delimiter">(</span><a href="#112936" title="org.scalaquery.ql.Query[_]">query</a>, <a href="#112937" title="org.scalaquery.util.NamingContext">nc</a>, <span title="(x: org.scalaquery.ql.basic.ConcreteBasicQueryBuilder)Some[org.scalaquery.ql.basic.ConcreteBasicQueryBuilder]">Some</span><span class="delimiter">(</span><a href="#10375" title="org.scalaquery.ql.basic.ConcreteBasicQueryBuilder" class="keyword">this</a><span class="delimiter">)</span>, <a href="#103865" title="=&gt; org.scalaquery.ql.basic.BasicProfile">profile</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BasicQueryBuilder extends java.lang.Object with ScalaObject" id="10376">BasicQueryBuilder</a><a href="#10376" title="ScalaObject" class="delimiter">(</a><a title="org.scalaquery.ql.Query[_]" id="112926">_query</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.util.NamingContext" id="112927">_nc</a>: <a href="../../util/NamingContext.scala.html#10725" title="org.scalaquery.util.NamingContext">NamingContext</a>, <a title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]" id="112928">parent</a>: <span title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]">Option</span><span class="delimiter">[</span>BasicQueryBuilder<span class="delimiter">]</span>, <a title="org.scalaquery.ql.basic.BasicProfile" id="112929">_profile</a>: <a href="BasicProfile.scala.html#10366" title="org.scalaquery.ql.basic.BasicProfile">BasicProfile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#112929" title="org.scalaquery.ql.basic.BasicProfile">_profile</a>.<a href="BasicProfile.scala.html#79191" title="=&gt; org.scalaquery.ql.basic.BasicSQLUtils">sqlUtils</a>._

  <span class="comment">//TODO Pull tables out of subqueries where needed</span>

  <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: org.scalaquery.ql.basic.BasicQueryBuilder" id="103863">Self</a> &lt;: BasicQueryBuilder

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(query: org.scalaquery.ql.Query[_], nc: org.scalaquery.util.NamingContext)BasicQueryBuilder.this.Self" id="103864">createSubQueryBuilder</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="112939">query</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="org.scalaquery.util.NamingContext" id="112940">nc</a>: <a href="../../util/NamingContext.scala.html#10725" title="org.scalaquery.util.NamingContext">NamingContext</a><span class="delimiter">)</span>: <a href="#103863" title="BasicQueryBuilder.this.Self">Self</a>

  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="org.scalaquery.ql.basic.BasicProfile" id="103865">profile</a> = <a href="#112929" title="org.scalaquery.ql.basic.BasicProfile">_profile</a>
  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="org.scalaquery.ql.Query[_]" id="103867">query</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span> = <a href="#112926" title="org.scalaquery.ql.Query[_]">_query</a>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="org.scalaquery.util.NamingContext" id="103870">nc</a>: <a href="../../util/NamingContext.scala.html#10725" title="org.scalaquery.util.NamingContext">NamingContext</a> = <a href="#112927" title="org.scalaquery.util.NamingContext">_nc</a>
  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,org.scalaquery.util.Node]" id="103872">localTables</a> = <span title="()scala.collection.mutable.HashMap[String,org.scalaquery.util.Node]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,org.scalaquery.util.Node]">HashMap</span><span class="delimiter">[</span>String, Node<span class="delimiter">]</span>
  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[String]" id="103874">declaredTables</a> = <span title="()scala.collection.mutable.HashSet[String]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[String]">HashSet</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[org.scalaquery.util.RefId[org.scalaquery.ql.Query[_]],BasicQueryBuilder.this.Self]" id="103876">subQueryBuilders</a> = <span title="()scala.collection.mutable.HashMap[org.scalaquery.util.RefId[org.scalaquery.ql.Query[_]],BasicQueryBuilder.this.Self]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[org.scalaquery.util.RefId[org.scalaquery.ql.Query[_]],BasicQueryBuilder.this.Self]">HashMap</span><span class="delimiter">[</span>RefId<span class="delimiter">[</span>Query<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>, Self<span class="delimiter">]</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="org.scalaquery.util.SQLBuilder" id="103879">fromSlot</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a> = _
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="org.scalaquery.util.SQLBuilder" id="103882">selectSlot</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a> = _
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Int" id="103885">maxColumnPos</a> = <span title="Int(0)" class="int">0</span>

  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="Boolean" id="103887">mayLimit0</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="Option[String]" id="103889">scalarFrom</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(n: org.scalaquery.util.Node)String" id="103891">localTableName</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="113439">n</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a><span class="delimiter">)</span> = <a href="#113439" title="org.scalaquery.util.Node">n</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="String">Join</span>.JoinPart<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="113442">table</a>, <a title="org.scalaquery.util.Node" id="113443">from</a><span class="delimiter">)</span> =&gt;
      <span class="comment">// Special case for Joins: A join combines multiple tables but does not alias them</span>
      <a href="#103872" title="(key: String, value: org.scalaquery.util.Node)Unit">localTables</a><span class="delimiter">(</span><a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108932" title="(t: org.scalaquery.util.Node)String">nameFor</a><span class="delimiter">(</span><a href="#113443" title="org.scalaquery.util.Node">from</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#113443" title="org.scalaquery.util.Node">from</a>
      <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108932" title="(t: org.scalaquery.util.Node)String">nameFor</a><span class="delimiter">(</span><a href="#113442" title="org.scalaquery.util.Node">table</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="String">_</span> =&gt;
      <span class="keyword">val</span> <a title="String" id="113448">name</a> = <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108932" title="(t: org.scalaquery.util.Node)String">nameFor</a><span class="delimiter">(</span><a href="#113439" title="org.scalaquery.util.Node">n</a><span class="delimiter">)</span>
      <a href="#103872" title="(key: String, value: org.scalaquery.util.Node)Unit">localTables</a><span class="delimiter">(</span><a href="#113448" title="String">name</a><span class="delimiter">)</span> = <a href="#113439" title="org.scalaquery.util.Node">n</a>
      <a href="#113448" title="String">name</a>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(name: String)Boolean" id="103892">isDeclaredTable</a><span class="delimiter">(</span><a title="String" id="113449">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span class="delimiter">(</span><a href="#103874" title="=&gt; scala.collection.mutable.HashSet[String]">declaredTables</a> <span title="(elem: String)Boolean">contains</span> <a href="#113449" title="String">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#112928" title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]">parent</a>.<span title="(f: org.scalaquery.ql.basic.BasicQueryBuilder =&gt; Boolean)Option[Boolean]">map</span><span class="delimiter">(</span><a href="#113465" title="org.scalaquery.ql.basic.BasicQueryBuilder">_</a>.<a href="#103892" title="(name: String)Boolean">isDeclaredTable</a><span class="delimiter">(</span><a href="#113449" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(q: org.scalaquery.ql.Query[_])BasicQueryBuilder.this.Self" id="103893">subQueryBuilderFor</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="113470">q</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#103876" title="=&gt; scala.collection.mutable.HashMap[org.scalaquery.util.RefId[org.scalaquery.ql.Query[_]],BasicQueryBuilder.this.Self]">subQueryBuilders</a>.<span title="(key: org.scalaquery.util.RefId[org.scalaquery.ql.Query[_]], op: =&gt; BasicQueryBuilder.this.Self)BasicQueryBuilder.this.Self">getOrElseUpdate</span><span class="delimiter">(</span><a href="../../util/RefId.scala.html#109391" title="(e: org.scalaquery.ql.Query[_])org.scalaquery.util.RefId[org.scalaquery.ql.Query[_]]">RefId</a><span class="delimiter">(</span><a href="#113470" title="org.scalaquery.ql.Query[_]">q</a><span class="delimiter">)</span>, <a href="#103864" title="(query: org.scalaquery.ql.Query[_], nc: org.scalaquery.util.NamingContext)BasicQueryBuilder.this.Self">createSubQueryBuilder</a><span class="delimiter">(</span><a href="#113470" title="org.scalaquery.ql.Query[_]">q</a>, <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; org.scalaquery.util.SQLBuilder.Result" id="103894">buildSelect</a>: SQLBuilder.<a href="../../util/SQLBuilder.scala.html#103824" title="org.scalaquery.util.SQLBuilder.Result">Result</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.scalaquery.util.SQLBuilder" id="113491">b</a> = <span title="org.scalaquery.util.SQLBuilder" class="keyword">new</span> <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a>
    <a href="#103895" title="(b: org.scalaquery.util.SQLBuilder)Unit">buildSelect</a><span class="delimiter">(</span><a href="#113491" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <a href="#113491" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103852" title="=&gt; org.scalaquery.util.SQLBuilder.Result">build</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="103895">buildSelect</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="110306">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#103897" title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit">innerBuildSelect</a><span class="delimiter">(</span><a href="#110306" title="org.scalaquery.util.SQLBuilder">b</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <a href="#103911" title="()Unit">insertAllFromClauses</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(q: org.scalaquery.ql.Query[_])Boolean" id="103896">rewriteCountStarQuery</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="113499">q</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#113499" title="org.scalaquery.ql.Query[_]">q</a>.<a href="../Query.scala.html#79932" title="=&gt; List[org.scalaquery.ql.QueryModifier]">modifiers</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#113499" title="org.scalaquery.ql.Query[_]">q</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">AbstractTable</span>.Alias<span class="delimiter">(</span>_: <a href="../TableBase.scala.html#10263" title="org.scalaquery.ql.AbstractTable[_]">AbstractTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean(true)">_</span>: <a href="../TableBase.scala.html#10263" title="org.scalaquery.ql.AbstractTable[_]">AbstractTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit" id="103897">innerBuildSelect</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="113496">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a>, <a title="Boolean" id="113497">rename</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.CountAll<span class="delimiter">(</span>Subquery<span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="113507">q</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#103896" title="(q: org.scalaquery.ql.Query[_])Boolean">rewriteCountStarQuery</a><span class="delimiter">(</span><a href="#113507" title="org.scalaquery.ql.Query[_]">q</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="org.scalaquery.ql.Query[org.scalaquery.ql.ColumnOps.CountAll]" id="113510">newQ</a> = <a href="#113507" title="org.scalaquery.ql.Query[_]">q</a>.<a href="../Query.scala.html#79941" title="(f: _ =&gt; org.scalaquery.ql.ColumnOps.CountAll)org.scalaquery.ql.Query[org.scalaquery.ql.ColumnOps.CountAll]">map</a><span class="delimiter">(</span><a title="_" id="113515">p</a> =&gt; <a href="../ColumnOps.scala.html#9831" title="object org.scalaquery.ql.ColumnOps">ColumnOps</a>.<a href="../ColumnOps.scala.html#81669" title="(child: org.scalaquery.util.Node)org.scalaquery.ql.ColumnOps.CountAll">CountAll</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#113515" title="_">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#103893" title="(q: org.scalaquery.ql.Query[_])BasicQueryBuilder.this.Self">subQueryBuilderFor</a><span class="delimiter">(</span><a href="#113510" title="org.scalaquery.ql.Query[org.scalaquery.ql.ColumnOps.CountAll]">newQ</a><span class="delimiter">)</span>.<a href="#103897" title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit">innerBuildSelect</a><span class="delimiter">(</span><a href="#113496" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#113497" title="Boolean">rename</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#103898" title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit">innerBuildSelectNoRewrite</a><span class="delimiter">(</span><a href="#113496" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#113497" title="Boolean">rename</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit" id="103898">innerBuildSelectNoRewrite</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="113519">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a>, <a title="Boolean" id="113520">rename</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Unit" id="113522">inner</a> <span class="delimiter">{</span>
      <a href="#103882" title="(x$1: org.scalaquery.util.SQLBuilder)Unit">selectSlot</a> = <a href="#113519" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103850" title="=&gt; org.scalaquery.util.SQLBuilder">createSlot</a>
      <a href="#103882" title="=&gt; org.scalaquery.util.SQLBuilder">selectSlot</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;SELECT &quot;)" class="string">&quot;SELECT &quot;</span>
      <a href="#103907" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span>, <a href="#103882" title="=&gt; org.scalaquery.util.SQLBuilder">selectSlot</a>, <a href="#113520" title="Boolean">rename</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <a href="#103879" title="(x$1: org.scalaquery.util.SQLBuilder)Unit">fromSlot</a> = <a href="#113519" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103850" title="=&gt; org.scalaquery.util.SQLBuilder">createSlot</a>
      <a href="#103899" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendClauses</a><span class="delimiter">(</span><a href="#113519" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#103887" title="=&gt; Boolean">mayLimit0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79962" title="[T &lt;: org.scalaquery.ql.QueryModifier](implicit m: ClassManifest[T])List[T]">typedModifiers</a><span title="(implicit m: ClassManifest[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop])List[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop]" class="delimiter">[</span><a href="../extended/ExtendedProfile.scala.html#112730" title="org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop">TakeDrop</a><span class="delimiter">]</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">TakeDrop</span><span class="delimiter">(</span>Some<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> :: _ =&gt; <a href="#113519" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;SELECT * FROM (&quot;)" class="string">&quot;SELECT * FROM (&quot;</span>; <a href="#113522" title="=&gt; Unit">inner</a>; <a href="#113519" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) t0 WHERE 1=0&quot;)" class="string">&quot;) t0 WHERE 1=0&quot;</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#113522" title="=&gt; Unit">inner</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#113522" title="=&gt; Unit">inner</a>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="103899">appendClauses</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="113539">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#103909" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendConditions</a><span class="delimiter">(</span><a href="#113539" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <a href="#103900" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendGroupClause</a><span class="delimiter">(</span><a href="#113539" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <a href="#103910" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendHavingConditions</a><span class="delimiter">(</span><a href="#113539" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <a href="#103901" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendOrderClause</a><span class="delimiter">(</span><a href="#113539" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <a href="#103903" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendLimitClause</a><span class="delimiter">(</span><a href="#113539" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="103900">appendGroupClause</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="113606">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79962" title="[T &lt;: org.scalaquery.ql.QueryModifier](implicit m: ClassManifest[T])List[T]">typedModifiers</a><span title="(implicit m: ClassManifest[org.scalaquery.ql.Grouping])List[org.scalaquery.ql.Grouping]" class="delimiter">[</span><a href="../QueryModifier.scala.html#10225" title="org.scalaquery.ql.Grouping">Grouping</a><span class="delimiter">]</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt;
    <span class="keyword">case</span> <a title="Unit" id="113621">xs</a> =&gt; <a href="#113606" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; GROUP BY &quot;)" class="string">&quot; GROUP BY &quot;</span>; <a href="#113606" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103846" title="(sequence: Traversable[org.scalaquery.ql.Grouping], separator: String)(f: org.scalaquery.ql.Grouping =&gt; Unit)Unit">sep</a><span class="delimiter">(</span><a href="#113621" title="List[org.scalaquery.ql.Grouping]">xs</a>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.scalaquery.ql.Grouping" id="113651">x</a> =&gt; <a href="#103907" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="#113651" title="org.scalaquery.ql.Grouping">x</a>.<a href="../QueryModifier.scala.html#100377" title="=&gt; org.scalaquery.util.Node">by</a>, <a href="#113606" title="org.scalaquery.util.SQLBuilder">b</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="103901">appendOrderClause</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="113610">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79962" title="[T &lt;: org.scalaquery.ql.QueryModifier](implicit m: ClassManifest[T])List[T]">typedModifiers</a><span title="(implicit m: ClassManifest[org.scalaquery.ql.Ordering])List[org.scalaquery.ql.Ordering]" class="delimiter">[</span><a href="../QueryModifier.scala.html#10222" title="org.scalaquery.ql.Ordering">Ordering</a><span class="delimiter">]</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt;
    <span class="keyword">case</span> <a title="Unit" id="113663">xs</a> =&gt; <a href="#113610" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; ORDER BY &quot;)" class="string">&quot; ORDER BY &quot;</span>; <a href="#113610" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103846" title="(sequence: Traversable[org.scalaquery.ql.Ordering], separator: String)(f: org.scalaquery.ql.Ordering =&gt; Unit)Unit">sep</a><span class="delimiter">(</span><a href="#113663" title="List[org.scalaquery.ql.Ordering]">xs</a>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103902" title="(o: org.scalaquery.ql.Ordering, b: org.scalaquery.util.SQLBuilder)Unit">appendOrdering</a><span class="delimiter">(</span><a href="#113686" title="org.scalaquery.ql.Ordering">_</a>,<a href="#113610" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(o: org.scalaquery.ql.Ordering, b: org.scalaquery.util.SQLBuilder)Unit" id="103902">appendOrdering</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Ordering" id="113687">o</a>: <a href="../QueryModifier.scala.html#10222" title="org.scalaquery.ql.Ordering">Ordering</a>, <a title="org.scalaquery.util.SQLBuilder" id="113688">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#103907" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="#113687" title="org.scalaquery.ql.Ordering">o</a>.<a href="../QueryModifier.scala.html#80123" title="=&gt; org.scalaquery.util.Node">by</a>, <a href="#113688" title="org.scalaquery.util.SQLBuilder">b</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#113687" title="org.scalaquery.ql.Ordering">o</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>Ordering.<a href="../QueryModifier.scala.html#80112" title="org.scalaquery.ql.Ordering.Desc">Desc</a><span class="delimiter">]</span><span class="delimiter">)</span> <a href="#113688" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; desc&quot;)" class="string">&quot; desc&quot;</span>
    <a href="#113687" title="org.scalaquery.ql.Ordering">o</a>.<a href="../QueryModifier.scala.html#80124" title="=&gt; org.scalaquery.ql.Ordering.NullOrdering">nullOrdering</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../QueryModifier.scala.html#10223" title="Unit">Ordering</a>.<a href="../QueryModifier.scala.html#80118" title="object org.scalaquery.ql.Ordering.NullsFirst">NullsFirst</a> =&gt; <a href="#113688" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; nulls first&quot;)" class="string">&quot; nulls first&quot;</span>
      <span class="keyword">case</span> <a href="../QueryModifier.scala.html#10223" title="Unit">Ordering</a>.<a href="../QueryModifier.scala.html#80120" title="object org.scalaquery.ql.Ordering.NullsLast">NullsLast</a> =&gt; <a href="#113688" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; nulls last&quot;)" class="string">&quot; nulls last&quot;</span>
      <span class="keyword">case</span> <a href="../QueryModifier.scala.html#10223" title="Unit">Ordering</a>.<a href="../QueryModifier.scala.html#80116" title="object org.scalaquery.ql.Ordering.NullsDefault">NullsDefault</a> =&gt;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="103903">appendLimitClause</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="113612">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79962" title="[T &lt;: org.scalaquery.ql.QueryModifier](implicit m: ClassManifest[T])List[T]">typedModifiers</a><span title="(implicit m: ClassManifest[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop])List[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop]" class="delimiter">[</span><a href="../extended/ExtendedProfile.scala.html#112730" title="org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop">TakeDrop</a><span class="delimiter">]</span>.<span title="=&gt; Option[org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop]">lastOption</span>.<span title="(f: org.scalaquery.ql.extended.ExtendedQueryOps.TakeDrop =&gt; Any)Unit">foreach</span> <a href="#113725" title="Any" class="delimiter">{</a>
    <span class="comment">/* SQL:2008 syntax */</span>
    <span class="keyword">case</span> <span title="Unit">TakeDrop</span><span class="delimiter">(</span>Some<span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#103887" title="=&gt; Boolean">mayLimit0</a><span class="delimiter">)</span> =&gt; <span class="comment">// handled above in innerBuildSelectNoRewrite</span>
    <span class="keyword">case</span> <span title="org.scalaquery.util.SQLBuilder">TakeDrop</span><span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="Int" id="113728">t</a><span class="delimiter">)</span>, Some<span class="delimiter">(</span><a title="Int" id="113730">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#113612" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; OFFSET &quot;)" class="string">&quot; OFFSET &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <a href="#113730" title="Int">d</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; ROW FETCH NEXT &quot;)" class="string">&quot; ROW FETCH NEXT &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <a href="#113728" title="Int">t</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; ROW ONLY&quot;)" class="string">&quot; ROW ONLY&quot;</span>
    <span class="keyword">case</span> <span title="org.scalaquery.util.SQLBuilder">TakeDrop</span><span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="Int" id="113752">t</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span> =&gt; <a href="#113612" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; FETCH NEXT &quot;)" class="string">&quot; FETCH NEXT &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <a href="#113752" title="Int">t</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; ROW ONLY&quot;)" class="string">&quot; ROW ONLY&quot;</span>
    <span class="keyword">case</span> <span title="org.scalaquery.util.SQLBuilder">TakeDrop</span><span class="delimiter">(</span><span title="object None">None</span>, Some<span class="delimiter">(</span><a title="Int" id="113766">d</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#113612" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; OFFSET &quot;)" class="string">&quot; OFFSET &quot;</span> <a href="../../util/SQLBuilder.scala.html#103841" title="(i: Int)org.scalaquery.util.SQLBuilder">+=</a> <a href="#113766" title="Int">d</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; ROW&quot;)" class="string">&quot; ROW&quot;</span>
    <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; org.scalaquery.util.SQLBuilder.Result" id="103904">buildDelete</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.scalaquery.util.SQLBuilder" id="112783">b</a> = <span title="org.scalaquery.util.SQLBuilder" class="keyword">new</span> <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;DELETE FROM &quot;)" class="string">&quot;DELETE FROM &quot;</span>
    <span class="keyword">val</span> <a href="#112785" title="(org.scalaquery.util.Node, String)" class="delimiter">(</a><a href="#112784" title="org.scalaquery.util.Node" id="112785">delTable</a>, <a href="#112784" title="String" id="112786">delTableName</a><span class="delimiter">)</span> = <a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span> <span title="(org.scalaquery.util.Node, String)" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="(org.scalaquery.ql.AbstractTable.Alias, String)" id="112791">t</a> @ AbstractTable.Alias<span class="delimiter">(</span><a title="org.scalaquery.ql.AbstractTable[_]" id="112792">base</a>:<a href="../TableBase.scala.html#10263" title="org.scalaquery.ql.AbstractTable[_]">AbstractTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="(_1: org.scalaquery.ql.AbstractTable.Alias, _2: String)(org.scalaquery.ql.AbstractTable.Alias, String)" class="delimiter">(</span><a href="#112791" title="org.scalaquery.ql.AbstractTable.Alias">t</a>, <a href="#112792" title="org.scalaquery.ql.AbstractTable[_]">base</a>.<a href="../TableBase.scala.html#84557" title="=&gt; String">tableName</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="(org.scalaquery.ql.AbstractTable[_], String)" id="112800">t</a>:<a href="../TableBase.scala.html#10263" title="org.scalaquery.ql.AbstractTable[_]">AbstractTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <span title="(_1: org.scalaquery.ql.AbstractTable[_], _2: String)(org.scalaquery.ql.AbstractTable[_], String)" class="delimiter">(</span><a href="#112800" title="org.scalaquery.ql.AbstractTable[_]">t</a>, <a href="#112800" title="org.scalaquery.ql.AbstractTable[_]">t</a>.<a href="../TableBase.scala.html#84557" title="=&gt; String">tableName</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Nothing" id="112808">n</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot create a DELETE statement from an \&quot;&quot;)" class="string">&quot;Cannot create a DELETE statement from an \&quot;&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#112808" title="org.scalaquery.util.Node">n</a><span title="(x$1: Any)java.lang.String">+</span>
        <span title="java.lang.String(&quot;\&quot; expression; An aliased or base table is required&quot;)" class="string">&quot;\&quot; expression; An aliased or base table is required&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#112783" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#112786" title="String">delTableName</a><span class="delimiter">)</span>
    <a href="#103870" title="(x$1: org.scalaquery.util.NamingContext)Unit">nc</a> = <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108933" title="(node: org.scalaquery.util.Node, newName: String)org.scalaquery.util.NamingContext">overrideName</a><span class="delimiter">(</span><a href="#112785" title="org.scalaquery.util.Node">delTable</a>, <a href="#112786" title="String">delTableName</a><span class="delimiter">)</span> <span class="comment">// Alias table to itself because DELETE does not support aliases</span>
    <a href="#103909" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendConditions</a><span class="delimiter">(</span><a href="#112783" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#103872" title="=&gt; scala.collection.mutable.HashMap[String,org.scalaquery.util.Node]">localTables</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Conditions of a DELETE statement must not reference other tables&quot;)" class="string">&quot;Conditions of a DELETE statement must not reference other tables&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79930" title="=&gt; List[org.scalaquery.ql.Column[_]]">condHaving</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;DELETE statement must contain a HAVING clause&quot;)" class="string">&quot;DELETE statement must contain a HAVING clause&quot;</span><span class="delimiter">)</span>
    <span class="keyword">for</span><span class="delimiter">(</span><a title="BasicQueryBuilder.this.Self" id="112869">qb</a> &lt;- <a href="#103876" title="=&gt; scala.collection.mutable.HashMap[org.scalaquery.util.RefId[org.scalaquery.ql.Query[_]],BasicQueryBuilder.this.Self]">subQueryBuilders</a>.<span title="(f: BasicQueryBuilder.this.Self =&gt; Unit)Unit">valuesIterator</span><span class="delimiter">)</span>
      <a href="#112869" title="BasicQueryBuilder.this.Self">qb</a>.<a href="#103911" title="()Unit">insertAllFromClauses</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#112783" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103852" title="=&gt; org.scalaquery.util.SQLBuilder.Result">build</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; org.scalaquery.util.SQLBuilder.Result" id="103905">buildUpdate</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79930" title="=&gt; List[org.scalaquery.ql.Column[_]]">condHaving</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79932" title="=&gt; List[org.scalaquery.ql.QueryModifier]">modifiers</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;A query for an UPDATE statement must not have any modifiers other than WHERE restrictions&quot;)" class="string">&quot;A query for an UPDATE statement must not have any modifiers other than WHERE restrictions&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.scalaquery.util.SQLBuilder" id="112424">b</a> = <span title="org.scalaquery.util.SQLBuilder" class="keyword">new</span> <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;UPDATE &quot;)" class="string">&quot;UPDATE &quot;</span>
    <span class="keyword">val</span> <a title="org.scalaquery.util.SQLBuilder" id="112425">tableNameSlot</a> = <a href="#112424" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103850" title="=&gt; org.scalaquery.util.SQLBuilder">createSlot</a>
    <a href="#112424" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; SET &quot;)" class="string">&quot; SET &quot;</span>
    <span class="keyword">var</span> <a title="String" id="112426">tableName</a>: <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">var</span> <a title="org.scalaquery.util.Node" id="112427">table</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a> = <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">def</span> <a title="(node: org.scalaquery.util.Node)Unit" id="112428">handleColumn</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="112446">node</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="#112446" title="org.scalaquery.util.Node">node</a> <span title="(String, String, org.scalaquery.ql.TypeMapper[_ &gt;: T with T], org.scalaquery.util.Node)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="(String, String, org.scalaquery.ql.TypeMapper[T], org.scalaquery.ql.AbstractTable[T])" id="112447">nc</a> @ <a href="../ColumnBase.scala.html#80510" title="(n: org.scalaquery.ql.NamedColumn[T])Some[(org.scalaquery.util.Node, String, Seq[org.scalaquery.ql.ColumnOption[T, _]])]">NamedColumn</a><span class="delimiter">(</span><a title="org.scalaquery.ql.AbstractTable[T]" id="112492">t</a> @ <a href="../TableBase.scala.html#85261" title="(t: org.scalaquery.ql.AbstractTable[T])Some[String]">AbstractTable</a><span class="delimiter">(</span><a title="String" id="112501">tn</a><span class="delimiter">)</span>, <a title="String" id="112502">n</a>, _<span class="delimiter">)</span> =&gt; <span title="(_1: String, _2: String, _3: org.scalaquery.ql.TypeMapper[T], _4: org.scalaquery.ql.AbstractTable[T])(String, String, org.scalaquery.ql.TypeMapper[T], org.scalaquery.ql.AbstractTable[T])" class="delimiter">(</span><a href="#112501" title="String">tn</a>, <a href="#112502" title="String">n</a>, <a href="#112447" title="org.scalaquery.ql.NamedColumn[T]">nc</a>.<a href="../ColumnBase.scala.html#78936" title="=&gt; org.scalaquery.ql.TypeMapper[T]">typeMapper</a>, <a href="#112492" title="org.scalaquery.ql.AbstractTable[T]">t</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="(String, String, org.scalaquery.ql.TypeMapper[T], org.scalaquery.ql.AbstractTable.Alias)" id="112515">nc</a> @ <a href="../ColumnBase.scala.html#80510" title="(n: org.scalaquery.ql.NamedColumn[T])Some[(org.scalaquery.util.Node, String, Seq[org.scalaquery.ql.ColumnOption[T, _]])]">NamedColumn</a><span class="delimiter">(</span><a title="org.scalaquery.ql.AbstractTable.Alias" id="112524">t</a> @ AbstractTable.Alias<span class="delimiter">(</span><a href="../TableBase.scala.html#85261" title="(t: org.scalaquery.ql.AbstractTable[T])Some[String]">AbstractTable</a><span class="delimiter">(</span><a title="String" id="112533">tn</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="String" id="112534">n</a>, _<span class="delimiter">)</span> =&gt; <span title="(_1: String, _2: String, _3: org.scalaquery.ql.TypeMapper[T], _4: org.scalaquery.ql.AbstractTable.Alias)(String, String, org.scalaquery.ql.TypeMapper[T], org.scalaquery.ql.AbstractTable.Alias)" class="delimiter">(</span><a href="#112533" title="String">tn</a>, <a href="#112534" title="String">n</a>, <a href="#112515" title="org.scalaquery.ql.NamedColumn[T]">nc</a>.<a href="../ColumnBase.scala.html#78936" title="=&gt; org.scalaquery.ql.TypeMapper[T]">typeMapper</a>, <a href="#112524" title="org.scalaquery.ql.AbstractTable.Alias">t</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="112547">n</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot create an UPDATE statement from a \&quot;&quot;)" class="string">&quot;Cannot create an UPDATE statement from a \&quot;&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#112547" title="org.scalaquery.util.Node">n</a><span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot;\&quot; expression; A single named column or a projection of named columns from the same aliased or base table is required&quot;)" class="string">&quot;\&quot; expression; A single named column or a projection of named columns from the same aliased or base table is required&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="String" id="112658">tn</a>, <a title="String" id="112659">n</a>, <a title="org.scalaquery.ql.TypeMapper[_ &gt;: T with T]" id="112660">tm</a>, <a title="org.scalaquery.util.Node" id="112668">t</a><span class="delimiter">)</span> =&gt;
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#112426" title="String">tableName</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#112426" title="String">tableName</a> = <a href="#112658" title="String">tn</a>; <a href="#112427" title="org.scalaquery.util.Node">table</a> = <a href="#112668" title="org.scalaquery.util.Node">t</a>; <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#112426" title="String">tableName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#112658" title="String">tn</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;All columns for an UPDATE statement must be from the same table&quot;)" class="string">&quot;All columns for an UPDATE statement must be from the same table&quot;</span><span class="delimiter">)</span>
        <a href="#112424" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#112659" title="String">n</a><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;=?&quot;)" class="string">&quot;=?&quot;</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(node: org.scalaquery.util.Node)Unit" id="112429">handleColumns</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="112682">node</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#112682" title="org.scalaquery.util.Node">node</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="112683">p</a>: <a href="../Projection.scala.html#9912" title="org.scalaquery.ql.Projection[_]">Projection</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
          <span class="keyword">var</span> <a title="Int" id="112685">i</a> = <span title="Int(0)" class="int">0</span>
          <span class="keyword">for</span><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="112712">ch</a> &lt;- <a href="#112683" title="org.scalaquery.ql.Projection[_]">p</a>.<a href="../Projection.scala.html#79601" title="(f: org.scalaquery.util.Node =&gt; Unit)Unit">nodeChildren</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#112685" title="Int">i</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#112424" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\',\')" class="char">','</span>
            <a href="#112428" title="(node: org.scalaquery.util.Node)Unit">handleColumn</a><span class="delimiter">(</span><a href="#112712" title="org.scalaquery.util.Node">ch</a><span class="delimiter">)</span>
            <a href="#112685" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a title="Unit" id="112739">t</a> @ <a href="../TableBase.scala.html#85261" title="(t: org.scalaquery.ql.AbstractTable[T])Some[String]">AbstractTable</a><span class="delimiter">(</span><a title="String" id="112748">tn</a><span class="delimiter">)</span> =&gt;
          <a href="#103870" title="(x$1: org.scalaquery.util.NamingContext)Unit">nc</a> = <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108933" title="(node: org.scalaquery.util.Node, newName: String)org.scalaquery.util.NamingContext">overrideName</a><span class="delimiter">(</span><a href="#112739" title="org.scalaquery.ql.AbstractTable[T]">t</a>, <a href="#112748" title="String">tn</a><span class="delimiter">)</span>
          <a href="#112429" title="(node: org.scalaquery.util.Node)Unit">handleColumns</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#112739" title="org.scalaquery.ql.AbstractTable[T]">t</a>.<a href="../TableBase.scala.html#84562" title="=&gt; org.scalaquery.ql.ColumnBase[T]">*</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="112753">a</a> @ AbstractTable.Alias<span class="delimiter">(</span><a title="org.scalaquery.ql.AbstractTable[T]" id="112754">t</a> @ <a href="../TableBase.scala.html#85261" title="(t: org.scalaquery.ql.AbstractTable[T])Some[String]">AbstractTable</a><span class="delimiter">(</span><a title="String" id="112763">tn</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#103870" title="(x$1: org.scalaquery.util.NamingContext)Unit">nc</a> = <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108933" title="(node: org.scalaquery.util.Node, newName: String)org.scalaquery.util.NamingContext">overrideName</a><span class="delimiter">(</span><a href="#112753" title="org.scalaquery.ql.AbstractTable.Alias">a</a>, <a href="#112763" title="String">tn</a><span class="delimiter">)</span>
          <a href="#112429" title="(node: org.scalaquery.util.Node)Unit">handleColumns</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#112754" title="org.scalaquery.ql.AbstractTable[T]">t</a>.<a href="../TableBase.scala.html#84562" title="=&gt; org.scalaquery.ql.ColumnBase[T]">*</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="112764">n</a> =&gt; <a href="#112428" title="(node: org.scalaquery.util.Node)Unit">handleColumn</a><span class="delimiter">(</span><a href="#112764" title="org.scalaquery.util.Node">n</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#112429" title="(node: org.scalaquery.util.Node)Unit">handleColumns</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79926" title="=&gt; Any">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#103870" title="(x$1: org.scalaquery.util.NamingContext)Unit">nc</a> = <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108933" title="(node: org.scalaquery.util.Node, newName: String)org.scalaquery.util.NamingContext">overrideName</a><span class="delimiter">(</span><a href="#112427" title="org.scalaquery.util.Node">table</a>, <a href="#112426" title="String">tableName</a><span class="delimiter">)</span> <span class="comment">// Alias table to itself because UPDATE does not support aliases</span>
    <a href="#112425" title="org.scalaquery.util.SQLBuilder">tableNameSlot</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#112426" title="String">tableName</a><span class="delimiter">)</span>
    <a href="#103909" title="(b: org.scalaquery.util.SQLBuilder)Unit">appendConditions</a><span class="delimiter">(</span><a href="#112424" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#103872" title="=&gt; scala.collection.mutable.HashMap[String,org.scalaquery.util.Node]">localTables</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;An UPDATE statement must not use more than one table at the top level&quot;)" class="string">&quot;An UPDATE statement must not use more than one table at the top level&quot;</span><span class="delimiter">)</span>
    <a href="#112424" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103852" title="=&gt; org.scalaquery.util.SQLBuilder.Result">build</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit" id="103906">expr</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="113536">c</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a>, <a title="org.scalaquery.util.SQLBuilder" id="113537">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#103907" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="#113536" title="org.scalaquery.util.Node">c</a>, <a href="#113537" title="org.scalaquery.util.SQLBuilder">b</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit" id="103907">expr</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="113531">c</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a>, <a title="org.scalaquery.util.SQLBuilder" id="113532">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a>, <a title="Boolean" id="113533">rename</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="113534">topLevel</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="113791">pos</a> = <span title="Int(0)" class="int">0</span>
    <a href="#113531" title="org.scalaquery.util.Node">c</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Unit" id="113792">p</a>: <a href="../Projection.scala.html#9912" title="org.scalaquery.ql.Projection[_]">Projection</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <span class="delimiter">{</span>
        <a href="#113792" title="org.scalaquery.ql.Projection[_]">p</a>.<a href="../Projection.scala.html#79601" title="=&gt; List[org.scalaquery.util.Node]">nodeChildren</a>.<span title="(f: org.scalaquery.util.Node =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span> <a title="org.scalaquery.util.Node" id="113815">c</a> =&gt;
          <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#113791" title="Int">pos</a> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#113532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\',\')" class="char">','</span>
          <a href="#113791" title="Int">pos</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#103907" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder, rename: Boolean, topLevel: Boolean)Unit">expr</a><span class="delimiter">(</span><a href="#113815" title="org.scalaquery.util.Node">c</a>, <a href="#113532" title="org.scalaquery.util.SQLBuilder">b</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#113533" title="Boolean">rename</a><span class="delimiter">)</span> <a href="#113532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; as &quot;)" class="string">&quot; as &quot;</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><span title="java.lang.String(&quot;c&quot;)" class="string">&quot;c&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#113791" title="Int">pos</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#103908" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">innerExpr</a><span class="delimiter">(</span><a href="#113531" title="org.scalaquery.util.Node">c</a>, <a href="#113532" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#113533" title="Boolean">rename</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#113791" title="Int">pos</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#113532" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; as &quot;)" class="string">&quot; as &quot;</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><span title="java.lang.String(&quot;c1&quot;)" class="string">&quot;c1&quot;</span><span class="delimiter">)</span>
      <a href="#113791" title="Int">pos</a> = <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#113534" title="Boolean">topLevel</a><span class="delimiter">)</span> <a href="#10376" title="BasicQueryBuilder.this.type" class="keyword">this</a>.<a href="#103885" title="(x$1: Int)Unit">maxColumnPos</a> = <a href="#113791" title="Int">pos</a>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit" id="103908">innerExpr</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="113858">c</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a>, <a title="org.scalaquery.util.SQLBuilder" id="113859">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#113858" title="org.scalaquery.util.Node">c</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">ConstColumn</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;null&quot;)" class="string">&quot;null&quot;</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.Not<span class="delimiter">(</span>ColumnOps.Is<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="113880">l</a>, ConstColumn<span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'(\')" class="char">'('</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#113880" title="org.scalaquery.util.Node">l</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; is not null)&quot;)" class="string">&quot; is not null)&quot;</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.Not<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="113895">e</a><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(not &quot;)" class="string">&quot;(not &quot;</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#113895" title="org.scalaquery.util.Node">e</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\')\')" class="char">')'</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.InSet<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="113912">e</a>, <a title="Traversable[Any]" id="113913">seq</a>, <a title="org.scalaquery.ql.TypeMapper[Any]" id="113914">tm</a>, <a title="Boolean" id="113915">bind</a><span class="delimiter">)</span> =&gt; <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#113913" title="Traversable[Any]">seq</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="../ColumnBase.scala.html#79120" title="(value: Boolean)(implicit evidence$4: org.scalaquery.ql.TypeMapper[Boolean])org.scalaquery.ql.ConstColumn[Boolean]">ConstColumn</a><a href="../TypeMapper.scala.html#79149" title="object org.scalaquery.ql.TypeMapper.BooleanTypeMapper" class="delimiter">(</a><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'(\')" class="char">'('</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#113912" title="org.scalaquery.util.Node">e</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; in (&quot;)" class="string">&quot; in (&quot;</span>
      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#113915" title="Boolean">bind</a><span class="delimiter">)</span> <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103846" title="(sequence: Traversable[Any], separator: String)(f: Any =&gt; Unit)Unit">sep</a><span class="delimiter">(</span><a href="#113913" title="Traversable[Any]">seq</a>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Any" id="113957">x</a> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103845" title="(f: (org.scalaquery.session.PositionedParameters, Any) =&gt; Unit)org.scalaquery.util.SQLBuilder">+?=</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="org.scalaquery.session.PositionedParameters" id="113969">p</a>, <a title="Any" id="113970">param</a><span class="delimiter">)</span> =&gt; <a href="#113914" title="(v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[Any]">tm</a><span class="delimiter">(</span><a href="#103865" title="=&gt; org.scalaquery.ql.basic.BasicProfile">profile</a><span class="delimiter">)</span>.<a href="../TypeMapper.scala.html#79207" title="(v: Any, p: org.scalaquery.session.PositionedParameters)Unit">setValue</a><span class="delimiter">(</span><a href="#113957" title="Any">x</a>, <a href="#113969" title="org.scalaquery.session.PositionedParameters">p</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="#113913" title="Traversable[Any]">seq</a>.<span title="(f: Any =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[Any],String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,String,Traversable[String]]" class="delimiter">(</span><a href="#113914" title="(v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[Any]">tm</a><a href="#113993" title="org.scalaquery.ql.TypeMapperDelegate[Any]" class="delimiter">(</a><a href="#103865" title="=&gt; org.scalaquery.ql.basic.BasicProfile">profile</a><span class="delimiter">)</span>.<a href="../TypeMapper.scala.html#79214" title="(value: Any)String">valueToSQLLiteral</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;))&quot;)" class="string">&quot;))&quot;</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.Is<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114040">l</a>, ConstColumn<span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'(\')" class="char">'('</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114040" title="org.scalaquery.util.Node">l</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; is null)&quot;)" class="string">&quot; is null)&quot;</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.Is<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114055">l</a>, <a title="org.scalaquery.util.Node" id="114056">r</a><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'(\')" class="char">'('</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114055" title="org.scalaquery.util.Node">l</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'=\')" class="char">'='</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114056" title="org.scalaquery.util.Node">r</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\')\')" class="char">')'</span>
    <span class="keyword">case</span> <a title="Unit" id="114077">s</a>: <a href="../SimpleFunction.scala.html#10242" title="org.scalaquery.ql.SimpleFunction">SimpleFunction</a> =&gt;
      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#114077" title="org.scalaquery.ql.SimpleFunction">s</a>.<a href="../SimpleFunction.scala.html#80018" title="=&gt; Boolean">scalar</a><span class="delimiter">)</span> <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;{fn &quot;)" class="string">&quot;{fn &quot;</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="#114077" title="org.scalaquery.ql.SimpleFunction">s</a>.<a href="../SimpleFunction.scala.html#80017" title="=&gt; String">name</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'(\')" class="char">'('</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103846" title="(sequence: Traversable[org.scalaquery.util.Node], separator: String)(f: org.scalaquery.util.Node =&gt; Unit)Unit">sep</a><span class="delimiter">(</span><a href="#114077" title="org.scalaquery.ql.SimpleFunction">s</a>.<a href="../../util/Node.scala.html#78905" title="=&gt; List[org.scalaquery.util.Node]">nodeChildren</a>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114116" title="org.scalaquery.util.Node">_</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\')\')" class="char">')'</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#114077" title="org.scalaquery.ql.SimpleFunction">s</a>.<a href="../SimpleFunction.scala.html#80018" title="=&gt; Boolean">scalar</a><span class="delimiter">)</span> <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'}\')" class="char">'}'</span>
    <span class="keyword">case</span> <span title="Unit">SimpleLiteral</span><span class="delimiter">(</span><a title="String" id="114129">w</a><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="#114129" title="String">w</a>
    <span class="keyword">case</span> <a title="Unit" id="114134">s</a>: <a href="../SimpleFunction.scala.html#10251" title="org.scalaquery.ql.SimpleExpression">SimpleExpression</a> =&gt; <a href="#114134" title="org.scalaquery.ql.SimpleExpression">s</a>.<a href="../SimpleFunction.scala.html#103817" title="(b: org.scalaquery.util.SQLBuilder, qb: org.scalaquery.ql.basic.BasicQueryBuilder)Unit">toSQL</a><span class="delimiter">(</span><a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#10376" title="org.scalaquery.ql.basic.BasicQueryBuilder" class="keyword">this</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.Between<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114135">left</a>, <a title="org.scalaquery.util.Node" id="114136">start</a>, <a title="org.scalaquery.util.Node" id="114137">end</a><span class="delimiter">)</span> =&gt; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114135" title="org.scalaquery.util.Node">left</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; between &quot;)" class="string">&quot; between &quot;</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114136" title="org.scalaquery.util.Node">start</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114137" title="org.scalaquery.util.Node">end</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.CountAll<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114158">q</a><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;count(*)&quot;)" class="string">&quot;count(*)&quot;</span>; <a href="#103891" title="(n: org.scalaquery.util.Node)String">localTableName</a><span title="Unit" class="delimiter">(</span><a href="#114158" title="org.scalaquery.util.Node">q</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.CountDistinct<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114163">e</a><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;count(distinct &quot;)" class="string">&quot;count(distinct &quot;</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114163" title="org.scalaquery.util.Node">e</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\')\')" class="char">')'</span>
    <span class="keyword">case</span> <span title="Unit">ColumnOps</span>.Like<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114176">l</a>, <a title="org.scalaquery.util.Node" id="114177">r</a>, <a title="Option[Char]" id="114178">esc</a><span class="delimiter">)</span> =&gt;
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'(\')" class="char">'('</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114176" title="org.scalaquery.util.Node">l</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; like &quot;)" class="string">&quot; like &quot;</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114177" title="org.scalaquery.util.Node">r</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>;
      <a href="#114178" title="Option[Char]">esc</a>.<span title="(f: Char =&gt; org.scalaquery.util.SQLBuilder)Unit">foreach</span> <span class="delimiter">{</span> <a title="Char" id="114199">ch</a> =&gt;
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#114199" title="Char">ch</a> <span title="(x: Char)Boolean">==</span> <span title="Char(\'\\\'\')" class="char">'\''</span> <span title="(x: Boolean)Boolean">||</span> <a href="#114199" title="Char">ch</a> <span title="(x: Char)Boolean">==</span> <span title="Char(\'%\')" class="char">'%'</span> <span title="(x: Boolean)Boolean">||</span> <a href="#114199" title="Char">ch</a> <span title="(x: Char)Boolean">==</span> <span title="Char(\'_\')" class="char">'_'</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Illegal escape character \'&quot;)" class="string">&quot;Illegal escape character '&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#114199" title="Char">ch</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\' for LIKE expression&quot;)" class="string">&quot;' for LIKE expression&quot;</span><span class="delimiter">)</span>
        <span class="comment">// JDBC defines an {escape } syntax but the unescaped version is understood by more DBs/drivers</span>
        <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; escape \'&quot;)" class="string">&quot; escape '&quot;</span> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <a href="#114199" title="Char">ch</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span>
      <span class="delimiter">}</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\')\')" class="char">')'</span>
    <span class="keyword">case</span> <a title="Unit" id="114229">a</a> @ ColumnOps.AsColumnOf<span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114231">ch</a>, <a title="Option[String]" id="114232">name</a><span class="delimiter">)</span> =&gt;
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;{fn convert(&quot;)" class="string">&quot;{fn convert(&quot;</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114231" title="org.scalaquery.util.Node">ch</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\',\')" class="char">','</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="#114232" title="Option[String]">name</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="BasicSQLUtils.scala.html#107848" title="(tmd: org.scalaquery.ql.TypeMapperDelegate[_])String">mapTypeName</a><span class="delimiter">(</span><a href="#114229" title="org.scalaquery.ql.ColumnOps.AsColumnOf[Any]">a</a>.<a href="../ColumnBase.scala.html#78936" title="(v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[Any]">typeMapper</a><span class="delimiter">(</span><a href="#103865" title="=&gt; org.scalaquery.ql.basic.BasicProfile">profile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;)}&quot;)" class="string">&quot;)}&quot;</span>
    <span class="keyword">case</span> <a title="Unit" id="114260">s</a>: <a href="../SimpleFunction.scala.html#10245" title="org.scalaquery.ql.SimpleBinaryOperator">SimpleBinaryOperator</a> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'(\')" class="char">'('</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114260" title="org.scalaquery.ql.SimpleBinaryOperator">s</a>.<a href="../../util/Node.scala.html#78913" title="=&gt; org.scalaquery.util.Node">left</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\' \')" class="char">' '</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="#114260" title="org.scalaquery.ql.SimpleBinaryOperator">s</a>.<a href="../SimpleFunction.scala.html#79753" title="=&gt; String">name</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\' \')" class="char">' '</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114260" title="org.scalaquery.ql.SimpleBinaryOperator">s</a>.<a href="../../util/Node.scala.html#78914" title="=&gt; org.scalaquery.util.Node">right</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\')\')" class="char">')'</span>
    <span class="keyword">case</span> <a title="Unit" id="114289">query</a>:<a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>; <a href="#103893" title="(q: org.scalaquery.ql.Query[_])BasicQueryBuilder.this.Self">subQueryBuilderFor</a><span class="delimiter">(</span><a href="#114289" title="org.scalaquery.ql.Query[_]">query</a><span class="delimiter">)</span>.<a href="#103897" title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit">innerBuildSelect</a><span class="delimiter">(</span><a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    <span class="comment">//case Union.UnionPart(_) =&gt; &quot;*&quot;</span>
    <span class="keyword">case</span> <a title="Unit" id="114300">c</a> @ ConstColumn<span class="delimiter">(</span><a title="Any" id="114303">v</a><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="#114300" title="org.scalaquery.ql.ConstColumn[Any]">c</a>.<a href="../ColumnBase.scala.html#78936" title="(v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[Any]">typeMapper</a><span class="delimiter">(</span><a href="#103865" title="=&gt; org.scalaquery.ql.basic.BasicProfile">profile</a><span class="delimiter">)</span>.<a href="../TypeMapper.scala.html#79214" title="(value: Any)String">valueToSQLLiteral</a><span class="delimiter">(</span><a href="#114303" title="Any">v</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Unit" id="114310">c</a> @ BindColumn<span class="delimiter">(</span><a title="Any" id="114313">v</a><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103845" title="(f: (org.scalaquery.session.PositionedParameters, Any) =&gt; Unit)org.scalaquery.util.SQLBuilder">+?=</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="org.scalaquery.session.PositionedParameters" id="114315">p</a>, <a title="Any" id="114316">param</a><span class="delimiter">)</span> =&gt; <a href="#114310" title="org.scalaquery.ql.BindColumn[Any]">c</a>.<a href="../ColumnBase.scala.html#78936" title="(v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[Any]">typeMapper</a><span class="delimiter">(</span><a href="#103865" title="=&gt; org.scalaquery.ql.basic.BasicProfile">profile</a><span class="delimiter">)</span>.<a href="../TypeMapper.scala.html#79207" title="(v: Any, p: org.scalaquery.session.PositionedParameters)Unit">setValue</a><span class="delimiter">(</span><a href="#114313" title="Any">v</a>, <a href="#114315" title="org.scalaquery.session.PositionedParameters">p</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">case</span> <a title="Unit" id="114318">pc</a> @ ParameterColumn<span class="delimiter">(</span><a title="Int" id="114320">idx</a><span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103845" title="(f: (org.scalaquery.session.PositionedParameters, Any) =&gt; Unit)org.scalaquery.util.SQLBuilder">+?=</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="org.scalaquery.session.PositionedParameters" id="114322">p</a>, <a title="Any" id="114323">param</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="Any" id="114324">v</a> = <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#114320" title="Int">idx</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a href="#114323" title="Any">param</a> <span class="keyword">else</span> <a href="#114323" title="Any">param</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Product" class="delimiter">[</span><span title="Product">Product</span><span class="delimiter">]</span>.<span title="(n: Int)Any">productElement</span><span class="delimiter">(</span><a href="#114320" title="Int">idx</a><span class="delimiter">)</span>
      <a href="#114318" title="org.scalaquery.ql.ParameterColumn[Any]">pc</a>.<a href="../ColumnBase.scala.html#78936" title="(v1: org.scalaquery.ql.basic.BasicProfile)org.scalaquery.ql.TypeMapperDelegate[Any]">typeMapper</a><span class="delimiter">(</span><a href="#103865" title="=&gt; org.scalaquery.ql.basic.BasicProfile">profile</a><span class="delimiter">)</span>.<a href="../TypeMapper.scala.html#79207" title="(v: Any, p: org.scalaquery.session.PositionedParameters)Unit">setValue</a><span class="delimiter">(</span><a href="#114324" title="Any">v</a>, <a href="#114322" title="org.scalaquery.session.PositionedParameters">p</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <a title="Unit" id="114330">c</a>: Case.<a href="../Case.scala.html#78889" title="org.scalaquery.ql.Case.CaseColumn[_]">CaseColumn</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(case&quot;)" class="string">&quot;(case&quot;</span>
      <a href="#114330" title="org.scalaquery.ql.Case.CaseColumn[_]">c</a>.<a href="../Case.scala.html#78970" title="=&gt; List[org.scalaquery.ql.Case.WhenNode]">clauses</a>.<span title="(z: Unit)(f: (org.scalaquery.ql.Case.WhenNode, Unit) =&gt; Unit)Unit">foldRight</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="org.scalaquery.ql.Case.WhenNode" id="114358">w</a>,<a title="Unit" id="114359">_</a><span class="delimiter">)</span> =&gt;
        <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; when &quot;)" class="string">&quot; when &quot;</span>
        <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114358" title="org.scalaquery.ql.Case.WhenNode">w</a>.<a href="../Case.scala.html#78918" title="=&gt; org.scalaquery.util.Node">left</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
        <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; then &quot;)" class="string">&quot; then &quot;</span>
        <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114358" title="org.scalaquery.ql.Case.WhenNode">w</a>.<a href="../Case.scala.html#78920" title="=&gt; org.scalaquery.util.Node">right</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#114330" title="org.scalaquery.ql.Case.CaseColumn[_]">c</a>.<a href="../Case.scala.html#78972" title="=&gt; org.scalaquery.util.Node">elseClause</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">ConstColumn</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> =&gt;
        <span class="keyword">case</span> <a title="Unit" id="114378">n</a> =&gt;
          <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; else &quot;)" class="string">&quot; else &quot;</span>
          <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114378" title="org.scalaquery.util.Node">n</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; end)&quot;)" class="string">&quot; end)&quot;</span>
    <span class="keyword">case</span> <a title="Unit" id="114391">n</a>: <a href="../ColumnBase.scala.html#9819" title="org.scalaquery.ql.NamedColumn[_]">NamedColumn</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#103891" title="(n: org.scalaquery.util.Node)String">localTableName</a><span class="delimiter">(</span><a href="#114391" title="org.scalaquery.ql.NamedColumn[_]">n</a>.<a href="../ColumnBase.scala.html#80453" title="=&gt; org.scalaquery.util.Node">table</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\'.\')" class="char">'.'</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#114391" title="org.scalaquery.ql.NamedColumn[_]">n</a>.<a href="../ColumnBase.scala.html#80455" title="=&gt; String">name</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">SubqueryColumn</span><span class="delimiter">(</span><a title="Int" id="114405">pos</a>, <a title="org.scalaquery.ql.Subquery" id="114406">sq</a>, _<span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#103891" title="(n: org.scalaquery.util.Node)String">localTableName</a><span class="delimiter">(</span><a href="#114406" title="org.scalaquery.ql.Subquery">sq</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><span title="java.lang.String(&quot;c&quot;)" class="string">&quot;c&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#114405" title="Int">pos</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Unit" id="114423">sq</a> @ Subquery<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#103891" title="(n: org.scalaquery.util.Node)String">localTableName</a><span class="delimiter">(</span><a href="#114423" title="org.scalaquery.ql.Subquery">sq</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span>
    <span class="keyword">case</span> <a title="Unit" id="114432">a</a> @ AbstractTable.Alias<span class="delimiter">(</span><a title="&lt;none&gt; extends org.scalaquery.util.Node with org.scalaquery.util.WithOp" id="114433">t</a>: <a href="../../util/WithOp.scala.html#10762" title="org.scalaquery.util.WithOp">WithOp</a><span class="delimiter">)</span> =&gt; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114433" title="&lt;none&gt; extends org.scalaquery.util.Node with org.scalaquery.util.WithOp">t</a>.<a href="../../util/WithOp.scala.html#78983" title="(f: org.scalaquery.util.Node =&gt; org.scalaquery.util.Node)t.type">mapOp</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114440">_</a> =&gt; <a href="#114432" title="org.scalaquery.ql.AbstractTable.Alias">a</a><span class="delimiter">)</span>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Unit" id="114441">t</a>: <a href="../TableBase.scala.html#10263" title="org.scalaquery.ql.AbstractTable[_]">AbstractTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#114441" title="org.scalaquery.ql.AbstractTable[_]">t</a>.<a href="../TableBase.scala.html#84562" title="=&gt; org.scalaquery.ql.ColumnBase[_]">*</a><span class="delimiter">)</span>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Unit" id="114447">t</a>: <a href="../TableBase.scala.html#10261" title="org.scalaquery.ql.TableBase[_]">TableBase</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#103891" title="(n: org.scalaquery.util.Node)String">localTableName</a><span class="delimiter">(</span><a href="#114447" title="org.scalaquery.ql.TableBase[_]">t</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span>
    <span class="keyword">case</span> <a title="Unit" id="114457">fk</a>: <a href="../Constraint.scala.html#9844" title="org.scalaquery.ql.ForeignKey[_]">ForeignKey</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;((&quot;)" class="string">&quot;((&quot;</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114457" title="org.scalaquery.ql.ForeignKey[_]">fk</a>.<a href="../Constraint.scala.html#84543" title="=&gt; org.scalaquery.util.Node">left</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;)=(&quot;)" class="string">&quot;)=(&quot;</span>; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114457" title="org.scalaquery.ql.ForeignKey[_]">fk</a>.<a href="../Constraint.scala.html#84545" title="=&gt; org.scalaquery.util.Node">right</a>, <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#113859" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;))&quot;)" class="string">&quot;))&quot;</span>
    <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Don\'t know what to do with node \&quot;&quot;)" class="string">&quot;Don't know what to do with node \&quot;&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#113858" title="org.scalaquery.util.Node">c</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\&quot; in an expression&quot;)" class="string">&quot;\&quot; in an expression&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="103909">appendConditions</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="112769">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79928" title="=&gt; List[org.scalaquery.ql.Column[_]]">cond</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt;
    <span class="keyword">case</span> <a title="Unit" id="114482">xs</a> =&gt; <a href="#112769" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; WHERE &quot;)" class="string">&quot; WHERE &quot;</span>; <a href="#112769" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103846" title="(sequence: Traversable[org.scalaquery.ql.Column[_]], separator: String)(f: org.scalaquery.ql.Column[_] =&gt; Unit)Unit">sep</a><span class="delimiter">(</span><a href="#114482" title="List[org.scalaquery.ql.Column[_]]">xs</a>, <span title="java.lang.String(&quot; AND &quot;)" class="string">&quot; AND &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.scalaquery.ql.Column[_]" id="114502">x</a> =&gt; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#114502" title="org.scalaquery.ql.Column[_]">x</a><span class="delimiter">)</span>, <a href="#112769" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(b: org.scalaquery.util.SQLBuilder)Unit" id="103910">appendHavingConditions</a><span class="delimiter">(</span><a title="org.scalaquery.util.SQLBuilder" id="113608">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#103867" title="=&gt; org.scalaquery.ql.Query[_]">query</a>.<a href="../Query.scala.html#79930" title="=&gt; List[org.scalaquery.ql.Column[_]]">condHaving</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt;
    <span class="keyword">case</span> <a title="Unit" id="114509">xs</a> =&gt; <a href="#113608" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; HAVING &quot;)" class="string">&quot; HAVING &quot;</span>; <a href="#113608" title="org.scalaquery.util.SQLBuilder">b</a>.<a href="../../util/SQLBuilder.scala.html#103846" title="(sequence: Traversable[org.scalaquery.ql.Column[_]], separator: String)(f: org.scalaquery.ql.Column[_] =&gt; Unit)Unit">sep</a><span class="delimiter">(</span><a href="#114509" title="List[org.scalaquery.ql.Column[_]]">xs</a>, <span title="java.lang.String(&quot; AND &quot;)" class="string">&quot; AND &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.scalaquery.ql.Column[_]" id="114529">x</a> =&gt; <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#114529" title="org.scalaquery.ql.Column[_]">x</a><span class="delimiter">)</span>, <a href="#113608" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="103911">insertAllFromClauses</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#103879" title="=&gt; org.scalaquery.util.SQLBuilder">fromSlot</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#103912" title="()Unit">insertFromClauses</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">for</span><span class="delimiter">(</span><a title="BasicQueryBuilder.this.Self" id="114546">qb</a> &lt;- <a href="#103876" title="=&gt; scala.collection.mutable.HashMap[org.scalaquery.util.RefId[org.scalaquery.ql.Query[_]],BasicQueryBuilder.this.Self]">subQueryBuilders</a>.<span title="(f: BasicQueryBuilder.this.Self =&gt; Unit)Unit">valuesIterator</span><span class="delimiter">)</span>
      <a href="#114546" title="BasicQueryBuilder.this.Self">qb</a>.<a href="#103911" title="()Unit">insertAllFromClauses</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="103912">insertFromClauses</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Boolean" id="114548">first</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">for</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="114619">name</a>, <a title="org.scalaquery.util.Node" id="114620">t</a><span class="delimiter">)</span> &lt;- <span title="()scala.collection.mutable.HashMap[String,org.scalaquery.util.Node]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,org.scalaquery.util.Node]">HashMap</span> <a href="#114581" title="(f: (String, org.scalaquery.util.Node) =&gt; Any)Unit">++=</a> <a href="#103872" title="=&gt; scala.collection.mutable.HashMap[String,org.scalaquery.util.Node]">localTables</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#112928" title="Option[org.scalaquery.ql.basic.BasicQueryBuilder]">parent</a>.<span title="(f: org.scalaquery.ql.basic.BasicQueryBuilder =&gt; Boolean)Option[Boolean]">map</span><span class="delimiter">(</span><a href="#114624" title="org.scalaquery.ql.basic.BasicQueryBuilder">_</a>.<a href="#103892" title="(name: String)Boolean">isDeclaredTable</a><span class="delimiter">(</span><a href="#114619" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#114548" title="Boolean">first</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#103879" title="=&gt; org.scalaquery.util.SQLBuilder">fromSlot</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; FROM &quot;)" class="string">&quot; FROM &quot;</span>; <a href="#114548" title="Boolean">first</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#103879" title="=&gt; org.scalaquery.util.SQLBuilder">fromSlot</a> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\',\')" class="char">','</span>
        <a href="#103913" title="(t: org.scalaquery.util.Node, name: String, b: org.scalaquery.util.SQLBuilder)Unit">table</a><span class="delimiter">(</span><a href="#114620" title="org.scalaquery.util.Node">t</a>, <a href="#114619" title="String">name</a>, <a href="#103879" title="=&gt; org.scalaquery.util.SQLBuilder">fromSlot</a><span class="delimiter">)</span>
        <a href="#103874" title="=&gt; scala.collection.mutable.HashSet[String]">declaredTables</a> <span title="(elem: String)BasicQueryBuilder.this.declaredTables.type">+=</span> <a href="#114619" title="String">name</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#103879" title="=&gt; org.scalaquery.util.SQLBuilder">fromSlot</a>.<a href="../../util/SQLBuilder.scala.html#103849" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#103889" title="=&gt; Option[String]">scalarFrom</a>.<span title="(f: String =&gt; org.scalaquery.util.SQLBuilder)Unit">foreach</span><span class="delimiter">(</span><a title="String" id="114719">s</a> =&gt; <a href="#103879" title="=&gt; org.scalaquery.util.SQLBuilder">fromSlot</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; FROM &quot;)" class="string">&quot; FROM &quot;</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="#114719" title="String">s</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(t: org.scalaquery.util.Node, name: String, b: org.scalaquery.util.SQLBuilder)Unit" id="103913">table</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114646">t</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a>, <a title="String" id="114647">name</a>: <span title="String">String</span>, <a title="org.scalaquery.util.SQLBuilder" id="114648">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#114646" title="org.scalaquery.util.Node">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">AbstractTable</span>.Alias<span class="delimiter">(</span><a title="org.scalaquery.ql.AbstractTable[_]" id="114729">base</a>: <a href="../TableBase.scala.html#10263" title="org.scalaquery.ql.AbstractTable[_]">AbstractTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
      <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#114729" title="org.scalaquery.ql.AbstractTable[_]">base</a>.<a href="../TableBase.scala.html#84557" title="=&gt; String">tableName</a><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\' \')" class="char">' '</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#114647" title="String">name</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Unit" id="114743">base</a>: <a href="../TableBase.scala.html#10263" title="org.scalaquery.ql.AbstractTable[_]">AbstractTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
      <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#114743" title="org.scalaquery.ql.AbstractTable[_]">base</a>.<a href="../TableBase.scala.html#84557" title="=&gt; String">tableName</a><span class="delimiter">)</span> <a href="../../util/SQLBuilder.scala.html#103843" title="(c: Char)org.scalaquery.util.SQLBuilder">+=</a> <span title="Char(\' \')" class="char">' '</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#114647" title="String">name</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">Subquery</span><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="114757">sq</a>: <a href="../Query.scala.html#10200" title="org.scalaquery.ql.Query[_]">Query</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Boolean" id="114759">rename</a><span class="delimiter">)</span> =&gt;
      <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>; <a href="#103893" title="(q: org.scalaquery.ql.Query[_])BasicQueryBuilder.this.Self">subQueryBuilderFor</a><span class="delimiter">(</span><a href="#114757" title="org.scalaquery.ql.Query[_]">sq</a><span class="delimiter">)</span>.<a href="#103897" title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit">innerBuildSelect</a><span class="delimiter">(</span><a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#114759" title="Boolean">rename</a><span class="delimiter">)</span>; <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) &quot;)" class="string">&quot;) &quot;</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#114647" title="String">name</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">Subquery</span><span class="delimiter">(</span>Union<span class="delimiter">(</span><a title="Boolean" id="114773">all</a>, <a title="List[org.scalaquery.ql.Query[_]]" id="114774">sqs</a><span class="delimiter">)</span>, <a title="Boolean" id="114775">rename</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>
      <span class="keyword">var</span> <a title="Boolean" id="114776">first</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="org.scalaquery.ql.Query[_]" id="114800">sq</a> &lt;- <a href="#114774" title="(f: org.scalaquery.ql.Query[_] =&gt; Unit)Unit">sqs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#114776" title="Boolean">first</a><span class="delimiter">)</span> <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#114773" title="Boolean">all</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; UNION ALL &quot;)" class="string">&quot; UNION ALL &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; UNION &quot;)" class="string">&quot; UNION &quot;</span><span class="delimiter">)</span>
        <a href="#103893" title="(q: org.scalaquery.ql.Query[_])BasicQueryBuilder.this.Self">subQueryBuilderFor</a><span class="delimiter">(</span><a href="#114800" title="org.scalaquery.ql.Query[_]">sq</a><span class="delimiter">)</span>.<a href="#103897" title="(b: org.scalaquery.util.SQLBuilder, rename: Boolean)Unit">innerBuildSelect</a><span class="delimiter">(</span><a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a>, <a href="#114776" title="Boolean">first</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#114775" title="Boolean">rename</a><span class="delimiter">)</span>
        <a href="#114776" title="Boolean">first</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
      <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;) &quot;)" class="string">&quot;) &quot;</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="BasicSQLUtils.scala.html#107847" title="(id: String)String">quoteIdentifier</a><span class="delimiter">(</span><a href="#114647" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <a title="Unit" id="114824">j</a>: <a href="../TableBase.scala.html#10270" title="org.scalaquery.ql.Join[_,_]">Join</a><span class="delimiter">[</span>_,_<span class="delimiter">]</span> =&gt;
      <span class="comment">/* There is no way to write all nested joins (if they are supported at all) properly in a
       * database-independent way because the {oj...} escape syntax does not support inner joins.
       * We let the first join determine the syntax and hope for the best. */</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#114824" title="org.scalaquery.ql.Join[_,_]">j</a>.<a href="../TableBase.scala.html#106761" title="=&gt; org.scalaquery.ql.Join.JoinType">joinType</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../TableBase.scala.html#10273" title="object org.scalaquery.ql.Join">Join</a>.<a href="../TableBase.scala.html#106718" title="object org.scalaquery.ql.Join.Inner">Inner</a><span class="delimiter">)</span> <a href="#103914" title="(j: org.scalaquery.ql.Join[_, _], b: org.scalaquery.util.SQLBuilder)Unit">createJoin</a><span class="delimiter">(</span><a href="#114824" title="org.scalaquery.ql.Join[_,_]">j</a>, <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;{oj &quot;)" class="string">&quot;{oj &quot;</span>; <a href="#103914" title="(j: org.scalaquery.ql.Join[_, _], b: org.scalaquery.util.SQLBuilder)Unit">createJoin</a><span class="delimiter">(</span><a href="#114824" title="org.scalaquery.ql.Join[_,_]">j</a>, <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>; <a href="#114648" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(j: org.scalaquery.ql.Join[_, _], b: org.scalaquery.util.SQLBuilder)Unit" id="103914">createJoin</a><span class="delimiter">(</span><a title="org.scalaquery.ql.Join[_, _]" id="114835">j</a>: <a href="../TableBase.scala.html#10270" title="org.scalaquery.ql.Join[_, _]">Join</a><span class="delimiter">[</span>_,_<span class="delimiter">]</span>, <a title="org.scalaquery.util.SQLBuilder" id="114836">b</a>: <a href="../../util/SQLBuilder.scala.html#10756" title="org.scalaquery.util.SQLBuilder">SQLBuilder</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.scalaquery.util.Node" id="114856">l</a> = <a href="#114835" title="org.scalaquery.ql.Join[_, _]">j</a>.<a href="../TableBase.scala.html#106768" title="=&gt; org.scalaquery.util.Node">leftNode</a>
    <span class="keyword">val</span> <a title="org.scalaquery.util.Node" id="114857">r</a> = <a href="#114835" title="org.scalaquery.ql.Join[_, _]">j</a>.<a href="../TableBase.scala.html#106769" title="=&gt; org.scalaquery.util.Node">rightNode</a>
    <a href="#103913" title="(t: org.scalaquery.util.Node, name: String, b: org.scalaquery.util.SQLBuilder)Unit">table</a><span class="delimiter">(</span><a href="#114856" title="org.scalaquery.util.Node">l</a>, <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108932" title="(t: org.scalaquery.util.Node)String">nameFor</a><span class="delimiter">(</span><a href="#114856" title="org.scalaquery.util.Node">l</a><span class="delimiter">)</span>, <a href="#114836" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <a href="#114836" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <a href="#114835" title="org.scalaquery.ql.Join[_, _]">j</a>.<a href="../TableBase.scala.html#106761" title="=&gt; org.scalaquery.ql.Join.JoinType">joinType</a>.<a href="../TableBase.scala.html#106727" title="=&gt; String">sqlName</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; join &quot;)" class="string">&quot; join &quot;</span>
    <a href="#114857" title="org.scalaquery.util.Node">r</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Unit" id="114870">rj</a>: <a href="../TableBase.scala.html#10270" title="org.scalaquery.ql.Join[_,_]">Join</a><span class="delimiter">[</span>_,_<span class="delimiter">]</span> =&gt; <a href="#103914" title="(j: org.scalaquery.ql.Join[_, _], b: org.scalaquery.util.SQLBuilder)Unit">createJoin</a><span class="delimiter">(</span><a href="#114870" title="org.scalaquery.ql.Join[_,_]">rj</a>, <a href="#114836" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#103913" title="(t: org.scalaquery.util.Node, name: String, b: org.scalaquery.util.SQLBuilder)Unit">table</a><span class="delimiter">(</span><a href="#114857" title="org.scalaquery.util.Node">r</a>, <a href="#103870" title="=&gt; org.scalaquery.util.NamingContext">nc</a>.<a href="../../util/NamingContext.scala.html#108932" title="(t: org.scalaquery.util.Node)String">nameFor</a><span class="delimiter">(</span><a href="#114857" title="org.scalaquery.util.Node">r</a><span class="delimiter">)</span>, <a href="#114836" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#114836" title="org.scalaquery.util.SQLBuilder">b</a> <a href="../../util/SQLBuilder.scala.html#103840" title="(s: String)org.scalaquery.util.SQLBuilder">+=</a> <span title="java.lang.String(&quot; on &quot;)" class="string">&quot; on &quot;</span>
    <a href="#103906" title="(c: org.scalaquery.util.Node, b: org.scalaquery.util.SQLBuilder)Unit">expr</a><span class="delimiter">(</span><a href="#114835" title="org.scalaquery.ql.Join[_, _]">j</a>.<a href="../TableBase.scala.html#106763" title="=&gt; org.scalaquery.util.Node">on</a>, <a href="#114836" title="org.scalaquery.util.SQLBuilder">b</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(columns: org.scalaquery.util.Node)List[org.scalaquery.util.Node]" id="103915">untupleColumn</a><span class="delimiter">(</span><a title="org.scalaquery.util.Node" id="114887">columns</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[org.scalaquery.util.Node]" id="114890">l</a> = <span title="scala.collection.mutable.ListBuffer[org.scalaquery.util.Node]" class="keyword">new</span> scala.collection.mutable.<span title="scala.collection.mutable.ListBuffer[org.scalaquery.util.Node]">ListBuffer</span><span class="delimiter">[</span>Node<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(c: Any)Unit" id="114891">f</a><span class="delimiter">(</span><a title="Any" id="115213">c</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#115213" title="Any">c</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Unit" id="115214">p</a>:<a href="../Projection.scala.html#9912" title="org.scalaquery.ql.Projection[_]">Projection</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
        <span class="keyword">for</span><span class="delimiter">(</span><a title="Int" id="115358">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#115214" title="org.scalaquery.ql.Projection[_]">p</a>.<span title="=&gt; Int">productArity</span><span class="delimiter">)</span>
          <a href="#114891" title="(c: Any)Unit">f</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#115214" title="org.scalaquery.ql.Projection[_]">p</a>.<span title="(n: Int)Any">productElement</span><span class="delimiter">(</span><a href="#115358" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Unit" id="115360">t</a>:<a href="../TableBase.scala.html#10263" title="org.scalaquery.ql.AbstractTable[_]">AbstractTable</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#114891" title="(c: Any)Unit">f</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#115360" title="org.scalaquery.ql.AbstractTable[_]">t</a>.<a href="../TableBase.scala.html#84562" title="=&gt; org.scalaquery.ql.ColumnBase[_]">*</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Unit" id="115362">n</a>: <a href="../../util/Node.scala.html#10735" title="org.scalaquery.util.Node">Node</a> =&gt; <a href="#114890" title="scala.collection.mutable.ListBuffer[org.scalaquery.util.Node]">l</a> <span title="(x: org.scalaquery.util.Node)l.type">+=</span> <a href="#115362" title="org.scalaquery.util.Node">n</a>
      <span class="keyword">case</span> <a title="Nothing" id="115373">v</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="../../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot untuple non-Node value &quot;)" class="string">&quot;Cannot untuple non-Node value &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#115373" title="Any">v</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#114891" title="(c: Any)Unit">f</a><span class="delimiter">(</span><a href="../../util/Node.scala.html#79027" title="(o: Any)org.scalaquery.util.Node">Node</a><span class="delimiter">(</span><a href="#114887" title="org.scalaquery.util.Node">columns</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#114890" title="scala.collection.mutable.ListBuffer[org.scalaquery.util.Node]">l</a>.<span title="=&gt; List[org.scalaquery.util.Node]">toList</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>