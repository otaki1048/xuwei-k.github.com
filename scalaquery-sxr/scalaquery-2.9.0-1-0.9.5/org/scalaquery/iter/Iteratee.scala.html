<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/scalaquery/iter/Iteratee.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> org.scalaquery.iter

<span class="keyword">import</span> org.scalaquery.SQueryException

<span class="comment">/**
 * An iteratee for DB results.
 */</span>

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait IterV[E, +A] extends java.lang.Object with ScalaObject" id="9566">IterV</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="9567">E</a>, +<a title="&gt;: Nothing &lt;: Any" id="9568">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Option[A]" id="24613">runOption</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; A" id="24614">run</a> = <a href="#24613" title="=&gt; Option[A]">runOption</a>.<span title="(default: =&gt; A)A">getOrElse</span><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="../SQueryException.scala.html#25911" title="org.scalaquery.SQueryException" class="keyword">new</a> <a href="../SQueryException.scala.html#9548" title="org.scalaquery.SQueryException">SQueryException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Diverging iteratee&quot;)" class="string">&quot;Diverging iteratee&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)org.scalaquery.iter.IterV[E,B]" id="24615">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24617">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="28566">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#9566" title="org.scalaquery.iter.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; org.scalaquery.iter.IterV[E,B])org.scalaquery.iter.IterV[E,B]" id="24618">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24620">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; org.scalaquery.iter.IterV[E,B]" id="28569">f</a>: A =&gt; IterV<span class="delimiter">[</span>E, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9566" title="org.scalaquery.iter.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Done[E, +A] extends java.lang.Object with org.scalaquery.iter.IterV[E,A] with ScalaObject with Product with Serializable" id="29063">Done</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="28582">E</a>, +<a title="&gt;: Nothing &lt;: Any" id="28583">A</a><span class="delimiter">]</span><a href="#29063" title="ScalaObject" class="delimiter">(</a><a title="A" id="28610">a</a>: <a href="#28583" title="A">A</a>, <a title="org.scalaquery.iter.Input[E]" id="28611">e</a>: <a href="#9579" title="org.scalaquery.iter.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> = <a href="#29018" title="object org.scalaquery.iter.Empty">Empty</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9566" title="org.scalaquery.iter.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Some[A]" id="24637">runOption</a> = <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#28610" title="=&gt; A">a</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)org.scalaquery.iter.IterV[E,B]" id="24638">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24640">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="28604">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#9566" title="org.scalaquery.iter.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span> = <a href="#29063" title="(a: B, e: org.scalaquery.iter.Input[E])org.scalaquery.iter.Done[E,B]">Done</a><span class="delimiter">(</span><a href="#28604" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#28610" title="=&gt; A">a</a><span class="delimiter">)</span>, <a href="#28611" title="=&gt; org.scalaquery.iter.Input[E]">e</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; org.scalaquery.iter.IterV[E,B])org.scalaquery.iter.IterV[E,B]" id="24641">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24643">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; org.scalaquery.iter.IterV[E,B]" id="28627">f</a>: A =&gt; IterV<span class="delimiter">[</span>E, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#28627" title="(v1: A)org.scalaquery.iter.IterV[E,B]">f</a><span class="delimiter">(</span><a href="#28610" title="=&gt; A">a</a><span class="delimiter">)</span> <span title="org.scalaquery.iter.IterV[E,B]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="org.scalaquery.iter.Done[E,B]">Done</span><span class="delimiter">(</span><a title="B" id="28663">x</a>, _<span class="delimiter">)</span> =&gt; <a href="#29063" title="(a: B, e: org.scalaquery.iter.Input[E])org.scalaquery.iter.Done[E,B]">Done</a><span class="delimiter">(</span><a href="#28663" title="B">x</a>, <a href="#28611" title="=&gt; org.scalaquery.iter.Input[E]">e</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="org.scalaquery.iter.IterV[E,B]">Cont</span><span class="delimiter">(</span><a title="org.scalaquery.iter.Input[E] =&gt; org.scalaquery.iter.IterV[E,B]" id="28690">k</a><span class="delimiter">)</span> =&gt; <a href="#28690" title="(v1: org.scalaquery.iter.Input[E])org.scalaquery.iter.IterV[E,B]">k</a><span class="delimiter">(</span><a href="#28611" title="=&gt; org.scalaquery.iter.Input[E]">e</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Cont[E, +A] extends java.lang.Object with org.scalaquery.iter.IterV[E,A] with ScalaObject with Product with Serializable" id="24672">Cont</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24675">E</a>, +<a title="&gt;: Nothing &lt;: Any" id="24676">A</a><span class="delimiter">]</span><a href="#24672" title="ScalaObject" class="delimiter">(</a><a title="org.scalaquery.iter.Input[E] =&gt; org.scalaquery.iter.IterV[E,A]" id="28856">k</a>: Cont.<span title="org.scalaquery.iter.Input[E] =&gt; org.scalaquery.iter.IterV[E,A]">K</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9566" title="org.scalaquery.iter.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Option[A]" id="24656">runOption</a> = <a href="#28856" title="(v1: org.scalaquery.iter.Input[E])org.scalaquery.iter.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#29046" title="object org.scalaquery.iter.EOF">EOF</a><span class="delimiter">)</span> <span title="Option[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[A]">Done</span><span class="delimiter">(</span><a title="A" id="28846">a</a>, _<span class="delimiter">)</span> =&gt; <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#28846" title="A">a</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">Cont</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)org.scalaquery.iter.IterV[E,B]" id="24657">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24659">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="28850">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#9566" title="org.scalaquery.iter.IterV[E,B]">IterV</a><span class="delimiter">[</span>E, B<span class="delimiter">]</span> = <a href="#24672" title="(k: org.scalaquery.iter.Input[E] =&gt; org.scalaquery.iter.IterV[E,B])org.scalaquery.iter.Cont[E,B]">Cont</a> <span class="delimiter">{</span> <a title="org.scalaquery.iter.Input[E]" id="28863">i</a> =&gt; <a href="#28856" title="(v1: org.scalaquery.iter.Input[E])org.scalaquery.iter.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#28863" title="org.scalaquery.iter.Input[E]">i</a><span class="delimiter">)</span>.<a href="#24615" title="(f: A =&gt; B)org.scalaquery.iter.IterV[E,B]">map</a><span class="delimiter">(</span><a href="#28850" title="A =&gt; B">f</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; org.scalaquery.iter.IterV[E,B])org.scalaquery.iter.Cont[E,B]" id="24660">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24662">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; org.scalaquery.iter.IterV[E,B]" id="28869">f</a>: A =&gt; IterV<span class="delimiter">[</span>E, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#24672" title="(k: org.scalaquery.iter.Input[E] =&gt; org.scalaquery.iter.IterV[E,B])org.scalaquery.iter.Cont[E,B]">Cont</a> <span class="delimiter">{</span> <a title="org.scalaquery.iter.Input[E]" id="28882">i</a> =&gt; <a href="#28856" title="(v1: org.scalaquery.iter.Input[E])org.scalaquery.iter.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#28882" title="org.scalaquery.iter.Input[E]">i</a><span class="delimiter">)</span>.<a href="#24618" title="(f: A =&gt; org.scalaquery.iter.IterV[E,B])org.scalaquery.iter.IterV[E,B]">flatMap</a><span class="delimiter">(</span><a href="#28869" title="A =&gt; org.scalaquery.iter.IterV[E,B]">f</a><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object org.scalaquery.iter.Cont" id="28921">Cont</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[E, +A]org.scalaquery.iter.Input[E] =&gt; org.scalaquery.iter.IterV[E,A]" id="24669">K</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24670">E</a>, +<a title="&gt;: Nothing &lt;: Any" id="24671">A</a><span class="delimiter">]</span> = Input<span class="delimiter">[</span>E<span class="delimiter">]</span> =&gt; IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Input[+E] extends java.lang.Object" id="9579">Input</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="9580">E</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[R](el: E =&gt; R, empty: =&gt; R, eof: =&gt; R)R" id="24688">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24690">R</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="E =&gt; R" id="28923">el</a>: E =&gt; R, <a title="=&gt; R" id="28924">empty</a>: =&gt; R, <a title="=&gt; R" id="28925">eof</a>: =&gt; R<span class="delimiter">)</span>: <a href="#24690" title="R">R</a>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class El[+E] extends java.lang.Object with org.scalaquery.iter.Input[E] with ScalaObject with Product with Serializable" id="29051">El</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="24687">E</a><span class="delimiter">]</span><a href="#29051" title="ScalaObject" class="delimiter">(</a><a title="E" id="24704">e</a>: <a href="#24687" title="E">E</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9579" title="org.scalaquery.iter.Input[E]">Input</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[R](el: E =&gt; R, empty: =&gt; R, eof: =&gt; R)R" id="24695">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24697">R</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="E =&gt; R" id="28932">el</a>: E =&gt; R, <a title="=&gt; R" id="28933">empty</a>: =&gt; R, <a title="=&gt; R" id="28934">eof</a>: =&gt; R<span class="delimiter">)</span>: <a href="#24697" title="R">R</a> = <a href="#28932" title="(v1: E)R">el</a><span class="delimiter">(</span><a href="#24704" title="=&gt; E">e</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

case <span class="keyword">object</span> <a href="#29013" title="object org.scalaquery.iter.Empty" id="29018">Empty</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9579" title="org.scalaquery.iter.Input[Nothing]">Input</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[R](el: Nothing =&gt; R, empty: =&gt; R, eof: =&gt; R)R" id="28595">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="28597">R</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Nothing =&gt; R" id="28992">el</a>: Nothing =&gt; R, <a title="=&gt; R" id="28993">empty</a>: =&gt; R, <a title="=&gt; R" id="28994">eof</a>: =&gt; R<span class="delimiter">)</span>: <a href="#28597" title="R">R</a> = <a href="#28994" title="=&gt; R">eof</a>
<span class="delimiter">}</span>

case <span class="keyword">object</span> <a href="#29041" title="object org.scalaquery.iter.EOF" id="29046">EOF</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9579" title="org.scalaquery.iter.Input[Nothing]">Input</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[R](el: Nothing =&gt; R, empty: =&gt; R, eof: =&gt; R)R" id="28841">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="28843">R</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Nothing =&gt; R" id="29020">el</a>: Nothing =&gt; R, <a title="=&gt; R" id="29021">empty</a>: =&gt; R, <a title="=&gt; R" id="29022">eof</a>: =&gt; R<span class="delimiter">)</span>: <a href="#28843" title="R">R</a> = <a href="#29022" title="=&gt; R">eof</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>