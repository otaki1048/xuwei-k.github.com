<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>core/requests.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> dispatch

<span class="keyword">import</span> org.apache.http.message.BasicHttpRequest
<span class="keyword">import</span> org.apache.http.<span class="delimiter">{</span>HttpEntity,HttpHost,HttpRequest<span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.http.util.EntityUtils
<span class="keyword">import</span> org.apache.http.entity.StringEntity
<span class="keyword">import</span> java.net.URI

<span class="keyword">object</span> <a title="object dispatch.Request" id="9508">Request</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9511" title="dispatch.Encoders">Encoders</a>
    <span class="keyword">with</span> <a href="#9512" title="dispatch.ImplicitRequestVerbs">ImplicitRequestVerbs</a>
    <span class="keyword">with</span> <a href="handlers.scala.html#9488" title="dispatch.ImplicitHandlerVerbs">ImplicitHandlerVerbs</a> 
    <span class="keyword">with</span> <a href="callbacks.scala.html#9457" title="dispatch.ImplicitCallbackVerbs">ImplicitCallbackVerbs</a> <span class="delimiter">{</span>
  <span class="comment">/** Dispatch's factory-default charset, utf-8 */</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="21860">factoryCharset</a> = org.apache.http.protocol.HTTP.<span title="java.lang.String(&quot;UTF-8&quot;)">UTF_8</span>
  <span class="comment">/** Headers lists in reverse order */</span>
  <span class="keyword">type</span> <a title="List[(String, String)]" id="21862">Headers</a> = <span title="List[(String, String)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit dispatch.Request.strToRequest : (str: String)dispatch.Request" id="21863">strToRequest</a><span class="delimiter">(</span><a title="String" id="32261">str</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#13144" title="(str: String)dispatch.Request" class="keyword">new</a> <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">(</span><a href="#32261" title="String">str</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(uristr: String)org.apache.http.HttpHost" id="21864">to_host</a><span class="delimiter">(</span><a title="String" id="32268">uristr</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.net.URI" id="32271">uri</a> = <span title="object java.net.URI">URI</span>.<span title="(x$1: java.lang.String)java.net.URI">create</span><span class="delimiter">(</span><a href="#32268" title="String">uristr</a><span class="delimiter">)</span>
    <span title="org.apache.http.HttpHost" class="keyword">new</span> <span title="org.apache.http.HttpHost">HttpHost</span><span class="delimiter">(</span><a href="#32271" title="java.net.URI">uri</a>.<span title="()java.lang.String">getHost</span>, <a href="#32271" title="java.net.URI">uri</a>.<span title="()Int">getPort</span>, <a href="#32271" title="java.net.URI">uri</a>.<span title="()java.lang.String">getScheme</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(uristr: String)java.lang.String" id="21865">to_path</a><span class="delimiter">(</span><a title="String" id="32276">uristr</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.net.URI" id="32279">uri</a> = <span title="object java.net.URI">URI</span>.<span title="(x$1: java.lang.String)java.net.URI">create</span><span class="delimiter">(</span><a href="#32276" title="String">uristr</a><span class="delimiter">)</span>
    <span class="delimiter">(</span><span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: java.lang.String, x$4: java.lang.String, x$5: java.lang.String)java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <a href="#32279" title="java.net.URI">uri</a>.<span title="()java.lang.String">getPath</span>, <a href="#32279" title="java.net.URI">uri</a>.<span title="()java.lang.String">getQuery</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="21866">defaultCharset</a> = <a href="#21860" title="=&gt; java.lang.String">factoryCharset</a>
<span class="delimiter">}</span>

<span class="comment">/** Request descriptor, possibly contains a host, credentials, and a list of transformation functions. */</span>
<span class="keyword">class</span> <a title="class Request extends java.lang.Object with dispatch.Encoders with ScalaObject" id="9510">Request</a><a href="#9510" title="ScalaObject" class="delimiter">(</a>
  <span class="keyword">val</span> <a title="org.apache.http.HttpHost" id="24748">host</a>: <span title="org.apache.http.HttpHost">HttpHost</span>, 
  <span class="keyword">val</span> <a title="Option[dispatch.Credentials]" id="24749">creds</a>: <span title="Option[dispatch.Credentials]">Option</span><span class="delimiter">[</span>Credentials<span class="delimiter">]</span>, 
  <span class="keyword">val</span> <a title="String" id="24750">method</a>: <span title="String">String</span>,
  <span class="keyword">val</span> <a title="String" id="24751">path</a>: <span title="String">String</span>,
  <span class="keyword">val</span> <a title="dispatch.Request.Headers" id="24752">headers</a>: Request.<span title="dispatch.Request.Headers">Headers</span>,
  <span class="keyword">val</span> <a title="Option[org.apache.http.HttpEntity]" id="24753">body</a>: <span title="Option[org.apache.http.HttpEntity]">Option</span><span class="delimiter">[</span>HttpEntity<span class="delimiter">]</span>,
  <span class="keyword">val</span> <a title="String" id="24754">defaultCharset</a>: <span title="String">String</span>
<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9511" title="dispatch.Encoders">Encoders</a> <span class="delimiter">{</span>
  <span class="comment">/** Construct with path or full URI. */</span>
  <span class="keyword">def</span> <a title="(str: String)dispatch.Request" id="13144" class="keyword">this</a><span class="delimiter">(</span><a title="String" id="24747">str</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span>
    <a href="#9510" title="Request.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#9508" title="object dispatch.Request">Request</a>.<a href="#21864" title="(uristr: String)org.apache.http.HttpHost">to_host</a><span class="delimiter">(</span><a href="#24747" title="String">str</a><span class="delimiter">)</span>, <span title="object None">None</span>, <span title="java.lang.String(&quot;GET&quot;)" class="string">&quot;GET&quot;</span>, <a href="#9508" title="object dispatch.Request">Request</a>.<a href="#21865" title="(uristr: String)java.lang.String">to_path</a><span class="delimiter">(</span><a href="#24747" title="String">str</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span>, <span title="object None">None</span>, <a href="#9508" title="object dispatch.Request">Request</a>.<a href="#21860" title="=&gt; java.lang.String">factoryCharset</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Construct with host only. */</span>
  <span class="keyword">def</span> <a title="(host: org.apache.http.HttpHost)dispatch.Request" id="13145" class="keyword">this</a><span class="delimiter">(</span><a title="org.apache.http.HttpHost" id="24720">host</a>: <span title="org.apache.http.HttpHost">HttpHost</span><span class="delimiter">)</span> = <a href="#9510" title="Request.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#24720" title="org.apache.http.HttpHost">host</a>, <span title="object None">None</span>, <span title="java.lang.String(&quot;GET&quot;)" class="string">&quot;GET&quot;</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <span title="object Nil">Nil</span>, <span title="object None">None</span>, <a href="#9508" title="object dispatch.Request">Request</a>.<a href="#21860" title="=&gt; java.lang.String">factoryCharset</a><span class="delimiter">)</span>

  <span class="comment">/** Construct as a clone, e.g. in class extends clause. */</span>
  <span class="keyword">def</span> <a title="(req: dispatch.Request)dispatch.Request" id="13146" class="keyword">this</a><span class="delimiter">(</span><a title="dispatch.Request" id="24719">req</a>: <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">)</span> =
    <a href="#9510" title="Request.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#24719" title="dispatch.Request">req</a>.<a href="#24748" title="=&gt; org.apache.http.HttpHost">host</a>, <a href="#24719" title="dispatch.Request">req</a>.<a href="#24749" title="=&gt; Option[dispatch.Credentials]">creds</a>, <a href="#24719" title="dispatch.Request">req</a>.<a href="#24750" title="=&gt; String">method</a>, <a href="#24719" title="dispatch.Request">req</a>.<a href="#24751" title="=&gt; String">path</a>, <a href="#24719" title="dispatch.Request">req</a>.<a href="#24752" title="=&gt; dispatch.Request.Headers">headers</a>, <a href="#24719" title="dispatch.Request">req</a>.<a href="#24753" title="=&gt; Option[org.apache.http.HttpEntity]">body</a>, <a href="#24719" title="dispatch.Request">req</a>.<a href="#24754" title="=&gt; String">defaultCharset</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(host: org.apache.http.HttpHost, creds: Option[dispatch.Credentials], method: String, path: String, headers: dispatch.Request.Headers, body: Option[org.apache.http.HttpEntity], defaultCharset: String)dispatch.Request" id="13147">copy</a><span class="delimiter">(</span>
    <a title="org.apache.http.HttpHost" id="32640">host</a>: <span title="org.apache.http.HttpHost">HttpHost</span> = <a href="#32640" title="org.apache.http.HttpHost">host</a>, 
    <a title="Option[dispatch.Credentials]" id="32641">creds</a>: <span title="Option[dispatch.Credentials]">Option</span><span class="delimiter">[</span>Credentials<span class="delimiter">]</span> = <a href="#32641" title="Option[dispatch.Credentials]">creds</a>, 
    <a title="String" id="32642">method</a>: <span title="String">String</span> = <a href="#32642" title="String">method</a>,
    <a title="String" id="32643">path</a>: <span title="String">String</span> = <a href="#32643" title="String">path</a>,
    <a title="dispatch.Request.Headers" id="32644">headers</a>: Request.<span title="dispatch.Request.Headers">Headers</span> = <a href="#32644" title="dispatch.Request.Headers">headers</a>,
    <a title="Option[org.apache.http.HttpEntity]" id="32645">body</a>: <span title="Option[org.apache.http.HttpEntity]">Option</span><span class="delimiter">[</span>HttpEntity<span class="delimiter">]</span> = <a href="#32645" title="Option[org.apache.http.HttpEntity]">body</a>,
    <a title="String" id="32646">defaultCharset</a>: <span title="String">String</span> = <a href="#32646" title="String">defaultCharset</a>
  <span class="delimiter">)</span> = <span title="dispatch.Request" class="keyword">new</span> <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">(</span><a href="#32640" title="org.apache.http.HttpHost">host</a>, <a href="#32641" title="Option[dispatch.Credentials]">creds</a>, <a href="#32642" title="String">method</a>, <a href="#32643" title="String">path</a>, <a href="#32644" title="dispatch.Request.Headers">headers</a>, <a href="#32645" title="Option[org.apache.http.HttpEntity]">body</a>, <a href="#32646" title="String">defaultCharset</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait Encoders extends java.lang.Object with ScalaObject" id="9511">Encoders</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="13115">defaultCharset</a>: <span title="String">String</span>

  <span class="comment">/** @return %-encoded string for use in URLs */</span>
  <span class="keyword">def</span> <a title="(s: String)java.lang.String" id="13116">encode_%</a> <span class="delimiter">(</span><a title="String" id="32665">s</a>: <span title="String">String</span><span class="delimiter">)</span> = java.net.<span title="object java.net.URLEncoder">URLEncoder</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">encode</span><span class="delimiter">(</span><a href="#32665" title="String">s</a>, <a href="#13115" title="=&gt; String">defaultCharset</a><span class="delimiter">)</span>

  <span class="comment">/** @return %-decoded string e.g. from query string or form body */</span>
  <span class="keyword">def</span> <a title="(s: String)java.lang.String" id="13117">decode_%</a> <span class="delimiter">(</span><a title="String" id="32679">s</a>: <span title="String">String</span><span class="delimiter">)</span> = java.net.<span title="object java.net.URLDecoder">URLDecoder</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">decode</span><span class="delimiter">(</span><a href="#32679" title="String">s</a>, <a href="#13115" title="=&gt; String">defaultCharset</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(b: Array[Byte])Array[Byte]" id="13118">encode_base64</a><span class="delimiter">(</span><a title="Array[Byte]" id="32692">b</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span> = 
    org.apache.commons.codec.binary.<span title="object org.apache.commons.codec.binary.Base64">Base64</span>.<span title="(x$1: Array[Byte])Array[Byte]">encodeBase64</span><span class="delimiter">(</span><a href="#32692" title="Array[Byte]">b</a><span class="delimiter">)</span>

  <span class="comment">/** @return formatted and %-encoded query string, e.g. name=value&amp;name2=value2 */</span>
  <span class="keyword">def</span> <a title="(values: Traversable[(String, String)])String" id="13119">form_enc</a> <span class="delimiter">(</span><a title="Traversable[(String, String)]" id="32871">values</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#13121" title="(values: Traversable[String])String">form_join</a><span class="delimiter">(</span><a href="#32871" title="Traversable[(String, String)]">values</a>.<span title="(f: (String, String) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[(String, String)],java.lang.String,Traversable[String]])Traversable[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,java.lang.String,Traversable[java.lang.String]]" class="delimiter">(</span><a href="#13120" title="(value: (String, String))java.lang.String">form_elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(value: (String, String))java.lang.String" id="13120">form_elem</a><span class="delimiter">(</span><a title="(String, String)" id="32898">value</a>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#13116" title="(s: String)java.lang.String">encode_%</a><span class="delimiter">(</span><a href="#32898" title="(String, String)">value</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;=&quot;)" class="string">&quot;=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#13116" title="(s: String)java.lang.String">encode_%</a><span class="delimiter">(</span><a href="#32898" title="(String, String)">value</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(values: Traversable[String])String" id="13121">form_join</a><span class="delimiter">(</span><a title="Traversable[String]" id="32874">values</a>: <span title="Traversable[String]">Traversable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#32874" title="Traversable[String]">values</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&amp;&quot;)" class="string">&quot;&amp;&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ImplicitRequestVerbs extends java.lang.Object with ScalaObject" id="9512">ImplicitRequestVerbs</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit dispatch.ImplicitRequestVerbs.toRequestVerbs : (req: dispatch.Request)dispatch.RequestVerbs" id="21868">toRequestVerbs</a> <span class="delimiter">(</span><a title="dispatch.Request" id="34336">req</a>: <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">)</span> = <span title="dispatch.RequestVerbs" class="keyword">new</span> <a href="#9513" title="dispatch.RequestVerbs">RequestVerbs</a><span class="delimiter">(</span><a href="#34336" title="dispatch.Request">req</a><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit dispatch.ImplicitRequestVerbs.stringToRequestVerbs : (str: String)dispatch.RequestVerbs" id="21869">stringToRequestVerbs</a> <span class="delimiter">(</span><a title="String" id="34368">str</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="dispatch.RequestVerbs" class="keyword">new</span> <a href="#9513" title="dispatch.RequestVerbs">RequestVerbs</a><span class="delimiter">(</span><a href="#13144" title="(str: String)dispatch.Request" class="keyword">new</a> <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">(</span><a href="#34368" title="String">str</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** These functions create new request descriptors based off of the current one.
    Most are intended to be used as infix operators; those that don't take a parameter
    have character names to be used with dot notation, e.g. 
    :/(&quot;example.com&quot;).HEAD.secure &gt;&gt;&gt; {...} */</span>
<span class="keyword">class</span> <a title="class RequestVerbs extends java.lang.Object with ScalaObject" id="9513">RequestVerbs</a><a href="#9513" title="ScalaObject" class="delimiter">(</a><a title="dispatch.Request" id="34367">subject</a>: <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  
  <span class="comment">/** Set credentials that may be used for basic or digest auth; requires a host value :/(...) upon execution. */</span>
  <span class="keyword">def</span> <a title="(name: String, pass: String)dispatch.Request" id="34342">as</a> <span class="delimiter">(</span><a title="String" id="34377">name</a>: <span title="String">String</span>, <a title="String" id="34378">pass</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="34401">copy</a><span class="delimiter">(</span>creds=<span title="(x: dispatch.Credentials)Some[dispatch.Credentials]">Some</span><a title="Some[dispatch.Credentials]" id="34395" class="delimiter">(</a><a href="#35938" title="(username: String, password: String)dispatch.Credentials">Credentials</a><span class="delimiter">(</span><a href="#34377" title="String">name</a>, <a href="#34378" title="String">pass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Add basic auth header unconditionally to this request. Does not wait for a 401 response. */</span>
  <span class="keyword">def</span> <a title="(name: String, pass: String)dispatch.Request" id="34343">as_!</a> <span class="delimiter">(</span><a title="String" id="34402">name</a>: <span title="String">String</span>, <a title="String" id="34403">pass</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#9513" title="RequestVerbs.this.type" class="keyword">this</a> <a href="#34351" title="(values: Map[String,String])dispatch.Request">&lt;:&lt;</a> <span title="(elems: (java.lang.String, java.lang.String)*)scala.collection.immutable.Map[java.lang.String,java.lang.String]">Map</span><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;Authorization&quot;</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span class="delimiter">(</span>
      <span title="java.lang.String(&quot;Basic &quot;)" class="string">&quot;Basic &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="(x$1: Array[Byte])java.lang.String" class="keyword">new</span> <span title="java.lang.String">String</span><span class="delimiter">(</span><a href="#9508" title="object dispatch.Request">Request</a>.<a href="#13118" title="(b: Array[Byte])Array[Byte]">encode_base64</a><span class="delimiter">(</span>
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s:%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#34402" title="String">name</a>, <a href="#34403" title="String">pass</a><span class="delimiter">)</span>.<span title="()Array[Byte]">getBytes</span>
      <span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Convert this to a secure (scheme https) request if not already */</span>
  <span class="keyword">def</span> <a title="=&gt; dispatch.Request" id="34344">secure</a> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#13147" title="(host: org.apache.http.HttpHost, creds: Option[dispatch.Credentials], method: String, path: String, headers: dispatch.Request.Headers, body: Option[org.apache.http.HttpEntity], defaultCharset: String)dispatch.Request">copy</a><span class="delimiter">(</span>
    <span class="comment">// default port -1 works for either</span>
    host=<span title="org.apache.http.HttpHost" class="keyword">new</span> <span title="org.apache.http.HttpHost">HttpHost</span><span class="delimiter">(</span><a href="#34367" title="dispatch.Request">subject</a>.<a href="#24748" title="=&gt; org.apache.http.HttpHost">host</a>.<span title="()java.lang.String">getHostName</span>, <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24748" title="=&gt; org.apache.http.HttpHost">host</a>.<span title="()Int">getPort</span>, <span title="java.lang.String(&quot;https&quot;)" class="string">&quot;https&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  
  <span class="comment">/** Combine this request with another. */</span>
  <span class="keyword">def</span> <a title="(req: dispatch.Request)dispatch.Request" id="34345">&lt;&amp;</a> <span class="delimiter">(</span><a title="dispatch.Request" id="34483">req</a>: <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">)</span> = <span title="dispatch.Request" class="keyword">new</span> <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">(</span>
    <span title="org.apache.http.HttpHost" class="keyword">if</span> <span class="delimiter">(</span><a href="#34483" title="dispatch.Request">req</a>.<a href="#24748" title="=&gt; org.apache.http.HttpHost">host</a>.<span title="()java.lang.String">getHostName</span>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24748" title="=&gt; org.apache.http.HttpHost">host</a> <span class="keyword">else</span> <a href="#34483" title="dispatch.Request">req</a>.<a href="#24748" title="=&gt; org.apache.http.HttpHost">host</a>, 
    <a href="#34483" title="dispatch.Request">req</a>.<a href="#24749" title="=&gt; Option[dispatch.Credentials]">creds</a> <span title="(alternative: =&gt; Option[dispatch.Credentials])Option[dispatch.Credentials]">orElse</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24749" title="=&gt; Option[dispatch.Credentials]">creds</a>,
    <a href="#34483" title="dispatch.Request">req</a>.<a href="#24750" title="=&gt; String">method</a>,
    <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#34367" title="dispatch.Request">subject</a>.<a href="#24751" title="=&gt; String">path</a>, <a href="#34483" title="dispatch.Request">req</a>.<a href="#24751" title="=&gt; String">path</a><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="String" id="34501">a</a>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> =&gt; <a href="#34501" title="String">a</a>
      <span class="keyword">case</span> <span title="String" class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <a title="String" id="34504">b</a><span class="delimiter">)</span> =&gt; <a href="#34504" title="String">b</a>
      <span class="keyword">case</span> <span title="java.lang.String" class="delimiter">(</span><a title="String" id="34507">a</a>, <a title="String" id="34508">b</a><span class="delimiter">)</span> =&gt; <a href="#34507" title="String">a</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#34508" title="String">b</a>
    <span class="delimiter">}</span>,
    <a href="#34483" title="dispatch.Request">req</a>.<a href="#24752" title="=&gt; dispatch.Request.Headers">headers</a> <a href="#34509" title="(prefix: List[(String, String)])List[(String, String)]">:::</a> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24752" title="=&gt; dispatch.Request.Headers">headers</a>,
    <a href="#34483" title="dispatch.Request">req</a>.<a href="#24753" title="=&gt; Option[org.apache.http.HttpEntity]">body</a> <span title="(alternative: =&gt; Option[org.apache.http.HttpEntity])Option[org.apache.http.HttpEntity]">orElse</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24753" title="=&gt; Option[org.apache.http.HttpEntity]">body</a>,
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#9508" title="object dispatch.Request">Request</a>.<a href="#21860" title="=&gt; java.lang.String">factoryCharset</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#34483" title="dispatch.Request">req</a>.<a href="#24754" title="=&gt; String">defaultCharset</a><span class="delimiter">)</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24754" title="=&gt; String">defaultCharset</a> <span class="keyword">else</span> <a href="#34483" title="dispatch.Request">req</a>.<a href="#24754" title="=&gt; String">defaultCharset</a>
  <span class="delimiter">)</span>
  
  <span class="comment">/** Set the default character set to be used when processing the request in &lt;&lt;, &lt;&lt;&lt;, Handler#&gt;&gt; and
    derived operations &gt;~, as_str, etc. (The 'factory' default is utf-8.) */</span>
  <span class="keyword">def</span> <a title="(charset: String)dispatch.Request" id="34346">&gt;\</a> <span class="delimiter">(</span><a title="String" id="34531">charset</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="34540">copy</a><span class="delimiter">(</span>defaultCharset=<a href="#34531" title="String" id="34534">charset</a><span class="delimiter">)</span>
  
  <span class="comment">/** Combine this request with another handler. */</span>
  <span class="keyword">def</span> <a title="[T](other: dispatch.Handler[T])dispatch.Handler[T]" id="34347">&gt;&amp;</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="34349">T</a><span class="delimiter">]</span> <span class="delimiter">(</span><a title="dispatch.Handler[T]" id="34541">other</a>: <a href="handlers.scala.html#9484" title="dispatch.Handler[T]">Handler</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="handlers.scala.html#25242" title="(req: dispatch.Request, block: (Int, org.apache.http.HttpResponse, Option[org.apache.http.HttpEntity]) =&gt; T)dispatch.Handler[T]">Handler</a><span class="delimiter">(</span><a href="#9513" title="RequestVerbs.this.type" class="keyword">this</a> <a href="#34345" title="(req: dispatch.Request)dispatch.Request">&lt;&amp;</a> <a href="#34541" title="dispatch.Handler[T]">other</a>.<a href="handlers.scala.html#25256" title="=&gt; dispatch.Request">request</a>, <a href="#34541" title="dispatch.Handler[T]">other</a>.<a href="handlers.scala.html#25258" title="=&gt; (Int, org.apache.http.HttpResponse, Option[org.apache.http.HttpEntity]) =&gt; T">block</a><span class="delimiter">)</span>
  
  <span class="comment">/** Append an element to this request's path, joins with '/'. (mutates request) */</span>
  <span class="keyword">def</span> <a title="(path: String)dispatch.Request" id="34350">/</a> <span class="delimiter">(</span><a title="String" id="34574">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="34597">copy</a><span class="delimiter">(</span>
    path= <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#34367" title="dispatch.Request">subject</a>.<a href="#24751" title="=&gt; String">path</a>, <a href="#34574" title="String">path</a><span class="delimiter">)</span> <a title="String" id="34591" class="keyword">match</a> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="java.lang.String" class="delimiter">(</span><a title="String" id="34585">a</a>, <a title="String" id="34586">b</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#34585" title="String">a</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> =&gt; <a href="#34585" title="String">a</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#34586" title="String">b</a>
      <span class="keyword">case</span> <span title="java.lang.String" class="delimiter">(</span><a title="String" id="34589">a</a>, <a title="String" id="34590">b</a><span class="delimiter">)</span> =&gt; <a href="#34589" title="String">a</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#34590" title="String">b</a>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
  
  <span class="comment">/** Add headers to this request. (mutates request) */</span>
  <span class="keyword">def</span> <a title="(values: Map[String,String])dispatch.Request" id="34351">&lt;:&lt;</a> <span class="delimiter">(</span><a title="Map[String,String]" id="34406">values</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="34448">copy</a><span class="delimiter">(</span>
    headers=<a href="#34406" title="Map[String,String]">values</a>.<span title="=&gt; List[(String, String)]">toList</span> <a href="#34409" title="List[(String, String)]" id="34442">:::</a> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24752" title="=&gt; dispatch.Request.Headers">headers</a>
  <span class="delimiter">)</span>

  <span class="comment">/* Add a gzip acceptance header */</span>
  <span class="keyword">def</span> <a title="=&gt; dispatch.Request" id="34352">gzip</a> = <a href="#9513" title="RequestVerbs.this.type" class="keyword">this</a> <a href="#34351" title="(values: Map[String,String])dispatch.Request">&lt;:&lt;</a> <span title="(elems: (java.lang.String, java.lang.String)*)scala.collection.immutable.Map[java.lang.String,java.lang.String]">Map</span><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;Accept-Encoding&quot;</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span title="java.lang.String(&quot;gzip&quot;)" class="string">&quot;gzip&quot;</span><span class="delimiter">)</span>

  <span class="comment">/** PUT the given string. */</span>
  <span class="keyword">def</span> <a title="(stringbody: String)dispatch.Request" id="34353">&lt;&lt;&lt;</a> <span class="delimiter">(</span><a title="String" id="34621">stringbody</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#9510" title="dispatch.Request">Request</a> = <a href="#34363" title="dispatch.Request" id="34633">PUT</a>.<a href="#32640" title="org.apache.http.HttpHost" id="34690">copy</a><span class="delimiter">(</span>
    body=<span title="(x: dispatch.RefStringEntity)Some[dispatch.RefStringEntity]">Some</span><a title="Some[dispatch.RefStringEntity]" id="34684" class="delimiter">(</a><span title="dispatch.RefStringEntity" class="keyword">new</span> <a href="#9530" title="dispatch.RefStringEntity">RefStringEntity</a><span class="delimiter">(</span><a href="#34621" title="String">stringbody</a>, <span title="java.lang.String(&quot;text/plain&quot;)" class="string">&quot;text/plain&quot;</span>, <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24754" title="=&gt; String">defaultCharset</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="comment">/** PUT the given file. */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, content_type: String)dispatch.Request" id="34354">&lt;&lt;&lt;</a> <span class="delimiter">(</span><a title="java.io.File" id="34691">file</a>: java.io.<span title="java.io.File">File</span>, <a title="String" id="34692">content_type</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#34363" title="dispatch.Request" id="34695">PUT</a>.<a href="#32640" title="org.apache.http.HttpHost" id="34809">copy</a><span class="delimiter">(</span>
    body=<span title="(x: org.apache.http.entity.FileEntity)Some[org.apache.http.entity.FileEntity]">Some</span><a title="Some[org.apache.http.entity.FileEntity]" id="34803" class="delimiter">(</a><span title="org.apache.http.entity.FileEntity" class="keyword">new</span> org.apache.http.entity.<span title="org.apache.http.entity.FileEntity">FileEntity</span><span class="delimiter">(</span><a href="#34691" title="java.io.File">file</a>, <a href="#34692" title="String">content_type</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="comment">/** PUT the given values as a urlencoded form */</span>
  <span class="keyword">def</span> <a title="(values: Traversable[(String, String)])dispatch.Request" id="34355">&lt;&lt;&lt;</a> <span class="delimiter">(</span><a title="Traversable[(String, String)]" id="34810">values</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9510" title="dispatch.Request">Request</a> = <a href="#34363" title="dispatch.Request" id="34812">PUT</a>.<a href="#32640" title="org.apache.http.HttpHost" id="34848">copy</a><span class="delimiter">(</span>
    body=<span title="(x: dispatch.FormEntity)Some[dispatch.FormEntity]">Some</span><a title="Some[dispatch.FormEntity]" id="34842" class="delimiter">(</a><a href="#34357" title="(values: Traversable[(String, String)])dispatch.FormEntity">form_ent</a><span class="delimiter">(</span><a href="#34810" title="Traversable[(String, String)]">values</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class UrlEncodedFormEntity extends dispatch.RefStringEntity with dispatch.FormEntity with ScalaObject" id="34356">UrlEncodedFormEntity</a><a href="#34356" title="ScalaObject" class="delimiter">(</a>
    <span class="keyword">val</span> <a title="Traversable[(String, String)]" id="34839">oauth_params</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>
  <span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9530" title="dispatch.RefStringEntity">RefStringEntity</a><span class="delimiter">(</span>
    <a href="#34367" title="dispatch.Request">subject</a>.<a href="#13121" title="(values: Traversable[String])String">form_join</a><span class="delimiter">(</span>
      <span class="delimiter">(</span><a href="#34367" title="dispatch.Request">subject</a>.<a href="#24753" title="=&gt; Option[org.apache.http.HttpEntity]">body</a>.<span title="(f: org.apache.http.HttpEntity =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><span title="object org.apache.http.util.EntityUtils">EntityUtils</span>.<a href="#34901" title="(x$1: org.apache.http.HttpEntity)java.lang.String">toString</a><span class="delimiter">)</span>.<span title="(p: java.lang.String =&gt; Boolean)Option[java.lang.String]">filterNot</span> <span title="(xo: Option[java.lang.String])Iterable[java.lang.String]" class="delimiter">{</span> <a href="#34907" title="java.lang.String">_</a>.<span title="()Boolean">isEmpty</span> <span class="delimiter">}</span>.<span title="=&gt; Seq[java.lang.String]">toSeq</span> <span title="(that: scala.collection.GenTraversableOnce[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.lang.String],java.lang.String,Traversable[String]])Traversable[String]">++</span>
        <a href="#34839" title="Traversable[(String, String)]">oauth_params</a>.<span title="(f: (String, String) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[(String, String)],java.lang.String,Traversable[java.lang.String]])Traversable[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,java.lang.String,Traversable[java.lang.String]]" class="delimiter">(</span><a href="#34367" title="dispatch.Request">subject</a>.<a href="#13120" title="(value: (String, String))java.lang.String">form_elem</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">)</span>,
    <span title="java.lang.String(&quot;application/x-www-form-urlencoded&quot;)" class="string">&quot;application/x-www-form-urlencoded&quot;</span>,
    <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24754" title="=&gt; String">defaultCharset</a>
  <span class="delimiter">)</span> <span class="keyword">with</span> <a href="#9514" title="dispatch.FormEntity">FormEntity</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(values: Traversable[(String, String)])RequestVerbs.this.UrlEncodedFormEntity" id="34838">add</a><span class="delimiter">(</span><a title="Traversable[(String, String)]" id="34854">values</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = 
      <span title="RequestVerbs.this.UrlEncodedFormEntity" class="keyword">new</span> <a href="#34356" title="RequestVerbs.this.UrlEncodedFormEntity">UrlEncodedFormEntity</a><span class="delimiter">(</span><a href="#34839" title="=&gt; Traversable[(String, String)]">oauth_params</a> <span title="(that: scala.collection.GenTraversableOnce[(String, String)])(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[(String, String)],(String, String),Traversable[(String, String)]])Traversable[(String, String)]">++</span> <a href="#34854" title="Traversable[(String, String)]">values</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(values: Traversable[(String, String)])dispatch.FormEntity" id="34357">form_ent</a><span class="delimiter">(</span><a title="Traversable[(String, String)]" id="34815">values</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24753" title="=&gt; Option[org.apache.http.HttpEntity]">body</a>.<span title="(f: org.apache.http.HttpEntity =&gt; dispatch.FormEntity)Option[dispatch.FormEntity]">map</span> <a href="#34822" title="dispatch.FormEntity" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="dispatch.FormEntity" id="34823">ent</a>: <a href="#9514" title="dispatch.FormEntity">FormEntity</a> =&gt; <a href="#34823" title="dispatch.FormEntity">ent</a>.<a href="#34825" title="(values: Traversable[(String, String)])dispatch.FormEntity">add</a><span class="delimiter">(</span><a href="#34815" title="Traversable[(String, String)]">values</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Nothing" id="34828">ent</a> =&gt; <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;trying to add post parameters &lt;&lt; to entity: &quot;)" class="string">&quot;trying to add post parameters &lt;&lt; to entity: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#34828" title="org.apache.http.HttpEntity">ent</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>.<span title="(default: =&gt; dispatch.FormEntity)dispatch.FormEntity">getOrElse</span><span class="delimiter">(</span><span title="RequestVerbs.this.UrlEncodedFormEntity" class="keyword">new</span> <a href="#34356" title="RequestVerbs.this.UrlEncodedFormEntity">UrlEncodedFormEntity</a><span class="delimiter">(</span><a href="#34815" title="Traversable[(String, String)]">values</a><span class="delimiter">)</span><span class="delimiter">)</span>


  <span class="comment">/** Post the given key value sequence. */</span>
  <span class="keyword">def</span> <a title="(values: Traversable[(String, String)])dispatch.Request" id="34358">&lt;&lt;</a> <span class="delimiter">(</span><a title="Traversable[(String, String)]" id="35638">values</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="35650">copy</a><span class="delimiter">(</span>body=<span title="(x: dispatch.FormEntity)Some[dispatch.FormEntity]">Some</span><a title="Some[dispatch.FormEntity]" id="35644" class="delimiter">(</a><a href="#34357" title="(values: Traversable[(String, String)])dispatch.FormEntity">form_ent</a><span class="delimiter">(</span><a href="#35638" title="Traversable[(String, String)]">values</a><span class="delimiter">)</span><span class="delimiter">)</span>,method=<a title="java.lang.String(&quot;POST&quot;)" id="35645" class="string">&quot;POST&quot;</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Post the given string value, with text/plain content-type. */</span>
  <span class="keyword">def</span> <a title="(stringbody: String)dispatch.Request" id="34359">&lt;&lt;</a> <span class="delimiter">(</span><a title="String" id="35651">stringbody</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#9510" title="dispatch.Request">Request</a> =  <a href="#9513" title="RequestVerbs.this.type" class="keyword">this</a> <a href="#34360" title="(stringbody: String, contenttype: String)dispatch.Request">&lt;&lt;</a> <span class="delimiter">(</span><a href="#35651" title="String">stringbody</a>, <span title="java.lang.String(&quot;text/plain&quot;)" class="string">&quot;text/plain&quot;</span><span class="delimiter">)</span>
  <span class="comment">/** Post the given string value. */</span>
  <span class="keyword">def</span> <a title="(stringbody: String, contenttype: String)dispatch.Request" id="34360">&lt;&lt;</a> <span class="delimiter">(</span><a title="String" id="35655">stringbody</a>: <span title="String">String</span>, <a title="String" id="35656">contenttype</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#9510" title="dispatch.Request">Request</a> = <a href="#34362" title="dispatch.Request" id="35740">POST</a>.<a href="#32640" title="org.apache.http.HttpHost" id="35750">copy</a><span class="delimiter">(</span>
    body=<span title="(x: dispatch.RefStringEntity)Some[dispatch.RefStringEntity]">Some</span><a title="Some[dispatch.RefStringEntity]" id="35744" class="delimiter">(</a><span title="dispatch.RefStringEntity" class="keyword">new</span> <a href="#9530" title="dispatch.RefStringEntity">RefStringEntity</a><span class="delimiter">(</span>
      <a href="#35655" title="String">stringbody</a>, <a href="#35656" title="String">contenttype</a>, <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24754" title="=&gt; String">defaultCharset</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  
  <span class="comment">/** Add query parameters. (mutates request) */</span>
  <span class="keyword">def</span> <a title="(values: Traversable[(String, String)])dispatch.Request" id="34361">&lt;&lt;?</a> <span class="delimiter">(</span><a title="Traversable[(String, String)]" id="35751">values</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="dispatch.Request" class="keyword">if</span> <span class="delimiter">(</span><a href="#35751" title="Traversable[(String, String)]">values</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#34367" title="dispatch.Request">subject</a>
    <span class="keyword">else</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="35772">copy</a><span class="delimiter">(</span>
      path =
        <a title="String" id="35766" class="keyword">if</a> <span class="delimiter">(</span><a href="#34367" title="dispatch.Request">subject</a>.<a href="#24751" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">path</a> <span title="(elem: Any)Boolean">contains</span> <span title="Char(\'?\')" class="char">'?'</span><span class="delimiter">)</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24751" title="=&gt; String">path</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="Char(\'&amp;\')" class="char">'&amp;'</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#13119" title="(values: Traversable[(String, String)])String">form_enc</a><span class="delimiter">(</span><a href="#35751" title="Traversable[(String, String)]">values</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#24751" title="=&gt; String">path</a> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#35751" title="Traversable[(String, String)]">values</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#34367" title="dispatch.Request">subject</a>.<a href="#13119" title="(values: Traversable[(String, String)])String">form_enc</a><span class="delimiter">(</span><a href="#35751" title="Traversable[(String, String)]">values</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">)</span>
  
  <span class="comment">/** HTTP post request. */</span>
  <span class="keyword">def</span> <a title="=&gt; dispatch.Request" id="34362">POST</a> = <a href="#9513" title="RequestVerbs.this.type" class="keyword">this</a> <a href="#34358" title="(values: Traversable[(String, String)])dispatch.Request">&lt;&lt;</a> <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Nothing,Nothing]">empty</span>

  <span class="comment">/** HTTP post request. */</span>
  <span class="keyword">def</span> <a title="=&gt; dispatch.Request" id="34363">PUT</a> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="34632">copy</a><span class="delimiter">(</span>method=<a title="java.lang.String(&quot;PUT&quot;)" id="34626" class="string">&quot;PUT&quot;</a><span class="delimiter">)</span>
    
  <span class="comment">/** HTTP delete request. */</span>
  <span class="keyword">def</span> <a title="=&gt; dispatch.Request" id="34364">DELETE</a> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="35782">copy</a><span class="delimiter">(</span>method=<a title="java.lang.String(&quot;DELETE&quot;)" id="35776" class="string">&quot;DELETE&quot;</a><span class="delimiter">)</span>
  
  <span class="comment">/** HTTP head request. See &gt;:&gt; to access headers. */</span>
  <span class="keyword">def</span> <a title="=&gt; dispatch.Request" id="34365">HEAD</a> = <a href="#34367" title="dispatch.Request">subject</a>.<a href="#32640" title="org.apache.http.HttpHost" id="35792">copy</a><span class="delimiter">(</span>method=<a title="java.lang.String(&quot;HEAD&quot;)" id="35786" class="string">&quot;HEAD&quot;</a><span class="delimiter">)</span>


  <span class="comment">/** @return URI based on this request, e.g. if needed outside Disptach. */</span>
  <span class="keyword">def</span> <a title="=&gt; java.net.URI" id="34366">to_uri</a> = <span title="object java.net.URI">URI</span>.<span title="(x$1: java.lang.String)java.net.URI">create</span><span class="delimiter">(</span><a href="#34367" title="dispatch.Request">subject</a>.<a href="#24748" title="=&gt; org.apache.http.HttpHost">host</a>.<span title="()java.lang.String">toURI</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.net.URI">resolve</span><span class="delimiter">(</span><a href="#34367" title="dispatch.Request">subject</a>.<a href="#24751" title="=&gt; String">path</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** Used within dispatch for entites that have &quot;form&quot; name value pairs,
 *  whether form-urlencoded or multipart mime. */</span>
<span class="keyword">trait</span> <a title="trait FormEntity extends java.lang.Object with org.apache.http.HttpEntity" id="9514">FormEntity</a> <span class="keyword">extends</span> <span title="org.apache.http.HttpEntity">HttpEntity</span> <span class="delimiter">{</span>
  <span class="comment">/** Should only return values that belong in an oauth signature */</span>
  <span class="keyword">def</span> <a title="=&gt; Traversable[(String, String)]" id="34824">oauth_params</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="(values: Traversable[(String, String)])dispatch.FormEntity" id="34825">add</a><span class="delimiter">(</span><a title="Traversable[(String, String)]" id="34826">values</a>: <span title="Traversable[(String, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9514" title="dispatch.FormEntity">FormEntity</a>
<span class="delimiter">}</span>

<span class="comment">/** Empty request, useful for request a descriptors that do not
 *  define a host or base path. */</span>
<span class="keyword">object</span> <a title="object dispatch./\" id="9515">/\</a> <a href="#13145" title="ScalaObject" class="keyword">extends</a> <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">(</span><span title="(x$1: java.lang.String)org.apache.http.HttpHost" class="keyword">new</span> <span title="org.apache.http.HttpHost">HttpHost</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

<span class="comment">/** An explicit function to create Requests from URL strings, the same
 * as Request.strToRequest does implicitly when imported. */</span>
<span class="keyword">object</span> <a title="object dispatch.url" id="9517">url</a> <span title="ScalaObject" class="keyword">extends</span> <span class="delimiter">(</span>String =&gt; Request<span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(str: String)dispatch.Request" id="35812">apply</a><span class="delimiter">(</span><a title="String" id="35814">str</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#13144" title="(str: String)dispatch.Request" class="keyword">new</a> <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">(</span><a href="#35814" title="String">str</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/* Creates requests for a host. The string provided must be a
 * hostname. See the `url` function for requests based on a URL. */</span>
<span class="keyword">object</span> <a title="object dispatch.:/" id="9519">:/</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/* Creates requests for a hostname and port */</span>
  <span class="keyword">def</span> <a title="(hostname: String, port: Int)dispatch.Request" id="35823">apply</a><span class="delimiter">(</span><a title="String" id="35826">hostname</a>: <span title="String">String</span>, <a title="Int" id="35827">port</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#9510" title="dispatch.Request">Request</a> = 
    <a href="#13145" title="(host: org.apache.http.HttpHost)dispatch.Request" class="keyword">new</a> <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">(</span><span title="(x$1: java.lang.String, x$2: Int)org.apache.http.HttpHost" class="keyword">new</span> <span title="org.apache.http.HttpHost">HttpHost</span><span class="delimiter">(</span><a href="#35826" title="String">hostname</a>, <a href="#35827" title="Int">port</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/* Creates requests for a hostname and default port */</span>
  <span class="keyword">def</span> <a title="(hostname: String)dispatch.Request" id="35824">apply</a><span class="delimiter">(</span><a title="String" id="35835">hostname</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#9510" title="dispatch.Request">Request</a> = <a href="#13145" title="(host: org.apache.http.HttpHost)dispatch.Request" class="keyword">new</a> <a href="#9510" title="dispatch.Request">Request</a><span class="delimiter">(</span><span title="(x$1: java.lang.String)org.apache.http.HttpHost" class="keyword">new</span> <span title="org.apache.http.HttpHost">HttpHost</span><span class="delimiter">(</span><a href="#35835" title="String">hostname</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** Creates requests from a directory, prepends '/'. */</span>
<span class="keyword">object</span> <a title="object dispatch./" id="9521">/</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9512" title="dispatch.ImplicitRequestVerbs">ImplicitRequestVerbs</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(path: String)dispatch.Request" id="35846">apply</a><span class="delimiter">(</span><a title="String" id="35848">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#21868" title="implicit dispatch.ImplicitRequestVerbs.toRequestVerbs : (req: dispatch.Request)dispatch.RequestVerbs">/\</a> <a href="#34350" title="(path: String)dispatch.Request">/</a> <a href="#35848" title="String">path</a>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class Credentials extends java.lang.Object with ScalaObject with Product with Serializable" id="35938">Credentials</a><a href="#35938" title="ScalaObject" class="delimiter">(</a><a title="String" id="34387">username</a>: <span title="String">String</span>, <a title="String" id="34388">password</a>: <span title="String">String</span><span class="delimiter">)</span>

<span class="comment">/** Used by client APIs to build Handler or other objects via chaining, completed implicitly.
  * @see Http#builder2product */</span>
<span class="keyword">trait</span> <a title="trait Builder[T] extends java.lang.Object" id="9526">Builder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="9527">T</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span> <span class="keyword">def</span> <a title="=&gt; T" id="35917">product</a>:<a href="#9527" title="T">T</a> <span class="delimiter">}</span>
<span class="keyword">object</span> <a title="object dispatch.Builder" id="9528">Builder</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](builder: dispatch.Builder[T])T" id="35920">builderToProduct</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="35922">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="dispatch.Builder[T]" id="35924">builder</a>: <a href="#9526" title="dispatch.Builder[T]">Builder</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#35924" title="dispatch.Builder[T]">builder</a>.<a href="#35917" title="=&gt; T">product</a>
<span class="delimiter">}</span>

<span class="comment">/** Extension of StringEntity that keeps a reference to the string */</span>
<span class="keyword">class</span> <a title="class RefStringEntity extends org.apache.http.entity.StringEntity with ScalaObject" id="9530">RefStringEntity</a><a href="#9530" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="34680">string</a>: <span title="String">String</span>, 
                      <a title="String" id="34681">contentType</a>: <span title="String">String</span>, 
                      <span class="keyword">val</span> <a title="String" id="34682">charset</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> 
  <span title="org.apache.http.entity.StringEntity">StringEntity</span><span class="delimiter">(</span><a href="#34680" title="String">string</a>, <a href="#34681" title="String">contentType</a>, <a href="#34682" title="String">charset</a><span class="delimiter">)</span>

        </pre>
    </body>
</html>