<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/ast/TreeGen.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> ast

<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> symtab.SymbolTable

/** XXX to resolve: TreeGen only assumes global is a SymbolTable, but
 *  TreeDSL at the moment expects a Global.  Can we get by with SymbolTable?
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeGen extends scala.reflect.internal.TreeGen with ScalaObject" id="13882">TreeGen</a> <a href="#13882" title="ScalaObject" class="keyword">extends</a> reflect.internal.<a href="../../../reflect/internal/TreeGen.scala.html#8422" title="scala.reflect.internal.TreeGen">TreeGen</a> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="235464">global</a>: <a href="../Global.scala.html#12521" title="scala.tools.nsc.Global">Global</a>

  <span class="keyword">import</span> <a href="#235464" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object TreeGen.this.global.definitions">definitions</a>._

  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235467">mkCheckInit</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="276338">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Type" id="276340">tpe</a> =
      <span title="TreeGen.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#276338" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#276338" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#276338" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>
      <span class="keyword">else</span> <a href="#276338" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; TreeGen.this.global.Type">tpe</a>

    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#235464" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183623" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#276340" title="TreeGen.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#46364" title="=&gt; TreeGen.this.global.Symbol">NotNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; TreeGen.this.global.Type">tpe</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#276340" title="TreeGen.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42717" title="=&gt; Boolean">isNotNull</a><span class="delimiter">)</span>
      <a href="#235480" title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60194" title="=&gt; TreeGen.this.global.nme.NameType">checkInitialized</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#276338" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#276338" title="TreeGen.this.global.Tree">tree</a>
  <span class="delimiter">}</span>
  
  /** Builds a fully attributed wildcard import node.
   */
  <span class="keyword">def</span> <a title="(pkg: TreeGen.this.global.Symbol)TreeGen.this.global.Import" id="235468">mkWildcardImport</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="276370">pkg</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Import">Import</span> = <span class="delimiter">{</span>
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#276370" title="TreeGen.this.global.Symbol">pkg</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>, <a href="#13882" title="scala.tools.nsc.ast.TreeGen" class="keyword">this</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.gen.global.Tree" id="276372">qual</a> = <a href="../Global.scala.html#182860" title="object TreeGen.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92635" title="(sym: TreeGen.this.global.gen.global.Symbol)TreeGen.this.global.gen.global.Tree">mkAttributedStableRef</a><span class="delimiter">(</span><a href="#276370" title="TreeGen.this.global.Symbol">pkg</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="276373">importSym</a> = <span class="delimiter">(</span>
      <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object TreeGen.this.global.NoSymbol">NoSymbol</a>
        <a href="../../../reflect/internal/Symbols.scala.html#47712" title="(pos: TreeGen.this.global.Position)TreeGen.this.global.TermSymbol">newImport</a> <a href="../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>
          <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)TreeGen.this.global.TermSymbol">setFlag</a> <span title="Long(2097152L)">SYNTHETIC</span>
          <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a> <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: TreeGen.this.global.type}">analyzer</a>.<a href="../typechecker/Contexts.scala.html#274488" title="(expr: TreeGen.this.global.analyzer.global.Tree)TreeGen.this.global.analyzer.ImportType">ImportType</a><span class="delimiter">(</span><a href="#276372" title="TreeGen.this.global.gen.global.Tree">qual</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Import" id="276374">importTree</a> = <span class="delimiter">(</span>
      <a href="#235464" title="(expr: TreeGen.this.global.Tree, selectors: List[TreeGen.this.global.ImportSelector])TreeGen.this.global.Import">Import</a><span class="delimiter">(</span><a href="#276372" title="TreeGen.this.global.gen.global.Tree">qual</a>, <span title="(xs: TreeGen.this.global.ImportSelector*)List[TreeGen.this.global.ImportSelector]">List</span><span class="delimiter">(</span><a href="#235464" title="(name: TreeGen.this.global.Name, namePos: Int, rename: TreeGen.this.global.Name, renamePos: Int)TreeGen.this.global.ImportSelector">ImportSelector</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; TreeGen.this.global.nme.NameType">WILDCARD</a>, -<span title="Int(-1)" class="int">1</span>, <span title="Null(null)" class="keyword">null</span>, -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Import">setSymbol</span> <a href="#276373" title="TreeGen.this.global.TermSymbol">importSym</a>
          <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Import">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object TreeGen.this.global.NoType">NoType</a>
    <span class="delimiter">)</span>
    <a href="#276374" title="TreeGen.this.global.Import">importTree</a>
  <span class="delimiter">}</span>

  // wrap the given expression in a SoftReference so it can be gc-ed
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235469">mkSoftRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="276429">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#276429" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../reflect/internal/Trees.scala.html#40625" title="(sym: TreeGen.this.global.Symbol, args: TreeGen.this.global.Tree*)TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46452" title="=&gt; TreeGen.this.global.Symbol">SoftReferenceClass</a>, <a href="#276429" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // annotate the expression with @unchecked
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235470">mkUnchecked</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="276451">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Annotated)TreeGen.this.global.Annotated">atPos</a><span class="delimiter">(</span><a href="#276451" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    // This can't be &quot;Annotated(New(UncheckedClass), expr)&quot; because annotations
    // are very pick about things and it crashes the compiler with &quot;unexpected new&quot;.
    <a href="#235464" title="(annot: TreeGen.this.global.Tree, arg: TreeGen.this.global.Tree)TreeGen.this.global.Annotated">Annotated</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40624" title="(tpt: TreeGen.this.global.Tree, argss: List[List[TreeGen.this.global.Tree]])TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="../../../reflect/internal/TreeGen.scala.html#92611" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46725" title="=&gt; TreeGen.this.global.Symbol">UncheckedClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TreeGen.this.global.Name">name</a><span class="delimiter">)</span>, <span title="(xs: scala.collection.immutable.Nil.type*)List[scala.collection.immutable.Nil.type]">List</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#276451" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // if it's a Match, mark the selector unchecked; otherwise nothing.
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235471">mkUncheckedMatch</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="276477">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#276477" title="TreeGen.this.global.Tree">tree</a> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Match">Match</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="276482">selector</a>, <a title="List[TreeGen.this.global.CaseDef]" id="276483">cases</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Match)TreeGen.this.global.Match">atPos</a><span class="delimiter">(</span><a href="#276477" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#235464" title="(selector: TreeGen.this.global.Tree, cases: List[TreeGen.this.global.CaseDef])TreeGen.this.global.Match">Match</a><span class="delimiter">(</span><a href="#235470" title="(expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkUnchecked</a><span class="delimiter">(</span><a href="#276482" title="TreeGen.this.global.Tree">selector</a><span class="delimiter">)</span>, <a href="#276483" title="List[TreeGen.this.global.CaseDef]">cases</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">_</span>                      =&gt; <a href="#276477" title="TreeGen.this.global.Tree">tree</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(matchExpr: TreeGen.this.global.Tree, defaultAction: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235472">withDefaultCase</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="276494">matchExpr</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree" id="276495">defaultAction</a>: Tree/*scrutinee*/ =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="#276494" title="TreeGen.this.global.Tree">matchExpr</a> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">Match</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="276499">scrutinee</a>, <a title="List[TreeGen.this.global.CaseDef]" id="276500">cases</a><span class="delimiter">)</span> =&gt;
      <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#276500" title="List[TreeGen.this.global.CaseDef]">cases</a> <span title="(p: TreeGen.this.global.CaseDef =&gt; Boolean)Boolean">exists</span> <a href="Trees.scala.html#183119" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118949" title="(cdef: TreeGen.this.global.treeInfo.global.CaseDef)Boolean">isDefaultCase</a><span class="delimiter">)</span> <a href="#276494" title="TreeGen.this.global.Tree">matchExpr</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="TreeGen.this.global.CaseDef" id="276521">defaultCase</a> = <a href="#235464" title="(pat: TreeGen.this.global.Tree, guard: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#235464" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; TreeGen.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>, <a href="#235464" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>, <a href="#276495" title="(v1: TreeGen.this.global.Tree)TreeGen.this.global.Tree">defaultAction</a><span class="delimiter">(</span><a href="#276499" title="TreeGen.this.global.Tree">scrutinee</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#235464" title="(selector: TreeGen.this.global.Tree, cases: List[TreeGen.this.global.CaseDef])TreeGen.this.global.Match">Match</a><span class="delimiter">(</span><a href="#276499" title="TreeGen.this.global.Tree">scrutinee</a>, <a href="#276500" title="List[TreeGen.this.global.CaseDef]">cases</a> <span title="(elem: TreeGen.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.CaseDef],TreeGen.this.global.CaseDef,List[TreeGen.this.global.CaseDef]])List[TreeGen.this.global.CaseDef]">:+</span> <a href="#276521" title="TreeGen.this.global.CaseDef">defaultCase</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">_</span> =&gt;
      <a href="#276494" title="TreeGen.this.global.Tree">matchExpr</a>
    // [Martin] Adriaan: please fill in virtpatmat transformation here
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(cvar: TreeGen.this.global.Symbol, expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235473">mkCached</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="276607">cvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="276608">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="276610">cvarRef</a> = <a href="../../../reflect/internal/TreeGen.scala.html#92630" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkUnattributedRef</a><span class="delimiter">(</span><a href="#276607" title="TreeGen.this.global.Symbol">cvar</a><span class="delimiter">)</span>
    <a href="#235464" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
      <span title="(xs: TreeGen.this.global.If*)List[TreeGen.this.global.If]">List</span><span class="delimiter">(</span>
        <a href="#235464" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#235464" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#235464" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#276610" title="TreeGen.this.global.Tree">cvarRef</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60216" title="=&gt; TreeGen.this.global.nme.NameType">eq</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Literal*)List[TreeGen.this.global.Literal]">List</span><span class="delimiter">(</span><a href="#235464" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
           <a href="#235464" title="(lhs: TreeGen.this.global.Tree, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#276610" title="TreeGen.this.global.Tree">cvarRef</a>, <a href="#276608" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>,
           <a href="#235464" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>,
      <a href="#276610" title="TreeGen.this.global.Tree">cvarRef</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // Builds a tree of the form &quot;{ lhs = rhs ; lhs  }&quot;
  <span class="keyword">def</span> <a title="(lhs: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235474">mkAssignAndReturn</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="276708">lhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="276709">rhs</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="276711">lhsRef</a> = <a href="../../../reflect/internal/TreeGen.scala.html#92630" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkUnattributedRef</a><span class="delimiter">(</span><a href="#276708" title="TreeGen.this.global.Symbol">lhs</a><span class="delimiter">)</span>
    <a href="#235464" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#235464" title="(lhs: TreeGen.this.global.Tree, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#276711" title="TreeGen.this.global.Tree">lhsRef</a>, <a href="#276709" title="TreeGen.this.global.Tree">rhs</a><span class="delimiter">)</span> <a href="#276720" title="(x: TreeGen.this.global.Assign)List[TreeGen.this.global.Assign]">::</a> <span title="object Nil">Nil</span>, <a href="#276711" title="TreeGen.this.global.Tree">lhsRef</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol)TreeGen.this.global.ValDef" id="235475">mkModuleVarDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="276736">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="276739">inClass</a>    = <a href="#276736" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a>
    <span class="keyword">val</span> <a title="Long" id="276740">extraFlags</a> = <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#276739" title="Boolean">inClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Flags.scala.html#39743" title="=&gt; Long">PrivateLocal</a> <span title="(x: Int)Long">|</span> <span title="Int(2097152)">SYNTHETIC</span> <span class="keyword">else</span> <span title="Long(0L)" class="int">0</span>
    
    <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="276741">mval</a> = <span class="delimiter">(</span>
      <a href="#276736" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47699" title="(name: TreeGen.this.global.TermName, pos: TreeGen.this.global.Position, newFlags: Long)TreeGen.this.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60416" title="(name: TreeGen.this.global.TermName)TreeGen.this.global.TermName">moduleVarName</a><span class="delimiter">(</span><a href="#276736" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: TreeGen.this.global.Name)TreeGen.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#276736" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <span title="Int(1073741824)">MODULEVAR</span> <span title="(x: Long)Long">|</span> <a href="#276740" title="Long">extraFlags</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a> <a href="#276736" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; TreeGen.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42747" title="=&gt; TreeGen.this.global.Type">finalResultType</a>
        <a href="../../../reflect/internal/Symbols.scala.html#47960" title="(sym: TreeGen.this.global.Symbol, args: TreeGen.this.global.Tree*)TreeGen.this.global.TermSymbol">addAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46727" title="=&gt; TreeGen.this.global.Symbol">VolatileAttr</a>
    <span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#276739" title="Boolean">inClass</a><span class="delimiter">)</span>
      <a href="#276741" title="TreeGen.this.global.TermSymbol">mval</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; TreeGen.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; TreeGen.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Symbol">enter</a> <a href="#276741" title="TreeGen.this.global.TermSymbol">mval</a>

    <a href="../../../reflect/internal/Trees.scala.html#40611" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#276741" title="TreeGen.this.global.TermSymbol">mval</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // def m: T = { if (m$ eq null) m$ = new m$class(...) m$ }
  // where (...) are eventual outer accessors
  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, mvar: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="235476">mkCachedModuleAccessDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="276794">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Symbol" id="276795">mvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#40617" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#276794" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#235473" title="(cvar: TreeGen.this.global.Symbol, expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkCached</a><span class="delimiter">(</span><a href="#276795" title="TreeGen.this.global.Symbol">mvar</a>, <a href="#235478" title="(accessor: TreeGen.this.global.Symbol, tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">newModule</a><span class="delimiter">(</span><a href="#276794" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#276795" title="TreeGen.this.global.Symbol">mvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, msym: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="235477">mkModuleAccessDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="276922">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Symbol" id="276923">msym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#40617" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#276922" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#235464" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#276923" title="TreeGen.this.global.Symbol">msym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TreeGen.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#276923" title="TreeGen.this.global.Symbol">msym</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="235478">newModule</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="276834">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Type" id="276835">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#40624" title="(tpt: TreeGen.this.global.Tree, argss: List[List[TreeGen.this.global.Tree]])TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="#235464" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#276835" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>,
        <span title="(xs: List[TreeGen.this.global.Tree]*)List[List[TreeGen.this.global.Tree]]">List</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="276878">pt</a> &lt;- <a href="#276835" title="TreeGen.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47977" title="=&gt; TreeGen.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; TreeGen.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="(f: TreeGen.this.global.Type =&gt; TreeGen.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Type],TreeGen.this.global.Tree,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">paramTypes</a><span class="delimiter">)</span>
             <span class="keyword">yield</span> <a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#276834" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; TreeGen.this.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  // def m: T;
  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="235479">mkModuleAccessDcl</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="276968">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#40617" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#276968" title="TreeGen.this.global.Symbol">accessor</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)accessor.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a>, <a href="#235464" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="235480">mkRuntimeCall</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="276360">meth</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="TreeGen.this.global.Name">Name</a>, <a title="List[TreeGen.this.global.Tree]" id="276361">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#235481" title="(meth: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="#276360" title="TreeGen.this.global.Name">meth</a>, <span title="object Nil">Nil</span>, <a href="#276361" title="List[TreeGen.this.global.Tree]">args</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(meth: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="235481">mkRuntimeCall</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="276356">meth</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="TreeGen.this.global.Name">Name</a>, <a title="List[TreeGen.this.global.Type]" id="276357">targs</a>: <span title="List[TreeGen.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="276358">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="../../../reflect/internal/TreeGen.scala.html#92618" title="(receiver: TreeGen.this.global.Symbol, methodName: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46345" title="=&gt; TreeGen.this.global.Symbol">ScalaRunTimeModule</a>, <a href="#276356" title="TreeGen.this.global.Name">meth</a>, <a href="#276357" title="List[TreeGen.this.global.Type]">targs</a>, <a href="#276358" title="List[TreeGen.this.global.Tree]">args</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(message: String)TreeGen.this.global.Tree" id="235482">mkSysErrorCall</a><span class="delimiter">(</span><a title="String" id="277018">message</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="../../../reflect/internal/TreeGen.scala.html#92620" title="(method: TreeGen.this.global.Symbol, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46328" title="=&gt; TreeGen.this.global.Symbol">Sys_error</a>, <span title="(xs: TreeGen.this.global.Literal*)List[TreeGen.this.global.Literal]">List</span><span class="delimiter">(</span><a href="#235464" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#277018" title="String">message</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  /** A creator for a call to a scala.reflect.Manifest or ClassManifest factory method.
   *
   *  @param    full          full or partial manifest (target will be Manifest or ClassManifest)
   *  @param    constructor   name of the factory method (e.g. &quot;classType&quot;)
   *  @param    tparg         the type argument
   *  @param    args          value arguments
   *  @return   the tree
   */
  <span class="keyword">def</span> <a title="(full: Boolean, constructor: String, tparg: TreeGen.this.global.Type, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="235483">mkManifestFactoryCall</a><span class="delimiter">(</span><a title="Boolean" id="277034">full</a>: <span title="Boolean">Boolean</span>, <a title="String" id="277035">constructor</a>: <span title="String">String</span>, <a title="TreeGen.this.global.Type" id="277036">tparg</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TreeGen.this.global.Type">Type</a>, <a title="List[TreeGen.this.global.Tree]" id="277037">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="../../../reflect/internal/TreeGen.scala.html#92618" title="(receiver: TreeGen.this.global.Symbol, methodName: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkMethodCall</a><span class="delimiter">(</span>
      <span title="TreeGen.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#277034" title="Boolean">full</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46479" title="=&gt; TreeGen.this.global.Symbol">FullManifestModule</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#46475" title="=&gt; TreeGen.this.global.Symbol">PartialManifestModule</a>,
      <a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)TreeGen.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#277035" title="String">constructor</a><span class="delimiter">)</span>,
      <span title="(xs: TreeGen.this.global.Type*)List[TreeGen.this.global.Type]">List</span><span class="delimiter">(</span><a href="#277036" title="TreeGen.this.global.Type">tparg</a><span class="delimiter">)</span>,
      <a href="#277037" title="List[TreeGen.this.global.Tree]">args</a>
    <span class="delimiter">)</span>

  /** Make a synchronized block on 'monitor'. */
  <span class="keyword">def</span> <a title="(monitor: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235484">mkSynchronized</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277056">monitor</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="277057">body</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#235464" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#235464" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#277056" title="TreeGen.this.global.Tree">monitor</a>, <a href="../../../reflect/internal/Definitions.scala.html#46623" title="=&gt; TreeGen.this.global.Symbol">Object_synchronized</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#277057" title="TreeGen.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed" id="235485">wildcardStar</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277102">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Typed)TreeGen.this.global.Typed">atPos</a><span class="delimiter">(</span><a href="#277102" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#235464" title="(expr: TreeGen.this.global.Tree, tpt: TreeGen.this.global.Tree)TreeGen.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#277102" title="TreeGen.this.global.Tree">tree</a>, <a href="#235464" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#67899" title="=&gt; TreeGen.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(vparam: TreeGen.this.global.Symbol)TreeGen.this.global.Tree with Serializable" id="235486">paramToArg</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="277126">vparam</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Ident" id="277129">arg</a> = <a href="#235464" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#277126" title="TreeGen.this.global.Symbol">vparam</a><span class="delimiter">)</span>
    <span title="TreeGen extends TreeGen.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46396" title="(tp: TreeGen.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#277126" title="TreeGen.this.global.Symbol">vparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#235485" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="#277129" title="TreeGen.this.global.Ident">arg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#277129" title="TreeGen.this.global.Ident">arg</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(vparam: TreeGen.this.global.ValDef)TreeGen.this.global.Tree with Serializable" id="235487">paramToArg</a><span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="277152">vparam</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Ident" id="277155">arg</a> = <a href="#235464" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#277152" title="TreeGen.this.global.ValDef">vparam</a>.<span title="=&gt; TreeGen.this.global.TermName">name</span><span class="delimiter">)</span>
    <span title="TreeGen extends TreeGen.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#183119" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118935" title="(tpt: TreeGen.this.global.treeInfo.global.Tree)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#277152" title="TreeGen.this.global.ValDef">vparam</a>.<span title="=&gt; TreeGen.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#235485" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="#277155" title="TreeGen.this.global.Ident">arg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#277155" title="TreeGen.this.global.Ident">arg</a>
  <span class="delimiter">}</span>

  /** Make forwarder to method `target`, passing all parameters in `params` */
  <span class="keyword">def</span> <a title="(target: TreeGen.this.global.Tree, vparamss: List[List[TreeGen.this.global.Symbol]])TreeGen.this.global.Tree" id="235488">mkForwarder</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277180">target</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[List[TreeGen.this.global.Symbol]]" id="277181">vparamss</a>: <span title="List[List[TreeGen.this.global.Symbol]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="#277180" title="TreeGen.this.global.Tree">target</a> <a href="#277184" title="(z: TreeGen.this.global.Tree)(op: (TreeGen.this.global.Tree, List[TreeGen.this.global.Symbol]) =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">/:</a> <a href="#277181" title="List[List[TreeGen.this.global.Symbol]]">vparamss</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277197">fn</a>, <a title="List[TreeGen.this.global.Symbol]" id="277198">vparams</a><span class="delimiter">)</span> =&gt; <a href="#235464" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#277197" title="TreeGen.this.global.Tree">fn</a>, <a href="#277198" title="List[TreeGen.this.global.Symbol]">vparams</a> <span title="(f: TreeGen.this.global.Symbol =&gt; TreeGen.this.global.Tree with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Symbol],TreeGen.this.global.Tree with Serializable,List[TreeGen.this.global.Tree with Serializable]])List[TreeGen.this.global.Tree with Serializable]">map</span> <a href="#235486" title="(vparam: TreeGen.this.global.Symbol)TreeGen.this.global.Tree with Serializable">paramToArg</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Applies a wrapArray call to an array, making it a WrappedArray.
   *  Don't let a reference type parameter be inferred, in case it's a singleton:
   *  apply the element type directly.
   */
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, elemtp: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="235489">mkWrapArray</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277269">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="277270">elemtp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../../reflect/internal/TreeGen.scala.html#92618" title="(receiver: TreeGen.this.global.Symbol, methodName: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkMethodCall</a><span class="delimiter">(</span>
      <a href="../../../reflect/internal/Definitions.scala.html#46333" title="=&gt; TreeGen.this.global.Symbol">PredefModule</a>,
      <a href="../../../reflect/internal/Definitions.scala.html#46535" title="(elemtp: TreeGen.this.global.Type)TreeGen.this.global.TermName">wrapArrayMethodName</a><span class="delimiter">(</span><a href="#277270" title="TreeGen.this.global.Type">elemtp</a><span class="delimiter">)</span>,
      <span title="List[TreeGen.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46782" title="(tp: TreeGen.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#277270" title="TreeGen.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span title="(xs: TreeGen.this.global.Type*)List[TreeGen.this.global.Type]">List</span><span class="delimiter">(</span><a href="#277270" title="TreeGen.this.global.Type">elemtp</a><span class="delimiter">)</span>,
      <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#277269" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Generate a cast for tree Tree representing Array with
   *  elem type elemtp to expected type pt.
   */
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, elemtp: TreeGen.this.global.Type, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="235490">mkCastArray</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277295">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="277296">elemtp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Type" id="277297">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#277296" title="TreeGen.this.global.Type">elemtp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; TreeGen.this.global.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46782" title="(tp: TreeGen.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#277295" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[TreeGen.this.global.Type]">typeArgs</a>.<span title="=&gt; TreeGen.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/TreeGen.scala.html#92633" title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#235480" title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60346" title="=&gt; TreeGen.this.global.nme.NameType">toObjectArray</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#277295" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#277297" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="../../../reflect/internal/TreeGen.scala.html#92633" title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#277295" title="TreeGen.this.global.Tree">tree</a>, <a href="#277297" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>

  /** Translate names in Select/Ident nodes to type names.
   */
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.RefTree]" id="235491">convertToTypeName</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277319">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[TreeGen.this.global.RefTree]">Option</span><span class="delimiter">[</span>RefTree<span class="delimiter">]</span> = <a href="#277319" title="TreeGen.this.global.Tree">tree</a> <span title="Option[TreeGen.this.global.RefTree]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Select]">Select</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277325">qual</a>, <a title="TreeGen.this.global.Name" id="277326">name</a><span class="delimiter">)</span> =&gt; <span title="(x: TreeGen.this.global.Select)Some[TreeGen.this.global.Select]">Some</span><span class="delimiter">(</span><a href="#235464" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#277325" title="TreeGen.this.global.Tree">qual</a>, <a href="#277326" title="TreeGen.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53413" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Ident]">Ident</span><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="277353">name</a><span class="delimiter">)</span>        =&gt; <span title="(x: TreeGen.this.global.Ident)Some[TreeGen.this.global.Ident]">Some</span><span class="delimiter">(</span><a href="#235464" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#277353" title="TreeGen.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53413" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span>                  =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>

  /** Try to convert Select(qual, name) to a SelectFromTypeTree.
   */
  <span class="keyword">def</span> <a title="(qual: TreeGen.this.global.Tree, origName: TreeGen.this.global.Name)TreeGen.this.global.Tree with Serializable" id="235492">convertToSelectFromType</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277367">qual</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Name" id="277368">origName</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#235491" title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.RefTree]">convertToTypeName</a><span class="delimiter">(</span><a href="#277367" title="TreeGen.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="TreeGen extends TreeGen.this.global.Tree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.SelectFromTypeTree">Some</span><span class="delimiter">(</span><a title="TreeGen.this.global.RefTree" id="277372">qual1</a><span class="delimiter">)</span>  =&gt; <a href="#235464" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.TypeName)TreeGen.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#277372" title="TreeGen.this.global.RefTree">qual1</a> <span title="(pos: TreeGen.this.global.Position)qual1.type">setPos</span> <a href="#277367" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>, <a href="#277368" title="TreeGen.this.global.Name">origName</a>.<a href="../../../reflect/internal/Names.scala.html#53413" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.EmptyTree.type">_</span>            =&gt; <a href="#235464" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>
  <span class="delimiter">}</span>

  /** Create a ValDef initialized to the given expression, setting the
   *  symbol to its packed type, and an function for creating Idents
   *  which refer to it.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, name: TreeGen.this.global.Name)(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" id="235493">mkPackedValDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277393">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Symbol" id="277394">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Name" id="277395">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" class="delimiter">(</span>ValDef, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Ident<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.analyzer.global.Type" id="277397">packedType</a> = <a href="../Global.scala.html#182992" title="object TreeGen.this.global.typer">typer</a>.<a href="../typechecker/Typers.scala.html#184422" title="(tree: TreeGen.this.global.analyzer.global.Tree, owner: TreeGen.this.global.analyzer.global.Symbol)TreeGen.this.global.analyzer.global.Type">packedType</a><span class="delimiter">(</span><a href="#277393" title="TreeGen.this.global.Tree">expr</a>, <a href="#277394" title="TreeGen.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="277398">sym</a> = <a href="#277394" title="TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47698" title="(name: TreeGen.this.global.TermName, pos: TreeGen.this.global.Position, newFlags: Long)TreeGen.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: TreeGen.this.global.Name)TreeGen.this.global.TermName">name</a>, <a href="#277393" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183792" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a> <a href="#277397" title="TreeGen.this.global.analyzer.global.Type">packedType</a>

    <span title="(_1: TreeGen.this.global.ValDef, _2: () =&gt; TreeGen.this.global.Ident)(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40610" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#277398" title="TreeGen.this.global.TermSymbol">sym</a>, <a href="#277393" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#235464" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#277398" title="TreeGen.this.global.TermSymbol">sym</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Ident">setPos</span> <a href="#277398" title="TreeGen.this.global.TermSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Ident">setType</span> <a href="#277393" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Used in situations where you need to access value of an expression several times
   */
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, unit: TreeGen.this.global.CompilationUnit)(within: (() =&gt; TreeGen.this.global.Tree) =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235494">evalOnce</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277446">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Symbol" id="277447">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.CompilationUnit" id="277448">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="TreeGen.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(() =&gt; TreeGen.this.global.Tree) =&gt; TreeGen.this.global.Tree" id="277449">within</a>: <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Boolean" id="277451">used</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#183119" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: TreeGen.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#277446" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#277449" title="(v1: () =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#277451" title="Boolean">used</a><span class="delimiter">)</span> <a href="#277446" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; expr.type">duplicate</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#277451" title="Boolean">used</a> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#277446" title="TreeGen.this.global.Tree">expr</a> <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#277456" title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" class="delimiter">(</a><a href="#277455" title="TreeGen.this.global.ValDef" id="277456">valDef</a>, <a href="#277455" title="() =&gt; TreeGen.this.global.Ident" id="277457">identFn</a><span class="delimiter">)</span> = <a href="#235493" title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, name: TreeGen.this.global.Name)(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)">mkPackedValDef</a><span title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident) @unchecked" class="delimiter">(</span><a href="#277446" title="TreeGen.this.global.Tree">expr</a>, <a href="#277447" title="TreeGen.this.global.Symbol">owner</a>, <a href="#277448" title="TreeGen.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185112" title="(prefix: String)TreeGen.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;ev$&quot;)" class="string">&quot;ev$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="277458">containing</a> = <a href="#277449" title="(v1: () =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><a href="#277457" title="() =&gt; TreeGen.this.global.Ident">identFn</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Positions.scala.html#40670" title="(tree: TreeGen.this.global.Tree, others: List[TreeGen.this.global.Tree])Unit">ensureNonOverlapping</a><span class="delimiter">(</span><a href="#277458" title="TreeGen.this.global.Tree">containing</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#277446" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#235464" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: TreeGen.this.global.ValDef*)List[TreeGen.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#277456" title="TreeGen.this.global.ValDef">valDef</a><span class="delimiter">)</span>, <a href="#277458" title="TreeGen.this.global.Tree">containing</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Block">setPos</span> <span class="delimiter">(</span><a href="#277458" title="TreeGen.this.global.Tree">containing</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span> <a href="../util/Position.scala.html#183804" title="(pos: scala.tools.nsc.util.Position)scala.tools.nsc.util.Position">union</a> <a href="#277446" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(exprs: List[TreeGen.this.global.Tree], owner: TreeGen.this.global.Symbol, unit: TreeGen.this.global.CompilationUnit)(within: List[() =&gt; TreeGen.this.global.Tree] =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="235495">evalOnceAll</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="277510">exprs</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Symbol" id="277511">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.CompilationUnit" id="277512">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="TreeGen.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[() =&gt; TreeGen.this.global.Tree] =&gt; TreeGen.this.global.Tree" id="277513">within</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]" id="277515">vdefs</a> = <span title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">ListBuffer</span><span class="delimiter">[</span>ValDef<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]" id="277516">exprs1</a> = <span title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="Array[Boolean]" id="277517">used</a> = <span title="Array[Boolean]" class="keyword">new</span> <span title="Array[Boolean]">Array</span><span class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">(</span><a href="#277510" title="List[TreeGen.this.global.Tree]">exprs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="Int" id="277518">i</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277540">expr</a> &lt;- <a href="#277510" title="(f: TreeGen.this.global.Tree =&gt; Unit)Unit">exprs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="exprs1.type" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#183119" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: TreeGen.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#277540" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#277516" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a> <span title="(x: () =&gt; TreeGen.this.global.Tree)exprs1.type">+=</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="277550">idx</a> = <a href="#277518" title="Int">i</a>
          <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#277517" title="(i: Int)Boolean">used</a><span class="delimiter">(</span><a href="#277550" title="Int">idx</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#277540" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; expr.type">duplicate</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#277517" title="(i: Int, x: Boolean)Unit">used</a><span class="delimiter">(</span><a href="#277550" title="Int">idx</a><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#277540" title="TreeGen.this.global.Tree">expr</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#277555" title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" class="delimiter">(</a><a href="#277554" title="TreeGen.this.global.ValDef" id="277555">valDef</a>, <a href="#277554" title="() =&gt; TreeGen.this.global.Ident" id="277556">identFn</a><span class="delimiter">)</span> = <a href="#235493" title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, name: TreeGen.this.global.Name)(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)">mkPackedValDef</a><span title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident) @unchecked" class="delimiter">(</span><a href="#277540" title="TreeGen.this.global.Tree">expr</a>, <a href="#277511" title="TreeGen.this.global.Symbol">owner</a>, <a href="#277512" title="TreeGen.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185112" title="(prefix: String)TreeGen.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;ev$&quot;)" class="string">&quot;ev$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#277515" title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">vdefs</a> <span title="(x: TreeGen.this.global.ValDef)vdefs.type">+=</span> <a href="#277555" title="TreeGen.this.global.ValDef">valDef</a>
        <a href="#277516" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a> <span title="(x: () =&gt; TreeGen.this.global.Tree)exprs1.type">+=</span> <a href="#277556" title="() =&gt; TreeGen.this.global.Ident">identFn</a>
      <span class="delimiter">}</span>
      <a href="#277518" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[TreeGen.this.global.ValDef]" id="277519">prefix</a> = <a href="#277515" title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">vdefs</a>.<span title="=&gt; List[TreeGen.this.global.ValDef]">toList</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="277520">containing</a> = <a href="#277513" title="(v1: List[() =&gt; TreeGen.this.global.Tree])TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><a href="#277516" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a>.<span title="=&gt; List[() =&gt; TreeGen.this.global.Tree]">toList</span><span class="delimiter">)</span>
    <a href="../../../reflect/internal/Positions.scala.html#40670" title="(tree: TreeGen.this.global.Tree, others: List[TreeGen.this.global.Tree])Unit">ensureNonOverlapping</a><span class="delimiter">(</span><a href="#277520" title="TreeGen.this.global.Tree">containing</a>, <a href="#277510" title="List[TreeGen.this.global.Tree]">exprs</a><span class="delimiter">)</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#277519" title="List[TreeGen.this.global.ValDef]">prefix</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#277520" title="TreeGen.this.global.Tree">containing</a>
    <span class="keyword">else</span> <a href="#235464" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#277519" title="List[TreeGen.this.global.ValDef]">prefix</a>, <a href="#277520" title="TreeGen.this.global.Tree">containing</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Block">setPos</span> <span class="delimiter">(</span><a href="#277519" title="List[TreeGen.this.global.ValDef]">prefix</a>.<span title="=&gt; TreeGen.this.global.ValDef">head</span>.<span title="=&gt; TreeGen.this.global.Position">pos</span> <a href="../util/Position.scala.html#183804" title="(pos: scala.tools.nsc.util.Position)scala.tools.nsc.util.Position">union</a> <a href="#277520" title="TreeGen.this.global.Tree">containing</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Return a double-checked locking idiom around the syncBody tree. It guards with `cond` and
   *  synchronizez on `clazz.this`. Additional statements can be included after initialization,
   *  (outside the synchronized block).
   *
   *  The idiom works only if the condition is using a volatile field.
   *  @see http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html
   */
  <span class="keyword">def</span> <a title="(clazz: TreeGen.this.global.Symbol, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="235496">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="277614">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="277615">cond</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="277616">syncBody</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="277617">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#235497" title="(attrThis: TreeGen.this.global.Tree, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="../../../reflect/internal/TreeGen.scala.html#92636" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#277614" title="TreeGen.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#277615" title="TreeGen.this.global.Tree">cond</a>, <a href="#277616" title="List[TreeGen.this.global.Tree]">syncBody</a>, <a href="#277617" title="List[TreeGen.this.global.Tree]">stats</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(attrThis: TreeGen.this.global.Tree, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="235497">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="277623">attrThis</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="277624">cond</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="277625">syncBody</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="277626">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <a href="#235464" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#277624" title="TreeGen.this.global.Tree">cond</a>,
       <a href="../../../reflect/internal/Trees.scala.html#40629" title="(stats: TreeGen.this.global.Tree*)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
         <a href="#235484" title="(monitor: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkSynchronized</a><span class="delimiter">(</span>
           <a href="#277623" title="TreeGen.this.global.Tree">attrThis</a>,
           <a href="#235464" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#277624" title="TreeGen.this.global.Tree">cond</a>, <a href="../../../reflect/internal/Trees.scala.html#40629" title="(stats: TreeGen.this.global.Tree*)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#277625" title="List[TreeGen.this.global.Tree]">syncBody</a>: _*<span class="delimiter">)</span>, <a href="#235464" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#277635" title="(x: TreeGen.this.global.Tree)List[TreeGen.this.global.Tree]">::</a>
         <a href="#277626" title="List[TreeGen.this.global.Tree]">stats</a>: _*<span class="delimiter">)</span>,
       <a href="#235464" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>