<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/opt/Inliners.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Iulian Dragos
 */


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.opt

<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> scala.tools.nsc.symtab._
<span class="keyword">import</span> scala.tools.nsc.util.<span class="delimiter">{</span> NoSourceFile <span class="delimiter">}</span>

/**
 *  @author Iulian Dragos
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Inliners extends scala.tools.nsc.SubComponent with ScalaObject" id="18468">Inliners</a> <a href="#18468" title="ScalaObject" class="keyword">extends</a> <a href="../../SubComponent.scala.html#12956" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../../SubComponent.scala.html#228250" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#182864" title="object Inliners.this.global.icodes">icodes</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#182864" title="object Inliners.this.global.icodes">icodes</a>.<a href="../icode/Opcodes.scala.html#228942" title="object Inliners.this.global.icodes.opcodes">opcodes</a>._
  <span class="keyword">import</span> <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object Inliners.this.global.definitions">definitions</a>.<span class="delimiter">{</span>
    NullClass, NothingClass, ObjectClass,
    PredefModule, RuntimePackage, ScalaInlineClass, ScalaNoInlineClass,
    isFunctionType
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="String" id="239603">phaseName</a> = <span title="String(&quot;inliner&quot;)" class="string">&quot;inliner&quot;</span>

  /** Debug - for timing the inliner. */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](s: String, body: =&gt; T)T" id="239605">timed</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="239607">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="370293">s</a>: <span title="String">String</span>, <a title="=&gt; T" id="370294">body</a>: =&gt; T<span class="delimiter">)</span>: <a href="#239607" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="370298">t1</a> = <span title="object System">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="T" id="370299">res</a> = <a href="#370294" title="=&gt; T">body</a>
    <span class="keyword">val</span> <a title="Long" id="370300">t2</a> = <span title="object System">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Int" id="370301">ms</a> = <span class="delimiter">(</span><a href="#370300" title="Long">t2</a> <span title="(x: Long)Long">-</span> <a href="#370298" title="Long">t1</a><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370301" title="Int">ms</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2000)">MAX_INLINE_MILLIS</span><span class="delimiter">)</span>
      <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s: %d milliseconds&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#370293" title="String">s</a>, <a href="#370301" title="Int">ms</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#370299" title="T">res</a>
  <span class="delimiter">}</span>

  /* A warning threshold */
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(2000)" id="239608">MAX_INLINE_MILLIS</a> = <span title="Int(2000)" class="int">2000</span>

  /** The maximum size in basic blocks of methods considered for inlining. */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(16)" id="239610">MAX_INLINE_SIZE</a> = <span title="Int(16)" class="int">16</span>

  /** Maximum loop iterations. */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(15)" id="239612">MAX_INLINE_RETRY</a> = <span title="Int(15)" class="int">15</span>

  /** Small method size (in blocks) */
  <span class="keyword">val</span> <a title="Int" id="239614">SMALL_METHOD_SIZE</a> = <span title="Int(1)" class="int">1</span>

  /** Create a new phase */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(p: scala.tools.nsc.Phase)Inliners.this.InliningPhase" id="239616">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="241089">p</a>: <a href="../../../../reflect/internal/Phase.scala.html#7654" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> = <span title="Inliners.this.InliningPhase" class="keyword">new</span> <a href="#239617" title="Inliners.this.InliningPhase">InliningPhase</a><span class="delimiter">(</span><a href="#241089" title="scala.tools.nsc.Phase">p</a><span class="delimiter">)</span>

  /** The Inlining phase.
   */
  <span class="keyword">class</span> <a title="class InliningPhase extends Inliners.this.global.icodes.ICodePhase with ScalaObject" id="239617">InliningPhase</a><a href="#239617" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="241099">prev</a>: <a href="../../../../reflect/internal/Phase.scala.html#7654" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../icode/ICodes.scala.html#228911" title="Inliners.this.global.icodes.ICodePhase">ICodePhase</a><span class="delimiter">(</span><a href="#241099" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="241095">name</a> = <a href="#239603" title="=&gt; String">phaseName</a>
    <span class="keyword">val</span> <a title="Inliners.this.Inliner" id="241096">inliner</a> = <span title="Inliners.this.Inliner" class="keyword">new</span> <a href="#239621" title="Inliners.this.Inliner">Inliner</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(c: Inliners.this.global.icodes.IClass)Unit" id="241098">apply</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="370357">c</a>: <a href="../icode/Members.scala.html#228924" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#241096" title="=&gt; Inliners.this.Inliner">inliner</a> <a href="#370335" title="(cls: Inliners.this.global.icodes.IClass)Unit">analyzeClass</a> <a href="#370357" title="Inliners.this.global.icodes.IClass">c</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="239618">isBottomType</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370376">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#370376" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46291" title="object Inliners.this.global.definitions.NullClass">NullClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#370376" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46289" title="object Inliners.this.global.definitions.NothingClass">NothingClass</a>
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)String" id="239619">posToStr</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="370387">pos</a>: util.<a href="../../util/Position.scala.html#34604" title="scala.tools.nsc.util.Position">Position</a><span class="delimiter">)</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#370387" title="scala.tools.nsc.util.Position">pos</a>.<a href="../../util/Position.scala.html#183788" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#370387" title="scala.tools.nsc.util.Position">pos</a>.<a href="../../util/Position.scala.html#183795" title="=&gt; Int">point</a>.<span title="()String">toString</span> <span class="keyword">else</span> <span title="String(&quot;&lt;nopos&gt;&quot;)" class="string">&quot;&lt;nopos&gt;&quot;</span>

  /** Is the given class a closure? */
  <span class="keyword">def</span> <a title="(cls: Inliners.this.global.Symbol)Boolean" id="239620">isClosureClass</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="347764">cls</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#347764" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48079" title="=&gt; Boolean">isFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#347764" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#347764" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#347764" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47816" title="=&gt; Boolean">isAnonymousFunction</a>

  /**
   * Simple inliner.
   */
  <span class="keyword">class</span> <a title="class Inliner extends Object with ScalaObject" id="239621">Inliner</a> <a href="#239621" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">object</span> <a title="object Inliner.this.NonPublicRefs" id="370323">NonPublicRefs</a> <span title="ScalaObject" class="keyword">extends</span> <span title="Enumeration">Enumeration</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="370367">Private</a>, <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="370369">Protected</a>, <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="370371">Public</a> = <span title="=&gt; scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value">Value</span>

      /** Cache whether a method calls private members. */
      <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]" id="370373">usesNonPublics</a>: mutable.<span title="scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]">Map</span><span class="delimiter">[</span>IMethod, Value<span class="delimiter">]</span> = <a href="../../../../reflect/internal/SymbolTable.scala.html#36987" title="object Inliners.this.global.perRunCaches">perRunCaches</a>.<a href="../../../../reflect/internal/SymbolTable.scala.html#110477" title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]">newMap</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">import</span> <a href="#370323" title="object Inliner.this.NonPublicRefs">NonPublicRefs</a>._

    /* fresh name counter */
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[String,Int]" id="370326">fresh</a> = <a href="../../../../reflect/internal/SymbolTable.scala.html#36987" title="object Inliners.this.global.perRunCaches">perRunCaches</a>.<a href="../../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[String,Int]" class="delimiter">[</span><span title="String">String</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: Int)scala.collection.mutable.Map[String,Int]">withDefaultValue</span> <span title="Int(0)" class="int">0</span>
    <span class="keyword">def</span> <a title="(s: String)Inliners.this.global.TermName" id="370328">freshName</a><span class="delimiter">(</span><a title="String" id="370414">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Names.scala.html#39685" title="Inliners.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
      <a href="#370326" title="(key: String, value: Int)Unit">fresh</a><span class="delimiter">(</span><a href="#370414" title="String">s</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <a href="../../../../reflect/internal/Names.scala.html#39670" title="(s: String)Inliners.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#370414" title="String">s</a> <span title="(x$1: Any)String">+</span> <a href="#370326" title="(key: String)Int">fresh</a><span class="delimiter">(</span><a href="#370414" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="370329">hasInline</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370479">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="#370479" title="Inliners.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Inliners.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#46713" title="=&gt; Inliners.this.global.Symbol">ScalaInlineClass</a>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="370330">hasNoInline</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370483">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#370483" title="Inliners.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Inliners.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#46715" title="=&gt; Inliners.this.global.Symbol">ScalaNoInlineClass</a>

    /** The current iclass */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Inliners.this.global.icodes.IClass" id="370332">currentIClazz</a>: <a href="../icode/Members.scala.html#228924" title="Inliners.this.global.icodes.IClass">IClass</a> = _
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Inliners.this.global.Position, msg: String)Unit" id="370334">warn</a><span class="delimiter">(</span><a title="Inliners.this.global.Position" id="370487">pos</a>: <a href="../../util/Position.scala.html#34604" title="Inliners.this.global.Position">Position</a>, <a title="String" id="370488">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#370332" title="=&gt; Inliners.this.global.icodes.IClass">currentIClazz</a>.<a href="../icode/Members.scala.html#229228" title="=&gt; Inliners.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#185132" title="(pos: Inliners.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#370487" title="Inliners.this.global.Position">pos</a>, <a href="#370488" title="String">msg</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(cls: Inliners.this.global.icodes.IClass)Unit" id="370335">analyzeClass</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="370365">cls</a>: <a href="../icode/Members.scala.html#228924" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183456" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">inline</a>.<a href="../../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Analyzing &quot;)" class="string">&quot;Analyzing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370365" title="Inliners.this.global.icodes.IClass">cls</a><span class="delimiter">)</span>

        <a href="#239621" title="Inliner.this.type" class="keyword">this</a>.<a href="#370332" title="(x$1: Inliners.this.global.icodes.IClass)Unit">currentIClazz</a> = <a href="#370365" title="Inliners.this.global.icodes.IClass">cls</a>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.IMethod]" id="370496">ms</a> = <a href="#370365" title="Inliners.this.global.icodes.IClass">cls</a>.<a href="../icode/Members.scala.html#229225" title="=&gt; List[Inliners.this.global.icodes.IMethod]">methods</a> <span title="(p: Inliners.this.global.icodes.IMethod =&gt; Boolean)List[Inliners.this.global.icodes.IMethod]">filterNot</span> <span class="delimiter">{</span> <a href="#370506" title="Inliners.this.global.icodes.IMethod">_</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span class="delimiter">}</span>
        <a href="#370496" title="List[Inliners.this.global.icodes.IMethod]">ms</a> <span title="(f: Inliners.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.IMethod" id="370526">im</a> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#370329" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#370526" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Not inlining into &quot;)" class="string">&quot;Not inlining into &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370526" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47885" title="=&gt; Inliners.this.global.icodes.global.Name">originalName</a>.<a href="../../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; because it is marked @inline.&quot;)" class="string">&quot; because it is marked @inline.&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#370526" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#312638" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#370346" title="(m: Inliners.this.global.icodes.IMethod)Unit">analyzeMethod</a><span class="delimiter">(</span><a href="#370526" title="Inliners.this.global.icodes.IMethod">im</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Inliners.this.global.analysis.MTFAGrowable" id="370336">tfa</a>   = <span title="Inliners.this.global.analysis.MTFAGrowable" class="keyword">new</span> <a href="../../Global.scala.html#182870" title="object Inliners.this.global.analysis">analysis</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#235980" title="Inliners.this.global.analysis.MTFAGrowable">MTFAGrowable</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#370336" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#338290" title="(x$1: Boolean)Unit">stat</a>  = <a href="../../SubComponent.scala.html#228250" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#182909" title="object Inliners.this.global.opt">opt</a>.<a href="../../settings/AestheticSettings.scala.html#229285" title="=&gt; Boolean">printStats</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]" id="370338">staleOut</a> = <span title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">ListBuffer</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" id="370340">splicedBlocks</a> = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../icode/BasicBlocks.scala.html#228937" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" id="370342">staleIn</a>  = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../icode/BasicBlocks.scala.html#228937" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>

    // how many times have we already inlined this method here?
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]" id="370344">inlinedMethodCount</a> = <a href="../../../../reflect/internal/SymbolTable.scala.html#36987" title="object Inliners.this.global.perRunCaches">perRunCaches</a>.<a href="../../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Inliners.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: Int)scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]">withDefaultValue</span> <span title="Int(0)" class="int">0</span>

    <span class="keyword">def</span> <a title="(m: Inliners.this.global.icodes.IMethod)Unit" id="370346">analyzeMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="370528">m</a>: <a href="../icode/Members.scala.html#228928" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="370531">sizeBeforeInlining</a>  = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312638" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312603" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#312706" title="=&gt; Int">blockCount</a> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="370532">instrBeforeInlining</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312638" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312603" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#312707" title="=&gt; Int">instructionCount</a> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Boolean" id="370533">retry</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">var</span> <a title="Int" id="370534">count</a> = <span title="Int(0)" class="int">0</span>
      <a href="#370326" title="=&gt; scala.collection.mutable.Map[String,Int]">fresh</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#370344" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]">inlinedMethodCount</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="370535">caller</a> = <span title="Inliner.this.IMethodInfo" class="keyword">new</span> <a href="#370351" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">(</span><a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Inliner.this.tfa.lattice.Elem" id="370536">info</a>: tfa.lattice.<a href="../icode/analysis/SemiLattice.scala.html#337685" title="Inliner.this.tfa.lattice.Elem">Elem</a> = <span title="Null(null)" class="keyword">null</span>

      <span class="keyword">def</span> <a title="(msym: Inliners.this.global.Symbol, i: Inliners.this.global.icodes.Instruction, bb: Inliners.this.global.icodes.BasicBlock)Boolean" id="370537">analyzeInc</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370577">msym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.icodes.Instruction" id="370578">i</a>: <a href="../icode/Opcodes.scala.html#228941" title="Inliners.this.global.icodes.Instruction">Instruction</a>, <a title="Inliners.this.global.icodes.BasicBlock" id="370579">bb</a>: <a href="../icode/BasicBlocks.scala.html#228937" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Boolean" id="370580">inlined</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.Type]" id="370581">paramTypes</a>  = <a href="#370577" title="Inliners.this.global.Symbol">msym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[Inliners.this.global.Type]">paramTypes</a>
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.Symbol" id="370582">receiver</a>    = <span class="delimiter">(</span><a href="#370536" title="Inliner.this.tfa.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#340761" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#326486" title="=&gt; Inliners.this.global.analysis.global.icodes.Rep">types</a> <span title="(n: Int)List[Inliners.this.global.analysis.global.icodes.TypeKind]">drop</span> <a href="#370581" title="=&gt; List[Inliners.this.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Inliners.this.global.icodes.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Inliners.this.global.NoSymbol.type">Nil</span>               =&gt; <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;analyzeInc(&quot;)" class="string">&quot;analyzeInc(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370577" title="Inliners.this.global.Symbol">msym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;), no type on the stack!&quot;)" class="string">&quot;), no type on the stack!&quot;</span><span class="delimiter">)</span> ; <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object Inliners.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">case</span> <span title="Inliners.this.global.icodes.global.Symbol">REFERENCE</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="370600">s</a><span class="delimiter">)</span> :: _ =&gt; <a href="#370600" title="Inliners.this.global.icodes.global.Symbol">s</a>
          <span class="keyword">case</span> <span title="Inliners.this.global.NoSymbol.type">_</span>                 =&gt; <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object Inliners.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Inliners.this.global.Symbol" id="370583">concreteMethod</a>  = <a href="#370350" title="(sym: Inliners.this.global.Symbol, clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookupImplFor</a><span class="delimiter">(</span><a href="#370577" title="Inliners.this.global.Symbol">msym</a>, <a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(reason: String)Unit" id="370584">warnNoInline</a><span class="delimiter">(</span><a title="String" id="370604">reason</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370329" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#370577" title="Inliners.this.global.Symbol">msym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#370535" title="Inliner.this.IMethodInfo">caller</a>.<a href="#370554" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span>
            <a href="#370334" title="(pos: Inliners.this.global.Position, msg: String)Unit">warn</a><span class="delimiter">(</span><a href="#370578" title="Inliners.this.global.icodes.Instruction">i</a>.<a href="../icode/Opcodes.scala.html#313078" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Could not inline required method %s because %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#370577" title="Inliners.this.global.Symbol">msym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47885" title="=&gt; Inliners.this.global.Name">originalName</a>.<a href="../../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a>, <a href="#370604" title="String">reason</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370349" title="(sym: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Boolean">shouldLoadImplFor</a><span class="delimiter">(</span><a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a>, <a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // Until r22824 this line was:
          //   icodes.icode(concreteMethod.enclClass, true)
          //
          // Changing it to the below was the proximate cause for SI-3882:
          //   error: Illegal index: 0 overlaps List((variable par1,LONG))
          //   error: Illegal index: 0 overlaps List((variable par1,LONG))
          <a href="../../Global.scala.html#182864" title="object Inliners.this.global.icodes">icodes</a>.<a href="../icode/Repository.scala.html#229116" title="(sym: Inliners.this.global.icodes.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; Inliners.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="=&gt; Boolean" id="370585">isAvailable</a> = <a href="../../Global.scala.html#182864" title="object Inliners.this.global.icodes">icodes</a> <a href="../icode/Repository.scala.html#229113" title="(sym: Inliners.this.global.icodes.global.Symbol)Boolean">available</a> <a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; Inliners.this.global.Symbol">enclClass</a>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="370586">isCandidate</a> = <span class="delimiter">(</span>
             <a href="#239620" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span>
          <span title="(x: Boolean)Boolean">||</span> <a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a>
          <span title="(x: Boolean)Boolean">||</span> <a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a>
        <span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="370587">isApply</a>     = <a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Inliners.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object Inliners.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Inliners.this.global.nme.NameType">apply</a>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="370588">isCountable</a> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span>
             <a href="#239620" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span>
          <span title="(x: Boolean)Boolean">||</span> <a href="#370587" title="=&gt; Boolean">isApply</a>
          <span title="(x: Boolean)Boolean">||</span> <a href="#370347" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a><span class="delimiter">)</span>
          <span title="(x: Boolean)Boolean">||</span> <a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47998" title="=&gt; Inliners.this.global.icodes.global.Symbol">enclosingPackage</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object Inliners.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46256" title="=&gt; Inliners.this.global.Symbol">RuntimePackage</a>
        <span class="delimiter">)</span>   // only count non-closures

        <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Treating &quot;)" class="string">&quot;Treating &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370578" title="Inliners.this.global.icodes.Instruction">i</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\treceiver: &quot;)" class="string">&quot;\n\treceiver: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\ticodes.available: &quot;)" class="string">&quot;\n\ticodes.available: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370585" title="=&gt; Boolean">isAvailable</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\tconcreteMethod.isEffectivelyFinal: &quot;)" class="string">&quot;\n\tconcreteMethod.isEffectivelyFinal: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#370585" title="=&gt; Boolean">isAvailable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370586" title="=&gt; Boolean">isCandidate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#370353" title="(meth: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.IMethod]">lookupIMethod</a><span class="delimiter">(</span><a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a>, <a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Any">Some</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="370635">callee</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="370636">inc</a>   = <span title="Inliner.this.IMethodInfo" class="keyword">new</span> <a href="#370351" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">(</span><a href="#370635" title="Inliners.this.global.icodes.IMethod">callee</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Inliner.this.CallerCalleeInfo" id="370637">pair</a>  = <span title="Inliner.this.CallerCalleeInfo" class="keyword">new</span> <a href="#370352" title="Inliner.this.CallerCalleeInfo">CallerCalleeInfo</a><span class="delimiter">(</span><a href="#370535" title="Inliner.this.IMethodInfo">caller</a>, <a href="#370636" title="Inliner.this.IMethodInfo">inc</a><span class="delimiter">)</span>

              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#370637" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#370647" title="(stack: Inliners.this.global.icodes.TypeStack)Boolean">isStampedForInlining</a> <a href="#370536" title="Inliner.this.tfa.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#340761" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#370533" title="Boolean">retry</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#370580" title="Boolean">inlined</a> = <span title="Boolean(true)" class="keyword">true</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370588" title="=&gt; Boolean">isCountable</a><span class="delimiter">)</span>
                  <a href="#370534" title="Int">count</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

                <a href="#370637" title="Inliner.this.CallerCalleeInfo">pair</a>.<a href="#370646" title="(block: Inliners.this.global.icodes.BasicBlock, instr: Inliners.this.global.icodes.Instruction)Unit">doInline</a><span class="delimiter">(</span><a href="#370579" title="Inliners.this.global.icodes.BasicBlock">bb</a>, <a href="#370578" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#370636" title="Inliner.this.IMethodInfo">inc</a>.<a href="#370551" title="=&gt; Boolean">inline</a> <span title="(x: Boolean)Boolean">||</span> <a href="#370636" title="Inliner.this.IMethodInfo">inc</a>.<a href="#370557" title="=&gt; Boolean">isMonadic</a><span class="delimiter">)</span>
                  <a href="#370535" title="Inliner.this.IMethodInfo">caller</a>.<a href="#370571" title="(x$1: Int)Unit">inlinedCalls</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
                <a href="#370344" title="(key: Inliners.this.global.Symbol, value: Int)Unit">inlinedMethodCount</a><span class="delimiter">(</span><a href="#370636" title="Inliner.this.IMethodInfo">inc</a>.<a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

                /* Remove this method from the cache, as the calls-private relation
                 * might have changed after the inlining.
                 */
                <a href="#370373" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a> <span title="(key: Inliners.this.global.icodes.IMethod)Inliner.this.NonPublicRefs.usesNonPublics.type">-=</span> <a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                  <a href="#370637" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#370648" title="(stack: Inliners.this.global.icodes.TypeStack)Unit">logFailure</a> <a href="#370536" title="Inliner.this.tfa.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#340761" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>

                <a href="#370584" title="(reason: String)Unit">warnNoInline</a><span class="delimiter">(</span><a href="#370637" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#370649" title="(stack: Inliners.this.global.icodes.TypeStack)String">failureReason</a> <a href="#370536" title="Inliner.this.tfa.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#340761" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">None</span> =&gt;
              <a href="#370584" title="(reason: String)Unit">warnNoInline</a><span class="delimiter">(</span><span title="String(&quot;bytecode was not available&quot;)" class="string">&quot;bytecode was not available&quot;</span><span class="delimiter">)</span>
              <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;could not find icode\n\treceiver: &quot;)" class="string">&quot;could not find icode\n\treceiver: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370582" title="Inliners.this.global.icodes.global.Symbol">receiver</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\tmethod: &quot;)" class="string">&quot;\n\tmethod: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370583" title="Inliners.this.global.Symbol">concreteMethod</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#370584" title="(reason: String)Unit">warnNoInline</a><span class="delimiter">(</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#370585" title="=&gt; Boolean">isAvailable</a><span class="delimiter">)</span> <span title="String(&quot;bytecode was not available&quot;)" class="string">&quot;bytecode was not available&quot;</span>
          <span class="keyword">else</span> <span title="String(&quot;it can be overridden&quot;)" class="string">&quot;it can be overridden&quot;</span>
        <span class="delimiter">)</span>
        <a href="#370580" title="Boolean">inlined</a>
      <span class="delimiter">}</span>

      <span class="keyword">import</span> scala.util.control.<span title="object scala.util.control.Breaks">Breaks</span>._
      <a href="#370539" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
        <a href="#370533" title="Boolean">retry</a> = <span title="Boolean(false)" class="keyword">false</span>
        <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Analyzing &quot;)" class="string">&quot;Analyzing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; count &quot;)" class="string">&quot; count &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370534" title="Int">count</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370535" title="Inliner.this.IMethodInfo">caller</a>.<a href="#370561" title="=&gt; Int">length</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; blocks&quot;)" class="string">&quot; blocks&quot;</span><span class="delimiter">)</span>
        <a href="#370336" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#344814" title="(m: Inliners.this.global.analysis.global.icodes.IMethod, staleOut: List[Inliners.this.global.analysis.global.icodes.BasicBlock], inlined: scala.collection.Set[Inliners.this.global.analysis.global.icodes.BasicBlock], staleIn: scala.collection.Set[Inliners.this.global.analysis.global.icodes.BasicBlock])Unit">reinit</a><span class="delimiter">(</span><a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>, <a href="#370338" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a>.<span title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">toList</span>, <a href="#370340" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a>, <a href="#370342" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a><span class="delimiter">)</span>
        <a href="#370336" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#343482" title="()Unit">run</a>
        <a href="#370338" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#370340" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#370342" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <a href="#370535" title="Inliner.this.IMethodInfo">caller</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312610" title="(lin: Inliners.this.global.icodes.Linearizer)List[Inliners.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="370844">bb</a> =&gt;
          <a href="#370536" title="Inliner.this.tfa.lattice.Elem">info</a> = <a href="#370336" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a> <a href="../icode/analysis/DataFlowAnalysis.scala.html#338283" title="(key: Inliner.this.tfa.P)Inliner.this.tfa.lattice.Elem">in</a> <a href="#370844" title="Inliners.this.global.icodes.BasicBlock">bb</a>

          <span title="(op: =&gt; Unit)Unit">breakable</span> <span class="delimiter">{</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="370872">i</a> &lt;- <a href="../icode/BasicBlocks.scala.html#312548" title="(f: Inliners.this.global.icodes.Instruction =&gt; Unit)Unit">bb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#370872" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                // Dynamic == normal invocations
                // Static(true) == calls to private members
                <span class="keyword">case</span> <span title="Unit">CALL_METHOD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="370875">msym</a>, <a href="../icode/Opcodes.scala.html#241002" title="object Inliners.this.global.icodes.opcodes.Dynamic">Dynamic</a> | Static<span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#370875" title="Inliners.this.global.icodes.global.Symbol">msym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> =&gt;
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370537" title="(msym: Inliners.this.global.Symbol, i: Inliners.this.global.icodes.Instruction, bb: Inliners.this.global.icodes.BasicBlock)Boolean">analyzeInc</a><span class="delimiter">(</span><a href="#370875" title="Inliners.this.global.icodes.global.Symbol">msym</a>, <a href="#370872" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#370844" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="()Unit">break</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#370536" title="Inliner.this.tfa.lattice.Elem">info</a> = <a href="#370336" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#343484" title="(in: Inliners.this.global.analysis.typeFlowLattice.Elem, i: Inliners.this.global.analysis.global.icodes.Instruction)Inliners.this.global.analysis.typeFlowLattice.Elem">interpret</a><span class="delimiter">(</span><a href="#370536" title="Inliner.this.tfa.lattice.Elem">info</a>, <a href="#370872" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370336" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#338289" title="=&gt; Boolean">stat</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; iterations: &quot;)" class="string">&quot; iterations: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370336" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#338292" title="=&gt; Int">iterations</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; (size: &quot;)" class="string">&quot; (size: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370535" title="Inliner.this.IMethodInfo">caller</a>.<a href="#370561" title="=&gt; Int">length</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">while</span> <span class="delimiter">(</span><a href="#370533" title="Boolean">retry</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370534" title="Int">count</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(15)">MAX_INLINE_RETRY</span><span class="delimiter">)</span>

      <a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312652" title="()Unit">normalize</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370531" title="Int">sizeBeforeInlining</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="370890">instrAfterInlining</a> = <a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312603" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#312707" title="=&gt; Int">instructionCount</a>
        <span class="keyword">val</span> <a title="String" id="370891">prefix</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#370890" title="Int">instrAfterInlining</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(2)" class="int">2</span> <span title="(x: Int)Int">*</span> <a href="#370532" title="Int">instrBeforeInlining</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#370890" title="Int">instrAfterInlining</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(200)" class="int">200</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot; !! &quot;)" class="string">&quot; !! &quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#370891" title="String">prefix</a> <span title="(x$1: Any)String">+</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; %s blocks before inlining: %d (%d) after: %d (%d)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a>, <a href="#370531" title="Int">sizeBeforeInlining</a>, <a href="#370532" title="Int">instrBeforeInlining</a>, <a href="#370528" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312603" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#312706" title="=&gt; Int">blockCount</a>, <a href="#370890" title="Int">instrAfterInlining</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="370347">isMonadicMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370622">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object Inliners.this.global.nme">nme</a>.<a href="../../../../reflect/internal/NameManglers.scala.html#60685" title="(name: Inliners.this.global.Name)Inliners.this.global.Name">unspecializedName</a><span class="delimiter">(</span><a href="#370622" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Inliners.this.global.Name">name</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="Boolean(true)">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60240" title="=&gt; Inliners.this.global.nme.NameType">foreach</a> | <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object Inliners.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60232" title="=&gt; Inliners.this.global.nme.NameType">filter</a> | <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object Inliners.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60374" title="=&gt; Inliners.this.global.nme.NameType">withFilter</a> | <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object Inliners.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60284" title="=&gt; Inliners.this.global.nme.NameType">map</a> | <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object Inliners.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60238" title="=&gt; Inliners.this.global.nme.NameType">flatMap</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span>                                                                 =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="370348">isHigherOrderMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370909">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#370909" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; Inliners.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#70363" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#370909" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[Inliners.this.global.Type]">paramTypes</a> <span title="(p: Inliners.this.global.Type =&gt; Boolean)Boolean">exists</span> <a href="../../../../reflect/internal/Definitions.scala.html#46557" title="(tp: Inliners.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">)</span>

    /** Should method 'sym' being called in 'receiver' be loaded from disk? */
    <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Boolean" id="370349">shouldLoadImplFor</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370612">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="370613">receiver</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370932">alwaysLoad</a>    = <span class="delimiter">(</span><a href="#370613" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47998" title="=&gt; Inliners.this.global.Symbol">enclosingPackage</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46256" title="=&gt; Inliners.this.global.Symbol">RuntimePackage</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#370613" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46333" title="=&gt; Inliners.this.global.Symbol">PredefModule</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; Inliners.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370933">loadCondition</a> = <a href="#370612" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370347" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#370612" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370348" title="(sym: Inliners.this.global.Symbol)Boolean">isHigherOrderMethod</a><span class="delimiter">(</span><a href="#370612" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Boolean" id="370934">res</a> = <a href="#370329" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#370612" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#370932" title="=&gt; Boolean">alwaysLoad</a> <span title="(x: Boolean)Boolean">||</span> <a href="#370933" title="=&gt; Boolean">loadCondition</a>
      <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;shouldLoadImplFor: &quot;)" class="string">&quot;shouldLoadImplFor: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370613" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370612" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370934" title="Boolean">res</a><span class="delimiter">)</span>
      <a href="#370934" title="Boolean">res</a>
    <span class="delimiter">}</span>

    /** Look up implementation of method 'sym in 'clazz'.
     */
    <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol" id="370350">lookupImplFor</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370601">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="370602">clazz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      // TODO: verify that clazz.superClass is equivalent here to clazz.tpe.parents(0).typeSymbol (.tpe vs .info)
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370944">needsLookup</a> = <span class="delimiter">(</span>
           <span class="delimiter">(</span><a href="#370602" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object Inliners.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#370602" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#370601" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Inliners.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#370601" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370602" title="Inliners.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a>
      <span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol" id="370945">lookup</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370954">clazz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        // println(&quot;\t\tlooking up &quot; + meth + &quot; in &quot; + clazz.fullName + &quot; meth.owner = &quot; + meth.owner)
        <span title="Inliners.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#370601" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Inliners.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#370954" title="Inliners.this.global.Symbol">clazz</a> <span title="(x: Boolean)Boolean">||</span> <a href="#239618" title="(sym: Inliners.this.global.Symbol)Boolean">isBottomType</a><span class="delimiter">(</span><a href="#370954" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#370601" title="Inliners.this.global.Symbol">sym</a>
        <span class="keyword">else</span> <a href="#370601" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48014" title="(ofclazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#370954" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="Inliners.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="Inliners.this.global.Symbol">NoSymbol</a>  =&gt; <span title="Inliners.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#370601" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Inliners.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#370601" title="Inliners.this.global.Symbol">sym</a> <span class="keyword">else</span> <a href="#370945" title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#370954" title="Inliners.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47993" title="=&gt; Inliners.this.global.Symbol">superClass</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Inliners.this.global.Symbol" id="370962">imp</a>       =&gt; <a href="#370962" title="Inliners.this.global.Symbol">imp</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Inliners.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#370944" title="=&gt; Boolean">needsLookup</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Inliners.this.global.Symbol" id="370963">concreteMethod</a> = <a href="#370945" title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#370602" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\tlooked up method: &quot;)" class="string">&quot;\tlooked up method: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370963" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>

        <a href="#370963" title="Inliners.this.global.Symbol">concreteMethod</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#370601" title="Inliners.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class IMethodInfo extends Object with ScalaObject" id="370351">IMethodInfo</a><a href="#370351" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Inliners.this.global.icodes.IMethod" id="370576">m</a>: <a href="../icode/Members.scala.html#228928" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.Symbol" id="370544">sym</a>           = <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.Name" id="370546">name</a>          = <a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Inliners.this.global.icodes.global.Name">name</a>
      <span class="keyword">def</span> <a title="=&gt; Inliners.this.global.icodes.global.Symbol" id="370548">owner</a>         = <a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.global.Type]" id="370549">paramTypes</a>    = <a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Inliners.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[Inliners.this.global.icodes.global.Type]">paramTypes</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="370550">minimumStack</a>  = <a href="#370549" title="=&gt; List[Inliners.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370551">inline</a>        = <a href="#370329" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370552">noinline</a>      = <a href="#370330" title="(sym: Inliners.this.global.Symbol)Boolean">hasNoInline</a><span class="delimiter">(</span><a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="370553">numInlined</a>    = <a href="#370344" title="(key: Inliners.this.global.Symbol)Int">inlinedMethodCount</a><span class="delimiter">(</span><a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370554">isBridge</a>      = <a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47765" title="=&gt; Boolean">isBridge</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370555">isInClosure</a>   = <a href="#239620" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#370548" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370556">isHigherOrder</a> = <a href="#370348" title="(sym: Inliners.this.global.Symbol)Boolean">isHigherOrderMethod</a><span class="delimiter">(</span><a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370557">isMonadic</a>     = <a href="#370347" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]" id="370558">handlers</a>      = <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312620" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.BasicBlock]" id="370559">blocks</a>        = <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312609" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.Local]" id="370560">locals</a>        = <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312632" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="370561">length</a>        = <a href="#370559" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<span title="=&gt; Int">length</span>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.BasicBlock]" id="370562">openBlocks</a>    = <a href="#370559" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a> <span title="(p: Inliners.this.global.icodes.BasicBlock =&gt; Boolean)List[Inliners.this.global.icodes.BasicBlock]">filterNot</span> <span class="delimiter">(</span><a href="#371005" title="Inliners.this.global.icodes.BasicBlock">_</a>.<a href="../icode/BasicBlocks.scala.html#312521" title="=&gt; Boolean">closed</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.Instruction]" id="370563">instructions</a>  = <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312603" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#312705" title="=&gt; List[Inliners.this.global.icodes.Instruction]">instructions</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.BasicBlock]" id="370564">linearized</a>    = <a href="../icode/ICodes.scala.html#228881" title="=&gt; Inliners.this.global.icodes.Linearizer">linearizer</a> <a href="../icode/Linearizers.scala.html#329675" title="(c: Inliners.this.global.icodes.IMethod)List[Inliners.this.global.icodes.BasicBlock]">linearize</a> <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370565">isSmall</a>       = <span class="delimiter">(</span><a href="#370561" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#239614" title="=&gt; Int">SMALL_METHOD_SIZE</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370559" title="(n: Int)Inliners.this.global.icodes.BasicBlock">blocks</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#312551" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(10)" class="int">10</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370566">isLarge</a>       = <a href="#370561" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(16)">MAX_INLINE_SIZE</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370567">isRecursive</a>   = <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312629" title="=&gt; Boolean">recursive</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370568">hasHandlers</a>   = <a href="#370558" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a>.<span title="=&gt; Boolean">nonEmpty</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370569">hasNonFinalizerHandler</a> = <a href="#370558" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <span title="(p: Inliners.this.global.icodes.ExceptionHandler =&gt; Boolean)Boolean">exists</span> <a href="#371061" title="Boolean" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Boolean(true)">_</span>: <a href="../icode/ExceptionHandlers.scala.html#229006" title="Inliners.this.global.icodes.Finalizer">Finalizer</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span>            =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>

      // the number of inlined calls in 'm', used by 'shouldInline'
      <span class="keyword">var</span> <a title="Int" id="370571">inlinedCalls</a> = <span title="Int(0)" class="int">0</span>

      <span class="keyword">def</span> <a title="(ls: List[Inliners.this.global.icodes.Local])Unit" id="370573">addLocals</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.Local]" id="371062">ls</a>: <span title="List[Inliners.this.global.icodes.Local]">List</span><span class="delimiter">[</span>Local<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312633" title="(x$1: List[Inliners.this.global.icodes.Local])Unit">locals</a> <span title="(that: scala.collection.GenTraversableOnce[Inliners.this.global.icodes.Local])(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,List[Inliners.this.global.icodes.Local]])List[Inliners.this.global.icodes.Local]">++=</span> <a href="#371062" title="List[Inliners.this.global.icodes.Local]">ls</a>
      <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Unit" id="370574">addLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371142">l</a>: <a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span>          = <a href="#370573" title="(ls: List[Inliners.this.global.icodes.Local])Unit">addLocals</a><span class="delimiter">(</span><span title="(xs: Inliners.this.global.icodes.Local*)List[Inliners.this.global.icodes.Local]">List</span><span class="delimiter">(</span><a href="#371142" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(exhs: List[Inliners.this.global.icodes.ExceptionHandler])Unit" id="370575">addHandlers</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.ExceptionHandler]" id="371152">exhs</a>: <span title="List[Inliners.this.global.icodes.ExceptionHandler]">List</span><span class="delimiter">[</span>ExceptionHandler<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312621" title="(x$1: List[Inliners.this.global.icodes.ExceptionHandler])Unit">exh</a> = <a href="#371152" title="List[Inliners.this.global.icodes.ExceptionHandler]">exhs</a> <a href="#371156" title="(prefix: List[Inliners.this.global.icodes.ExceptionHandler])List[Inliners.this.global.icodes.ExceptionHandler]">:::</a> <a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312620" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class CallerCalleeInfo extends Object with ScalaObject" id="370352">CallerCalleeInfo</a><a href="#370352" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="370657">caller</a>: <a href="#370351" title="Inliner.this.IMethodInfo">IMethodInfo</a>, <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="370658">inc</a>: <a href="#370351" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370645">isLargeSum</a>  = <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370561" title="=&gt; Int">length</a> <span title="(x: Int)Int">+</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370561" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span title="(x: Int)Boolean">&gt;</span> <a href="#239614" title="=&gt; Int">SMALL_METHOD_SIZE</a>

      /** Inline 'inc' into 'caller' at the given block and instruction.
       *  The instruction must be a CALL_METHOD.
       */
      <span class="keyword">def</span> <a title="(block: Inliners.this.global.icodes.BasicBlock, instr: Inliners.this.global.icodes.Instruction)Unit" id="370646">doInline</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="370677">block</a>: <a href="../icode/BasicBlocks.scala.html#228937" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="Inliners.this.global.icodes.Instruction" id="370678">instr</a>: <a href="../icode/Opcodes.scala.html#228941" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <a href="#370338" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a> <span title="(x: Inliners.this.global.icodes.BasicBlock)Inliner.this.staleOut.type">+=</span> <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a>

        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Position" id="371193">targetPos</a> = <a href="#370678" title="Inliners.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#313078" title="=&gt; scala.tools.nsc.util.Position">pos</a>
        <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Inlining &quot;)" class="string">&quot;Inlining &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; at pos: &quot;)" class="string">&quot; at pos: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#239619" title="(pos: scala.tools.nsc.util.Position)String">posToStr</a><span class="delimiter">(</span><a href="#371193" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Unit" id="371194">blockEmit</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="371222">i</a>: <a href="../icode/Opcodes.scala.html#228941" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#312562" title="(instr: Inliners.this.global.icodes.Instruction, pos: scala.tools.nsc.util.Position)Unit">emit</a><span class="delimiter">(</span><a href="#371222" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#371193" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local" id="371195">newLocal</a><span class="delimiter">(</span><a title="String" id="371229">baseName</a>: <span title="String">String</span>, <a title="Inliners.this.global.icodes.TypeKind" id="371230">kind</a>: <a href="../icode/TypeKinds.scala.html#228959" title="Inliners.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span> =
          <span title="Inliners.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">(</span><a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47699" title="(name: Inliners.this.global.icodes.global.TermName, pos: Inliners.this.global.icodes.global.Position, newFlags: Long)Inliners.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#370328" title="(s: String)Inliners.this.global.TermName">freshName</a><span class="delimiter">(</span><a href="#371229" title="String">baseName</a><span class="delimiter">)</span>, <a href="#371193" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span>, <a href="#371230" title="Inliners.this.global.icodes.TypeKind">kind</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Inliners.this.global.analysis.MethodTFA" id="371196">a</a> = <a href="../icode/analysis/TypeFlowAnalysis.scala.html#343481" title="(m: Inliners.this.global.analysis.global.icodes.IMethod)Inliners.this.global.analysis.MethodTFA" class="keyword">new</a> <a href="../../Global.scala.html#182870" title="object Inliners.this.global.analysis">analysis</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#235979" title="Inliners.this.global.analysis.MethodTFA">MethodTFA</a><span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

        /* The exception handlers that are active at the current block. */
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.ExceptionHandler]" id="371197">activeHandlers</a> = <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370558" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <span title="(p: Inliners.this.global.icodes.ExceptionHandler =&gt; Boolean)List[Inliners.this.global.icodes.ExceptionHandler]">filter</span> <span class="delimiter">(</span><a href="#371245" title="Inliners.this.global.icodes.ExceptionHandler">_</a> <a href="../icode/ExceptionHandlers.scala.html#312852" title="(elem: Inliners.this.global.icodes.BasicBlock)Boolean">covered</a> <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a><span class="delimiter">)</span>

        /* Map 'original' blocks to the ones inlined in the caller. */
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]" id="371198">inlinedBlock</a>: mutable.<span title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">Map</span><span class="delimiter">[</span>BasicBlock, BasicBlock<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">HashMap</span>

        <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Inliners.this.global.icodes.Local]" id="371199">varsInScope</a>: mutable.<span title="scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">Set</span><span class="delimiter">[</span>Local<span class="delimiter">]</span> = mutable.<span title="(elems: Inliners.this.global.icodes.Local*)scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">HashSet</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">++=</span> <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#312534" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a>

        /** Side effects varsInScope when it sees SCOPE_ENTERs. */
        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Boolean" id="371200">instrBeforeFilter</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="371281">i</a>: <a href="../icode/Opcodes.scala.html#228941" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#371281" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="varsInScope.type">SCOPE_ENTER</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371283">l</a><span class="delimiter">)</span> =&gt; <a href="#371199" title="scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(elem: Inliners.this.global.icodes.Local)varsInScope.type">+=</span> <a href="#371283" title="Inliners.this.global.icodes.Local">l</a> ; <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#371281" title="Inliners.this.global.icodes.Instruction">i</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#370678" title="Inliners.this.global.icodes.Instruction">instr</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.Instruction]" id="371201">instrBefore</a> = <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#312543" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <span title="(p: Inliners.this.global.icodes.Instruction =&gt; Boolean)List[Inliners.this.global.icodes.Instruction]">takeWhile</span> <a href="#371200" title="(i: Inliners.this.global.icodes.Instruction)Boolean">instrBeforeFilter</a>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.Instruction]" id="371202">instrAfter</a>  = <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#312543" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <span title="(n: Int)List[Inliners.this.global.icodes.Instruction]">drop</span> <span class="delimiter">(</span><a href="#371201" title="List[Inliners.this.global.icodes.Instruction]">instrBefore</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#371202" title="List[Inliners.this.global.icodes.Instruction]">instrAfter</a>.<span title="=&gt; Boolean">isEmpty</span>, <span title="String(&quot;CALL_METHOD cannot be the last instruction in block!&quot;)" class="string">&quot;CALL_METHOD cannot be the last instruction in block!&quot;</span><span class="delimiter">)</span>

        // store the '$this' into the special local
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="371203">inlinedThis</a> = <a href="#371195" title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local">newLocal</a><span class="delimiter">(</span><span title="String(&quot;$inlThis&quot;)" class="string">&quot;$inlThis&quot;</span>, <a href="../icode/TypeKinds.scala.html#311260" title="(cls: Inliners.this.global.icodes.global.Symbol)Inliners.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; Inliners.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

        /** buffer for the returned value */
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="371204">retVal</a> = <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312626" title="=&gt; Inliners.this.global.icodes.TypeKind">returnType</a> <span title="Inliners.this.global.icodes.Local" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228965" title="Null(null)">UNIT</a>  =&gt; <span title="Null(null)" class="keyword">null</span>
          <span class="keyword">case</span> <a title="Inliners.this.global.icodes.Local" id="371326">x</a>     =&gt; <a href="#371195" title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local">newLocal</a><span class="delimiter">(</span><span title="String(&quot;$retVal&quot;)" class="string">&quot;$retVal&quot;</span>, <a href="#371326" title="Inliners.this.global.icodes.TypeKind">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]" id="371205">inlinedLocals</a> = <a href="../../../../reflect/internal/SymbolTable.scala.html#36987" title="object Inliners.this.global.perRunCaches">perRunCaches</a>.<a href="../../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]" class="delimiter">[</span><a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a>, <a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        /** Add a new block in the current context. */
        <span class="keyword">def</span> <a title="()Inliners.this.global.icodes.BasicBlock" id="371206">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.BasicBlock" id="371327">b</a> = <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312603" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#312713" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a>
          <a href="#371197" title="List[Inliners.this.global.icodes.ExceptionHandler]">activeHandlers</a> <span title="(f: Inliners.this.global.icodes.ExceptionHandler =&gt; Inliners.this.global.icodes.ExceptionHandler)Unit">foreach</span> <span class="delimiter">(</span><a href="#371347" title="Inliners.this.global.icodes.ExceptionHandler">_</a> <a href="../icode/ExceptionHandlers.scala.html#312855" title="(b: Inliners.this.global.icodes.BasicBlock)x$5.type">addCoveredBlock</a> <a href="#371327" title="Inliners.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#371204" title="Inliners.this.global.icodes.Local">retVal</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#371327" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#312534" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(elem: Inliners.this.global.icodes.Local)b.varsInScope.type">+=</span> <a href="#371204" title="Inliners.this.global.icodes.Local">retVal</a>
          <a href="#371327" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#312534" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(elem: Inliners.this.global.icodes.Local)b.varsInScope.type">+=</span> <a href="#371203" title="Inliners.this.global.icodes.Local">inlinedThis</a>
          <a href="#371327" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#312534" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])b.varsInScope.type">++=</span> <a href="#371199" title="scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a>
          <a href="#371327" title="Inliners.this.global.icodes.BasicBlock">b</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(e: Inliners.this.global.icodes.ExceptionHandler)Inliners.this.global.icodes.ExceptionHandler" id="371207">translateExh</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.ExceptionHandler" id="371370">e</a>: <a href="../icode/ExceptionHandlers.scala.html#229005" title="Inliners.this.global.icodes.ExceptionHandler">ExceptionHandler</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.ExceptionHandler" id="371371">handler</a>: <a href="../icode/ExceptionHandlers.scala.html#229005" title="Inliners.this.global.icodes.ExceptionHandler">ExceptionHandler</a> = <a href="#371370" title="Inliners.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312863" title="=&gt; Inliners.this.global.icodes.ExceptionHandler">dup</a>
          <a href="#371371" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>.<a href="../icode/ExceptionHandlers.scala.html#312853" title="(x$1: scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock])Unit">covered</a> = <a href="#371371" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>.<a href="../icode/ExceptionHandlers.scala.html#312852" title="=&gt; scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]">covered</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]])scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]">map</span> <a href="#371198" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a>
          <a href="#371371" title="Inliners.this.global.icodes.ExceptionHandler">handler</a> <a href="../icode/ExceptionHandlers.scala.html#312850" title="(b: Inliners.this.global.icodes.BasicBlock)Unit">setStartBlock</a> <a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#371370" title="Inliners.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312851" title="=&gt; Inliners.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>
          <a href="#371371" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>
        <span class="delimiter">}</span>

        /** alfa-rename `l` in caller's context. */
        <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local" id="371208">dupLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371445">l</a>: <a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.TermSymbol" id="371446">sym</a> = <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47699" title="(name: Inliners.this.global.icodes.global.TermName, pos: Inliners.this.global.icodes.global.Position, newFlags: Long)Inliners.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#370328" title="(s: String)Inliners.this.global.TermName">freshName</a><span class="delimiter">(</span><a href="#371445" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#313047" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Inliners.this.global.icodes.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>, <a href="#371445" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#313047" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Inliners.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
          // sym.setInfo(l.sym.tpe)
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="371447">dupped</a> = <span title="Inliners.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">(</span><a href="#371446" title="Inliners.this.global.icodes.global.TermSymbol">sym</a>, <a href="#371445" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; Inliners.this.global.icodes.TypeKind">kind</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <a href="#371205" title="(key: Inliners.this.global.icodes.Local, value: Inliners.this.global.icodes.Local)Unit">inlinedLocals</a><span class="delimiter">(</span><a href="#371445" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span> = <a href="#371447" title="Inliners.this.global.icodes.Local">dupped</a>
          <a href="#371447" title="Inliners.this.global.icodes.Local">dupped</a>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.BasicBlock" id="371209">afterBlock</a> = <a href="#371206" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span>

        /** Map from nw.init instructions to their matching NEW call */
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]" id="371210">pending</a>: mutable.<span title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">Map</span><span class="delimiter">[</span>Instruction, NEW<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">HashMap</span>

        /** Map an instruction from the callee to one suitable for the caller. */
        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" id="371211">map</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="371456">i</a>: <a href="../icode/Opcodes.scala.html#228941" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <a href="../icode/Opcodes.scala.html#228941" title="Inliners.this.global.icodes.Instruction">Instruction</a> = <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction" id="371457">assertLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371460">l</a>: <a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370560" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a> <span title="(elem: Any)Boolean">contains</span> <a href="#371460" title="Inliners.this.global.icodes.Local">l</a>, <span title="String(&quot;Could not find local \'&quot;)" class="string">&quot;Could not find local '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#371460" title="Inliners.this.global.icodes.Local">l</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' in locals, nor in inlinedLocals: &quot;)" class="string">&quot;' in locals, nor in inlinedLocals: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#371205" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a><span class="delimiter">)</span>
            <a href="#371456" title="Inliners.this.global.icodes.Instruction">i</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Boolean" id="371458">isInlined</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371463">l</a>: <a href="../icode/Members.scala.html#228929" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <a href="#371205" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a> <span title="(key: Inliners.this.global.icodes.Local)Boolean">isDefinedAt</span> <a href="#371463" title="Inliners.this.global.icodes.Local">l</a>

          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Instruction" id="371459">newInstr</a> = <a href="#371456" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Inliners.this.global.icodes.Instruction" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.LOAD_LOCAL">THIS</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="371468">clasz</a><span class="delimiter">)</span>                    =&gt; <a href="../icode/Opcodes.scala.html#321251" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#371203" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_THIS</span><span class="delimiter">(</span>_<span class="delimiter">)</span>                  =&gt; <a href="../icode/Opcodes.scala.html#318104" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#371203" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.JUMP">JUMP</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="371475">whereto</a><span class="delimiter">)</span>                  =&gt; <a href="../icode/Opcodes.scala.html#317981" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#371475" title="Inliners.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.CJUMP">CJUMP</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="371497">succ</a>, <a title="Inliners.this.global.icodes.BasicBlock" id="371498">fail</a>, <a title="Inliners.this.global.icodes.TestOp" id="371499">cond</a>, <a title="Inliners.this.global.icodes.TypeKind" id="371500">kind</a><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#318341" title="(successBlock: Inliners.this.global.icodes.BasicBlock, failureBlock: Inliners.this.global.icodes.BasicBlock, cond: Inliners.this.global.icodes.TestOp, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.CJUMP">CJUMP</a><span class="delimiter">(</span><a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#371497" title="Inliners.this.global.icodes.BasicBlock">succ</a><span class="delimiter">)</span>, <a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#371498" title="Inliners.this.global.icodes.BasicBlock">fail</a><span class="delimiter">)</span>, <a href="#371499" title="Inliners.this.global.icodes.TestOp">cond</a>, <a href="#371500" title="Inliners.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.CZJUMP">CZJUMP</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="371543">succ</a>, <a title="Inliners.this.global.icodes.BasicBlock" id="371544">fail</a>, <a title="Inliners.this.global.icodes.TestOp" id="371545">cond</a>, <a title="Inliners.this.global.icodes.TypeKind" id="371546">kind</a><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#318414" title="(successBlock: Inliners.this.global.icodes.BasicBlock, failureBlock: Inliners.this.global.icodes.BasicBlock, cond: Inliners.this.global.icodes.TestOp, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.CZJUMP">CZJUMP</a><span class="delimiter">(</span><a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#371543" title="Inliners.this.global.icodes.BasicBlock">succ</a><span class="delimiter">)</span>, <a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#371544" title="Inliners.this.global.icodes.BasicBlock">fail</a><span class="delimiter">)</span>, <a href="#371545" title="Inliners.this.global.icodes.TestOp">cond</a>, <a href="#371546" title="Inliners.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.SWITCH">SWITCH</span><span class="delimiter">(</span><a title="List[List[Int]]" id="371587">tags</a>, <a title="List[Inliners.this.global.icodes.BasicBlock]" id="371588">labels</a><span class="delimiter">)</span>           =&gt; <a href="../icode/Opcodes.scala.html#318486" title="(tags: List[List[Int]], labels: List[Inliners.this.global.icodes.BasicBlock])Inliners.this.global.icodes.opcodes.SWITCH">SWITCH</a><span class="delimiter">(</span><a href="#371587" title="List[List[Int]]">tags</a>, <a href="#371588" title="List[Inliners.this.global.icodes.BasicBlock]">labels</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,List[Inliners.this.global.icodes.BasicBlock]])List[Inliners.this.global.icodes.BasicBlock]">map</span> <a href="#371198" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.JUMP">RETURN</span><span class="delimiter">(</span>_<span class="delimiter">)</span>                      =&gt; <a href="../icode/Opcodes.scala.html#317981" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#371209" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371649">l</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#371458" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><a href="#371649" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#321251" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#371205" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#371649" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371683">l</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#371458" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><a href="#371683" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#318104" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#371205" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#371683" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.Instruction">LOAD_LOCAL</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371705">l</a><span class="delimiter">)</span>                  =&gt; <a href="#371457" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction">assertLocal</a><span class="delimiter">(</span><a href="#371705" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.Instruction">STORE_LOCAL</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371707">l</a><span class="delimiter">)</span>                 =&gt; <a href="#371457" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction">assertLocal</a><span class="delimiter">(</span><a href="#371707" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.SCOPE_ENTER">SCOPE_ENTER</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371709">l</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#371458" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><a href="#371709" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#322558" title="(lv: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.SCOPE_ENTER">SCOPE_ENTER</a><span class="delimiter">(</span><a href="#371205" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#371709" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.SCOPE_EXIT">SCOPE_EXIT</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="371732">l</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#371458" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><a href="#371732" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#318073" title="(lv: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.SCOPE_EXIT">SCOPE_EXIT</a><span class="delimiter">(</span><a href="#371205" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#371732" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <a title="Inliners.this.global.icodes.opcodes.NEW" id="371754">nw</a> @ NEW<span class="delimiter">(</span><a title="Inliners.this.global.icodes.REFERENCE" id="371756">sym</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Inliners.this.global.icodes.opcodes.NEW" id="371757">r</a> = <a href="../icode/Opcodes.scala.html#322895" title="(kind: Inliners.this.global.icodes.REFERENCE)Inliners.this.global.icodes.opcodes.NEW">NEW</a><span class="delimiter">(</span><a href="#371756" title="Inliners.this.global.icodes.REFERENCE">sym</a><span class="delimiter">)</span>
              <a href="#371210" title="(key: Inliners.this.global.icodes.Instruction, value: Inliners.this.global.icodes.opcodes.NEW)Unit">pending</a><span class="delimiter">(</span><a href="#371754" title="Inliners.this.global.icodes.opcodes.NEW">nw</a>.<a href="../icode/Opcodes.scala.html#322903" title="=&gt; Inliners.this.global.icodes.opcodes.CALL_METHOD">init</a><span class="delimiter">)</span> = <a href="#371757" title="Inliners.this.global.icodes.opcodes.NEW">r</a>
              <a href="#371757" title="Inliners.this.global.icodes.opcodes.NEW">r</a>

            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="371764">meth</a>, Static<span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#371764" title="Inliners.this.global.icodes.global.Symbol">meth</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a> =&gt;
              <a href="../icode/Opcodes.scala.html#323126" title="(method: Inliners.this.global.icodes.global.Symbol, style: Inliners.this.global.icodes.opcodes.InvokeStyle)Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">(</span><a href="#371764" title="Inliners.this.global.icodes.global.Symbol">meth</a>, <a href="../icode/Opcodes.scala.html#323436" title="(onInstance: Boolean)Inliners.this.global.icodes.opcodes.Static">Static</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.Instruction">_</span> =&gt; <a href="#371456" title="Inliners.this.global.icodes.Instruction">i</a>.<a href="../icode/Opcodes.scala.html#313083" title="()Inliners.this.global.icodes.Instruction">clone</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          // check any pending NEW's
          <a href="#371210" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a> <span title="(key: Inliners.this.global.icodes.Instruction)Option[Inliners.this.global.icodes.opcodes.NEW]">remove</span> <a href="#371456" title="Inliners.this.global.icodes.Instruction">i</a> <span title="(f: Inliners.this.global.icodes.opcodes.NEW =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#371775" title="Inliners.this.global.icodes.opcodes.NEW">_</a>.<a href="../icode/Opcodes.scala.html#322904" title="(x$1: Inliners.this.global.icodes.opcodes.CALL_METHOD)Unit">init</a> = <a href="#371459" title="Inliners.this.global.icodes.Instruction">newInstr</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Inliners.this.global.icodes.opcodes.CALL_METHOD" class="delimiter">[</span><a href="../icode/Opcodes.scala.html#240941" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#371459" title="Inliners.this.global.icodes.Instruction">newInstr</a>
        <span class="delimiter">}</span>

        <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#370573" title="(ls: List[Inliners.this.global.icodes.Local])Unit">addLocals</a> <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370560" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a> <span title="(f: Inliners.this.global.icodes.Local =&gt; Inliners.this.global.icodes.Local)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,List[Inliners.this.global.icodes.Local]])List[Inliners.this.global.icodes.Local]">map</span> <a href="#371208" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">dupLocal</a><span class="delimiter">)</span>
        <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#370574" title="(l: Inliners.this.global.icodes.Local)Unit">addLocal</a> <a href="#371203" title="Inliners.this.global.icodes.Local">inlinedThis</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#371204" title="Inliners.this.global.icodes.Local">retVal</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#370574" title="(l: Inliners.this.global.icodes.Local)Unit">addLocal</a> <a href="#371204" title="Inliners.this.global.icodes.Local">retVal</a>

        <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <a href="../icode/Members.scala.html#312611" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local])Unit">foreachBlock</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="371829">b</a> =&gt;
          <a href="#371198" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a> <span title="(kv: (Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock))inlinedBlock.type">+=</span> <span class="delimiter">(</span><a href="#371829" title="(x: Inliners.this.global.icodes.BasicBlock)ArrowAssoc[Inliners.this.global.icodes.BasicBlock]">b</a> <span title="(y: Inliners.this.global.icodes.BasicBlock)(Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock)">-&gt;</span> <a href="#371206" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#371829" title="Inliners.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#312534" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">++=</span> <span class="delimiter">(</span><a href="#371829" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#312534" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(f: Inliners.this.global.icodes.Local =&gt; Inliners.this.global.icodes.Local)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,scala.collection.TraversableOnce[Inliners.this.global.icodes.Local]])scala.collection.TraversableOnce[Inliners.this.global.icodes.Local]">map</span> <a href="#371205" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        // analyse callee
        <a href="#371196" title="Inliners.this.global.analysis.MethodTFA">a</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#343482" title="()Unit">run</a>

        // re-emit the instructions before the call
        <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#312568" title="()Unit">open</a>
        <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#312569" title="()Unit">clear</a>
        <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a> <a href="../icode/BasicBlocks.scala.html#312563" title="(is: Seq[Inliners.this.global.icodes.Instruction])Unit">emit</a> <a href="#371201" title="List[Inliners.this.global.icodes.Instruction]">instrBefore</a>

        // store the arguments into special locals
        <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312635" title="=&gt; List[Inliners.this.global.icodes.Local]">params</a>.<span title="=&gt; List[Inliners.this.global.icodes.Local]">reverse</span> <span title="(f: Inliners.this.global.icodes.Local =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="372008">p</a> =&gt; <a href="#371194" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#318104" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#371205" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#372008" title="Inliners.this.global.icodes.Local">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#371194" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#318104" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#371203" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // jump to the start block of the callee
        <a href="#371194" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#317981" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312607" title="=&gt; Inliners.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#370677" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#312567" title="()Unit">close</a>

        // duplicate the other blocks in the callee
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.BasicBlock]" id="371212">calleeLin</a> = <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312610" title="(lin: Inliners.this.global.icodes.Linearizer)List[Inliners.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#371212" title="List[Inliners.this.global.icodes.BasicBlock]">calleeLin</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="372067">bb</a> =&gt;
          <span class="keyword">var</span> <a title="a.lattice.Elem" id="372068">info</a> = <a href="#371196" title="Inliners.this.global.analysis.MethodTFA">a</a> <a href="../icode/analysis/DataFlowAnalysis.scala.html#338283" title="(key: a.P)a.lattice.Elem">in</a> <a href="#372067" title="Inliners.this.global.icodes.BasicBlock">bb</a>
          <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Unit" id="372069">emitInlined</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="372094">i</a>: <a href="../icode/Opcodes.scala.html#228941" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#372067" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#312562" title="(instr: Inliners.this.global.icodes.Instruction, pos: scala.tools.nsc.util.Position)Unit">emit</a><span class="delimiter">(</span><a href="#372094" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#371193" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(toDrop: Int)Unit" id="372070">emitDrops</a><span class="delimiter">(</span><a title="Int" id="372116">toDrop</a>: <span title="Int">Int</span><span class="delimiter">)</span>      = <a href="#372068" title="a.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#340761" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#326486" title="=&gt; Inliners.this.global.analysis.global.icodes.Rep">types</a> <span title="(n: Int)List[Inliners.this.global.analysis.global.icodes.TypeKind]">drop</span> <a href="#372116" title="Int">toDrop</a> <span title="(f: Inliners.this.global.analysis.global.icodes.TypeKind =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Inliners.this.global.analysis.global.icodes.TypeKind" id="372139">t</a> =&gt; <a href="#372069" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#321656" title="(typ: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.DROP">DROP</a><span class="delimiter">(</span><a href="#372139" title="Inliners.this.global.analysis.global.icodes.TypeKind">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="372147">i</a> &lt;- <a href="../icode/BasicBlocks.scala.html#312548" title="(f: Inliners.this.global.icodes.Instruction =&gt; Unit)Unit">bb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#372147" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">RETURN</span><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228965" title="object Inliners.this.global.icodes.UNIT">UNIT</a><span class="delimiter">)</span> =&gt; <a href="#372070" title="(toDrop: Int)Unit">emitDrops</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">RETURN</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeKind" id="372150">kind</a><span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#372068" title="a.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#340761" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#326492" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#372069" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#318104" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#371204" title="Inliners.this.global.icodes.Local">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#372070" title="(toDrop: Int)Unit">emitDrops</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
                  <a href="#372069" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#321251" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#371204" title="Inliners.this.global.icodes.Local">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <span title="Unit">_</span>            =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#372069" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="#371211" title="(i: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction">map</a><span class="delimiter">(</span><a href="#372147" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#372068" title="a.lattice.Elem">info</a> = <a href="#371196" title="Inliners.this.global.analysis.MethodTFA">a</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#343484" title="(in: Inliners.this.global.analysis.typeFlowLattice.Elem, i: Inliners.this.global.analysis.global.icodes.Instruction)Inliners.this.global.analysis.typeFlowLattice.Elem">interpret</a><span class="delimiter">(</span><a href="#372068" title="a.lattice.Elem">info</a>, <a href="#372147" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#371198" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#372067" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#312567" title="()Unit">close</a>
        <span class="delimiter">}</span>

        <a href="#371209" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a> <a href="../icode/BasicBlocks.scala.html#312563" title="(is: Seq[Inliners.this.global.icodes.Instruction])Unit">emit</a> <a href="#371202" title="List[Inliners.this.global.icodes.Instruction]">instrAfter</a>
        <a href="#371209" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>.<a href="../icode/BasicBlocks.scala.html#312567" title="()Unit">close</a>

        <a href="#370342" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a>        <span title="(elem: Inliners.this.global.icodes.BasicBlock)Inliner.this.staleIn.type">+=</span> <a href="#371209" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>
        <a href="#370340" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a> <span title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock])Inliner.this.splicedBlocks.type">++=</span> <span class="delimiter">(</span><a href="#371212" title="List[Inliners.this.global.icodes.BasicBlock]">calleeLin</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock]])scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock]">map</span> <a href="#371198" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a><span class="delimiter">)</span>

        // add exception handlers of the callee
        <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#370575" title="(exhs: List[Inliners.this.global.icodes.ExceptionHandler])Unit">addHandlers</a> <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370558" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <span title="(f: Inliners.this.global.icodes.ExceptionHandler =&gt; Inliners.this.global.icodes.ExceptionHandler)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.ExceptionHandler],Inliners.this.global.icodes.ExceptionHandler,List[Inliners.this.global.icodes.ExceptionHandler]])List[Inliners.this.global.icodes.ExceptionHandler]">map</span> <a href="#371207" title="(e: Inliners.this.global.icodes.ExceptionHandler)Inliners.this.global.icodes.ExceptionHandler">translateExh</a><span class="delimiter">)</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#371210" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a>.<span title="=&gt; Boolean">isEmpty</span>, <span title="String(&quot;Pending NEW elements: &quot;)" class="string">&quot;Pending NEW elements: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#371210" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../Global.scala.html#182864" title="object Inliners.this.global.icodes">icodes</a>.<a href="../icode/ICodes.scala.html#228890" title="(m: Inliners.this.global.icodes.IMethod)Unit">checkValid</a><span class="delimiter">(</span><a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(stack: Inliners.this.global.icodes.TypeStack)Boolean" id="370647">isStampedForInlining</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeStack" id="370659">stack</a>: <a href="../icode/TypeStacks.scala.html#228950" title="Inliners.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span> =
        <span title="=&gt; Boolean">!</span><a href="#370651" title="=&gt; Boolean">sameSymbols</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312638" title="=&gt; Boolean">hasCode</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370656" title="=&gt; Boolean">shouldInline</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370653" title="(stack: Inliners.this.global.icodes.TypeStack)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#370659" title="Inliners.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stack: Inliners.this.global.icodes.TypeStack)Unit" id="370648">logFailure</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeStack" id="370746">stack</a>: <a href="../icode/TypeStacks.scala.html#228950" title="Inliners.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span> = <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|inline failed for %s:
           |  pair.sameSymbols: %s
           |  inc.numInlined &lt; 2: %s
           |  inc.m.hasCode: %s
           |  isSafeToInline: %s
           |  shouldInline: %s
        &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>, <a href="#370651" title="=&gt; Boolean">sameSymbols</a>, <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370553" title="=&gt; Int">numInlined</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span>,
          <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312638" title="=&gt; Boolean">hasCode</a>, <a href="#370653" title="(stack: Inliners.this.global.icodes.TypeStack)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#370746" title="Inliners.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>, <a href="#370656" title="=&gt; Boolean">shouldInline</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stack: Inliners.this.global.icodes.TypeStack)String" id="370649">failureReason</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeStack" id="370786">stack</a>: <a href="../icode/TypeStacks.scala.html#228950" title="Inliners.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312638" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <span title="String(&quot;bytecode was unavailable&quot;)" class="string">&quot;bytecode was unavailable&quot;</span>
        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#370653" title="(stack: Inliners.this.global.icodes.TypeStack)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#370786" title="Inliners.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;it is unsafe (target may reference private fields)&quot;)" class="string">&quot;it is unsafe (target may reference private fields)&quot;</span>
        <span class="keyword">else</span> <span title="String(&quot;of a bug (run with -Ylog:inline -Ydebug for more information)&quot;)" class="string">&quot;of a bug (run with -Ylog:inline -Ydebug for more information)&quot;</span>

      <span class="keyword">def</span> <a title="(level: Inliner.this.NonPublicRefs.Value)Boolean" id="370650">canAccess</a><span class="delimiter">(</span><a title="Inliner.this.NonPublicRefs.Value" id="372289">level</a>: NonPublicRefs.<span title="Inliner.this.NonPublicRefs.Value">Value</span><span class="delimiter">)</span> = <a href="#372289" title="Inliner.this.NonPublicRefs.Value">level</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#370367" title="Boolean">Private</a>    =&gt; <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370548" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370548" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>
        <span class="keyword">case</span> <a href="#370369" title="Boolean">Protected</a>  =&gt; <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370548" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Inliners.this.global.icodes.global.Type">tpe</a> <a href="../../../../reflect/internal/Types.scala.html#42795" title="(that: Inliners.this.global.icodes.global.Type)Boolean">&lt;:&lt;</a> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370548" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Inliners.this.global.icodes.global.Type">tpe</a>
        <span class="keyword">case</span> <a href="#370371" title="Boolean(true)">Public</a>     =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="370651">sameSymbols</a> = <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="370652">sameOwner</a>   = <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370548" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370548" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>

      /** A method is safe to inline when:
       *    - it does not contain calls to private methods when
       *      called from another class
       *    - it is not inlined into a position with non-empty stack,
       *      while having a top-level finalizer (see liftedTry problem)
       *    - it is not recursive
       * Note:
       *    - synthetic private members are made public in this pass.
       */
      <span class="keyword">def</span> <a title="(stack: Inliners.this.global.icodes.TypeStack)Boolean" id="370653">isSafeToInline</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeStack" id="370671">stack</a>: <a href="../icode/TypeStacks.scala.html#228950" title="Inliners.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(f: Inliners.this.global.Symbol)Boolean" id="372311">makePublic</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="372313">f</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
          <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312623" title="=&gt; scala.tools.nsc.util.SourceFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../util/SourceFile.scala.html#35271" title="object scala.tools.nsc.util.NoSourceFile">NoSourceFile</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#372313" title="Inliners.this.global.Symbol">f</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">||</span> <a href="#372313" title="Inliners.this.global.Symbol">f</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48090" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Making not-private symbol out of synthetic: &quot;)" class="string">&quot;Making not-private symbol out of synthetic: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#372313" title="Inliners.this.global.Symbol">f</a><span class="delimiter">)</span>

            <a href="#372313" title="Inliners.this.global.Symbol">f</a> <a href="../../../../reflect/internal/Symbols.scala.html#47907" title="(flag: Int)Any">setNotFlag</a> Flags.<span title="Int(4)">PRIVATE</span>
            <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312638" title="=&gt; Boolean">hasCode</a> <span title="(x: Boolean)Boolean">||</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370567" title="=&gt; Boolean">isRecursive</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>

        <span class="keyword">val</span> <a title="Inliner.this.NonPublicRefs.Value" id="372312">accessNeeded</a> = <a href="#370373" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a>.<span title="(key: Inliners.this.global.icodes.IMethod, op: =&gt; Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value">getOrElseUpdate</span><span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>, <span class="delimiter">{</span>
          // Avoiding crashing the compiler if there are open blocks.
          <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370562" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">openBlocks</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Nothing)Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="372343">b</a> =&gt;
            <a href="#370334" title="(pos: Inliners.this.global.Position, msg: String)Unit">warn</a><span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Inliners.this.global.icodes.global.Position">pos</a>,
                <span class="string">&quot;Encountered open block in isSafeToInline: this indicates a bug in the optimizer!\n&quot;</span> <span title="String(&quot;Encountered open block in isSafeToInline: this indicates a bug in the optimizer!\n  caller = &quot;)">+</span>
                <span class="string">&quot;  caller = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, callee = &quot;)" class="string">&quot;, callee = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>
              <span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value" id="372316">check</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="372345">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Boolean" id="372346">cond</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
            <span title="Inliner.this.NonPublicRefs.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#372346" title="Boolean">cond</a><span class="delimiter">)</span> <a href="#370367" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>
            <span class="keyword">else</span> <span title="Inliner.this.NonPublicRefs.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#372345" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48085" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="#370369" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a>
            <span class="keyword">else</span> <a href="#370371" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>

          <span class="keyword">def</span> <a title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="372317">checkField</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="372347">f</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>   = <a href="#372316" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#372347" title="Inliners.this.global.Symbol">f</a>, <a href="#372347" title="Inliners.this.global.Symbol">f</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#372311" title="(f: Inliners.this.global.Symbol)Boolean">makePublic</a><span class="delimiter">(</span><a href="#372347" title="Inliners.this.global.Symbol">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="372318">checkSuper</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="372348">m</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>   = <a href="#372316" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#372348" title="Inliners.this.global.Symbol">m</a>, <a href="#372348" title="Inliners.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#372348" title="Inliners.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="372319">checkMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="372349">m</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#372316" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#372349" title="Inliners.this.global.Symbol">m</a>, <a href="#372349" title="Inliners.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Inliner.this.NonPublicRefs.Value" id="372320">getAccess</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="372350">i</a>: <a href="../icode/Opcodes.scala.html#228941" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#372350" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Inliner.this.NonPublicRefs.Value" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">CALL_METHOD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="372353">m</a>, SuperCall<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#372318" title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkSuper</a><span class="delimiter">(</span><a href="#372353" title="Inliners.this.global.icodes.global.Symbol">m</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">CALL_METHOD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="372357">m</a>, _<span class="delimiter">)</span>            =&gt; <a href="#372319" title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkMethod</a><span class="delimiter">(</span><a href="#372357" title="Inliners.this.global.icodes.global.Symbol">m</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">LOAD_FIELD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="372360">f</a>, _<span class="delimiter">)</span>             =&gt; <a href="#372317" title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkField</a><span class="delimiter">(</span><a href="#372360" title="Inliners.this.global.icodes.global.Symbol">f</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">STORE_FIELD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="372363">f</a>, _<span class="delimiter">)</span>            =&gt; <a href="#372317" title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkField</a><span class="delimiter">(</span><a href="#372363" title="Inliners.this.global.icodes.global.Symbol">f</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">_</span>                            =&gt; <a href="#370371" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="()Inliner.this.NonPublicRefs.Value" id="372321">iterate</a><span class="delimiter">(</span><span class="delimiter">)</span>: NonPublicRefs.<span title="Inliner.this.NonPublicRefs.Value">Value</span> = <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370563" title="=&gt; List[Inliners.this.global.icodes.Instruction]">instructions</a>.<span title="(z: Inliner.this.NonPublicRefs.Value)(f: (Inliner.this.NonPublicRefs.Value, Inliners.this.global.icodes.Instruction) =&gt; Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value">foldLeft</span><span class="delimiter">(</span><a href="#370371" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Inliner.this.NonPublicRefs.Value" id="372383">res</a>, <a title="Inliners.this.global.icodes.Instruction" id="372384">inc</a><span class="delimiter">)</span> =&gt; <a href="#372320" title="(i: Inliners.this.global.icodes.Instruction)Inliner.this.NonPublicRefs.Value">getAccess</a><span class="delimiter">(</span><a href="#372384" title="Inliners.this.global.icodes.Instruction">inc</a><span class="delimiter">)</span> <span title="Inliner.this.NonPublicRefs.Value" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#370367" title="Nothing">Private</a>    =&gt; <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;instruction &quot;)" class="string">&quot;instruction &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#372384" title="Inliners.this.global.icodes.Instruction">inc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; requires private access.&quot;)" class="string">&quot; requires private access.&quot;</span><span class="delimiter">)</span> ; <span title="Nothing" class="keyword">return</span> <a href="#370367" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>
            <span class="keyword">case</span> <a href="#370369" title="Inliner.this.NonPublicRefs.Value">Protected</a>  =&gt; <a href="#370369" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a>
            <span class="keyword">case</span> <a href="#370371" title="Inliner.this.NonPublicRefs.Value">Public</a>     =&gt; <a href="#372383" title="Inliner.this.NonPublicRefs.Value">res</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#372321" title="()Inliner.this.NonPublicRefs.Value">iterate</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>

        <a href="#370650" title="(level: Inliner.this.NonPublicRefs.Value)Boolean">canAccess</a><span class="delimiter">(</span><a href="#372312" title="Inliner.this.NonPublicRefs.Value">accessNeeded</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="372385">isIllegalStack</a> = <span class="delimiter">(</span><a href="#370671" title="Inliners.this.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#326492" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370550" title="=&gt; Int">minimumStack</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370569" title="=&gt; Boolean">hasNonFinalizerHandler</a><span class="delimiter">)</span>
          <span title="=&gt; Boolean">!</span><a href="#372385" title="Boolean">isIllegalStack</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;method &quot;)" class="string">&quot;method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370544" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is used on a non-empty stack with finalizer.  Stack: &quot;)" class="string">&quot; is used on a non-empty stack with finalizer.  Stack: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370671" title="Inliners.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>
            <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Decide whether to inline or not. Heuristics:
       *   - it's bad to make the caller larger (&gt; SMALL_METHOD_SIZE) if it was small
       *   - it's bad to inline large methods
       *   - it's good to inline higher order functions
       *   - it's good to inline closures functions.
       *   - it's bad (useless) to inline inside bridge methods
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="370654">neverInline</a>   = <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370554" title="=&gt; Boolean">isBridge</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312638" title="=&gt; Boolean">hasCode</a> <span title="(x: Boolean)Boolean">||</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370552" title="=&gt; Boolean">noinline</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="370655">alwaysInline</a>  = <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370551" title="=&gt; Boolean">inline</a>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="370656">shouldInline</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="#370654" title="=&gt; Boolean">neverInline</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#370655" title="=&gt; Boolean">alwaysInline</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;shouldInline: &quot;)" class="string">&quot;shouldInline: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="Int" id="372396">score</a> = <span title="Int(0)" class="int">0</span>

        // better not inline inside closures, but hope that the closure itself
        // is repeatedly inlined
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370555" title="=&gt; Boolean">isInClosure</a><span class="delimiter">)</span> <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(2)" class="int">2</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370571" title="=&gt; Int">inlinedCalls</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span> // only monadic methods can trigger the first inline

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370565" title="=&gt; Boolean">isSmall</a><span class="delimiter">)</span>
          <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#370565" title="=&gt; Boolean">isSmall</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#370645" title="=&gt; Boolean">isLargeSum</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>
          <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;shouldInline: score decreased to &quot;)" class="string">&quot;shouldInline: score decreased to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#372396" title="Int">score</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; because small &quot;)" class="string">&quot; because small &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370657" title="=&gt; Inliner.this.IMethodInfo">caller</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; would become large&quot;)" class="string">&quot; would become large&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370566" title="=&gt; Boolean">isLarge</a><span class="delimiter">)</span>
          <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370557" title="=&gt; Boolean">isMonadic</a><span class="delimiter">)</span>
          <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">+=</span> <span title="Int(3)" class="int">3</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370556" title="=&gt; Boolean">isHigherOrder</a><span class="delimiter">)</span>
          <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370555" title="=&gt; Boolean">isInClosure</a><span class="delimiter">)</span>
          <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">+=</span> <span title="Int(2)" class="int">2</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370553" title="=&gt; Int">numInlined</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#372396" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(2)" class="int">2</span>

        <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;shouldInline(&quot;)" class="string">&quot;shouldInline(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#370658" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#370576" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;) score: &quot;)" class="string">&quot;) score: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#372396" title="Int">score</a><span class="delimiter">)</span>

        <a href="#372396" title="Int">score</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(meth: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.IMethod]" id="370353">lookupIMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="370631">meth</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="370632">receiver</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[Inliners.this.global.icodes.IMethod]">Option</span><span class="delimiter">[</span>IMethod<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]" id="372445">tryParent</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="372446">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../Global.scala.html#182864" title="object Inliners.this.global.icodes">icodes</a> <a href="../icode/Repository.scala.html#229114" title="(sym: Inliners.this.global.icodes.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IClass]">icode</a> <a href="#372446" title="Inliners.this.global.Symbol">sym</a> <span title="(f: Inliners.this.global.icodes.global.icodes.IClass =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Option[Inliners.this.global.icodes.global.icodes.IMethod]">flatMap</span> <span class="delimiter">(</span><a href="#372456" title="Inliners.this.global.icodes.global.icodes.IClass">_</a> <a href="../icode/Members.scala.html#229236" title="(s: Inliners.this.global.icodes.global.icodes.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]">lookupMethod</a> <a href="#370631" title="Inliners.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <a href="#370632" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[Inliners.this.global.Symbol]">baseClasses</a>.<span title="=&gt; Iterator[Inliners.this.global.Symbol]">iterator</span> <span title="(f: Inliners.this.global.Symbol =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Iterator[Option[Inliners.this.global.icodes.global.icodes.IMethod]]">map</span> <a href="#372445" title="(sym: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]">tryParent</a> <span title="(p: Option[Inliners.this.global.icodes.global.icodes.IMethod] =&gt; Boolean)Option[Option[Inliners.this.global.icodes.global.icodes.IMethod]]">find</span> <span class="delimiter">(</span><a href="#372482" title="Option[Inliners.this.global.icodes.global.icodes.IMethod]">_</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span title="(implicit ev: &lt;:&lt;[Option[Inliners.this.global.icodes.global.icodes.IMethod],Option[Inliners.this.global.icodes.IMethod]])Option[Inliners.this.global.icodes.IMethod]">flatten</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> /* class Inliner */
<span class="delimiter">}</span> /* class Inliners */

        </pre>
    </body>
</html>