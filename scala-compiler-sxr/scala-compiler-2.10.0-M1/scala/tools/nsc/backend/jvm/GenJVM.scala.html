<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/jvm/GenJVM.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Iulian Dragos
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.jvm

<span class="keyword">import</span> java.io.<span class="delimiter">{</span> DataOutputStream, OutputStream <span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.ByteBuffer
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.internal.pickling.<span class="delimiter">{</span> PickleFormat, PickleBuffer <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.reflect.SigParser
<span class="keyword">import</span> scala.tools.nsc.symtab._
<span class="keyword">import</span> scala.tools.nsc.util.<span class="delimiter">{</span> SourceFile, NoSourceFile <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.internal.<a href="../../../../reflect/internal/ClassfileConstants.scala.html#8072" title="object scala.reflect.internal.ClassfileConstants">ClassfileConstants</a>._
<span class="keyword">import</span> ch.epfl.lamp.fjbg._
<span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JAccessFlags">JAccessFlags</span>._
<span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JObjectType">JObjectType</span>.<span class="delimiter">{</span> JAVA_LANG_STRING, JAVA_LANG_OBJECT <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.jar.<span class="delimiter">{</span> JarEntry, JarOutputStream <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile

/** This class ...
 *
 *  @author  Iulian Dragos
 *  @version 1.0
 *
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class GenJVM extends scala.tools.nsc.SubComponent with scala.tools.nsc.backend.jvm.GenJVMUtil with scala.tools.nsc.backend.jvm.GenAndroid with scala.tools.nsc.backend.jvm.BytecodeWriters with ScalaObject" id="17336">GenJVM</a> <a href="#17336" title="ScalaObject" class="keyword">extends</a> <a href="../../SubComponent.scala.html#12956" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="keyword">with</span> <a href="GenJVMUtil.scala.html#17318" title="scala.tools.nsc.backend.jvm.GenJVMUtil">GenJVMUtil</a> <span class="keyword">with</span> <a href="GenAndroid.scala.html#17378" title="scala.tools.nsc.backend.jvm.GenAndroid">GenAndroid</a> <span class="keyword">with</span> <a href="BytecodeWriters.scala.html#17411" title="scala.tools.nsc.backend.jvm.BytecodeWriters">BytecodeWriters</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="BytecodeWriters.scala.html#240144" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#182864" title="object GenJVM.this.global.icodes">icodes</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#182864" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/Opcodes.scala.html#228942" title="object GenJVM.this.global.icodes.opcodes">opcodes</a>._
  <span class="keyword">import</span> <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>._

  <span class="keyword">val</span> <a title="String" id="240072">phaseName</a> = <span title="String(&quot;jvm&quot;)" class="string">&quot;jvm&quot;</span>

  /** Create a new phase */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(p: scala.tools.nsc.Phase)scala.tools.nsc.Phase" id="240074">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="309727">p</a>: <a href="../../../../reflect/internal/Phase.scala.html#7654" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Phase.scala.html#7654" title="scala.tools.nsc.Phase">Phase</a> = <span title="GenJVM.this.JvmPhase" class="keyword">new</span> <a href="#240078" title="GenJVM.this.JvmPhase">JvmPhase</a><span class="delimiter">(</span><a href="#309727" title="scala.tools.nsc.Phase">p</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)scala.tools.nsc.io.AbstractFile" id="240075">outputDirectory</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="347425">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#25434" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">(</span>
    <a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/MutableSettings.scala.html#183246" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a>.<a href="../../settings/MutableSettings.scala.html#188430" title="(src: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.io.AbstractFile">outputDirFor</a> <span class="delimiter">{</span>
      <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; GenJVM.this.global.AbstractFileType)GenJVM.this.global.AbstractFileType">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185239" title="=&gt; scala.tools.nsc.Phase">flattenPhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#70363" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#347425" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; GenJVM.this.global.AbstractFileType">sourceFile</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: scala.tools.nsc.io.AbstractFile, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile" id="240076">getFile</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="347433">base</a>: <a href="../../io/AbstractFile.scala.html#25434" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="ch.epfl.lamp.fjbg.JClass" id="347434">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="String" id="347435">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#25434" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scala.tools.nsc.io.AbstractFile" id="347437">dir</a> = <a href="#347433" title="scala.tools.nsc.io.AbstractFile">base</a>
    <span class="keyword">val</span> <a title="List[String]" id="347438">pathParts</a> = <a href="#347434" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;[./]&quot;)" class="string">&quot;[./]&quot;</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="347572">part</a> &lt;- <a href="#347438" title="List[String]">pathParts</a>.<span title="(f: String =&gt; Unit)Unit">init</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#347437" title="scala.tools.nsc.io.AbstractFile">dir</a> = <a href="#347437" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../../io/AbstractFile.scala.html#187430" title="(name: String)scala.tools.nsc.io.AbstractFile">subdirectoryNamed</a><span class="delimiter">(</span><a href="#347572" title="String">part</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#347437" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../../io/AbstractFile.scala.html#187429" title="(name: String)scala.tools.nsc.io.AbstractFile">fileNamed</a><span class="delimiter">(</span><a href="#347438" title="List[String]">pathParts</a>.<span title="=&gt; String">last</span> <span title="(x$1: Any)String">+</span> <a href="#347435" title="String">suffix</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile" id="240077">getFile</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="347574">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="ch.epfl.lamp.fjbg.JClass" id="347575">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="String" id="347576">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#25434" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> =
    <a href="#240076" title="(base: scala.tools.nsc.io.AbstractFile, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#240075" title="(sym: GenJVM.this.global.Symbol)scala.tools.nsc.io.AbstractFile">outputDirectory</a><span class="delimiter">(</span><a href="#347574" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#347575" title="ch.epfl.lamp.fjbg.JClass">cls</a>, <a href="#347576" title="String">suffix</a><span class="delimiter">)</span>

  /** JVM code generation phase
   */
  <span class="keyword">class</span> <a title="class JvmPhase extends GenJVM.this.global.icodes.ICodePhase with ScalaObject" id="240078">JvmPhase</a><a href="#240078" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="347424">prev</a>: <a href="../../../../reflect/internal/Phase.scala.html#7654" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../icode/ICodes.scala.html#228911" title="GenJVM.this.global.icodes.ICodePhase">ICodePhase</a><span class="delimiter">(</span><a href="#347424" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="347419">name</a> = <a href="#240072" title="=&gt; String">phaseName</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="347420">erasedTypes</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(cls: GenJVM.this.global.icodes.IClass)Nothing" id="347421">apply</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="347594">cls</a>: <a href="../icode/Members.scala.html#228924" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> = sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;no implementation&quot;)" class="string">&quot;no implementation&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(clasz: GenJVM.this.global.icodes.IClass)Boolean" id="347422">isJavaEntryPoint</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="347609">clasz</a>: <a href="../icode/Members.scala.html#228924" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="347612">sym</a> = <a href="#347609" title="GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>
      <span class="keyword">def</span> <a title="(msg: String, pos: GenJVM.this.global.Position)Boolean" id="347613">fail</a><span class="delimiter">(</span><a title="String" id="347617">msg</a>: <span title="String">String</span>, <a title="GenJVM.this.global.Position" id="347619">pos</a>: <a href="../../util/Position.scala.html#34604" title="GenJVM.this.global.Position">Position</a> = <a href="#347612" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#347609" title="GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229228" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#185132" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#347612" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a>,
          <a href="#347612" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <span title="(other: String)String">+</span> <span title="String(&quot; has a main method with parameter type Array[String], but &quot;)" class="string">&quot; has a main method with parameter type Array[String], but &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#347612" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47894" title="(separator: Char)String">fullName</a><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; will not be a runnable program.\n&quot;)" class="string">&quot; will not be a runnable program.\n&quot;</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot;  Reason: &quot;)" class="string">&quot;  Reason: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#347617" title="String">msg</a>
          // TODO: make this next claim true, if possible
          //   by generating valid main methods as static in module classes
          //   not sure what the jvm allows here
          // + &quot;  You can still run the program by calling it as &quot; + sym.javaSimpleName + &quot; instead.&quot;
        <span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(msg: String)Boolean" id="347614">failNoForwarder</a><span class="delimiter">(</span><a title="String" id="347628">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#347613" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><a href="#347628" title="String">msg</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, which means no static forwarder can be generated.\n&quot;)" class="string">&quot;, which means no static forwarder can be generated.\n&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.global.Symbol]" id="347615">possibles</a> = <span title="List[GenJVM.this.global.icodes.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#347612" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48108" title="=&gt; Boolean">hasModuleFlag</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#347612" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a> <a href="../../../../reflect/internal/Types.scala.html#42770" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">nonPrivateMember</a> <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60282" title="=&gt; GenJVM.this.global.nme.NameType">main</a><span class="delimiter">)</span>.<a href="../../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[GenJVM.this.global.icodes.global.Symbol]">alternatives</a> <span class="keyword">else</span> <span title="object Nil">Nil</span>
      <span class="keyword">val</span> <a title="Boolean" id="347616">hasApproximate</a> = <a href="#347615" title="List[GenJVM.this.global.icodes.global.Symbol]">possibles</a> <span title="(p: GenJVM.this.global.icodes.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="347650">m</a> =&gt;
        <a href="#347650" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="347659">p</a> :: <span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt; <a href="#347659" title="GenJVM.this.global.Symbol">p</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#42728" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; GenJVM.this.global.Symbol">ArrayClass</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span>                       =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      // At this point it's a module with a main-looking method, so either
      // succeed or warn that it isn't.
      <a href="#347616" title="Boolean">hasApproximate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        // Before erasure so we can identify generic mains.
        <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="347670">companion</a>     = <a href="#347612" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48007" title="=&gt; GenJVM.this.global.icodes.global.Symbol">linkedClassOfClass</a>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="347671">companionMain</a> = <a href="#347670" title="GenJVM.this.global.icodes.global.Symbol">companion</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#42769" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60282" title="=&gt; GenJVM.this.global.nme.NameType">main</a><span class="delimiter">)</span>

          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46507" title="(sym: GenJVM.this.global.Symbol)Boolean">hasJavaMainMethod</a><span class="delimiter">(</span><a href="#347670" title="GenJVM.this.global.icodes.global.Symbol">companion</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#347614" title="(msg: String)Boolean">failNoForwarder</a><span class="delimiter">(</span><span title="String(&quot;companion contains its own main method&quot;)" class="string">&quot;companion contains its own main method&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#347670" title="GenJVM.this.global.icodes.global.Symbol">companion</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#42769" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60282" title="=&gt; GenJVM.this.global.nme.NameType">main</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            // this is only because forwarders aren't smart enough yet
            <a href="#347614" title="(msg: String)Boolean">failNoForwarder</a><span class="delimiter">(</span><span title="String(&quot;companion contains its own main method (implementation restriction: no main is allowed, regardless of signature)&quot;)" class="string">&quot;companion contains its own main method (implementation restriction: no main is allowed, regardless of signature)&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#347670" title="GenJVM.this.global.icodes.global.Symbol">companion</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
            <a href="#347614" title="(msg: String)Boolean">failNoForwarder</a><span class="delimiter">(</span><span title="String(&quot;companion is a trait&quot;)" class="string">&quot;companion is a trait&quot;</span><span class="delimiter">)</span>
          // Now either succeeed, or issue some additional warnings for things which look like
          // attempts to be java main methods.
          <span class="keyword">else</span> <a href="#347615" title="List[GenJVM.this.global.icodes.global.Symbol]">possibles</a> <span title="(p: GenJVM.this.global.icodes.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="347691">m</a> =&gt;
            <a href="#347691" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <a href="#347613" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><span title="String(&quot;main methods cannot be generic.&quot;)" class="string">&quot;main methods cannot be generic.&quot;</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[GenJVM.this.global.Symbol]" id="347696">params</a>, <a title="GenJVM.this.global.Type" id="347697">res</a><span class="delimiter">)</span> =&gt;
                <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#347697" title="GenJVM.this.global.Type">res</a>.<a href="../../../../reflect/internal/Types.scala.html#42728" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <a href="#347698" title="(x: GenJVM.this.global.Symbol)List[GenJVM.this.global.Symbol]">::</a> <a href="#347696" title="List[GenJVM.this.global.Symbol]">params</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#347714" title="GenJVM.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#347613" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><span title="String(&quot;main methods cannot refer to type parameters or abstract types.&quot;)" class="string">&quot;main methods cannot refer to type parameters or abstract types.&quot;</span>, <a href="#347691" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
                <span class="keyword">else</span>
                  <a href="../../../../reflect/internal/Definitions.scala.html#46506" title="(sym: GenJVM.this.global.Symbol)Boolean">isJavaMainMethod</a><span class="delimiter">(</span><a href="#347691" title="GenJVM.this.global.icodes.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#347613" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><span title="String(&quot;main method must have exact signature (Array[String])Unit&quot;)" class="string">&quot;main method must have exact signature (Array[String])Unit&quot;</span>, <a href="#347691" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Boolean" id="347716">tp</a> =&gt;
                <a href="#347613" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><span title="String(&quot;don\'t know what this is: &quot;)" class="string">&quot;don't know what this is: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#347716" title="GenJVM.this.global.icodes.global.Type">tp</a>, <a href="#347691" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="347423">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      // we reinstantiate the bytecode generator at each run, to allow the GC
      // to collect everything
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#182890" title="(msg: String)Unit">inform</a><span class="delimiter">(</span><span title="String(&quot;[running phase &quot;)" class="string">&quot;[running phase &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#347419" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; on icode]&quot;)" class="string">&quot; on icode]&quot;</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183450" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xdce</a>.<a href="../../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="347793">sym</a>, <a title="GenJVM.this.global.icodes.IClass" id="347794">cls</a><span class="delimiter">)</span> &lt;- <a href="../../Global.scala.html#182864" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/ICodes.scala.html#228877" title="(f: ((GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.IClass)) =&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass])Unit">classes</a> <span class="keyword">if</span> <a href="../../Global.scala.html#182970" title="object GenJVM.this.global.inliner">inliner</a>.<a href="../opt/Inliners.scala.html#239620" title="(cls: GenJVM.this.global.inliner.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#347793" title="GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../Global.scala.html#182976" title="object GenJVM.this.global.deadCode">deadCode</a>.<a href="../opt/DeadCodeElimination.scala.html#239777" title="(elem: GenJVM.this.global.deadCode.global.Symbol)Boolean">liveClosures</a><span class="delimiter">(</span><a href="#347793" title="GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../Global.scala.html#182864" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/ICodes.scala.html#228877" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a> <span title="(key: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.classes.type">-=</span> <a href="#347793" title="GenJVM.this.global.icodes.global.Symbol">sym</a>

      // For predictably ordered error messages.
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.IClass]" id="347720">sortedClasses</a> = <a href="../icode/ICodes.scala.html#228877" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a>.<span title="=&gt; Iterable[GenJVM.this.global.icodes.IClass]">values</span>.<span title="=&gt; List[GenJVM.this.global.icodes.IClass]">toList</span> <span title="(f: GenJVM.this.global.icodes.IClass =&gt; String)(implicit ord: scala.math.Ordering[String])List[GenJVM.this.global.icodes.IClass]">sortBy</span> <span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#347821" title="GenJVM.this.global.icodes.IClass">_</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.IClass]" id="347721">entryPoints</a>   = <a href="#347720" title="List[GenJVM.this.global.icodes.IClass]">sortedClasses</a> <span title="(p: GenJVM.this.global.icodes.IClass =&gt; Boolean)List[GenJVM.this.global.icodes.IClass]">filter</span> <a href="#347422" title="(clasz: GenJVM.this.global.icodes.IClass)Boolean">isJavaEntryPoint</a>

      <span class="keyword">val</span> <a title="GenJVM.this.BytecodeWriter" id="347722">bytecodeWriter</a> = <a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/MutableSettings.scala.html#183246" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a>.<a href="../../settings/MutableSettings.scala.html#188426" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">getSingleOutput</a> <span title="GenJVM.this.BytecodeWriter" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="GenJVM.this.DirectToJarfileWriter">Some</span><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="347886">f</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#347886" title="scala.tools.nsc.io.AbstractFile">f</a> <a href="../../io/AbstractFile.scala.html#187402" title="(other: String)Boolean">hasExtension</a> <span title="String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span> =&gt;
          // If no main class was specified, see if there's only one
          // entry point among the classes going into the jar.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183416" title="=&gt; scala.tools.nsc.Settings#StringSetting">mainClass</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#75563" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#347721" title="List[GenJVM.this.global.icodes.IClass]">entryPoints</a> <span title="(f: GenJVM.this.global.icodes.IClass =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.IClass],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#347913" title="GenJVM.this.global.icodes.IClass">_</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/Symbols.scala.html#47894" title="(separator: Char)String">fullName</a> <span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Nil</span>      =&gt;
                <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No Main-Class designated or discovered.&quot;)" class="string">&quot;No Main-Class designated or discovered.&quot;</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Unit" id="347947">name</a> :: <span title="object Nil">Nil</span> =&gt;
                <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Unique entry point: setting Main-Class to &quot;)" class="string">&quot;Unique entry point: setting Main-Class to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#347947" title="String">name</a><span class="delimiter">)</span>
                <a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183416" title="=&gt; scala.tools.nsc.Settings#StringSetting">mainClass</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#75566" title="(arg: String)Unit">value</a> = <a href="#347947" title="String">name</a>
              <span class="keyword">case</span> <a title="Unit" id="347957">names</a> =&gt;
                <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No Main-Class due to multiple entry points:\n  &quot;)" class="string">&quot;No Main-Class due to multiple entry points:\n  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#347957" title="List[String]">names</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n  &quot;)" class="string">&quot;\n  &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Main-Class was specified: &quot;)" class="string">&quot;Main-Class was specified: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183416" title="=&gt; scala.tools.nsc.Settings#StringSetting">mainClass</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#75565" title="=&gt; String">value</a><span class="delimiter">)</span>

          <span title="GenJVM.this.DirectToJarfileWriter" class="keyword">new</span> <a href="BytecodeWriters.scala.html#240150" title="GenJVM.this.DirectToJarfileWriter">DirectToJarfileWriter</a><span class="delimiter">(</span><a href="#347886" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../../io/AbstractFile.scala.html#187407" title="=&gt; scala.tools.nsc.io.JFile">file</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="bytecodeWriter extends Object with GenJVM.this.ClassBytecodeWriter">_</span>                               =&gt;
          <span title="bytecodeWriter extends Object with GenJVM.this.ClassBytecodeWriter" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183490" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ygenjavap</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#75563" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="bytecodeWriter extends Object with GenJVM.this.ClassBytecodeWriter" class="keyword">if</span><span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183492" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ydumpclasses</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#75563" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span>
              <a href="#347967" title="Object with GenJVM.this.ClassBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends Object with GenJVM.this.ClassBytecodeWriter" id="347967">ClassBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
            <span class="keyword">else</span> 
              <a href="#347971" title="Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.DumpBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.DumpBytecodeWriter" id="347971">ClassBytecodeWriter</a> <span class="keyword">with</span> <a href="BytecodeWriters.scala.html#240153" title="GenJVM.this.DumpBytecodeWriter">DumpBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#347977" title="Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.JavapBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.JavapBytecodeWriter" id="347977">ClassBytecodeWriter</a> <span class="keyword">with</span> <a href="BytecodeWriters.scala.html#240151" title="GenJVM.this.JavapBytecodeWriter">JavapBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="GenJVM.this.BytecodeGenerator" id="347723">codeGenerator</a> = <span title="GenJVM.this.BytecodeGenerator" class="keyword">new</span> <a href="#240082" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a><span class="delimiter">(</span><a href="#347722" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Created new bytecode generator for &quot;)" class="string">&quot;Created new bytecode generator for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../icode/ICodes.scala.html#228877" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a>.<span title="=&gt; Int">size</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; classes.&quot;)" class="string">&quot; classes.&quot;</span><span class="delimiter">)</span>

      <a href="#347720" title="List[GenJVM.this.global.icodes.IClass]">sortedClasses</a> <span title="(f: GenJVM.this.global.icodes.IClass =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.IClass" id="348026">c</a> =&gt;
        <span class="keyword">try</span> <a href="#347723" title="GenJVM.this.BytecodeGenerator">codeGenerator</a>.<a href="#346543" title="(c: GenJVM.this.global.icodes.IClass)Unit">genClass</a><span class="delimiter">(</span><a href="#348026" title="GenJVM.this.global.icodes.IClass">c</a><span class="delimiter">)</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="348029">e</a>: JCode.<span title="ch.epfl.lamp.fjbg.JCode.CodeSizeTooBigException">CodeSizeTooBigException</span> =&gt;
            <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Skipped class %s because it has methods that are too long.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#348026" title="GenJVM.this.global.icodes.IClass">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#347722" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a>.<a href="BytecodeWriters.scala.html#345209" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../icode/ICodes.scala.html#228877" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">var</span> <a title="Int" id="240080">pickledBytes</a> = <span title="Int(0)" class="int">0</span> // statistics

  /**
   * Java bytecode generator.
   *
   */
  <span class="keyword">class</span> <a title="class BytecodeGenerator extends Object with GenJVM.this.BytecodeUtil with ScalaObject" id="240082">BytecodeGenerator</a><a href="#240082" title="ScalaObject" class="delimiter">(</a><a title="GenJVM.this.BytecodeWriter" id="348006">bytecodeWriter</a>: <a href="BytecodeWriters.scala.html#240149" title="GenJVM.this.BytecodeWriter">BytecodeWriter</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="GenJVMUtil.scala.html#240128" title="GenJVM.this.BytecodeUtil">BytecodeUtil</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="()GenJVM.this.BytecodeGenerator" id="346472" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#240082" title="BytecodeGenerator.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#348266" title="Object with GenJVM.this.ClassBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends Object with GenJVM.this.ClassBytecodeWriter" id="348266">ClassBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="346473">debugLevel</a> = <a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183429" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">debuginfo</a>.<a href="../../settings/MutableSettings.scala.html#193627" title="=&gt; Int">indexOfChoice</a>
    <span class="keyword">import</span> <a href="#348006" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a>.writeClass

    <span class="keyword">val</span> <a title="Double" id="346475">MIN_SWITCH_DENSITY</a> = <span title="Double(0.7)" class="double">0.7</span>
    <span class="keyword">val</span> <a title="Int" id="346477">INNER_CLASSES_FLAGS</a> =
      <span class="delimiter">(</span>ACC_PUBLIC | ACC_PRIVATE | ACC_PROTECTED | ACC_STATIC | ACC_FINAL | ACC_INTERFACE <span title="Int(1567)">|</span> ACC_ABSTRACT<span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Int" id="346479">PublicStatic</a>      = ACC_PUBLIC <span title="Int(9)">|</span> ACC_STATIC
    <span class="keyword">val</span> <a title="Int" id="346481">PublicStaticFinal</a> = ACC_PUBLIC | ACC_STATIC <span title="Int(25)">|</span> ACC_FINAL

    <span class="keyword">val</span> <a title="String" id="346483">StringBuilderClassName</a> = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46422" title="=&gt; GenJVM.this.global.Symbol">StringBuilderClass</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="String" id="346485">BoxesRunTime</a> = <span title="String(&quot;scala.runtime.BoxesRunTime&quot;)" class="string">&quot;scala.runtime.BoxesRunTime&quot;</span>

    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="346487">StringBuilderType</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#346483" title="=&gt; String">StringBuilderClassName</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="346489">toStringType</a>      = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_STRING</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="346491">arrayCloneType</a>    = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="346493">MethodTypeType</a>    = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.dyn.MethodType&quot;)" class="string">&quot;java.dyn.MethodType&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="346495">JavaLangClassType</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Class&quot;)" class="string">&quot;java.lang.Class&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="346497">MethodHandleType</a>  = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.dyn.MethodHandle&quot;)" class="string">&quot;java.dyn.MethodHandle&quot;</span><span class="delimiter">)</span>

    // Scala attributes
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="346499">BeanInfoAttr</a>        = <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46752" title="(fullname: String)GenJVM.this.global.Symbol">getRequiredClass</a><span class="delimiter">(</span><span title="String(&quot;scala.beans.BeanInfo&quot;)" class="string">&quot;scala.beans.BeanInfo&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="346501">BeanInfoSkipAttr</a>    = <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46752" title="(fullname: String)GenJVM.this.global.Symbol">getRequiredClass</a><span class="delimiter">(</span><span title="String(&quot;scala.beans.BeanInfoSkip&quot;)" class="string">&quot;scala.beans.BeanInfoSkip&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="346503">BeanDisplayNameAttr</a> = <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46752" title="(fullname: String)GenJVM.this.global.Symbol">getRequiredClass</a><span class="delimiter">(</span><span title="String(&quot;scala.beans.BeanDisplayName&quot;)" class="string">&quot;scala.beans.BeanDisplayName&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="346505">BeanDescriptionAttr</a> = <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46752" title="(fullname: String)GenJVM.this.global.Symbol">getRequiredClass</a><span class="delimiter">(</span><span title="String(&quot;scala.beans.BeanDescription&quot;)" class="string">&quot;scala.beans.BeanDescription&quot;</span><span class="delimiter">)</span>
    
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="Long" id="346507">ExcludedForwarderFlags</a> = <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="../../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
      <span class="delimiter">(</span> CASE | SPECIALIZED | LIFTED | PROTECTED | STATIC <span title="Long(5514813507589L)">|</span> BridgeAndPrivateFlags <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Additional interface parents based on annotations and other cues
    <span class="keyword">def</span> <a title="(attr: GenJVM.this.global.Symbol)Option[GenJVM.this.global.Type]" id="346509">newParentForAttr</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="348273">attr</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[GenJVM.this.global.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#348273" title="GenJVM.this.global.Symbol">attr</a> <span title="Option[GenJVM.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/Definitions.scala.html#46687" title="Some[GenJVM.this.global.Type]">SerializableAttr</a> =&gt; <span title="(x: GenJVM.this.global.Type)Some[GenJVM.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46377" title="=&gt; GenJVM.this.global.Symbol">SerializableClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/Definitions.scala.html#46703" title="Some[GenJVM.this.global.Type]">CloneableAttr</a>    =&gt; <span title="(x: GenJVM.this.global.Type)Some[GenJVM.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46383" title="=&gt; GenJVM.this.global.Symbol">JavaCloneableClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/Definitions.scala.html#46711" title="Some[GenJVM.this.global.Type]">RemoteAttr</a>       =&gt; <span title="(x: GenJVM.this.global.Type)Some[GenJVM.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46385" title="=&gt; GenJVM.this.global.Symbol">RemoteInterfaceClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>                =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="scala.reflect.internal.pickling.PickleBuffer" id="346510">versionPickle</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.reflect.internal.pickling.PickleBuffer" id="348092">vp</a> = <span title="scala.reflect.internal.pickling.PickleBuffer" class="keyword">new</span> <a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#10422" title="scala.reflect.internal.pickling.PickleBuffer">PickleBuffer</a><span class="delimiter">(</span><span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(16)" class="int">16</span><span class="delimiter">)</span>, -<span title="Int(-1)" class="int">1</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#348092" title="scala.reflect.internal.pickling.PickleBuffer">vp</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147934" title="=&gt; Int">writeIndex</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>, <a href="#348092" title="scala.reflect.internal.pickling.PickleBuffer">vp</a><span class="delimiter">)</span>
      <a href="#348092" title="scala.reflect.internal.pickling.PickleBuffer">vp</a> <a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147940" title="(x: Int)Unit">writeNat</a> <a href="../../../../reflect/internal/pickling/PickleFormat.scala.html#10273" title="object scala.reflect.internal.pickling.PickleFormat">PickleFormat</a>.<a href="../../../../reflect/internal/pickling/PickleFormat.scala.html#148718" title="=&gt; Int">MajorVersion</a>
      <a href="#348092" title="scala.reflect.internal.pickling.PickleBuffer">vp</a> <a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147940" title="(x: Int)Unit">writeNat</a> <a href="../../../../reflect/internal/pickling/PickleFormat.scala.html#10273" title="object scala.reflect.internal.pickling.PickleFormat">PickleFormat</a>.<a href="../../../../reflect/internal/pickling/PickleFormat.scala.html#148720" title="=&gt; Int">MinorVersion</a>
      <a href="#348092" title="scala.reflect.internal.pickling.PickleBuffer">vp</a> <a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147940" title="(x: Int)Unit">writeNat</a> <span title="Int(0)" class="int">0</span>
      <a href="#348092" title="scala.reflect.internal.pickling.PickleBuffer">vp</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.IClass" id="346513">clasz</a>: <a href="../icode/Members.scala.html#228924" title="GenJVM.this.global.icodes.IClass">IClass</a> = _
    <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.IMethod" id="346516">method</a>: <a href="../icode/Members.scala.html#228928" title="GenJVM.this.global.icodes.IMethod">IMethod</a> = _
    <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JClass" id="346519">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span> = _
    <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="346522">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span> = _
//    var jcode: JExtendedCode = _

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="346524">isParcelableClass</a> = <a href="GenAndroid.scala.html#240140" title="(sym: GenJVM.this.global.Symbol)Boolean">isAndroidParcelableClass</a><span class="delimiter">(</span><a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="346525">isRemoteClass</a> = <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: GenJVM.this.global.icodes.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#46711" title="=&gt; GenJVM.this.global.Symbol">RemoteAttr</a>
    <span class="keyword">def</span> <a title="=&gt; Option[Long]" id="346526">serialVUID</a> = <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46229" title="(cls: GenJVM.this.global.icodes.global.Symbol)Option[GenJVM.this.global.icodes.global.AnnotationInfo]">getAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#46717" title="=&gt; GenJVM.this.global.Symbol">SerialVersionUIDAttr</a> <span title="(pf: PartialFunction[GenJVM.this.global.icodes.global.AnnotationInfo,Long])Option[Long]">collect</span> <a href="#348303" title="Long" class="delimiter">{</a>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#47274" title="Long">AnnotationInfo</a><span class="delimiter">(</span>_, Literal<span class="delimiter">(</span><a title="GenJVM.this.global.Constant" id="348317">const</a><span class="delimiter">)</span> :: _, _<span class="delimiter">)</span> =&gt; <a href="#348317" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47599" title="=&gt; Long">longValue</a>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.FJBGContext" id="346527">fjbgContext</a> = <span title="(x$1: Int, x$2: Int)ch.epfl.lamp.fjbg.FJBGContext" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.FJBGContext">FJBGContext</span><span class="delimiter">(</span><span title="Int(49)" class="int">49</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Boolean" id="346529">emitSource</a> = <a href="#346473" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(1)" class="int">1</span>
    <span class="keyword">val</span> <a title="Boolean" id="346531">emitLines</a>  = <a href="#346473" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span>
    <span class="keyword">val</span> <a title="Boolean" id="346533">emitVars</a>   = <a href="#346473" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(3)" class="int">3</span>

    /** For given symbol return a symbol corresponding to a class that should be declared as inner class.
     *
     *  For example:
     *  class A {
     *    class B
     *    object C
     *  }
     *
     *  then method will return NoSymbol for A, the same symbol for A.B (corresponding to A$B class) and A$C$ symbol
     *  for A.C.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol" id="346535">innerClassSymbolFor</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="348319">s</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a> =
      <span title="GenJVM.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#348319" title="GenJVM.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#348319" title="GenJVM.this.global.Symbol">s</a> <span class="keyword">else</span> <span title="GenJVM.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#348319" title="GenJVM.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#348319" title="GenJVM.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; GenJVM.this.global.Symbol">moduleClass</a> <span class="keyword">else</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)String" id="346536">javaName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="347334">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      /**
       * Checks if given symbol corresponds to inner class/object and add it to innerClassBuffer
       *
       * Note: This method is called recursively thus making sure that we add complete chain
       * of inner class all until root class.
       */
      <span class="keyword">def</span> <a title="(s: GenJVM.this.global.Symbol)Unit" id="348321">collectInnerClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="348322">s</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        // TODO: something atPhase(currentRun.flattenPhase.prev) which accounts for
        // being nested in parameterized classes (if we're going to selectively flatten.)
        <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="348323">x</a> = <a href="#346535" title="(s: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol">innerClassSymbolFor</a><span class="delimiter">(</span><a href="#348322" title="GenJVM.this.global.Symbol">s</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Boolean" id="348324">isInner</a> = <a href="#348323" title="GenJVM.this.global.Symbol">x</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#348323" title="GenJVM.this.global.Symbol">x</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47677" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#348324" title="Boolean">isInner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#346540" title="=&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">innerClassBuffer</a> <span title="(elem: GenJVM.this.global.Symbol)scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">+=</span> <a href="#348323" title="GenJVM.this.global.Symbol">x</a>
          <a href="#348321" title="(s: GenJVM.this.global.Symbol)Unit">collectInnerClass</a><span class="delimiter">(</span><a href="#348323" title="GenJVM.this.global.Symbol">x</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47677" title="=&gt; GenJVM.this.global.Symbol">rawowner</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#348321" title="(s: GenJVM.this.global.Symbol)Unit">collectInnerClass</a><span class="delimiter">(</span><a href="#347334" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <a href="#240082" title="GenJVM.this.BytecodeGenerator" class="keyword">super</a>.<a href="GenJVMUtil.scala.html#346464" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#347334" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Write a class to disk, adding the Scala signature (pickled type
     *  information) and inner classes.
     *
     * @param jclass The FJBG class, where code was emitted
     * @param sym    The corresponding symbol, used for looking up pickled information
     */
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit" id="346537">emitClass</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="348365">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="348366">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#346555" title="(jclass: ch.epfl.lamp.fjbg.JClass)Unit">addInnerClasses</a><span class="delimiter">(</span><a href="#348365" title="ch.epfl.lamp.fjbg.JClass">jclass</a><span class="delimiter">)</span>
      <a href="BytecodeWriters.scala.html#345208" title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">writeClass</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#348366" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a>, <a href="#348365" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348366" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Returns the ScalaSignature annotation if it must be added to this class,
     *  none otherwise; furthermore, it adds to `jclass` the ScalaSig marker
     *  attribute (marking that a scala signature annotation is present) or the
     *  Scala marker attribute (marking that the signature for this class is in
     *  another file). The annotation that is returned by this method must be
     *  added to the class' annotations list when generating them.
     *
     *  @param jclass The class file that is being readied.
     *  @param sym    The symbol for which the signature has been entered in
     *                the symData map. This is different than the symbol
     *                that is being generated in the case of a mirror class.
     *  @return       An option that is:
     *                - defined and contains an annotation info of the
     *                  ScalaSignature type, instantiated with the pickle
     *                  signature for sym (a ScalaSig marker attribute has
     *                  been written);
     *                - undefined if the jclass/sym couple must not contain a
     *                  signature (a Scala marker attribute has been written).
     */
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]" id="346538">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="348373">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="348374">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[GenJVM.this.global.AnnotationInfo]">Option</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span> =
      <a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185264" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)Option[scala.reflect.internal.pickling.PickleBuffer]">get</span> <a href="#348374" title="GenJVM.this.global.Symbol">sym</a> <span title="Option[GenJVM.this.global.AnnotationInfo]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Some[GenJVM.this.global.AnnotationInfo]">Some</span><span class="delimiter">(</span><a title="scala.reflect.internal.pickling.PickleBuffer" id="348394">pickle</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/NameManglers.scala.html#60681" title="(name: GenJVM.this.global.Name)Boolean">isModuleName</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#39670" title="(s: String)GenJVM.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#348373" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="348400">scalaAttr</a> =
            <a href="#346527" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#348373" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348373" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="../../../../reflect/internal/StdNames.scala.html#40550" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#67965" title="=&gt; GenJVM.this.global.tpnme.NameType">ScalaSignatureATTR</a>.<span title="()String">toString</span>,
                                        <a href="#346510" title="=&gt; scala.reflect.internal.pickling.PickleBuffer">versionPickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147928" title="=&gt; Array[Byte]">bytes</a>, <a href="#346510" title="=&gt; scala.reflect.internal.pickling.PickleBuffer">versionPickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147934" title="=&gt; Int">writeIndex</a><span class="delimiter">)</span>
          <a href="#348373" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#348400" title="ch.epfl.lamp.fjbg.JOtherAttribute">scalaAttr</a>
          <span class="keyword">val</span> <a title="GenJVM.this.global.AnnotationInfo" id="348401">scalaAnnot</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.ScalaSigBytes" id="348452">sigBytes</a> = <a href="../../../../reflect/internal/AnnotationInfos.scala.html#60796" title="(bytes: Array[Byte])GenJVM.this.global.ScalaSigBytes">ScalaSigBytes</a><span class="delimiter">(</span><a href="#348394" title="scala.reflect.internal.pickling.PickleBuffer">pickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147928" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">bytes</a>.<span title="(n: Int)Array[Byte]">take</span><span class="delimiter">(</span><a href="#348394" title="scala.reflect.internal.pickling.PickleBuffer">pickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147934" title="=&gt; Int">writeIndex</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../../reflect/internal/AnnotationInfos.scala.html#47273" title="(atp: GenJVM.this.global.Type, args: List[GenJVM.this.global.Tree], assocs: List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#348452" title="GenJVM.this.global.ScalaSigBytes">sigBytes</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#56567" title="=&gt; GenJVM.this.global.Type">sigAnnot</a>, <span title="object Nil">Nil</span>, <span title="(xs: (GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)*)List[(GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)]">List</span><span class="delimiter">(</span><span title="(_1: GenJVM.this.global.nme.NameType, _2: GenJVM.this.global.ScalaSigBytes)(GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)" class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60190" title="=&gt; GenJVM.this.global.nme.NameType">bytes</a>, <a href="#348452" title="GenJVM.this.global.ScalaSigBytes">sigBytes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#240080" title="(x$1: Int)Unit">pickledBytes</a> <span title="(x: Int)Int">+=</span> <a href="#348394" title="scala.reflect.internal.pickling.PickleBuffer">pickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#147934" title="=&gt; Int">writeIndex</a>
          <a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185264" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">-=</span> <a href="#348374" title="GenJVM.this.global.Symbol">sym</a>
          <a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185264" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">-=</span> <a href="#348374" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48006" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a>
          <span title="(x: GenJVM.this.global.AnnotationInfo)Some[GenJVM.this.global.AnnotationInfo]">Some</span><span class="delimiter">(</span><a href="#348401" title="GenJVM.this.global.AnnotationInfo">scalaAnnot</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="348615">markerAttr</a> =
            <a href="#346527" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#348373" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348373" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="../../../../reflect/internal/StdNames.scala.html#40550" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#67963" title="=&gt; GenJVM.this.global.tpnme.NameType">ScalaATTR</a>.<span title="()String">toString</span>, <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a href="#348373" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#348615" title="ch.epfl.lamp.fjbg.JOtherAttribute">markerAttr</a>
          <span title="object None">None</span>
      <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]" id="346540">innerClassBuffer</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.LinkedHashSet[A]">LinkedHashSet</span><span title="(elems: GenJVM.this.global.Symbol*)scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    /** Drop redundant interfaces (ones which are implemented by some
     *  other parent) from the immediate parents.  This is important on
     *  android because there is otherwise an interface explosion.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(interfaces: List[GenJVM.this.global.Symbol])List[GenJVM.this.global.Symbol]" id="346542">minimizeInterfaces</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.Symbol]" id="348618">interfaces</a>: <span title="List[GenJVM.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[GenJVM.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">(</span>
      <a href="#348618" title="List[GenJVM.this.global.Symbol]">interfaces</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)List[GenJVM.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="348623">int1</a> =&gt;
        <a href="#348618" title="List[GenJVM.this.global.Symbol]">interfaces</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="348630">int2</a> =&gt;
          <span class="delimiter">(</span><a href="#348623" title="GenJVM.this.global.Symbol">int1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#348630" title="GenJVM.this.global.Symbol">int2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#348630" title="GenJVM.this.global.Symbol">int2</a> <a href="../../../../reflect/internal/Symbols.scala.html#47964" title="(that: GenJVM.this.global.Symbol)Boolean">isSubClass</a> <a href="#348623" title="GenJVM.this.global.Symbol">int1</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(c: GenJVM.this.global.icodes.IClass)Unit" id="346543">genClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="348027">c</a>: <a href="../icode/Members.scala.html#228924" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#346513" title="(x$1: GenJVM.this.global.icodes.IClass)Unit">clasz</a> = <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>
      <a href="#346540" title="=&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">innerClassBuffer</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="String" id="348632">name</a>    = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#348633" title="GenJVM.this.global.Type" id="348634">superClass</a> <a href="#348634" title="(GenJVM.this.global.Type, List[GenJVM.this.global.Type])">::</a> <a href="#348633" title="List[GenJVM.this.global.Type]" id="348635">superInterfaces</a> = <span title="List[GenJVM.this.global.Type] @unchecked" class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[GenJVM.this.global.Type]" id="348640">parents0</a> = <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[GenJVM.this.global.icodes.global.Type]">parents</a> <span title="List[GenJVM.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="List[GenJVM.this.global.Type]">Nil</span>  =&gt; <span title="(xs: GenJVM.this.global.Type*)List[GenJVM.this.global.Type]">List</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="List[GenJVM.this.global.icodes.global.Type]" id="348648">ps</a>   =&gt; <a href="#348648" title="List[GenJVM.this.global.icodes.global.Type]">ps</a>
        <span class="delimiter">}</span>
        <a href="#348640" title="List[GenJVM.this.global.Type]">parents0</a> <span title="(that: scala.collection.GenTraversableOnce[GenJVM.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Type],GenJVM.this.global.Type,List[GenJVM.this.global.Type]])List[GenJVM.this.global.Type]">++</span> <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a>.<span title="(f: GenJVM.this.global.icodes.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[GenJVM.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.AnnotationInfo],GenJVM.this.global.Type,List[GenJVM.this.global.Type]])List[GenJVM.this.global.Type]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,GenJVM.this.global.Type,List[GenJVM.this.global.Type]]" class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.AnnotationInfo" id="348711">ann</a> =&gt; <a href="#346509" title="(attr: GenJVM.this.global.Symbol)Option[GenJVM.this.global.Type]">newParentForAttr</a><span title="(xo: Option[GenJVM.this.global.Type])Iterable[GenJVM.this.global.Type]" class="delimiter">(</span><a href="#348711" title="GenJVM.this.global.icodes.global.AnnotationInfo">ann</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#47254" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="=&gt; List[GenJVM.this.global.Type]">distinct</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Array[String]" id="348636">ifaces</a> = <a href="#348635" title="List[GenJVM.this.global.Type]">superInterfaces</a> <span title="Array[String]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Array[String]">Nil</span> =&gt; <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[String]">NO_INTERFACES</span>
        <span class="keyword">case</span> <span title="Array[String]">_</span>   =&gt; <a href="GenJVMUtil.scala.html#346463" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#346542" title="(interfaces: List[GenJVM.this.global.Symbol])List[GenJVM.this.global.Symbol]">minimizeInterfaces</a><span class="delimiter">(</span><a href="#348635" title="List[GenJVM.this.global.Type]">superInterfaces</a> <span title="(f: GenJVM.this.global.Type =&gt; GenJVM.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Type],GenJVM.this.global.Symbol,List[GenJVM.this.global.Symbol]])List[GenJVM.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#348849" title="GenJVM.this.global.Type">_</a>.<a href="../../../../reflect/internal/Types.scala.html#42728" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: GenJVM.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Symbol],String,List[String]])List[String]">map</span> <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#346519" title="(x$1: ch.epfl.lamp.fjbg.JClass)Unit">jclass</a> = <a href="#346527" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: String, x$3: String, x$4: Array[String], x$5: String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span><a href="#240084" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                                  <a href="#348632" title="String">name</a>,
                                  <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#348634" title="GenJVM.this.global.Type">superClass</a>.<a href="../../../../reflect/internal/Types.scala.html#42728" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>,
                                  <a href="#348636" title="Array[String]">ifaces</a>,
                                  <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229228" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../../util/SourceFile.scala.html#185154" title="()String">toString</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240087" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#346526" title="=&gt; Option[Long]">serialVUID</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span> <span title="(x: Boolean)Boolean">||</span> <a href="#346524" title="=&gt; Boolean">isParcelableClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240087" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#346560" title="()Unit">addModuleInstanceField</a>
        <a href="#346561" title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit">addStaticInit</a><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229238" title="=&gt; Option[GenJVM.this.global.icodes.IMethod]">lookupStaticCtor</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240086" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48003" title="=&gt; GenJVM.this.global.icodes.global.Symbol">companionClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#346565" title="(clasz: GenJVM.this.global.Symbol, sourceFile: scala.tools.nsc.util.SourceFile)Unit">generateMirrorClass</a><span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229228" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No mirror class for module with linked class: &quot;)" class="string">&quot;No mirror class for module with linked class: &quot;</span> <span title="(x$1: Any)String">+</span>
                <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229238" title="=&gt; Option[GenJVM.this.global.icodes.IMethod]">lookupStaticCtor</a> <span title="(f: GenJVM.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="349019">constructor</a> =&gt; <a href="#346561" title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit">addStaticInit</a><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <span title="(x: GenJVM.this.global.icodes.IMethod)Some[GenJVM.this.global.icodes.IMethod]">Some</span><span class="delimiter">(</span><a href="#349019" title="GenJVM.this.global.icodes.IMethod">constructor</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // it must be a top level class (name contains no $s)
        <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="349013">isCandidateForForwarders</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="349024">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
          <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185229" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#349024" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">toString</span> <span title="(elem: Any)Boolean">contains</span> <span title="Char('$')" class="char">'$'</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#349024" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48108" title="=&gt; Boolean">hasModuleFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#349024" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#349024" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47864" title="=&gt; Boolean">isNestedClass</a>
          <span class="delimiter">}</span>

        // At some point this started throwing lots of exceptions as a compile was finishing.
        // error: java.lang.AssertionError:
        //   assertion failed: List(object package$CompositeThrowable, object package$CompositeThrowable)
        // ...is the one I've seen repeatedly.  Suppressing.
        <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="349014">lmoc</a> = <span class="delimiter">(</span>
          <span class="keyword">try</span> <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48005" title="=&gt; GenJVM.this.global.icodes.global.Symbol">companionModule</a>
          <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="GenJVM.this.global.NoSymbol.type" id="349038">x</a>: <span title="AssertionError">AssertionError</span> =&gt;
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Suppressing failed assert: &quot;)" class="string">&quot;Suppressing failed assert: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#349038" title="AssertionError">x</a><span class="delimiter">)</span>
            <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
        <span class="delimiter">)</span>
        // add static forwarders if there are no name conflicts; see bugs #363 and #1735
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349014" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48087" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349013" title="(sym: GenJVM.this.global.Symbol)Boolean">isCandidateForForwarders</a><span class="delimiter">(</span><a href="#349014" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183370" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noForwarders</a>.<a href="../../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Adding static forwarders from '%s' to implementations in '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#349014" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#346564" title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit">addForwarders</a><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#349014" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; GenJVM.this.global.icodes.global.Symbol">moduleClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229222" title="=&gt; List[GenJVM.this.global.icodes.IField]">fields</a> <span title="(f: GenJVM.this.global.icodes.IField =&gt; Unit)Unit">foreach</span> <a href="#346556" title="(f: GenJVM.this.global.icodes.IField)Unit">genField</a>
      <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229225" title="=&gt; List[GenJVM.this.global.icodes.IMethod]">methods</a> <span title="(f: GenJVM.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</span> <a href="#346557" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genMethod</a>

      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.AnnotationInfo]" id="348637">ssa</a> = <a href="#346538" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#346551" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#346552" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a> <span title="(that: scala.collection.GenTraversableOnce[GenJVM.this.global.icodes.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.AnnotationInfo],GenJVM.this.global.icodes.global.AnnotationInfo,List[GenJVM.this.global.AnnotationInfo]])List[GenJVM.this.global.AnnotationInfo]">++</span> <a href="#348637" title="(xo: Option[GenJVM.this.global.AnnotationInfo])Iterable[GenJVM.this.global.AnnotationInfo]">ssa</a><span class="delimiter">)</span>
      <a href="#346544" title="(jclass: ch.epfl.lamp.fjbg.JClass, clazz: GenJVM.this.global.Symbol)Unit">addEnclosingMethodAttribute</a><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#346537" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">emitClass</a><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: GenJVM.this.global.icodes.global.Symbol)Boolean">hasAnnotation</a> <a href="#346499" title="=&gt; GenJVM.this.global.Symbol">BeanInfoAttr</a><span class="delimiter">)</span>
        <a href="#346545" title="(c: GenJVM.this.global.icodes.IClass)Unit">genBeanInfoClass</a><span class="delimiter">(</span><a href="#348027" title="GenJVM.this.global.icodes.IClass">c</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, clazz: GenJVM.this.global.Symbol)Unit" id="346544">addEnclosingMethodAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="349247">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="349248">clazz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="349253">sym</a> = <a href="#349248" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47999" title="=&gt; GenJVM.this.global.Symbol">originalEnclosingMethod</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349253" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;enclosing method for %s is %s (in %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#349248" title="GenJVM.this.global.Symbol">clazz</a>, <a href="#349253" title="GenJVM.this.global.Symbol">sym</a>, <a href="#349253" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#349247" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#346527" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: String, x$3: String, x$4: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JEnclosingMethodAttribute">JEnclosingMethodAttribute</span><span class="delimiter">(</span>
          <a href="#349247" title="ch.epfl.lamp.fjbg.JClass">jclass</a>,
          <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349253" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span>,
          <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349253" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>,
          <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#349253" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349248" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47815" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="349288">enclClass</a> = <a href="#349248" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47677" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#349288" title="GenJVM.this.global.Symbol">enclClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a>, <a href="#349288" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="349289">sym</a> = <a href="#349288" title="GenJVM.this.global.Symbol">enclClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47977" title="=&gt; GenJVM.this.global.Symbol">primaryConstructor</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349289" title="GenJVM.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Ran out of room looking for an enclosing method for %s: no constructor here.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#349288" title="GenJVM.this.global.Symbol">enclClass</a>, <a href="#349248" title="GenJVM.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;enclosing method for %s is %s (in %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#349248" title="GenJVM.this.global.Symbol">clazz</a>, <a href="#349289" title="GenJVM.this.global.Symbol">sym</a>, <a href="#349288" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#349247" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#346527" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: String, x$3: String, x$4: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JEnclosingMethodAttribute">JEnclosingMethodAttribute</span><span class="delimiter">(</span>
            <a href="#349247" title="ch.epfl.lamp.fjbg.JClass">jclass</a>,
            <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349288" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span>,
            <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349289" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>,
            <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#349289" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Generate a bean info class that describes the given class.
     *
     * @author Ross Judson (ross.judson@soletta.com)
     */
    <span class="keyword">def</span> <a title="(c: GenJVM.this.global.icodes.IClass)Unit" id="346545">genBeanInfoClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="349251">c</a>: <a href="../icode/Members.scala.html#228924" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.icodes.global.AnnotationInfo]" id="349308">description</a> = <a href="#349251" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46229" title="(cls: GenJVM.this.global.icodes.global.Symbol)Option[GenJVM.this.global.icodes.global.AnnotationInfo]">getAnnotation</a> <a href="#346505" title="=&gt; GenJVM.this.global.Symbol">BeanDescriptionAttr</a>
      // informProgress(description.toString)

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JClass" id="349309">beanInfoClass</a> = <a href="#346527" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: String, x$3: String, x$4: Array[String], x$5: String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span><a href="#240084" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#349251" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
            <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349251" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;BeanInfo&quot;)" class="string">&quot;BeanInfo&quot;</span>,
            <span title="String(&quot;scala/beans/ScalaBeanInfo&quot;)" class="string">&quot;scala/beans/ScalaBeanInfo&quot;</span>,
            <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[String]">NO_INTERFACES</span>,
            <a href="#349251" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229228" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../../util/SourceFile.scala.html#185154" title="()String">toString</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="List[String]" id="349310">fieldList</a> = List<span class="delimiter">[</span>String<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IField" id="349417">f</a> &lt;- <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229222" title="(f: GenJVM.this.global.icodes.IField =&gt; (GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.IField],(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol),List[(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol)]])List[(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol)]">fields</a> <span class="keyword">if</span> <a href="#349417" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47798" title="=&gt; Boolean">hasGetter</a>;
	         <a title="GenJVM.this.global.icodes.global.Symbol" id="349418">g</a> = <a href="#349417" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48020" title="(base: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.global.Symbol">getter</a><span class="delimiter">(</span><a href="#349251" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>;
	         <a title="GenJVM.this.global.icodes.global.Symbol" id="349419">s</a> = <a href="#349417" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48022" title="(base: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.global.Symbol">setter</a><span class="delimiter">(</span><a href="#349251" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>;
	         <span class="keyword">if</span> <a href="#349418" title="GenJVM.this.global.icodes.global.Symbol">g</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48094" title="=&gt; Boolean">isPublic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#349417" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.icodes.global.Name">name</a> <a href="../../../../reflect/internal/Names.scala.html#53443" title="(name: String)Boolean">startsWith</a> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>  // inserting $outer breaks the bean
        <a href="#349310" title="List[String]">fieldList</a> = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349417" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="#349420" title="(x: String)List[String]">::</a> <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349418" title="GenJVM.this.global.icodes.global.Symbol">g</a><span class="delimiter">)</span> <a href="#349421" title="(x: String)List[String]">::</a> <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#349419" title="GenJVM.this.global.icodes.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349419" title="GenJVM.this.global.icodes.global.Symbol">s</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#349422" title="(x: String)List[String]">::</a> <a href="#349310" title="List[String]">fieldList</a>
      <span class="keyword">val</span> <a title="List[String]" id="349311">methodList</a> =
	     <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="349457">m</a> &lt;- <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229225" title="(f: GenJVM.this.global.icodes.IMethod =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.IMethod],String,List[String]])List[String]">methods</a>
	         <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#349457" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <a href="#349457" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48094" title="=&gt; Boolean">isPublic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#349457" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.icodes.global.Name">name</a> <a href="../../../../reflect/internal/Names.scala.html#53443" title="(name: String)Boolean">startsWith</a> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><a href="#349457" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><a href="#349457" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349457" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="349312">constructor</a> = <a href="#349309" title="ch.epfl.lamp.fjbg.JClass">beanInfoClass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><span title="Int(1)">ACC_PUBLIC</span>, <span title="String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>, <span title="Array[ch.epfl.lamp.fjbg.JType]" class="keyword">new</span> <span title="Array[ch.epfl.lamp.fjbg.JType]">Array</span><span class="delimiter">[</span>JType<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Array[String]" class="keyword">new</span> <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="349313">jcode</a> = <a href="#349312" title="ch.epfl.lamp.fjbg.JMethod">constructor</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="349314">strKind</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46317" title="=&gt; GenJVM.this.global.Symbol">StringClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JArrayType" id="349315">stringArrayKind</a> = <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="#349314" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="349316">conType</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46321" title="=&gt; GenJVM.this.global.Symbol">ClassClass</a><span class="delimiter">)</span>, <a href="#349315" title="ch.epfl.lamp.fjbg.JArrayType">stringArrayKind</a>, <a href="#349315" title="ch.epfl.lamp.fjbg.JArrayType">stringArrayKind</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(lst: Seq[String])Unit" id="349317">push</a><span class="delimiter">(</span><a title="Seq[String]" id="349574">lst</a>:<span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="349575">fi</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="349592">f</a> &lt;- <a href="#349574" title="(f: String =&gt; Unit)Unit">lst</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#349575" title="Int">fi</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349592" title="String">f</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: String)Unit">emitPUSH</span> <a href="#349592" title="String">f</a>
          <span class="keyword">else</span>
            <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitACONST_NULL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitASTORE</span> <a href="#349314" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
          <a href="#349575" title="Int">fi</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
      // push the class
      <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitPUSH</span> <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#349251" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>

      // push the string array of field information
      <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#349310" title="List[String]">fieldList</a>.<span title="=&gt; Int">length</span>
      <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="#349314" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
      <a href="#349317" title="(lst: Seq[String])Unit">push</a><span class="delimiter">(</span><a href="#349310" title="List[String]">fieldList</a><span class="delimiter">)</span>

      // push the string array of method information
      <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#349311" title="List[String]">methodList</a>.<span title="=&gt; Int">length</span>
      <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="#349314" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
      <a href="#349317" title="(lst: Seq[String])Unit">push</a><span class="delimiter">(</span><a href="#349311" title="List[String]">methodList</a><span class="delimiter">)</span>

      // invoke the superclass constructor, which will do the
      // necessary java reflection and create Method objects.
      <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><span title="String(&quot;scala/beans/ScalaBeanInfo&quot;)" class="string">&quot;scala/beans/ScalaBeanInfo&quot;</span>, <span title="String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>, <a href="#349316" title="ch.epfl.lamp.fjbg.JMethodType">conType</a><span class="delimiter">)</span>
      <a href="#349313" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitRETURN</span><span class="delimiter">(</span><span class="delimiter">)</span>

      // write the bean information class file.
      <a href="BytecodeWriters.scala.html#345208" title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">writeClass</a><span class="delimiter">(</span><span title="String(&quot;BeanInfo &quot;)" class="string">&quot;BeanInfo &quot;</span>, <a href="#349309" title="ch.epfl.lamp.fjbg.JClass">beanInfoClass</a>, <a href="#349251" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Add the given 'throws' attributes to jmethod */
    <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit" id="346546">addExceptionsAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="349635">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="349636">excs</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349636" title="List[GenJVM.this.global.AnnotationInfo]">excs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JConstantPool" id="349638">cpool</a> = <a href="#349635" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>
      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="349639">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(512)" class="int">512</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="349640">nattr</a> = <span title="Int(0)" class="int">0</span>

      // put some random value; the actual number is determined at the end
      <a href="#349639" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <span title="Int(47802)" class="int">0xbaba</span>.<span title="=&gt; Short">toShort</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a href="../../../../reflect/internal/AnnotationInfos.scala.html#47274" title="(info: GenJVM.this.global.AnnotationInfo)Option[(GenJVM.this.global.Type, List[GenJVM.this.global.Tree], List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])]">AnnotationInfo</a><span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="349867">tp</a>, <a href="#349802" title="(x: List[GenJVM.this.global.Tree])Some[List[GenJVM.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="GenJVM.this.global.Tree" id="349880">exc</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> &lt;- <a href="#349636" title="List[GenJVM.this.global.AnnotationInfo]">excs</a>.<a href="#349793" title="(f: GenJVM.this.global.AnnotationInfo =&gt; Unit)Unit">distinct</a> <span class="keyword">if</span> <a href="#349867" title="GenJVM.this.global.Type">tp</a>.<a href="../../../../reflect/internal/Types.scala.html#42728" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46721" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> Literal<a href="#349883" title="GenJVM.this.global.Constant" id="349881" class="delimiter">(</a><a title="GenJVM.this.global.Constant" id="349883">const</a><span class="delimiter">)</span> = <a href="#349880" title="GenJVM.this.global.Tree">exc</a>
        <a href="#349639" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span>
          <a href="#349638" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addClass</span><span title="implicit scala.Predef.int2Integer : (x: Int)Integer" class="delimiter">(</span>
            <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349881" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47606" title="=&gt; GenJVM.this.global.Type">typeValue</a>.<a href="../../../../reflect/internal/Types.scala.html#42728" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()Short">shortValue</span><span class="delimiter">)</span>
        <a href="#349640" title="Int">nattr</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#349640" title="Int">nattr</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>, <a href="#349640" title="Int">nattr</a><span class="delimiter">)</span>
      <a href="#349639" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Int, x$2: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#349640" title="Int">nattr</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <a href="#346554" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#349635" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="../../../../reflect/internal/StdNames.scala.html#40550" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#67949" title="=&gt; GenJVM.this.global.tpnme.NameType">ExceptionsATTR</a>, <a href="#349639" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Whether an annotation should be emitted as a Java annotation
     *   .initialize: if 'annot' is read from pickle, atp might be un-initialized
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(annot: GenJVM.this.global.AnnotationInfo)Boolean" id="346547">shouldEmitAnnotation</a><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="349931">annot</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#40591" title="GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> =
      <a href="#349931" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#47254" title="=&gt; GenJVM.this.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; GenJVM.this.global.Symbol">initialize</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#349931" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#47257" title="(clazz: GenJVM.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46673" title="=&gt; GenJVM.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#349931" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#47240" title="=&gt; List[GenJVM.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int" id="346548">emitJavaAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JConstantPool" id="349938">cpool</a>: <span title="ch.epfl.lamp.fjbg.JConstantPool">JConstantPool</span>, <a title="java.nio.ByteBuffer" id="349939">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="349940">annotations</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit" id="349942">emitArgument</a><span class="delimiter">(</span><a title="GenJVM.this.global.ClassfileAnnotArg" id="349946">arg</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#40574" title="GenJVM.this.global.ClassfileAnnotArg">ClassfileAnnotArg</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#349946" title="GenJVM.this.global.ClassfileAnnotArg">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">LiteralAnnotArg</span><span class="delimiter">(</span><a title="GenJVM.this.global.Constant" id="349948">const</a><span class="delimiter">)</span> =&gt;
          <a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47580" title="=&gt; Int">tag</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">BooleanTag</span> =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('Z')" class="char">'Z'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47594" title="=&gt; Boolean">booleanValue</a><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ByteTag</span>    =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('B')" class="char">'B'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47595" title="=&gt; Int">byteValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ShortTag</span>   =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('S')" class="char">'S'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47596" title="=&gt; Int">shortValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">CharTag</span>    =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('C')" class="char">'C'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47597" title="=&gt; Int">charValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">IntTag</span>     =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('I')" class="char">'I'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47598" title="=&gt; Int">intValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">LongTag</span>    =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('J')" class="char">'J'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Long)Int">addLong</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47599" title="=&gt; Long">longValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">FloatTag</span>   =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('F')" class="char">'F'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Float)Int">addFloat</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47600" title="=&gt; Float">floatValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">DoubleTag</span>  =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('D')" class="char">'D'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Double)Int">addDouble</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47601" title="=&gt; Double">doubleValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">StringTag</span>  =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('s')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47603" title="=&gt; String">stringValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ClassTag</span>   =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('c')" class="char">'c'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346466" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47606" title="=&gt; GenJVM.this.global.Type">typeValue</a><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">EnumTag</span> =&gt;
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('e')" class="char">'e'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346466" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47591" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
              <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#349948" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#47607" title="=&gt; GenJVM.this.global.Symbol">symbolValue</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <a title="Unit" id="350047">sb</a>@ScalaSigBytes<span class="delimiter">(</span><a title="Array[Byte]" id="350048">bytes</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#350047" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#56566" title="=&gt; Boolean">isLong</a> =&gt;
          <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('s')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Array[Byte])Int">addUtf8</span><span class="delimiter">(</span><a href="#350047" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#56564" title="=&gt; Array[Byte]">encodedBytes</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>

        <span class="keyword">case</span> <a title="Unit" id="350059">sb</a>@ScalaSigBytes<span class="delimiter">(</span><a title="Array[Byte]" id="350060">bytes</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#350059" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#56566" title="=&gt; Boolean">isLong</a> =&gt;
          <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('[')" class="char">'['</span>.<span title="=&gt; Byte">toByte</span>
          <span class="keyword">val</span> <a title="Int" id="350061">stringCount</a> = <span class="delimiter">(</span><a href="#350059" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#56564" title="=&gt; Array[Byte]">encodedBytes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">/</span> <span title="Int(65534)" class="int">65534</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
          <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#350061" title="Int">stringCount</a>.<span title="=&gt; Short">toShort</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="350208">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; java.nio.ByteBuffer)Unit">until</span> <a href="#350061" title="Int">stringCount</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('s')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
            <span class="keyword">val</span> <a title="Int" id="350209">j</a> = <a href="#350208" title="Int">i</a> <span title="(x: Int)Int">*</span> <span title="Int(65535)" class="int">65535</span>
            <span class="keyword">val</span> <a title="Array[Byte]" id="350210">string</a> = <a href="#350059" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#56564" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">encodedBytes</a>.<span title="(from: Int, until: Int)Array[Byte]">slice</span><span class="delimiter">(</span><a href="#350209" title="Int">j</a>, <a href="#350209" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(65535)" class="int">65535</span><span class="delimiter">)</span>
            <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Array[Byte])Int">addUtf8</span><span class="delimiter">(</span><a href="#350210" title="Array[Byte]">string</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">ArrayAnnotArg</span><span class="delimiter">(</span><a title="Array[GenJVM.this.global.ClassfileAnnotArg]" id="350352">args</a><span class="delimiter">)</span> =&gt;
          <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('[')" class="char">'['</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#350352" title="Array[GenJVM.this.global.ClassfileAnnotArg]">args</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Short">toShort</span>
          <a href="#350352" title="(xs: Array[GenJVM.this.global.ClassfileAnnotArg])scala.collection.mutable.ArrayOps[GenJVM.this.global.ClassfileAnnotArg]">args</a> <span title="(f: GenJVM.this.global.ClassfileAnnotArg =&gt; Unit)Unit">foreach</span> <a href="#349942" title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit">emitArgument</a>

        <span class="keyword">case</span> <span title="Unit">NestedAnnotArg</span><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="351191">annInfo</a><span class="delimiter">)</span> =&gt;
          <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('@')" class="char">'@'</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#349943" title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit">emitAnnotation</a><span class="delimiter">(</span><a href="#351191" title="GenJVM.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit" id="349943">emitAnnotation</a><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="351196">annotInfo</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#40591" title="GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#47274" title="(info: GenJVM.this.global.AnnotationInfo)Option[(GenJVM.this.global.Type, List[GenJVM.this.global.Tree], List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])]">AnnotationInfo</a><a href="#351198" title="(GenJVM.this.global.Type, List[GenJVM.this.global.Tree], List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])" class="delimiter">(</a><a href="#351197" title="GenJVM.this.global.Type" id="351198">typ</a>, <a href="#351197" title="List[GenJVM.this.global.Tree]" id="351199">args</a>, <a href="#351197" title="List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)]" id="351200">assocs</a><span class="delimiter">)</span> = <a href="#351196" title="GenJVM.this.global.AnnotationInfo">annotInfo</a>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JType" id="351201">jtype</a> = <a href="GenJVMUtil.scala.html#346466" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#351198" title="GenJVM.this.global.Type">typ</a><span class="delimiter">)</span>
        <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#351201" title="ch.epfl.lamp.fjbg.JType">jtype</a>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#351199" title="List[GenJVM.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#351199" title="List[GenJVM.this.global.Tree]">args</a><span class="delimiter">)</span>
        <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#351200" title="List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)]">assocs</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Short">toShort</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="GenJVM.this.global.Name" id="351283">name</a>, <a title="GenJVM.this.global.ClassfileAnnotArg" id="351284">value</a><span class="delimiter">)</span> &lt;- <a href="#351200" title="(f: ((GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)) =&gt; Unit)Unit">assocs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#349938" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#351283" title="GenJVM.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <a href="#349942" title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit">emitArgument</a><span class="delimiter">(</span><a href="#351284" title="GenJVM.this.global.ClassfileAnnotArg">value</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Int" id="349944">nannots</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="Int" id="349945">pos</a> = <a href="#349939" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span>

      // put some random value; the actual number of annotations is determined at the end
      <a href="#349939" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <span title="Int(47802)" class="int">0xbaba</span>.<span title="=&gt; Short">toShort</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="351304">annot</a> &lt;- <a href="#349940" title="(f: GenJVM.this.global.AnnotationInfo =&gt; Unit)Unit">annotations</a> <span class="keyword">if</span> <a href="#346547" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a><span class="delimiter">(</span><a href="#351304" title="GenJVM.this.global.AnnotationInfo">annot</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#349944" title="Int">nannots</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#349943" title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit">emitAnnotation</a><span class="delimiter">(</span><a href="#351304" title="GenJVM.this.global.AnnotationInfo">annot</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // save the number of annotations
      <a href="#349939" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Int, x$2: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><a href="#349945" title="Int">pos</a>, <a href="#349944" title="Int">nannots</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <a href="#349944" title="Int">nannots</a>
    <span class="delimiter">}</span>

    /** Run the signature parser to catch bogus signatures.
     */
    <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol, sig: String)Boolean" id="346549">isValidSignature</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="351312">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="String" id="351313">sig</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#351312" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="../../../reflect/SigParser.scala.html#35597" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#351325" title="(s: String)Boolean">verifyMethod</a> <a href="#351313" title="String">sig</a>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#351312" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <a href="../../../reflect/SigParser.scala.html#35597" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#351326" title="(s: String)Boolean">verifyType</a> <a href="#351313" title="String">sig</a>
      <span class="keyword">else</span> <a href="../../../reflect/SigParser.scala.html#35597" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#351324" title="(s: String)Boolean">verifyClass</a> <a href="#351313" title="String">sig</a>
    <span class="delimiter">)</span>

    // @M don't generate java generics sigs for (members of) implementation
    // classes, as they are monomorphic (TODO: ok?)
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="346550">needsGenericSignature</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="351365">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span>
      // PP: This condition used to include sym.hasExpandedName, but this leads
      // to the total loss of generic information if a private member is
      // accessed from a closure: both the field and the accessor were generated
      // without it.  This is particularly bad because the availability of
      // generic information could disappear as a consequence of a seemingly
      // unrelated change.
         <a href="#351365" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a>
      <span title="(x: Boolean)Boolean">||</span> <a href="#351365" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47847" title="=&gt; Boolean">isLiftedMethod</a>
      <span title="(x: Boolean)Boolean">||</span> <a href="#351365" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47765" title="=&gt; Boolean">isBridge</a>
      <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#351365" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47878" title="=&gt; List[GenJVM.this.global.Symbol]">ownerChain</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#351376" title="GenJVM.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit" id="346551">addGenericSignature</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="349127">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="GenJVM.this.global.Symbol" id="349128">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="GenJVM.this.global.Symbol" id="349129">owner</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#346550" title="(sym: GenJVM.this.global.Symbol)Boolean">needsGenericSignature</a><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="351377">memberTpe</a> = <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; GenJVM.this.global.Type)GenJVM.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#349129" title="GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../../../reflect/internal/Types.scala.html#42779" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        // println(&quot;addGenericSignature sym: &quot; + sym.fullName + &quot; : &quot; + memberTpe + &quot; sym.info: &quot; + sym.info)
        // println(&quot;addGenericSignature: &quot;+ (sym.ownerChain map (x =&gt; (x.name, x.isImplClass))))
        <a href="../../Global.scala.html#182954" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../transform/Erasure.scala.html#239152" title="(sym0: GenJVM.this.global.erasure.global.Symbol, info: GenJVM.this.global.erasure.global.Type)Option[String]">javaSig</a><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>, <a href="#351377" title="GenJVM.this.global.Type">memberTpe</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="351397">sig</a> =&gt;
          <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;sig(&quot;)" class="string">&quot;sig(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#349127" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()String">getName</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#349128" title="GenJVM.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#349129" title="GenJVM.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)      &quot;)" class="string">&quot;)      &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#351397" title="String">sig</a><span class="delimiter">)</span>
          /** Since we're using a sun internal class for signature validation,
           *  we have to allow for it not existing or otherwise malfunctioning:
           *  in which case we treat every signature as valid.  Medium term we
           *  should certainly write independent signature validation.
           */
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183390" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xverify</a>.<a href="../../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/SigParser.scala.html#35597" title="object scala.tools.reflect.SigParser">SigParser</a>.<a href="../../../reflect/SigParser.scala.html#351323" title="=&gt; Boolean">isParserAvailable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#346549" title="(sym: GenJVM.this.global.Symbol, sig: String)Boolean">isValidSignature</a><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>, <a href="#351397" title="String">sig</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229228" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#185132" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; GenJVM.this.global.Position">pos</a>,
                <span title="String(&quot;|compiler bug: created invalid generic signature for %s in %s\n                   |signature: %s\n                   |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala\n                &quot;)" class="string">&quot;&quot;&quot;|compiler bug: created invalid generic signature for %s in %s
                   |signature: %s
                   |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala
                &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>, <a href="#349128" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47826" title="=&gt; GenJVM.this.global.Symbol">skipPackageObject</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a>, <a href="#351397" title="String">sig</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#183440" title="=&gt; scala.tools.nsc.Settings#PhasesSetting">check</a>.<a href="../../settings/MutableSettings.scala.html#193913" title="=&gt; List[String]">value</a> <span title="(elem: Any)Boolean">contains</span> <span title="String(&quot;genjvm&quot;)" class="string">&quot;genjvm&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.erasure.global.Type" id="351422">normalizedTpe</a> = <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Global.scala.html#182954" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../../../reflect/internal/Types.scala.html#82351" title="(tp: GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">prepareSigMap</a><span class="delimiter">(</span><a href="#351377" title="GenJVM.this.global.Type">memberTpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="351423">bytecodeTpe</a> = <a href="#349129" title="GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../../../reflect/internal/Types.scala.html#42779" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47756" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../../Global.scala.html#182954" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../../../reflect/internal/transform/Erasure.scala.html#82326" title="(sym: GenJVM.this.global.erasure.global.Symbol, tp: GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">erasure</a><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>, <a href="#351422" title="GenJVM.this.global.erasure.global.Type">normalizedTpe</a><span class="delimiter">)</span> <a href="../../../../reflect/internal/Types.scala.html#42799" title="(that: GenJVM.this.global.erasure.global.Type)Boolean">=:=</a> <a href="#351423" title="GenJVM.this.global.Type">bytecodeTpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229228" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#185132" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; GenJVM.this.global.Position">pos</a>,
                  <span title="String(&quot;|compiler bug: created generic signature for %s in %s that does not conform to its erasure\n                     |signature: %s\n                     |original type: %s\n                     |normalized type: %s\n                     |erasure type: %s\n                     |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala\n                  &quot;)" class="string">&quot;&quot;&quot;|compiler bug: created generic signature for %s in %s that does not conform to its erasure
                     |signature: %s
                     |original type: %s
                     |normalized type: %s
                     |erasure type: %s
                     |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala
                  &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>, <a href="#349128" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47826" title="=&gt; GenJVM.this.global.Symbol">skipPackageObject</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a>, <a href="#351397" title="String">sig</a>, <a href="#351377" title="GenJVM.this.global.Type">memberTpe</a>, <a href="#351422" title="GenJVM.this.global.erasure.global.Type">normalizedTpe</a>, <a href="#351423" title="GenJVM.this.global.Type">bytecodeTpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
               <span title="Nothing" class="keyword">return</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Short" id="351398">index</a> = <a href="#349127" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#351397" title="String">sig</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#182909" title="object GenJVM.this.global.opt">opt</a>.<a href="../../settings/AestheticSettings.scala.html#229293" title="=&gt; Boolean">verboseDebug</a><span class="delimiter">)</span>
            <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;add generic sig &quot;)" class="string">&quot;add generic sig &quot;</span><span title="(x$1: Any)String">+</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#349128" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.Type">info</a><span title="(x$1: Any)String">+</span><span title="String(&quot; ==&gt; &quot;)" class="string">&quot; ==&gt; &quot;</span><span title="(x$1: Any)String">+</span><a href="#351397" title="String">sig</a><span title="(x$1: Any)String">+</span><span title="String(&quot; @ &quot;)" class="string">&quot; @ &quot;</span><span title="(x$1: Any)String">+</span><a href="#351398" title="Short">index</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="351399">buf</a> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#351399" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#351398" title="Short">index</a>
          <a href="#346554" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#349127" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../../../reflect/internal/StdNames.scala.html#40550" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#67967" title="=&gt; GenJVM.this.global.tpnme.NameType">SignatureATTR</a>, <a href="#351399" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit" id="346552">addAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="349131">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="349132">annotations</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349132" title="List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#351736" title="GenJVM.this.global.AnnotationInfo">_</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#47257" title="(clazz: GenJVM.this.global.Symbol)Boolean">matches</a> <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46705" title="=&gt; GenJVM.this.global.Symbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="351738">attr</a> = <a href="#349131" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.FJBGContext">getContext</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span>
          <a href="#349131" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JClass">getJClass</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#349131" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../../../reflect/internal/StdNames.scala.html#40550" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#67947" title="=&gt; GenJVM.this.global.tpnme.NameType">DeprecatedATTR</a>.<span title="()String">toString</span>,
          <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#349131" title="ch.epfl.lamp.fjbg.JMember">jmember</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#351738" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[GenJVM.this.global.AnnotationInfo]" id="351728">toEmit</a> = <a href="#349132" title="List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)List[GenJVM.this.global.AnnotationInfo]">filter</span> <a href="#346547" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#351728" title="List[GenJVM.this.global.AnnotationInfo]">toEmit</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="351729">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>
      <a href="#346548" title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int">emitJavaAnnotations</a><span class="delimiter">(</span><a href="#349131" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>, <a href="#351729" title="java.nio.ByteBuffer">buf</a>, <a href="#351728" title="List[GenJVM.this.global.AnnotationInfo]">toEmit</a><span class="delimiter">)</span>
      <a href="#346554" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#349131" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../../../reflect/internal/StdNames.scala.html#40550" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#67959" title="=&gt; GenJVM.this.global.tpnme.NameType">RuntimeAnnotationATTR</a>, <a href="#351729" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit" id="346553">addParamAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="351745">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="List[List[GenJVM.this.global.AnnotationInfo]]" id="351746">pannotss</a>: <span title="List[List[GenJVM.this.global.AnnotationInfo]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[List[GenJVM.this.global.AnnotationInfo]]" id="351748">annotations</a> = <a href="#351746" title="List[List[GenJVM.this.global.AnnotationInfo]]">pannotss</a> <span title="(f: List[GenJVM.this.global.AnnotationInfo] =&gt; List[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[GenJVM.this.global.AnnotationInfo]],List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span> <span class="delimiter">(</span><a href="#351766" title="List[GenJVM.this.global.AnnotationInfo]">_</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)List[GenJVM.this.global.AnnotationInfo]">filter</span> <a href="#346547" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#351748" title="List[List[GenJVM.this.global.AnnotationInfo]]">annotations</a> <span title="(p: List[GenJVM.this.global.AnnotationInfo] =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#351804" title="List[GenJVM.this.global.AnnotationInfo]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="351749">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>

      // number of parameters
      <a href="#351749" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Byte)java.nio.ByteBuffer">put</span><span class="delimiter">(</span><a href="#351748" title="List[List[GenJVM.this.global.AnnotationInfo]]">annotations</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Byte">toByte</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[GenJVM.this.global.AnnotationInfo]" id="351828">annots</a> &lt;- <a href="#351748" title="(f: List[GenJVM.this.global.AnnotationInfo] =&gt; Int)Unit">annotations</a><span class="delimiter">)</span>
        <a href="#346548" title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int">emitJavaAnnotations</a><span class="delimiter">(</span><a href="#351745" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>, <a href="#351749" title="java.nio.ByteBuffer">buf</a>, <a href="#351828" title="List[GenJVM.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>

      <a href="#346554" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#351745" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="../../../../reflect/internal/StdNames.scala.html#40550" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#67961" title="=&gt; GenJVM.this.global.tpnme.NameType">RuntimeParamAnnotationATTR</a>, <a href="#351749" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit" id="346554">addAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="349927">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="GenJVM.this.global.Name" id="349928">name</a>: <a href="../../../../reflect/internal/Names.scala.html#39679" title="GenJVM.this.global.Name">Name</a>, <a title="java.nio.ByteBuffer" id="349929">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349929" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="Int" id="351830">length</a> = <a href="#349929" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[Byte]" id="351831">arr</a> = <a href="#349929" title="java.nio.ByteBuffer">buf</a>.<span title="()Array[Byte]">array</span><span title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="(from: Int, until: Int)Array[Byte]">slice</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#351830" title="Int">length</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="351832">attr</a> = <a href="#349927" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.FJBGContext">getContext</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#349927" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JClass">getJClass</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                                      <a href="#349927" title="ch.epfl.lamp.fjbg.JMember">jmember</a>,
                                                      <a href="#349928" title="GenJVM.this.global.Name">name</a>.<span title="()String">toString</span>,
                                                      <a href="#351831" title="Array[Byte]">arr</a>,
                                                      <a href="#351830" title="Int">length</a><span class="delimiter">)</span>
      <a href="#349927" title="ch.epfl.lamp.fjbg.JMember">jmember</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#351832" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass)Unit" id="346555">addInnerClasses</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="348368">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      /** The outer name for this inner class. Note that it returns null
       *  when the inner class should not get an index in the constant pool.
       *  That means non-member classes (anonymous). See Section 4.7.5 in the JVMS.
       */
      <span class="keyword">def</span> <a title="(innerSym: GenJVM.this.global.Symbol)String" id="351944">outerName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="351947">innerSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#351947" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47999" title="=&gt; GenJVM.this.global.Symbol">originalEnclosingMethod</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="351953">outerName</a> = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#351947" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47677" title="=&gt; GenJVM.this.global.Symbol">rawowner</a><span class="delimiter">)</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#240086" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#351947" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47677" title="=&gt; GenJVM.this.global.Symbol">rawowner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/NameManglers.scala.html#60697" title="(name: GenJVM.this.global.Name)GenJVM.this.global.Name">stripModuleSuffix</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#39670" title="(s: String)GenJVM.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#351953" title="String">outerName</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#351953" title="String">outerName</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(innerSym: GenJVM.this.global.Symbol)String" id="351945">innerName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="351959">innerSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#351959" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47815" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#351959" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47816" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span>
          <a href="#351959" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47680" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">rawname</a> <span title="(other: String)String">+</span> <a href="#351959" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47889" title="=&gt; String">moduleSuffix</a>

      // add inner classes which might not have been referenced yet
      <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="352000">sym</a> &lt;- <span title="(xs: GenJVM.this.global.icodes.global.Symbol*)List[GenJVM.this.global.icodes.global.Symbol]">List</span><span title="(f: GenJVM.this.global.icodes.global.Symbol =&gt; Unit)Unit" class="delimiter">(</span><a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48007" title="=&gt; GenJVM.this.global.icodes.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>; <a title="GenJVM.this.global.Symbol" id="352059">m</a> &lt;- <a href="#352000" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42760" title="=&gt; GenJVM.this.global.icodes.global.Scope">decls</a>.<span title="(f: GenJVM.this.global.icodes.global.Symbol =&gt; GenJVM.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[GenJVM.this.global.icodes.global.Symbol],GenJVM.this.global.Symbol,Iterable[GenJVM.this.global.Symbol]])Iterable[GenJVM.this.global.Symbol]">map</span><span title="(f: GenJVM.this.global.Symbol =&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol])Unit" class="delimiter">(</span><a href="#346535" title="(s: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol">innerClassSymbolFor</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#352059" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
          <a href="#346540" title="=&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">innerClassBuffer</a> <span title="(elem: GenJVM.this.global.Symbol)scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">+=</span> <a href="#352059" title="GenJVM.this.global.Symbol">m</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[GenJVM.this.global.Symbol]" id="351946">allInners</a> = <a href="#346540" title="=&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">innerClassBuffer</a>.<span title="=&gt; List[GenJVM.this.global.Symbol]">toList</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#351946" title="List[GenJVM.this.global.Symbol]">allInners</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47894" title="(separator: Char)String">fullName</a><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; contains &quot;)" class="string">&quot; contains &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#351946" title="List[GenJVM.this.global.Symbol]">allInners</a>.<span title="=&gt; Int">size</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; inner classes.&quot;)" class="string">&quot; inner classes.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JInnerClassesAttribute" id="352083">innerClassesAttr</a> = <a href="#348368" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JInnerClassesAttribute">getInnerClasses</span><span class="delimiter">(</span><span class="delimiter">)</span>
        // sort them so inner classes succeed their enclosing class
        // to satisfy the Eclipse Java compiler
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="352198">innerSym</a> &lt;- <a href="#351946" title="List[GenJVM.this.global.Symbol]">allInners</a> <span title="(f: GenJVM.this.global.Symbol =&gt; Unit)Unit">sortBy</span> <span class="delimiter">(</span><a href="#352121" title="GenJVM.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../../../reflect/internal/Names.scala.html#53406" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="352199">flags</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="352203">staticFlag</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#352198" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47677" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48108" title="=&gt; Boolean">hasModuleFlag</a><span class="delimiter">)</span> <span title="Int(8)">ACC_STATIC</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
            <span class="delimiter">(</span><a href="#240084" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#352198" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <a href="#352203" title="Int">staticFlag</a><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <a href="#346477" title="=&gt; Int">INNER_CLASSES_FLAGS</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="String" id="352200">jname</a> = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#352198" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="352201">oname</a> = <a href="#351944" title="(innerSym: GenJVM.this.global.Symbol)String">outerName</a><span class="delimiter">(</span><a href="#352198" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="352202">iname</a> = <a href="#351945" title="(innerSym: GenJVM.this.global.Symbol)String">innerName</a><span class="delimiter">(</span><a href="#352198" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>

          // Mimicking javap inner class output
          <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#352201" title="String">oname</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <a href="#352202" title="String">iname</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="String(&quot;//class &quot;)" class="string">&quot;//class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#352200" title="String">jname</a>
            <span class="keyword">else</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;//%s=class %s of class %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#352202" title="String">iname</a>, <a href="#352200" title="String">jname</a>, <a href="#352201" title="String">oname</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>

          <a href="#352083" title="ch.epfl.lamp.fjbg.JInnerClassesAttribute">innerClassesAttr</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Int)Unit">addEntry</span><span class="delimiter">(</span><a href="#352200" title="String">jname</a>, <a href="#352201" title="String">oname</a>, <a href="#352202" title="String">iname</a>, <a href="#352199" title="Int">flags</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(f: GenJVM.this.global.icodes.IField)Unit" id="346556">genField</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IField" id="349093">f</a>: <a href="../icode/Members.scala.html#228925" title="GenJVM.this.global.icodes.IField">IField</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Adding field: &quot;)" class="string">&quot;Adding field: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#349093" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JField" id="352224">jfield</a> = <a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span class="delimiter">(</span>
        <a href="#240084" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#349093" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <a href="#240085" title="(sym: GenJVM.this.global.Symbol)Int">javaFieldFlags</a><span class="delimiter">(</span><a href="#349093" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
        <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349093" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#346466" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#349093" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <a href="#346551" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#352224" title="ch.epfl.lamp.fjbg.JField">jfield</a>, <a href="#349093" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#346552" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#352224" title="ch.epfl.lamp.fjbg.JField">jfield</a>, <a href="#349093" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#325111" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="346557">genMethod</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="349122">m</a>: <a href="../icode/Members.scala.html#228928" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47858" title="=&gt; Boolean">isStaticConstructor</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46831" title="(sym: GenJVM.this.global.Symbol)Boolean">isGetClass</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Generating method &quot;)" class="string">&quot;Generating method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
      <a href="#346516" title="(x$1: GenJVM.this.global.icodes.IMethod)Unit">method</a> = <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>
      <a href="#346574" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]">endPC</a>.<span title="()Unit">clear</span>
      <a href="#346580" title="(m: GenJVM.this.global.icodes.IMethod)Unit">computeLocalVarsIndex</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JType" id="352263">resTpe</a> = <a href="GenJVMUtil.scala.html#346466" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#42743" title="=&gt; GenJVM.this.global.icodes.global.Type">resultType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span>
        <a href="#352263" title="ch.epfl.lamp.fjbg.JType">resTpe</a> = <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>

      <span class="keyword">var</span> <a title="Int" id="352264">flags</a> = <a href="#240084" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()Boolean">isInterface</span><span class="delimiter">)</span>
        <a href="#352264" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(1024)">ACC_ABSTRACT</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47832" title="=&gt; Boolean">isStrictFP</a><span class="delimiter">)</span>
        <a href="#352264" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(2048)">ACC_STRICT</span>

      // native methods of objects are generated in mirror classes
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#312617" title="=&gt; Boolean">native</a><span class="delimiter">)</span>
        <a href="#352264" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(256)">ACC_NATIVE</span>

      <a href="#346522" title="(x$1: ch.epfl.lamp.fjbg.JMethod)Unit">jmethod</a> = <a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><a href="#352264" title="Int">flags</a>,
                                    <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                                    <a href="#352263" title="ch.epfl.lamp.fjbg.JType">resTpe</a>,
                                    <a href="GenJVMUtil.scala.html#346462" title="(xs: Traversable[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">mkArray</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312635" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a> <span title="(f: GenJVM.this.global.icodes.Local =&gt; ch.epfl.lamp.fjbg.JType)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],ch.epfl.lamp.fjbg.JType,Traversable[ch.epfl.lamp.fjbg.JType]])Traversable[ch.epfl.lamp.fjbg.JType]">map</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="352321">p</a> =&gt; <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#352321" title="GenJVM.this.global.icodes.Local">p</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                                    <a href="GenJVMUtil.scala.html#346463" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312635" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a> <span title="(f: GenJVM.this.global.icodes.Local =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],String,Traversable[String]])Traversable[String]">map</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="352380">p</a> =&gt; <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#352380" title="GenJVM.this.global.icodes.Local">p</a>.<a href="../icode/Members.scala.html#313047" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#346558" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit">addRemoteException</a><span class="delimiter">(</span><a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isAbstract</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#312617" title="=&gt; Boolean">native</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="352413">jcode</a> = <a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

        // add a fake local for debugging purposes
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#346533" title="=&gt; Boolean">emitVars</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#346559" title="(sym: GenJVM.this.global.Symbol)Boolean">isClosureApply</a><span class="delimiter">(</span><a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="352417">outerField</a> = <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42761" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60031" title="=&gt; GenJVM.this.global.nme.NameType">OUTER_LOCAL</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#352417" title="GenJVM.this.global.icodes.global.Symbol">outerField</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Adding fake local to represent outer \'this\' for closure &quot;)" class="string">&quot;Adding fake local to represent outer 'this' for closure &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.Local" id="352425">_this</a> = <span title="GenJVM.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#228929" title="GenJVM.this.global.icodes.Local">Local</a><span class="delimiter">(</span>
              <a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#312600" title="GenJVM.this.global.icodes.global.Symbol" id="352433">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#112483" title="GenJVM.this.global.icodes.global.Position" id="352436">newVariable</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60011" title="GenJVM.this.global.nme.NameType" id="352434">FAKE_LOCAL_THIS</a><span class="delimiter">)</span>, <a href="../icode/TypeKinds.scala.html#228995" title="(t: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#352417" title="GenJVM.this.global.icodes.global.Symbol">outerField</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312633" title="(x$1: List[GenJVM.this.global.icodes.Local])Unit">locals</a> = <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312632" title="=&gt; List[GenJVM.this.global.icodes.Local]">locals</a> <a href="#352439" title="(prefix: List[GenJVM.this.global.icodes.Local])List[GenJVM.this.global.icodes.Local]">:::</a> <span title="(xs: GenJVM.this.global.icodes.Local*)List[GenJVM.this.global.icodes.Local]">List</span><span class="delimiter">(</span><a href="#352425" title="GenJVM.this.global.icodes.Local">_this</a><span class="delimiter">)</span>
            <a href="#346580" title="(m: GenJVM.this.global.icodes.IMethod)Unit">computeLocalVarsIndex</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span> // since we added a new local, we need to recompute indexes

            <a href="#352413" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#352413" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETFIELD</span><span class="delimiter">(</span><a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                               <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#352417" title="GenJVM.this.global.icodes.global.Symbol">outerField</a><span class="delimiter">)</span>,
                               <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#352417" title="GenJVM.this.global.icodes.global.Symbol">outerField</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#352413" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitSTORE</span><span class="delimiter">(</span><a href="#346579" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#352425" title="GenJVM.this.global.icodes.Local">_this</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#352425" title="GenJVM.this.global.icodes.Local">_this</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="352516">local</a> &lt;- <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312632" title="(f: GenJVM.this.global.icodes.Local =&gt; ch.epfl.lamp.fjbg.JLocalVariable)Unit">locals</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span> <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312635" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#352516" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;add local var: &quot;)" class="string">&quot;add local var: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#352516" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>
          <a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: String)ch.epfl.lamp.fjbg.JLocalVariable">addNewLocalVariable</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#352516" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>, <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#352516" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#313047" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#346572" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genCode</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#346533" title="=&gt; Boolean">emitVars</a><span class="delimiter">)</span>
          <a href="#346573" title="(m: GenJVM.this.global.icodes.IMethod, jcode: ch.epfl.lamp.fjbg.JCode)Unit">genLocalVariableTable</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>, <a href="#352413" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#346551" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#352266" title="(List[GenJVM.this.global.icodes.global.AnnotationInfo], List[GenJVM.this.global.icodes.global.AnnotationInfo])" class="delimiter">(</a><a href="#352265" title="List[GenJVM.this.global.icodes.global.AnnotationInfo]" id="352266">excs</a>, <a href="#352265" title="List[GenJVM.this.global.icodes.global.AnnotationInfo]" id="352267">others</a><span class="delimiter">)</span> = <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.icodes.global.AnnotationInfo =&gt; Boolean)(List[GenJVM.this.global.icodes.global.AnnotationInfo], List[GenJVM.this.global.icodes.global.AnnotationInfo])">partition</span> <span class="delimiter">(</span><a href="#352535" title="GenJVM.this.global.icodes.global.AnnotationInfo">_</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#47254" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46721" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span>
      <a href="#346546" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit">addExceptionsAttribute</a><span class="delimiter">(</span><a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#352266" title="List[GenJVM.this.global.icodes.global.AnnotationInfo]">excs</a><span class="delimiter">)</span>
      <a href="#346552" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#352267" title="List[GenJVM.this.global.icodes.global.AnnotationInfo]">others</a><span class="delimiter">)</span>
      <a href="#346553" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit">addParamAnnotations</a><span class="delimiter">(</span><a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312635" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a>.<span title="(f: GenJVM.this.global.icodes.Local =&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],List[GenJVM.this.global.icodes.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,List[GenJVM.this.global.icodes.global.AnnotationInfo],List[List[GenJVM.this.global.icodes.global.AnnotationInfo]]]" class="delimiter">(</span><a href="#352570" title="GenJVM.this.global.icodes.Local">_</a>.<a href="../icode/Members.scala.html#313047" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // check for code size
      <span class="keyword">try</span> <a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Unit">freeze</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="352610">e</a>: JCode.<span title="ch.epfl.lamp.fjbg.JCode.CodeSizeTooBigException">CodeSizeTooBigException</span> =&gt;
          <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229228" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#185131" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#349122" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Code size exceeds JVM limits: %d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#352610" title="ch.epfl.lamp.fjbg.JCode.CodeSizeTooBigException">e</a>.<span title="Int">codeSize</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#352610" title="ch.epfl.lamp.fjbg.JCode.CodeSizeTooBigException">e</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Adds a @remote annotation, actual use unknown.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit" id="346558">addRemoteException</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="352410">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="GenJVM.this.global.Symbol" id="352411">meth</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="352616">needsAnnotation</a> = <span class="delimiter">(</span>
        <span class="delimiter">(</span><a href="#346525" title="=&gt; Boolean">isRemoteClass</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#352411" title="GenJVM.this.global.Symbol">meth</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: GenJVM.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#46711" title="=&gt; GenJVM.this.global.Symbol">RemoteAttr</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#352410" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isPublic</span><span class="delimiter">)</span>
          <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#352411" title="GenJVM.this.global.Symbol">meth</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#46227" title="()List[GenJVM.this.global.Symbol]">throwsAnnotations</a> <span title="(elem: Any)Boolean">contains</span> <a href="../../../../reflect/internal/Definitions.scala.html#46387" title="=&gt; GenJVM.this.global.Symbol">RemoteExceptionClass</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#352616" title="Boolean">needsAnnotation</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Constant" id="352618">c</a>   = <a href="../../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)GenJVM.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46387" title="=&gt; GenJVM.this.global.Symbol">RemoteExceptionClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Literal" id="352619">arg</a> = <a href="BytecodeWriters.scala.html#240144" title="(value: GenJVM.this.global.Constant)GenJVM.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#352618" title="GenJVM.this.global.Constant">c</a><span class="delimiter">)</span> <span title="(tp: GenJVM.this.global.Type)GenJVM.this.global.Literal">setType</span> <a href="#352618" title="GenJVM.this.global.Constant">c</a>.<a href="../../../../reflect/internal/Constants.scala.html#47591" title="=&gt; GenJVM.this.global.Type">tpe</a>
        <a href="#352411" title="GenJVM.this.global.Symbol">meth</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47960" title="(sym: GenJVM.this.global.Symbol, args: GenJVM.this.global.Tree*)meth.type">addAnnotation</a><span title="Unit" class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46721" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a>, <a href="#352619" title="GenJVM.this.global.Literal">arg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="346559">isClosureApply</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="352414">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="#352414" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; GenJVM.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#352414" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#352414" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[GenJVM.this.global.Type]">parents</a>.<span title="(p: GenJVM.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.Type" id="352644">t</a> =&gt;
        <span class="keyword">val</span> TypeRef<a href="#352649" title="GenJVM.this.global.Symbol" id="352645" class="delimiter">(</a>_, <a title="GenJVM.this.global.Symbol" id="352649">sym</a>, _<span class="delimiter">)</span> = <a href="#352644" title="GenJVM.this.global.Type">t</a>
        <a href="../../../../reflect/internal/Definitions.scala.html#46529" title="(xs: Array[GenJVM.this.global.Symbol])scala.collection.mutable.ArrayOps[GenJVM.this.global.Symbol]">FunctionClass</a> <span title="(elem: Any)Boolean">contains</span> <a href="#352645" title="GenJVM.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()Unit" id="346560">addModuleInstanceField</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span title="Unit" class="delimiter">(</span><a href="#346481" title="=&gt; Int">PublicStaticFinal</a>,
                        <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60027" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<span title="()String">toString</span>,
                        <a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit" id="346561">addStaticInit</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="348998">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="Option[GenJVM.this.global.icodes.IMethod]" id="348999">mopt</a>: <span title="Option[GenJVM.this.global.icodes.IMethod]">Option</span><span class="delimiter">[</span>IMethod<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="352674">clinitMethod</a> = <a href="#348998" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><a href="#346479" title="=&gt; Int">PublicStatic</a>,
                                          <span title="String(&quot;&lt;clinit&gt;&quot;)" class="string">&quot;&lt;clinit&gt;&quot;</span>,
                                          <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>,
                                          <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span>,
                                          <span title="Array[String]" class="keyword">new</span> <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="352675">clinit</a> = <a href="#352674" title="ch.epfl.lamp.fjbg.JMethod">clinitMethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

      <a href="#348999" title="Option[GenJVM.this.global.icodes.IMethod]">mopt</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
       	<span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="352677">m</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="352678">oldLastBlock</a> = <a href="#352677" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312608" title="=&gt; GenJVM.this.global.icodes.BasicBlock">lastBlock</a>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="352679">lastBlock</a> = <a href="#352677" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312606" title="()GenJVM.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#352678" title="GenJVM.this.global.icodes.BasicBlock">oldLastBlock</a>.<a href="../icode/BasicBlocks.scala.html#312554" title="(pos: Int, instr: GenJVM.this.global.icodes.Instruction)Boolean">replaceInstruction</a><span class="delimiter">(</span><a href="#352678" title="GenJVM.this.global.icodes.BasicBlock">oldLastBlock</a>.<a href="../icode/BasicBlocks.scala.html#312551" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="../icode/Opcodes.scala.html#317981" title="(whereto: GenJVM.this.global.icodes.BasicBlock)GenJVM.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#352679" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240087" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // call object's private ctor from static ctor
            <a href="#352679" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#312561" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#322895" title="(kind: GenJVM.this.global.icodes.REFERENCE)GenJVM.this.global.icodes.opcodes.NEW">NEW</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#311260" title="(cls: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="#352677" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; GenJVM.this.global.icodes.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#352679" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#312561" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#323126" title="(method: GenJVM.this.global.icodes.global.Symbol, style: GenJVM.this.global.icodes.opcodes.InvokeStyle)GenJVM.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">(</span><a href="#352677" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; GenJVM.this.global.icodes.global.Symbol">enclClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47977" title="=&gt; GenJVM.this.global.icodes.global.Symbol">primaryConstructor</a>, <a href="../icode/Opcodes.scala.html#323436" title="(onInstance: Boolean)GenJVM.this.global.icodes.opcodes.Static">Static</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // add serialVUID code
          <a href="#346526" title="=&gt; Option[Long]">serialVUID</a> <span title="(f: Long =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Long" id="352722">value</a> =&gt;
            <span class="keyword">import</span> <a href="../../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._, <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>._
            <span class="keyword">val</span> <a title="String" id="352725">fieldName</a> = <span title="String(&quot;serialVersionUID&quot;)" class="string">&quot;serialVersionUID&quot;</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.TermSymbol" id="352726">fieldSymbol</a> = <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47698" title="(name: GenJVM.this.global.icodes.global.TermName, pos: GenJVM.this.global.icodes.global.Position, newFlags: Long)GenJVM.this.global.icodes.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#39670" title="(s: String)GenJVM.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#352725" title="String">fieldName</a><span class="delimiter">)</span>, <a href="../../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, STATIC <span title="Long(8388640L)">|</span> FINAL<span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#47922" title="(info: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.global.TermSymbol">setInfo</a> <a href="../../../../reflect/internal/Definitions.scala.html#46515" title="=&gt; GenJVM.this.global.Type">longType</a>
            <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a> <a href="../icode/Members.scala.html#229231" title="(f: GenJVM.this.global.icodes.IField)GenJVM.this.global.icodes.IClass">addField</a> <span title="GenJVM.this.global.icodes.IField" class="keyword">new</span> <a href="../icode/Members.scala.html#228925" title="GenJVM.this.global.icodes.IField">IField</a><span class="delimiter">(</span><a href="#352726" title="GenJVM.this.global.icodes.global.TermSymbol">fieldSymbol</a><span class="delimiter">)</span>
            <a href="#352679" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#312561" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#321817" title="(constant: GenJVM.this.global.icodes.global.Constant)GenJVM.this.global.icodes.opcodes.CONSTANT">CONSTANT</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)GenJVM.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#352722" title="Long">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#352679" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#312561" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#320455" title="(field: GenJVM.this.global.icodes.global.Symbol, isStatic: Boolean)GenJVM.this.global.icodes.opcodes.STORE_FIELD">STORE_FIELD</a><span class="delimiter">(</span><a href="#352726" title="GenJVM.this.global.icodes.global.TermSymbol">fieldSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#346524" title="=&gt; Boolean">isParcelableClass</a><span class="delimiter">)</span>
            <a href="GenAndroid.scala.html#240141" title="(codegen: GenJVM.this.BytecodeGenerator, block: GenJVM.this.global.icodes.BasicBlock)Unit">addCreatorCode</a><span class="delimiter">(</span><a href="#240082" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a>.<span class="keyword">this</span>, <a href="#352679" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a><span class="delimiter">)</span>

          <a href="#352679" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#312561" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#318012" title="(kind: GenJVM.this.global.icodes.TypeKind)GenJVM.this.global.icodes.opcodes.RETURN">RETURN</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228965" title="object GenJVM.this.global.icodes.UNIT">UNIT</a><span class="delimiter">)</span>
          <a href="#352679" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a>.<a href="../icode/BasicBlocks.scala.html#312567" title="()Unit">close</a>

       	  <a href="#346516" title="(x$1: GenJVM.this.global.icodes.IMethod)Unit">method</a> = <a href="#352677" title="GenJVM.this.global.icodes.IMethod">m</a>
       	  <a href="#346522" title="(x$1: ch.epfl.lamp.fjbg.JMethod)Unit">jmethod</a> = <a href="#352674" title="ch.epfl.lamp.fjbg.JMethod">clinitMethod</a>
       	  <a href="#346572" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genCode</a><span class="delimiter">(</span><a href="#352677" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
       	<span class="keyword">case</span> <span title="Unit">None</span> =&gt;
          <a href="#346562" title="(cls: ch.epfl.lamp.fjbg.JClass, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit">legacyStaticInitializer</a><span class="delimiter">(</span><a href="#348998" title="ch.epfl.lamp.fjbg.JClass">cls</a>, <a href="#352675" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: ch.epfl.lamp.fjbg.JClass, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit" id="346562">legacyStaticInitializer</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="352773">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="352774">clinit</a>: <span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240087" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#352774" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a> <span title="(x$1: String)Unit">emitNEW</span> <a href="#352773" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#352774" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#352773" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                 JMethod.<span title="String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span>,
                                 <span title="object ch.epfl.lamp.fjbg.JMethodType">JMethodType</span>.<span title="ch.epfl.lamp.fjbg.JMethodType">ARGLESS_VOID_FUNCTION</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#346526" title="=&gt; Option[Long]">serialVUID</a> <span title="(f: Long =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Long" id="352780">value</a> =&gt;
        <span class="keyword">val</span> <a title="String" id="352781">fieldName</a> = <span title="String(&quot;serialVersionUID&quot;)" class="string">&quot;serialVersionUID&quot;</span>
        <a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span class="delimiter">(</span><a href="#346481" title="=&gt; Int">PublicStaticFinal</a>, <a href="#352781" title="String">fieldName</a>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">LONG</span><span class="delimiter">)</span>
        <a href="#352774" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a> <span title="(x$1: Long)Unit">emitPUSH</span> <a href="#352780" title="Long">value</a>
        <a href="#352774" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: Long)Unit">emitPUSH</span><span class="delimiter">(</span><a href="#352780" title="Long">value</a><span class="delimiter">)</span>
        <a href="#352774" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#352781" title="String">fieldName</a>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">LONG</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#346524" title="=&gt; Boolean">isParcelableClass</a><span class="delimiter">)</span>
        <a href="GenAndroid.scala.html#240142" title="(codegen: GenJVM.this.BytecodeGenerator, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit">legacyAddCreatorCode</a><span class="delimiter">(</span><a href="#240082" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a>.<span class="keyword">this</span>, <a href="#352774" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a><span class="delimiter">)</span>

      <a href="#352774" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="()Unit">emitRETURN</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Add a forwarder for method m */
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, module: GenJVM.this.global.Symbol, m: GenJVM.this.global.Symbol)Unit" id="346563">addForwarder</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="352795">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="352796">module</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="GenJVM.this.global.Symbol" id="352797">m</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="352799">moduleName</a>     = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#352796" title="GenJVM.this.global.Symbol">module</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="352800">methodInfo</a>     = <a href="#352796" title="GenJVM.this.global.Symbol">module</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../../../reflect/internal/Types.scala.html#42779" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#352797" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[ch.epfl.lamp.fjbg.JType]" id="352801">paramJavaTypes</a> = <a href="#352800" title="GenJVM.this.global.Type">methodInfo</a>.<a href="../../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[GenJVM.this.global.Type]">paramTypes</a> <span title="(f: GenJVM.this.global.Type =&gt; ch.epfl.lamp.fjbg.JType)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Type],ch.epfl.lamp.fjbg.JType,List[ch.epfl.lamp.fjbg.JType]])List[ch.epfl.lamp.fjbg.JType]">map</span> <a href="GenJVMUtil.scala.html#346466" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a>
      <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[String]" id="352802">paramNames</a>     = <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(end: Int)scala.collection.immutable.Range">until</span> <a href="#352801" title="List[ch.epfl.lamp.fjbg.JType]">paramJavaTypes</a>.<span title="=&gt; Int">length</span> <span title="(f: Int =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span> <span class="delimiter">(</span><span title="String(&quot;x_&quot;)" class="string">&quot;x_&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#352967" title="Int">_</a><span class="delimiter">)</span>
      // TODO: evaluate the other flags we might be dropping on the floor here.
      <span class="keyword">val</span> <a title="Int" id="352803">flags</a> = <a href="#346479" title="=&gt; Int">PublicStatic</a> <span title="(x: Int)Int">|</span> <span class="delimiter">(</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#352797" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47783" title="=&gt; Boolean">isVarargsMethod</a><span class="delimiter">)</span> <span title="Int(128)">ACC_VARARGS</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="delimiter">)</span>

      /** Forwarders must not be marked final, as the JVM will not allow
       *  redefinition of a final static method, and we don't know what classes
       *  might be subclassing the companion class.  See SI-4827.
       */
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="352804">mirrorMethod</a> = <a href="#352795" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span>
        <a href="#352803" title="Int">flags</a>,
        <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#352797" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#346466" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#352800" title="GenJVM.this.global.Type">methodInfo</a>.<a href="../../../../reflect/internal/Types.scala.html#42743" title="=&gt; GenJVM.this.global.Type">resultType</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#346462" title="(xs: Traversable[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">mkArray</a><span class="delimiter">(</span><a href="#352801" title="List[ch.epfl.lamp.fjbg.JType]">paramJavaTypes</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#346463" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#352802" title="scala.collection.immutable.IndexedSeq[String]">paramNames</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="352805">mirrorCode</a> = <a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>
      <a href="#352805" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#352799" title="String">moduleName</a>,
                               <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60027" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<span title="()String">toString</span>,
                               <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#352799" title="String">moduleName</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Int" id="352806">i</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="352807">index</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Array[ch.epfl.lamp.fjbg.JType]" id="352808">argTypes</a> = <a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()Array[ch.epfl.lamp.fjbg.JType]">getArgumentTypes</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#352806" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#352808" title="Array[ch.epfl.lamp.fjbg.JType]">argTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#352812" title="()Unit" class="delimiter">{</a>
        <a href="#352805" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitLOAD</span><span class="delimiter">(</span><a href="#352807" title="Int">index</a>, <a href="#352808" title="(i: Int)ch.epfl.lamp.fjbg.JType">argTypes</a><span class="delimiter">(</span><a href="#352806" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#352807" title="Int">index</a> <span title="(x: Int)Int">+=</span> <a href="#352808" title="(i: Int)ch.epfl.lamp.fjbg.JType">argTypes</a><span class="delimiter">(</span><a href="#352806" title="Int">i</a><span class="delimiter">)</span>.<span title="()Int">getSize</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#352806" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#352805" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#352799" title="String">moduleName</a>, <a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()String">getName</span>, <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#352797" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <a href="#352805" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitRETURN</span> <a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()ch.epfl.lamp.fjbg.JType">getReturnType</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#346558" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit">addRemoteException</a><span class="delimiter">(</span><a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#352797" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>
      // only add generic signature if the method is concrete; bug #1745
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#352797" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <a href="#346551" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#352797" title="GenJVM.this.global.Symbol">m</a>, <a href="#352796" title="GenJVM.this.global.Symbol">module</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#352810" title="(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])" class="delimiter">(</a><a href="#352809" title="List[GenJVM.this.global.AnnotationInfo]" id="352810">throws</a>, <a href="#352809" title="List[GenJVM.this.global.AnnotationInfo]" id="352811">others</a><span class="delimiter">)</span> = <a href="#352797" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])">partition</span> <span class="delimiter">(</span><a href="#353046" title="GenJVM.this.global.AnnotationInfo">_</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#47254" title="=&gt; GenJVM.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46721" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span>
      <a href="#346546" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit">addExceptionsAttribute</a><span class="delimiter">(</span><a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#352810" title="List[GenJVM.this.global.AnnotationInfo]">throws</a><span class="delimiter">)</span>
      <a href="#346552" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#352811" title="List[GenJVM.this.global.AnnotationInfo]">others</a><span class="delimiter">)</span>
      <a href="#346553" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit">addParamAnnotations</a><span class="delimiter">(</span><a href="#352804" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#352797" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[GenJVM.this.global.Symbol]">params</a>.<span title="(f: GenJVM.this.global.Symbol =&gt; List[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Symbol],List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]]" class="delimiter">(</span><a href="#353081" title="GenJVM.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Add forwarders for all methods defined in `module` that don't conflict
     *  with methods in the companion class of `module`. A conflict arises when
     *  a method with the same name is defined both in a class and its companion
     *  object: method signature is not taken into account.
     */
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit" id="346564">addForwarders</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="349066">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="349067">moduleClass</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#349067" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a>, <a href="#349067" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Dumping mirror class for object: &quot;)" class="string">&quot;Dumping mirror class for object: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#349067" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="String" id="353109">className</a>    = <a href="#349066" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()String">getName</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="353110">linkedClass</a>  = <a href="#349067" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48003" title="=&gt; GenJVM.this.global.Symbol">companionClass</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="353111">linkedModule</a> = <a href="#353110" title="GenJVM.this.global.Symbol">linkedClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48006" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Set[GenJVM.this.global.Name]" id="353113">conflictingNames</a>: <span title="Set[GenJVM.this.global.Name]">Set</span><span class="delimiter">[</span>Name<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <a href="#353110" title="GenJVM.this.global.Symbol">linkedClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42764" title="=&gt; List[GenJVM.this.global.Symbol]">members</a> <span title="(pf: PartialFunction[GenJVM.this.global.Symbol,GenJVM.this.global.Name])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Symbol],GenJVM.this.global.Name,List[GenJVM.this.global.Name]])List[GenJVM.this.global.Name]">collect</span> <a href="#353131" title="GenJVM.this.global.Name" class="delimiter">{</a> <span class="keyword">case</span> <a title="GenJVM.this.global.Name" id="353132">sym</a> <span class="keyword">if</span> <a href="#353132" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../../../reflect/internal/Names.scala.html#53410" title="=&gt; Boolean">isTermName</a> =&gt; <a href="#353132" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a> <span class="delimiter">}</span> <span title="scala.collection.immutable.Set[GenJVM.this.global.Name]">toSet</span>
      <span class="delimiter">}</span>
      <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Potentially conflicting names for forwarders: &quot;)" class="string">&quot;Potentially conflicting names for forwarders: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353112" title="=&gt; Set[GenJVM.this.global.Name]">conflictingNames</a><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="353203">m</a> &lt;- <a href="#349067" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42775" title="(excludedFlags: Long, requiredFlags: Long)List[GenJVM.this.global.Symbol]">membersBasedOnFlags</a><span title="(f: GenJVM.this.global.Symbol =&gt; Unit)Unit" class="delimiter">(</span><a href="#346507" title="=&gt; Long">ExcludedForwarderFlags</a>, Flags.<span title="Long(64L)">METHOD</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353203" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47756" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">||</span> <a href="#353203" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#353203" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#353203" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;No forwarder for '%s' from %s to '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#353203" title="GenJVM.this.global.Symbol">m</a>, <a href="#353109" title="String">className</a>, <a href="#349067" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353112" title="(elem: GenJVM.this.global.Name)Boolean">conflictingNames</a><span class="delimiter">(</span><a href="#353203" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No forwarder for &quot;)" class="string">&quot;No forwarder for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353203" title="GenJVM.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; due to conflict with &quot;)" class="string">&quot; due to conflict with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353110" title="GenJVM.this.global.Symbol">linkedClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#42769" title="(name: GenJVM.this.global.Name)GenJVM.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#353203" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; GenJVM.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Adding static forwarder for '%s' from %s to '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#353203" title="GenJVM.this.global.Symbol">m</a>, <a href="#353109" title="String">className</a>, <a href="#349067" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#346563" title="(jclass: ch.epfl.lamp.fjbg.JClass, module: GenJVM.this.global.Symbol, m: GenJVM.this.global.Symbol)Unit">addForwarder</a><span class="delimiter">(</span><a href="#349066" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#349067" title="GenJVM.this.global.Symbol">moduleClass</a>, <a href="#353203" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Generate a mirror class for a top-level module. A mirror class is a class
     *  containing only static methods that forward to the corresponding method
     *  on the MODULE instance of the given Scala object.  It will only be
     *  generated if there is no companion class: if there is, an attempt will
     *  instead be made to add the forwarder methods to the companion class.
     */
    <span class="keyword">def</span> <a title="(clasz: GenJVM.this.global.Symbol, sourceFile: scala.tools.nsc.util.SourceFile)Unit" id="346565">generateMirrorClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="349008">clasz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="scala.tools.nsc.util.SourceFile" id="349009">sourceFile</a>: <a href="../../util/SourceFile.scala.html#34370" title="scala.tools.nsc.util.SourceFile">SourceFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JAccessFlags">JAccessFlags</span>._
      <span class="keyword">val</span> <a title="String" id="353235">moduleName</a> = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#349008" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span> // + &quot;$&quot;
      <span class="keyword">val</span> <a title="String" id="353236">mirrorName</a> = <a href="#353235" title="String">moduleName</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#353235" title="String">moduleName</a>.<span title="()Int">length</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JClass" id="353237">mirrorClass</a> = <a href="#346527" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: String, x$3: String, x$4: Array[String], x$5: String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span>ACC_SUPER | ACC_PUBLIC <span title="Int(49)">|</span> ACC_FINAL,
                                           <a href="#353236" title="String">mirrorName</a>,
                                           <span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>.<span title="()String">getName</span>,
                                           <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[String]">NO_INTERFACES</span>,
                                           <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#349009" title="scala.tools.nsc.util.SourceFile">sourceFile</a><span class="delimiter">)</span>

      <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Dumping mirror class for '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#353237" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>.<span title="()String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#346564" title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit">addForwarders</a><span class="delimiter">(</span><a href="#353237" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#349008" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.AnnotationInfo]" id="353238">ssa</a> = <a href="#346538" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a href="#353237" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#349008" title="GenJVM.this.global.Symbol">clasz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48006" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a><span class="delimiter">)</span>
      <a href="#346552" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#353237" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#349008" title="GenJVM.this.global.Symbol">clasz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(that: scala.collection.GenTraversableOnce[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.AnnotationInfo],GenJVM.this.global.AnnotationInfo,List[GenJVM.this.global.AnnotationInfo]])List[GenJVM.this.global.AnnotationInfo]">++</span> <a href="#353238" title="(xo: Option[GenJVM.this.global.AnnotationInfo])Iterable[GenJVM.this.global.AnnotationInfo]">ssa</a><span class="delimiter">)</span>
      <a href="#346537" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">emitClass</a><span class="delimiter">(</span><a href="#353237" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#349008" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="346567">linearization</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
    <span class="keyword">var</span> <a title="Boolean" id="346570">isModuleInitialized</a> = <span title="Boolean(false)" class="keyword">false</span>

    /**
     *  @param m ...
     */
    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="346572">genCode</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="352524">m</a>: <a href="../icode/Members.scala.html#228928" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="353354">jcode</a> = <a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(bs: List[GenJVM.this.global.icodes.BasicBlock])scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]" id="353355">makeLabels</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.icodes.BasicBlock]" id="353365">bs</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Making labels for: &quot;)" class="string">&quot;Making labels for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>

        mutable.<span title="(elems: (GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)*)scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]">HashMap</span><span class="delimiter">(</span><a href="#353365" title="List[GenJVM.this.global.icodes.BasicBlock]">bs</a> <span title="(f: GenJVM.this.global.icodes.BasicBlock =&gt; (GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label))(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.BasicBlock],(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label),List[(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)]])List[(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)]">map</span> <span class="delimiter">(</span><a href="#353385" title="(x: GenJVM.this.global.icodes.BasicBlock)ArrowAssoc[GenJVM.this.global.icodes.BasicBlock]">_</a> <span title="(y: ch.epfl.lamp.fjbg.JCode#Label)(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)">-&gt;</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()ch.epfl.lamp.fjbg.JCode#Label">newLabel</span><span class="delimiter">)</span> : _*<span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#346570" title="(x$1: Boolean)Unit">isModuleInitialized</a> = <span title="Boolean(false)" class="keyword">false</span>

      <a href="#346567" title="(x$1: List[GenJVM.this.global.icodes.BasicBlock])Unit">linearization</a> = <a href="../icode/ICodes.scala.html#228881" title="=&gt; GenJVM.this.global.icodes.Linearizer">linearizer</a>.<a href="../icode/Linearizers.scala.html#329675" title="(c: GenJVM.this.global.icodes.IMethod)List[GenJVM.this.global.icodes.BasicBlock]">linearize</a><span class="delimiter">(</span><a href="#352524" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]" id="353356">labels</a> = <a href="#353355" title="(bs: List[GenJVM.this.global.icodes.BasicBlock])scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]">makeLabels</a><span class="delimiter">(</span><a href="#346567" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>
      /** local variables whose scope appears in this block. */
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]" id="353357">varsInBlock</a>: mutable.<span title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">Set</span><span class="delimiter">[</span>Local<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashSet[GenJVM.this.global.icodes.Local]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[GenJVM.this.global.icodes.Local]">HashSet</span>

      <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="353358">nextBlock</a>: <a href="../icode/BasicBlocks.scala.html#228937" title="GenJVM.this.global.icodes.BasicBlock">BasicBlock</a> = <a href="#346567" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a>.<span title="=&gt; GenJVM.this.global.icodes.BasicBlock">head</span>

      <span class="keyword">def</span> <a title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit" id="353359">genBlocks</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.icodes.BasicBlock]" id="353455">l</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#353455" title="List[GenJVM.this.global.icodes.BasicBlock]">l</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="353460">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> = <span title="Null(null)" class="keyword">null</span>; <a href="#353363" title="(b: GenJVM.this.global.icodes.BasicBlock)Unit">genBlock</a><span class="delimiter">(</span><a href="#353460" title="GenJVM.this.global.icodes.BasicBlock">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="353466">x</a> :: <a title="GenJVM.this.global.icodes.BasicBlock" id="353474">y</a> :: <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="353475">ys</a> =&gt; <a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> = <a href="#353474" title="GenJVM.this.global.icodes.BasicBlock">y</a>; <a href="#353363" title="(b: GenJVM.this.global.icodes.BasicBlock)Unit">genBlock</a><span class="delimiter">(</span><a href="#353466" title="GenJVM.this.global.icodes.BasicBlock">x</a><span class="delimiter">)</span>; <a href="#353359" title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit">genBlocks</a><span class="delimiter">(</span><a href="#353474" title="GenJVM.this.global.icodes.BasicBlock">y</a> <a href="#353476" title="(x: GenJVM.this.global.icodes.BasicBlock)List[GenJVM.this.global.icodes.BasicBlock]">::</a> <a href="#353475" title="List[GenJVM.this.global.icodes.BasicBlock]">ys</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /** Generate exception handlers for the current method. */
    <span class="keyword">def</span> <a title="()Unit" id="353360">genExceptionHandlers</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      /** Return a list of pairs of intervals where the handler is active.
       *  The intervals in the list have to be inclusive in the beginning and
       *  exclusive in the end: [start, end).
       */
      <span class="keyword">def</span> <a title="(e: GenJVM.this.global.icodes.ExceptionHandler)List[(Int, Int)]" id="353482">ranges</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ExceptionHandler" id="353483">e</a>: <a href="../icode/ExceptionHandlers.scala.html#229005" title="GenJVM.this.global.icodes.ExceptionHandler">ExceptionHandler</a><span class="delimiter">)</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]" id="353484">covered</a> = <a href="#353483" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312852" title="=&gt; scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a>
        <span class="keyword">var</span> <a title="List[(Int, Int)]" id="353485">ranges</a>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span>
        <span class="keyword">var</span> <a title="Int" id="353486">start</a> = -<span title="Int(-1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="353487">end</a> = -<span title="Int(-1)" class="int">1</span>

        <a href="#346567" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a> <span title="(f: GenJVM.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="353509">b</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <span class="delimiter">(</span><a href="#353484" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(elem: GenJVM.this.global.icodes.BasicBlock)Boolean">contains</span> <a href="#353509" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353486" title="Int">start</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span> // we're inside a handler range
              <a href="#353487" title="Int">end</a> = <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#353509" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#353485" title="List[(Int, Int)]">ranges</a> <span title="(x: (Int, Int))List[(Int, Int)]">::=</span> <span class="delimiter">(</span><span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#353486" title="Int">start</a>, <a href="#353487" title="Int">end</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#353486" title="Int">start</a> = -<span title="Int(-1)" class="int">1</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353486" title="Int">start</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>  // we're not inside a handler range
              <a href="#353486" title="Int">start</a> = <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#353509" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>

            <a href="#353487" title="Int">end</a> = <a href="#346574" title="(key: GenJVM.this.global.icodes.BasicBlock)Int">endPC</a><span class="delimiter">(</span><a href="#353509" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
            <a href="#353484" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(elem: GenJVM.this.global.icodes.BasicBlock)scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">-=</span> <a href="#353509" title="GenJVM.this.global.icodes.BasicBlock">b</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        /* Add the last interval. Note that since the intervals are
         * open-ended to the right, we have to give a number past the actual
         * code!
         */
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353486" title="Int">start</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#353485" title="List[(Int, Int)]">ranges</a> <span title="(x: (Int, Int))List[(Int, Int)]">::=</span> <span class="delimiter">(</span><span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#353486" title="Int">start</a>, <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#353484" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Some covered blocks were not found in method: &quot;)" class="string">&quot;Some covered blocks were not found in method: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; covered: &quot;)" class="string">&quot; covered: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353484" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#346567" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>
        <a href="#353485" title="List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ExceptionHandler" id="353681">e</a> &lt;- <a href="#240082" title="BytecodeGenerator.this.type" class="keyword">this</a>.<a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#312620" title="(f: GenJVM.this.global.icodes.ExceptionHandler =&gt; Unit)Unit">exh</a> ; <a title="(Int, Int)" id="353765">p</a> &lt;- <a href="#353482" title="(e: GenJVM.this.global.icodes.ExceptionHandler)List[(Int, Int)]">ranges</a><span class="delimiter">(</span><a href="#353681" title="GenJVM.this.global.icodes.ExceptionHandler">e</a><span class="delimiter">)</span>.<span title="(f: ((Int, Int)) =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[(Int, Int)]">sortBy</span><span title="(f: ((Int, Int)) =&gt; Unit)Unit" class="delimiter">(</span><a href="#353688" title="(Int, Int)">_</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353765" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#353765" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Adding exception handler &quot;)" class="string">&quot;Adding exception handler &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353681" title="GenJVM.this.global.icodes.ExceptionHandler">e</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;at block: &quot;)" class="string">&quot;at block: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353681" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312851" title="=&gt; GenJVM.this.global.icodes.BasicBlock">startBlock</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; from: &quot;)" class="string">&quot; from: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353765" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353765" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; catching: &quot;)" class="string">&quot; catching: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353681" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312835" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>;
          <span class="keyword">val</span> <a title="String" id="353770">cls</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#353681" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312835" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Symbols.scala.html#40013" title="object GenJVM.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#353681" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312835" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#46305" title="=&gt; GenJVM.this.global.Symbol">ThrowableClass</a><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span>
                    <span class="keyword">else</span> <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#353681" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312835" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: Int, x$3: Int, x$4: String)Unit">addExceptionHandler</span><span class="delimiter">(</span><a href="#353765" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span>, <a href="#353765" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span>,
                                    <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#353681" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#312851" title="=&gt; GenJVM.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                    <a href="#353770" title="String">cls</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Empty exception range: &quot;)" class="string">&quot;Empty exception range: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353765" title="(Int, Int)">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(target: GenJVM.this.global.Symbol, site: GenJVM.this.global.Symbol)Boolean" id="353361">isAccessibleFrom</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="353834">target</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="GenJVM.this.global.Symbol" id="353835">site</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#353834" title="GenJVM.this.global.Symbol">target</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48094" title="=&gt; Boolean">isPublic</a> <span title="(x: Boolean)Boolean">||</span> <a href="#353834" title="GenJVM.this.global.Symbol">target</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48085" title="=&gt; Boolean">isProtected</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="#353835" title="GenJVM.this.global.Symbol">site</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; GenJVM.this.global.Symbol">enclClass</a> <a href="../../../../reflect/internal/Symbols.scala.html#47964" title="(that: GenJVM.this.global.Symbol)Boolean">isSubClass</a> <a href="#353834" title="GenJVM.this.global.Symbol">target</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <span class="delimiter">(</span><a href="#353835" title="GenJVM.this.global.Symbol">site</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47998" title="=&gt; GenJVM.this.global.Symbol">enclosingPackage</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#353834" title="GenJVM.this.global.Symbol">target</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47911" title="=&gt; GenJVM.this.global.Symbol">privateWithin</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(call: GenJVM.this.global.icodes.opcodes.CALL_METHOD)Unit" id="353362">genCallMethod</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.opcodes.CALL_METHOD" id="353842">call</a>: <a href="../icode/Opcodes.scala.html#240941" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> CALL_METHOD<a href="#353844" title="(GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.opcodes.InvokeStyle)" class="delimiter">(</a><a href="#353843" title="GenJVM.this.global.icodes.global.Symbol" id="353844">method</a>, <a href="#353843" title="GenJVM.this.global.icodes.opcodes.InvokeStyle" id="353845">style</a><span class="delimiter">)</span> = <a href="#353842" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="353846">siteSymbol</a>  = <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="353847">hostSymbol</a>  = <a href="#353842" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>.<a href="../icode/Opcodes.scala.html#323136" title="=&gt; GenJVM.this.global.icodes.global.Symbol">hostClass</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="353848">methodOwner</a> = <a href="#353844" title="GenJVM.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a>
      // info calls so that types are up to date; erasure may add lateINTERFACE to traits
      <a href="#353847" title="GenJVM.this.global.icodes.global.Symbol">hostSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a> ; <a href="#353848" title="GenJVM.this.global.icodes.global.Symbol">methodOwner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>

      <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="353849">isInterfaceCall</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="353868">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <a href="#353868" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48087" title="=&gt; Boolean">isInterface</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#353848" title="GenJVM.this.global.icodes.global.Symbol">methodOwner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a>
        <span title="(x: Boolean)Boolean">||</span> <a href="#353868" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#353868" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47963" title="(that: GenJVM.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#46673" title="=&gt; GenJVM.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      // whether to reference the type of the receiver or
      // the type of the method owner (if not an interface!)
      <span class="keyword">val</span> <a title="Boolean" id="353850">useMethodOwner</a> = <span class="delimiter">(</span>
           <a href="#353845" title="GenJVM.this.global.icodes.opcodes.InvokeStyle">style</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/Opcodes.scala.html#241002" title="object GenJVM.this.global.icodes.opcodes.Dynamic">Dynamic</a>
        <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#353849" title="(sym: GenJVM.this.global.Symbol)Boolean">isInterfaceCall</a><span class="delimiter">(</span><a href="#353847" title="GenJVM.this.global.icodes.global.Symbol">hostSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#353361" title="(target: GenJVM.this.global.Symbol, site: GenJVM.this.global.Symbol)Boolean">isAccessibleFrom</a><span class="delimiter">(</span><a href="#353848" title="GenJVM.this.global.icodes.global.Symbol">methodOwner</a>, <a href="#353846" title="GenJVM.this.global.icodes.global.Symbol">siteSymbol</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#353847" title="GenJVM.this.global.icodes.global.Symbol">hostSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47758" title="=&gt; Boolean">isBottomClass</a>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="353851">receiver</a> = <span title="GenJVM.this.global.icodes.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#353850" title="Boolean">useMethodOwner</a><span class="delimiter">)</span> <a href="#353848" title="GenJVM.this.global.icodes.global.Symbol">methodOwner</a> <span class="keyword">else</span> <a href="#353847" title="GenJVM.this.global.icodes.global.Symbol">hostSymbol</a>
      <span class="keyword">val</span> <a title="String" id="353852">jowner</a>   = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#353851" title="GenJVM.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="String" id="353853">jname</a>    = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#353844" title="GenJVM.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="353854">jtype</a>    = <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#353844" title="GenJVM.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(invoke: String)Unit" id="353855">emit</a><span class="delimiter">(</span><a title="String" id="353884">invoke</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s %s %s.%s:%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#353884" title="String">invoke</a>, <a href="#353851" title="GenJVM.this.global.icodes.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48056" title="=&gt; String">accessString</a>, <a href="#353852" title="String">jowner</a>, <a href="#353853" title="String">jname</a>, <a href="#353854" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#353884" title="String">invoke</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="string">&quot;invokeinterface&quot;</span>  =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEINTERFACE</span><span class="delimiter">(</span><a href="#353852" title="String">jowner</a>, <a href="#353853" title="String">jname</a>, <a href="#353854" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="string">&quot;invokevirtual&quot;</span>    =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#353852" title="String">jowner</a>, <a href="#353853" title="String">jname</a>, <a href="#353854" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="string">&quot;invokespecial&quot;</span>    =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#353852" title="String">jowner</a>, <a href="#353853" title="String">jname</a>, <a href="#353854" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="string">&quot;invokestatic&quot;</span>     =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#353852" title="String">jowner</a>, <a href="#353853" title="String">jname</a>, <a href="#353854" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()Unit" id="353856">initModule</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // we initialize the MODULE$ field immediately after the super ctor
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240087" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#353846" title="GenJVM.this.global.icodes.global.Symbol">siteSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#346570" title="=&gt; Boolean">isModuleInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> JMethod.<span title="String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#353853" title="String">jname</a> <span title="(x$1: AnyRef)Boolean">==</span> JMethod.<span title="String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#346570" title="(x$1: Boolean)Unit">isModuleInitialized</a> = <span title="Boolean(true)" class="keyword">true</span>
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                              <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60027" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<span title="()String">toString</span>,
                              <a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#353845" title="GenJVM.this.global.icodes.opcodes.InvokeStyle">style</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Static</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>                         =&gt; <a href="#353855" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokespecial&quot;)" class="string">&quot;invokespecial&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">Static</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>                        =&gt; <a href="#353855" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokestatic&quot;)" class="string">&quot;invokestatic&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../icode/Opcodes.scala.html#241002" title="Unit">Dynamic</a> <span class="keyword">if</span> <a href="#353849" title="(sym: GenJVM.this.global.Symbol)Boolean">isInterfaceCall</a><span class="delimiter">(</span><a href="#353851" title="GenJVM.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span> =&gt; <a href="#353855" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokeinterface&quot;)" class="string">&quot;invokeinterface&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../icode/Opcodes.scala.html#241002" title="Unit">Dynamic</a>                              =&gt; <a href="#353855" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokevirtual&quot;)" class="string">&quot;invokevirtual&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">SuperCall</span><span class="delimiter">(</span>_<span class="delimiter">)</span>                         =&gt; <a href="#353855" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokespecial&quot;)" class="string">&quot;invokespecial&quot;</span><span class="delimiter">)</span> ; <a href="#353856" title="()Unit">initModule</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(b: GenJVM.this.global.icodes.BasicBlock)Unit" id="353363">genBlock</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="353461">b</a>: <a href="../icode/BasicBlocks.scala.html#228937" title="GenJVM.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Unit">anchorToNext</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Generating code for block: &quot;)" class="string">&quot;Generating code for block: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; at pc: &quot;)" class="string">&quot; at pc: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="353899">lastMappedPC</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="353900">lastLineNr</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="353901">crtPC</a> = <span title="Int(0)" class="int">0</span>
      <a href="#353357" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Instruction" id="353944">instr</a> &lt;- <a href="../icode/BasicBlocks.scala.html#312548" title="(f: GenJVM.this.global.icodes.Instruction =&gt; Unit)Unit">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <a href="#353944" title="GenJVM.this.global.icodes.Instruction">instr</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">THIS</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="353947">clasz</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">CONSTANT</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Constant" id="353949">const</a><span class="delimiter">)</span> =&gt;
            <a href="GenJVMUtil.scala.html#346468" title="(jcode: ch.epfl.lamp.fjbg.JExtendedCode, const: GenJVM.this.global.Constant)Unit">genConstant</a><span class="delimiter">(</span><a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>, <a href="#353949" title="GenJVM.this.global.icodes.global.Constant">const</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_ARRAY_ITEM</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="353956">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitALOAD</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#353956" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_LOCAL</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="353968">local</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitLOAD</span><span class="delimiter">(</span><a href="#346579" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#353968" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#353968" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="Unit" id="353981">lf</a> @ LOAD_FIELD<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="353984">field</a>, <a title="Boolean" id="353985">isStatic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">var</span> <a title="String" id="353986">owner</a> = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#353981" title="GenJVM.this.global.icodes.opcodes.LOAD_FIELD">lf</a>.<a href="../icode/Opcodes.scala.html#323825" title="=&gt; GenJVM.this.global.icodes.global.Symbol">hostClass</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;LOAD_FIELD with owner: &quot;)" class="string">&quot;LOAD_FIELD with owner: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353986" title="String">owner</a> <span title="(x$1: Any)String">+</span>
                  <span title="String(&quot; flags: &quot;)" class="string">&quot; flags: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../../../../reflect/internal/Flags.scala.html#39895" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#353984" title="GenJVM.this.global.icodes.global.Symbol">field</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353985" title="Boolean">isStatic</a><span class="delimiter">)</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#353986" title="String">owner</a>,
                                  <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#353984" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#353984" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETFIELD</span><span class="delimiter">(</span><a href="#353986" title="String">owner</a>,
                                  <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#353984" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#353984" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_MODULE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="354003">module</a><span class="delimiter">)</span> =&gt;
//            assert(module.isModule, &quot;Expected module: &quot; + module)
            <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;generating LOAD_MODULE for: &quot;)" class="string">&quot;generating LOAD_MODULE for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354003" title="GenJVM.this.global.icodes.global.Symbol">module</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; flags: &quot;)" class="string">&quot; flags: &quot;</span> <span title="(x$1: Any)String">+</span>
                  <a href="../../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../../../../reflect/internal/Flags.scala.html#39895" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#354003" title="GenJVM.this.global.icodes.global.Symbol">module</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span>;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#229219" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#354003" title="GenJVM.this.global.icodes.global.Symbol">module</a>.<a href="../../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; GenJVM.this.global.icodes.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60314" title="=&gt; GenJVM.this.global.nme.NameType">readResolve</a>.<span title="()String">toString</span><span class="delimiter">)</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#354003" title="GenJVM.this.global.icodes.global.Symbol">module</a><span class="delimiter">)</span> /* + &quot;$&quot; */ ,
                                  <a href="../../../../reflect/internal/StdNames.scala.html#40560" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#60027" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<span title="()String">toString</span>,
                                  <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354003" title="GenJVM.this.global.icodes.global.Symbol">module</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_ARRAY_ITEM</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354024">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitASTORE</span> <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354024" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_LOCAL</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="354036">local</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitSTORE</span><span class="delimiter">(</span><a href="#346579" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#354036" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354036" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_THIS</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            // this only works for impl classes because the self parameter comes first
            // in the method signature. If that changes, this code has to be revisited.
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitASTORE_0</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_FIELD</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="354052">field</a>, <a title="Boolean" id="354053">isStatic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="354054">owner</a> = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#354052" title="GenJVM.this.global.icodes.global.Symbol">field</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#354053" title="Boolean">isStatic</a><span class="delimiter">)</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#354054" title="String">owner</a>,
                                  <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#354052" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354052" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTFIELD</span><span class="delimiter">(</span><a href="#354054" title="String">owner</a>,
                                  <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#354052" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354052" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">CALL_PRIMITIVE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Primitive" id="354068">primitive</a><span class="delimiter">)</span> =&gt;
            <a href="#353364" title="(primitive: GenJVM.this.global.icodes.Primitive, pos: GenJVM.this.global.Position)Unit">genPrimitive</a><span class="delimiter">(</span><a href="#354068" title="GenJVM.this.global.icodes.Primitive">primitive</a>, <a href="#353944" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#313078" title="=&gt; scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span>

          /** Special handling to access native Array.clone() */
          <span class="keyword">case</span> <a title="Unit" id="354071">call</a> @ CALL_METHOD<span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46450" title="=&gt; GenJVM.this.global.Symbol">Array_clone</a>, <a href="../icode/Opcodes.scala.html#241002" title="object GenJVM.this.global.icodes.opcodes.Dynamic">Dynamic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="354074">target</a>: <span title="String">String</span> = <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354071" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>.<a href="../icode/Opcodes.scala.html#323140" title="=&gt; GenJVM.this.global.icodes.TypeKind">targetTypeKind</a><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#354074" title="String">target</a>, <span title="String(&quot;clone&quot;)" class="string">&quot;clone&quot;</span>, <a href="#346491" title="=&gt; ch.epfl.lamp.fjbg.JMethodType">arrayCloneType</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="Unit" id="354081">call</a> @ CALL_METHOD<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="354084">method</a>, <a title="GenJVM.this.global.icodes.opcodes.InvokeStyle" id="354085">style</a><span class="delimiter">)</span> =&gt;
            <a href="#353362" title="(call: GenJVM.this.global.icodes.opcodes.CALL_METHOD)Unit">genCallMethod</a><span class="delimiter">(</span><a href="#354081" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">BOX</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354087">kind</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="354088">boxedType</a> = <a href="../../../../reflect/internal/Definitions.scala.html#40473" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#46819" title="(key: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol">boxedClass</a><span class="delimiter">(</span><a href="#354087" title="GenJVM.this.global.icodes.TypeKind">kind</a>.<a href="../icode/TypeKinds.scala.html#310923" title="=&gt; GenJVM.this.global.icodes.global.Type">toType</a>.<a href="../../../../reflect/internal/Types.scala.html#42728" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="354089">mtype</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346467" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354088" title="GenJVM.this.global.Symbol">boxedType</a><span class="delimiter">)</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354087" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#346485" title="=&gt; String">BoxesRunTime</a>, <span title="String(&quot;boxTo&quot;)" class="string">&quot;boxTo&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354088" title="GenJVM.this.global.Symbol">boxedType</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47887" title="=&gt; String">decodedName</a>, <a href="#354089" title="ch.epfl.lamp.fjbg.JMethodType">mtype</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">UNBOX</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354153">kind</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="354154">mtype</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354153" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#346485" title="=&gt; String">BoxesRunTime</a>, <span title="String(&quot;unboxTo&quot;)" class="string">&quot;unboxTo&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354153" title="GenJVM.this.global.icodes.TypeKind">kind</a>.<a href="../icode/TypeKinds.scala.html#310923" title="=&gt; GenJVM.this.global.icodes.global.Type">toType</a>.<a href="../../../../reflect/internal/Types.scala.html#42728" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47887" title="=&gt; String">decodedName</a>, <a href="#354154" title="ch.epfl.lamp.fjbg.JMethodType">mtype</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">NEW</span><span class="delimiter">(</span>REFERENCE<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="354189">cls</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="354190">className</a> = <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#354189" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: String)Unit">emitNEW</span> <a href="#354190" title="String">className</a>

          <span class="keyword">case</span> <span title="Unit">CREATE_ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354193">elem</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> =&gt; <a href="#354193" title="GenJVM.this.global.icodes.TypeKind">elem</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354193" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitNEWARRAY</span> <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354193" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CREATE_ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354210">elem</a>, <a title="Int" id="354211">dims</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType, x$2: Int)Unit">emitMULTIANEWARRAY</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228986" title="(elem: GenJVM.this.global.icodes.TypeKind, dims: Int)GenJVM.this.global.icodes.ARRAY">ArrayN</a><span class="delimiter">(</span><a href="#354210" title="GenJVM.this.global.icodes.TypeKind">elem</a>, <a href="#354211" title="Int">dims</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>, <a href="#354211" title="Int">dims</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">IS_INSTANCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354221">tpe</a><span class="delimiter">)</span> =&gt;
            <a href="#354221" title="GenJVM.this.global.icodes.TypeKind">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="354223">cls</a><span class="delimiter">)</span> =&gt;
                <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitINSTANCEOF</span> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#354223" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354225">elem</a><span class="delimiter">)</span> =&gt;
                <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitINSTANCEOF</span> <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354225" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <a href="../../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Unknown reference type in IS_INSTANCE: &quot;)" class="string">&quot;Unknown reference type in IS_INSTANCE: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354221" title="GenJVM.this.global.icodes.TypeKind">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CHECK_CAST</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354235">tpe</a><span class="delimiter">)</span> =&gt;
            <a href="#354235" title="GenJVM.this.global.icodes.TypeKind">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="354237">cls</a><span class="delimiter">)</span> =&gt;
                // No need to checkcast for Objects
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#354237" title="GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitCHECKCAST</span> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#354237" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="354243">elem</a><span class="delimiter">)</span> =&gt;
                <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitCHECKCAST</span> <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#354243" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <a href="../../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Unknown reference type in IS_INSTANCE: &quot;)" class="string">&quot;Unknown reference type in IS_INSTANCE: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354235" title="GenJVM.this.global.icodes.TypeKind">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">SWITCH</span><span class="delimiter">(</span><a title="List[List[Int]]" id="354254">tags</a>, <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="354255">branches</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Array[Array[Int]]" id="354256">tagArray</a> = <span title="Array[Array[Int]]" class="keyword">new</span> <span title="Array[Array[Int]]">Array</span><span class="delimiter">[</span>Array<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#354254" title="List[List[Int]]">tags</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="List[List[Int]]" id="354257">caze</a> = <a href="#354254" title="List[List[Int]]">tags</a>
            <span class="keyword">var</span> <a title="Int" id="354258">i</a> = <span title="Int(0)" class="int">0</span>

            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#354258" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#354256" title="Array[Array[Int]]">tagArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#354260" title="()Unit" class="delimiter">{</a>
              <a href="#354256" title="(i: Int, x: Array[Int])Unit">tagArray</a><span class="delimiter">(</span><a href="#354258" title="Int">i</a><span class="delimiter">)</span> = <span title="Array[Int]" class="keyword">new</span> <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#354257" title="List[List[Int]]">caze</a>.<span title="=&gt; List[Int]">head</span>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
              <a href="#354257" title="List[List[Int]]">caze</a>.<span title="=&gt; List[Int]">head</span>.<span title="(xs: Array[Int], start: Int)Unit">copyToArray</span><span class="delimiter">(</span><a href="#354256" title="(i: Int)Array[Int]">tagArray</a><span class="delimiter">(</span><a href="#354258" title="Int">i</a><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="#354258" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
              <a href="#354257" title="List[List[Int]]">caze</a> = <a href="#354257" title="List[List[Int]]">caze</a>.<span title="=&gt; List[List[Int]]">tail</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Array[ch.epfl.lamp.fjbg.JCode#Label]" id="354259">branchArray</a> = <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int)Array[ch.epfl.lamp.fjbg.JCode#Label]">newLabels</span><span class="delimiter">(</span><a href="#354256" title="Array[Array[Int]]">tagArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <a href="#354258" title="Int">i</a> = <span title="Int(0)" class="int">0</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#354258" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#354259" title="Array[ch.epfl.lamp.fjbg.JCode#Label]">branchArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#354261" title="()Unit" class="delimiter">{</a>
              <a href="#354259" title="(i: Int, x: ch.epfl.lamp.fjbg.JCode#Label)Unit">branchArray</a><span class="delimiter">(</span><a href="#354258" title="Int">i</a><span class="delimiter">)</span> = <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354255" title="(n: Int)GenJVM.this.global.icodes.BasicBlock">branches</a><span class="delimiter">(</span><a href="#354258" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#354258" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Emitting SWITCH:\ntags: &quot;)" class="string">&quot;Emitting SWITCH:\ntags: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354254" title="List[List[Int]]">tags</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nbranches: &quot;)" class="string">&quot;\nbranches: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354255" title="List[GenJVM.this.global.icodes.BasicBlock]">branches</a><span class="delimiter">)</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Array[Array[Int]], x$2: Array[ch.epfl.lamp.fjbg.JCode#Label], x$3: ch.epfl.lamp.fjbg.JCode#Label, x$4: Double)Unit">emitSWITCH</span><span class="delimiter">(</span><a href="#354256" title="Array[Array[Int]]">tagArray</a>,
                             <a href="#354259" title="Array[ch.epfl.lamp.fjbg.JCode#Label]">branchArray</a>,
                             <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354255" title="List[GenJVM.this.global.icodes.BasicBlock]">branches</a>.<span title="=&gt; GenJVM.this.global.icodes.BasicBlock">last</span><span class="delimiter">)</span>,
                             <a href="#346475" title="=&gt; Double">MIN_SWITCH_DENSITY</a><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">JUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="354429">whereto</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#354429" title="GenJVM.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354429" title="GenJVM.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> // default to short jumps

          <span class="keyword">case</span> <span title="Unit">CJUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="354460">success</a>, <a title="GenJVM.this.global.icodes.BasicBlock" id="354461">failure</a>, <a title="GenJVM.this.global.icodes.TestOp" id="354462">cond</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="354463">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#354463" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228967" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#228969" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#228973" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#228971" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#354460" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ICMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346460" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  // .. and fall through to success label
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ICMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354460" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#354460" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ACMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346460" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  // .. and fall through to success label
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ACMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354460" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">(</span><a href="#354463" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#228959" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a>   =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228979" title="Unit">FLOAT</a>  =&gt;
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#229056" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#229060" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228981" title="Unit">DOUBLE</a> =&gt;
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#229056" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#229060" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#354460" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346460" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  // .. and fall through to success label
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#354462" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354460" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>;
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#354461" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CZJUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="355071">success</a>, <a title="GenJVM.this.global.icodes.BasicBlock" id="355072">failure</a>, <a title="GenJVM.this.global.icodes.TestOp" id="355073">cond</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="355074">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#355074" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228967" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#228969" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#228973" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#228971" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346460" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="355199">Success</a> = <a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a>
                <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="355200">Failure</a> = <a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a>
                <span title="(_1: GenJVM.this.global.icodes.TestOp, _2: GenJVM.this.global.icodes.BasicBlock)(GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.BasicBlock)" class="delimiter">(</span><a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a>, <a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229052" title="object GenJVM.this.global.icodes.EQ">EQ</a>, <a href="#355199" title="GenJVM.this.global.icodes.BasicBlock">Success</a><span class="delimiter">)</span> =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229054" title="object GenJVM.this.global.icodes.NE">NE</a>, <a href="#355200" title="GenJVM.this.global.icodes.BasicBlock">Failure</a><span class="delimiter">)</span> =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229052" title="object GenJVM.this.global.icodes.EQ">EQ</a>, <a href="#355200" title="GenJVM.this.global.icodes.BasicBlock">Failure</a><span class="delimiter">)</span> =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229054" title="object GenJVM.this.global.icodes.NE">NE</a>, <a href="#355199" title="GenJVM.this.global.icodes.BasicBlock">Success</a><span class="delimiter">)</span> =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229052" title="object GenJVM.this.global.icodes.EQ">EQ</a>, _<span class="delimiter">)</span> =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229054" title="object GenJVM.this.global.icodes.NE">NE</a>, _<span class="delimiter">)</span> =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">(</span><a href="#355074" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#228959" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a>   =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228979" title="Unit">FLOAT</a>  =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#229056" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#229060" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228981" title="Unit">DOUBLE</a> =&gt;
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#229056" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#229060" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346460" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346458" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#355073" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355071" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353358" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#355072" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">RETURN</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="355538">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitRETURN</span> <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355538" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">THROW</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitATHROW</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">DROP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="355549">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#355549" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a> | <a href="../icode/TypeKinds.scala.html#228981" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitPOP2</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitPOP</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">DUP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="355551">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#355551" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a> | <a href="../icode/TypeKinds.scala.html#228981" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP2</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">MONITOR_ENTER</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitMONITORENTER</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">MONITOR_EXIT</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitMONITOREXIT</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">SCOPE_ENTER</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="355553">lv</a><span class="delimiter">)</span> =&gt;
            <a href="#353357" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a> <span title="(elem: GenJVM.this.global.icodes.Local)varsInBlock.type">+=</span> <a href="#355553" title="GenJVM.this.global.icodes.Local">lv</a>
            <a href="#355553" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313058" title="(x$1: Int)Unit">start</a> = <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">SCOPE_EXIT</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="355563">lv</a><span class="delimiter">)</span> =&gt;
            <span title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]" class="keyword">if</span> <span class="delimiter">(</span><a href="#353357" title="(elem: GenJVM.this.global.icodes.Local)Boolean">varsInBlock</a><span class="delimiter">(</span><a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313064" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313057" title="=&gt; Int">start</a>, <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#355583" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313063" title="=&gt; List[(Int, Int)]">ranges</a>
              <a href="#353357" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a> <span title="(elem: GenJVM.this.global.icodes.Local)varsInBlock.type">-=</span> <a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="b.varsInScope.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#312534" title="(elem: GenJVM.this.global.icodes.Local)Boolean">varsInScope</a><span class="delimiter">(</span><a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313064" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#355611" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313063" title="=&gt; List[(Int, Int)]">ranges</a>
              <a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#312534" title="=&gt; scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInScope</a> <span title="(elem: GenJVM.this.global.icodes.Local)b.varsInScope.type">-=</span> <a href="#355563" title="GenJVM.this.global.icodes.Local">lv</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="../icode/ICodes.scala.html#228888" title="(m: GenJVM.this.global.icodes.IMethod, msg: String)Nothing">dumpMethodAndAbort</a><span class="delimiter">(</span><a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>, <span title="String(&quot;Illegal local var nesting&quot;)" class="string">&quot;Illegal local var nesting&quot;</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_EXCEPTION</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#353901" title="Int">crtPC</a> = <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>

//        assert(instr.pos.source.isEmpty || instr.pos.source.get == (clasz.cunit.source), &quot;sources don't match&quot;)
//        val crtLine = instr.pos.line.get(lastLineNr);

        <span class="keyword">val</span> <a title="Int" id="353945">crtLine</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
          <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#353944" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#313078" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#353900" title="Int">lastLineNr</a> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#353944" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#313078" title="=&gt; scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span>.<a href="../../util/Position.scala.html#183814" title="=&gt; Int">line</a> // check NoPosition to avoid costly exception
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Int">_</span>: <span title="UnsupportedOperationException">UnsupportedOperationException</span> =&gt;
            <a href="../../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Warning: wrong position in: &quot;)" class="string">&quot;Warning: wrong position in: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>
            <a href="#353900" title="Int">lastLineNr</a>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#312574" title="=&gt; GenJVM.this.global.icodes.Instruction">lastInstruction</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#353944" title="GenJVM.this.global.icodes.Instruction">instr</a><span class="delimiter">)</span>
          <a href="#346574" title="(key: GenJVM.this.global.icodes.BasicBlock, value: Int)Unit">endPC</a><span class="delimiter">(</span><a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> = <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>

        //System.err.println(&quot;CRTLINE: &quot; + instr.pos + &quot; &quot; +
        //           /* (if (instr.pos &lt; clasz.cunit.source.content.length) clasz.cunit.source.content(instr.pos) else '*') + */ &quot; &quot; + crtLine);

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353901" title="Int">crtPC</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#353899" title="Int">lastMappedPC</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: Int, x$3: Int)Unit">completeLineNumber</span><span class="delimiter">(</span><a href="#353899" title="Int">lastMappedPC</a>, <a href="#353901" title="Int">crtPC</a>, <a href="#353945" title="Int">crtLine</a><span class="delimiter">)</span>
          <a href="#353899" title="Int">lastMappedPC</a> = <a href="#353901" title="Int">crtPC</a>
          <a href="#353900" title="Int">lastLineNr</a>   = <a href="#353945" title="Int">crtLine</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // local vars that survived this basic block
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="355701">lv</a> &lt;- <a href="#353357" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">varsInBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#355701" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313064" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#355701" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313057" title="=&gt; Int">start</a>, <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#355702" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#355701" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313063" title="=&gt; List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="355729">lv</a> &lt;- <a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#312534" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">varsInScope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#355729" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313064" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#353356" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#353461" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#355730" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#355729" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313063" title="=&gt; List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    /**
     *  @param primitive ...
     *  @param pos       ...
     */
    <span class="keyword">def</span> <a title="(primitive: GenJVM.this.global.icodes.Primitive, pos: GenJVM.this.global.Position)Unit" id="353364">genPrimitive</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Primitive" id="354069">primitive</a>: <a href="../icode/Primitives.scala.html#229011" title="GenJVM.this.global.icodes.Primitive">Primitive</a>, <a title="GenJVM.this.global.Position" id="354070">pos</a>: <a href="../../util/Position.scala.html#34604" title="GenJVM.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#354069" title="GenJVM.this.global.icodes.Primitive">primitive</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Negation</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="355761">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#355761" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228967" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#228969" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#228973" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#228971" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitINEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a>   =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228979" title="Unit">FLOAT</a>  =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228981" title="Unit">DOUBLE</a> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <a href="../../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Impossible to negate a &quot;)" class="string">&quot;Impossible to negate a &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355761" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Arithmetic</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ArithmeticOp" id="355766">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="355767">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#355766" title="GenJVM.this.global.icodes.ArithmeticOp">op</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#229065" title="Unit">ADD</a> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitADD</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355767" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#229067" title="Unit">SUB</a> =&gt;
              <span class="delimiter">(</span><a href="#355767" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#228959" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228967" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#228969" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#228973" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#228971" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a>   =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228979" title="Unit">FLOAT</a>  =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228981" title="Unit">DOUBLE</a> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#229069" title="Unit">MUL</a> =&gt;
              <span class="delimiter">(</span><a href="#355767" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#228959" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228967" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#228969" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#228973" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#228971" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a>   =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228979" title="Unit">FLOAT</a>  =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228981" title="Unit">DOUBLE</a> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#229071" title="Unit">DIV</a> =&gt;
              <span class="delimiter">(</span><a href="#355767" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#228959" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228967" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#228969" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#228973" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#228971" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a>   =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228979" title="Unit">FLOAT</a>  =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228981" title="Unit">DOUBLE</a> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#229073" title="Unit">REM</a> =&gt;
              <span class="delimiter">(</span><a href="#355767" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#228959" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228967" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#228969" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#228973" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#228971" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a>   =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228979" title="Unit">FLOAT</a>  =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228981" title="Unit">DOUBLE</a> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#229075" title="Unit">NOT</a> =&gt;
              <a href="#355767" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228967" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#228969" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#228973" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#228971" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int)Unit">emitPUSH</span><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228977" title="Unit">LONG</a>   =&gt;
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Long)Unit">emitPUSH</span><span class="delimiter">(</span>-<span title="Long(-1L)" class="long">1l</span><span class="delimiter">)</span>
                  <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                  <a href="../../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Impossible to negate an &quot;)" class="string">&quot;Impossible to negate an &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355767" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
              <a href="../../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Unknown arithmetic primitive &quot;)" class="string">&quot;Unknown arithmetic primitive &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354069" title="GenJVM.this.global.icodes.Primitive">primitive</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Logical</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.LogicalOp" id="355788">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="355789">kind</a><span class="delimiter">)</span> =&gt; <span title="(_1: GenJVM.this.global.icodes.LogicalOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.LogicalOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#355788" title="GenJVM.this.global.icodes.LogicalOp">op</a>, <a href="#355789" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229085" title="object GenJVM.this.global.icodes.AND">AND</a>, <a href="../icode/TypeKinds.scala.html#228977" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229085" title="object GenJVM.this.global.icodes.AND">AND</a>, <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229085" title="object GenJVM.this.global.icodes.AND">AND</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#355789" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#228967" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355789" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229087" title="object GenJVM.this.global.icodes.OR">OR</a>, <a href="../icode/TypeKinds.scala.html#228977" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229087" title="object GenJVM.this.global.icodes.OR">OR</a>, <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229087" title="object GenJVM.this.global.icodes.OR">OR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#355789" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#228967" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355789" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229089" title="object GenJVM.this.global.icodes.XOR">XOR</a>, <a href="../icode/TypeKinds.scala.html#228977" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229089" title="object GenJVM.this.global.icodes.XOR">XOR</a>, <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229089" title="object GenJVM.this.global.icodes.XOR">XOR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#355789" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#228967" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355789" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Shift</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ShiftOp" id="355864">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="355865">kind</a><span class="delimiter">)</span> =&gt; <span title="(_1: GenJVM.this.global.icodes.ShiftOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.ShiftOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#355864" title="GenJVM.this.global.icodes.ShiftOp">op</a>, <a href="#355865" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229078" title="object GenJVM.this.global.icodes.LSL">LSL</a>, <a href="../icode/TypeKinds.scala.html#228977" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229078" title="object GenJVM.this.global.icodes.LSL">LSL</a>, <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229078" title="object GenJVM.this.global.icodes.LSL">LSL</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355865" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229080" title="object GenJVM.this.global.icodes.ASR">ASR</a>, <a href="../icode/TypeKinds.scala.html#228977" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229080" title="object GenJVM.this.global.icodes.ASR">ASR</a>, <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229080" title="object GenJVM.this.global.icodes.ASR">ASR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355865" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229082" title="object GenJVM.this.global.icodes.LSR">LSR</a>, <a href="../icode/TypeKinds.scala.html#228977" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229082" title="object GenJVM.this.global.icodes.LSR">LSR</a>, <a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229082" title="object GenJVM.this.global.icodes.LSR">LSR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228975" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355865" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Comparison</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ComparisonOp" id="355928">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="355929">kind</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="(_1: GenJVM.this.global.icodes.ComparisonOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.ComparisonOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#355928" title="GenJVM.this.global.icodes.ComparisonOp">op</a>, <a href="#355929" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>: @<span title="(GenJVM.this.global.icodes.ComparisonOp, GenJVM.this.global.icodes.TypeKind) @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229047" title="object GenJVM.this.global.icodes.CMP">CMP</a>, <a href="../icode/TypeKinds.scala.html#228977" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span>    =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229045" title="object GenJVM.this.global.icodes.CMPL">CMPL</a>, <a href="../icode/TypeKinds.scala.html#228979" title="object GenJVM.this.global.icodes.FLOAT">FLOAT</a><span class="delimiter">)</span>  =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229049" title="object GenJVM.this.global.icodes.CMPG">CMPG</a>, <a href="../icode/TypeKinds.scala.html#228979" title="object GenJVM.this.global.icodes.FLOAT">FLOAT</a><span class="delimiter">)</span>  =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229045" title="object GenJVM.this.global.icodes.CMPL">CMPL</a>, <a href="../icode/TypeKinds.scala.html#228981" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a><span class="delimiter">)</span> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#229049" title="object GenJVM.this.global.icodes.CMPG">CMPG</a>, <a href="../icode/TypeKinds.scala.html#228981" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a><span class="delimiter">)</span> =&gt; <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Conversion</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="355948">src</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="355949">dst</a><span class="delimiter">)</span> =&gt;
          <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Converting from: &quot;)" class="string">&quot;Converting from: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355948" title="GenJVM.this.global.icodes.TypeKind">src</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#355949" title="GenJVM.this.global.icodes.TypeKind">dst</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#355949" title="GenJVM.this.global.icodes.TypeKind">dst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/TypeKinds.scala.html#228967" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Illegal conversion at: &quot;)" class="string">&quot;Illegal conversion at: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#346513" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a> <span title="(x$1: Any)String">+</span>
                    <span title="String(&quot; at: &quot;)" class="string">&quot; at: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354070" title="GenJVM.this.global.Position">pos</a>.<a href="../../util/Position.scala.html#183787" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354070" title="GenJVM.this.global.Position">pos</a>.<a href="../../util/Position.scala.html#183814" title="=&gt; Int">line</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355948" title="GenJVM.this.global.icodes.TypeKind">src</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355949" title="GenJVM.this.global.icodes.TypeKind">dst</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">ArrayLength</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitARRAYLENGTH</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#229039" title="Unit">StartConcat</a> =&gt;
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: String)Unit">emitNEW</span> <a href="#346483" title="=&gt; String">StringBuilderClassName</a>
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#346483" title="=&gt; String">StringBuilderClassName</a>,
                                  JMethod.<span title="String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span>,
                                  <span title="object ch.epfl.lamp.fjbg.JMethodType">JMethodType</span>.<span title="ch.epfl.lamp.fjbg.JMethodType">ARGLESS_VOID_FUNCTION</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">StringConcat</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="355972">el</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JType" id="355973">jtype</a> = <a href="#355972" title="GenJVM.this.global.icodes.TypeKind">el</a> <span title="ch.epfl.lamp.fjbg.JType" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="ch.epfl.lamp.fjbg.JObjectType">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>
            <span class="keyword">case</span> <span title="ch.epfl.lamp.fjbg.JType">_</span> =&gt; <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#355972" title="GenJVM.this.global.icodes.TypeKind">el</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#346483" title="=&gt; String">StringBuilderClassName</a>,
                                  <span title="String(&quot;append&quot;)" class="string">&quot;append&quot;</span>,
                                  <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="#346487" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">StringBuilderType</a>,
                                  <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="#355973" title="ch.epfl.lamp.fjbg.JType">jtype</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#229041" title="Unit">EndConcat</a> =&gt;
          <a href="#353354" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#346483" title="=&gt; String">StringBuilderClassName</a>,
                                  <span title="String(&quot;toString&quot;)" class="string">&quot;toString&quot;</span>,
                                  <a href="#346489" title="=&gt; ch.epfl.lamp.fjbg.JMethodType">toStringType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Unimplemented primitive &quot;)" class="string">&quot;Unimplemented primitive &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354069" title="GenJVM.this.global.icodes.Primitive">primitive</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

      // genCode starts here
      <a href="#353359" title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit">genBlocks</a><span class="delimiter">(</span><a href="#346567" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240082" title="BytecodeGenerator.this.type" class="keyword">this</a>.<a href="#346516" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#312620" title="=&gt; List[GenJVM.this.global.icodes.ExceptionHandler]">exh</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object Nil">Nil</span><span class="delimiter">)</span>
        <a href="#353360" title="()Unit">genExceptionHandlers</a>;
    <span class="delimiter">}</span>


    /** Emit a Local variable table for debugging purposes.
     *  Synthetic locals are skipped. All variables are method-scoped.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod, jcode: ch.epfl.lamp.fjbg.JCode)Unit" id="346573">genLocalVariableTable</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="352526">m</a>: <a href="../icode/Members.scala.html#228928" title="GenJVM.this.global.icodes.IMethod">IMethod</a>, <a title="ch.epfl.lamp.fjbg.JCode" id="352527">jcode</a>: <span title="ch.epfl.lamp.fjbg.JCode">JCode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.Local]" id="356013">vars</a> = <a href="#352526" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312632" title="=&gt; List[GenJVM.this.global.icodes.Local]">locals</a> <span title="(p: GenJVM.this.global.icodes.Local =&gt; Boolean)List[GenJVM.this.global.icodes.Local]">filterNot</span> <span class="delimiter">(</span><a href="#356026" title="GenJVM.this.global.icodes.Local">_</a>.<a href="../icode/Members.scala.html#313047" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#356013" title="List[GenJVM.this.global.icodes.Local]">vars</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JConstantPool" id="356014">pool</a> = <a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>
      <span class="keyword">val</span> <a title="Int" id="356015">pc</a> = <a href="#352527" title="ch.epfl.lamp.fjbg.JCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="356016">anonCounter</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="356017">entries</a> = <span title="Int(0)" class="int">0</span>
      <a href="#356013" title="List[GenJVM.this.global.icodes.Local]">vars</a>.<span title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.Local" id="356047">lv</a> =&gt;
        <a href="#356047" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313064" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <a href="#346581" title="(ranges: List[(Int, Int)])List[(Int, Int)]">mergeEntries</a><span class="delimiter">(</span><a href="#356047" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313063" title="=&gt; List[(Int, Int)]">ranges</a>.<span title="=&gt; List[(Int, Int)]">reverse</span><span class="delimiter">)</span>;
        <a href="#356017" title="Int">entries</a> <span title="(x: Int)Int">+=</span> <a href="#356047" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313063" title="=&gt; List[(Int, Int)]">ranges</a>.<span title="=&gt; Int">length</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isStatic</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#356017" title="Int">entries</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="356018">lvTab</a> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span> <span title="(x: Int)Int">+</span> <span title="Int(10)" class="int">10</span> <span title="(x: Int)Int">*</span> <a href="#356017" title="Int">entries</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit" id="356019">emitEntry</a><span class="delimiter">(</span><a title="String" id="356069">name</a>: <span title="String">String</span>, <a title="String" id="356070">signature</a>: <span title="String">String</span>, <a title="Short" id="356071">idx</a>: <span title="Short">Short</span>, <a title="Short" id="356072">start</a>: <span title="Short">Short</span>, <a title="Short" id="356073">end</a>: <span title="Short">Short</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#356018" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#356072" title="Short">start</a>
        <a href="#356018" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#356073" title="Short">end</a>
        <a href="#356018" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#356014" title="ch.epfl.lamp.fjbg.JConstantPool">pool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#356069" title="String">name</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <a href="#356018" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#356014" title="ch.epfl.lamp.fjbg.JConstantPool">pool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#356070" title="String">signature</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <a href="#356018" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#356071" title="Short">idx</a>
      <span class="delimiter">}</span>

      <a href="#356018" title="java.nio.ByteBuffer">lvTab</a>.<span title="(x$1: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><a href="#356017" title="Int">entries</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#346522" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isStatic</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#356019" title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit">emitEntry</a><span class="delimiter">(</span><span title="String(&quot;this&quot;)" class="string">&quot;this&quot;</span>, <a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Short(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span>.<span title="=&gt; Short">toShort</span>, <a href="#356015" title="Int">pc</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="356106">lv</a> &lt;- <a href="#356013" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">vars</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="356107">name</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#356106" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313047" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#356016" title="Int">anonCounter</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <span title="String(&quot;&lt;anon&quot;)" class="string">&quot;&lt;anon&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#356016" title="Int">anonCounter</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#346536" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#356106" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313047" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Short" id="356108">index</a> = <a href="#346579" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#356106" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <span class="keyword">val</span> <a title="String" id="356109">tpe</a>   = <a href="GenJVMUtil.scala.html#346465" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#356106" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="356158">start</a>, <a title="Int" id="356159">end</a><span class="delimiter">)</span> &lt;- <a href="#356106" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#313063" title="(f: ((Int, Int)) =&gt; Unit)Unit">ranges</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#356019" title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit">emitEntry</a><span class="delimiter">(</span><a href="#356107" title="String">name</a>, <a href="#356109" title="String">tpe</a>, <a href="#356108" title="Short">index</a>, <a href="#356158" title="Int">start</a>.<span title="=&gt; Short">toShort</span>, <span class="delimiter">(</span><a href="#356159" title="Int">end</a> <span title="(x: Int)Int">-</span> <a href="#356158" title="Int">start</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="356020">attr</a> =
        <a href="#346527" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte])ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#346519" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>,
                                    <a href="#352527" title="ch.epfl.lamp.fjbg.JCode">jcode</a>,
                                    <a href="../../../../reflect/internal/StdNames.scala.html#40550" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#67957" title="=&gt; GenJVM.this.global.tpnme.NameType">LocalVariableTableATTR</a>.<span title="()String">toString</span>,
                                    <a href="#356018" title="java.nio.ByteBuffer">lvTab</a>.<span title="()Array[Byte]">array</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#352527" title="ch.epfl.lamp.fjbg.JCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#356020" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
    <span class="delimiter">}</span>


    /** For each basic block, the first PC address following it. */
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]" id="346574">endPC</a> = <span title="()scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]">HashMap</span><span class="delimiter">[</span>BasicBlock, Int<span class="delimiter">]</span>

    ////////////////////// local vars ///////////////////////

    <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Int" id="346576">sizeOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="356168">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#346577" title="(k: GenJVM.this.global.icodes.TypeKind)Int">sizeOf</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#228995" title="(t: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#356168" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(k: GenJVM.this.global.icodes.TypeKind)Int" id="346577">sizeOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="356174">k</a>: <a href="../icode/TypeKinds.scala.html#228959" title="GenJVM.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#356174" title="GenJVM.this.global.icodes.TypeKind">k</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#228981" title="Int(2)">DOUBLE</a> | <a href="../icode/TypeKinds.scala.html#228977" title="object GenJVM.this.global.icodes.LONG">LONG</a> =&gt; <span title="Int(2)" class="int">2</span>
      <span class="keyword">case</span> <span title="Int(1)">_</span> =&gt; <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod, sym: GenJVM.this.global.Symbol)Int" id="346578">indexOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="352497">m</a>: <a href="../icode/Members.scala.html#228928" title="GenJVM.this.global.icodes.IMethod">IMethod</a>, <a title="GenJVM.this.global.Symbol" id="352498">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Some<a href="#356186" title="GenJVM.this.global.icodes.Local" id="356178" class="delimiter">(</a><a title="GenJVM.this.global.icodes.Local" id="356186">local</a><span class="delimiter">)</span> = <a href="#352497" title="GenJVM.this.global.icodes.IMethod">m</a> <a href="../icode/Members.scala.html#312645" title="(sym: GenJVM.this.global.icodes.global.Symbol)Option[GenJVM.this.global.icodes.Local]">lookupLocal</a> <a href="#352498" title="GenJVM.this.global.Symbol">sym</a>
      <a href="#346579" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#356178" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(local: GenJVM.this.global.icodes.Local)Int" id="346579">indexOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="352495">local</a>: <a href="../icode/Members.scala.html#228929" title="GenJVM.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#352495" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#313054" title="=&gt; Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>, <span title="String(&quot;Invalid index for: &quot;)" class="string">&quot;Invalid index for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#352495" title="GenJVM.this.global.icodes.Local">local</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#352495" title="GenJVM.this.global.icodes.Local">local</a>.<span title="()Int">##</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;}: &quot;)" class="string">&quot;}: &quot;</span><span class="delimiter">)</span>
      <a href="#352495" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#313054" title="=&gt; Int">index</a>
    <span class="delimiter">}</span>

    /**
     * Compute the indexes of each local variable of the given
     * method. *Does not assume the parameters come first!*
     */
    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="346580">computeLocalVarsIndex</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="352271">m</a>: <a href="../icode/Members.scala.html#228928" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="356197">idx</a> = <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#352271" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312600" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47859" title="=&gt; Boolean">isStaticMember</a><span class="delimiter">)</span>
        <a href="#356197" title="Int">idx</a> = <span title="Int(0)" class="int">0</span>;

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="356219">l</a> &lt;- <a href="#352271" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312635" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Index value for &quot;)" class="string">&quot;Index value for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#356219" title="GenJVM.this.global.icodes.Local">l</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#356219" title="GenJVM.this.global.icodes.Local">l</a>.<span title="()Int">##</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;}: &quot;)" class="string">&quot;}: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#356197" title="Int">idx</a><span class="delimiter">)</span>
        <a href="#356219" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#313055" title="(x$1: Int)Unit">index</a> = <a href="#356197" title="Int">idx</a>
        <a href="#356197" title="Int">idx</a> <span title="(x: Int)Int">+=</span> <a href="#346577" title="(k: GenJVM.this.global.icodes.TypeKind)Int">sizeOf</a><span class="delimiter">(</span><a href="#356219" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="356241">l</a> &lt;- <a href="#352271" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312632" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">locals</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#352271" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#312635" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a> <span title="(elem: Any)Boolean">contains</span> <a href="#356241" title="GenJVM.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Index value for &quot;)" class="string">&quot;Index value for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#356241" title="GenJVM.this.global.icodes.Local">l</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#356241" title="GenJVM.this.global.icodes.Local">l</a>.<span title="()Int">##</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;}: &quot;)" class="string">&quot;}: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#356197" title="Int">idx</a><span class="delimiter">)</span>
        <a href="#356241" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#313055" title="(x$1: Int)Unit">index</a> = <a href="#356197" title="Int">idx</a>
        <a href="#356197" title="Int">idx</a> <span title="(x: Int)Int">+=</span> <a href="#346577" title="(k: GenJVM.this.global.icodes.TypeKind)Int">sizeOf</a><span class="delimiter">(</span><a href="#356241" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#313049" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    ////////////////////// Utilities ////////////////////////

    /** Merge adjacent ranges. */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ranges: List[(Int, Int)])List[(Int, Int)]" id="346581">mergeEntries</a><span class="delimiter">(</span><a title="List[(Int, Int)]" id="356048">ranges</a>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> =
      <span class="delimiter">(</span><a href="#356048" title="List[(Int, Int)]">ranges</a>.<span title="(z: List[(Int, Int)])(f: (List[(Int, Int)], (Int, Int)) =&gt; List[(Int, Int)])List[(Int, Int)]">foldLeft</span><span class="delimiter">(</span><span title="object Nil">Nil</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span>collapsed: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span>, p: <span title="(Int, Int)" class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(_1: List[(Int, Int)], _2: (Int, Int))(List[(Int, Int)], (Int, Int))" class="delimiter">(</span><a href="#356270" title="List[(Int, Int)]">collapsed</a>, <a href="#356271" title="(Int, Int)">p</a><span class="delimiter">)</span> <span title="List[(Int, Int)]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[(Int, Int)]" class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt; <span title="(xs: (Int, Int)*)List[(Int, Int)]">List</span><span class="delimiter">(</span><a href="#356271" title="(Int, Int)">p</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="List[(Int, Int)]" class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="356295">s1</a>, <a title="Int" id="356296">e1</a><span class="delimiter">)</span> :: <a title="List[(Int, Int)]" id="356297">rest</a>, <span class="delimiter">(</span><a title="Int" id="356300">s2</a>, <a title="Int" id="356301">e2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#356296" title="Int">e1</a> <span title="(x: Int)Boolean">==</span> <a href="#356300" title="Int">s2</a><span class="delimiter">)</span> =&gt; <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#356295" title="Int">s1</a>, <a href="#356301" title="Int">e2</a><span class="delimiter">)</span> <a href="#356306" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#356297" title="List[(Int, Int)]">rest</a>
        <span class="keyword">case</span> <span title="List[(Int, Int)]">_</span> =&gt; <a href="#356271" title="(Int, Int)">p</a> <a href="#356318" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#356270" title="List[(Int, Int)]">collapsed</a>
      <span class="delimiter">}</span><span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[(Int, Int)]">reverse</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(args: Int*)Int" id="240083">mkFlags</a><span class="delimiter">(</span><a title="Int*" id="352234">args</a>: <span title="Int*">Int</span>*<span class="delimiter">)</span> = <a href="#352234" title="Int*">args</a>.<span title="(z: Int)(op: (Int, Int) =&gt; Int)Int">foldLeft</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#352249" title="Int">_</a> <span title="(x: Int)Int">|</span> <a href="#352250" title="Int">_</a><span class="delimiter">)</span>

  /**
   * Return the Java modifiers for the given symbol.
   * Java modifiers for classes:
   *  - public, abstract, final, strictfp (not used)
   * for interfaces:
   *  - the same as for classes, without 'final'
   * for fields:
   *  - public, private (*)
   *  - static, final
   * for methods:
   *  - the same as for fields, plus:
   *  - abstract, synchronized (not used), strictfp (not used), native (not used)
   *
   *  (*) protected cannot be used, since inner classes 'see' protected members,
   *      and they would fail verification after lifted.
   */
  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Int" id="240084">javaFlags</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="348987">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    // constructors of module classes should be private
    // PP: why are they only being marked private at this stage and not earlier?
    <span class="keyword">val</span> <a title="Boolean" id="356325">privateFlag</a> =
      <a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47851" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#240086" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; GenJVM.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    // This does not check .isFinal (which checks flags for the FINAL flag),
    // instead checking rawflags for that flag so as to exclude symbols which
    // received lateFINAL.  These symbols are eligible for inlining, but to
    // avoid breaking proxy software which depends on subclassing, we avoid
    // insisting on their finality in the bytecode.
    <span class="keyword">val</span> <a title="Boolean" id="356326">finalFlag</a> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47683" title="=&gt; Long">rawflags</a> <span title="(x: Int)Long">&amp;</span> <span class="delimiter">(</span>Flags.FINAL <span title="Int(288)">|</span> Flags.MODULE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; GenJVM.this.global.Symbol">enclClass</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48087" title="=&gt; Boolean">isInterface</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a>
    <span class="delimiter">)</span>

    <a href="#240083" title="(args: Int*)Int">mkFlags</a><span class="delimiter">(</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#356325" title="Boolean">privateFlag</a><span class="delimiter">)</span> <span title="Int(2)">ACC_PRIVATE</span> <span class="keyword">else</span> <span title="Int(1)">ACC_PUBLIC</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48105" title="=&gt; Boolean">hasAbstractFlag</a><span class="delimiter">)</span> <span title="Int(1024)">ACC_ABSTRACT</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48087" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span title="Int(512)">ACC_INTERFACE</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#356326" title="Boolean">finalFlag</a><span class="delimiter">)</span> <span title="Int(16)">ACC_FINAL</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47859" title="=&gt; Boolean">isStaticMember</a><span class="delimiter">)</span> <span title="Int(8)">ACC_STATIC</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47765" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span> <span title="Int(64)">ACC_BRIDGE</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48087" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span title="Int(32)">ACC_SUPER</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#348987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47783" title="=&gt; Boolean">isVarargsMethod</a><span class="delimiter">)</span> <span title="Int(128)">ACC_VARARGS</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Int" id="240085">javaFieldFlags</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="352231">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#240083" title="(args: Int*)Int">mkFlags</a><span class="delimiter">(</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#352231" title="GenJVM.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: GenJVM.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#46723" title="=&gt; GenJVM.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span> <span title="Int(128)">ACC_TRANSIENT</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#352231" title="GenJVM.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: GenJVM.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#46727" title="=&gt; GenJVM.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span> <span title="Int(64)">ACC_VOLATILE</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#352231" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48082" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(16)">ACC_FINAL</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="240086">isTopLevelModule</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="349001">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="../../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a> <span class="delimiter">(</span><a href="../../Global.scala.html#183023" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#185229" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#349001" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#349001" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#349001" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47864" title="=&gt; Boolean">isNestedClass</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="240087">isStaticModule</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="348990">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#40001" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#348990" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#348990" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#348990" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#48093" title="=&gt; Boolean">isLifted</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>