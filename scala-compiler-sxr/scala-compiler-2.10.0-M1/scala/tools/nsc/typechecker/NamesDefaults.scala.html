<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/NamesDefaults.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.collection.mutable

/**
 *  @author Lukas Rytz
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait NamesDefaults extends Object with ScalaObject" id="31873">NamesDefaults</a> <span title="ScalaObject" class="delimiter">{</span> self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#183929" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object NamesDefaults.this.global.definitions">definitions</a>._

  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[NamesDefaults.this.global.Symbol,Set[NamesDefaults.this.global.Symbol]]" id="184217">defaultParametersOfMethod</a> =
    <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object NamesDefaults.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110472" title="[K, V]()scala.collection.mutable.WeakHashMap[K,V]">newWeakMap</a><span title="()scala.collection.mutable.WeakHashMap[NamesDefaults.this.global.Symbol,Set[NamesDefaults.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="NamesDefaults.this.global.Symbol">Symbol</a>, <span title="Set[NamesDefaults.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: Set[NamesDefaults.this.global.Symbol])scala.collection.mutable.Map[NamesDefaults.this.global.Symbol,Set[NamesDefaults.this.global.Symbol]]">withDefaultValue</span> <span title="(elems: NamesDefaults.this.global.Symbol*)scala.collection.immutable.Set[NamesDefaults.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>

  case <span class="keyword">class</span> <a title="class NamedApplyInfo extends Object with ScalaObject with Product with Serializable" id="644326">NamedApplyInfo</a><a href="#644326" title="ScalaObject" class="delimiter">(</a>
    <a title="Option[NamesDefaults.this.global.Tree]" id="641464">qual</a>:       <span title="Option[NamesDefaults.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>,
    <a title="List[NamesDefaults.this.global.Tree]" id="641465">targs</a>:      <span title="List[NamesDefaults.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>,
    <a title="List[List[NamesDefaults.this.global.Tree]]" id="641466">vargss</a>:     <span title="List[List[NamesDefaults.this.global.Tree]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>,
    <a title="NamesDefaults.this.Typer" id="641467">blockTyper</a>: <a href="Typers.scala.html#184062" title="NamesDefaults.this.Typer">Typer</a>
  <span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="NamesDefaults.this.NamedApplyInfo" id="184222">noApplyInfo</a> = <a href="#644326" title="(qual: Option[NamesDefaults.this.global.Tree], targs: List[NamesDefaults.this.global.Tree], vargss: List[List[NamesDefaults.this.global.Tree]], blockTyper: NamesDefaults.this.Typer)NamesDefaults.this.NamedApplyInfo">NamedApplyInfo</a><span class="delimiter">(</span><span title="object None">None</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(arg: NamesDefaults.this.global.Tree)Option[NamesDefaults.this.global.Name]" id="184224">nameOf</a><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="641546">arg</a>: <span title="NamesDefaults.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#641546" title="NamesDefaults.this.global.Tree">arg</a> <span title="Option[NamesDefaults.this.global.Name]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[NamesDefaults.this.global.Name]">AssignOrNamedArg</span><span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="NamesDefaults.this.global.Name" id="641554">name</a><span class="delimiter">)</span>, <a title="NamesDefaults.this.global.Tree" id="641555">rhs</a><span class="delimiter">)</span> =&gt; <span title="(x: NamesDefaults.this.global.Name)Some[NamesDefaults.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#641554" title="NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(arg: NamesDefaults.this.global.Tree)Boolean" id="184225">isNamed</a><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="641570">arg</a>: <span title="NamesDefaults.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#184224" title="(arg: NamesDefaults.this.global.Tree)Option[NamesDefaults.this.global.Name]">nameOf</a><span class="delimiter">(</span><a href="#641570" title="NamesDefaults.this.global.Tree">arg</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span>

  /** @param pos maps indicies from old to new */
  <span class="keyword">def</span> <a title="[T](args: List[T], pos: Int =&gt; Int)(implicit evidence$1: ClassManifest[T])List[T]" id="630818">reorderArgs</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="184228">T</a>: ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="630816">args</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Int =&gt; Int" id="630817">pos</a>: Int =&gt; Int<span class="delimiter">)</span>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[T]" id="641573">res</a> = <a href="#630818" title="(len: Int)Array[T]" class="keyword">new</a> Array<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#630816" title="List[T]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    // (hopefully) faster than zipWithIndex
    <span class="delimiter">(</span><span title="Int(0)" class="int">0</span> <a href="#641579" title="(z: Int)(op: (Int, T) =&gt; Int)Int">/:</a> <a href="#630816" title="List[T]">args</a><span class="delimiter">)</span> <a href="#641592" title="Int" class="delimiter">{</a> <span class="keyword">case</span> <span title="Int" class="delimiter">(</span><a title="Int" id="641602">index</a>, <a title="T" id="641603">arg</a><span class="delimiter">)</span> =&gt; <a href="#641573" title="(i: Int, x: T)Unit">res</a><span class="delimiter">(</span><a href="#630817" title="(v1: Int)Int">pos</a><span class="delimiter">(</span><a href="#641602" title="Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#641603" title="T">arg</a>; <a href="#641602" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span> <span class="delimiter">}</span>
    <a href="#641573" title="(xs: Array[T])scala.collection.mutable.ArrayOps[T]">res</a>.<span title="=&gt; List[T]">toList</span>
  <span class="delimiter">}</span>

  /** @param pos maps indicies from new to old (!) */
  <span class="keyword">def</span> <a title="[T](args: List[T], pos: Int =&gt; Int)(implicit evidence$2: ClassManifest[T])List[T]" id="641870">reorderArgsInv</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="184231">T</a>: ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="641868">args</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Int =&gt; Int" id="641869">pos</a>: Int =&gt; Int<span class="delimiter">)</span>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[T]" id="641875">argsArray</a> = <a href="#641868" title="List[T]">args</a>.<a href="#641870" title="(implicit evidence$1: ClassManifest[T])Array[T]">toArray</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[T]" id="641876">res</a> = <span title="scala.collection.mutable.ListBuffer[T]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[T]">ListBuffer</span><span class="delimiter">[</span>T<span class="delimiter">]</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="642018">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; scala.collection.mutable.ListBuffer[T])Unit">until</span> <a href="#641875" title="Array[T]">argsArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
      <a href="#641876" title="scala.collection.mutable.ListBuffer[T]">res</a> <span title="(x: T)res.type">+=</span> <a href="#641875" title="(i: Int)T">argsArray</a><span class="delimiter">(</span><a href="#641869" title="(v1: Int)Int">pos</a><span class="delimiter">(</span><a href="#642018" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#641876" title="scala.collection.mutable.ListBuffer[T]">res</a>.<span title="=&gt; List[T]">toList</span>
  <span class="delimiter">}</span>

  /** returns `true` if every element is equal to its index */
  <span class="keyword">def</span> <a title="(a: Array[Int])Boolean" id="184232">isIdentity</a><span class="delimiter">(</span><a title="Array[Int]" id="630680">a</a>: <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(end: Int)scala.collection.immutable.Range">until</span> <a href="#630680" title="Array[Int]">a</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<span title="(p: Int =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a title="Int" id="630808">i</a> =&gt; <a href="#630680" title="(i: Int)Int">a</a><span class="delimiter">(</span><a href="#630808" title="Int">i</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <a href="#630808" title="Int">i</a><span class="delimiter">)</span>

  /**
   * Transform a function application into a Block, and assigns typer.context
   * .namedApplyBlockInfo to the new block as side-effect. If tree has the form
   *    Apply(fun, args)
   * first the function &quot;fun&quot; (which might be an application itself!) is transformed into a
   * block of the form
   *   {
   *     val qual$1 = qualifier_of_fun
   *     val x$1 = arg_1_of_fun
   *     ...
   *     val x$n = arg_n_of_fun
   *     qual$1.fun[targs](x$1, ...)...(..., x$n)
   *   }
   * then for each argument in args, a value is created and entered into the block. finally
   * the application expression of the block is updated.
   *   {
   *     val qual$1 = ..
   *     ...
   *     val x$n = ...
   *  &gt;  val qual$n+1 = arg(1)
   *  &gt;  ...
   *  &gt;  val qual$n+m = arg(m)
   *  &gt;  qual$1.fun[targs](x$1, ...)...(..., x$n)(x$n+1, ..., x$n+m)
   *   }
   *
   * @param typer the typer calling this method; this method calls
   *    typer.doTypedApply
   * @param mode the mode to use for calling typer.doTypedApply
   * @param pt the expected type for calling typer.doTypedApply
   *
   * @param tree: the function application tree
   * @argPos: a function mapping arguments from their current position to the
   *   position specified by the method type. example:
   *    def foo(a: Int, b: String)
   *    foo(b = &quot;1&quot;, a = 2)
   *  calls
   *    transformNamedApplication(Apply(foo, List(&quot;1&quot;, 2), { 0 =&gt; 1, 1 =&gt; 0 })
   *
   *  @return the transformed application (a Block) together with the NamedApplyInfo.
   *     if isNamedApplyBlock(tree), returns the existing context.namedApplyBlockInfo
   */
  <span class="keyword">def</span> <a title="(typer: NamesDefaults.this.Typer, mode: Int, pt: NamesDefaults.this.global.Type)(tree: NamesDefaults.this.global.Tree, argPos: Int =&gt; Int)NamesDefaults.this.global.Tree" id="184233">transformNamedApplication</a><span class="delimiter">(</span><a title="NamesDefaults.this.Typer" id="642030">typer</a>: <a href="Typers.scala.html#184062" title="NamesDefaults.this.Typer">Typer</a>, <a title="Int" id="642031">mode</a>: <span title="Int">Int</span>, <a title="NamesDefaults.this.global.Type" id="642032">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="NamesDefaults.this.global.Type">Type</a><span class="delimiter">)</span>
                               <span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642033">tree</a>: <span title="NamesDefaults.this.global.Tree">Tree</span>, <a title="Int =&gt; Int" id="642034">argPos</a>: Int =&gt; Int<span class="delimiter">)</span>: <span title="NamesDefaults.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#642030" title="NamesDefaults.this.Typer">typer</a>._
    <span class="keyword">import</span> <a href="#642030" title="NamesDefaults.this.Typer">typer</a>.<a href="Typers.scala.html#184322" title="=&gt; NamesDefaults.this.Inferencer">infer</a>._
    <span class="keyword">val</span> <a title="NamesDefaults.this.Context" id="642038">context</a> = <a href="#642030" title="NamesDefaults.this.Typer">typer</a>.<a href="Typers.scala.html#184331" title="=&gt; NamesDefaults.this.Context">context</a>
    <span class="keyword">import</span> <a href="#642038" title="NamesDefaults.this.Context">context</a>.unit

    /**
     * Transform a function into a block, and passing context.namedApplyBlockInfo to
     * the new block as side-effect.
     *
     * `baseFun` is typed, the resulting block must be typed as well.
     *
     * Fun is transformed in the following way:
     *  - Ident(f)                                    ==&gt;  Block(Nil, Ident(f))
     *  - Select(qual, f) if (qual is stable)         ==&gt;  Block(Nil, Select(qual, f))
     *  - Select(qual, f) otherwise                   ==&gt;  Block(ValDef(qual$1, qual), Select(qual$1, f))
     *  - TypeApply(fun, targs)                       ==&gt;  Block(Nil or qual$1, TypeApply(fun, targs))
     *  - Select(New(TypeTree()), &lt;init&gt;)             ==&gt;  Block(Nil, Select(New(TypeTree()), &lt;init&gt;))
     *  - Select(New(Select(qual, typeName)), &lt;init&gt;) ==&gt;  Block(Nil, Select(...))     NOTE: qual must be stable in a `new`
     */
    <span class="keyword">def</span> <a title="(baseFun: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Tree" id="642040">baseFunBlock</a><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642042">baseFun</a>: <span title="NamesDefaults.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="NamesDefaults.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="642043">isConstr</a> = <a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>.<span title="=&gt; NamesDefaults.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a>
      <span class="keyword">val</span> <a title="NamesDefaults.this.Typer" id="642044">blockTyper</a> = <a href="Typers.scala.html#184057" title="(context: NamesDefaults.this.Context)NamesDefaults.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: NamesDefaults.this.global.Tree, owner: NamesDefaults.this.global.Symbol)NamesDefaults.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#642033" title="NamesDefaults.this.global.Tree">tree</a>, <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; NamesDefaults.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // baseFun1: extract the function from a potential TypeApply
      // funTargs: type arguments on baseFun, used to reconstruct TypeApply in blockWith(Out)Qualifier
      // defaultTargs: type arguments to be used for calling defaultGetters. If the type arguments are given
      //   in the source code, re-use them for default getter. Otherwise infer the default getter's t-args.
      <span class="keyword">val</span> <a href="#642046" title="(NamesDefaults.this.global.Tree, List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Tree])" class="delimiter">(</a><a href="#642045" title="NamesDefaults.this.global.Tree" id="642046">baseFun1</a>, <a href="#642045" title="List[NamesDefaults.this.global.Tree]" id="642047">funTargs</a>, <a href="#642045" title="List[NamesDefaults.this.global.Tree]" id="642048">defaultTargs</a><span class="delimiter">)</span> = <a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a> <span title="(NamesDefaults.this.global.Tree, List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Tree])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(NamesDefaults.this.global.Tree, List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Tree])">TypeApply</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642057">fun</a>, <a title="List[NamesDefaults.this.global.Tree]" id="642058">targs</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.Tree]" id="642059">targsInSource</a> =
            <span title="List[NamesDefaults.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#642058" title="List[NamesDefaults.this.global.Tree]">targs</a>.<span title="(p: NamesDefaults.this.global.Tree =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642066">a</a> =&gt; <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[NamesDefaults.this.global.Symbol]">undetparams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#642066" title="NamesDefaults.this.global.Tree">a</a>.<span title="=&gt; NamesDefaults.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
            <span class="keyword">else</span> <a href="#642058" title="List[NamesDefaults.this.global.Tree]">targs</a>
          <span title="(_1: NamesDefaults.this.global.Tree, _2: List[NamesDefaults.this.global.Tree], _3: List[NamesDefaults.this.global.Tree])(NamesDefaults.this.global.Tree, List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Tree])" class="delimiter">(</span><a href="#642057" title="NamesDefaults.this.global.Tree">fun</a>, <a href="#642058" title="List[NamesDefaults.this.global.Tree]">targs</a>, <a href="#642059" title="List[NamesDefaults.this.global.Tree]">targsInSource</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="(NamesDefaults.this.global.Tree, scala.collection.immutable.Nil.type, List[NamesDefaults.this.global.TypeTree])">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="NamesDefaults.this.global.TypeTree" id="642098">tpt</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.TypeTree]" id="642101">targsInSource</a> = <a href="#642098" title="NamesDefaults.this.global.TypeTree">tpt</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span> <span title="List[NamesDefaults.this.global.TypeTree]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="List[NamesDefaults.this.global.TypeTree]">TypeRef</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Type" id="642105">pre</a>, <a title="NamesDefaults.this.global.Symbol" id="642106">sym</a>, <a title="List[NamesDefaults.this.global.Type]" id="642107">args</a><span class="delimiter">)</span>
            <span class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#642107" title="List[NamesDefaults.this.global.Type]">args</a>.<span title="(p: NamesDefaults.this.global.Type =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Type" id="642114">a</a> =&gt; <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[NamesDefaults.this.global.Symbol]">undetparams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#642114" title="NamesDefaults.this.global.Type">a</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; NamesDefaults.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#642107" title="List[NamesDefaults.this.global.Type]">args</a>.<span title="(f: NamesDefaults.this.global.Type =&gt; NamesDefaults.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[NamesDefaults.this.global.Type],NamesDefaults.this.global.TypeTree,List[NamesDefaults.this.global.TypeTree]])List[NamesDefaults.this.global.TypeTree]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,NamesDefaults.this.global.TypeTree,List[NamesDefaults.this.global.TypeTree]]" class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#642131" title="NamesDefaults.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt;
              <span title="object Nil">Nil</span>
          <span class="delimiter">}</span>
          <span title="(_1: NamesDefaults.this.global.Tree, _2: scala.collection.immutable.Nil.type, _3: List[NamesDefaults.this.global.TypeTree])(NamesDefaults.this.global.Tree, scala.collection.immutable.Nil.type, List[NamesDefaults.this.global.TypeTree])" class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>, <span title="object Nil">Nil</span>, <a href="#642101" title="List[NamesDefaults.this.global.TypeTree]">targsInSource</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="(NamesDefaults.this.global.Tree, scala.collection.immutable.Nil.type, List[NamesDefaults.this.global.Tree])">Select</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>New<span class="delimiter">(</span>TypeTree<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="List[NamesDefaults.this.global.Tree]" id="642185">targs</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.Tree]" id="642186">targsInSource</a> =
            <span title="List[NamesDefaults.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#642185" title="List[NamesDefaults.this.global.Tree]">targs</a>.<span title="(p: NamesDefaults.this.global.Tree =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642193">a</a> =&gt; <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[NamesDefaults.this.global.Symbol]">undetparams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#642193" title="NamesDefaults.this.global.Tree">a</a>.<span title="=&gt; NamesDefaults.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
            <span class="keyword">else</span> <a href="#642185" title="List[NamesDefaults.this.global.Tree]">targs</a>
          <span title="(_1: NamesDefaults.this.global.Tree, _2: scala.collection.immutable.Nil.type, _3: List[NamesDefaults.this.global.Tree])(NamesDefaults.this.global.Tree, scala.collection.immutable.Nil.type, List[NamesDefaults.this.global.Tree])" class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>, <span title="object Nil">Nil</span>, <a href="#642186" title="List[NamesDefaults.this.global.Tree]">targsInSource</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="(NamesDefaults.this.global.Tree, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)">_</span> =&gt; <span title="(_1: NamesDefaults.this.global.Tree, _2: scala.collection.immutable.Nil.type, _3: scala.collection.immutable.Nil.type)(NamesDefaults.this.global.Tree, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // never used for constructor calls, they always have a stable qualifier
      <span class="keyword">def</span> <a title="(qual: NamesDefaults.this.global.Tree, selected: NamesDefaults.this.global.Name)NamesDefaults.this.global.Block" id="642049">blockWithQualifier</a><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642227">qual</a>: <span title="NamesDefaults.this.global.Tree">Tree</span>, <a title="NamesDefaults.this.global.Name" id="642228">selected</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="NamesDefaults.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.TermSymbol" id="642229">sym</a> = <a href="#642044" title="NamesDefaults.this.Typer">blockTyper</a>.<a href="Typers.scala.html#184331" title="=&gt; NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="NamesDefaults.this.global.Symbol" id="642243">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#72659" title="Long" id="642246">newValue</a><span class="delimiter">(</span><a href="Contexts.scala.html#184552" title="=&gt; NamesDefaults.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185112" title="(prefix: String)NamesDefaults.this.global.TermName">freshTermName</a><a title="NamesDefaults.this.global.TermName" id="642244" class="delimiter">(</a><span title="String(&quot;qual$&quot;)" class="string">&quot;qual$&quot;</span><span class="delimiter">)</span>, <a href="#642227" title="NamesDefaults.this.global.Tree">qual</a>.<a title="NamesDefaults.this.global.Position" id="642245">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: NamesDefaults.this.global.Type)NamesDefaults.this.global.TermSymbol">setInfo</a> <a href="#642227" title="NamesDefaults.this.global.Tree">qual</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span>
        <a href="#642044" title="NamesDefaults.this.Typer">blockTyper</a>.<a href="Typers.scala.html#184331" title="=&gt; NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; NamesDefaults.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: NamesDefaults.this.global.Symbol)NamesDefaults.this.global.Symbol">enter</a> <a href="#642229" title="NamesDefaults.this.global.TermSymbol">sym</a>
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.ValDef" id="642230">vd</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: NamesDefaults.this.global.Position)(tree: NamesDefaults.this.global.ValDef)NamesDefaults.this.global.ValDef">atPos</a><span class="delimiter">(</span><a href="#642229" title="NamesDefaults.this.global.TermSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; NamesDefaults.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40610" title="(sym: NamesDefaults.this.global.Symbol, rhs: NamesDefaults.this.global.Tree)NamesDefaults.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#642229" title="NamesDefaults.this.global.TermSymbol">sym</a>, <a href="#642227" title="NamesDefaults.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object NamesDefaults.this.global.NoType">NoType</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="NamesDefaults extends NamesDefaults.this.global.Tree with Serializable" id="642231">baseFunTransformed</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: NamesDefaults.this.global.Position)(tree: NamesDefaults.this.global.Tree with Serializable)NamesDefaults.this.global.Tree with Serializable">atPos</a><span class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183792" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // don't use treeCopy: it would assign opaque position.
          <span class="keyword">val</span> <a title="NamesDefaults.this.global.Select" id="642285">f</a> = <a href="Analyzer.scala.html#183929" title="(qualifier: NamesDefaults.this.global.Tree, name: NamesDefaults.this.global.Name)NamesDefaults.this.global.Select">Select</a><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object NamesDefaults.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92629" title="(sym: NamesDefaults.this.global.gen.global.Symbol)NamesDefaults.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#642229" title="NamesDefaults.this.global.TermSymbol">sym</a><span class="delimiter">)</span>, <a href="#642228" title="NamesDefaults.this.global.Name">selected</a><span class="delimiter">)</span>
                   .<span title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.Select">setType</span><span class="delimiter">(</span><a href="#642046" title="NamesDefaults.this.global.Tree">baseFun1</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span>.<span title="(sym: NamesDefaults.this.global.Symbol)NamesDefaults.this.global.Select">setSymbol</span><span class="delimiter">(</span><a href="#642046" title="NamesDefaults.this.global.Tree">baseFun1</a>.<span title="=&gt; NamesDefaults.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span title="NamesDefaults extends NamesDefaults.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#642047" title="List[NamesDefaults.this.global.Tree]">funTargs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#642285" title="NamesDefaults.this.global.Select">f</a>
          <span class="keyword">else</span> <a href="Analyzer.scala.html#183929" title="(fun: NamesDefaults.this.global.Tree, args: List[NamesDefaults.this.global.Tree])NamesDefaults.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#642285" title="NamesDefaults.this.global.Select">f</a>, <a href="#642047" title="List[NamesDefaults.this.global.Tree]">funTargs</a><span class="delimiter">)</span>.<span title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.TypeApply">setType</span><span class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="NamesDefaults.this.global.Block" id="642232">b</a> = <a href="Analyzer.scala.html#183929" title="(stats: List[NamesDefaults.this.global.Tree], expr: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: NamesDefaults.this.global.ValDef*)List[NamesDefaults.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#642230" title="NamesDefaults.this.global.ValDef">vd</a><span class="delimiter">)</span>, <a href="#642231" title="NamesDefaults extends NamesDefaults.this.global.Tree with Serializable">baseFunTransformed</a><span class="delimiter">)</span>
                  .<span title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.Block">setType</span><span class="delimiter">(</span><a href="#642231" title="NamesDefaults extends NamesDefaults.this.global.Tree with Serializable">baseFunTransformed</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)NamesDefaults.this.global.Block">setPos</span><span class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Some[NamesDefaults.this.global.gen.global.Tree]" id="642233">defaultQual</a> = <span title="(x: NamesDefaults.this.global.gen.global.Tree)Some[NamesDefaults.this.global.gen.global.Tree]">Some</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: NamesDefaults.this.global.Position)(tree: NamesDefaults.this.global.gen.global.Tree)NamesDefaults.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#642227" title="NamesDefaults.this.global.Tree">qual</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object NamesDefaults.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92629" title="(sym: NamesDefaults.this.global.gen.global.Symbol)NamesDefaults.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#642229" title="NamesDefaults.this.global.TermSymbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184589" title="(x$1: Option[(NamesDefaults.this.global.Tree, NamesDefaults.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> =
          <span title="(x: (NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo))Some[(NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo)]">Some</span><span class="delimiter">(</span><span title="(_1: NamesDefaults.this.global.Block, _2: NamesDefaults.this.NamedApplyInfo)(NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo)" class="delimiter">(</span><a href="#642232" title="NamesDefaults.this.global.Block">b</a>, <a href="#644326" title="(qual: Option[NamesDefaults.this.global.Tree], targs: List[NamesDefaults.this.global.Tree], vargss: List[List[NamesDefaults.this.global.Tree]], blockTyper: NamesDefaults.this.Typer)NamesDefaults.this.NamedApplyInfo">NamedApplyInfo</a><span class="delimiter">(</span><a href="#642233" title="Some[NamesDefaults.this.global.gen.global.Tree]">defaultQual</a>, <a href="#642048" title="List[NamesDefaults.this.global.Tree]">defaultTargs</a>, <span title="object Nil">Nil</span>, <a href="#642044" title="NamesDefaults.this.Typer">blockTyper</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#642232" title="NamesDefaults.this.global.Block">b</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block" id="642050">blockWithoutQualifier</a><span class="delimiter">(</span><a title="Option[NamesDefaults.this.global.Tree]" id="642409">defaultQual</a>: <span title="Option[NamesDefaults.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.Block" id="642410">b</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: NamesDefaults.this.global.Position)(tree: NamesDefaults.this.global.Block)NamesDefaults.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(stats: List[NamesDefaults.this.global.Tree], expr: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Block">Block</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a><span class="delimiter">)</span>.<span title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.Block">setType</span><span class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184589" title="(x$1: Option[(NamesDefaults.this.global.Tree, NamesDefaults.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> =
          <span title="(x: (NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo))Some[(NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo)]">Some</span><span class="delimiter">(</span><span title="(_1: NamesDefaults.this.global.Block, _2: NamesDefaults.this.NamedApplyInfo)(NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo)" class="delimiter">(</span><a href="#642410" title="NamesDefaults.this.global.Block">b</a>, <a href="#644326" title="(qual: Option[NamesDefaults.this.global.Tree], targs: List[NamesDefaults.this.global.Tree], vargss: List[List[NamesDefaults.this.global.Tree]], blockTyper: NamesDefaults.this.Typer)NamesDefaults.this.NamedApplyInfo">NamedApplyInfo</a><span class="delimiter">(</span><a href="#642409" title="Option[NamesDefaults.this.global.Tree]">defaultQual</a>, <a href="#642048" title="List[NamesDefaults.this.global.Tree]">defaultTargs</a>, <span title="object Nil">Nil</span>, <a href="#642044" title="NamesDefaults.this.Typer">blockTyper</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#642410" title="NamesDefaults.this.global.Block">b</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]" id="642051">moduleQual</a><span class="delimiter">(</span><a title="NamesDefaults.this.global.Position" id="642442">pos</a>: <a href="../util/Position.scala.html#34604" title="NamesDefaults.this.global.Position">Position</a>, <a title="NamesDefaults.this.global.Type" id="642443">classType</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="NamesDefaults.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        // prefix does 'normalize', which fixes #3384
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.Type" id="642444">pre</a> = <a href="#642443" title="NamesDefaults.this.global.Type">classType</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; NamesDefaults.this.global.Type">prefix</a>
        <span title="Option[NamesDefaults.this.global.gen.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#642444" title="NamesDefaults.this.global.Type">pre</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object NamesDefaults.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="NamesDefaults.this.global.Symbol" id="642449">module</a> = <a href="Namers.scala.html#183993" title="(original: NamesDefaults.this.global.Symbol, ctx: NamesDefaults.this.Context)NamesDefaults.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>.<span title="=&gt; NamesDefaults.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>, <a href="#642038" title="NamesDefaults.this.Context">context</a><span class="delimiter">)</span>
          <span title="Option[NamesDefaults.this.global.gen.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#642449" title="NamesDefaults.this.global.Symbol">module</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object NamesDefaults.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="object None">None</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="NamesDefaults.this.global.gen.global.Tree" id="642457">ref</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: NamesDefaults.this.global.Position)(tree: NamesDefaults.this.global.gen.global.Tree)NamesDefaults.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#642442" title="NamesDefaults.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object NamesDefaults.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92628" title="(pre: NamesDefaults.this.global.gen.global.Type, sym: NamesDefaults.this.global.gen.global.Symbol)NamesDefaults.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#642444" title="NamesDefaults.this.global.Type">pre</a>, <a href="#642449" title="NamesDefaults.this.global.Symbol">module</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#642449" title="NamesDefaults.this.global.Symbol">module</a>.<a href="../../../reflect/internal/Symbols.scala.html#47846" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#642444" title="NamesDefaults.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42715" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>    // fixes #4524. the type checker does the same for
              <a href="#642457" title="NamesDefaults.this.global.gen.global.Tree">ref</a>.<span title="(tp: NamesDefaults.this.global.gen.global.Type)ref.type">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40194" title="(pre: NamesDefaults.this.global.Type, sym: NamesDefaults.this.global.Symbol)NamesDefaults.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#642444" title="NamesDefaults.this.global.Type">pre</a>, <a href="#642449" title="NamesDefaults.this.global.Symbol">module</a><span class="delimiter">)</span><span class="delimiter">)</span>  // typedSelect, it calls &quot;stabilize&quot; on the result.
            <span title="(x: NamesDefaults.this.global.gen.global.Tree)Some[NamesDefaults.this.global.gen.global.Tree]">Some</span><span class="delimiter">(</span><a href="#642457" title="NamesDefaults.this.global.gen.global.Tree">ref</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#642046" title="NamesDefaults.this.global.Tree">baseFun1</a> <span title="NamesDefaults.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        // constructor calls

        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="NamesDefaults.this.global.TypeTree" id="642496">tp</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          // 'moduleQual' fixes #3338. Same qualifier for selecting the companion object as for the class.
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><a href="#642051" title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]">moduleQual</a><span class="delimiter">(</span><a href="#642496" title="NamesDefaults.this.global.TypeTree">tp</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, <a href="#642496" title="NamesDefaults.this.global.TypeTree">tp</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Select</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="NamesDefaults.this.global.TypeTree" id="642508">tp</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><a href="#642051" title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]">moduleQual</a><span class="delimiter">(</span><a href="#642508" title="NamesDefaults.this.global.TypeTree">tp</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, <a href="#642508" title="NamesDefaults.this.global.TypeTree">tp</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="NamesDefaults.this.global.Ident" id="642518">tp</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          // 'moduleQual' fixes #3344
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><a href="#642051" title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]">moduleQual</a><span class="delimiter">(</span><a href="#642518" title="NamesDefaults.this.global.Ident">tp</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, <a href="#642518" title="NamesDefaults.this.global.Ident">tp</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Select</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="NamesDefaults.this.global.Ident" id="642531">tp</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><a href="#642051" title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]">moduleQual</a><span class="delimiter">(</span><a href="#642531" title="NamesDefaults.this.global.Ident">tp</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, <a href="#642531" title="NamesDefaults.this.global.Ident">tp</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="NamesDefaults.this.global.Select" id="642542">tp</a> @ Select<span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642547">qual</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          // in `new q.C()', q is always stable
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object NamesDefaults.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: NamesDefaults.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#642547" title="NamesDefaults.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#642547" title="NamesDefaults.this.global.Tree">qual</a><span class="delimiter">)</span>
          // 'moduleQual' fixes #2057
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><a href="#642051" title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]">moduleQual</a><span class="delimiter">(</span><a href="#642542" title="NamesDefaults.this.global.Select">tp</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, <a href="#642542" title="NamesDefaults.this.global.Select">tp</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Select</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="NamesDefaults.this.global.Select" id="642560">tp</a> @ Select<span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642565">qual</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object NamesDefaults.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: NamesDefaults.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#642565" title="NamesDefaults.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#642565" title="NamesDefaults.this.global.Tree">qual</a><span class="delimiter">)</span>
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><a href="#642051" title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]">moduleQual</a><span class="delimiter">(</span><a href="#642560" title="NamesDefaults.this.global.Select">tp</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, <a href="#642560" title="NamesDefaults.this.global.Select">tp</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // super constructor calls
        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Select</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Super" id="642572">sp</a> @ Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          // 'moduleQual' fixes #3207. selection of the companion module of the
          // superclass needs to have the same prefix as the superclass.
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><a href="#642051" title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]">moduleQual</a><span class="delimiter">(</span><a href="#642042" title="NamesDefaults.this.global.Tree">baseFun</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, <a href="#642572" title="NamesDefaults.this.global.Super">sp</a>.<span title="=&gt; NamesDefaults.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; NamesDefaults.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[NamesDefaults.this.global.Type]">parents</a>.<span title="=&gt; NamesDefaults.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // self constructor calls (in secondary constructors)
        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Select</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642589">tp</a>, <a title="NamesDefaults.this.global.Name" id="642590">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#642043" title="Boolean">isConstr</a> =&gt;
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object NamesDefaults.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: NamesDefaults.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#642589" title="NamesDefaults.this.global.Tree">tp</a><span class="delimiter">)</span>, <a href="#642589" title="NamesDefaults.this.global.Tree">tp</a><span class="delimiter">)</span>
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><a href="#642051" title="(pos: NamesDefaults.this.global.Position, classType: NamesDefaults.this.global.Type)Option[NamesDefaults.this.global.gen.global.Tree]">moduleQual</a><span class="delimiter">(</span><a href="#642589" title="NamesDefaults.this.global.Tree">tp</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, <a href="#642589" title="NamesDefaults.this.global.Tree">tp</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // other method calls

        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><span title="object None">None</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Tree">Select</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642600">qual</a>, <a title="NamesDefaults.this.global.Name" id="642601">name</a><span class="delimiter">)</span> =&gt;
          <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object NamesDefaults.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: NamesDefaults.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#642600" title="NamesDefaults.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#642050" title="(defaultQual: Option[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Block">blockWithoutQualifier</a><span class="delimiter">(</span><span title="(x: NamesDefaults.this.global.Tree)Some[NamesDefaults.this.global.Tree]">Some</span><span class="delimiter">(</span><a href="#642600" title="NamesDefaults.this.global.Tree">qual</a>.<span title="=&gt; qual.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#642049" title="(qual: NamesDefaults.this.global.Tree, selected: NamesDefaults.this.global.Name)NamesDefaults.this.global.Block">blockWithQualifier</a><span class="delimiter">(</span><a href="#642600" title="NamesDefaults.this.global.Tree">qual</a>, <a href="#642601" title="NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * For each argument (arg: T), create a local value
     *  x$n: T = arg
     *
     * assumes &quot;args&quot; are typed. owner of the definitions in the block is the owner of
     * the block (see typedBlock), but the symbols have to be entered into the block's scope.
     *
     * For by-name parameters, create a value
     *  x$n: () =&gt; T = () =&gt; arg
     */
    <span class="keyword">def</span> <a title="(args: List[NamesDefaults.this.global.Tree], paramTypes: List[NamesDefaults.this.global.Type], blockTyper: NamesDefaults.this.Typer)List[NamesDefaults.this.global.ValDef]" id="642041">argValDefs</a><span class="delimiter">(</span><a title="List[NamesDefaults.this.global.Tree]" id="642605">args</a>: <span title="List[NamesDefaults.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[NamesDefaults.this.global.Type]" id="642606">paramTypes</a>: <span title="List[NamesDefaults.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="NamesDefaults.this.Typer" id="642607">blockTyper</a>: <a href="Typers.scala.html#184062" title="NamesDefaults.this.Typer">Typer</a><span class="delimiter">)</span>: <span title="List[NamesDefaults.this.global.ValDef]">List</span><span class="delimiter">[</span>ValDef<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="NamesDefaults.this.Context" id="642608">context</a> = <a href="#642607" title="NamesDefaults.this.Typer">blockTyper</a>.<a href="Typers.scala.html#184331" title="=&gt; NamesDefaults.this.Context">context</a>
      <span class="keyword">val</span> <a title="List[(NamesDefaults.this.global.Symbol, Boolean, Boolean)]" id="642609">symPs</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[NamesDefaults.this.global.Tree], xs2: List[NamesDefaults.this.global.Type])(f: (NamesDefaults.this.global.Tree, NamesDefaults.this.global.Type) =&gt; (NamesDefaults.this.global.Symbol, Boolean, Boolean))List[(NamesDefaults.this.global.Symbol, Boolean, Boolean)]">map2</a><span class="delimiter">(</span><a href="#642605" title="List[NamesDefaults.this.global.Tree]">args</a>, <a href="#642606" title="List[NamesDefaults.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642655">arg</a>, <a title="NamesDefaults.this.global.Type" id="642656">tpe</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="642657">byName</a> = <a href="../../../reflect/internal/Definitions.scala.html#46393" title="(tp: NamesDefaults.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#642656" title="NamesDefaults.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a href="#642659" title="(NamesDefaults.this.global.Type, Boolean)" class="delimiter">(</a><a href="#642658" title="NamesDefaults.this.global.Type" id="642659">argTpe</a>, <a href="#642658" title="Boolean" id="642660">repeated</a><span class="delimiter">)</span> =
          <span title="(NamesDefaults.this.global.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46394" title="(tp: NamesDefaults.this.global.Type)Boolean">isScalaRepeatedParamType</a><span class="delimiter">(</span><a href="#642656" title="NamesDefaults.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#642655" title="NamesDefaults.this.global.Tree">arg</a> <span title="(NamesDefaults.this.global.Type, Boolean)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(NamesDefaults.this.global.Type, Boolean)">Typed</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642667">expr</a>, Ident<span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object NamesDefaults.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#67899" title="=&gt; NamesDefaults.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span title="(_1: NamesDefaults.this.global.Type, _2: Boolean)(NamesDefaults.this.global.Type, Boolean)" class="delimiter">(</span><a href="#642667" title="NamesDefaults.this.global.Tree">expr</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(NamesDefaults.this.global.Type, Boolean)">_</span> =&gt;
              <span title="(_1: NamesDefaults.this.global.Type, _2: Boolean)(NamesDefaults.this.global.Type, Boolean)" class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46560" title="(arg: NamesDefaults.this.global.Type)NamesDefaults.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#642655" title="NamesDefaults.this.global.Tree">arg</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(_1: NamesDefaults.this.global.Type, _2: Boolean)(NamesDefaults.this.global.Type, Boolean)" class="delimiter">(</span><a href="#642655" title="NamesDefaults.this.global.Tree">arg</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.TermSymbol" id="642661">s</a> = <a href="#642608" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="NamesDefaults.this.global.Symbol" id="642704">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#72659" title="Long" id="642707">newValue</a><span class="delimiter">(</span><a href="Contexts.scala.html#184552" title="=&gt; NamesDefaults.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185112" title="(prefix: String)NamesDefaults.this.global.TermName">freshTermName</a><a title="NamesDefaults.this.global.TermName" id="642705" class="delimiter">(</a><span title="String(&quot;x$&quot;)" class="string">&quot;x$&quot;</span><span class="delimiter">)</span>, <a href="#642655" title="NamesDefaults.this.global.Tree">arg</a>.<a title="NamesDefaults.this.global.Position" id="642706">pos</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.Type" id="642662">valType</a> = <span title="NamesDefaults.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#642657" title="Boolean">byName</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46555" title="(formals: List[NamesDefaults.this.global.Type], restpe: NamesDefaults.this.global.Type)NamesDefaults.this.global.Type">functionType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#642659" title="NamesDefaults.this.global.Type">argTpe</a><span class="delimiter">)</span>
                      <span class="keyword">else</span> <span title="NamesDefaults.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#642660" title="Boolean">repeated</a><span class="delimiter">)</span> <a href="#642659" title="NamesDefaults.this.global.Type">argTpe</a>
                      <span class="keyword">else</span> <a href="#642659" title="NamesDefaults.this.global.Type">argTpe</a>
        <a href="#642661" title="NamesDefaults.this.global.TermSymbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: NamesDefaults.this.global.Type)s.type">setInfo</a><span class="delimiter">(</span><a href="#642662" title="NamesDefaults.this.global.Type">valType</a><span class="delimiter">)</span>
        <span title="(_1: NamesDefaults.this.global.Symbol, _2: Boolean, _3: Boolean)(NamesDefaults.this.global.Symbol, Boolean, Boolean)" class="delimiter">(</span><a href="#642608" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; NamesDefaults.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: NamesDefaults.this.global.Symbol)NamesDefaults.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#642661" title="NamesDefaults.this.global.TermSymbol">s</a><span class="delimiter">)</span>, <a href="#642657" title="Boolean">byName</a>, <a href="#642660" title="Boolean">repeated</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[(NamesDefaults.this.global.Symbol, Boolean, Boolean)], xs2: List[NamesDefaults.this.global.Tree])(f: ((NamesDefaults.this.global.Symbol, Boolean, Boolean), NamesDefaults.this.global.Tree) =&gt; NamesDefaults.this.global.ValDef)List[NamesDefaults.this.global.ValDef]">map2</a><span class="delimiter">(</span><a href="#642609" title="List[(NamesDefaults.this.global.Symbol, Boolean, Boolean)]">symPs</a>, <a href="#642605" title="List[NamesDefaults.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="#642775" title="NamesDefaults.this.global.ValDef" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="NamesDefaults.this.global.ValDef" class="delimiter">(</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="642788">sym</a>, <a title="Boolean" id="642789">byName</a>, <a title="Boolean" id="642790">repeated</a><span class="delimiter">)</span>, <a title="NamesDefaults.this.global.Tree" id="642791">arg</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="NamesDefaults.this.global.Tree" id="642792">body</a> =
            <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#642789" title="Boolean">byName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="NamesDefaults.this.global.Tree" id="642793">res</a> = <a href="#642607" title="NamesDefaults.this.Typer">blockTyper</a>.<a href="Typers.scala.html#184436" title="(tree: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(vparams: List[NamesDefaults.this.global.ValDef], body: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#642791" title="NamesDefaults.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="NamesDefaults.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40639" title="NamesDefaults.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#642608" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>, <a href="#642793" title="NamesDefaults.this.global.Tree">res</a>.<span title="=&gt; NamesDefaults.this.global.Symbol">symbol</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#126010" title="(tree: NamesDefaults.this.global.Tree)Unit">traverse</a> <a href="#642791" title="NamesDefaults.this.global.Tree">arg</a> // fixes #2290
              <a href="#642793" title="NamesDefaults.this.global.Tree">res</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="NamesDefaults.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40639" title="NamesDefaults.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#642608" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>, <a href="#642788" title="NamesDefaults.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#126010" title="(tree: NamesDefaults.this.global.Tree)Unit">traverse</a> <a href="#642791" title="NamesDefaults.this.global.Tree">arg</a> // fixes #4502
              <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#642790" title="Boolean">repeated</a><span class="delimiter">)</span> <a href="#642791" title="NamesDefaults.this.global.Tree">arg</a> <span title="NamesDefaults.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="NamesDefaults.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642825">expr</a>, Ident<span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object NamesDefaults.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#67899" title="=&gt; NamesDefaults.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <a href="#642825" title="NamesDefaults.this.global.Tree">expr</a>
                <span class="keyword">case</span> <span title="NamesDefaults.this.global.Tree">_</span> =&gt;
                  <span class="keyword">val</span> <a title="NamesDefaults.this.global.Select" id="642829">factory</a> = <a href="Analyzer.scala.html#183929" title="(qualifier: NamesDefaults.this.global.Tree, name: NamesDefaults.this.global.Name)NamesDefaults.this.global.Select">Select</a><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object NamesDefaults.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92629" title="(sym: NamesDefaults.this.global.gen.global.Symbol)NamesDefaults.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46432" title="=&gt; NamesDefaults.this.global.Symbol">SeqModule</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object NamesDefaults.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; NamesDefaults.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
                  <a href="#642607" title="NamesDefaults.this.Typer">blockTyper</a>.<a href="Typers.scala.html#184436" title="(tree: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(fun: NamesDefaults.this.global.Tree, args: List[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#642829" title="NamesDefaults.this.global.Select">factory</a>, <span title="(xs: NamesDefaults.this.global.Tree*)List[NamesDefaults.this.global.Tree]">List</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#183136" title="(x: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Tree">resetLocalAttrs</a><span class="delimiter">(</span><a href="#642791" title="NamesDefaults.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#642791" title="NamesDefaults.this.global.Tree">arg</a>
            <span class="delimiter">}</span>
          <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: NamesDefaults.this.global.Position)(tree: NamesDefaults.this.global.ValDef)NamesDefaults.this.global.ValDef">atPos</a><span class="delimiter">(</span><a href="#642792" title="NamesDefaults.this.global.Tree">body</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40610" title="(sym: NamesDefaults.this.global.Symbol, rhs: NamesDefaults.this.global.Tree)NamesDefaults.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#642788" title="NamesDefaults.this.global.Symbol">sym</a>, <a href="#642792" title="NamesDefaults.this.global.Tree">body</a><span class="delimiter">)</span>.<span title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.ValDef">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40097" title="object NamesDefaults.this.global.NoType">NoType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // begin transform
    <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Typers.scala.html#184411" title="(tree: NamesDefaults.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#642033" title="NamesDefaults.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184588" title="=&gt; Option[(NamesDefaults.this.global.Tree, NamesDefaults.this.NamedApplyInfo)]">namedApplyBlockInfo</a>.<span title="=&gt; (NamesDefaults.this.global.Tree, NamesDefaults.this.NamedApplyInfo)">get</span>.<span title="=&gt; NamesDefaults.this.global.Tree">_1</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#642033" title="NamesDefaults.this.global.Tree">tree</a> <span title="NamesDefaults.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      // `fun` is typed. `namelessArgs` might be typed or not, if they are types are kept.
      <span class="keyword">case</span> <span title="NamesDefaults.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="642927">fun</a>, <a title="List[NamesDefaults.this.global.Tree]" id="642928">namelessArgs</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.Tree" id="642929">transformedFun</a> = <a href="#184233" title="(typer: NamesDefaults.this.Typer, mode: Int, pt: NamesDefaults.this.global.Type)(tree: NamesDefaults.this.global.Tree, argPos: Int =&gt; Int)NamesDefaults.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#642030" title="NamesDefaults.this.Typer">typer</a>, <a href="#642031" title="Int">mode</a>, <a href="#642032" title="NamesDefaults.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#642927" title="NamesDefaults.this.global.Tree">fun</a>, <a title="Int" id="642931">x</a> =&gt; <a href="#642931" title="Int">x</a><span class="delimiter">)</span>
        <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: NamesDefaults.this.global.Tree)NamesDefaults.this.global.TreeOps">transformedFun</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="Infer.scala.html#184467" title="(tree: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#642033" title="NamesDefaults.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="Typers.scala.html#184411" title="(tree: NamesDefaults.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#642929" title="NamesDefaults.this.global.Tree">transformedFun</a><span class="delimiter">)</span>, <a href="#642929" title="NamesDefaults.this.global.Tree">transformedFun</a><span class="delimiter">)</span>
          <span class="keyword">val</span> NamedApplyInfo<a href="#642940" title="(Option[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Tree], List[List[NamesDefaults.this.global.Tree]], NamesDefaults.this.Typer)" class="delimiter">(</a><a href="#642939" title="Option[NamesDefaults.this.global.Tree]" id="642940">qual</a>, <a href="#642939" title="List[NamesDefaults.this.global.Tree]" id="642941">targs</a>, <a href="#642939" title="List[List[NamesDefaults.this.global.Tree]]" id="642942">vargss</a>, <a href="#642939" title="NamesDefaults.this.Typer" id="642943">blockTyper</a><span class="delimiter">)</span> =
            <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184588" title="=&gt; Option[(NamesDefaults.this.global.Tree, NamesDefaults.this.NamedApplyInfo)]">namedApplyBlockInfo</a>.<span title="=&gt; (NamesDefaults.this.global.Tree, NamesDefaults.this.NamedApplyInfo)">get</span>.<span title="=&gt; NamesDefaults.this.NamedApplyInfo">_2</span>
          <span class="keyword">val</span> <a title="(NamesDefaults.this.global.Block, List[NamesDefaults.this.global.Tree], NamesDefaults.this.global.Tree)" id="642945">existingBlock</a> @ Block<span class="delimiter">(</span><a href="#642944" title="List[NamesDefaults.this.global.Tree]" id="642946">stats</a>, <a href="#642944" title="NamesDefaults.this.global.Tree" id="642947">funOnly</a><span class="delimiter">)</span> = <a href="#642929" title="NamesDefaults.this.global.Tree">transformedFun</a>

          // type the application without names; put the arguments in definition-site order
          <span class="keyword">val</span> <a title="NamesDefaults.this.global.Tree" id="642948">typedApp</a> = <a href="Typers.scala.html#184413" title="(tree: NamesDefaults.this.global.Tree, fun0: NamesDefaults.this.global.Tree, args: List[NamesDefaults.this.global.Tree], mode: Int, pt: NamesDefaults.this.global.Type)NamesDefaults.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#642033" title="NamesDefaults.this.global.Tree">tree</a>, <a href="#642947" title="NamesDefaults.this.global.Tree">funOnly</a>, <a href="#630818" title="(args: List[NamesDefaults.this.global.Tree], pos: Int =&gt; Int)(implicit evidence$1: ClassManifest[NamesDefaults.this.global.Tree])List[NamesDefaults.this.global.Tree]">reorderArgs</a><a href="Analyzer.scala.html#183929" title="(prefix: scala.reflect.OptManifest[_], clazz: Class[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[NamesDefaults.this.global.Tree]" class="delimiter">(</a><a href="#642928" title="List[NamesDefaults.this.global.Tree]">namelessArgs</a>, <a href="#642034" title="Int =&gt; Int">argPos</a><span class="delimiter">)</span>, <a href="#642031" title="Int">mode</a>, <a href="#642032" title="NamesDefaults.this.global.Type">pt</a><span class="delimiter">)</span>

          <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#642948" title="NamesDefaults.this.global.Tree">typedApp</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="Infer.scala.html#184467" title="(tree: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#642033" title="NamesDefaults.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#642948" title="NamesDefaults.this.global.Tree">typedApp</a> <span title="NamesDefaults.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            // Extract the typed arguments, restore the call-site evaluation order (using
            // ValDef's in the block), change the arguments to these local values.
            <span class="keyword">case</span> <span title="NamesDefaults.this.global.Block">Apply</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="643072">expr</a>, <a title="List[NamesDefaults.this.global.Tree]" id="643073">typedArgs</a><span class="delimiter">)</span> =&gt;
              // typedArgs: definition-site order
              <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.Type]" id="643074">formals</a> = <a href="Infer.scala.html#184089" title="(formals: List[NamesDefaults.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[NamesDefaults.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#643072" title="NamesDefaults.this.global.Tree">expr</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[NamesDefaults.this.global.Type]">paramTypes</a>, <a href="#643073" title="List[NamesDefaults.this.global.Tree]">typedArgs</a>.<span title="=&gt; Int">length</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
              // valDefs: call-site order
              <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.ValDef]" id="643075">valDefs</a> = <a href="#642041" title="(args: List[NamesDefaults.this.global.Tree], paramTypes: List[NamesDefaults.this.global.Type], blockTyper: NamesDefaults.this.Typer)List[NamesDefaults.this.global.ValDef]">argValDefs</a><span class="delimiter">(</span><a href="#641870" title="(args: List[NamesDefaults.this.global.Tree], pos: Int =&gt; Int)(implicit evidence$2: ClassManifest[NamesDefaults.this.global.Tree])List[NamesDefaults.this.global.Tree]">reorderArgsInv</a><a href="Analyzer.scala.html#183929" title="(prefix: scala.reflect.OptManifest[_], clazz: Class[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[NamesDefaults.this.global.Tree]" class="delimiter">(</a><a href="#643073" title="List[NamesDefaults.this.global.Tree]">typedArgs</a>, <a href="#642034" title="Int =&gt; Int">argPos</a><span class="delimiter">)</span>,
                                       <a href="#641870" title="(args: List[NamesDefaults.this.global.Type], pos: Int =&gt; Int)(implicit evidence$2: ClassManifest[NamesDefaults.this.global.Type])List[NamesDefaults.this.global.Type]">reorderArgsInv</a><a href="Analyzer.scala.html#183929" title="(prefix: scala.reflect.OptManifest[_], clazz: Class[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[NamesDefaults.this.global.Type]" class="delimiter">(</a><a href="#643074" title="List[NamesDefaults.this.global.Type]">formals</a>, <a href="#642034" title="Int =&gt; Int">argPos</a><span class="delimiter">)</span>,
                                       <a href="#642943" title="NamesDefaults.this.Typer">blockTyper</a><span class="delimiter">)</span>
              // refArgs: definition-site order again
              <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.gen.global.Tree]" id="643076">refArgs</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[NamesDefaults.this.global.ValDef], xs2: List[NamesDefaults.this.global.Type])(f: (NamesDefaults.this.global.ValDef, NamesDefaults.this.global.Type) =&gt; NamesDefaults.this.global.gen.global.Tree)List[NamesDefaults.this.global.gen.global.Tree]">map2</a><span class="delimiter">(</span><a href="#630818" title="(args: List[NamesDefaults.this.global.ValDef], pos: Int =&gt; Int)(implicit evidence$1: ClassManifest[NamesDefaults.this.global.ValDef])List[NamesDefaults.this.global.ValDef]">reorderArgs</a><a href="Analyzer.scala.html#183929" title="(prefix: scala.reflect.OptManifest[_], clazz: Class[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[NamesDefaults.this.global.ValDef]" class="delimiter">(</a><a href="#643075" title="List[NamesDefaults.this.global.ValDef]">valDefs</a>, <a href="#642034" title="Int =&gt; Int">argPos</a><span class="delimiter">)</span>, <a href="#643074" title="List[NamesDefaults.this.global.Type]">formals</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.ValDef" id="643218">vDef</a>, <a title="NamesDefaults.this.global.Type" id="643219">tpe</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="NamesDefaults.this.global.gen.global.Tree" id="643220">ref</a> = <a href="../Global.scala.html#182860" title="object NamesDefaults.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92629" title="(sym: NamesDefaults.this.global.gen.global.Symbol)NamesDefaults.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#643218" title="NamesDefaults.this.global.ValDef">vDef</a>.<span title="=&gt; NamesDefaults.this.global.Symbol">symbol</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: NamesDefaults.this.global.Position)(tree: NamesDefaults.this.global.gen.global.Tree)NamesDefaults.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#643218" title="NamesDefaults.this.global.ValDef">vDef</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // for by-name parameters, the local value is a nullary function returning the argument
                  <a href="#643219" title="NamesDefaults.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; NamesDefaults.this.global.Symbol">typeSymbol</a> <span title="NamesDefaults.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#46406" title="NamesDefaults.this.global.Apply">ByNameParamClass</a>   =&gt; <a href="Analyzer.scala.html#183929" title="(fun: NamesDefaults.this.global.Tree, args: List[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#643220" title="NamesDefaults.this.global.gen.global.Tree">ref</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#46389" title="NamesDefaults.this.global.Typed">RepeatedParamClass</a> =&gt; <a href="Analyzer.scala.html#183929" title="(expr: NamesDefaults.this.global.Tree, tpt: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#643220" title="NamesDefaults.this.global.gen.global.Tree">ref</a>, <a href="Analyzer.scala.html#183929" title="(name: NamesDefaults.this.global.Name)NamesDefaults.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object NamesDefaults.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#67899" title="=&gt; NamesDefaults.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> <span title="NamesDefaults.this.global.gen.global.Tree">_</span>                  =&gt; <a href="#643220" title="NamesDefaults.this.global.gen.global.Tree">ref</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>
              // cannot call blockTyper.typedBlock here, because the method expr might be partially applied only
              <span class="keyword">val</span> <a title="NamesDefaults.this.global.Tree" id="643077">res</a> = <a href="#642943" title="NamesDefaults.this.Typer">blockTyper</a>.<a href="Typers.scala.html#184413" title="(tree: NamesDefaults.this.global.Tree, fun0: NamesDefaults.this.global.Tree, args: List[NamesDefaults.this.global.Tree], mode: Int, pt: NamesDefaults.this.global.Type)NamesDefaults.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#642033" title="NamesDefaults.this.global.Tree">tree</a>, <a href="#643072" title="NamesDefaults.this.global.Tree">expr</a>, <a href="#643076" title="List[NamesDefaults.this.global.gen.global.Tree]">refArgs</a>, <a href="#642031" title="Int">mode</a>, <a href="#642032" title="NamesDefaults.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="#643077" title="NamesDefaults.this.global.Tree">res</a>.<span title="(pos: NamesDefaults.this.global.Position)res.type">setPos</span><span class="delimiter">(</span><a href="#643077" title="NamesDefaults.this.global.Tree">res</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183792" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="NamesDefaults.this.global.Block" id="643078">block</a> = <a href="Analyzer.scala.html#183929" title="(stats: List[NamesDefaults.this.global.Tree], expr: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Block">Block</a><span class="delimiter">(</span><a href="#642946" title="List[NamesDefaults.this.global.Tree]">stats</a> <a href="#643280" title="(prefix: List[NamesDefaults.this.global.Tree])List[NamesDefaults.this.global.Tree]">:::</a> <a href="#643075" title="List[NamesDefaults.this.global.ValDef]">valDefs</a>, <a href="#643077" title="NamesDefaults.this.global.Tree">res</a><span class="delimiter">)</span>.<span title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.Block">setType</span><span class="delimiter">(</span><a href="#643077" title="NamesDefaults.this.global.Tree">res</a>.<span title="=&gt; NamesDefaults.this.global.Type">tpe</span><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)NamesDefaults.this.global.Block">setPos</span><span class="delimiter">(</span><a href="#642033" title="NamesDefaults.this.global.Tree">tree</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span><span class="delimiter">)</span>
              <a href="#642038" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184589" title="(x$1: Option[(NamesDefaults.this.global.Tree, NamesDefaults.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> =
                <span title="(x: (NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo))Some[(NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo)]">Some</span><span class="delimiter">(</span><span title="(_1: NamesDefaults.this.global.Block, _2: NamesDefaults.this.NamedApplyInfo)(NamesDefaults.this.global.Block, NamesDefaults.this.NamedApplyInfo)" class="delimiter">(</span><a href="#643078" title="NamesDefaults.this.global.Block">block</a>, <a href="#644326" title="(qual: Option[NamesDefaults.this.global.Tree], targs: List[NamesDefaults.this.global.Tree], vargss: List[List[NamesDefaults.this.global.Tree]], blockTyper: NamesDefaults.this.Typer)NamesDefaults.this.NamedApplyInfo">NamedApplyInfo</a><span class="delimiter">(</span><a href="#642940" title="Option[NamesDefaults.this.global.Tree]">qual</a>, <a href="#642941" title="List[NamesDefaults.this.global.Tree]">targs</a>, <a href="#642942" title="List[List[NamesDefaults.this.global.Tree]]">vargss</a> <span title="(elem: List[NamesDefaults.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[NamesDefaults.this.global.Tree]],List[NamesDefaults.this.global.Tree],List[List[NamesDefaults.this.global.Tree]]])List[List[NamesDefaults.this.global.Tree]]">:+</span> <a href="#643076" title="List[NamesDefaults.this.global.gen.global.Tree]">refArgs</a>, <a href="#642943" title="NamesDefaults.this.Typer">blockTyper</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#643078" title="NamesDefaults.this.global.Block">block</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      <span class="keyword">case</span> <a title="NamesDefaults.this.global.Tree" id="643371">baseFun</a> =&gt; // also treats &quot;case TypeApply(fun, targs)&quot; and &quot;case Select(New(..), &lt;init&gt;)&quot;
        <a href="#642040" title="(baseFun: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Tree">baseFunBlock</a><span class="delimiter">(</span><a href="#643371" title="NamesDefaults.this.global.Tree">baseFun</a><span class="delimiter">)</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](args: List[T], params: List[NamesDefaults.this.global.Symbol], argName: T =&gt; Option[NamesDefaults.this.global.Name])(List[NamesDefaults.this.global.Symbol], Boolean)" id="184234">missingParams</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="630868">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="630862">args</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="List[NamesDefaults.this.global.Symbol]" id="630863">params</a>: <span title="List[NamesDefaults.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="T =&gt; Option[NamesDefaults.this.global.Name]" id="630866">argName</a>: T =&gt; Option<span class="delimiter">[</span>Name<span class="delimiter">]</span> = <a href="#184224" title="(arg: NamesDefaults.this.global.Tree)Option[NamesDefaults.this.global.Name]">nameOf</a> _<span class="delimiter">)</span>: <span title="(List[NamesDefaults.this.global.Symbol], Boolean)" class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[T]" id="643374">namedArgs</a> = <a href="#630862" title="List[T]">args</a>.<span title="(p: T =&gt; Boolean)List[T]">dropWhile</span><span class="delimiter">(</span><a title="T" id="643382">arg</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Option[NamesDefaults.this.global.Name]" id="643383">n</a> = <a href="#630866" title="(v1: T)Option[NamesDefaults.this.global.Name]">argName</a><span class="delimiter">(</span><a href="#643382" title="T">arg</a><span class="delimiter">)</span>
      <a href="#643383" title="Option[NamesDefaults.this.global.Name]">n</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#630863" title="List[NamesDefaults.this.global.Symbol]">params</a>.<span title="(p: NamesDefaults.this.global.Symbol =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="643391">p</a> =&gt; <a href="#643391" title="NamesDefaults.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#643383" title="Option[NamesDefaults.this.global.Name]">n</a>.<span title="=&gt; NamesDefaults.this.global.Name">get</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.Symbol]" id="643375">namedParams</a> = <a href="#630863" title="List[NamesDefaults.this.global.Symbol]">params</a>.<span title="(n: Int)List[NamesDefaults.this.global.Symbol]">drop</span><span class="delimiter">(</span><a href="#630862" title="List[T]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <a href="#643374" title="List[T]">namedArgs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    // missing: keep those with a name which doesn't exist in namedArgs
    <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.Symbol]" id="643376">missingParams</a> = <a href="#643375" title="List[NamesDefaults.this.global.Symbol]">namedParams</a>.<span title="(p: NamesDefaults.this.global.Symbol =&gt; Boolean)List[NamesDefaults.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="643404">p</a> =&gt; <a href="#643374" title="List[T]">namedArgs</a>.<span title="(p: T =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a title="T" id="643411">arg</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Option[NamesDefaults.this.global.Name]" id="643412">n</a> = <a href="#630866" title="(v1: T)Option[NamesDefaults.this.global.Name]">argName</a><span class="delimiter">(</span><a href="#643411" title="T">arg</a><span class="delimiter">)</span>
      <a href="#643412" title="Option[NamesDefaults.this.global.Name]">n</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#643412" title="Option[NamesDefaults.this.global.Name]">n</a>.<span title="=&gt; NamesDefaults.this.global.Name">get</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#643404" title="NamesDefaults.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a>
    <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Boolean" id="643377">allPositional</a> = <a href="#643376" title="List[NamesDefaults.this.global.Symbol]">missingParams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#643375" title="List[NamesDefaults.this.global.Symbol]">namedParams</a>.<span title="=&gt; Int">length</span>
    <span title="(_1: List[NamesDefaults.this.global.Symbol], _2: Boolean)(List[NamesDefaults.this.global.Symbol], Boolean)" class="delimiter">(</span><a href="#643376" title="List[NamesDefaults.this.global.Symbol]">missingParams</a>, <a href="#643377" title="Boolean">allPositional</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * Extend the argument list `givenArgs` with default arguments. Defaults are added
   * as named arguments calling the corresponding default getter.
   *
   * Example: given
   *   def foo(x: Int = 2, y: String = &quot;def&quot;)
   *   foo(y = &quot;lt&quot;)
   * the argument list (y = &quot;lt&quot;) is transformed to (y = &quot;lt&quot;, x = foo$default$1())
   */
  <span class="keyword">def</span> <a title="(givenArgs: List[NamesDefaults.this.global.Tree], qual: Option[NamesDefaults.this.global.Tree], targs: List[NamesDefaults.this.global.Tree], previousArgss: List[List[NamesDefaults.this.global.Tree]], params: List[NamesDefaults.this.global.Symbol], pos: scala.tools.nsc.util.Position, context: NamesDefaults.this.Context)(List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Symbol])" id="184237">addDefaults</a><span class="delimiter">(</span><a title="List[NamesDefaults.this.global.Tree]" id="643431">givenArgs</a>: <span title="List[NamesDefaults.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Option[NamesDefaults.this.global.Tree]" id="643432">qual</a>: <span title="Option[NamesDefaults.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[NamesDefaults.this.global.Tree]" id="643433">targs</a>: <span title="List[NamesDefaults.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>,
                  <a title="List[List[NamesDefaults.this.global.Tree]]" id="643434">previousArgss</a>: <span title="List[List[NamesDefaults.this.global.Tree]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="List[NamesDefaults.this.global.Symbol]" id="643435">params</a>: <span title="List[NamesDefaults.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                  <a title="scala.tools.nsc.util.Position" id="643436">pos</a>: util.<a href="../util/Position.scala.html#34604" title="scala.tools.nsc.util.Position">Position</a>, <a title="NamesDefaults.this.Context" id="643437">context</a>: <a href="Contexts.scala.html#183956" title="NamesDefaults.this.Context">Context</a><span class="delimiter">)</span>: <span title="(List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Symbol])" class="delimiter">(</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Symbol])" class="keyword">if</span> <span class="delimiter">(</span><a href="#643431" title="List[NamesDefaults.this.global.Tree]">givenArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#643435" title="List[NamesDefaults.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#643444" title="(List[NamesDefaults.this.global.Symbol], Boolean)" class="delimiter">(</a><a href="#643443" title="List[NamesDefaults.this.global.Symbol]" id="643444">missing</a>, <a href="#643443" title="Boolean" id="643445">positional</a><span class="delimiter">)</span> = <a href="#184234" title="(args: List[NamesDefaults.this.global.Tree], params: List[NamesDefaults.this.global.Symbol], argName: NamesDefaults.this.global.Tree =&gt; Option[NamesDefaults.this.global.Name])(List[NamesDefaults.this.global.Symbol], Boolean)">missingParams</a><span title="(List[NamesDefaults.this.global.Symbol], Boolean) @unchecked" class="delimiter">(</span><a href="#643431" title="List[NamesDefaults.this.global.Tree]">givenArgs</a>, <a href="#643435" title="List[NamesDefaults.this.global.Symbol]">params</a><span class="delimiter">)</span>
      <span title="(List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Symbol])" class="keyword">if</span> <span class="delimiter">(</span><a href="#643444" title="List[NamesDefaults.this.global.Symbol]">missing</a> <span title="(p: NamesDefaults.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#643497" title="NamesDefaults.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.gen.global.Tree]" id="643498">defaultArgs</a> = <a href="#643444" title="List[NamesDefaults.this.global.Symbol]">missing</a> <span title="(f: NamesDefaults.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[NamesDefaults.this.global.gen.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[NamesDefaults.this.global.Symbol],NamesDefaults.this.global.gen.global.Tree,List[NamesDefaults.this.global.gen.global.Tree]])List[NamesDefaults.this.global.gen.global.Tree]">flatMap</span> <span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="643515">p</a> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="NamesDefaults.this.global.Symbol" id="643516">defGetter</a> = <a href="#184238" title="(param: NamesDefaults.this.global.Symbol, context: NamesDefaults.this.Context)NamesDefaults.this.global.Symbol">defaultGetter</a><span class="delimiter">(</span><a href="#643515" title="NamesDefaults.this.global.Symbol">p</a>, <a href="#643437" title="NamesDefaults.this.Context">context</a><span class="delimiter">)</span>
          <span title="Iterable[NamesDefaults.this.global.gen.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#643516" title="NamesDefaults.this.global.Symbol">defGetter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object NamesDefaults.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span> // prevent crash in erroneous trees, #3649
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="NamesDefaults.this.global.gen.global.Tree" id="643581">default1</a> = <a href="#643432" title="Option[NamesDefaults.this.global.Tree]">qual</a> <span title="NamesDefaults.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="NamesDefaults.this.global.gen.global.Tree">Some</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="643584">q</a><span class="delimiter">)</span> =&gt; <a href="../Global.scala.html#182860" title="object NamesDefaults.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92638" title="(qual: NamesDefaults.this.global.gen.global.Tree, sym: NamesDefaults.this.global.gen.global.Symbol)NamesDefaults.this.global.gen.global.Tree">mkAttributedSelect</a><span class="delimiter">(</span><a href="#643584" title="NamesDefaults.this.global.Tree">q</a>.<span title="=&gt; q.type">duplicate</span>, <a href="#643516" title="NamesDefaults.this.global.Symbol">defGetter</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="NamesDefaults.this.global.gen.global.Tree">None</span>    =&gt; <a href="../Global.scala.html#182860" title="object NamesDefaults.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92629" title="(sym: NamesDefaults.this.global.gen.global.Symbol)NamesDefaults.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#643516" title="NamesDefaults.this.global.Symbol">defGetter</a><span class="delimiter">)</span>

            <span class="delimiter">}</span>
            <a href="#643581" title="NamesDefaults.this.global.gen.global.Tree">default1</a> = <span title="NamesDefaults.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#643433" title="List[NamesDefaults.this.global.Tree]">targs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#643581" title="NamesDefaults.this.global.gen.global.Tree">default1</a>
                       <span class="keyword">else</span> <a href="Analyzer.scala.html#183929" title="(fun: NamesDefaults.this.global.Tree, args: List[NamesDefaults.this.global.Tree])NamesDefaults.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#643581" title="NamesDefaults.this.global.gen.global.Tree">default1</a>, <a href="#643433" title="List[NamesDefaults.this.global.Tree]">targs</a>.<span title="(f: NamesDefaults.this.global.Tree =&gt; NamesDefaults.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[NamesDefaults.this.global.Tree],NamesDefaults.this.global.Tree,List[NamesDefaults.this.global.Tree]])List[NamesDefaults.this.global.Tree]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,NamesDefaults.this.global.Tree,List[NamesDefaults.this.global.Tree]]" class="delimiter">(</span><a href="#643607" title="NamesDefaults.this.global.Tree">_</a>.<span title="=&gt; x$10.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="NamesDefaults.this.global.gen.global.Tree" id="643582">default2</a> = <span class="delimiter">(</span><a href="#643581" title="NamesDefaults.this.global.gen.global.Tree">default1</a> <a href="#643638" title="(z: NamesDefaults.this.global.gen.global.Tree)(op: (NamesDefaults.this.global.gen.global.Tree, List[NamesDefaults.this.global.Tree]) =&gt; NamesDefaults.this.global.gen.global.Tree)NamesDefaults.this.global.gen.global.Tree">/:</a> <a href="#643434" title="List[List[NamesDefaults.this.global.Tree]]">previousArgss</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.gen.global.Tree" id="643651">tree</a>, <a title="List[NamesDefaults.this.global.Tree]" id="643652">args</a><span class="delimiter">)</span> =&gt;
              <a href="Analyzer.scala.html#183929" title="(fun: NamesDefaults.this.global.Tree, args: List[NamesDefaults.this.global.Tree])NamesDefaults.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#643651" title="NamesDefaults.this.global.gen.global.Tree">tree</a>, <a href="#643652" title="List[NamesDefaults.this.global.Tree]">args</a>.<span title="(f: NamesDefaults.this.global.Tree =&gt; NamesDefaults.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[NamesDefaults.this.global.Tree],NamesDefaults.this.global.Tree,List[NamesDefaults.this.global.Tree]])List[NamesDefaults.this.global.Tree]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,NamesDefaults.this.global.Tree,List[NamesDefaults.this.global.Tree]]" class="delimiter">(</span><a href="#643679" title="NamesDefaults.this.global.Tree">_</a>.<span title="=&gt; x$12.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="(x: NamesDefaults.this.global.gen.global.Tree)Some[NamesDefaults.this.global.gen.global.Tree]">Some</span><span title="(xo: Option[NamesDefaults.this.global.gen.global.Tree])Iterable[NamesDefaults.this.global.gen.global.Tree]" class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: NamesDefaults.this.global.Position)(tree: NamesDefaults.this.global.gen.global.Tree)NamesDefaults.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#643436" title="scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="NamesDefaults.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#643445" title="Boolean">positional</a><span class="delimiter">)</span> <a href="#643582" title="NamesDefaults.this.global.gen.global.Tree">default2</a>
              <span class="keyword">else</span> <a href="../ast/Trees.scala.html#251925" title="(lhs: NamesDefaults.this.global.Tree, rhs: NamesDefaults.this.global.Tree)NamesDefaults.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(name: NamesDefaults.this.global.Name)NamesDefaults.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#643515" title="NamesDefaults.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#643582" title="NamesDefaults.this.global.gen.global.Tree">default2</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        <span title="(_1: List[NamesDefaults.this.global.gen.global.Tree], _2: scala.collection.immutable.Nil.type)(List[NamesDefaults.this.global.gen.global.Tree], scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="#643431" title="List[NamesDefaults.this.global.Tree]">givenArgs</a> <a href="#643816" title="(prefix: List[NamesDefaults.this.global.gen.global.Tree])List[NamesDefaults.this.global.gen.global.Tree]">:::</a> <a href="#643498" title="List[NamesDefaults.this.global.gen.global.Tree]">defaultArgs</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(_1: List[NamesDefaults.this.global.Tree], _2: List[NamesDefaults.this.global.Symbol])(List[NamesDefaults.this.global.Tree], List[NamesDefaults.this.global.Symbol])" class="delimiter">(</span><a href="#643431" title="List[NamesDefaults.this.global.Tree]">givenArgs</a>, <a href="#643444" title="List[NamesDefaults.this.global.Symbol]">missing</a> <span title="(p: NamesDefaults.this.global.Symbol =&gt; Boolean)List[NamesDefaults.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#643835" title="NamesDefaults.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(_1: List[NamesDefaults.this.global.Tree], _2: scala.collection.immutable.Nil.type)(List[NamesDefaults.this.global.Tree], scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="#643431" title="List[NamesDefaults.this.global.Tree]">givenArgs</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /**
   * For a parameter with default argument, find the method symbol of
   * the default getter.
   */
  <span class="keyword">def</span> <a title="(param: NamesDefaults.this.global.Symbol, context: NamesDefaults.this.Context)NamesDefaults.this.global.Symbol" id="184238">defaultGetter</a><span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="643517">param</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="NamesDefaults.this.global.Symbol">Symbol</a>, <a title="NamesDefaults.this.Context" id="643518">context</a>: <a href="Contexts.scala.html#183956" title="NamesDefaults.this.Context">Context</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="NamesDefaults.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="643844">i</a> = <a href="#643517" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[NamesDefaults.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[NamesDefaults.this.global.Symbol] =&gt; scala.collection.GenTraversableOnce[NamesDefaults.this.global.Symbol])List[NamesDefaults.this.global.Symbol]">flatten</span>.<span title="(p: NamesDefaults.this.global.Symbol =&gt; Boolean)Int">indexWhere</span><span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="643899">p</a> =&gt; <a href="#643899" title="NamesDefaults.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#643517" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
    <span title="NamesDefaults.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#643844" title="Int">i</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="NamesDefaults.this.global.TermName" id="643913">defGetterName</a> = <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object NamesDefaults.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60694" title="(name: NamesDefaults.this.global.Name, pos: Int)NamesDefaults.this.global.TermName">defaultGetterName</a><span class="delimiter">(</span><a href="#643517" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a>, <a href="#643844" title="Int">i</a><span class="delimiter">)</span>
      <span title="NamesDefaults.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#643517" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.Symbol" id="643917">mod</a> = <a href="Namers.scala.html#183993" title="(original: NamesDefaults.this.global.Symbol, ctx: NamesDefaults.this.Context)NamesDefaults.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#643517" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>, <a href="#643518" title="NamesDefaults.this.Context">context</a><span class="delimiter">)</span>
        <a href="#643917" title="NamesDefaults.this.global.Symbol">mod</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; NamesDefaults.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: NamesDefaults.this.global.Name)NamesDefaults.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#643913" title="NamesDefaults.this.global.TermName">defGetterName</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        // isClass also works for methods in objects, owner is the ModuleClassSymbol
        <span title="NamesDefaults.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#643517" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // .toInterface: otherwise we get the method symbol of the impl class
          <a href="#643517" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#48009" title="=&gt; NamesDefaults.this.global.Symbol">toInterface</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; NamesDefaults.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: NamesDefaults.this.global.Name)NamesDefaults.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#643913" title="NamesDefaults.this.global.TermName">defGetterName</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          // the owner of the method is another method. find the default
          // getter in the context.
          <a href="#643518" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184678" title="(name: NamesDefaults.this.global.Name, expectedOwner: NamesDefaults.this.global.Symbol)NamesDefaults.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#643913" title="NamesDefaults.this.global.TermName">defGetterName</a>, <a href="#643517" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; NamesDefaults.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object NamesDefaults.this.global.NoSymbol">NoSymbol</a>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](context: NamesDefaults.this.Context)(fn: List[NamesDefaults.this.global.Symbol] =&gt; T)T" id="184239">savingUndeterminedTParams</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="184241">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="NamesDefaults.this.Context" id="643934">context</a>: <a href="Contexts.scala.html#183956" title="NamesDefaults.this.Context">Context</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[NamesDefaults.this.global.Symbol] =&gt; T" id="643935">fn</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span>: <a href="#184241" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.Symbol]" id="643938">savedParams</a>    = <a href="#643934" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184631" title="()List[NamesDefaults.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Boolean" id="643939">savedReporting</a> = <a href="#643934" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184603" title="=&gt; Boolean">reportAmbiguousErrors</a>
    
    <a href="#643934" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184604" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">try</span> <a href="#643935" title="(v1: List[NamesDefaults.this.global.Symbol])T">fn</a><span class="delimiter">(</span><a href="#643938" title="List[NamesDefaults.this.global.Symbol]">savedParams</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#643934" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184604" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <a href="#643939" title="Boolean">savedReporting</a>
      //@M note that we don't get here when an ambiguity was detected (during the computation of res),
      // as errorTree throws an exception
      <a href="#643934" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[NamesDefaults.this.global.Symbol])Unit">undetparams</a> = <a href="#643938" title="List[NamesDefaults.this.global.Symbol]">savedParams</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Fast path for ambiguous assignment check.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(context: NamesDefaults.this.Context, name: NamesDefaults.this.global.Name)Boolean" id="184242">isNameInScope</a><span class="delimiter">(</span><a title="NamesDefaults.this.Context" id="643942">context</a>: <a href="Contexts.scala.html#183956" title="NamesDefaults.this.Context">Context</a>, <a title="NamesDefaults.this.global.Name" id="643943">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="NamesDefaults.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="#643942" title="NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184659" title="=&gt; List[NamesDefaults.this.Context]">enclosingContextChain</a> <span title="(p: NamesDefaults.this.Context =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="NamesDefaults.this.Context" id="643958">ctx</a> =&gt;
         <span class="delimiter">(</span><a href="#643958" title="NamesDefaults.this.Context">ctx</a>.<a href="Contexts.scala.html#184561" title="=&gt; NamesDefaults.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61761" title="(name: NamesDefaults.this.global.Name)NamesDefaults.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#643943" title="NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#643958" title="NamesDefaults.this.Context">ctx</a>.<a href="Contexts.scala.html#184558" title="=&gt; NamesDefaults.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47930" title="=&gt; NamesDefaults.this.global.Type">rawInfo</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: NamesDefaults.this.global.Name)NamesDefaults.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#643943" title="NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object NamesDefaults.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">)</span>
  
  /** A full type check is very expensive; let's make sure there's a name
   *  somewhere which could potentially be ambiguous before we go that route.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(typer: NamesDefaults.this.Typer, param: NamesDefaults.this.global.Symbol, arg: NamesDefaults.this.global.Tree)Boolean" id="184243">isAmbiguousAssignment</a><span class="delimiter">(</span><a title="NamesDefaults.this.Typer" id="643974">typer</a>: <a href="Typers.scala.html#184062" title="NamesDefaults.this.Typer">Typer</a>, <a title="NamesDefaults.this.global.Symbol" id="643975">param</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="NamesDefaults.this.global.Symbol">Symbol</a>, <a title="NamesDefaults.this.global.Tree" id="643976">arg</a>: <span title="NamesDefaults.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#643974" title="NamesDefaults.this.Typer">typer</a>.context
    <a href="#184242" title="(context: NamesDefaults.this.Context, name: NamesDefaults.this.global.Name)Boolean">isNameInScope</a><span class="delimiter">(</span><a href="Typers.scala.html#184331" title="=&gt; NamesDefaults.this.Context">context</a>, <a href="#643975" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
      // for named arguments, check whether the assignment expression would
      // typecheck. if it does, report an ambiguous error.
      <span class="keyword">val</span> <a title="NamesDefaults.this.global.Type" id="643980">paramtpe</a> = <a href="#643975" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; NamesDefaults.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42807" title="(owner: NamesDefaults.this.global.Symbol)NamesDefaults.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#643975" title="NamesDefaults.this.global.Symbol">param</a><span class="delimiter">)</span>
      // replace type parameters by wildcard. in the below example we need to
      // typecheck (x = 1) with wildcard (not T) so that it succeeds.
      //   def f[T](x: T) = x
      //   var x = 0
      //   f(x = 1)   &lt;&lt;  &quot;x = 1&quot; typechecks with expected type WildcardType
      <a href="#184239" title="(context: NamesDefaults.this.Context)(fn: List[NamesDefaults.this.global.Symbol] =&gt; Boolean)Boolean">savingUndeterminedTParams</a><span class="delimiter">(</span><a href="Typers.scala.html#184331" title="=&gt; NamesDefaults.this.Context">context</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="List[NamesDefaults.this.global.Symbol]" id="643987">udp</a> =&gt;
        <span class="keyword">val</span> <a title="NamesDefaults.this.global.SubstTypeMap" id="643988">subst</a> = <a href="#643989" title="NamesDefaults.this.global.SubstTypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40258" title="anonymous class $anon extends NamesDefaults.this.global.SubstTypeMap" id="643989">SubstTypeMap</a><span class="delimiter">(</span><a href="#643987" title="List[NamesDefaults.this.global.Symbol]">udp</a>, <a href="#643987" title="List[NamesDefaults.this.global.Symbol]">udp</a> <span title="(f: NamesDefaults.this.global.Symbol =&gt; NamesDefaults.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[NamesDefaults.this.global.Symbol],NamesDefaults.this.global.WildcardType.type,List[NamesDefaults.this.global.Type]])List[NamesDefaults.this.global.Type]">map</span> <span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="644017">_</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40092" title="object NamesDefaults.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: NamesDefaults.this.global.Type)NamesDefaults.this.global.Type" id="643991">apply</a><span class="delimiter">(</span><a title="NamesDefaults.this.global.Type" id="643992">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="NamesDefaults.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="NamesDefaults.this.global.Type">Type</a> = <a href="#643989" title="NamesDefaults.this.global.SubstTypeMap" class="keyword">super</a>.<a href="../../../reflect/internal/Types.scala.html#127621" title="(tp0: NamesDefaults.this.global.Type)NamesDefaults.this.global.Type">apply</a><span class="delimiter">(</span><a href="#643992" title="NamesDefaults.this.global.Type">tp</a> <span title="NamesDefaults.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="NamesDefaults.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#46406" title="=&gt; NamesDefaults.this.global.Symbol">ByNameParamClass</a>, <a title="NamesDefaults.this.global.Type" id="644055">x</a> :: <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#644055" title="NamesDefaults.this.global.Type">x</a>
            <span class="keyword">case</span> <span title="NamesDefaults.this.global.Type">_</span>                                      =&gt; <a href="#643992" title="NamesDefaults.this.global.Type">tp</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // This throws an exception which is caught in `tryTypedApply` (as it
        // uses `silent`) - unfortunately, tryTypedApply recovers from the
        // exception if you use errorTree(arg, ...) and conforms is allowed as
        // a view (see tryImplicit in Implicits) because it tries to produce a
        // new qualifier (if the old one was P, the new one will be
        // conforms.apply(P)), and if that works, it pretends nothing happened.
        //
        // To make sure tryTypedApply fails, we would like to pass EmptyTree
        // instead of arg, but can't do that because eventually setType(ErrorType)
        // is called, and EmptyTree can only be typed NoType.  Thus we need to
        // disable conforms as a view...
        <span class="keyword">try</span> <a href="#643974" title="NamesDefaults.this.Typer">typer</a>.<a href="Typers.scala.html#184363" title="(op: NamesDefaults.this.Typer =&gt; NamesDefaults.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: NamesDefaults.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#644097" title="NamesDefaults.this.Typer">_</a>.<a href="Typers.scala.html#184438" title="(tree: NamesDefaults.this.global.Tree, pt: NamesDefaults.this.global.Type)NamesDefaults.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#643976" title="NamesDefaults.this.global.Tree">arg</a>, <a href="../../../reflect/internal/Types.scala.html#127621" title="(tp0: NamesDefaults.this.global.Type)NamesDefaults.this.global.Type">subst</a><span class="delimiter">(</span><a href="#643980" title="NamesDefaults.this.global.Type">paramtpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="644126">t</a>: <span title="NamesDefaults.this.global.Tree">Tree</span>  =&gt; <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: NamesDefaults.this.global.Tree)NamesDefaults.this.global.TreeOps">t</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span>        =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          // `silent` only catches and returns TypeErrors which are not
          // CyclicReferences.  Fix for #3685
          <span class="keyword">case</span> <a title="Boolean" id="644129">cr</a> @ CyclicReference<span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="644132">sym</a>, _<span class="delimiter">)</span> =&gt;
            <span class="delimiter">(</span><a href="#644132" title="NamesDefaults.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#643975" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#644132" title="NamesDefaults.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47991" title="=&gt; NamesDefaults.this.global.Symbol">accessedOrSelf</a>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              <a href="Typers.scala.html#184331" title="=&gt; NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184653" title="(pos: NamesDefaults.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#644132" title="NamesDefaults.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; NamesDefaults.this.global.Position">pos</a>,
                <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;variable definition needs type because '%s' is used as a named argument in its body.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#644132" title="NamesDefaults.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#643974" title="NamesDefaults.this.Typer">typer</a>.<a href="Typers.scala.html#184322" title="=&gt; NamesDefaults.this.Inferencer">infer</a>.<a href="Infer.scala.html#184467" title="(tree: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#643976" title="NamesDefaults.this.global.Tree">arg</a><span class="delimiter">)</span>
              <span title="Boolean(true)" class="keyword">true</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   * Removes name assignments from args. Additionally, returns an array mapping
   * argument indicies from call-site-order to definition-site-order.
   *
   * Verifies that names are not specified twice, positional args don't appear
   * after named ones.
   */
  <span class="keyword">def</span> <a title="(typer: NamesDefaults.this.Typer)(args: List[NamesDefaults.this.global.Tree], params: List[NamesDefaults.this.global.Symbol])(List[NamesDefaults.this.global.Tree], Array[Int])" id="184244">removeNames</a><span class="delimiter">(</span><a title="NamesDefaults.this.Typer" id="644156">typer</a>: <a href="Typers.scala.html#184062" title="NamesDefaults.this.Typer">Typer</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[NamesDefaults.this.global.Tree]" id="644157">args</a>: <span title="List[NamesDefaults.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[NamesDefaults.this.global.Symbol]" id="644158">params</a>: <span title="List[NamesDefaults.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[NamesDefaults.this.global.Tree], Array[Int])" class="delimiter">(</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span>, Array<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#644156" title="NamesDefaults.this.Typer">typer</a>.context
    // maps indices from (order written by user) to (order of definition)
    <span class="keyword">val</span> <a title="Array[Int]" id="644161">argPos</a>            = <span title="object Array">Array</span>.<span title="(n: Int)(elem: =&gt; Int)(implicit evidence$9: scala.reflect.ClassManifest[Int])Array[Int]">fill</span><span class="delimiter">(</span><a href="#644157" title="List[NamesDefaults.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span title="=&gt; scala.reflect.AnyValManifest[Int]" class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="Boolean" id="644162">positionalAllowed</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">val</span> <a title="List[NamesDefaults.this.global.Tree]" id="644163">namelessArgs</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39601" title="(xs: List[NamesDefaults.this.global.Tree])(f: (NamesDefaults.this.global.Tree, Int) =&gt; NamesDefaults.this.global.Tree)List[NamesDefaults.this.global.Tree]">mapWithIndex</a><span class="delimiter">(</span><a href="#644157" title="List[NamesDefaults.this.global.Tree]">args</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="NamesDefaults.this.global.Tree" id="644218">arg</a>, <a title="Int" id="644219">index</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">def</span> <a title="(msg: String)NamesDefaults.this.global.Tree" id="644220">fail</a><span class="delimiter">(</span><a title="String" id="644221">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#644156" title="NamesDefaults.this.Typer">typer</a>.<a href="Typers.scala.html#184322" title="=&gt; NamesDefaults.this.Inferencer">infer</a>.<a href="Infer.scala.html#184471" title="(tree: NamesDefaults.this.global.Tree, msg: String)NamesDefaults.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#644218" title="NamesDefaults.this.global.Tree">arg</a>, <a href="#644221" title="String">msg</a><span class="delimiter">)</span>
      <a href="#644218" title="NamesDefaults.this.global.Tree">arg</a> <span title="NamesDefaults.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="NamesDefaults.this.global.Tree" id="644224">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="NamesDefaults.this.global.Name" id="644230">name</a><span class="delimiter">)</span>, <a title="NamesDefaults.this.global.Tree" id="644231">rhs</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="(param: NamesDefaults.this.global.Symbol)Boolean" id="644232">matchesName</a><span class="delimiter">(</span><a title="NamesDefaults.this.global.Symbol" id="644234">param</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="NamesDefaults.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#644234" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
            <span class="delimiter">(</span><a href="#644234" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#644230" title="NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#644234" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47838" title="=&gt; Option[NamesDefaults.this.global.TermName]">deprecatedParamName</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">Some</span><span class="delimiter">(</span><a href="#644230" title="NamesDefaults.this.global.Name">`name`</a><span class="delimiter">)</span> =&gt;
                <a href="Typers.scala.html#184331" title="=&gt; NamesDefaults.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; NamesDefaults.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185133" title="(pos: NamesDefaults.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#644224" title="NamesDefaults.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>, 
                  <span title="String(&quot;the parameter name &quot;)" class="string">&quot;the parameter name &quot;</span><span title="(x$1: Any)String">+</span> <a href="#644230" title="NamesDefaults.this.global.Name">name</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; has been deprecated. Use &quot;)" class="string">&quot; has been deprecated. Use &quot;</span><span title="(x$1: Any)String">+</span> <a href="#644234" title="NamesDefaults.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; NamesDefaults.this.global.Name">name</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; instead.&quot;)" class="string">&quot; instead.&quot;</span><span class="delimiter">)</span>
                <span title="Boolean(true)" class="keyword">true</span>
              <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="644233">pos</a> = <a href="#644158" title="List[NamesDefaults.this.global.Symbol]">params</a> <span title="(p: NamesDefaults.this.global.Symbol =&gt; Boolean)Int">indexWhere</span> <a href="#644232" title="(param: NamesDefaults.this.global.Symbol)Boolean">matchesName</a>
          <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#644233" title="Int">pos</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#644162" title="Boolean">positionalAllowed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#644161" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#644219" title="Int">index</a><span class="delimiter">)</span> = <a href="#644219" title="Int">index</a>
              // prevent isNamed from being true when calling doTypedApply recursively,
              // treat the arg as an assignment of type Unit
              <a href="Analyzer.scala.html#183929" title="(lhs: NamesDefaults.this.global.Tree, rhs: NamesDefaults.this.global.Tree)NamesDefaults.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#644224" title="NamesDefaults.this.global.AssignOrNamedArg">arg</a>.<a href="../ast/Trees.scala.html#251928" title="=&gt; NamesDefaults.this.global.Tree">lhs</a>, <a href="#644231" title="NamesDefaults.this.global.Tree">rhs</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)NamesDefaults.this.global.Assign">setPos</span> <a href="#644224" title="NamesDefaults.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; NamesDefaults.this.global.Position">pos</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#644220" title="(msg: String)NamesDefaults.this.global.Tree">fail</a><span class="delimiter">(</span><span title="String(&quot;unknown parameter name: &quot;)" class="string">&quot;unknown parameter name: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#644230" title="NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#644161" title="implicit scala.Predef.intArrayOps : (xs: Array[Int])scala.collection.mutable.ArrayOps[Int]">argPos</a> <span title="(elem: Any)Boolean">contains</span> <a href="#644233" title="Int">pos</a><span class="delimiter">)</span>
            <a href="#644220" title="(msg: String)NamesDefaults.this.global.Tree">fail</a><span class="delimiter">(</span><span title="String(&quot;parameter specified twice: &quot;)" class="string">&quot;parameter specified twice: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#644230" title="NamesDefaults.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184243" title="(typer: NamesDefaults.this.Typer, param: NamesDefaults.this.global.Symbol, arg: NamesDefaults.this.global.Tree)Boolean">isAmbiguousAssignment</a><span class="delimiter">(</span><a href="#644156" title="NamesDefaults.this.Typer">typer</a>, <a href="#644158" title="(n: Int)NamesDefaults.this.global.Symbol">params</a><span class="delimiter">(</span><a href="#644233" title="Int">pos</a><span class="delimiter">)</span>, <a href="#644224" title="NamesDefaults.this.global.AssignOrNamedArg">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#644220" title="(msg: String)NamesDefaults.this.global.Tree">fail</a><span class="delimiter">(</span><span title="String(&quot;reference to &quot;)" class="string">&quot;reference to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#644230" title="NamesDefaults.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is ambiguous; it is both a method parameter and a variable in scope.&quot;)" class="string">&quot; is ambiguous; it is both a method parameter and a variable in scope.&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            // if the named argument is on the original parameter
            // position, positional after named is allowed.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#644219" title="Int">index</a> <span title="(x: Int)Boolean">!=</span> <a href="#644233" title="Int">pos</a><span class="delimiter">)</span>
              <a href="#644162" title="Boolean">positionalAllowed</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#644161" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#644219" title="Int">index</a><span class="delimiter">)</span> = <a href="#644233" title="Int">pos</a>
            <a href="#644231" title="NamesDefaults.this.global.Tree">rhs</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="NamesDefaults.this.global.Tree">_</span> =&gt;
          <a href="#644161" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#644219" title="Int">index</a><span class="delimiter">)</span> = <a href="#644219" title="Int">index</a>
          <span title="NamesDefaults.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#644162" title="Boolean">positionalAllowed</a><span class="delimiter">)</span> <a href="#644218" title="NamesDefaults.this.global.Tree">arg</a>
          <span class="keyword">else</span> <a href="#644220" title="(msg: String)NamesDefaults.this.global.Tree">fail</a><span class="delimiter">(</span><span title="String(&quot;positional after named argument.&quot;)" class="string">&quot;positional after named argument.&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span title="(_1: List[NamesDefaults.this.global.Tree], _2: Array[Int])(List[NamesDefaults.this.global.Tree], Array[Int])" class="delimiter">(</span><a href="#644163" title="List[NamesDefaults.this.global.Tree]">namelessArgs</a>, <a href="#644161" title="Array[Int]">argPos</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>