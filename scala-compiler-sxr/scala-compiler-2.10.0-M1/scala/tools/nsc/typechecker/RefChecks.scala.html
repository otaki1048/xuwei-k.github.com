<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.reflect.internal.transform.RefChecks with ScalaObject" id="33532">RefChecks</a> <a href="#33532" title="ScalaObject" class="keyword">extends</a> <a href="../transform/InfoTransform.scala.html#29973" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> reflect.internal.transform.<a href="../../../reflect/internal/transform/RefChecks.scala.html#10595" title="scala.reflect.internal.transform.RefChecks">RefChecks</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="238503">global</a>: <a href="../Global.scala.html#12521" title="scala.tools.nsc.Global">Global</a>               // need to repeat here because otherwise last mixin defines global as
                                   // SymbolTable. If we had DOT this would not be an issue

  <span class="keyword">import</span> <a href="#238503" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object RefChecks.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#182992" title="object RefChecks.this.global.typer">typer</a>.<span class="delimiter">{</span>typed, typedOperator, atOwner<span class="delimiter">}</span>

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="238507">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="238509">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../../../reflect/internal/Flags.scala.html#39816" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="238510">newTransformer</a><span class="delimiter">(</span><a title="RefChecks.this.global.CompilationUnit" id="652769">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="#238519" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#238519" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a><span class="delimiter">(</span><a href="#652769" title="RefChecks.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="238511">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="238512">transformInfo</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="255192">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="255193">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#255192" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#255192" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47857" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="#255192" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#39816" title="=&gt; Long">lateMETHOD</a> <span title="(x: Int)Long">|</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span>
    <a href="#33532" title="scala.tools.nsc.typechecker.RefChecks" class="keyword">super</a>.<a href="../../../reflect/internal/transform/RefChecks.scala.html#82703" title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#255192" title="RefChecks.this.global.Symbol">sym</a>, <a href="#255193" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="238513">toJavaRepeatedParam</a> = <a href="#652664" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40242" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="652664">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="652666">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="652667">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#652667" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="652679">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#46389" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="652680">args</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#40198" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#652679" title="RefChecks.this.global.Type">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#46391" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a href="#652680" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#652667" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="238515">toScalaRepeatedParam</a> = <a href="#652725" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40242" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="652725">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="652727">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="652728">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a> = <a href="#652728" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="652737">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#46391" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="652738">args</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#40198" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#652737" title="RefChecks.this.global.Type">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#46389" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a href="#652738" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#652728" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="238517">accessFlagsToString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="652863">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Flags.scala.html#39892" title="(flags: Long, privateWithin: String)String">flagsToString</a><span class="delimiter">(</span>
    <a href="#652863" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47903" title="(mask: Long)Long">getFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span>,
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#652863" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47914" title="=&gt; Boolean">hasAccessBoundary</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652863" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47911" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean" id="238518">overridesTypeInPrefix</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="652873">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="652874">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="652875">prefix</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: RefChecks.this.global.Type, _2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)" class="delimiter">(</span><a href="#652873" title="RefChecks.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#652874" title="RefChecks.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>MethodType<span class="delimiter">(</span><a href="#652888" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="652910">rtp1</a><span class="delimiter">)</span>, NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="652912">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="#652910" title="RefChecks.this.global.Type">rtp1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#652912" title="RefChecks.this.global.Type">rtp2</a>
    <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="652918">rtp1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span><a href="#652922" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="652933">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="#652918" title="RefChecks.this.global.Type">rtp1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#652933" title="RefChecks.this.global.Type">rtp2</a>
    <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.Symbol" id="652941">sym</a>, _<span class="delimiter">)</span>,  _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#652941" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> =&gt;
      <a href="#238518" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean">overridesTypeInPrefix</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#66963" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#652873" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>, <a href="#652874" title="RefChecks.this.global.Type">tp2</a>, <a href="#652875" title="RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="652944">classBoundAsSeen</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="652945">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#652945" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47943" title="=&gt; RefChecks.this.global.Type">classBound</a>.<a href="../../../reflect/internal/Types.scala.html#42778" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#652875" title="RefChecks.this.global.Type">prefix</a>, <a href="#652945" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#652873" title="RefChecks.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#652874" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span>  // object override check
        <a href="#652873" title="RefChecks.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#652874" title="RefChecks.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="652956">cb1</a> = <a href="#652944" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#652873" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="652957">cb2</a> = <a href="#652944" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#652874" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#652956" title="RefChecks.this.global.Type">cb1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#652957" title="RefChecks.this.global.Type">cb2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Allowing %s to override %s because %s &lt;:&lt; %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#652873" title="RefChecks.this.global.Type">tp1</a>, <a href="#652874" title="RefChecks.this.global.Type">tp2</a>, <a href="#652956" title="RefChecks.this.global.Type">cb1</a>, <a href="#652957" title="RefChecks.this.global.Type">cb2</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer with ScalaObject" id="238519">RefCheckTransformer</a><a href="#238519" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.CompilationUnit" id="652842">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#183129" title="RefChecks.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="652776">localTyper</a>: analyzer.<a href="Typers.scala.html#184062" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#182992" title="object RefChecks.this.global.typer">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="652779">currentApplication</a>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#238503" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="652782">inPattern</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" id="652785">checkedCombinations</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: List[RefChecks.this.global.Type]*)scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" class="delimiter">[</span><span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    // only one overloaded alternative is allowed to define default arguments
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="652787">checkOverloadedRestrictions</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653439">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      // Using the default getters (such as methodName$default$1) as a cheap way of
      // finding methods with default parameters. This way, we can limit the members to
      // those with the DEFAULTPARAM flag, and infer the methods. Looking for the methods
      // directly requires inspecting the parameter list of every one. That modification
      // shaved 95% off the time spent in this method.
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="653441">defaultGetters</a>     = <a href="#653439" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42819" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60007" title="=&gt; RefChecks.this.global.nme.NameType">ANYNAME</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(33554432L)">DEFAULTPARAM</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.TermName]" id="653442">defaultMethodNames</a> = <a href="#653441" title="List[RefChecks.this.global.Symbol]">defaultGetters</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TermName)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TermName,List[RefChecks.this.global.TermName]])List[RefChecks.this.global.TermName]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653463">sym</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60695" title="(name: RefChecks.this.global.Name)RefChecks.this.global.TermName">defaultGetterToMethod</a><span class="delimiter">(</span><a href="#653463" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#653442" title="List[RefChecks.this.global.TermName]">defaultMethodNames</a>.<span title="=&gt; List[RefChecks.this.global.TermName]">distinct</span> <span title="(f: RefChecks.this.global.TermName =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.TermName" id="653517">name</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="653518">methods</a>      = <a href="#653439" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42819" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#653517" title="RefChecks.this.global.TermName">name</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(64L)">METHOD</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="653519">haveDefaults</a> = <a href="#653518" title="List[RefChecks.this.global.Symbol]">methods</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653523">sym</a> =&gt; <a href="#653523" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47942" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">hasParamWhich</a><span class="delimiter">(</span><a href="#653526" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60676" title="(name: RefChecks.this.global.Name)Boolean">isProtectedAccessorName</a><span class="delimiter">(</span><a href="#653523" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653519" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="653532">owners</a> = <a href="#653519" title="List[RefChecks.this.global.Symbol]">haveDefaults</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#653549" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
           // constructors of different classes are allowed to have defaults
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653519" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653583">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#653583" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#653532" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">distinct</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#653519" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#653439" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <span title="String(&quot;in &quot;)" class="string">&quot;in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#653439" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot;, multiple overloaded alternatives of &quot;)" class="string">&quot;, multiple overloaded alternatives of &quot;</span><span title="(x$1: Any)String">+</span> <a href="#653519" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="=&gt; RefChecks.this.global.Symbol">head</span> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; define default arguments&quot;)" class="string">&quot; define default arguments&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#653532" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#653595" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#653439" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
                <span class="keyword">else</span> <span title="String(&quot;.\nThe members with defaults are defined in &quot;)" class="string">&quot;.\nThe members with defaults are defined in &quot;</span><span title="(x$1: Any)String">+</span><a href="#653532" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#653616" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183619" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">lint</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#653439" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#61769" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653657">x</a> =&gt; <a href="#653657" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48080" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#653657" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="653680">sym</a> =&gt;
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="653681">alts</a> = <a href="#653439" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#653680" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653681" title="List[RefChecks.this.global.Symbol]">alts</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#653681" title="List[RefChecks.this.global.Symbol]">alts</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653706">x</a> =&gt; <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#653706" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;)" class="string">&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Override checking ------------------------------------------------------------
    
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Boolean" id="652788">isJavaVarargsAncestor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653711">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <a href="#653711" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#653711" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#653711" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42762" title="=&gt; List[RefChecks.this.global.Symbol]">nonPrivateDecls</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="../../../reflect/internal/Definitions.scala.html#46398" title="(m: RefChecks.this.global.Symbol)Boolean">isJavaVarArgsMethod</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    /** Add bridges for vararg methods that extend Java vararg methods
     */
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="652789">addVarargBridges</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653728">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      // This is quite expensive, so attempt to skip it completely.
      // Insist there at least be a java-defined ancestor which
      // defines a varargs method. TODO: Find a cheaper way to exclude.
      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#653728" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#652788" title="(clazz: RefChecks.this.global.Symbol)Boolean">isJavaVarargsAncestor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Found java varargs ancestor in &quot;)" class="string">&quot;Found java varargs ancestor in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#653728" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="653740">self</a> = <a href="#653728" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" id="653741">bridges</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
    
        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="653742">varargBridge</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653743">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="653744">bridgetpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Generating varargs bridge for &quot;)" class="string">&quot;Generating varargs bridge for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#653743" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#653744" title="RefChecks.this.global.Type">bridgetpe</a><span class="delimiter">)</span>
          
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="653745">bridge</a> = <a href="#653743" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47973" title="(owner: RefChecks.this.global.Symbol, newFlags: Long)RefChecks.this.global.Symbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#653728" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#653743" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Symbol">setPos</a> <a href="#653728" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>
          <a href="#653745" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: RefChecks.this.global.Type)bridge.type">setInfo</a><span class="delimiter">(</span><a href="#653744" title="RefChecks.this.global.Type">bridgetpe</a>.<a href="../../../reflect/internal/Types.scala.html#42807" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#653745" title="RefChecks.this.global.Symbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#653728" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a> <a href="#653745" title="RefChecks.this.global.Symbol">bridge</a>
         
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="653746">params</a>  = <a href="#653745" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">head</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="653747">elemtp</a>  = <a href="#653746" title="List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; RefChecks.this.global.Symbol">last</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Ident]" id="653748">idents</a>  = <a href="#653746" title="List[RefChecks.this.global.Symbol]">params</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Ident,List[RefChecks.this.global.Ident]])List[RefChecks.this.global.Ident]">map</span> <a href="#238503" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Ident">Ident</a>
          <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Typed" id="653749">lastarg</a> = <a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235485" title="(tree: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235489" title="(tree: RefChecks.this.global.gen.global.Tree, elemtp: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">mkWrapArray</a><span class="delimiter">(</span><a href="#653748" title="List[RefChecks.this.global.Ident]">idents</a>.<span title="=&gt; RefChecks.this.global.Ident">last</span>, <a href="#653747" title="RefChecks.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Apply" id="653750">body</a>    = <a href="#238503" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#238503" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Tree">This</a><span class="delimiter">(</span><a href="#653728" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#653743" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#653748" title="List[RefChecks.this.global.Ident]">idents</a>.<span title="=&gt; List[RefChecks.this.global.Ident]">init</span> <span title="(elem: RefChecks.this.global.Tree with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Ident],RefChecks.this.global.Tree with Serializable,List[RefChecks.this.global.Tree with Serializable]])List[RefChecks.this.global.Tree with Serializable]">:+</span> <a href="#653749" title="RefChecks.this.global.gen.global.Typed">lastarg</a><span class="delimiter">)</span>

          <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a> <a href="Typers.scala.html#184436" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> <a href="../../../reflect/internal/Trees.scala.html#40617" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#653745" title="RefChecks.this.global.Symbol">bridge</a>, <a href="#653750" title="RefChecks.this.global.Apply">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    
        // For all concrete non-private members that have a (Scala) repeated parameter:
        //   compute the corresponding method type `jtpe` with a Java repeated parameter
        //   if a method with type `jtpe` exists and that method is not a varargs bridge
        //   then create a varargs bridge of type `jtpe` that forwards to the
        //   member method with the Scala vararg type.
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654023">member</a> &lt;- <a href="#653728" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42765" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654023" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654023" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46403" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#654023" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="654025">inherited</a> = <a href="#653728" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42773" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#654023" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
            // Delaying calling memberType as long as possible
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654025" title="RefChecks.this.global.Symbol">inherited</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="654028">jtpe</a> = <a href="../../../reflect/internal/Types.scala.html#82351" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#653740" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#654023" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // this is a bit tortuous: we look for non-private members or bridges
              // if we find a bridge everything is OK. If we find another member,
              // we need to create a bridge
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654025" title="RefChecks.this.global.Symbol">inherited</a> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654043">sym</a> =&gt; <span class="delimiter">(</span><a href="#653740" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#654043" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42801" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#654028" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#654043" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
                <a href="#653741" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a> <span title="(x: RefChecks.this.global.Tree)bridges.type">+=</span> <a href="#653742" title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">varargBridge</a><span class="delimiter">(</span><a href="#654023" title="RefChecks.this.global.Symbol">member</a>, <a href="#654028" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    
        <a href="#653741" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a>.<span title="=&gt; List[RefChecks.this.global.Tree]">toList</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>

    /** 1. Check all members of class `clazz` for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override` modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O.
     *    1.7. If O is an abstract type then
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override` modifier
     *     overrides some other member.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit" id="652790">checkAllOverrides</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654069">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="654072">typesOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="654073">self</a> = <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="654074">classBoundAsSeen</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="654087">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#654087" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47943" title="=&gt; RefChecks.this.global.Type">classBound</a>.<a href="../../../reflect/internal/Types.scala.html#42778" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#654073" title="RefChecks.this.global.Type">self</a>, <a href="#654087" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends Object with ScalaObject with Product with Serializable" id="655467">MixinOverrideError</a><a href="#655467" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.Symbol" id="655462">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="655463">msg</a>: <span title="String">String</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="654078">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</span><span class="delimiter">[</span>MixinOverrideError<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="()Unit" id="654079">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#654078" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<span title="=&gt; List[MixinOverrideError]">toList</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#654157" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">case</span> <a href="#654171" title="Unit">List</a><span class="delimiter">(</span>MixinOverrideError<span class="delimiter">(</span>_, <a title="String" id="654209">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#654209" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MixinOverrideError</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654214">member</a>, <a title="String" id="654215">msg</a><span class="delimiter">)</span> :: <a title="List[MixinOverrideError]" id="654216">others</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="654217">others1</a> = <a href="#654216" title="List[MixinOverrideError]">others</a>.<span title="(f: MixinOverrideError =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixinOverrideError],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#654234" title="MixinOverrideError">_</a>.<a href="#655462" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)List[String]">filter</span><span class="delimiter">(</span><a href="#654214" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#654268" title="String">_</a><span class="delimiter">)</span>.<span title="=&gt; List[String]">distinct</span>
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
              <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <a href="#654215" title="String">msg</a><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654217" title="List[String]">others1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                   <span class="keyword">else</span> <span title="String(&quot;;\n other members with override errors are: &quot;)" class="string">&quot;;\n other members with override errors are: &quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><a href="#654217" title="List[String]">others1</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="654080">infoString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654278">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#654082" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String">infoString0</a><span class="delimiter">(</span><a href="#654278" title="RefChecks.this.global.Symbol">sym</a>, <a href="#654278" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="654081">infoStringWithLocation</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654289">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#654082" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String">infoString0</a><span class="delimiter">(</span><a href="#654289" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String" id="654082">infoString0</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654279">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="654280">showLocation</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="654281">sym1</a> = <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#184273" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#654279" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#654281" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#48046" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654280" title="Boolean">showLocation</a><span class="delimiter">)</span>
          <a href="#654281" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654281" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span title="String(&quot;, which equals &quot;)" class="string">&quot;, which equals &quot;</span><span title="(x$1: Any)String">+</span><a href="#654073" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42779" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#654281" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654281" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span title="String(&quot; with bounds &quot;)" class="string">&quot; with bounds &quot;</span><span title="(x$1: Any)String">+</span><a href="#654073" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42779" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#654281" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654281" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)String">+</span><a href="#654073" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42779" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#654281" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Check that all conditions for overriding `other` by `member`
       *  of class `clazz` are met.
       */
      <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit" id="654083">checkOverride</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654290">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="654291">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Type" id="654292">memberTp</a> = <a href="#654073" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Type" id="654293">otherTp</a>  = <a href="#654073" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="654294">noErrorType</a> = <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="object RefChecks.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="object RefChecks.this.global.ErrorType">ErrorType</a>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="654295">isRootOrNone</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654315">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#654315" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46242" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#654315" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>
        <span class="keyword">def</span> <a title="=&gt; String" id="654296">objectOverrideErrorMsg</a> = <span class="delimiter">(</span>
          <span title="String(&quot;overriding &quot;)" class="string">&quot;overriding &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot;an overriding object must conform to the overridden object\'s class bound&quot;)" class="string">&quot;an overriding object must conform to the overridden object's class bound&quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#184282" title="(found: RefChecks.this.global.analyzer.global.Type, req: RefChecks.this.global.analyzer.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#654074" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#654074" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(msg: String)String" id="654297">overrideErrorMsg</a><span class="delimiter">(</span><a title="String" id="654326">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="654327">isConcreteOverAbstract</a> =
            <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a>
          <span class="keyword">val</span> <a title="String" id="654328">addendum</a> =
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#654327" title="Boolean">isConcreteOverAbstract</a><span class="delimiter">)</span>
              <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;;\n (Note that %s is abstract,\n  and is therefore overridden by concrete %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
                <a href="#654081" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>,
                <a href="#654081" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#184282" title="(found: RefChecks.this.global.analyzer.global.Type, req: RefChecks.this.global.analyzer.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;overriding %s;\n %s %s%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#654081" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <a href="#654080" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#654326" title="String">msg</a>, <a href="#654328" title="String">addendum</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(fullmsg: String)Unit" id="654298">emitOverrideError</a><span class="delimiter">(</span><a title="String" id="654340">fullmsg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#654340" title="String">fullmsg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#654078" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a> <span title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]">+=</span> <span title="MixinOverrideError" class="keyword">new</span> <a href="#655467" title="MixinOverrideError">MixinOverrideError</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>, <a href="#654340" title="String">fullmsg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="654299">overrideError</a><span class="delimiter">(</span><a title="String" id="654364">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654294" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span>
            <a href="#654298" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span><a href="#654297" title="(msg: String)String">overrideErrorMsg</a><span class="delimiter">(</span><a href="#654364" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="654300">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654294" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654298" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#654296" title="=&gt; String">objectOverrideErrorMsg</a>
              <span class="keyword">else</span> <a href="#654297" title="(msg: String)String">overrideErrorMsg</a><span class="delimiter">(</span><span title="String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="654301">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="654365">otherAccess</a> = <a href="#238517" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
          <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has weaker access privileges; it should be &quot;)" class="string">&quot;has weaker access privileges; it should be &quot;</span><span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654365" title="String">otherAccess</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="String(&quot;at least &quot;)" class="string">&quot;at least &quot;</span><span title="(x$1: Any)String">+</span><a href="#654365" title="String">otherAccess</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        //Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG

        // return if we already checked this combination elsewhere
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="654375">deferredCheck</a>        = <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a>
          <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="654376">subOther</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654378">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#654378" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="654377">subMember</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654380">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#654380" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654376" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654375" title="=&gt; Boolean">deferredCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47994" title="=&gt; List[RefChecks.this.global.Symbol]">parentSymbols</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654390">p</a> =&gt; <a href="#654376" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#654390" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654377" title="(s: RefChecks.this.global.Symbol)Boolean">subMember</a><span class="delimiter">(</span><a href="#654390" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654375" title="=&gt; Boolean">deferredCheck</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47994" title="=&gt; List[RefChecks.this.global.Symbol]">parentSymbols</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654399">p</a> =&gt; <a href="#654376" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#654399" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">==</span> <a href="#654377" title="(s: RefChecks.this.global.Symbol)Boolean">subMember</a><span class="delimiter">(</span><a href="#654399" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        /** Is the intersection between given two lists of overridden symbols empty?
         */
        <span class="keyword">def</span> <a title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean" id="654302">intersectionIsEmpty</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="654405">syms1</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Symbol]" id="654406">syms2</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#654405" title="List[RefChecks.this.global.Symbol]">syms1</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#654406" title="List[RefChecks.this.global.Symbol]">syms2</a> <a href="#654413" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654072" title="Boolean">typesOnly</a><span class="delimiter">)</span> <a href="#654303" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // o: public | protected        | package-protected  (aka java's default access)
          // ^-may be overridden by member with access privileges-v
          // m: public | public/protected | public/protected/package-protected-in-same-package-as-o

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> // (1.1)
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span><span class="delimiter">)</span>

          // todo: align accessibility implication checking with isAccessible in Contexts
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="654414">ob</a> = <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47908" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="654415">mb</a> = <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47908" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="654416">isOverrideAccessOK</a> = <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48094" title="=&gt; Boolean">isPublic</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>      // member is public, definitely same or relaxed access
            <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48085" title="=&gt; Boolean">isProtected</a> <span title="(x: Boolean)Boolean">||</span> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48085" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>    // if o is protected, so is m
            <span class="delimiter">(</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654295" title="(sym: RefChecks.this.global.Symbol)Boolean">isRootOrNone</a><span class="delimiter">(</span><a href="#654414" title="RefChecks.this.global.Symbol">ob</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654414" title="RefChecks.this.global.Symbol">ob</a>.<a href="../../../reflect/internal/Symbols.scala.html#47882" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#654415" title="RefChecks.this.global.Symbol">mb</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>  // m relaxes o's access boundary
              <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>                           // overriding a protected java member, see #3946
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654416" title="=&gt; Boolean">isOverrideAccessOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654301" title="()Unit">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot be used here - class definitions cannot be overridden&quot;)" class="string">&quot;cannot be used here - class definitions cannot be overridden&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot be used here - classes can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes can only override abstract types&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48079" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.2)
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span><span class="delimiter">)</span>;
            // synthetic exclusion needed for (at least) default getters.
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48099" title="=&gt; Boolean">isAnyOverride</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs `override\' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48098" title="=&gt; Boolean">isAbstractOverride</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47870" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48098" title="=&gt; Boolean">isAbstractOverride</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs `abstract override\' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48099" title="=&gt; Boolean">isAnyOverride</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48099" title="=&gt; Boolean">isAnyOverride</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#654436" title="RefChecks.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#654302" title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean">intersectionIsEmpty</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48018" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a>, <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#48018" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span class="string">&quot;cannot override a concrete member without a third member that's overridden by both &quot;</span><span title="String(&quot;cannot override a concrete member without a third member that\'s overridden by both (this rule is designed to prevent ``accidental overrides\'\')&quot;)">+</span>
                          <span class="string">&quot;(this rule is designed to prevent ``accidental overrides'')&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47846" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47846" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.4)
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47780" title="=&gt; Boolean">isSourceMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47780" title="=&gt; Boolean">isSourceMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#654303" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183637" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryOverride</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;non-nullary method overrides nullary method&quot;)" class="string">&quot;non-nullary method overrides nullary method&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="654303">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //if (!member.typeParams.isEmpty) (1.5)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            //if (!other.typeParams.isEmpty)  (1.5)   @MAT
            //  overrideError(&quot;may not override parameterized type&quot;);
            // @M: substSym

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#654292" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#42783" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#654293" title="=&gt; RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> // (1.6)
              <a href="#654300" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> 
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //if (!member.typeParams.isEmpty) // (1.7)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="654451">otherTp</a> = <a href="#654073" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42779" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#654451" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#66859" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#654292" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.7.1)
              <a href="#654300" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>; // todo: do an explaintypes with bounds here
              <a href="../../../reflect/internal/Types.scala.html#40395" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any, found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#654462" title="RefChecks.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#66859" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#654463" title="RefChecks.this.global.Type">_</a>, <a href="#654451" title="RefChecks.this.global.Type">otherTp</a>, <a href="#654292" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            // check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))
            // making an abstract type member concrete is like passing a type argument
            <span class="keyword">val</span> <a title="List[String]" id="654452">kindErrors</a> = <a href="../Global.scala.html#182992" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#184322" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#184502" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#654292" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>, <a href="#654073" title="RefChecks.this.global.Type">self</a>, <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> // (1.7.2)

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654452" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>,
                <span title="String(&quot;The kind of &quot;)" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)String">+</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48039" title="=&gt; String">keyString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48054" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48044" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span>
                <span title="String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#48059" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span> <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span>
                <a href="#654452" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

            // check a type alias's RHS corresponds to its declaration
            // this overlaps somewhat with validateVariance
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // println(&quot;checkKindBounds&quot; + ((List(member), List(memberTp.normalize), self, member.owner)))
              <span class="keyword">val</span> <a title="List[String]" id="654485">kindErrors</a> = <a href="../Global.scala.html#182992" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#184322" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#184502" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#654292" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span>, <a href="#654073" title="RefChecks.this.global.Type">self</a>, <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

              <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654485" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
                <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>,
                  <span title="String(&quot;The kind of the right-hand side &quot;)" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)String">+</span><a href="#654292" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)String">+</span><span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)String">+</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48039" title="=&gt; String">keyString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48054" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48044" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span> <span title="String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#654485" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654292" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#42716" title="=&gt; Boolean">isVolatile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654451" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#42716" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;)" class="string">&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654291" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47935" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> // #2454
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="654505">memberTp</a> = <a href="#654073" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="654506">otherTp</a> = <a href="#654073" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#654291" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#238518" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean">overridesTypeInPrefix</a><span class="delimiter">(</span><a href="#654505" title="RefChecks.this.global.Type">memberTp</a>, <a href="#654506" title="RefChecks.this.global.Type">otherTp</a>, <a href="#654073" title="RefChecks.this.global.Type">self</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 8
              <a href="#654300" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#40394" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#654505" title="RefChecks.this.global.Type">memberTp</a>, <a href="#654506" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47846" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654506" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#42716" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654505" title="RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#42716" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#654299" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has a volatile type; cannot override a member with non-volatile type&quot;)" class="string">&quot;has a volatile type; cannot override a member with non-volatile type&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#654505" title="RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; RefChecks.this.global.Type">resultType</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="654512">rt</a>: <a href="../../../reflect/internal/Types.scala.html#40118" title="RefChecks.this.global.RefinedType">RefinedType</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#654512" title="RefChecks.this.global.RefinedType">rt</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#654506" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#652785" title="=&gt; scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">checkedCombinations</a> <span title="(elem: List[RefChecks.this.global.Type])Boolean">contains</span> <a href="#654512" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../../../reflect/internal/Types.scala.html#61687" title="=&gt; List[RefChecks.this.global.Type]">parents</a><span class="delimiter">)</span> =&gt;
                  // might mask some inconsistencies -- check overrides
                  <a href="#652785" title="(x$1: scala.collection.immutable.Set[List[RefChecks.this.global.Type]])Unit">checkedCombinations</a> <span title="(elem: List[RefChecks.this.global.Type])scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">+=</span> <a href="#654512" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../../../reflect/internal/Types.scala.html#61687" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
                  <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="654527">tsym</a> = <a href="#654512" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#654527" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#654527" title="RefChecks.this.global.Symbol">tsym</a> <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: RefChecks.this.global.Position)tsym.type">setPos</a> <a href="#654290" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>
                  <a href="#652790" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#654527" title="RefChecks.this.global.Symbol">tsym</a>, typesOnly = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span title="Unit" class="delimiter">}</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="654084">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#182868" title="object RefChecks.this.global.overridingPairs">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#235956" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#654084" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#587826" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#654086" title="()Unit" class="delimiter">{</a>
        //Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullName + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullName + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#654084" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#587823" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#654083" title="(member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit">checkOverride</a><span class="delimiter">(</span><a href="#654084" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#587820" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#654084" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#587823" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>;

        <a href="#654084" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#587827" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="#654079" title="()Unit">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span>

      // Verifying a concrete class has nothing unimplemented.
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47767" title="=&gt; Boolean">isConcreteClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654072" title="Boolean">typesOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="654553">abstractErrors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="654554">abstractErrorMessage</a> =
          // a little formatting polish
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
          <span class="keyword">else</span> <a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; scala.collection.mutable.ListBuffer[String]">tail</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; String">head</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean, msg: String)Unit" id="654555">abstractClassError</a><span class="delimiter">(</span><a title="Boolean" id="654569">mustBeMixin</a>: <span title="Boolean">Boolean</span>, <a title="String" id="654570">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; String" id="654571">prelude</a> = <span class="delimiter">(</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47815" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> <span title="String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#654569" title="Boolean">mustBeMixin</a><span class="delimiter">)</span> <a href="#654069" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)String">+</span> <span title="String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
            <span class="keyword">else</span> <a href="#654069" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)String">+</span> <span title="String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>
          <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, since&quot;)" class="string">&quot;, since&quot;</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(xs: scala.collection.TraversableOnce[String])abstractErrors.type">++=</span> <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#654571" title="=&gt; String">prelude</a>, <a href="#654570" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(x: String)abstractErrors.type">+=</span> <a href="#654570" title="String">msg</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="654556">javaErasedOverridingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654594">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a> =
          <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42773" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#654594" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654597">other</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#654597" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#654597" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              // #3622: erasure operates on uncurried types --
              // note on passing sym in both cases: only sym.isType is relevant for uncurry.transformInfo
              <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type" id="654598">uncurryAndErase</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="654601">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../Global.scala.html#182954" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#82326" title="(sym: RefChecks.this.global.erasure.global.Symbol, tp: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a><span class="delimiter">(</span><a href="#654594" title="RefChecks.this.global.Symbol">sym</a>, <a href="../Global.scala.html#182946" title="object RefChecks.this.global.uncurry">uncurry</a>.<a href="../../../reflect/internal/transform/UnCurry.scala.html#82517" title="(sym: RefChecks.this.global.uncurry.global.Symbol, tp: RefChecks.this.global.uncurry.global.Type)RefChecks.this.global.uncurry.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#654594" title="RefChecks.this.global.Symbol">sym</a>, <a href="#654601" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="654599">tp1</a> = <a href="#654598" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#654594" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="654600">tp2</a> = <a href="#654598" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#654597" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#654599" title="RefChecks.this.global.erasure.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#42801" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">matches</a> <a href="#654600" title="RefChecks.this.global.erasure.global.Type">tp2</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol)Boolean" id="654557">ignoreDeferred</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654624">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
          <span class="delimiter">(</span><a href="#654624" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654624" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47830" title="=&gt; Boolean">isFBounded</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span>
            <a href="#654624" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            // the test requires atPhase(erasurePhase.next) so shouldn't be
            // done if the compiler has no erasure phase available
            <span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../package.scala.html#36218" title="=&gt; reflect.internal.NoPhase.type">NoPhase</a> <span title="(x: Boolean)Boolean">||</span> <a href="#654556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span class="delimiter">(</span><a href="#654624" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>

        // 2. Check that only abstract classes have deferred members
        <span class="keyword">def</span> <a title="()Unit" id="654558">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
          // Avoid spurious duplicates: first gather any missing members.
          <span class="keyword">def</span> <a title="=&gt; List[RefChecks.this.global.Symbol]" id="654635">memberList</a> = <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42766" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#654637" title="(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])" class="delimiter">(</a><a href="#654636" title="List[RefChecks.this.global.Symbol]" id="654637">missing</a>, <a href="#654636" title="List[RefChecks.this.global.Symbol]" id="654638">rest</a><span class="delimiter">)</span> = <a href="#654635" title="=&gt; List[RefChecks.this.global.Symbol]">memberList</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])">partition</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654647">m</a> =&gt; <a href="#654647" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654557" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#654647" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // Group missing members by the name of the underlying symbol,
          // to consolidate getters and setters.
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]" id="654639">grouped</a> = <a href="#654637" title="List[RefChecks.this.global.Symbol]">missing</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.analyzer.global.Name)scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">groupBy</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654664">sym</a> =&gt; <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#184273" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#654664" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="654640">missingMethods</a> = <a href="#654639" title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">grouped</a>.<span title="=&gt; List[(RefChecks.this.global.analyzer.global.Name, List[RefChecks.this.global.Symbol])]">toList</span> <span title="(f: ((RefChecks.this.global.analyzer.global.Name, List[RefChecks.this.global.Symbol])) =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[(RefChecks.this.global.analyzer.global.Name, List[RefChecks.this.global.Symbol])],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</span> <a href="#654690" title="List[RefChecks.this.global.Symbol]" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="List[RefChecks.this.global.Symbol]" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Name" id="654693">name</a>, <a title="List[RefChecks.this.global.Symbol]" id="654694">syms</a><span class="delimiter">)</span> =&gt;
              <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#654694" title="List[RefChecks.this.global.Symbol]">syms</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#654701" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#654694" title="List[RefChecks.this.global.Symbol]">syms</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#654705" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#654694" title="List[RefChecks.this.global.Symbol]">syms</a>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; List[String]" id="654641">stubImplementations</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
            // Grouping missing methods by the declaring class
            <span class="keyword">val</span> <a title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]" id="654733">regrouped</a> = <a href="#654640" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)scala.collection.immutable.Map[RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]]">groupBy</span><span class="delimiter">(</span><a href="#654741" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>.<span title="=&gt; List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">toList</span>
            <span class="keyword">def</span> <a title="(members: List[RefChecks.this.global.Symbol])List[String]" id="654734">membersStrings</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="654752">members</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
              <a href="#654752" title="List[RefChecks.this.global.Symbol]">members</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit ord: scala.math.Ordering[String])List[RefChecks.this.global.Symbol]">sortBy</span><span title="object scala.math.Ordering.String" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#654759" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654834">m</a> =&gt; <a href="#654834" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#48060" title="(info: RefChecks.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#654834" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = ???&quot;)" class="string">&quot; = ???&quot;</span><span class="delimiter">)</span>

            <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#654733" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<span title="=&gt; List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="#654734" title="(members: List[RefChecks.this.global.Symbol])List[String]">membersStrings</a><span class="delimiter">(</span><a href="#654733" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<span title="=&gt; (RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])">head</span>.<span title="=&gt; List[RefChecks.this.global.Symbol]">_2</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">(</span><a href="#654733" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<span title="(f: ((RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])) =&gt; String)(implicit ord: scala.math.Ordering[String])List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">sortBy</span><span title="object scala.math.Ordering.String" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#654871" title="(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])">_</a>.<span title="=&gt; RefChecks.this.global.Symbol">_1</span>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span> <span title="(f: ((RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])],String,List[String]])List[String]">flatMap</span> <a href="#654950" title="List[String]" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="List[String]" class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="654953">owner</a>, <a title="List[RefChecks.this.global.Symbol]" id="654954">members</a><span class="delimiter">)</span> =&gt;
                <span class="delimiter">(</span><span title="String(&quot;// Members declared in &quot;)" class="string">&quot;// Members declared in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#654953" title="RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span> <a href="#654955" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">+:</a> <a href="#654734" title="(members: List[RefChecks.this.global.Symbol])List[String]">membersStrings</a><span class="delimiter">(</span><a href="#654954" title="List[RefChecks.this.global.Symbol]">members</a><span class="delimiter">)</span> <span title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">:+</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">init</span>
          <span class="delimiter">}</span>

          // If there are numerous missing methods, we presume they are aware of it and
          // give them a nicely formatted set of method signatures for implementing.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654640" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#654555" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;it has &quot;)" class="string">&quot;it has &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#654640" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<span title="=&gt; Int">size</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; unimplemented members.&quot;)" class="string">&quot; unimplemented members.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="655098">preface</a> =
              <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|/** As seen from %s, the missing signatures are as follows.
                 | *  For convenience, these are usable as stub implementations.
                 | */
                 |&quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(x: String)abstractErrors.type">+=</span> <a href="#654641" title="=&gt; List[String]">stubImplementations</a>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#655133" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><a href="#655098" title="String">preface</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655183">member</a> &lt;- <a href="#654637" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">missing</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(msg: String)Unit" id="655184">undefined</a><span class="delimiter">(</span><a title="String" id="655186">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#654555" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#654080" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#655183" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#655186" title="String">msg</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="655185">underlying</a> = <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#184273" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#655183" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>

            // Give a specific error message for abstract vars based on why it fails:
            // It could be unimplemented, have only one accessor, or be uninitialized.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655185" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Boolean" id="655187">isMultiple</a> = <a href="#654639" title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">grouped</a>.<span title="(key: RefChecks.this.global.analyzer.global.Name, default: =&gt; List[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">getOrElse</span><span class="delimiter">(</span><a href="#655185" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span>

              // If both getter and setter are missing, squelch the setter error.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655183" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#655187" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#655184" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#655183" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span title="String(&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;</span>
                <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#655183" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#655187" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="String(&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;</span>
                <span class="keyword">else</span> <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#184267" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">abstractVarMessage</a><span class="delimiter">(</span><a href="#655183" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655185" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // If there is a concrete method whose name matches the unimplemented
              // abstract method, and a cursory examination of the difference reveals
              // something obvious to us, let's make it more obvious to them.
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.analyzer.global.Type]" id="655211">abstractParams</a>   = <a href="#655185" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="655212">matchingName</a>     = <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42766" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="655213">matchingArity</a>    = <a href="#655212" title="List[RefChecks.this.global.Symbol]">matchingName</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="655217">m</a> =&gt;
                <span title="=&gt; Boolean">!</span><a href="#655217" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#655217" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#655185" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#655217" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#655185" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#655217" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#655185" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

              <a href="#655213" title="List[RefChecks.this.global.Symbol]">matchingArity</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                // So far so good: only one candidate method
                <span class="keyword">case</span> <a title="Unit" id="655241">concrete</a> :: <span title="object Nil">Nil</span>   =&gt;
                  <span class="keyword">val</span> <a title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]" id="655242">mismatches</a>  = <a href="#655211" title="List[RefChecks.this.global.analyzer.global.Type]">abstractParams</a> <span title="(that: scala.collection.GenIterable[RefChecks.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.analyzer.global.Type],(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type),List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]])List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">zip</span> <a href="#655241" title="RefChecks.this.global.Symbol">concrete</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a> <span title="(p: ((RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)) =&gt; Boolean)List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">filterNot</span> <a href="#655302" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="655305">x</a>, <a title="RefChecks.this.global.Type" id="655306">y</a><span class="delimiter">)</span> =&gt; <a href="#655305" title="RefChecks.this.global.analyzer.global.Type">x</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#655306" title="RefChecks.this.global.Type">y</a> <span class="delimiter">}</span>
                  <a href="#655242" title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">mismatches</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                    // Only one mismatched parameter: say something useful.
                    <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="655315">pa</a>, <a title="RefChecks.this.global.Type" id="655316">pc</a><span class="delimiter">)</span> :: <span title="object Nil">Nil</span>  =&gt;
                      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="655317">abstractSym</a> = <a href="#655315" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a>
                      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="655318">concreteSym</a> = <a href="#655316" title="RefChecks.this.global.Type">pc</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
                      <span class="keyword">def</span> <a title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String" id="655319">subclassMsg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655321">c1</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="655322">c2</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
                        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;: %s is a subclass of %s, but method parameter types must match exactly.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
                          <a href="#655321" title="RefChecks.this.global.Symbol">c1</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a>, <a href="#655322" title="RefChecks.this.global.Symbol">c2</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>
                      <span class="delimiter">)</span>
                      <span class="keyword">val</span> <a title="String" id="655320">addendum</a> = <span class="delimiter">(</span>
                        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#655317" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#655318" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                          // TODO: what is the optimal way to test for a raw type at this point?
                          // Compilation has already failed so we shouldn't have to worry overmuch
                          // about forcing types.
                          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#655185" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#655315" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#655317" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
                            <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;. To implement a raw type, use %s[_]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#655315" title="RefChecks.this.global.analyzer.global.Type">pa</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#655315" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; RefChecks.this.global.analyzer.global.Type">prefix</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#655316" title="RefChecks.this.global.Type">pc</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
                            <span title="String(&quot;: their type parameters differ&quot;)" class="string">&quot;: their type parameters differ&quot;</span>
                          <span class="keyword">else</span>
                            <span title="String(&quot;: their prefixes (i.e. enclosing instances) differ&quot;)" class="string">&quot;: their prefixes (i.e. enclosing instances) differ&quot;</span>
                        <span class="delimiter">}</span>
                        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#655317" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.analyzer.global.Symbol)Boolean">isSubClass</a> <a href="#655318" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span>
                          <a href="#655319" title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String">subclassMsg</a><span class="delimiter">(</span><a href="#655317" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a>, <a href="#655318" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#655318" title="RefChecks.this.global.Symbol">concreteSym</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#655317" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a><span class="delimiter">)</span>
                          <a href="#655319" title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String">subclassMsg</a><span class="delimiter">(</span><a href="#655318" title="RefChecks.this.global.Symbol">concreteSym</a>, <a href="#655317" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                      <span class="delimiter">)</span>

                      <a href="#655184" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n(Note that %s does not match %s%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#655315" title="RefChecks.this.global.analyzer.global.Type">pa</a>, <a href="#655316" title="RefChecks.this.global.Type">pc</a>, <a href="#655320" title="String">addendum</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> <a title="Unit" id="655344">xs</a> =&gt;
                      <a href="#655184" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                  <a href="#655184" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#655184" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // Check the remainder for invalid absoverride.
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655355">member</a> &lt;- <a href="#654638" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">rest</a> ; <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#655355" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#655355" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47870" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="655356">other</a> = <a href="#655355" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48019" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="655357">explanation</a> =
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#655356" title="RefChecks.this.global.Symbol">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="String(&quot; and overrides incomplete superclass member &quot;)" class="string">&quot; and overrides incomplete superclass member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#654080" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#655356" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="String(&quot;, but no concrete implementation could be found in a base class&quot;)" class="string">&quot;, but no concrete implementation could be found in a base class&quot;</span>

            <a href="#654555" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#654080" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#655355" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is marked `abstract\' and `override\'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#655357" title="String">explanation</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // 3. Check that concrete classes do not have deferred definitions
        // that are not implemented in a subclass.
        // Note that this is not the same as (2); In a situation like
        //
        // class C { def m: Int = 0}
        // class D extends C { def m: Int }
        //
        // (3) is violated but not (2).
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="654559">checkNoAbstractDecls</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655364">bc</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655386">decl</a> &lt;- <a href="#655364" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655386" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#654557" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#655386" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="655387">impl</a> = <a href="#655386" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#48012" title="(site: RefChecks.this.global.Type, admit: Long)RefChecks.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a>, admit = <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655387" title="RefChecks.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#655386" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#655387" title="RefChecks.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#654555" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;there is a deferred declaration of &quot;)" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)String">+</span><a href="#654080" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#655386" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span>
                                   <span title="String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span><span title="(x$1: Any)String">+</span><a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#184267" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">abstractVarMessage</a><span class="delimiter">(</span><a href="#655386" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655364" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47993" title="=&gt; RefChecks.this.global.Symbol">superClass</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span>
            <a href="#654559" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#655364" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47993" title="=&gt; RefChecks.this.global.Symbol">superClass</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#654558" title="()Unit">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#654559" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654553" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#654554" title="=&gt; String">abstractErrorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // prevent abstract methods in interfaces that override final members in Object; see #4431
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655412">decl</a> &lt;- <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61765" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="655413">overridden</a> = <a href="#655412" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#48013" title="(ofclazz: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655413" title="RefChecks.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48079" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#655412" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;trait cannot redefine final method from class AnyRef&quot;)" class="string">&quot;trait cannot redefine final method from class AnyRef&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Returns whether there is a symbol declared in class `inclazz`
       *  (which must be different from `clazz`) whose name and type
       *  seen as a member of `class.thisType` matches `member`'s.
       */
      <span class="keyword">def</span> <a title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean" id="654085">hasMatchingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655416">inclazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="655417">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="655418">isVarargs</a> = <a href="../../../reflect/internal/Definitions.scala.html#46403" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#655417" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="655420">varargsType</a> = <a href="../../../reflect/internal/Types.scala.html#82351" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#655417" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="655421">isSignatureMatch</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655436">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#655436" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="655437">symtpe</a>            = <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#655436" title="RefChecks.this.global.Symbol">sym</a>
          <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="655438">matches</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="655439">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#655439" title="RefChecks.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#42801" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#655437" title="RefChecks.this.global.Type">symtpe</a>

          <a href="#655438" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#655417" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#655418" title="Boolean">isVarargs</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#655438" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#655419" title="=&gt; RefChecks.this.global.Type">varargsType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        /** The rules for accessing members which have an access boundary are more
         *  restrictive in java than scala.  Since java has no concept of package nesting,
         *  a member with &quot;default&quot; (package-level) access can only be accessed by members
         *  in the exact same package.  Example:
         *
         *    package a.b;
         *    public class JavaClass { void foo() { } }
         *
         *  The member foo() can be accessed only from members of package a.b, and not
         *  nested packages like a.b.c.  In the analogous scala class:
         *
         *    package a.b
         *    class ScalaClass { private[b] def foo() = () }
         *
         *  The member IS accessible to classes in package a.b.c.  The javaAccessCheck logic
         *  is restricting the set of matching signatures according to the above semantics.
         */
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="655422">javaAccessCheck</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655441">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
             <span title="=&gt; Boolean">!</span><a href="#655416" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a>                             // not a java defined member
          <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#655441" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47914" title="=&gt; Boolean">hasAccessBoundary</a>                             // no access boundary
          <span title="(x: Boolean)Boolean">||</span> <a href="#655441" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48085" title="=&gt; Boolean">isProtected</a>                                    // marked protected in java, thus accessible to subclasses
          <span title="(x: Boolean)Boolean">||</span> <a href="#655441" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47911" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#655417" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47997" title="=&gt; RefChecks.this.global.Symbol">enclosingPackageClass</a>  // exact package match
        <span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="655423">classDecls</a>   = <a href="#655416" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42763" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#655417" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="655424">matchingSyms</a> = <a href="#655423" title="=&gt; RefChecks.this.global.Symbol">classDecls</a> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655449">sym</a> =&gt; <a href="#655421" title="(sym: RefChecks.this.global.Symbol)Boolean">isSignatureMatch</a><span class="delimiter">(</span><a href="#655449" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#655422" title="(sym: RefChecks.this.global.Symbol)Boolean">javaAccessCheck</a><span class="delimiter">(</span><a href="#655449" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="delimiter">(</span><a href="#655416" title="RefChecks.this.global.Symbol">inclazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#655424" title="=&gt; RefChecks.this.global.Symbol">matchingSyms</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // 4. Check that every defined member with an `override` modifier overrides some other member.
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655489">member</a> &lt;- <a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: RefChecks.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#655489" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#654069" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#654085" title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean">hasMatchingSym</a><span class="delimiter">(</span><a href="#655503" title="RefChecks.this.global.Symbol">_</a>, <a href="#655489" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG
          <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#655489" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#655489" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48046" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span><span class="delimiter">)</span>;
          <a href="#655489" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)member.type">resetFlag</a> <span title="Long(2L)">OVERRIDE</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  // Basetype Checking --------------------------------------------------------

    /** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="652791">validateBaseTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="655511">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]" id="655513">seenParents</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</span><span title="(elems: RefChecks.this.global.Type*)scala.collection.mutable.HashSet[RefChecks.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="655514">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <span title="Array[List[RefChecks.this.global.Type]]">Array</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#655511" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42803" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#60843" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="655649">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#655514" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
        <a href="#655514" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#655649" title="Int">i</a><span class="delimiter">)</span> = <span title="object Nil">Nil</span>

      /** validate all base types of a class in reverse linear order. */
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="655515">register</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="655653">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
//        if (clazz.fullName.endsWith(&quot;Collection.Projection&quot;))
//            println(&quot;validate base type &quot;+tp)
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="655654">baseClass</a> = <a href="#655653" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655654" title="RefChecks.this.global.Symbol">baseClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="655656">index</a> = <a href="#655511" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42806" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#655654" title="RefChecks.this.global.Symbol">baseClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655656" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655514" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#655656" title="Int">index</a><span class="delimiter">)</span> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="655670">tp1</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#655670" title="RefChecks.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#655653" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#655514" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#655656" title="Int">index</a><span class="delimiter">)</span> =
                <a href="#655653" title="RefChecks.this.global.Type">tp</a> <a href="#655673" title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#655514" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#655656" title="Int">index</a><span class="delimiter">)</span> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="655679">tp1</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#655653" title="RefChecks.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#655679" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="655655">remaining</a> = <a href="#655653" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</span> <a href="#655513" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a>
        <a href="#655513" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a> <span title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Type])seenParents.type">++=</span> <a href="#655655" title="List[RefChecks.this.global.Type]">remaining</a>
        <a href="#655655" title="List[RefChecks.this.global.Type]">remaining</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <a href="#655515" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      <span class="delimiter">}</span>
      <a href="#655515" title="(tp: RefChecks.this.global.Type)Unit">register</a><span class="delimiter">(</span><a href="#655511" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="655812">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#655514" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="655813">baseClass</a> = <a href="#655511" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#60846" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a><span class="delimiter">(</span><a href="#655812" title="Int">i</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#655514" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#655812" title="Int">i</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#655816" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;??? base &quot;)" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)String">+</span><a href="#655813" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)String">+</span><span title="String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span><span title="(x$1: Any)String">+</span><a href="#655511" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#655830" title="Unit">List</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;// OK
          <span class="keyword">case</span> <a title="Unit" id="655845">tp1</a> :: <a title="RefChecks.this.global.Type" id="655853">tp2</a> :: _ =&gt;
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#655511" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;illegal inheritance;\n &quot;)" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#655511" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#655813" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#655845" title="RefChecks.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#655853" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>;
            <a href="../../../reflect/internal/Types.scala.html#40394" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#655845" title="RefChecks.this.global.Type">tp1</a>, <a href="#655853" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Types.scala.html#40394" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#655853" title="RefChecks.this.global.Type">tp2</a>, <a href="#655845" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  // Variance Checking --------------------------------------------------------

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="652792">ContraVariance</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="652794">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="652796">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="652798">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="652800">escapedPrivateLocals</a> = <span title="()scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="652802">varianceValidator</a> = <a href="#652978" title="RefChecks.this.global.Traverser {}" class="keyword">new</a> <a href="#238503" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="652978">Traverser</a> <span class="delimiter">{</span>

      /** Validate variance of info of symbol `base` */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="652980">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="652985">base</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // A flag for when we're in a refinement, meaning method parameter types
        // need to be checked.
        <span class="keyword">var</span> <a title="Boolean" id="652986">inRefinement</a> = <span title="Boolean(false)" class="keyword">false</span>

        <span class="keyword">def</span> <a title="(variance: Int)String" id="652987">varianceString</a><span class="delimiter">(</span><a title="Int" id="652992">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="String">String</span> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#652992" title="Int">variance</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#652992" title="Int">variance</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        /** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="652988">relativeVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653001">tvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="653002">clazz</a> = <a href="#653001" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="653003">sym</a> = <a href="#652985" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="653004">state</a> = <a href="#652796" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#653003" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#653002" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#653004" title="Int">state</a> <span title="(x: Int)Boolean">!=</span> <a href="#652798" title="=&gt; Int">AnyVariance</a><span class="delimiter">)</span> <a href="#653005" title="()Unit" class="delimiter">{</a>
            //Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG
            // Flip occurrences of type parameters and parameters, unless
            //  - it's a constructor, or case class factory or extractor
            //  - it's a type parameter of tvar's owner.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48095" title="=&gt; Boolean">isParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47853" title="=&gt; Boolean">isCaseApplyOrUnapply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#653001" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                  <a href="#653001" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#653004" title="Int">state</a> = <span title="=&gt; Int">-</span><a href="#653004" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">||</span>
                     <a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48088" title="=&gt; Boolean">isPrivateLocal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48089" title="=&gt; Boolean">isProtectedLocal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48092" title="=&gt; Boolean">isSuperAccessor</a> /* super accessors are implicitly local #4345*/<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#652800" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <span title="(elem: RefChecks.this.global.Symbol)Boolean">contains</span> <a href="#653003" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // return AnyVariance if `sym` is local to a term
              // or is private[this] or protected[this]
              <a href="#653004" title="Int">state</a> = <a href="#652798" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // return AnyVariance if `sym` is an alias type
              // that does not override anything. This is OK, because we always
              // expand aliases for variance checking.
              // However, if `sym` does override a type in a base class
              // we have to assume NoVariance, as there might then be
              // references to the type parameter that are not variance checked.
              <a href="#653004" title="Int">state</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48016" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span> <a href="#652794" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#652798" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span>
            <a href="#653003" title="RefChecks.this.global.Symbol">sym</a> = <a href="#653003" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="delimiter">}</span>
          <a href="#653004" title="Int">state</a>
        <span class="delimiter">}</span>

        /** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, variance: Int)Unit" id="652989">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="653032">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="653033">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#653032" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="Unit">ErrorType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="Unit">WildcardType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="Unit">NoType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40099" title="Unit">NoPrefix</a> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ConstantType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          // case DeBruijnIndex(_, _) =&gt; ;
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="653038">pre</a>, <a title="RefChecks.this.global.Symbol" id="653039">sym</a><span class="delimiter">)</span> =&gt;
            <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653038" title="RefChecks.this.global.Type">pre</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="653043">pre</a>, <a title="RefChecks.this.global.Symbol" id="653044">sym</a>, <a title="List[RefChecks.this.global.Type]" id="653045">args</a><span class="delimiter">)</span> =&gt;
//            println(&quot;validate &quot;+sym+&quot; at &quot;+relativeVariance(sym))
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653044" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a>/* &amp;&amp; relativeVariance(sym) == AnyVariance*/<span class="delimiter">)</span>
              <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653032" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653044" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47874" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">!=</span> <a href="#652794" title="=&gt; Int">NoVariance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="653051">v</a> = <a href="#652988" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span class="delimiter">(</span><a href="#653044" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653051" title="Int">v</a> <span title="(x: Int)Boolean">!=</span> <a href="#652798" title="=&gt; Int">AnyVariance</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#653044" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47874" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">!=</span> <a href="#653051" title="Int">v</a> <span title="(x: Int)Int">*</span> <a href="#653033" title="Int">variance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                //Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)String" id="653065">tpString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="653066">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#653066" title="RefChecks.this.global.Type">tp</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="String">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="653070">parents</a>, _, <a title="RefChecks.this.global.Symbol" id="653071">clazz</a><span class="delimiter">)</span> =&gt; <span title="String(&quot;supertype &quot;)" class="string">&quot;supertype &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/Types.scala.html#40202" title="(tps: List[RefChecks.this.global.Type], owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#653070" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#653071" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="String">_</span> =&gt; <span title="String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)String">+</span><a href="#653066" title="RefChecks.this.global.Type">tp</a>
                <span class="delimiter">}</span>
                <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#652985" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>,
                           <a href="#652987" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#653044" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47874" title="=&gt; Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#653044" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span>
                           <span title="String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652987" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#653051" title="Int">v</a> <span title="(x: Int)Int">*</span> <a href="#653033" title="Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
                           <span title="String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#653065" title="(tp: RefChecks.this.global.Type)String">tpString</a><span class="delimiter">(</span><a href="#652985" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652985" title="RefChecks.this.global.Symbol">base</a><span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653043" title="RefChecks.this.global.Type">pre</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
            // @M for higher-kinded typeref, args.isEmpty
            // However, these args respect variances by construction anyway
            // -- the interesting case is in type application, see checkKindBounds in Infer
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#653045" title="List[RefChecks.this.global.Type]">args</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
              <a href="#652991" title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a><span class="delimiter">(</span><a href="#653045" title="List[RefChecks.this.global.Type]">args</a>, <a href="#653033" title="Int">variance</a>, <a href="#653044" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="653089">parents</a>, <a title="RefChecks.this.global.Scope" id="653090">decls</a>, <a title="RefChecks.this.global.Symbol" id="653091">symbol</a><span class="delimiter">)</span> =&gt;
            <a href="#652990" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#653089" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="653096">parents</a>, <a title="RefChecks.this.global.Scope" id="653097">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#652990" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#653096" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Boolean" id="653098">saved</a> = <a href="#652986" title="Boolean">inRefinement</a>
            <a href="#652986" title="Boolean">inRefinement</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="653118">sym</a> &lt;- <a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span>
              <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653118" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#653118" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#652794" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#652986" title="Boolean">inRefinement</a> = <a href="#653098" title="Boolean">saved</a>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="653122">lo</a>, <a title="RefChecks.this.global.Type" id="653123">hi</a><span class="delimiter">)</span> =&gt;
            <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653122" title="RefChecks.this.global.Type">lo</a>, <span title="=&gt; Int">-</span><a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653123" title="RefChecks.this.global.Type">hi</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="653126">formals</a>, <a title="RefChecks.this.global.Type" id="653127">result</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#652986" title="Boolean">inRefinement</a><span class="delimiter">)</span>
              <a href="#652990" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#653126" title="List[RefChecks.this.global.Symbol]">formals</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#653144" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>, <span title="=&gt; Int">-</span><a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653127" title="RefChecks.this.global.Type">result</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="653184">result</a><span class="delimiter">)</span> =&gt;
            <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653184" title="RefChecks.this.global.Type">result</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="653187">tparams</a>, <a title="RefChecks.this.global.Type" id="653188">result</a><span class="delimiter">)</span> =&gt;
            // type parameters will be validated separately, because they are defined explicitly.
            <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653188" title="RefChecks.this.global.Type">result</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="653191">tparams</a>, <a title="RefChecks.this.global.Type" id="653192">result</a><span class="delimiter">)</span> =&gt;
            <a href="#652990" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#653191" title="List[RefChecks.this.global.Symbol]">tparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#653209" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653192" title="RefChecks.this.global.Type">result</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="653240">annots</a>, <a title="RefChecks.this.global.Type" id="653241">tp</a>, <a title="RefChecks.this.global.Symbol" id="653242">selfsym</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#653240" title="List[RefChecks.this.global.AnnotationInfo]">annots</a>.<span title="(p: RefChecks.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#653249" title="RefChecks.this.global.AnnotationInfo">_</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#47257" title="(clazz: RefChecks.this.global.Symbol)Boolean">matches</a> <a href="../../../reflect/internal/Definitions.scala.html#46697" title="=&gt; RefChecks.this.global.Symbol">uncheckedVarianceClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653241" title="RefChecks.this.global.Type">tp</a>, <a href="#653033" title="Int">variance</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit" id="652990">validateVariances</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="653092">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="653093">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#653092" title="List[RefChecks.this.global.Type]">tps</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="653270">tp</a> =&gt; <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653270" title="RefChecks.this.global.Type">tp</a>, <a href="#653093" title="Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit" id="652991">validateVarianceArgs</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="653083">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="653084">variance</a>: <span title="Int">Int</span>, <a title="List[RefChecks.this.global.Symbol]" id="653085">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#653083" title="List[RefChecks.this.global.Type]">tps</a> <span title="(that: scala.collection.GenIterable[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],(RefChecks.this.global.Type, RefChecks.this.global.Symbol),List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]])List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]">zip</span> <a href="#653085" title="List[RefChecks.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span title="(f: ((RefChecks.this.global.Type, RefChecks.this.global.Symbol)) =&gt; Unit)Unit">foreach</span> <a href="#653347" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.Type" id="653350">tp</a>, <a title="RefChecks.this.global.Symbol" id="653351">tparam</a><span class="delimiter">)</span> =&gt; <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#653350" title="RefChecks.this.global.Type">tp</a>, <a href="#653084" title="Int">variance</a> <span title="(x: Int)Int">*</span> <a href="#653351" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47874" title="=&gt; Int">variance</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#652989" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#652985" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#652796" title="=&gt; Int">CoVariance</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="652981">traverse</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="652982">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#652982" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> |
               TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#652980" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#652982" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#652978" title="RefChecks.this.global.Traverser {}" class="keyword">super</a>.<span title="(tree: RefChecks.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#652982" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          // ModuleDefs need not be considered because they have been eliminated already
          <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#652980" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#652982" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, <a title="List[RefChecks.this.global.TypeDef]" id="653412">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="653413">vparamss</a>, _, _<span class="delimiter">)</span> =&gt;
            <a href="#652980" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#652982" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#652978" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a><span class="delimiter">(</span><a href="#653412" title="List[RefChecks.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
            <a href="#652978" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a><span class="delimiter">(</span><a href="#653413" title="List[List[RefChecks.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">Template</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#652978" title="RefChecks.this.global.Traverser {}" class="keyword">super</a>.<span title="(tree: RefChecks.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#652982" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Forward reference checking ---------------------------------------------------

    <span class="keyword">class</span> <a title="class LevelInfo extends Object with ScalaObject" id="652804">LevelInfo</a><a href="#652804" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="655879">outer</a>: <a href="#652804" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="655863">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#40425" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#655879" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Scopes.scala.html#61744" title="()RefChecks.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="RefChecks.this.global.Scope">Scope</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Scopes.scala.html#61745" title="(base: RefChecks.this.global.Scope)RefChecks.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="RefChecks.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#655879" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#655863" title="=&gt; RefChecks.this.global.Scope">scope</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="655866">maxindex</a>: <span title="Int">Int</span> = Int.<span title="Int(-2147483648)">MinValue</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Position" id="655869">refpos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="655872">refsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a> = _
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="652806">currentLevel</a>: <a href="#652804" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="652808">symIndex</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object RefChecks.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="652810">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#652806" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#652804" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">(</span><a href="#652806" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="652811">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#652806" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#652806" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#655879" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="652812">enterSyms</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="655891">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="655893">index</a> = -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="655913">stat</a> &lt;- <a href="#655891" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#655893" title="Int">index</a> = <a href="#655893" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>;
        <a href="#655913" title="RefChecks.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> | ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            //assert(stat.symbol != NoSymbol, stat);//debug
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="655945">sym</a> = <a href="#655913" title="RefChecks.this.global.Tree">stat</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47990" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655945" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47862" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#652806" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#655863" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#655945" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#652808" title="(key: RefChecks.this.global.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#655945" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#655893" title="Int">index</a>;
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit" id="652813">enterReference</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="655952">pos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="655953">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655953" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47862" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="655955">e</a> = <a href="#652806" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#655863" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61761" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#655953" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#655955" title="RefChecks.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#655953" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#655955" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="655961">l</a> = <a href="#652806" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#655961" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#655863" title="=&gt; RefChecks.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#655955" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71192" title="=&gt; RefChecks.this.global.Scope">owner</a><span class="delimiter">)</span> <a href="#655961" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#655961" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#655879" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="655962">symindex</a> = <a href="#652808" title="(key: RefChecks.this.global.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#655953" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655961" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#655866" title="=&gt; Int">maxindex</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#655962" title="Int">symindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#655961" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#655869" title="(x$1: RefChecks.this.global.Position)Unit">refpos</a> = <a href="#655952" title="RefChecks.this.global.Position">pos</a>
            <a href="#655961" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#655872" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#655953" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#655961" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#655866" title="(x$1: Int)Unit">maxindex</a> = <a href="#655962" title="Int">symindex</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Comparison checking -------------------------------------------------------
    <span class="keyword">object</span> <a title="object RefCheckTransformer.this.normalizeAll" id="652814">normalizeAll</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#40242" title="RefChecks.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="656005">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="656007">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#656007" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit" id="652816">checkSensible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="656030">pos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="656031">fn</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="List[RefChecks.this.global.Tree]" id="656032">args</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#656031" title="RefChecks.this.global.Tree">fn</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="656039">qual</a>, <a title="RefChecks.this.global.Name" id="656040">name</a> @ <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60455" title="=&gt; RefChecks.this.global.TermName">EQ</a> | <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60479" title="=&gt; RefChecks.this.global.TermName">NE</a> | <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60216" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> | <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60290" title="=&gt; RefChecks.this.global.nme.NameType">ne</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#656032" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="656050">isReferenceOp</a> = <a href="#656040" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60216" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> <span title="(x: Boolean)Boolean">||</span> <a href="#656040" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60290" title="=&gt; RefChecks.this.global.nme.NameType">ne</a>
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="656051">isNew</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="656090">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#656090" title="RefChecks.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)">Function</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span>
             | Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; RefChecks.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="656052">underlyingClass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="656108">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656109">sym</a> = <a href="#656108" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <span title="RefChecks.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#656109" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <a href="#656052" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#656109" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#656109" title="RefChecks.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656053">actual</a>   = <a href="#656052" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#656032" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656054">receiver</a> = <a href="#656052" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#656039" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Tree] =&gt; T)T" id="656055">onTrees</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="656057">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree] =&gt; T" id="656111">f</a>: List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="#656111" title="(v1: List[RefChecks.this.global.Tree])T">f</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#656039" title="RefChecks.this.global.Tree">qual</a>, <a href="#656032" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Symbol] =&gt; T)T" id="656058">onSyms</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="656060">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol] =&gt; T" id="656121">f</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="#656121" title="(v1: List[RefChecks.this.global.Symbol])T">f</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a>, <a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // @MAT normalize for consistency in error message, otherwise only part is normalized due to use of `typeSymbol`
        <span class="keyword">def</span> <a title="=&gt; String" id="656061">typesString</a> = <a href="#656005" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</span><a href="#656039" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span><span title="(other: String)String">+</span><span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span title="(x$1: Any)String">+</span><a href="#656005" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span class="delimiter">(</span><a href="#656032" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span>

        /** Symbols which limit the warnings we can issue since they may be value types */
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[RefChecks.this.global.Symbol]" id="656062">isMaybeValue</a> = <span title="(elems: RefChecks.this.global.Symbol*)scala.collection.immutable.Set[RefChecks.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; RefChecks.this.global.Symbol">AnyClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; RefChecks.this.global.Symbol">AnyRefClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#46832" title="=&gt; RefChecks.this.global.Symbol">AnyValClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#46381" title="=&gt; RefChecks.this.global.Symbol">ComparableClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#46379" title="=&gt; RefChecks.this.global.Symbol">JavaSerializableClass</a><span class="delimiter">)</span>

        // Whether def equals(other: Any) is overridden
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="656063">isUsingDefaultEquals</a>      = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656138">m</a> = <a href="#656054" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60224" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#656138" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46635" title="=&gt; RefChecks.this.global.Symbol">Object_equals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#656138" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46587" title="=&gt; RefChecks.this.global.Symbol">Any_equals</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // Whether this == or != is one of those defined in Any/AnyRef or an overload from elsewhere.
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="656064">isUsingDefaultScalaOp</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656151">s</a> = <a href="#656031" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <span class="delimiter">(</span><a href="#656151" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46614" title="=&gt; RefChecks.this.global.Symbol">Object_==</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#656151" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46617" title="=&gt; RefChecks.this.global.Symbol">Object_!=</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#656151" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46581" title="=&gt; RefChecks.this.global.Symbol">Any_==</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#656151" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46584" title="=&gt; RefChecks.this.global.Symbol">Any_!=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // Whether the operands+operator represent a warnable combo (assuming anyrefs)
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="656065">isWarnable</a>           = <a href="#656050" title="=&gt; Boolean">isReferenceOp</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#656063" title="=&gt; Boolean">isUsingDefaultEquals</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#656064" title="=&gt; Boolean">isUsingDefaultScalaOp</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="656066">isEitherNullable</a>     = <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46291" title="object RefChecks.this.global.definitions.NullClass">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70289" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#656054" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46291" title="object RefChecks.this.global.definitions.NullClass">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70289" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#656053" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="656067">isBoolean</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="656176">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#46784" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#656176" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46850" title="=&gt; RefChecks.this.global.Symbol">BooleanClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="656068">isUnit</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="656183">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="../../../reflect/internal/Definitions.scala.html#46784" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#656183" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="656069">isNumeric</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="656189">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#46830" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46784" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#656189" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#656189" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46366" title="=&gt; RefChecks.this.global.Symbol">ScalaNumberClass</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="656070">isSpecial</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="656193">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46784" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#656193" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#656193" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46366" title="=&gt; RefChecks.this.global.Symbol">ScalaNumberClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#656062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#656193" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Int" id="656071">possibleNumericCount</a> = <a href="#656058" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#656219" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="656223">x</a> =&gt; <a href="#656069" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#656223" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#656062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#656223" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="=&gt; Int">size</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="656072">nullCount</a>            = <a href="#656058" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#656240" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a href="#656244" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46291" title="object RefChecks.this.global.definitions.NullClass">NullClass</a><span class="delimiter">)</span> <span title="=&gt; Int">size</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(what: String, alwaysEqual: Boolean)Unit" id="656073">nonSensibleWarning</a><span class="delimiter">(</span><a title="String" id="656251">what</a>: <span title="String">String</span>, <a title="Boolean" id="656252">alwaysEqual</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="656253">msg</a> = <a href="#656252" title="Boolean">alwaysEqual</a> <span title="(x: Boolean)Boolean">==</span> <span class="delimiter">(</span><a href="#656040" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60455" title="=&gt; RefChecks.this.global.TermName">EQ</a> <span title="(x: Boolean)Boolean">||</span> <a href="#656040" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60216" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
          <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#656030" title="RefChecks.this.global.Position">pos</a>, <span title="String(&quot;comparing &quot;)" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)String">+</span><a href="#656251" title="String">what</a><span title="(x$1: Any)String">+</span><span title="String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)String">+</span><a href="#656040" title="RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#656253" title="Boolean">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pre: String, alwaysEqual: Boolean)Unit" id="656074">nonSensible</a><span class="delimiter">(</span><a title="String" id="656269">pre</a>: <span title="String">String</span>, <a title="Boolean" id="656270">alwaysEqual</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
          <a href="#656073" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><a href="#656269" title="String">pre</a><span title="(x$1: Any)String">+</span><span title="String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)String">+</span><a href="#656061" title="=&gt; String">typesString</a>, <a href="#656270" title="Boolean">alwaysEqual</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()Unit" id="656075">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="656271">msg</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#656040" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60455" title="=&gt; RefChecks.this.global.TermName">EQ</a> <span title="(x: Boolean)Boolean">||</span> <a href="#656040" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60216" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
                      <span title="String(&quot;never compare equal&quot;)" class="string">&quot;never compare equal&quot;</span> <span class="keyword">else</span> <span title="String(&quot;always compare unequal&quot;)" class="string">&quot;always compare unequal&quot;</span>
          <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#656030" title="RefChecks.this.global.Position">pos</a>, <a href="#656061" title="=&gt; String">typesString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; are unrelated: they will most likely &quot;)" class="string">&quot; are unrelated: they will most likely &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#656271" title="String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656072" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#656074" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  // null == null
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656072" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656058" title="(f: List[RefChecks.this.global.Symbol] =&gt; Boolean)Boolean">onSyms</a><span class="delimiter">(</span><a href="#656294" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">)</span><span class="delimiter">)</span> // null == 5
            <a href="#656074" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656055" title="(f: List[RefChecks.this.global.Tree] =&gt; Boolean)Boolean">onTrees</a><span class="delimiter">(</span> <a href="#656306" title="List[RefChecks.this.global.Tree]">_</a> <span title="(p: RefChecks.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#656051" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">)</span><span class="delimiter">)</span> // null == new AnyRef
            <a href="#656073" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656067" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#656067" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#656062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>    // true == 5
            <a href="#656074" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656068" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656068" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> // () == ()
            <a href="#656074" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#656068" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#656062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>  // () == &quot;abc&quot;
            <a href="#656074" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656069" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#656069" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#183036" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656068" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#656067" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#656062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>   // 5 == &quot;abc&quot;
              <a href="#656074" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656065" title="=&gt; Boolean">isWarnable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656051" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#656039" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> // new X == y
            <a href="#656073" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656051" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#656032" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#656050" title="=&gt; Boolean">isReferenceOp</a><span class="delimiter">)</span><span class="delimiter">)</span>   // object X ; X == new Y
            <a href="#656073" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  // object X, Y; X == Y
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656066" title="=&gt; Boolean">isEitherNullable</a><span class="delimiter">)</span>
              <a href="#656074" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#656074" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // possibleNumericCount is insufficient or this will warn on e.g. Boolean == j.l.Boolean
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656065" title="=&gt; Boolean">isWarnable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#656072" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#656070" title="(s: RefChecks.this.global.Symbol)Boolean">isSpecial</a><span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#656070" title="(s: RefChecks.this.global.Symbol)Boolean">isSpecial</a><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#656054" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656054" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#656053" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          // warn only if they have no common supertype below Object
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="656355">common</a> = <a href="#238503" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../../reflect/internal/Types.scala.html#40365" title="(ts: List[RefChecks.this.global.Type])RefChecks.this.global.Type">lub</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#656053" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#656054" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656355" title="RefChecks.this.global.Type">common</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46309" title="=&gt; RefChecks.this.global.Symbol">ScalaObjectClass</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#656355" title="RefChecks.this.global.Type">common</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#656075" title="()Unit">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

// Transformation ------------------------------------------------------------

    /* Convert a reference to a case factory of type `tpe` to a new of the class it produces. */
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="652817">toConstructor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="656378">pos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Type" id="656379">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="656381">rtpe</a> = <a href="#656379" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42747" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#656381" title="RefChecks.this.global.Type">rtpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2048L)">CASE</span>, <a href="#656379" title="RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>;
      <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#184442" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#656378" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#238503" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="#238503" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a><span class="delimiter">(</span><a href="#238503" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#656381" title="RefChecks.this.global.Type">rtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#656381" title="RefChecks.this.global.Type">rtpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47977" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree], exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="652818">transformStats</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="656430">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="RefChecks.this.global.Symbol" id="656431">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#652810" title="()Unit">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#652812" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#656430" title="List[RefChecks.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="656435">index</a> = -<span title="Int(-1)" class="int">1</span>
        <a href="#656430" title="List[RefChecks.this.global.Tree]">stats</a> <span title="(f: RefChecks.this.global.Tree =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Tree" id="656452">stat</a> =&gt; <a href="#656435" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>; <a href="#652821" title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]">transformStat</a><span class="delimiter">(</span><a href="#656452" title="RefChecks.this.global.Tree">stat</a>, <a href="#656435" title="Int">index</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#652811" title="()Unit">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Eliminate ModuleDefs.
     *   - A top level object is replaced with their module class.
     *   - An inner object is transformed into a module var, created on first access.
     *
     *  In both cases, this transformation returns the list of replacement trees:
     *   - Top level: the module class accessor definition
     *   - Inner: a class definition, declaration of module var, and module var accessor
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="652819">eliminateModuleDefs</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="656498">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> ModuleDef<a href="#656501" title="(RefChecks.this.global.Modifiers, RefChecks.this.global.TermName, RefChecks.this.global.Template)" class="delimiter">(</a><a href="#656500" title="RefChecks.this.global.Modifiers" id="656501">mods</a>, <a href="#656500" title="RefChecks.this.global.TermName" id="656502">name</a>, <a href="#656500" title="RefChecks.this.global.Template" id="656503">impl</a><span class="delimiter">)</span> = <a href="#656498" title="RefChecks.this.global.Tree">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656504">sym</a>      = <a href="#656498" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656505">classSym</a> = <a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="656506">cdef</a>     = <a href="#238503" title="(mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.TypeName, tparams: List[RefChecks.this.global.TypeDef], impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#656501" title="RefChecks.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#85422" title="(flag: Long)RefChecks.this.global.Modifiers">|</a> <span title="Long(256L)">MODULE</span>, <a href="#656502" title="RefChecks.this.global.TermName">name</a>.<a href="../../../reflect/internal/Names.scala.html#53941" title="=&gt; RefChecks.this.global.TypeName">toTypeName</a>, <span title="object Nil">Nil</span>, <a href="#656503" title="RefChecks.this.global.Template">impl</a><span class="delimiter">)</span> <span title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</span> <a href="#656505" title="RefChecks.this.global.Symbol">classSym</a> <span title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object RefChecks.this.global.NoType">NoType</a>

      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="656507">findOrCreateModuleVar</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#184437" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#656498" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.ValDef" id="656554">createModuleVar</a> = <a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235475" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; RefChecks.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60416" title="(name: RefChecks.this.global.TermName)RefChecks.this.global.TermName">moduleVarName</a><span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53412" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          // In case we are dealing with local symbol then we already have
          // to correct error with forward reference
          <span class="keyword">case</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="RefChecks.this.global.gen.global.ValDef">NoSymbol</a> =&gt; <a href="#656553" title="=&gt; RefChecks.this.global.gen.global.ValDef">createModuleVar</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.ValDef" id="656559">vsym</a>     =&gt; <a href="../../../reflect/internal/Trees.scala.html#40611" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#656559" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="656508">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.MethodSymbol" id="656578">method</a> = <span class="delimiter">(</span>
          <a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47702" title="(name: RefChecks.this.global.TermName, pos: RefChecks.this.global.Position, newFlags: Long)RefChecks.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53412" title="=&gt; RefChecks.this.global.TermName">toTermName</a>, <a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>, <span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Int)Long">|</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(256)">MODULE</span><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Symbols.scala.html#47926" title="(info: RefChecks.this.global.Type)RefChecks.this.global.MethodSymbol">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#66963" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#184437" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#656498" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235477" title="(accessor: RefChecks.this.global.gen.global.Symbol, msym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a><span class="delimiter">(</span><a href="#656578" title="RefChecks.this.global.MethodSymbol">method</a>, <a href="#656504" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]" id="656509">createInnerModuleAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="656603">vdef</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span>
        <a href="#656603" title="RefChecks.this.global.Tree">vdef</a>,
        <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#184437" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#656498" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656610">vsym</a> = <a href="#656603" title="RefChecks.this.global.Tree">vdef</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="656615">rhs</a>  = <a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235478" title="(accessor: RefChecks.this.global.gen.global.Symbol, tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>, <a href="#656610" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="656616">body</a> = <span title="RefChecks.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#656615" title="RefChecks.this.global.gen.global.Tree">rhs</a> <span class="keyword">else</span> <a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235474" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#656610" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#656615" title="RefChecks.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Trees.scala.html#40617" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>, <a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../../../reflect/internal/Trees.scala.html#59727" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#656610" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <span title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</span> <a href="#656504" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <a href="#238519" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#656506" title="RefChecks.this.global.ClassDef">cdef</a> <a href="#656663" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span class="delimiter">{</span>
        <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47857" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
          <a href="#656509" title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">createInnerModuleAccessor</a><span class="delimiter">(</span><a href="#656507" title="()RefChecks.this.global.analyzer.global.Tree">findOrCreateModuleVar</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#656504" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48016" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span>
          <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="#656508" title="()RefChecks.this.global.analyzer.global.Tree">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="object Nil">Nil</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="652820">makeLazyAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="656678">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Tree" id="656679">rhs</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656681">vsym</a>        = <a href="#656678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#656681" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a>, <a href="#656681" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="656682">hasUnitType</a> = <a href="#656681" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656683">lazySym</a>     = <a href="#656681" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47989" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#656683" title="RefChecks.this.global.Symbol">lazySym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#656681" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>

      // for traits, this is further transformed in mixins
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="656684">body</a> = <span class="delimiter">(</span>
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#656678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <a href="#656682" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="#656679" title="RefChecks.this.global.Tree">rhs</a>
        <span class="keyword">else</span> <a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235474" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#656681" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#656679" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="656685">lazyDef</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#656678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40617" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#656683" title="RefChecks.this.global.Symbol">lazySym</a>, <a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../../../reflect/internal/Trees.scala.html#59727" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#656681" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <span title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</span> <a href="#656683" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Made lazy def: &quot;)" class="string">&quot;Made lazy def: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#656685" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span>

      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#656682" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="Typers.scala.html#184436" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#656685" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span>
        <a href="Typers.scala.html#184436" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40611" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#656681" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Typers.scala.html#184436" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#656685" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]" id="652821">transformStat</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="656457">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="Int" id="656458">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#656457" title="RefChecks.this.global.Tree">tree</a> <span title="List[RefChecks.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ModuleDef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#652819" title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">eliminateModuleDefs</a><span class="delimiter">(</span><a href="#656457" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="656798">tree1</a> @ ValDef<span class="delimiter">(</span>_, _, _, <a href="#656797" title="RefChecks.this.global.Tree" id="656799">rhs</a><span class="delimiter">)</span> = <a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="RefChecks.this.global.Tree @unchecked" class="delimiter">(</span><a href="#656457" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> // important to do before forward reference check
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#656457" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
          <a href="#652820" title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">makeLazyAccessor</a><span class="delimiter">(</span><a href="#656457" title="RefChecks.this.global.Tree">tree</a>, <a href="#656799" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="656817">lazySym</a> = <a href="#656457" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47990" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#656817" title="RefChecks.this.global.Symbol">lazySym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47862" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#656458" title="Int">index</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#652806" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#655866" title="=&gt; Int">maxindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;refsym = &quot;)" class="string">&quot;refsym = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652806" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#655872" title="=&gt; RefChecks.this.global.Symbol">refsym</a><span class="delimiter">)</span>
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#652806" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#655869" title="=&gt; RefChecks.this.global.Position">refpos</a>, <span title="String(&quot;forward reference extends over definition of &quot;)" class="string">&quot;forward reference extends over definition of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#656817" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="(xs: RefChecks.this.global.ValDef*)List[RefChecks.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#656798" title="RefChecks.this.global.ValDef">tree1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Import</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">DefDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Modifiers" id="656839">mods</a>, _, _, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#656839" title="RefChecks.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#85417" title="(flag: Long)Boolean">hasFlag</a> <span title="Long(32768L)">MACRO</span><span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">_</span>            =&gt; <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#656457" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /* Check whether argument types conform to bounds of type parameters */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit" id="652822">checkBounds</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="656847">pre</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="656848">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="656849">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Type]" id="656850">argtps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Position" id="656851">pos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span class="keyword">try</span> <a href="../Global.scala.html#182992" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#184322" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#184501" title="(pos: RefChecks.this.global.analyzer.global.Position, pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol, tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#656851" title="RefChecks.this.global.Position">pos</a>, <a href="#656847" title="RefChecks.this.global.Type">pre</a>, <a href="#656848" title="RefChecks.this.global.Symbol">owner</a>, <a href="#656849" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#656850" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="656859">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#656851" title="RefChecks.this.global.Position">pos</a>, <a href="#656859" title="RefChecks.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#183587" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="656864">bounds</a> = <a href="#656849" title="List[RefChecks.this.global.Symbol]">tparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])List[RefChecks.this.global.TypeBounds]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="656881">tp</a> =&gt; <a href="#656881" title="RefChecks.this.global.Symbol">tp</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[RefChecks.this.global.Symbol], actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#656849" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#656850" title="List[RefChecks.this.global.Type]">argtps</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <span title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</span><a href="#656850" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#656864" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="656969">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="656970">bound</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#40394" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#656970" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#656969" title="RefChecks.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</span><a href="#656850" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#656864" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657048">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="657049">bound</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#40394" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#657048" title="RefChecks.this.global.Type">targ</a>, <a href="#657049" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean" id="652823">isIrrefutable</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657079">pat</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Type" id="657080">seltpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#657079" title="RefChecks.this.global.Tree">pat</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span>_, <a title="List[RefChecks.this.global.Tree]" id="657086">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="657087">clazz</a> = <a href="#657079" title="RefChecks.this.global.Tree">pat</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#657087" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#657080" title="RefChecks.this.global.Type">seltpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#657087" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47848" title="=&gt; Boolean">isCaseClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><a href="#657086" title="List[RefChecks.this.global.Tree]">args</a> <span title="(that: scala.collection.GenSeq[RefChecks.this.global.Type])(p: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean">corresponds</span> <a href="#657087" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47977" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42778" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#657080" title="RefChecks.this.global.Type">seltpe</a>, <a href="#657087" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#652823" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">Typed</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657127">pat</a>, <a title="RefChecks.this.global.Tree" id="657128">tpt</a><span class="delimiter">)</span> =&gt;
        <a href="#657080" title="RefChecks.this.global.Type">seltpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#657128" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>
      <span class="keyword">case</span> <span title="Boolean(true)">Ident</span><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">Bind</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.Tree" id="657140">pat</a><span class="delimiter">)</span> =&gt;
        <a href="#652823" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#657140" title="RefChecks.this.global.Tree">pat</a>, <a href="#657080" title="RefChecks.this.global.Type">seltpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    /** If symbol is deprecated, and the point of reference is not enclosed
     *  in either a deprecated member or a scala bridge method, issue a warning.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="652824">checkDeprecated</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657141">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="657142">pos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#657141" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47835" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#238519" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47878" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657152">x</a> =&gt; <a href="#657152" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#47835" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">||</span> <a href="#657152" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#47834" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185133" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#657142" title="RefChecks.this.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is deprecated%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#657141" title="RefChecks.this.global.Symbol">sym</a>, <a href="#657141" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a>, <a href="#657141" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47836" title="=&gt; Option[String]">deprecationMessage</a> <span title="(f: String =&gt; String)Option[String]">map</span> <span class="delimiter">(</span><span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#657162" title="String">_</a><span class="delimiter">)</span> <span title="(default: =&gt; String)String">getOrElse</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Similar to deprecation: check if the symbol is marked with @migration
     *  indicating it has changed semantics between versions.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="652825">checkMigration</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657169">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="657170">pos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#657169" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47839" title="=&gt; Boolean">hasMigrationAnnotation</a><span class="delimiter">)</span>
        <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#657170" title="RefChecks.this.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has changed semantics in version %s:\n%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#657169" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a>, <a href="#657169" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47841" title="=&gt; Option[String]">migrationVersion</a>.<span title="=&gt; String">get</span>, <a href="#657169" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47840" title="=&gt; Option[String]">migrationMessage</a>.<span title="=&gt; String">get</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean" id="652826">lessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657176">otherSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="657177">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#657176" title="RefChecks.this.global.Symbol">otherSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#657176" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48085" title="=&gt; Boolean">isProtected</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#657176" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#657176" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47770" title="=&gt; Boolean">isExistentiallyBound</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#657176" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../../../reflect/internal/Symbols.scala.html#47909" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#657177" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#657176" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../../../reflect/internal/Symbols.scala.html#47909" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#657177" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; RefChecks.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]" id="652827">lessAccessibleSymsInType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657184">other</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="657185">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="657187">extras</a> = <a href="#657184" title="RefChecks.this.global.Type">other</a> <span title="List[RefChecks.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[RefChecks.this.global.Symbol]">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657191">pre</a>, _, <a title="List[RefChecks.this.global.Type]" id="657192">args</a><span class="delimiter">)</span> =&gt;
          // checking the prefix here gives us spurious errors on e.g. a private[process]
          // object which contains a type alias, which normalizes to a visible type.
          <a href="#657192" title="List[RefChecks.this.global.Type]">args</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</span> <span class="delimiter">(</span><a href="#657196" title="RefChecks.this.global.Type">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Types.scala.html#40099" title="object RefChecks.this.global.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Type =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657216">tp</a> =&gt; <a href="#652827" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#657216" title="RefChecks.this.global.Type">tp</a>, <a href="#657185" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt;
          <span title="object Nil">Nil</span>
      <span class="delimiter">}</span>
      <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#652826" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean">lessAccessible</a><span class="delimiter">(</span><a href="#657184" title="RefChecks.this.global.Type">other</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>, <a href="#657185" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#657184" title="RefChecks.this.global.Type">other</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="#657244" title="(x: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">::</a> <a href="#657187" title="List[RefChecks.this.global.Symbol]">extras</a>
      <span class="keyword">else</span> <a href="#657187" title="List[RefChecks.this.global.Symbol]">extras</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit" id="652828">warnLessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657250">otherSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="657251">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="657253">comparison</a> = <a href="#238517" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#657251" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>   =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="keyword">case</span> <a title="String" id="657255">acc</a>  =&gt; <span title="String(&quot; is &quot;)" class="string">&quot; is &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#657255" title="String">acc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; but&quot;)" class="string">&quot; but&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="String" id="657254">cannot</a> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#657251" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span title="String(&quot;may be unable to provide a concrete implementation of&quot;)" class="string">&quot;may be unable to provide a concrete implementation of&quot;</span>
        <span class="keyword">else</span> <span title="String(&quot;may be unable to override&quot;)" class="string">&quot;may be unable to override&quot;</span>

      <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#657251" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>,
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s references %s %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#657251" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a>, <a href="#657253" title="String">comparison</a>,
          <a href="#238517" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#657250" title="RefChecks.this.global.Symbol">otherSym</a><span class="delimiter">)</span>, <a href="#657250" title="RefChecks.this.global.Symbol">otherSym</a>
        <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nClasses which cannot access %s %s %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#657250" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47887" title="=&gt; String">decodedName</a>, <a href="#657254" title="String">cannot</a>, <a href="#657251" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47887" title="=&gt; String">decodedName</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Warn about situations where a method signature will include a type which
     *  has more restrictive access than the method itself.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="652829">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657262">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="657264">member</a> = <a href="#657262" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

      <span class="keyword">def</span> <a title="(tpe: RefChecks.this.global.Type)Unit" id="657265">checkAccessibilityOfType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657266">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="657267">inaccessible</a> = <a href="#652827" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#657266" title="RefChecks.this.global.Type">tpe</a>, <a href="#657264" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
        // if the unnormalized type is accessible, that's good enough
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#657267" title="List[RefChecks.this.global.Symbol]">inaccessible</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        // or if the normalized type is, that's good too
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#657266" title="RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#657266" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#652827" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#657266" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#657264" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        // otherwise warn about the inaccessible syms in the unnormalized type
        <span class="keyword">else</span> <a href="#657267" title="List[RefChecks.this.global.Symbol]">inaccessible</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657288">sym</a> =&gt; <a href="#652828" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#657288" title="RefChecks.this.global.Symbol">sym</a>, <a href="#657264" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // types of the value parameters
      <a href="../../../reflect/internal/Symbols.scala.html#40027" title="(sym: RefChecks.this.global.Symbol)(f: RefChecks.this.global.Symbol =&gt; Unit)List[List[Unit]]">mapParamss</a><span class="delimiter">(</span><a href="#657264" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657297">p</a> =&gt; <a href="#657265" title="(tpe: RefChecks.this.global.Type)Unit">checkAccessibilityOfType</a><span class="delimiter">(</span><a href="#657297" title="RefChecks.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      // upper bounds of type parameters
      <a href="#657264" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,RefChecks.this.global.Type,List[RefChecks.this.global.Type]]" class="delimiter">(</span><a href="#657319" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <a href="#657265" title="(tpe: RefChecks.this.global.Type)Unit">checkAccessibilityOfType</a>
    <span class="delimiter">}</span>

    /** Check that a deprecated val or def does not override a
      * concrete, non-deprecated method.  If it does, then
      * deprecation is meaningless.
      */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="652830">checkDeprecatedOvers</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657370">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="657372">symbol</a> = <a href="#657370" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#657372" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47835" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="657373">concrOvers</a> =
          <a href="#657372" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#48015" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657379">sym</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#657379" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47835" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#657379" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#657373" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185133" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
            <a href="#657370" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>,
            <a href="#657372" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#48046" title="()String">toString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> <span title="(x$1: Any)String">+</span>
            <a href="#657373" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#657396" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="652831">isRepeatedParamArg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657428">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#652779" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657435">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="657436">args</a><span class="delimiter">)</span> =&gt;
        <span title="=&gt; Boolean">!</span><a href="#657436" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#657436" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">last</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#657428" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#657435" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#657436" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46396" title="(tp: RefChecks.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#657435" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; RefChecks.this.global.Symbol">last</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit" id="652832">checkTypeRef</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657446">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Position" id="657447">pos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#657446" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657453">pre</a>, <a title="RefChecks.this.global.Symbol" id="657454">sym</a>, <a title="List[RefChecks.this.global.Type]" id="657455">args</a><span class="delimiter">)</span> =&gt;
        <a href="#652824" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#657454" title="RefChecks.this.global.Symbol">sym</a>, <a href="#657447" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#657454" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
          <a href="#657454" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#657477" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47935" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#657446" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42714" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span>
          <a href="#652822" title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkBounds</a><span class="delimiter">(</span><a href="#657453" title="RefChecks.this.global.Type">pre</a>, <a href="#657454" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>, <a href="#657454" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#657455" title="List[RefChecks.this.global.Type]">args</a>, <a href="#657447" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpes: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit" id="652833">checkAnnotations</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="657479">tpes</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Position" id="657480">pos</a>: <a href="../util/Position.scala.html#34604" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#657479" title="List[RefChecks.this.global.Type]">tpes</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657502">tp</a> =&gt; <a href="#652832" title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#657502" title="RefChecks.this.global.Type">tp</a>, <a href="#657480" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit" id="652834">doTypeTraversal</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657504">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type =&gt; Unit" id="657505">f</a>: Type =&gt; Unit<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#652782" title="=&gt; Boolean">inPattern</a><span class="delimiter">)</span> <a href="#657504" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42790" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#657505" title="RefChecks.this.global.Type =&gt; Unit">f</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="652835">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657512">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]" id="657514">applyChecks</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="657515">annots</a>: <span title="List[RefChecks.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#652833" title="(tpes: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkAnnotations</a><span class="delimiter">(</span><a href="#657515" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(f: RefChecks.this.global.AnnotationInfo =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#657532" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47239" title="=&gt; RefChecks.this.global.Type">atp</a><span class="delimiter">)</span>, <a href="#657512" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
        <a href="#238519" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#657515" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(f: RefChecks.this.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</span> <span class="delimiter">(</span><a href="#657576" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47240" title="=&gt; List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#657512" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="657604">m</a>: <span title="RefChecks.this.global.MemberDef">MemberDef</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="657605">sym</a> = <a href="#657604" title="RefChecks.this.global.MemberDef">m</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <a href="#657514" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span class="delimiter">(</span><a href="#657605" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
          // validate implicitNotFoundMessage
          <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="Implicits.scala.html#184146" title="object RefChecks.this.global.analyzer.ImplicitNotFoundMsg">ImplicitNotFoundMsg</a>.<a href="Implicits.scala.html#627195" title="(sym: RefChecks.this.global.analyzer.global.Symbol)Option[String]">check</a><span class="delimiter">(</span><a href="#657605" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="657611">warn</a> =&gt;
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#657512" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Invalid implicitNotFound message for %s%s:\n%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#657605" title="RefChecks.this.global.Symbol">sym</a>, <a href="#657605" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a>, <a href="#657611" title="String">warn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a title="Unit" id="657616">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#657616" title="RefChecks.this.global.TypeTree">tpt</a>.<span title="=&gt; RefChecks.this.global.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#657616" title="RefChecks.this.global.TypeTree">tpt</a>.<span title="=&gt; RefChecks.this.global.Tree">original</span> <span title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</span> <a href="#657626" title="Unit" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="Unit" id="657627">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#652835" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#657627" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../ast/Trees.scala.html#251968" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // #2416
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <a href="#652834" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#657512" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#657630" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="657634">annots</a>, _, _<span class="delimiter">)</span>  =&gt; <a href="#657514" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span title="Unit" class="delimiter">(</span><a href="#657634" title="List[RefChecks.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree" id="652836">transformCaseApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657635">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="=&gt; Unit" id="657636">ifNot</a>: =&gt; Unit<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="657639">sym</a> = <a href="#657635" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

      <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#657639" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47780" title="=&gt; Boolean">isSourceMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#657639" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48078" title="=&gt; Boolean">isCase</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#657639" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; RefChecks.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
        <a href="#652817" title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a><span class="delimiter">(</span><a href="#657635" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#657635" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#657636" title="=&gt; Unit">ifNot</a>
        <a href="#657635" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree" id="652837">transformApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Apply" id="657645">tree</a>: <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#657645" title="RefChecks.this.global.Apply">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Apply</span><span class="delimiter">(</span>
        Select<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657655">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60232" title="=&gt; RefChecks.this.global.nme.NameType">filter</a><span class="delimiter">)</span>,
        <a href="#657657" title="(x: List[RefChecks.this.global.Tree])Some[List[RefChecks.this.global.Tree]]">List</a><span class="delimiter">(</span>Function<span class="delimiter">(</span>
          <a href="#657671" title="(x: List[RefChecks.this.global.ValDef])Some[List[RefChecks.this.global.ValDef]]">List</a><span class="delimiter">(</span>ValDef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.TermName" id="657699">pname</a>, <a title="RefChecks.this.global.Tree" id="657700">tpt</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>,
          Match<span class="delimiter">(</span>_, CaseDef<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657716">pat1</a>, _, _<span class="delimiter">)</span> :: _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#657699" title="RefChecks.this.global.TermName">pname</a> <a href="../../../reflect/internal/Names.scala.html#53443" title="(name: String)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60419" title="=&gt; String">CHECK_IF_REFUTABLE_STRING</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#652823" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#657716" title="RefChecks.this.global.Tree">pat1</a>, <a href="#657700" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#657655" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#657645" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

          <a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#657655" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="RefChecks.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657739">tpt</a><span class="delimiter">)</span>, <a title="RefChecks.this.global.Name" id="657740">name</a><span class="delimiter">)</span>, <a title="List[RefChecks.this.global.Tree]" id="657741">args</a><span class="delimiter">)</span>
      <span class="keyword">if</span> <span class="delimiter">(</span><a href="#657739" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; RefChecks.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#657741" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt;
        <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185133" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#657645" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>,
          <span title="String(&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;)" class="string">&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="657752">manif</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="657754">etpe</a> = <a href="#657739" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657774">_</a> &lt;- <a href="#657741" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#657754" title="RefChecks.this.global.Type">etpe</a> = <a href="#657754" title="RefChecks.this.global.Type">etpe</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<span title="=&gt; Option[RefChecks.this.global.Type]">headOption</span>.<span title="(default: =&gt; RefChecks.this.global.Type)RefChecks.this.global.Type">getOrElse</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40097" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#657754" title="RefChecks.this.global.Type">etpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#657645" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span title="String(&quot;too many dimensions for array creation&quot;)" class="string">&quot;too many dimensions for array creation&quot;</span><span class="delimiter">)</span>
            <a href="#238503" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#184454" title="(pos: RefChecks.this.global.analyzer.global.Position, tp: RefChecks.this.global.analyzer.global.Type, full: Boolean)RefChecks.this.global.analyzer.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#657645" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#657754" title="RefChecks.this.global.Type">etpe</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="657753">newResult</a> = <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#184437" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#657645" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="RefChecks.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="#238503" title="RefChecks.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92622" title="(receiver: RefChecks.this.global.gen.global.Symbol, methodName: RefChecks.this.global.gen.global.Name, args: List[RefChecks.this.global.gen.global.Tree])RefChecks.this.global.gen.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46438" title="=&gt; RefChecks.this.global.Symbol">ArrayModule</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60304" title="=&gt; RefChecks.this.global.nme.NameType">ofDim</a>, <a href="#657741" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="#657752" title="RefChecks.this.global.analyzer.global.Tree">manif</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#652779" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#657645" title="RefChecks.this.global.Apply">tree</a>
        <a href="#657753" title="RefChecks.this.global.analyzer.global.Tree">newResult</a>

      <span class="keyword">case</span> <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657829">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="657830">args</a><span class="delimiter">)</span> =&gt;
        <a href="#652816" title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit">checkSensible</a><span class="delimiter">(</span><a href="#657645" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#657829" title="RefChecks.this.global.Tree">fn</a>, <a href="#657830" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>
        <a href="#652779" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#657645" title="RefChecks.this.global.Apply">tree</a>
        <a href="#657645" title="RefChecks.this.global.Apply">tree</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree" id="652838">transformSelect</a><span class="delimiter">(</span><a title="RefChecks.this.global.Select" id="657831">tree</a>: <span title="RefChecks.this.global.Select">Select</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Select<a href="#657834" title="(RefChecks.this.global.Tree, RefChecks.this.global.Name)" class="delimiter">(</a><a href="#657833" title="RefChecks.this.global.Tree" id="657834">qual</a>, <a href="#657833" title="RefChecks.this.global.Name" id="657835">name</a><span class="delimiter">)</span> = <a href="#657831" title="RefChecks.this.global.Select">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="657836">sym</a> = <a href="#657831" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

      /** Note: if a symbol has both @deprecated and @migration annotations and both
       *  warnings are enabled, only the first one checked here will be emitted.
       *  I assume that's a consequence of some code trying to avoid noise by suppressing
       *  warnings after the first, but I think it'd be better if we didn't have to
       *  arbitrarily choose one as more important than the other.
       */
      <a href="#652824" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#657836" title="RefChecks.this.global.Symbol">sym</a>, <a href="#657831" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183384" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#652825" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkMigration</a><span class="delimiter">(</span><a href="#657836" title="RefChecks.this.global.Symbol">sym</a>, <a href="#657831" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#238519" title="=&gt; RefChecks.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#657836" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#657836" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48107" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="657856">o</a> = <a href="#238519" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
        <span class="keyword">var</span> <a title="Boolean" id="657857">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#657857" title="Boolean">hidden</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#657856" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#657836" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#657856" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#657836" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#657856" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47786" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span> <a href="#657858" title="()Unit" class="delimiter">{</a>
          <a href="#657857" title="Boolean">hidden</a> = <a href="#657856" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">||</span> <a href="#657856" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48088" title="=&gt; Boolean">isPrivateLocal</a>
          <a href="#657856" title="RefChecks.this.global.Symbol">o</a> = <a href="#657856" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#657857" title="Boolean">hidden</a><span class="delimiter">)</span> <a href="#652800" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <span title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type">+=</span> <a href="#657836" title="RefChecks.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(mix: RefChecks.this.global.Name)Unit" id="657837">checkSuper</a><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="657897">mix</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="RefChecks.this.global.Name">Name</a><span class="delimiter">)</span> =
        // term should have been eliminated by super accessors
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#657834" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#657836" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#657897" title="RefChecks.this.global.Name">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60579" title="=&gt; RefChecks.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#652836" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#657831" title="RefChecks.this.global.Select">tree</a>,
        <a href="#657834" title="RefChecks.this.global.Tree">qual</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Super</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.TypeName" id="657911">mix</a><span class="delimiter">)</span>  =&gt; <a href="#657837" title="(mix: RefChecks.this.global.Name)Unit">checkSuper</a><span class="delimiter">(</span><a href="#657911" title="RefChecks.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span>              =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree" id="652839">transformIf</a><span class="delimiter">(</span><a title="RefChecks.this.global.If" id="657912">tree</a>: <span title="RefChecks.this.global.If">If</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> If<a href="#657915" title="(RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree)" class="delimiter">(</a><a href="#657914" title="RefChecks.this.global.Tree" id="657915">cond</a>, <a href="#657914" title="RefChecks.this.global.Tree" id="657916">thenpart</a>, <a href="#657914" title="RefChecks.this.global.Tree" id="657917">elsepart</a><span class="delimiter">)</span> = <a href="#657912" title="RefChecks.this.global.If">tree</a>
      <span class="keyword">def</span> <a title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="657918">unitIfEmpty</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="657934">t</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> =
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#657934" title="RefChecks.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#238503" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#238503" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Literal">setPos</span><span class="delimiter">(</span><a href="#657912" title="RefChecks.this.global.If">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>.<span title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#657934" title="RefChecks.this.global.Tree">t</a>

      <a href="#657915" title="RefChecks.this.global.Tree">cond</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ConstantType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Constant" id="657947">value</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="657948">res</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#657947" title="RefChecks.this.global.Constant">value</a>.<a href="../../../reflect/internal/Constants.scala.html#47594" title="=&gt; Boolean">booleanValue</a><span class="delimiter">)</span> <a href="#657916" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#657917" title="RefChecks.this.global.Tree">elsepart</a>
          <a href="#657918" title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree">unitIfEmpty</a><span class="delimiter">(</span><a href="#657948" title="RefChecks.this.global.Tree">res</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.If">_</span> =&gt; <a href="#657912" title="RefChecks.this.global.If">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // Warning about nullary methods returning Unit.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Unit" id="652840">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657949">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#657949" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="657953">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#657953" title="RefChecks.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a> =&gt;
        // this may be the implementation of e.g. a generic method being parameterized
        // on Unit, in which case we had better let it slide.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#657949" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">||</span> <a href="#657949" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48015" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="657967">over</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#657967" title="RefChecks.this.global.Symbol">over</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; RefChecks.this.global.Type">resultType</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#657949" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; RefChecks.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#657949" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; RefChecks.this.global.Position">pos</a>,
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;side-effecting nullary methods are discouraged: suggest defining as `def %s()` instead&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
           <a href="#657949" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="652841">transform</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="656800">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="657980">savedLocalTyper</a> = <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="657981">savedCurrentApplication</a> = <a href="#652779" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="657982">sym</a> = <a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

        // Apply RefChecks to annotations. Makes sure the annotations conform to
        // type bounds (bug #935), issues deprecation warnings for symbols used
        // inside annotations.
        <a href="#652835" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="657983">result</a>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#656800" title="RefChecks.this.global.Tree">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Modifiers" id="657992">mods</a>, <a title="RefChecks.this.global.Name" id="657993">name</a>, <a title="List[RefChecks.this.global.TypeDef]" id="657994">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="657995">vparams</a>, <a title="RefChecks.this.global.Tree" id="657996">tpt</a>, <a href="#238503" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46709" title="=&gt; RefChecks.this.global.Symbol">NativeAttr</a><span class="delimiter">)</span> =&gt;
            <a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)RefChecks.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
            <a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#238519" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<span title="(tree: RefChecks.this.global.Tree, mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.Name, tparams: List[RefChecks.this.global.TypeDef], vparamss: List[List[RefChecks.this.global.ValDef]], tpt: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</span><span class="delimiter">(</span>
              <a href="#656800" title="RefChecks.this.global.Tree">tree</a>, <a href="#657992" title="RefChecks.this.global.Modifiers">mods</a>, <a href="#657993" title="RefChecks.this.global.Name">name</a>, <a href="#657994" title="List[RefChecks.this.global.TypeDef]">tparams</a>, <a href="#657995" title="List[List[RefChecks.this.global.ValDef]]">vparams</a>, <a href="#657996" title="RefChecks.this.global.Tree">tpt</a>,
              <a href="Typers.scala.html#184436" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235482" title="(message: String)RefChecks.this.global.gen.global.Tree">mkSysErrorCall</a><span class="delimiter">(</span><span title="String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#652830" title="(tree: RefChecks.this.global.Tree)Unit">checkDeprecatedOvers</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183633" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryUnit</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#652840" title="(sym: RefChecks.this.global.Symbol)Unit">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a href="#657982" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183635" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnInaccessible</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#657982" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#657982" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#657982" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>
                <a href="#652829" title="(tree: RefChecks.this.global.Tree)Unit">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#656800" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="658034">parents</a>, <a title="RefChecks.this.global.ValDef" id="658035">self</a>, <a title="List[RefChecks.this.global.Tree]" id="658036">body</a><span class="delimiter">)</span> =&gt;
            <a href="#652776" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#652776" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#184435" title="(tree: RefChecks.this.global.analyzer.global.Tree, owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>, <a href="#238519" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#652791" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a><span class="delimiter">(</span><a href="#238519" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#652787" title="(clazz: RefChecks.this.global.Symbol)Unit">checkOverloadedRestrictions</a><span class="delimiter">(</span><a href="#238519" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="658037">bridges</a> = <a href="#652789" title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]">addVarargBridges</a><span class="delimiter">(</span><a href="#238519" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#652790" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#238519" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#658037" title="List[RefChecks.this.global.Tree]">bridges</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#238519" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<span title="(tree: RefChecks.this.global.Tree, parents: List[RefChecks.this.global.Tree], self: RefChecks.this.global.ValDef, body: List[RefChecks.this.global.Tree])RefChecks.this.global.Template">Template</span><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>, <a href="#658034" title="List[RefChecks.this.global.Tree]">parents</a>, <a href="#658035" title="RefChecks.this.global.ValDef">self</a>, <a href="#658036" title="List[RefChecks.this.global.Tree]">body</a> <a href="#658049" title="(prefix: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">:::</a> <a href="#658037" title="List[RefChecks.this.global.Tree]">bridges</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#656800" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <a title="RefChecks.this.global.TypeTreeWithDeferredRefCheck" id="658057">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;)" class="string">&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;</span><span class="delimiter">)</span>; <a href="#658057" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="658061">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#658061" title="RefChecks.this.global.TypeTree">tpt</a>.<span title="=&gt; RefChecks.this.global.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#658061" title="RefChecks.this.global.TypeTree">tpt</a>.<span title="=&gt; RefChecks.this.global.Tree">original</span> <span title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</span> <a href="#658071" title="Unit" class="delimiter">{</a>
                <span class="keyword">case</span> <a title="Unit" id="658072">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                  <a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="Unit" class="delimiter">(</span><a href="#658072" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../ast/Trees.scala.html#251968" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // #2416 -- only call transform to do refchecks, but discard results
                  // tpt has the right type if the deferred checks are ok
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="658064">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#652834" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#658075" title="Unit" class="delimiter">{</a> // check all bounds, except those that are existential type parameters
              <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="658078">tparams</a>, <a title="RefChecks.this.global.Type" id="658079">tpe</a><span class="delimiter">)</span> =&gt;
                <a href="#658064" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a> <span title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Symbol])existentialParams.type">++=</span> <a href="#658078" title="List[RefChecks.this.global.Symbol]">tparams</a>
              <span class="keyword">case</span> <a title="Unit" id="658082">t</a>: <a href="../../../reflect/internal/Types.scala.html#40142" title="RefChecks.this.global.TypeRef">TypeRef</a> =&gt;
                <a href="#652832" title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#40017" title="(syms: List[RefChecks.this.global.Symbol])(tpe: RefChecks.this.global.Type)RefChecks.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#658064" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">toList</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#658082" title="RefChecks.this.global.TypeRef">t</a><span class="delimiter">)</span>, <a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
            <a href="#656800" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="658087">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="658088">args</a><span class="delimiter">)</span> =&gt;
            <a href="#652822" title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkBounds</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40099" title="object RefChecks.this.global.NoPrefix">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#658087" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#658088" title="List[RefChecks.this.global.Tree]">args</a> <span title="(f: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#658105" title="RefChecks.this.global.Tree">_</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
            <a href="#652836" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="658133">x</a> @ Apply<span class="delimiter">(</span>_, _<span class="delimiter">)</span>  =&gt;
            <a href="#652837" title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree">transformApply</a><span class="delimiter">(</span><a href="#658133" title="RefChecks.this.global.Apply">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="658138">x</a> @ If<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span>  =&gt;
            <a href="#652839" title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree">transformIf</a><span class="delimiter">(</span><a href="#658138" title="RefChecks.this.global.If">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">New</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="658145">tpt</a><span class="delimiter">)</span> =&gt;
            <a href="#652813" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#658145" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <a href="#656800" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Typed</span><span class="delimiter">(</span>_, Ident<span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#67899" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#652831" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> =&gt;
            <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="String(&quot;no `: _*\' annotation allowed here\n(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span><span class="delimiter">)</span>
            <a href="#656800" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="658155">name</a><span class="delimiter">)</span> =&gt;
            <a href="#652836" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>,
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#658155" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; RefChecks.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#658155" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#67899" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#657982" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;transformCaseApply: name = &quot;)" class="string">&quot;transformCaseApply: name = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#658155" title="RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53464" title="=&gt; String">debugString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree = &quot;)" class="string">&quot; tree = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#656800" title="RefChecks.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span> //debug
                <a href="#652813" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#657982" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="658172">x</a> @ Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <a href="#652838" title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree">transformSelect</a><span class="delimiter">(</span><a href="#658172" title="RefChecks.this.global.Select">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">UnApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="658179">fun</a>, <a title="List[RefChecks.this.global.Tree]" id="658180">args</a><span class="delimiter">)</span> =&gt;
            <a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#658179" title="RefChecks.this.global.Tree">fun</a><span class="delimiter">)</span> // just make sure we enterReference for unapply symbols, note that super.transform(tree) would not transform(fun)
                           // transformTrees(args) // TODO: is this necessary? could there be forward references in the args??
                           // probably not, until we allow parameterised extractors
            <a href="#656800" title="RefChecks.this.global.Tree">tree</a>


          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt; <a href="#656800" title="RefChecks.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
        <a href="#657983" title="RefChecks.this.global.Tree">result</a> = <a href="#657983" title="RefChecks.this.global.Tree">result</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="658186">pat</a>, <a title="RefChecks.this.global.Tree" id="658187">guard</a>, <a title="RefChecks.this.global.Tree" id="658188">body</a><span class="delimiter">)</span> =&gt;
            <a href="#652782" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="658189">pat1</a> = <a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#658186" title="RefChecks.this.global.Tree">pat</a><span class="delimiter">)</span>
            <a href="#652782" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#238519" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<span title="(tree: RefChecks.this.global.Tree, pat: RefChecks.this.global.Tree, guard: RefChecks.this.global.Tree, body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>, <a href="#658189" title="RefChecks.this.global.Tree">pat1</a>, <a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#658187" title="RefChecks.this.global.Tree">guard</a><span class="delimiter">)</span>, <a href="#652841" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#658188" title="RefChecks.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt;
            <a href="#238519" title="RefChecks.this.RefCheckTransformer" class="keyword">super</a>.<span title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#657983" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#657983" title="RefChecks.this.global.Tree">result</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>
             | TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#657983" title="RefChecks.this.global.Tree">result</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47862" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#657983" title="RefChecks.this.global.Tree">result</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
              <a href="#652802" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<span title="(tree: RefChecks.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#657983" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#657983" title="RefChecks.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="658210">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#658210" title="RefChecks.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>;
          <a href="#652842" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#656800" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#658210" title="RefChecks.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#656800" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#652776" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#657980" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
        <a href="#652779" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#657981" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>