<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Typers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

// Added: Sat Oct 7 16:08:21 2006
//todo: use inherited type info also for vars and values

// Added: Thu Apr 12 18:23:58 2007
//todo: disallow C#D in superclass
//todo: treat :::= correctly
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.util.BatchSourceFile
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> util.Statistics
<span class="keyword">import</span> util.<a href="../util/Statistics.scala.html#34980" title="object scala.tools.nsc.util.Statistics">Statistics</a>._
<span class="keyword">import</span> scala.tools.util.<a href="../../util/StringOps.scala.html#35941" title="object scala.tools.util.StringOps">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.util.<a href="../../util/EditDistance.scala.html#35938" title="object scala.tools.util.EditDistance">EditDistance</a>.similarString

// Suggestion check whether we can do without priming scopes with symbols of outer scopes,
// like the IDE does.
/** This trait provides methods to assign types to trees.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Typers extends Object with scala.tools.nsc.typechecker.Modes with scala.tools.nsc.typechecker.Adaptations with scala.tools.nsc.typechecker.PatMatVirtualiser with ScalaObject" id="33124">Typers</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Modes.scala.html#33166" title="scala.tools.nsc.typechecker.Modes">Modes</a> <span class="keyword">with</span> <a href="Adaptations.scala.html#33535" title="scala.tools.nsc.typechecker.Adaptations">Adaptations</a> <span class="keyword">with</span> <a href="PatMatVirtualiser.scala.html#34183" title="scala.tools.nsc.typechecker.PatMatVirtualiser">PatMatVirtualiser</a> <span class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#183929" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Typers.this.global.definitions">definitions</a>._

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, mode: Int)Int" id="184049">forArgMode</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="670425">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="670426">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118927" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#670425" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#670426" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(8)">SCCmode</span>
    <span class="keyword">else</span> <a href="#670426" title="Int">mode</a>

  // namer calls typer.computeType(rhs) on DefDef / ValDef when tpt is empty. the result
  // is cached here and re-used in typedDefDef / typedValDef
  // Also used to cache imports type-checked by namer.
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" id="184050">transformed</a> = <span title="()scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">HashMap</span><span class="delimiter">[</span>Tree, Tree<span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="184052">shortenImports</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="()Unit" id="184054">resetTyper</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    //println(&quot;resetTyper called&quot;)
    <a href="Contexts.scala.html#183955" title="()Unit">resetContexts</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Namers.scala.html#183983" title="()Unit">resetNamer</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Implicits.scala.html#184127" title="()Unit">resetImplicits</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#184050" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Typers.this.UnTyper" id="184055">UnTyper</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Analyzer.scala.html#183929" title="Typers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Unit" id="640324">traverse</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="640325">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#640325" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#640325" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#640325" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#640325" title="Typers.this.global.Tree">tree</a>.<span title="(sym: Typers.this.global.Symbol)Unit">symbol</span> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">super</span>.<span title="(tree: Typers.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#640325" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
/* needed for experimental version where eraly types can be type arguments
  class EarlyMap(clazz: Symbol) extends TypeMap {
    def apply(tp: Type): Type = tp match {
      case TypeRef(NoPrefix, sym, List()) if (sym hasFlag PRESUPER) =&gt;
        TypeRef(ThisType(clazz), sym, List())
      case _ =&gt;
        mapOver(tp)
    }
  }
*/

  <span class="keyword">def</span> <a title="(context: Typers.this.Context)Typers.this.Typer" id="184057">newTyper</a><span class="delimiter">(</span><a title="Typers.this.Context" id="431118">context</a>: <a href="Contexts.scala.html#183956" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <a href="#184062" title="Typers.this.Typer">Typer</a> = <span title="Typers.this.NormalTyper" class="keyword">new</span> <a href="#184058" title="Typers.this.NormalTyper">NormalTyper</a><span class="delimiter">(</span><a href="#431118" title="Typers.this.Context">context</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NormalTyper extends Typers.this.Typer with ScalaObject" id="184058">NormalTyper</a><a href="#184058" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="670438">context</a> : <a href="Contexts.scala.html#183956" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#184062" title="Typers.this.Typer">Typer</a><span class="delimiter">(</span><a href="#670438" title="Typers.this.Context">context</a><span class="delimiter">)</span>

  // A transient flag to mark members of anonymous classes
  // that are turned private by typedBlock
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Long(274877906944L)" id="184059">SYNTHETIC_PRIVATE</a> = <span title="Long(274877906944L)">TRANS_FLAG</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="184061">isPastTyper</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70367" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../Global.scala.html#183023" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185227" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#70367" title="=&gt; Int">id</a>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Typer extends Object with Typers.this.TyperDiagnostics with Typers.this.Adaptation with ScalaObject" id="184062">Typer</a><a href="#184062" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="240417">context0</a>: <a href="Contexts.scala.html#183956" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypeDiagnostics.scala.html#184293" title="Typers.this.TyperDiagnostics">TyperDiagnostics</a> <span class="keyword">with</span> <a href="Adaptations.scala.html#184067" title="Typers.this.Adaptation">Adaptation</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#240417" title="Typers.this.Context">context0</a>.unit
    <span class="keyword">import</span> <a href="../../../reflect/internal/TypeDebugging.scala.html#40674" title="object Typers.this.global.typeDebug">typeDebug</a>.<span class="delimiter">{</span> ptTree, ptBlock, ptLine <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Typers.this.Inferencer" id="184322">infer</a> = <a href="#184463" title="Typers.this.Inferencer" class="keyword">new</a> <a href="Infer.scala.html#184108" title="anonymous class $anon extends Typers.this.Inferencer" id="184463">Inferencer</a><span class="delimiter">(</span><a href="#240417" title="Typers.this.Context">context0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, pt: Typers.this.global.Type)Boolean" id="184540">isCoercible</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="184541">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="184542">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../../../reflect/internal/Types.scala.html#40074" title="object Typers.this.global.undoLog">undoLog</a> <a href="../../../reflect/internal/Types.scala.html#128919" title="(block: =&gt; Boolean)Boolean">undo</a> <span class="delimiter">{</span> // #3281
        <a href="#184541" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#184542" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span>
        <a href="#240417" title="Typers.this.Context">context0</a>.<a href="Contexts.scala.html#184612" title="=&gt; Boolean">implicitsEnabled</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> // this condition prevents chains of views
        <a href="#184325" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#184541" title="Typers.this.global.Type">tp</a>, <a href="#184542" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

    /** Find implicit arguments and pass them to given tree.
     */
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Tree" id="184324">applyImplicitArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="670456">fun</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#670456" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.ApplyToImplicitArgs">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="670460">params</a>, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" id="670461">argResultsBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">ListBuffer</span><span class="delimiter">[</span>SearchResult<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="670462">argBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree" id="670463">mkPositionalArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="670468">argTree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="670469">paramName</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#670468" title="Typers.this.global.Tree">argTree</a>
        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg" id="670464">mkNamedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="670470">argTree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="670471">paramName</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#670470" title="Typers.this.global.Tree">argTree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#183105" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#670471" title="Typers.this.global.Name">paramName</a><span class="delimiter">)</span>, <span class="delimiter">(</span><a href="#670470" title="Typers.this.global.Tree">argTree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree" id="670465">mkArg</a>: <span class="delimiter">(</span>Tree, Name<span class="delimiter">)</span> =&gt; Tree = <a href="#670463" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree">mkPositionalArg</a>

        <span class="keyword">def</span> <a title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String" id="670466">errorMessage</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="670499">paramName</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Type" id="670500">paramTp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
          <a href="#670500" title="Typers.this.global.Type">paramTp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="Implicits.scala.html#627194" title="String">ImplicitNotFoundMsg</a><span class="delimiter">(</span><a title="Typers.this.ImplicitNotFoundMsg.Message" id="670506">msg</a><span class="delimiter">)</span> =&gt; <a href="#670506" title="Typers.this.ImplicitNotFoundMsg.Message">msg</a>.<a href="Implicits.scala.html#627213" title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String">format</a><span class="delimiter">(</span><a href="#670499" title="Typers.this.global.Name">paramName</a>, <a href="#670500" title="Typers.this.global.Type">paramTp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="String">_</span> =&gt;
              <span title="String(&quot;could not find implicit value for &quot;)" class="string">&quot;could not find implicit value for &quot;</span><span title="(x$1: Any)String">+</span>
                 <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670499" title="Typers.this.global.Name">paramName</a> <a href="../../../reflect/internal/Names.scala.html#53443" title="(name: String)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60427" title="=&gt; String">EVIDENCE_PARAM_PREFIX</a><span class="delimiter">)</span> <span title="String(&quot;evidence parameter of type &quot;)" class="string">&quot;evidence parameter of type &quot;</span>
                  <span class="keyword">else</span> <span title="String(&quot;parameter &quot;)" class="string">&quot;parameter &quot;</span><span title="(x$1: Any)String">+</span><a href="#670499" title="Typers.this.global.Name">paramName</a><span title="(x$1: Any)String">+</span><span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><a href="#670500" title="Typers.this.global.Type">paramTp</a>
          <span class="delimiter">}</span>

        // DEPMETTODO: instantiate type vars that depend on earlier implicit args (see adapt (4.1))
        //
        // apply the substitutions (undet type param -&gt; type) that were determined
        // by implicit resolution of implicit arguments on the left of this argument
        <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="670542">param</a> &lt;- <a href="#670460" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Type" id="670543">paramTp</a> = <a href="#670542" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.SearchResult" id="670564">ar</a> &lt;- <a href="#670461" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span>
            <a href="#670543" title="Typers.this.global.Type">paramTp</a> = <a href="#670543" title="Typers.this.global.Type">paramTp</a>.<a href="../../../reflect/internal/Types.scala.html#42782" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#670564" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#431164" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#127601" title="=&gt; List[Typers.this.global.Symbol]">from</a>, <a href="#670564" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#431164" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#127603" title="=&gt; List[Typers.this.global.Type]">to</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="670544">res</a> = <a href="Implicits.scala.html#184115" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#670456" title="Typers.this.global.Tree">fun</a>, <a href="#670543" title="Typers.this.global.Type">paramTp</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <a href="#670461" title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">argResultsBuff</a> <span title="(x: Typers.this.SearchResult)argResultsBuff.type">+=</span> <a href="#670544" title="Typers.this.SearchResult">res</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670544" title="Typers.this.SearchResult">res</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Implicits.scala.html#184133" title="=&gt; Typers.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670462" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a> <span title="(x: Typers.this.global.Tree)argBuff.type">+=</span> <a href="#670465" title="(v1: Typers.this.global.Tree, v2: Typers.this.global.Name)Typers.this.global.Tree">mkArg</a><span class="delimiter">(</span><a href="#670544" title="Typers.this.SearchResult">res</a>.<a href="Implicits.scala.html#431162" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#670542" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#670465" title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree">mkArg</a> = <a href="#670464" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg">mkNamedArg</a> // don't pass the default argument (if any) here, but start emitting named arguments for the following args
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670542" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48101" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span>
              <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184653" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670456" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#670466" title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String">errorMessage</a><span class="delimiter">(</span><a href="#670542" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a>, <a href="#670542" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            /* else {
             TODO: alternative (to expose implicit search failure more) --&gt;
             resolve argument, do type inference, keep emitting positional args, infer type params based on default value for arg
             for (ar &lt;- argResultsBuff) ar.subst traverse defaultVal
             val targs = exprTypeArgs(context.undetparams, defaultVal.tpe, paramTp)
             substExpr(tree, tparams, targs, pt)
            }*/
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="670467">args</a> = <a href="#670462" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.SearchResult" id="670639">ar</a> &lt;- <a href="#670461" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#670639" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#431164" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#127553" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#670456" title="Typers.this.global.Tree">fun</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="670661">arg</a> &lt;- <a href="#670467" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <a href="#670639" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#431164" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#127553" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#670661" title="Typers.this.global.Tree">arg</a>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="Analyzer.scala.html#183929" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="#670456" title="Typers.this.global.Tree">fun</a>, <a href="#670467" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyToImplicitArgs">setPos</span> <a href="#670456" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="Typers.this.global.Tree">ErrorType</a> =&gt;
        <a href="#670456" title="Typers.this.global.Tree">fun</a>
    <span class="delimiter">}</span>

    /** Infer an implicit conversion (``view'') between two types.
     *  @param tree             The tree which needs to be converted.
     *  @param from             The source type of the conversion
     *  @param to               The target type of the conversion
     *  @param reportAmbiguous  Should ambiguous implicit errors be reported?
     *                          False iff we search for a view to find out
     *                          whether one type is coercible to another.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree" id="184325">inferView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="184681">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="184682">from</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="184683">to</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="184684">reportAmbiguous</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;infer view from &quot;)" class="string">&quot;infer view from &quot;</span><span title="(x$1: Any)String">+</span><a href="#184682" title="Typers.this.global.Type">from</a><span title="(x$1: Any)String">+</span><span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)String">+</span><a href="#184683" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>//debug
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="keyword">else</span> <a href="#184682" title="Typers.this.global.Type">from</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">MethodType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <span class="keyword">def</span> <a title="(from: Typers.this.global.Type)Typers.this.global.Tree" id="670676">wrapImplicit</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="670678">from</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="670679">result</a> = <a href="Implicits.scala.html#184115" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#184681" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Definitions.scala.html#46555" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#670678" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>, <a href="#184683" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>, <a href="#184684" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670679" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#431164" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Trees.scala.html#40645" title="=&gt; Typers.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a><span class="delimiter">)</span> <a href="#670679" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#431164" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#127553" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#184681" title="Typers.this.global.Tree">tree</a>
            <a href="#670679" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#431162" title="=&gt; Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="670677">result</a> = <a href="#670676" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="#184682" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#670677" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#670677" title="Typers.this.global.Tree">result</a>
          <span class="keyword">else</span> <a href="#670676" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46406" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#184682" title="Typers.this.global.Type">from</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> <a href="#184322" title="=&gt; Typers.this.Inferencer">infer</a>._

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.Namer" id="184328">namerCache</a>: <a href="Namers.scala.html#183984" title="Typers.this.Namer">Namer</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Namer" id="184330">namer</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#184328" title="=&gt; Typers.this.Namer">namerCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#184328" title="=&gt; Typers.this.Namer">namerCache</a>.<a href="Namers.scala.html#619487" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
        <a href="#184328" title="(x$1: Typers.this.Namer)Unit">namerCache</a> = <a href="Namers.scala.html#183977" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <a href="#184328" title="=&gt; Typers.this.Namer">namerCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Typers.this.Context" id="184332">context</a> = <a href="#240417" title="Typers.this.Context">context0</a>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="184334">context1</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>

    <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="184335">dropExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="670717">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <a href="#670717" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="670721">tparams</a>, <a title="Typers.this.global.Type" id="670722">tpe</a><span class="delimiter">)</span> =&gt;
        <span title="Typers.this.global.SubstWildcardMap" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#40261" title="Typers.this.global.SubstWildcardMap">SubstWildcardMap</a><span class="delimiter">(</span><a href="#670721" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#139772" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#670717" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="670732">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#670732" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="670733">tp0</a> = <a href="#670717" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="670734">tp1</a> = <a href="#184335" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#670733" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#670734" title="Typers.this.global.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#670733" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span> <a href="#670717" title="Typers.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#670734" title="Typers.this.global.Type">tp1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#670717" title="Typers.this.global.Type">tp</a>
    <span class="delimiter">}</span>

    /** Check that &lt;code&gt;tree&lt;/code&gt; is a stable expression.
     *
     *  @param tree ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184336">checkStable</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="640957">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#640957" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#640957" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span>
        <a href="#640957" title="Typers.this.global.Tree">tree</a>,
        <span title="String(&quot;stable identifier required, but &quot;)" class="string">&quot;stable identifier required, but &quot;</span><span title="(x$1: Any)String">+</span><a href="#640957" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot; found.&quot;)" class="string">&quot; found.&quot;</span><span title="(x$1: Any)String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#184337" title="(tree: Typers.this.global.Tree)Boolean">isStableExceptVolatile</a><span class="delimiter">(</span><a href="#640957" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="670755">tpe</a> = <a href="#640957" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="670759">rtpe</a><span class="delimiter">)</span> =&gt; <a href="#670759" title="Typers.this.global.Type">rtpe</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Type" id="670760">t</a> =&gt; <a href="#670760" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span>
          <span title="String(&quot;\n Note that &quot;)" class="string">&quot;\n Note that &quot;</span><span title="(x$1: Any)String">+</span><a href="#640957" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)String">+</span><span title="String(&quot; is not stable because its type, &quot;)" class="string">&quot; is not stable because its type, &quot;</span><span title="(x$1: Any)String">+</span><a href="#640957" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)String">+</span><span title="String(&quot;, is volatile.&quot;)" class="string">&quot;, is volatile.&quot;</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Would tree be a stable (i.e. a pure expression) if the type
     *  of its symbol was not volatile?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="184337">isStableExceptVolatile</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="670738">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42716" title="=&gt; Boolean">isVolatile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="670746">savedTpe</a> = <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>
        <span class="keyword">val</span> <a title="Long" id="670747">savedSTABLE</a> = <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47903" title="(mask: Long)Long">getFlag</a> <span title="Long(4194304L)">STABLE</span>
        <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
        <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(4194304L)">STABLE</span>
        <span class="keyword">val</span> <a title="Boolean" id="670748">result</a> = <a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#670738" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#670746" title="Typers.this.global.Type">savedTpe</a>
        <a href="#670738" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <a href="#670747" title="Long">savedSTABLE</a>
        <a href="#670748" title="Boolean">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Check that `tpt` refers to a non-refinement class type */
    <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit" id="184338">checkClassType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="670761">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Boolean" id="670762">existentialOK</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="670763">stablePrefix</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(found: AnyRef)Unit" id="670765">errorNotClass</a><span class="delimiter">(</span><a title="AnyRef" id="670767">found</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670761" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;class type required but &quot;)" class="string">&quot;class type required but &quot;</span><span title="(x$1: Any)String">+</span><a href="#670767" title="AnyRef">found</a><span title="(x$1: Any)String">+</span><span title="String(&quot; found&quot;)" class="string">&quot; found&quot;</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Unit" id="670766">check</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="670770">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#670770" title="Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="670774">pre</a>, <a title="Typers.this.global.Symbol" id="670775">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#670775" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670775" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47779" title="=&gt; Boolean">isRefinementClass</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670763" title="Boolean">stablePrefix</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670774" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42715" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670761" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)String">+</span><a href="#670774" title="Typers.this.global.Type">pre</a><span title="(x$1: Any)String">+</span><span title="String(&quot; is not a stable prefix&quot;)" class="string">&quot; is not a stable prefix&quot;</span><span class="delimiter">)</span>
            // A type projection like X#Y can get by the stable check if the
            // prefix is singleton-bounded, so peek at the tree too.
            <span class="keyword">else</span> <a href="#670761" title="Typers.this.global.Tree">tpt</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="670778">qual</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40324" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#670778" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> =&gt; <a href="#670765" title="(found: AnyRef)Unit">errorNotClass</a><span class="delimiter">(</span><a href="#670761" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span>                                                      =&gt; ;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="Unit">ErrorType</a> =&gt; ;
        <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="670782">restpe</a><span class="delimiter">)</span> =&gt; <a href="#670766" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#670782" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="670785">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#670762" title="Boolean">existentialOK</a> =&gt; <a href="#670766" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#670785" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="670789">underlying</a>, _<span class="delimiter">)</span> =&gt; <a href="#670766" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#670789" title="Typers.this.global.Type">underlying</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="670790">t</a> =&gt; <a href="#670765" title="(found: AnyRef)Unit">errorNotClass</a><span class="delimiter">(</span><a href="#670790" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#670766" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#670761" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check that type &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     *
     *  @param pos ...
     *  @param tp  ...
     *  @return    &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     */
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean" id="184339">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="637468">pos</a>: <a href="../util/Position.scala.html#34604" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="637469">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="670791">checkNotLocked</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="670792">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <a href="#670792" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; sym.type">initialize</a>
        <a href="#670792" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47752" title="=&gt; Boolean">lockOK</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span><a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#637468" title="Typers.this.global.Position">pos</a>, <span title="String(&quot;cyclic aliasing or subtyping involving &quot;)" class="string">&quot;cyclic aliasing or subtyping involving &quot;</span><span title="(x$1: Any)String">+</span><a href="#670792" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#637469" title="Typers.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="670796">pre</a>, <a title="Typers.this.global.Symbol" id="670797">sym</a>, <a title="List[Typers.this.global.Type]" id="670798">args</a><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#670791" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#670797" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
            <span title="=&gt; Boolean">!</span><a href="#670797" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47762" title="=&gt; Boolean">isNonClassType</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#184340" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#637468" title="Typers.this.global.Position">pos</a>, <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#670796" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42779" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#670797" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#670798" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span>, <a href="#670797" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>   // @M! info for a type ref to a type parameter now returns a polytype
            // @M was: checkNonCyclic(pos, pre.memberInfo(sym).subst(sym.typeParams, args), sym)
          <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="670806">pre</a>, <a title="Typers.this.global.Symbol" id="670807">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#670791" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#670807" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
/*
        case TypeBounds(lo, hi) =&gt;
          var ok = true
          for (t &lt;- lo) ok = ok &amp; checkNonCyclic(pos, t)
          ok
*/
        <span class="keyword">case</span> <a title="Boolean" id="670808">st</a>: <a href="../../../reflect/internal/Types.scala.html#40085" title="Typers.this.global.SubType">SubType</a> =&gt;
          <a href="#184339" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#637468" title="Typers.this.global.Position">pos</a>, <a href="#670808" title="Typers.this.global.SubType">st</a>.<a href="../../../reflect/internal/Types.scala.html#66840" title="=&gt; Typers.this.global.Type">supertype</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Boolean" id="670813">ct</a>: <a href="../../../reflect/internal/Types.scala.html#40117" title="Typers.this.global.CompoundType">CompoundType</a> =&gt;
          <a href="#670813" title="Typers.this.global.CompoundType">ct</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="670826">x</a> =&gt; <a href="#184339" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#637468" title="Typers.this.global.Position">pos</a>, <a href="#670826" title="Typers.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean" id="184340">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="637461">pos</a>: <a href="../util/Position.scala.html#34604" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="637462">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Symbol" id="637463">lockedSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#637463" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47753" title="(handler: =&gt; Unit)Unit">lock</a> <span class="delimiter">{</span>
        <span title="Nothing" class="keyword">throw</span> <a href="../../../reflect/internal/Types.scala.html#67275" title="(msg: String)Typers.this.global.TypeError" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">(</span><span title="String(&quot;illegal cyclic reference involving &quot;)" class="string">&quot;illegal cyclic reference involving &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#637463" title="Typers.this.global.Symbol">lockedSym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#184339" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#637461" title="Typers.this.global.Position">pos</a>, <a href="#637462" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#637463" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47754" title="()Unit">unlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="184341">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="637458">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184339" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#637458" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#637458" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#637458" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit" id="184342">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="637453">defn</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="637454">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184340" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#637453" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#637454" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#637453" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#637454" title="Typers.this.global.Tree">tpt</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a>
        <a href="#637453" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit" id="184343">checkParamsConvertible</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="670854">pos</a>: <a href="../util/Position.scala.html#34604" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="670855">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#670855" title="Typers.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="670859">formals</a>, <a title="Typers.this.global.Type" id="670860">restpe</a><span class="delimiter">)</span> =&gt;
          /*
          if (formals.exists(_.typeSymbol == ByNameParamClass) &amp;&amp; formals.length != 1)
            error(pos, &quot;methods with `=&gt;`-parameter can be converted to function values only if they take no other parameters&quot;)
          if (formals exists (isRepeatedParamType(_)))
            error(pos, &quot;methods with `*`-parameters cannot be converted to function values&quot;);
          */
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670860" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42720" title="=&gt; Boolean">isDependent</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670854" title="Typers.this.global.Position">pos</a>, <span title="String(&quot;method with dependent type &quot;)" class="string">&quot;method with dependent type &quot;</span><span title="(x$1: Any)String">+</span><a href="#670855" title="Typers.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot; cannot be converted to function value&quot;)" class="string">&quot; cannot be converted to function value&quot;</span><span class="delimiter">)</span>
          <a href="#184343" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#670854" title="Typers.this.global.Position">pos</a>, <a href="#670860" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, mode: Int)Unit" id="184344">checkStarPatOK</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="670861">pos</a>: <a href="../util/Position.scala.html#34604" title="Typers.this.global.Position">Position</a>, <a title="Int" id="670862">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#670862" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(4096)">STARmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span>
        <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670861" title="Typers.this.global.Position">pos</a>, <span title="String(&quot;star patterns must correspond with varargs parameters&quot;)" class="string">&quot;star patterns must correspond with varargs parameters&quot;</span><span class="delimiter">)</span>

    /** Check that type of given tree does not contain local or private
     *  components.
     */
    <span class="keyword">object</span> <a title="object Typer.this.checkNoEscaping" id="184345">checkNoEscaping</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#40242" title="Typers.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="670876">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Scope" id="670879">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#40425" title="Typers.this.global.Scope">Scope</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Typers.this.global.Symbol]" id="670882">hiddenSymbols</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = _

      /** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to private
       *  components unless itself is wrapped in something private
       *  (&lt;code&gt;owner&lt;/code&gt; tells where the type occurs).
       *
       *  @param owner ...
       *  @param tree  ...
       *  @return      ...
       */
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, tree: T)T" id="670884">privates</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="670886">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="670899">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="T" id="670900">tree</a>: <a href="#670886" title="T">T</a><span class="delimiter">)</span>: <a href="#670886" title="T">T</a> =
        <a href="#670890" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#670899" title="Typers.this.global.Symbol">owner</a>, <a href="../../../reflect/internal/Scopes.scala.html#40430" title="object Typers.this.global.EmptyScope">EmptyScope</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#670900" title="T">tree</a><span class="delimiter">)</span>

      /** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to entities
       *  defined in scope &lt;code&gt;scope&lt;/code&gt;.
       *
       *  @param scope ...
       *  @param pt    ...
       *  @param tree  ...
       *  @return      ...
       */
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="670887">locals</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="670889">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Scope" id="670923">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#40425" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="670924">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="T" id="670925">tree</a>: <a href="#670889" title="T">T</a><span class="delimiter">)</span>: <a href="#670889" title="T">T</a> =
        <a href="#670890" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#670923" title="Typers.this.global.Scope">scope</a>, <a href="#670924" title="Typers.this.global.Type">pt</a>, <a href="#670925" title="T">tree</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="670890">check</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="670892">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="670904">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Scope" id="670905">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#40425" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="670906">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="T" id="670907">tree</a>: <a href="#670892" title="T">T</a><span class="delimiter">)</span>: <a href="#670892" title="T">T</a> = <span class="delimiter">{</span>
        <span class="keyword">this</span>.<a href="#670876" title="(x$1: Typers.this.global.Symbol)Unit">owner</a> = <a href="#670904" title="Typers.this.global.Symbol">owner</a>
        <span class="keyword">this</span>.<a href="#670879" title="(x$1: Typers.this.global.Scope)Unit">scope</a> = <a href="#670905" title="Typers.this.global.Scope">scope</a>
        <a href="#670882" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="670939">tp1</a> = <a href="#670894" title="(t: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#670907" title="T">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#670907" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#670939" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#670967" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47808" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Infer.scala.html#184467" title="(tree: T)T">setError</a><span class="delimiter">(</span><a href="#670907" title="T">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#670906" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#670907" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#670906" title="Typers.this.global.Type">pt</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#670939" title="Typers.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47815" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span>
          <a href="#670890" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#670904" title="Typers.this.global.Symbol">owner</a>, <a href="#670905" title="Typers.this.global.Scope">scope</a>, <a href="#670906" title="Typers.this.global.Type">pt</a>, <a href="#670907" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#670939" title="Typers.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47943" title="=&gt; Typers.this.global.Type">classBound</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#670904" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#670907" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#184419" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; List[Typers.this.global.Symbol]">reverse</span>, <a href="#670939" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> // privates
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="670991">badSymbol</a> = <a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Typers.this.global.Symbol">head</span>
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670907" title="T">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#670991" title="Typers.this.global.Symbol">badSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <span title="String(&quot;private &quot;)" class="string">&quot;private &quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#670991" title="Typers.this.global.Symbol">badSymbol</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; escapes its defining scope as part of type &quot;)" class="string">&quot; escapes its defining scope as part of type &quot;</span><span title="(x$1: Any)String">+</span><a href="#670907" title="T">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#184467" title="(tree: T)T">setError</a><span class="delimiter">(</span><a href="#670907" title="T">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#670907" title="T">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="670893">addHidden</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="670996">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <span title="(elem: Any)Boolean">contains</span> <a href="#670996" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#670882" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#670996" title="Typers.this.global.Symbol">sym</a> <a href="#670999" title="(x: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">::</a> <a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Typers.this.global.Type)Typers.this.global.Type" id="670894">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="670947">t</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="671005">checkNoEscape</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="671006">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="671007">o</a> = <a href="#670876" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#671007" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671007" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671007" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#48007" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                   <span title="=&gt; Boolean">!</span><a href="#671007" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47862" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671007" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                   <span title="=&gt; Boolean">!</span><a href="#671007" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47911" title="=&gt; Typers.this.global.Symbol">privateWithin</a>.<a href="../../../reflect/internal/Symbols.scala.html#47882" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#671007" title="Typers.this.global.Symbol">o</a> = <a href="#671007" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671007" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">||</span> <a href="#671007" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#48007" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>
              <a href="#670893" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#671006" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="671038">e</a> = <a href="#670879" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61761" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#671006" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="Boolean" id="671039">found</a> = <span title="Boolean(false)" class="keyword">false</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#671039" title="Boolean">found</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#671038" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671038" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71192" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#670879" title="=&gt; Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#671041" title="Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#671038" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671006" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#671039" title="Boolean">found</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#670893" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#671006" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#671038" title="Typers.this.global.ScopeEntry">e</a> = <a href="#670879" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61762" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#671038" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span>
          <a href="#670947" title="Typers.this.global.Type">t</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="671071">sym</a>, <a title="List[Typers.this.global.Type]" id="671072">args</a><span class="delimiter">)</span> =&gt;
              <a href="#671005" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#671071" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Typers.this.global.Symbol">head</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671071" title="Typers.this.global.Symbol">sym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                  <a href="#671071" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#671071" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#671072" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#670882" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#670882" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; List[Typers.this.global.Symbol]">tail</span>
                <a href="#670947" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#670947" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">SingleType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="671085">sym</a><span class="delimiter">)</span> =&gt;
              <a href="#671005" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#671085" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#670947" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
              <a href="#670947" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(vparamss: List[List[Typers.this.global.ValDef]])Unit" id="184347">reenterValueParams</a><span class="delimiter">(</span><a title="List[List[Typers.this.global.ValDef]]" id="671086">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="671107">vparams</a> &lt;- <a href="#671086" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="671127">vparam</a> &lt;- <a href="#671107" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span>
          <a href="#671127" title="Typers.this.global.ValDef">vparam</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#671127" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]" id="184348">reenterTypeParams</a><span class="delimiter">(</span><a title="List[Typers.this.global.TypeDef]" id="639622">tparams</a>: <span title="List[Typers.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="671150">tparam</a> &lt;- <a href="#639622" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.TypeDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#671150" title="Typers.this.global.TypeDef">tparam</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#671150" title="Typers.this.global.TypeDef">tparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <a href="#671150" title="Typers.this.global.TypeDef">tparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>
      <span class="delimiter">}</span>

    /** The qualifying class
     *  of a this or super with prefix &lt;code&gt;qual&lt;/code&gt;.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Typers.this.global.Symbol" id="184349">qualifyingClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="637508">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="637509">qual</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a>, <a title="Boolean" id="637510">packageOK</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> =
      <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47878" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="671200">o</a> =&gt; <a href="#637509" title="Typers.this.global.Name">qual</a>.<a href="../../../reflect/internal/Names.scala.html#53407" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">||</span> <a href="#671200" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671200" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#637509" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="671207">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#637510" title="Boolean">packageOK</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#671207" title="Typers.this.global.Symbol">c</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a> =&gt;
          <a href="#671207" title="Typers.this.global.Symbol">c</a>
        <span class="keyword">case</span> <span title="Typers.this.global.NoSymbol.type">_</span> =&gt;
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
            <a href="#637508" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#637509" title="Typers.this.global.Name">qual</a>.<a href="../../../reflect/internal/Names.scala.html#53407" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#637508" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a><span title="(other: String)String">+</span><span title="String(&quot; can be used only in a class, object, or template&quot;)" class="string">&quot; can be used only in a class, object, or template&quot;</span>
            <span class="keyword">else</span> <a href="#637509" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">qual</a><span title="(other: String)String">+</span><span title="String(&quot; is not an enclosing class&quot;)" class="string">&quot; is not an enclosing class&quot;</span><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="delimiter">}</span>

    /** The typer for an expression, depending on where we are. If we are before a superclass
     *  call, this is a typer over a constructor context; otherwise it is the current typer.
     */
    <span class="keyword">def</span> <a title="(inConstr: Boolean)Typers.this.Typer" id="184350">constrTyperIf</a><span class="delimiter">(</span><a title="Boolean" id="640906">inConstr</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#184062" title="Typers.this.Typer">Typer</a> =
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#640906" title="Boolean">inConstr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
        <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184649" title="=&gt; Typers.this.Context">makeConstructorContext</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#184062" title="Typers.this.Typer" class="keyword">this</a>

    /** The typer for a label definition. If this is part of a template we
     *  first have to enter the label definition.
     */
    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer" id="184351">labelTyper</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="671215">ldef</a>: <span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">)</span>: <a href="#184062" title="Typers.this.Typer">Typer</a> =
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#671215" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> // labeldef is part of template
        <span class="keyword">val</span> <a title="Typers.this.Typer" id="671222">typer1</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#671215" title="Typers.this.global.LabelDef">ldef</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#671222" title="Typers.this.Typer">typer1</a>.<a href="#184396" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#671215" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>
        <a href="#671222" title="Typers.this.Typer">typer1</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#184062" title="Typers.this.Typer" class="keyword">this</a>

    <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="184352">xtypes</a> = <span title="Boolean(false)" class="keyword">false</span>

    /** Is symbol defined and not stale?
     */
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="184354">reallyExists</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="625810">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#184355" title="(sym: Typers.this.global.Symbol)Boolean">isStale</a><span class="delimiter">(</span><a href="#625810" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#625810" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
      <a href="#625810" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a>
    <span class="delimiter">}</span>

    /** A symbol is stale if it is toplevel, to be loaded from a classfile, and
     *  the classfile is produced from a sourcefile which is compiled in the current run.
     */
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="184355">isStale</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="625813">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#625813" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47930" title="=&gt; Typers.this.global.Type">rawInfo</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>loaders.<a href="../symtab/SymbolLoaders.scala.html#238152" title="Typers.this.global.loaders.ClassfileLoader">ClassfileLoader</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#625813" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47930" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../../../reflect/internal/Types.scala.html#42817" title="(sym: Typers.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#625813" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#625813" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185253" title="=&gt; scala.collection.mutable.HashSet[String]">compiledFiles</a> <span title="(elem: String)Boolean">contains</span> <a href="#625813" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a>.<a href="../io/AbstractFile.scala.html#187400" title="=&gt; String">path</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Does the context of tree &lt;code&gt;tree&lt;/code&gt; require a stable type?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean" id="184356">isStableContext</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671236">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="671237">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="671238">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="#184360" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#671236" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#671237" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span class="delimiter">(</span><span title="Boolean(false)">xtypes</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#671238" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42715" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">||</span>
       <span class="delimiter">(</span><a href="#671237" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671236" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47863" title="=&gt; Boolean">isConstant</a> <span title="(x: Boolean)Boolean">||</span>
       <a href="#671238" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671238" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#42715" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#671236" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#671238" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
       <a href="#671238" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47779" title="=&gt; Boolean">isRefinementClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#671236" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#671238" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Make symbol accessible. This means:
     *  If symbol refers to package object, insert `.package` as second to last selector.
     *  (exception for some symbols in scala package which are dealiased immediately)
     *  Call checkAccessible, which sets tree's attributes.
     *  Also note that checkAccessible looks up sym on pre without checking that pre is well-formed
     *  (illegal type applications in pre will be skipped -- that's why typedSelect wraps the resulting tree in a TreeWithDeferredChecks)
     *  @return modified tree and new prefix type
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)" id="184357">makeAccessible</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671274">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="671275">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="671276">pre</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="671277">site</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span>Tree, Type<span class="delimiter">)</span> =
      <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#184358" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#671275" title="Typers.this.global.Symbol">sym</a>, <a href="#671276" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671276" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46254" title="=&gt; Typers.this.global.Symbol">ScalaPackageClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671275" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // short cut some aliases. It seems pattern matching needs this
          // to notice exhaustiveness and to generate good code when
          // List extractors are mixed with :: patterns. See Test5 in lists.scala.
          <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" id="671314">dealias</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="671315">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
            <span title="(_1: Typers.this.global.gen.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#671274" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92629" title="(sym: Typers.this.global.gen.global.Symbol)Typers.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#671315" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">}</span>, <a href="#671315" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span>
          <a href="#671275" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="Nothing">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60617" title="=&gt; Typers.this.global.nme.NameType">List</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#671314" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46426" title="=&gt; Typers.this.global.Symbol">ListModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="Nothing">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60619" title="=&gt; Typers.this.global.nme.NameType">Seq</a>  =&gt; <span title="Nothing" class="keyword">return</span> <a href="#671314" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46432" title="=&gt; Typers.this.global.Symbol">SeqModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="Nothing">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60045" title="=&gt; Typers.this.global.nme.NameType">Nil</a>  =&gt; <span title="Nothing" class="keyword">return</span> <a href="#671314" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46430" title="=&gt; Typers.this.global.Symbol">NilModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="671307">qual</a> = <a href="#184441" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#671274" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183792" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#671274" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Ident">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59944" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671363">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#671363" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59944" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671390">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#671390" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59944" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="671308">tree1</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">atPos</a><span class="delimiter">(</span><a href="#671274" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#671274" title="Typers.this.global.Tree">tree</a> <span title="Typers extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="671416">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#671307" title="Typers.this.global.Tree">qual</a>, <a href="#671416" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Name" id="671437">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#671307" title="Typers.this.global.Tree">qual</a>, <a href="#671437" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="671456">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.TypeName)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#671307" title="Typers.this.global.Tree">qual</a>, <a href="#671456" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="Infer.scala.html#184476" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#671308" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#671275" title="Typers.this.global.Symbol">sym</a>, <a href="#671307" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#671307" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#671307" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="Infer.scala.html#184476" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#671274" title="Typers.this.global.Tree">tree</a>, <a href="#671275" title="Typers.this.global.Symbol">sym</a>, <a href="#671276" title="Typers.this.global.Type">pre</a>, <a href="#671277" title="Typers.this.global.Tree">site</a><span class="delimiter">)</span>, <a href="#671276" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /** Is `sym` defined in package object of package `pkg`?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean" id="184358">isInPackageObject</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="671279">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="671280">pkg</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#671280" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#671279" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="671291">sym</a> =&gt;
          <span title="=&gt; Boolean">!</span><a href="#671291" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47786" title="=&gt; Boolean">isPackage</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <a href="#671291" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47820" title="=&gt; Boolean">isPackageObjectClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#671291" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671280" title="Typers.this.global.Symbol">pkg</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#671280" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#47872" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              // need to be careful here to not get a cyclic reference during bootstrap
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="671298">pkgobj</a> = <a href="#671280" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59944" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
              <a href="#671298" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../../../reflect/internal/Symbols.scala.html#47872" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#671298" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#671291" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(elem: Any)Boolean">contains</span> <a href="#671291" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    /** Post-process an identifier or selection node, performing the following:
     *  1. Check that non-function pattern expressions are stable
     *  2. Check that packages and static modules are not used as values
     *  3. Turn tree type into stable type if possible and required by context.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184359">stabilize</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671495">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="671496">pre</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Int" id="671497">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="671498">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671495" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#184038" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#671497" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#184527" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#671495" title="Typers.this.global.Tree">tree</a>, <a href="#671498" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="671500">sym</a> = <a href="#671495" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="671501">fail</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#671495" title="Typers.this.global.Tree">tree</a>, <a href="#671500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48042" title="=&gt; String">kindString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is not a value&quot;)" class="string">&quot; is not a value&quot;</span><span class="delimiter">)</span>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#671495" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#671495" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#671497" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">PATTERNmode</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671495" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (1)
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#671500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <a href="#184336" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#671495" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#671501" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#671497" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(65)">|</span> QUALmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (2)
        <a href="#671501" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#671500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47846" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671496" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42715" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46393" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#671495" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#184356" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#671495" title="Typers.this.global.Tree">tree</a>, <a href="#671497" title="Int">mode</a>, <a href="#671498" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#671500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#671495" title="Typers.this.global.Tree">tree</a>.<span title="(tp: Typers.this.global.Type)tree.type">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40194" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#671496" title="Typers.this.global.Type">pre</a>, <a href="#671500" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#671495" title="Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="184360">isNarrowable</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="671241">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#671241" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">TypeRef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="671543">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#184360" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#671543" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="671547">tpe1</a>, _<span class="delimiter">)</span> =&gt; <a href="#184360" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#671547" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="671550">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#184360" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#671550" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="671552">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#184360" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#671552" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a>
    <span class="delimiter">}</span>

    /**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184361">stabilizeFun</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671553">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="671554">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="671555">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="671557">sym</a> = <a href="#671553" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="671558">pre</a> = <a href="#671553" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671563">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="#671563" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="keyword">case</span> <span title="Typers.this.global.NoPrefix.type">_</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#40099" title="object Typers.this.global.NoPrefix">NoPrefix</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#671553" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40145" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671558" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42715" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671557" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#184356" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#671553" title="Typers.this.global.Tree">tree</a>, <a href="#671554" title="Int">mode</a>, <a href="#671555" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#671557" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#671553" title="Typers.this.global.Tree">tree</a>.<span title="(tp: Typers.this.global.Type)tree.type">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40194" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#671558" title="Typers.this.global.Type">pre</a>, <a href="#671557" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#671553" title="Typers.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    /** The member with given name of given qualifier tree */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol" id="184362">member</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671577">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="671578">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Boolean" id="671581">callSiteWithinClass</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="671583">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#47882" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a> <a href="#671583" title="Typers.this.global.Symbol">clazz</a>
      <span class="keyword">val</span> <a title="Boolean" id="671582">includeLocals</a> = <a href="#671577" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean(true)">ThisType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="671585">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#671581" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#671585" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>                =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(true)">SuperType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="671588">clazz</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#671581" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#671588" title="Typers.this.global.Type">clazz</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean">_</span>                                                            =&gt; <a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#671582" title="Boolean">includeLocals</a><span class="delimiter">)</span> <a href="#671577" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a> <a href="#671578" title="Typers.this.global.Name">name</a>
      <span class="keyword">else</span> <a href="#671577" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42774" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonLocalMember</a> <a href="#671578" title="Typers.this.global.Name">name</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[T](op: Typers.this.Typer =&gt; T, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any" id="184363">silent</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="644078">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="644072">op</a>: Typer =&gt; T,
                  <a title="Boolean" id="644076">reportAmbiguousErrors</a>: <span title="Boolean">Boolean</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184603" title="=&gt; Boolean">reportAmbiguousErrors</a>,
                  <a title="Typers.this.global.Tree" id="644079">newtree</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>: <span title="Any">Any</span> /* in fact, TypeError or T */ = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="671594">rawTypeStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39917" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#39959" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="671595">findMemberStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39917" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#39961" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="671596">subtypeStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39917" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#39963" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="671597">failedSilentStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39919" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183867" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184606" title="=&gt; Boolean">reportGeneralErrors</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#644076" title="Boolean">reportAmbiguousErrors</a> <span title="(x: Boolean)Boolean">!=</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184603" title="=&gt; Boolean">reportAmbiguousErrors</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#644079" title="Typers.this.global.Tree">newtree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.Context" id="671606">context1</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184647" title="(reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.Context">makeSilent</a><span class="delimiter">(</span><a href="#644076" title="Boolean">reportAmbiguousErrors</a>, <a href="#644079" title="Typers.this.global.Tree">newtree</a><span class="delimiter">)</span>
          <a href="#671606" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#671606" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#184622" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184621" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#671606" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#184589" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184588" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <span class="keyword">val</span> <a title="Typers.this.Typer" id="671607">typer1</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#671606" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="T" id="671608">result</a> = <a href="#644072" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#671607" title="Typers.this.Typer">typer1</a><span class="delimiter">)</span>
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#671606" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184622" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#671606" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#184621" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184589" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#671606" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#184588" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <a href="#671608" title="T">result</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#644072" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#184062" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="671618">ex</a>: <a href="../../../reflect/internal/Symbols.scala.html#40030" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#671618" title="Typers.this.global.CyclicReference">ex</a>
        <span class="keyword">case</span> <a title="Typers.this.global.TypeError" id="671619">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="../../../reflect/internal/util/StatBase.scala.html#39918" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#39959" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a>, <a href="#671594" title="scala.tools.nsc.util.Statistics.IntPair">rawTypeStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#39918" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#39961" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a>, <a href="#671595" title="scala.tools.nsc.util.Statistics.IntPair">findMemberStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#39918" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#39963" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a>, <a href="#671596" title="scala.tools.nsc.util.Statistics.IntPair">subtypeStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#39920" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183867" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a>, <a href="#671597" title="scala.tools.nsc.util.Statistics.LongPair">failedSilentStart</a><span class="delimiter">)</span>
          <a href="#671619" title="Typers.this.global.TypeError">ex</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Utility method: Try op1 on tree. If that gives an error try op2 instead.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)(op1: (Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree)(op2: (Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="184366">tryBoth</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671620">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree" id="671621">op1</a>: <span class="delimiter">(</span>Typer, Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span><span class="delimiter">(</span><a title="(Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree" id="671622">op2</a>: <span class="delimiter">(</span>Typer, Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#671621" title="(v1: Typers.this.Typer, v2: Typers.this.global.Tree)Typers.this.global.Tree">op1</a><span class="delimiter">(</span><a href="#671629" title="Typers.this.Typer">_</a>, <a href="#671620" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671637">result1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
          <a href="#671637" title="Typers.this.global.Tree">result1</a>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671638">ex1</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#671622" title="(v1: Typers.this.Typer, v2: Typers.this.global.Tree)Typers.this.global.Tree">op2</a><span class="delimiter">(</span><a href="#671644" title="Typers.this.Typer">_</a>, <a href="../ast/Trees.scala.html#183133" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#671620" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671657">result2</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
//              println(&quot;snd succeeded: &quot;+result2)
              <a href="#671657" title="Typers.this.global.Tree">result2</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671658">ex2</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="TypeDiagnostics.scala.html#184316" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#671620" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#671638" title="Typers.this.global.TypeError">ex1</a><span class="delimiter">)</span>
              <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#671620" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="184367">isCodeType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="671664">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#671664" title="Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#47963" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46485" title="=&gt; Typers.this.global.Symbol">CodeClass</a>

    /** Perform the following adaptations of expression, pattern or type `tree` wrt to
     *  given mode `mode` and given prototype `pt`:
     *  (-1) For expressions with annotated types, let AnnotationCheckers decide what to do
     *  (0) Convert expressions with constant types to literals (unless in interactive/scaladoc mode)
     *  (1) Resolve overloading, unless mode contains FUNmode
     *  (2) Apply parameterless functions
     *  (3) Apply polymorphic types to fresh instances of their type parameters and
     *      store these instances in context.undetparams,
     *      unless followed by explicit type application.
     *  (4) Do the following to unapplied methods used as values:
     *  (4.1) If the method has only implicit parameters pass implicit arguments
     *  (4.2) otherwise, if `pt` is a function type and method is not a constructor,
     *        convert to function by eta-expansion,
     *  (4.3) otherwise, if the method is nullary with a result type compatible to `pt`
     *        and it is not a constructor, apply it to ()
     *  otherwise issue an error
     *  (5) Convert constructors in a pattern as follows:
     *  (5.1) If constructor refers to a case class factory, set tree's type to the unique
     *        instance of its primary constructor that is a subtype of the expected type.
     *  (5.2) If constructor refers to an extractor, convert to application of
     *        unapply or unapplySeq method.
     *
     *  (6) Convert all other types to TypeTree nodes.
     *  (7) When in TYPEmode but not FUNmode or HKmode, check that types are fully parameterized
     *      (7.1) In HKmode, higher-kinded types are allowed, but they must have the expected kind-arity
     *  (8) When in both EXPRmode and FUNmode, add apply method calls to values of object type.
     *  (9) If there are undetermined type variables and not POLYmode, infer expression instance
     *  Then, if tree's type is not a subtype of expected type, try the following adaptations:
     *  (10) If the expected type is Byte, Short or Char, and the expression
     *      is an integer fitting in the range of that type, convert it to that type.
     *  (11) Widen numeric literals to their expected type, if necessary
     *  (12) When in mode EXPRmode, convert E to { E; () } if expected type is scala.Unit.
     *  (13) When in mode EXPRmode, apply AnnotationChecker conversion if expected type is annotated.
     *  (14) When in mode EXPRmode, apply a view
     *  If all this fails, error
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree" id="184368">adapt</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586612">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="586613">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="586614">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="586617">original</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree" id="671668">adaptToImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.MethodType" id="671673">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (9) -- should revisit dropped condition `(mode &amp; POLYmode) == 0`
          // dropped so that type args of implicit method are inferred even if polymorphic expressions are allowed
          // needed for implicits in 2.8 collection library -- maybe once #3346 is fixed, we can reinstate the condition?
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> =
            <a href="Infer.scala.html#184504" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184631" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#586614" title="Typers.this.global.Type">pt</a>,
              // approximate types that depend on arguments since dependency on implicit argument is like dependency on type parameter
              <a href="#671673" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66917" title="=&gt; Typers.this.global.MethodType">approximate</a>,
              // if we are looking for a manifest, instantiate type to Nothing anyway,
              // as we would get ambiguity errors otherwise. Example
              // Looking for a manifest of Nil: This has many potential types,
              // so we need to instantiate to minimal type List[Nothing].
              keepNothings = <span title="Boolean(false)" class="keyword">false</span>, // retract Nothing's that indicate failure, ambiguities in manifests are dealt with in manifestOfType
              useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> // #3808
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.Typer" id="671674">typer1</a> = <a href="#184350" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118927" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586617" title="Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586614" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <a href="#671674" title="Typers.this.Typer">typer1</a>.<a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="671695">tpr</a> =&gt; <a href="#671695" title="Typers.this.Typer">tpr</a>.<a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#671695" title="Typers.this.Typer">tpr</a>.<a href="#184324" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671703">result</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; <a href="#671703" title="Typers.this.global.Tree">result</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671704">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;fallback on implicits: &quot;)" class="string">&quot;fallback on implicits: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../ast/Trees.scala.html#183133" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="671705">tree1</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#183133" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#671705" title="Typers.this.global.Tree">tree1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../../../reflect/internal/AnnotationCheckers.scala.html#36293" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#671705" title="Typers.this.global.Tree">tree1</a>, <a href="#671705" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#671705" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#671705" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#671705" title="Typers.this.global.Tree">tree1</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">else</span>
          <a href="#671674" title="Typers.this.Typer">typer1</a>.<a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#671674" title="Typers.this.Typer">typer1</a>.<a href="#184324" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree" id="671669">instantiateToMethodType</a><span class="delimiter">(</span><a title="Typers.this.global.MethodType" id="671721">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="671722">meth</a> = <a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          // a partial named application is a block (see comment in EtaExpansion)
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="671728">tree1</a><span class="delimiter">)</span> =&gt; <a href="#671728" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span>               =&gt; <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#671722" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671722" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47850" title="=&gt; Boolean">isMacro</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46557" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (4.2)
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;eta-expanding &quot;)" class="string">&quot;eta-expanding &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#184343" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="671730">tree0</a> = <a href="EtaExpansion.scala.html#184165" title="(unit: Typers.this.global.CompilationUnit, tree: Typers.this.global.Tree)Typers.this.global.Tree">etaExpand</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          // println(&quot;eta &quot;+tree+&quot; ---&gt; &quot;+tree0+&quot;:&quot;+tree0.tpe+&quot; undet: &quot;+context.undetparams+ &quot; mode: &quot;+Integer.toHexString(mode))

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#671722" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // #2624: need to infer type arguments for eta expansion of a polymorphic method
            // context.undetparams contains clones of meth.typeParams (fresh ones were generated in etaExpand)
            // need to run typer on tree0, since etaExpansion sets the tpe's of its subtrees to null
            // can't type with the expected type, as we can't recreate the setup in (3) without calling typed
            // (note that (3) does not call typed to do the polymorphic type instantiation --
            //  it is called after the tree has been typed with a polymorphic expected result type)
            <a href="#184369" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#671730" title="Typers.this.global.Tree">tree0</a>, <a href="#586613" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#671730" title="Typers.this.global.Tree">tree0</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#671722" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671721" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66902" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (4.3)
          <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184612" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <span title="String(&quot;missing arguments for &quot;)" class="string">&quot;missing arguments for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671722" title="Typers.this.global.Symbol">meth</a> <span title="(x$1: Any)String">+</span> <a href="#671722" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span>
            <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#671722" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="keyword">else</span> <span title="String(&quot;;\nfollow this method with `_\' if you want to treat it as a partially applied function&quot;)" class="string">&quot;;\nfollow this method with `_' if you want to treat it as a partially applied function&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="671670">adaptType</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#184038" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#586612" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#184037" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185137" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (7)
          // @M When not typing a higher-kinded type ((mode &amp; HKmode) == 0)
          // or raw type (tree.symbol.isJavaDefined &amp;&amp; context.unit.isJava), types must be of kind *,
          // and thus parameterized types must be applied to their type arguments
          // @M TODO: why do kind-* tree's have symbols, while higher-kinded ones don't?
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">symbol</span> <span title="(other: String)String">+</span> <span title="String(&quot; takes type parameters&quot;)" class="string">&quot; takes type parameters&quot;</span><span class="delimiter">)</span>
          <a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span> // (7.1) @M: check kind-arity
        // @M: removed check for tree.hasSymbol and replace tree.symbol by tree.tpe.symbol (TypeTree's must also be checked here, and they don't directly have a symbol)
        <span class="delimiter">(</span><a href="Modes.scala.html#184037" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          // @M: don't check tree.tpe.symbol.typeParams. check tree.tpe.typeParams!!!
          // (e.g., m[Int] --&gt; tree.tpe.symbol.typeParams.length == 1, tree.tpe.typeParams.length == 0!)
          <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; Typers.this.global.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Typers.this.global.definitions.NothingClass">NothingClass</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#586614" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // Check that the actual kind arity (tree.symbol.typeParams.length) conforms to the expected
          // kind-arity (pt.typeParams.length). Full checks are done in checkKindBounds in Infer.
          // Note that we treat Any and Nothing as kind-polymorphic.
          // We can't perform this check when typing type arguments to an overloaded method before the overload is resolved
          // (or in the case of an error type) -- this is indicated by pt == WildcardType (see case TypeApply in typed1).
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span> <span title="(other: String)String">+</span> <span title="String(&quot; takes &quot;)" class="string">&quot; takes &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../util/StringOps.scala.html#87235" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;, expected: &quot;)" class="string">&quot;, expected: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../util/StringOps.scala.html#87236" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#586614" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span> // (6)
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeTree</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#586612" title="Typers.this.global.Tree">tree</a>
          <span class="keyword">case</span> <span title="Typers.this.global.TypeTree">_</span>          =&gt; <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="671671">adaptConstrPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span> // (5)
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="671824">extractor</a> = <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="671827">sym</a> =&gt; <a href="#184354" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="Unapplies.scala.html#184188" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#671827" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#671824" title="Typers.this.global.Symbol">extractor</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#671824" title="Typers.this.global.Symbol">extractor</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="671833">unapply</a> = <a href="Unapplies.scala.html#184188" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#671824" title="Typers.this.global.Symbol">extractor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="671834">clazz</a> = <a href="Unapplies.scala.html#184189" title="(extractor: Typers.this.global.Symbol)Typers.this.global.Symbol">unapplyParameterType</a><span class="delimiter">(</span><a href="#671833" title="Typers.this.global.Symbol">unapply</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#671833" title="Typers.this.global.Symbol">unapply</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48078" title="=&gt; Boolean">isCase</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671834" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48078" title="=&gt; Boolean">isCase</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#671834" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47996" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#671856" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48078" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // convert synthetic unapply of case class to case class constructor
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="671857">prefix</a> = <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Typers.this.global.Type">prefix</a>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="671858">tree1</a> = <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#671834" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47977" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42778" title="(pre: Typers.this.global.Type, clazz: Typers.this.global.Symbol)Typers.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#671857" title="Typers.this.global.Type">prefix</a>, <a href="#671834" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              .<span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

            <a href="Infer.scala.html#184508" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], pt0: Typers.this.global.Type)Unit">inferConstructorInstance</a><span class="delimiter">(</span><a href="#671858" title="Typers.this.global.TypeTree">tree1</a>, <a href="#671834" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <a href="#671858" title="Typers.this.global.TypeTree">tree1</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#586612" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">symbol</span> <span title="(other: String)String">+</span> <span title="String(&quot; is not a case class constructor, nor does it have an unapply/unapplySeq method&quot;)" class="string">&quot; is not a case class constructor, nor does it have an unapply/unapplySeq method&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="671672">insertApply</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#184037" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> //@M
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="671874">qual</a> = <a href="#184375" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671890">id</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="671894">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#671890" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#671890" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a>
            <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#671890" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
              <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184663" title="(clazz: Typers.this.global.Symbol)Typers.this.Context">enclosingSubClassContext</a><span class="delimiter">(</span><a href="#671890" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="Contexts.scala.html#184591" title="=&gt; Typers.this.global.Type">prefix</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#40099" title="object Typers.this.global.NoPrefix">NoPrefix</a>
            <a href="#184359" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#671890" title="Typers.this.global.Ident">id</a>, <a href="#671894" title="Typers.this.global.Type">pre</a>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671906">sel</a> @ Select<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671911">qualqual</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#184359" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#671906" title="Typers.this.global.Select">sel</a>, <a href="#671911" title="Typers.this.global.Tree">qualqual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671916">other</a> =&gt;
            <a href="#671916" title="Typers.this.global.Tree">other</a>
        <span class="delimiter">}</span>
        <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#671874" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // begin adapt
      <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="671945">atp</a> @ AnnotatedType<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/AnnotationCheckers.scala.html#36294" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; // (-1)
          <a href="../../../reflect/internal/AnnotationCheckers.scala.html#36295" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Literal" id="671955">ct</a> @ ConstantType<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="671957">value</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#184036" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a>, TYPEmode <span title="Int(20)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#671955" title="Typers.this.global.ConstantType">ct</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#183038" title="=&gt; Boolean">forScaladoc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#183037" title="=&gt; Boolean">forInteractive</a> =&gt; // (0)
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="671964">sym</a> = <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671964" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671964" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47835" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="671969">msg</a> = <a href="#671964" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48046" title="()String">toString</a> <span title="(x$1: Any)String">+</span> <a href="#671964" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is deprecated: &quot;)" class="string">&quot; is deprecated: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671964" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47836" title="=&gt; Option[String]">deprecationMessage</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185133" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#671969" title="String">msg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</span><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#671957" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="671981">pre</a>, <a title="List[Typers.this.global.Symbol]" id="671982">alts</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#184038" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span> =&gt; // (1)
          <a href="Infer.scala.html#184527" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="671984">restpe</a><span class="delimiter">)</span> =&gt; // (2)
          <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#671984" title="Typers.this.global.Type">restpe</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#46406" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, <a href="#671989" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="672011">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586613" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> =&gt; // (2)
          <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#672011" title="Typers.this.global.Type">arg</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672021">tr</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="672025">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#672025" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672021" title="Typers.this.global.TypeRef">tr</a>.<a href="../../../reflect/internal/Types.scala.html#66673" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40156" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586613" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
          <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#672021" title="Typers.this.global.TypeRef">tr</a>.<a href="../../../reflect/internal/Types.scala.html#66673" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42756" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672043">et</a> @ ExistentialType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586613" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
          <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#672043" title="Typers.this.global.ExistentialType">et</a>.<a href="../../../reflect/internal/Types.scala.html#67142" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="672069">tparams</a>, <a title="Typers.this.global.Type" id="672070">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#184036" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a>, TAPPmode | PATTERNmode <span title="Int(16514)">|</span> HKmode<span class="delimiter">)</span> =&gt; // (3)
          // assert((mode &amp; HKmode) == 0) //@M a PolyType in HKmode represents an anonymous type function,
          // we're in HKmode since a higher-kinded type is expected --&gt; hence, don't implicitly apply it to type params!
          // ticket #2197 triggered turning the assert into a guard
          // I guess this assert wasn't violated before because type aliases weren't expanded as eagerly
          //  (the only way to get a PolyType for an anonymous type function is by normalisation, which applies eta-expansion)
          // -- are we sure we want to expand aliases this early?
          // -- what caused this change in behaviour??
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="672079">tparams1</a> = <a href="../../../reflect/internal/Symbols.scala.html#40018" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#672069" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="672080">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>
          <span class="keyword">else</span> <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#672079" title="List[Typers.this.global.Symbol]">tparams1</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeTree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="672102">tparam</a> =&gt;
            <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#672102" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47919" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeApply">setPos</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> //@M/tcpolyinfer: changed tparam.tpe to tparam.tpeHK
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">++=</span> <a href="#672079" title="List[Typers.this.global.Symbol]">tparams1</a>
          <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#672080" title="Typers.this.global.Tree">tree1</a> <span title="(tp: Typers.this.global.Type)tree1.type">setType</span> <a href="#672070" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42783" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#672069" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#672079" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672213">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Typers.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#672213" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586613" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt; // (4.1)
          <a href="#671668" title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree">adaptToImplicitMethod</a><span class="delimiter">(</span><a href="#672213" title="Typers.this.global.MethodType">mt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672231">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Typers.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#586613" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="Modes.scala.html#184039" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#671669" title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree">instantiateToMethodType</a><span class="delimiter">(</span><a href="#672231" title="Typers.this.global.MethodType">mt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="672250">applyPossible</a> = <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Symbol" id="672251">applyMeth</a> = <a href="#184362" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#184375" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586613" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(128)">TAPPmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672251" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#672263" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span>
              <a href="#672251" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a href="#672271" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42748" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span>
            <a href="#671670" title="()Typers.this.global.Tree">adaptType</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586613" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#671671" title="()Typers.this.global.Tree">adaptConstrPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#184034" title="(mode: Int, required: Int)Boolean">inAllModes</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a>, EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40145" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40159" title="Typers.this.global.OverloadedType">OverloadedType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#672250" title="=&gt; Boolean">applyPossible</a><span class="delimiter">)</span>
            <a href="#671672" title="()Typers.this.global.Tree">insertApply</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#184039" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (9)
            <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#184037" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> //@M
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#184041" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586614" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
              <a href="#184370" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">instantiateExpectingUnit</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#184369" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#586612" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#184040" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
                <a href="Infer.scala.html#184515" title="(pat: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferModulePattern</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40294" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="Infer.scala.html#633721" title="(tp: Typers.this.global.Type)Typers.this.global.Type">approximateAbstracts</a><span class="delimiter">(</span><a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Nothing" class="keyword">return</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.constfold.global.Tree" id="672317">tree1</a> = <a href="ConstantFolder.scala.html#235651" title="(tree: Typers.this.global.constfold.global.Tree, pt: Typers.this.global.constfold.global.Type)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> // (10) (11)
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#672317" title="Typers.this.global.constfold.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.constfold.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.constfold.global.Type)Boolean">&lt;:&lt;</a> <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#672317" title="Typers.this.global.constfold.global.Tree">tree1</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <a href="#586617" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#184041" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#586613" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#586614" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="672341">sym</a>, _<span class="delimiter">)</span> =&gt;
                    // note: was if (pt.typeSymbol == UnitClass) but this leads to a potentially
                    // infinite expansion if pt is constant type ()
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#672341" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (12)
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183629" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnValueDiscard</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                        <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;discarded non-Unit value&quot;)" class="string">&quot;discarded non-Unit value&quot;</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="Analyzer.scala.html#183929" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)Typers.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46830" title="(sym: Typers.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#672341" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Types.scala.html#40360" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183631" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNumericWiden</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                        <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;implicit numeric widening&quot;)" class="string">&quot;implicit numeric widening&quot;</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: String)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <span title="String(&quot;to&quot;)" class="string">&quot;to&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672341" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Nothing">AnnotatedType</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/AnnotationCheckers.scala.html#36294" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; // (13)
                    <span title="Nothing" class="keyword">return</span> <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationCheckers.scala.html#36295" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#184369" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184612" title="=&gt; Boolean">implicitsEnabled</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#586614" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // (14); the condition prevents chains of views
                  <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;inferring view from &quot;)" class="string">&quot;inferring view from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="672435">coercion</a> = <a href="#184325" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#586614" title="Typers.this.global.Type">pt</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                  // convert forward views of delegate types into closures wrapped around
                  // the delegate's apply method (the &quot;Invoke&quot; method, which was translated into apply)
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183036" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672435" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46580" title="(delegateType: Typers.this.global.Type, functionType: Typers.this.global.Type)Boolean">isCorrespondingDelegate</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="672442">meth</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> = <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
                    <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;replacing forward delegate view with: &quot;)" class="string">&quot;replacing forward delegate view with: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672442" title="Typers.this.global.Symbol">meth</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672442" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#672442" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#672435" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">def</span> <a title="=&gt; String" id="672471">msg</a> = <span title="String(&quot;inferred view from &quot;)" class="string">&quot;inferred view from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586614" title="Typers.this.global.Type">pt</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672435" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672435" title="Typers.this.global.Tree">coercion</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183378" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">logImplicitConv</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185130" title="(pos: Typers.this.global.Position, msg: String)Unit">echo</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#672471" title="=&gt; String">msg</a><span class="delimiter">)</span>

                    <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#672471" title="=&gt; String">msg</a><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184648" title="(reportAmbiguousErrors: Boolean)Typers.this.Context">makeImplicit</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184603" title="=&gt; Boolean">reportAmbiguousErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>
                      <span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="Analyzer.scala.html#183929" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#672435" title="Typers.this.global.Tree">coercion</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyImplicitView">setPos</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586613" title="Int">mode</a>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;error tree = &quot;)" class="string">&quot;error tree = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586612" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#183587" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#184475" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <a href="Infer.scala.html#184474" title="(tree: Typers.this.global.Tree, found: Typers.this.global.Type, req: Typers.this.global.Type)Typers.this.global.Tree">typeErrorTree</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672506">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586614" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42820" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    // Ignore type errors raised in later phases that are due to mismatching types with existential skolems
                    // We have lift crashing in 2.9 with an adapt failure in the pattern matcher.
                    // Here's my hypothsis why this happens. The pattern matcher defines a variable of type
                    //
                    //   val x: T = expr
                    //
                    // where T is the type of expr, but T contains existential skolems ts.
                    // In that case, this value definition does not typecheck.
                    // The value definition
                    //
                    //   val x: T forSome { ts } = expr
                    //
                    // would typecheck. Or one can simply leave out the type of the `val`:
                    //
                    //   val x = expr
                    <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;recovering from existential Skolem type error in tree \n&quot;)" class="string">&quot;recovering from existential Skolem type error in tree \n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586612" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nwith type &quot;)" class="string">&quot;\nwith type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586612" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n expected type = &quot;)" class="string">&quot;\n expected type = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586614" title="Typers.this.global.Type">pt</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n context = &quot;)" class="string">&quot;\n context = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                    <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#586612" title="Typers.this.global.Tree">tree</a>, <a href="#586613" title="Int">mode</a>, <a href="../../../reflect/internal/Symbols.scala.html#40017" title="(syms: List[Typers.this.global.Symbol])(tpe: Typers.this.global.Type)Typers.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#586614" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42820" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#586614" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span>
                    <span title="Nothing" class="keyword">throw</span> <a href="#672506" title="Typers.this.global.TypeError">ex</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184369">instantiate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671734">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="671735">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="671736">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="Infer.scala.html#184504" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#671734" title="Typers.this.global.Tree">tree</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184631" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#671736" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#671734" title="Typers.this.global.Tree">tree</a>, <a href="#671735" title="Int">mode</a>, <a href="#671736" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    /** If the expected type is Unit: try instantiating type arguments
     *  with expected type Unit, but if that fails, try again with pt = WildcardType
     *  and discard the expression.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="184370">instantiateExpectingUnit</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672310">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="672311">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="672510">savedUndetparams</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
      <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#672516" title="Typers.this.Typer">_</a>.<a href="#184369" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#672310" title="Typers.this.global.Tree">tree</a>, <a href="#672311" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672522">t</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; <a href="#672522" title="Typers.this.global.Tree">t</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#672510" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Block" id="672523">valueDiscard</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#672310" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#184369" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#672310" title="Typers.this.global.Tree">tree</a>, <a href="#672311" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#183929" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)Typers.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#672523" title="Typers.this.global.Block">valueDiscard</a>, <a href="#672311" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree)Boolean" id="184371">isAdaptableWithView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672559">qual</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="672562">qtpe</a> = <a href="#672559" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a>
      <span class="delimiter">(</span>    <span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672559" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Boolean">isTerm</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#672559" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#672559" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">||</span> <a href="#672559" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#672562" title="Typers.this.global.Type">qtpe</a>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#672562" title="Typers.this.global.Type">qtpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47758" title="=&gt; Boolean">isBottomClass</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672562" title="Typers.this.global.Type">qtpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#672559" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</span><span class="delimiter">]</span> // don't chain views
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184612" title="=&gt; Boolean">implicitsEnabled</a>
        // Elaborating `context.implicitsEnabled`:
        // don't try to adapt a top-level type that's the subject of an implicit search
        // this happens because, if isView, typedImplicit tries to apply the &quot;current&quot; implicit value to
        // a value that needs to be coerced, so we check whether the implicit value has an `apply` method.
        // (If we allow this, we get divergence, e.g., starting at `conforms` during ant quick.bin)
        // Note: implicit arguments are still inferred (this kind of &quot;chaining&quot; is allowed)
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree" id="184372">adaptToMember</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671886">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="671887">searchTemplate</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184371" title="(qual: Typers.this.global.Tree)Boolean">isAdaptableWithView</a><span class="delimiter">(</span><a href="#671886" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#671886" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="qual.type" id="672569">et</a>: <a href="../../../reflect/internal/Types.scala.html#40156" title="Typers.this.global.ExistentialType">ExistentialType</a> =&gt;
            <a href="#671886" title="Typers.this.global.Tree">qual</a> <span title="(tp: Typers.this.global.Type)qual.type">setType</span> <a href="#672569" title="Typers.this.global.ExistentialType">et</a>.<a href="../../../reflect/internal/Types.scala.html#67142" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#671886" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> // open the existential
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#184325" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#671886" title="Typers.this.global.Tree">qual</a>, <a href="#671886" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#671887" title="Typers.this.global.Type">searchTemplate</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Analyzer.scala.html#183929" title="Typers.this.global.Tree">EmptyTree</a>  =&gt; <a href="#671886" title="Typers.this.global.Tree">qual</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672585">coercion</a>   =&gt; 
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183378" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">logImplicitConv</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185130" title="(pos: Typers.this.global.Position, msg: String)Unit">echo</a><span class="delimiter">(</span><a href="#671886" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;applied implicit conversion from %s to %s = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
                  <a href="#671886" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#671887" title="Typers.this.global.Type">searchTemplate</a>, <a href="#672585" title="Typers.this.global.Tree">coercion</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48059" title="=&gt; String">defString</a><span class="delimiter">)</span><span class="delimiter">)</span>
            
            <a href="#184441" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyImplicitView)Typers.this.global.ApplyImplicitView">atPos</a><span class="delimiter">(</span><a href="#671886" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="Analyzer.scala.html#183929" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#672585" title="Typers.this.global.Tree">coercion</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#671886" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#671886" title="Typers.this.global.Tree">qual</a>
    <span class="delimiter">}</span>

    /** Try to apply an implicit conversion to `qual` to that it contains
     *  a method `name` which can be applied to arguments `args` with expected type `pt`.
     *  If `pt` is defined, there is a fallback to try again with pt = ?.
     *  This helps avoiding propagating result information too far and solves
     *  #1756.
     *  If no conversion is found, return `qual` unchanged.
     *
     */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree" id="184373">adaptToArguments</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672607">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="672608">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="672609">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="672610">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(restpe: Typers.this.global.Type)Typers.this.global.Tree" id="672612">doAdapt</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="672613">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
        //util.trace(&quot;adaptToArgs &quot;+qual+&quot;, name = &quot;+name+&quot;, argtpes = &quot;+(args map (_.tpe))+&quot;, pt = &quot;+pt+&quot; = &quot;)
        <a href="#184372" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#672607" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#623745" title="(name: Typers.this.global.Name, argtpes: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">HasMethodMatching</a><span class="delimiter">(</span><a href="#672608" title="Typers.this.global.Name">name</a>, <a href="#672609" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#672633" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#672613" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#672610" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="672670">_</a> =&gt; <a href="#672612" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#672610" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672676">result</a>: <span title="Typers.this.global.Tree">Tree</span> <span class="keyword">if</span> <a href="#672676" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#672607" title="Typers.this.global.Tree">qual</a> =&gt;
            <a href="#672676" title="Typers.this.global.Tree">result</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;fallback on implicits in adaptToArguments: &quot;)" class="string">&quot;fallback on implicits in adaptToArguments: &quot;</span><span title="(x$1: Any)String">+</span><a href="#672607" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)String">+</span><span title="String(&quot; . &quot;)" class="string">&quot; . &quot;</span><span title="(x$1: Any)String">+</span><a href="#672608" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#672612" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <a href="#672612" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#672610" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Try o apply an implicit conversion to `qual` to that it contains
     *  a method `name`. If that's ambiguous try taking arguments into account using `adaptToArguments`.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree" id="184374">adaptToMemberWithArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672681">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="672682">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="672683">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a>, <a title="Int" id="672684">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#184372" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#672682" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#623706" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#672683" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672686">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
        // this happens if implicits are ambiguous; try again with more context info.
        // println(&quot;last ditch effort: &quot;+qual+&quot; . &quot;+name)
        <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672691">tree1</a>, <a title="List[Typers.this.global.Tree]" id="672692">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#672691" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#672681" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672692" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt; // try handling the arguments
            // println(&quot;typing args: &quot;+args)
            <a href="#184363" title="(op: Typers.this.Typer =&gt; List[Typers.this.global.Tree], reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#672698" title="Typers.this.Typer">_</a>.<a href="#184408" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#672692" title="List[Typers.this.global.Tree]">args</a>, <a href="#672684" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="672728">args</a>: <span title="List[_]">List</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
                <a href="#184373" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#672682" title="Typers.this.global.Tree">qual</a>, <a href="#672683" title="Typers.this.global.Name">name</a>, <a href="#672728" title="List[_]">args</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="List[Typers.this.global.Tree]" class="delimiter">[</span><span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <span title="Nothing" class="keyword">throw</span> <a href="#672686" title="Typers.this.global.TypeError">ex</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
            // println(&quot;not in an apply: &quot;+context.tree+&quot;/&quot;+tree)
            <span title="Nothing" class="keyword">throw</span> <a href="#672686" title="Typers.this.global.TypeError">ex</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Try to apply an implicit conversion to `qual` to that it contains a
     *  member `name` of arbitrary type.
     *  If no conversion is found, return `qual` unchanged.
     */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="184375">adaptToName</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671877">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="671878">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184362" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#671877" title="Typers.this.global.Tree">qual</a>, <a href="#671878" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#671877" title="Typers.this.global.Tree">qual</a>
      <span class="keyword">else</span> <a href="#184372" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#671877" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#623706" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#671878" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree" id="184376">typePrimaryConstrBody</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="672730">clazz</a> : <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Tree" id="672731">cbody</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Symbol]" id="672732">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Symbol]" id="672733">enclTparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[List[Typers.this.global.ValDef]]" id="672734">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // XXX: see about using the class's symbol....
      <a href="#672733" title="List[Typers.this.global.Symbol]">enclTparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="672755">sym</a> =&gt; <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#672755" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619497" title="(vparamss: List[List[Typers.this.global.ValDef]])List[List[Typers.this.global.Symbol]]">enterValueParams</a><span class="delimiter">(</span><a href="#672734" title="List[List[Typers.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
      <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#672731" title="Typers.this.global.Tree">cbody</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Unit" id="184377">validateNoCaseAncestor</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="672763">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="672779">ancestor</a> &lt;- <a href="#672763" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47996" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">find</span> <span class="delimiter">(</span><a href="#672774" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48078" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#672763" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>, <span class="delimiter">(</span>
            <span class="string">&quot;case %s has case ancestor %s, but case-to-case inheritance is prohibited.&quot;</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</span>
            <span class="string">&quot; To overcome this limitation, use extractors to pattern match on non-leaf nodes.&quot;</span>
          <span class="delimiter">)</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#672763" title="Typers.this.global.Symbol">clazz</a>, <a href="#672779" title="Typers.this.global.Symbol">ancestor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]" id="184378">parentTypes</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="639414">templ</a>: <span title="Typers.this.global.Template">Template</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#639414" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="672795">clazz</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>
        // Normalize supertype and mixins so that supertype is always a class, not a trait.
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="672796">supertpt</a> = <a href="#184450" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#639414" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="672797">firstParent</a> = <a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="keyword">var</span> <a title="List[Typers.this.global.Tree]" id="672798">mixins</a> = <a href="#639414" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; List[Typers.this.global.Tree]">tail</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#184445" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a>
        // If first parent is a trait, make it first mixin and add its superclass as first parent
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; Typers.this.global.Symbol">initialize</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#672803" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="672876">supertpt1</a> = <a href="#184445" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#672796" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#672876" title="Typers.this.global.Tree">supertpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#672798" title="List[Typers.this.global.Tree]">mixins</a> = <a href="#672876" title="Typers.this.global.Tree">supertpt1</a> <a href="#672881" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#672798" title="List[Typers.this.global.Tree]">mixins</a>
            <a href="#672796" title="Typers.this.global.Tree">supertpt</a> = <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#672876" title="Typers.this.global.Tree">supertpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Determine
        //  - supertparams: Missing type parameters from supertype
        //  - supertpe: Given supertype, polymorphic in supertparams
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="672799">supertparams</a> = <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="keyword">else</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="672800">supertpe</a> = <a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#672799" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#672800" title="Typers.this.global.Type">supertpe</a> = <a href="../../../reflect/internal/Types.scala.html#67004" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#672799" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#672800" title="Typers.this.global.Type">supertpe</a>, <a href="#672799" title="List[Typers.this.global.Symbol]">supertparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#672921" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47919" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // A method to replace a super reference by a New in a supercall
        <span class="keyword">def</span> <a title="(scall: Typers.this.global.Tree)Typers.this.global.Tree" id="672801">transformSuperCall</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672949">scall</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">(</span><a href="#672949" title="Typers.this.global.Tree">scall</a>: @<span title="Typers.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672954">fn</a>, <a title="List[Typers.this.global.Tree]" id="672955">args</a><span class="delimiter">)</span> =&gt;
            <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#672949" title="Typers.this.global.Tree">scall</a>, <a href="#672801" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#672954" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>, <a href="#672955" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#672975" title="Typers.this.global.Tree">_</a>.<span title="=&gt; x$15.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
            <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</span><span class="delimiter">(</span>
              <a href="#672949" title="Typers.this.global.Tree">scall</a>,
              <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.New)Typers.this.global.New">atPos</a><span class="delimiter">(</span><a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#672800" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</span> <a href="#672800" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span>,
              <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118929" title="(stats: List[Typers.this.global.treeInfo.global.Tree])Typers.this.global.treeInfo.global.Tree">firstConstructor</a><span class="delimiter">(</span><a href="#639414" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Any" id="673047">constr</a> @ DefDef<span class="delimiter">(</span>_, _, _, <a title="List[List[Typers.this.global.ValDef]]" id="673070">vparamss</a>, _, <a title="Typers.this.global.Block" id="673071">cbody</a> @ Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="673076">cstats</a>, <a title="Typers.this.global.Tree" id="673077">cunit</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            // Convert constructor body to block in environment and typecheck it
            <span class="keyword">val</span> <a href="#673079" title="(List[Typers.this.global.Tree], Typers.this.global.Tree)" class="delimiter">(</a><a href="#673078" title="List[Typers.this.global.Tree]" id="673079">preSuperStats</a>, <a href="#673078" title="Typers.this.global.Tree" id="673080">superCall</a><span class="delimiter">)</span> = <span title="(List[Typers.this.global.Tree], Typers.this.global.Tree) @unchecked" class="delimiter">{</span>
              <span class="keyword">val</span> <a href="#673088" title="(List[Typers.this.global.Tree], List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#673087" title="List[Typers.this.global.Tree]" id="673088">stats</a>, <a href="#673087" title="List[Typers.this.global.Tree]" id="673089">rest</a><span class="delimiter">)</span> = <a href="#673076" title="List[Typers.this.global.Tree]">cstats</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)(List[Typers.this.global.Tree], List[Typers.this.global.Tree])">span</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="673095">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118926" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSuperConstrCall</a><span class="delimiter">(</span><a href="#673095" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="(_1: List[Typers.this.global.Tree], _2: Typers.this.global.Tree)(List[Typers.this.global.Tree], Typers.this.global.Tree)" class="delimiter">(</span><a href="#673088" title="List[Typers.this.global.Tree]">stats</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#673127" title="Typers.this.global.Tree">_</a>.<span title="=&gt; x$17.type">duplicate</span><span class="delimiter">)</span>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#673089" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span class="keyword">else</span> <a href="#673089" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Tree">duplicate</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="673081">cstats1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#673080" title="Typers.this.global.Tree">superCall</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#673079" title="List[Typers.this.global.Tree]">preSuperStats</a> <span class="keyword">else</span> <a href="#673079" title="List[Typers.this.global.Tree]">preSuperStats</a> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="#673080" title="Typers.this.global.Tree">superCall</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Block" id="673082">cbody1</a> = <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</span><span class="delimiter">(</span><a href="#673071" title="Typers.this.global.Block">cbody</a>, <a href="#673079" title="List[Typers.this.global.Tree]">preSuperStats</a>, <a href="#673080" title="Typers.this.global.Tree">superCall</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#672799" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt; <a href="#672801" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#673080" title="Typers.this.global.Tree">superCall</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="cunit.type">_</span>                                    =&gt; <a href="#673077" title="Typers.this.global.Tree">cunit</a>.<span title="=&gt; cunit.type">duplicate</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="673083">outercontext</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184564" title="=&gt; Typers.this.Context">outer</a>

            <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#672795" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="673084">cscope</a> = <a href="#673083" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#673047" title="Typers.this.global.DefDef">constr</a>, <a href="#673083" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="673085">cbody2</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#673084" title="Typers.this.Context">cscope</a><span class="delimiter">)</span> // called both during completion AND typing.
                .<a href="#184376" title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree">typePrimaryConstrBody</a><span class="delimiter">(</span><a href="#672795" title="Typers.this.global.Symbol">clazz</a>,
                  <a href="#673082" title="Typers.this.global.Block">cbody1</a>, <a href="#672799" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="#672795" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47939" title="=&gt; List[Typers.this.global.Symbol]">unsafeTypeParams</a>, <a href="#673070" title="List[List[Typers.this.global.ValDef]]">vparamss</a> <span title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Typers.this.global.ValDef]],List[Typers.this.global.ValDef],List[List[Typers.this.global.ValDef]]])List[List[Typers.this.global.ValDef]]">map</span> <span class="delimiter">(</span><a href="#673251" title="List[Typers.this.global.ValDef]">_</a>.<span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.ValDef,List[Typers.this.global.ValDef]]" class="delimiter">(</span><a href="#673268" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; x$20.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#673080" title="Typers.this.global.Tree">superCall</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.treeInfo.global.Tree" id="673341">sarg</a> = <a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118959" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">firstArgument</a><span class="delimiter">(</span><a href="#673080" title="Typers.this.global.Tree">superCall</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673341" title="Typers.this.global.treeInfo.global.Tree">sarg</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672800" title="Typers.this.global.Type">supertpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#672797" title="Typers.this.global.Symbol">firstParent</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673341" title="Typers.this.global.treeInfo.global.Tree">sarg</a>.<span title="=&gt; Typers.this.global.treeInfo.global.Position">pos</span>, <a href="#672797" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">firstParent</a><span title="(other: String)String">+</span><span title="String(&quot; is a trait; does not take constructor arguments&quot;)" class="string">&quot; is a trait; does not take constructor arguments&quot;</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#672799" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#672796" title="Typers.this.global.Tree">supertpt</a> = <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#673085" title="Typers.this.global.Tree">cbody2</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#672799" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;missing type arguments&quot;)" class="string">&quot;missing type arguments&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="List[Typers.this.global.treeInfo.global.ValDef]" id="673086">preSuperVals</a> = <a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118931" title="(stats: List[Typers.this.global.treeInfo.global.Tree])List[Typers.this.global.treeInfo.global.ValDef]">preSuperFields</a><span class="delimiter">(</span><a href="#639414" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#673086" title="List[Typers.this.global.treeInfo.global.ValDef]">preSuperVals</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673079" title="List[Typers.this.global.Tree]">preSuperStats</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#182895" title="(msg: =&gt; String)Unit">debugwarn</a><span class="delimiter">(</span><span title="String(&quot;Wanted to zip empty presuper val list with &quot;)" class="string">&quot;Wanted to zip empty presuper val list with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#673079" title="List[Typers.this.global.Tree]">preSuperStats</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.treeInfo.global.ValDef])(f: (Typers.this.global.Tree, Typers.this.global.treeInfo.global.ValDef) =&gt; Unit)List[Unit]">map2</a><span class="delimiter">(</span><a href="#673079" title="List[Typers.this.global.Tree]">preSuperStats</a>, <a href="#673086" title="List[Typers.this.global.treeInfo.global.ValDef]">preSuperVals</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="673403">ldef</a>, <a title="Typers.this.global.treeInfo.global.ValDef" id="673404">gdef</a><span class="delimiter">)</span> =&gt; <a href="#673404" title="Typers.this.global.treeInfo.global.ValDef">gdef</a>.<span title="=&gt; Typers.this.global.treeInfo.global.Tree">tpt</span>.<span title="(t: Typers.this.global.treeInfo.global.Type)Unit">tpe</span> = <a href="#673403" title="Typers.this.global.Tree">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#672799" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#672796" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;missing type arguments&quot;)" class="string">&quot;missing type arguments&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
/* experimental: early types as type arguments
        val hasEarlyTypes = templ.body exists (treeInfo.isEarlyTypeDef)
        val earlyMap = new EarlyMap(clazz)
        List.mapConserve(supertpt :: mixins){ tpt =&gt;
          val tpt1 = checkNoEscaping.privates(clazz, tpt)
          if (hasEarlyTypes) tpt1 else tpt1 setType earlyMap(tpt1.tpe)
        }
*/

        //Console.println(&quot;parents(&quot;+clazz&quot;) = &quot;+supertpt :: mixins);//DEBUG

        // Certain parents are added in the parser before it is known whether
        // that class also declared them as parents.  For instance, this is an
        // error unless we take corrective action here:
        //
        //   case class Foo() extends Serializable
        //
        // So we strip the duplicates before typer.
        <span class="keyword">def</span> <a title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="672802">fixDuplicates</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="673476">remaining</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#673476" title="List[Typers.this.global.Tree]">remaining</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>      =&gt; <span title="object Nil">Nil</span>
          <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="673481">x</a> :: <a title="List[Typers.this.global.Tree]" id="673482">xs</a>  =&gt;
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="673483">sym</a> = <a href="#673481" title="Typers.this.global.Tree">x</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
            <a href="#673481" title="Typers.this.global.Tree">x</a> <a href="#673484" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#672802" title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">fixDuplicates</a><span class="delimiter">(</span>
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46774" title="(elem: Typers.this.global.Symbol)Boolean">isPossibleSyntheticParent</a><span class="delimiter">(</span><a href="#673483" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#673482" title="List[Typers.this.global.Tree]">xs</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)List[Typers.this.global.Tree]">filterNot</span> <span class="delimiter">(</span><a href="#673507" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#673483" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#673482" title="List[Typers.this.global.Tree]">xs</a>
            <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#672802" title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">fixDuplicates</a><span class="delimiter">(</span><a href="#672796" title="Typers.this.global.Tree">supertpt</a> <a href="#673518" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#672798" title="List[Typers.this.global.Tree]">mixins</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="673530">tpt</a> =&gt; <a href="#184345" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#670884" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#672795" title="Typers.this.global.Symbol">clazz</a>, <a href="#673530" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="List[Typers.this.global.TypeTree]" id="673537">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#639414" title="Typers.this.global.Template">templ</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <a href="TypeDiagnostics.scala.html#184316" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#639414" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#673537" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <span title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /** &lt;p&gt;Check that&lt;/p&gt;
     *  &lt;ul&gt;
     *    &lt;li&gt;all parents are class types,&lt;/li&gt;
     *    &lt;li&gt;first parent class is not a mixin; following classes are mixins,&lt;/li&gt;
     *    &lt;li&gt;final classes are not inherited,&lt;/li&gt;
     *    &lt;li&gt;
     *      sealed classes are only inherited by classes which are
     *      nested within definition of base class, or that occur within same
     *      statement sequence,
     *    &lt;/li&gt;
     *    &lt;li&gt;self-type of current class is a subtype of self-type of each parent class.&lt;/li&gt;
     *    &lt;li&gt;no two parents define same symbol.&lt;/li&gt;
     *  &lt;/ul&gt;
     */
    <span class="keyword">def</span> <a title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit" id="184379">validateParentClasses</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="673548">parents</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="673549">selfType</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit" id="673551">validateParentClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="673552">parent</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="673553">superclazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="673554">psym</a> = <a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; Typers.this.global.Symbol">initialize</a>
          <a href="#184338" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#673552" title="Typers.this.global.Tree">parent</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673554" title="Typers.this.global.Symbol">psym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#673553" title="Typers.this.global.Symbol">superclazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673554" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="673560">ps</a> = <a href="#673554" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#673560" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673553" title="Typers.this.global.Symbol">superclazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="#673560" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;illegal inheritance; super&quot;)" class="string">&quot;illegal inheritance; super&quot;</span><span title="(x$1: Any)String">+</span><a href="#673553" title="Typers.this.global.Symbol">superclazz</a><span title="(x$1: Any)String">+</span>
                      <span title="String(&quot;\n is not a subclass of the super&quot;)" class="string">&quot;\n is not a subclass of the super&quot;</span><span title="(x$1: Any)String">+</span><a href="#673560" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: Any)String">+</span>
                      <span title="String(&quot;\n of the mixin &quot;)" class="string">&quot;\n of the mixin &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#673554" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#673554" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">psym</a><span title="(other: String)String">+</span><span title="String(&quot; needs to be a trait to be mixed in&quot;)" class="string">&quot; needs to be a trait to be mixed in&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673554" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48079" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;illegal inheritance from final &quot;)" class="string">&quot;illegal inheritance from final &quot;</span><span title="(x$1: Any)String">+</span><a href="#673554" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673554" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48096" title="=&gt; Boolean">isSealed</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // AnyVal is sealed, but we have to let the value classes through manually
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#185145" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#673554" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#673554" title="Typers.this.global.Symbol">psym</a> <a href="../../../reflect/internal/Symbols.scala.html#47949" title="(sym: Typers.this.global.Symbol)Unit">addChild</a> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="keyword">else</span>
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;illegal inheritance from sealed &quot;)" class="string">&quot;illegal inheritance from sealed &quot;</span><span title="(x$1: Any)String">+</span><a href="#673554" title="Typers.this.global.Symbol">psym</a><span title="(x$1: Any)String">+</span><span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#185145" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#187401" title="=&gt; String">canonicalPath</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; != &quot;)" class="string">&quot; != &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#673554" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a>.<a href="../io/AbstractFile.scala.html#187401" title="=&gt; String">canonicalPath</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#673549" title="Typers.this.global.Type">selfType</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42734" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span title="=&gt; Boolean">!</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>   // don't check synthetic concrete classes for virtuals (part of DEVIRTUALIZE)
              <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183542" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noSelfCheck</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>  // setting to suppress this very check
              <span title="=&gt; Boolean">!</span><a href="#673549" title="Typers.this.global.Type">selfType</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span title="=&gt; Boolean">!</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <span class="delimiter">{</span>
            //Console.println(context.owner);//DEBUG
            //Console.println(context.owner.unsafeTypeParams);//DEBUG
            //Console.println(List.fromArray(context.owner.info.closure));//DEBUG
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;illegal inheritance;\n self-type &quot;)" class="string">&quot;illegal inheritance;\n self-type &quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#673549" title="Typers.this.global.Type">selfType</a><span title="(x$1: Any)String">+</span><span title="String(&quot; does not conform to &quot;)" class="string">&quot; does not conform to &quot;</span><span title="(x$1: Any)String">+</span><a href="#673552" title="Typers.this.global.Tree">parent</a> <span title="(x$1: Any)String">+</span>
                  <span title="String(&quot;\'s selftype &quot;)" class="string">&quot;'s selftype &quot;</span><span title="(x$1: Any)String">+</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42734" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#183587" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#184475" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#673549" title="Typers.this.global.Type">selfType</a>, <a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42734" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673548" title="List[Typers.this.global.Tree]">parents</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="673590">p</a> =&gt; <a href="#673590" title="Typers.this.global.Tree">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#673552" title="Typers.this.global.Tree">parent</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673590" title="Typers.this.global.Tree">p</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#673554" title="Typers.this.global.Symbol">psym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673554" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47807" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673552" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#673554" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">psym</a><span title="(other: String)String">+</span><span title="String(&quot; is inherited twice&quot;)" class="string">&quot; is inherited twice&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#673548" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673548" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="673622">p</a> &lt;- <a href="#673548" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#673551" title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit">validateParentClass</a><span class="delimiter">(</span><a href="#673622" title="Typers.this.global.Tree">p</a>, <a href="#673548" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>

/*
      if (settings.Xshowcls.value != &quot;&quot; &amp;&amp;
          settings.Xshowcls.value == context.owner.fullName)
        println(&quot;INFO &quot;+context.owner+
                &quot;, baseclasses = &quot;+(context.owner.info.baseClasses map (_.fullName))+
                &quot;, lin = &quot;+(context.owner.info.baseClasses map (context.owner.thisType.baseType)))
*/
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(classinfo: Typers.this.global.ClassInfoType)Unit" id="184380">checkFinitary</a><span class="delimiter">(</span><a title="Typers.this.global.ClassInfoType" id="673625">classinfo</a>: <a href="../../../reflect/internal/Types.scala.html#40123" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="673627">clazz</a> = <a href="#673625" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#71116" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="673649">tparam</a> &lt;- <a href="#673627" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#673625" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#71130" title="(tparam: Typers.this.global.Symbol)Set[Typers.this.global.Symbol]">expansiveRefs</a><span class="delimiter">(</span><a href="#673649" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(elem: Typers.this.global.Symbol)Boolean">contains</span> <a href="#673649" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673649" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;class graph is not finitary because type parameter &quot;)" class="string">&quot;class graph is not finitary because type parameter &quot;</span><span title="(x$1: Any)String">+</span><a href="#673649" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span title="(x$1: Any)String">+</span><span title="String(&quot; is expansively recursive&quot;)" class="string">&quot; is expansively recursive&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ClassInfoType" id="673655">newinfo</a> = <a href="../../../reflect/internal/Types.scala.html#71108" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <a href="#673625" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#71112" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#673678" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#673649" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <a href="#673625" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#71114" title="=&gt; Typers.this.global.Scope">decls</a>,
            <a href="#673627" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <a href="#673627" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)clazz.type">setInfo</a> <span class="delimiter">{</span>
            <a href="#673627" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.PolyType">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="673725">tparams</a>, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#67004" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#673725" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#673655" title="Typers.this.global.ClassInfoType">newinfo</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.ClassInfoType">_</span> =&gt; <a href="#673655" title="Typers.this.global.ClassInfoType">newinfo</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param cdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree" id="184381">typedClassDef</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="673733">cdef</a>: <span title="Typers.this.global.ClassDef">ClassDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
//      attributes(cdef)
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="673735">clazz</a> = <a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="673736">typedMods</a> = <a href="#184388" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#673735" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#184348" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="673737">tparams1</a> = <a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <span class="delimiter">(</span><a href="#184394" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="673738">impl1</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184642" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#673735" title="Typers.this.global.Symbol">clazz</a>, <a href="../../../reflect/internal/Scopes.scala.html#61744" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="Typers.this.global.Scope">Scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="#184387" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#184378" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="673739">impl2</a> = <a href="#184383" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">finishMethodSynthesis</a><span class="delimiter">(</span><a href="#673738" title="Typers.this.global.Template">impl1</a>, <a href="#673735" title="Typers.this.global.Symbol">clazz</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#673735" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#46673" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#673735" title="Typers.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#47963" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46673" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="TypeDiagnostics.scala.html#184254" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionWarning</a><span class="delimiter">(</span><a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>,
          <span class="string">&quot;subclassing Classfile does not\n&quot;</span>+
          <span class="string">&quot;make your annotation visible at runtime.  If that is what\n&quot;</span><span title="String(&quot;subclassing Classfile does not\nmake your annotation visible at runtime.  If that is what\nyou want, you must write the annotation class in Java.&quot;)">+</span>
          <span class="string">&quot;you want, you must write the annotation class in Java.&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="673793">ann</a> &lt;- <a href="#673735" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46229" title="(cls: Typers.this.global.Symbol)Option[Typers.this.global.AnnotationInfo]">getAnnotation</a><span title="(f: Typers.this.global.AnnotationInfo =&gt; Any)Unit" class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46705" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="673794">m</a> = <a href="Namers.scala.html#183993" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#673735" title="Typers.this.global.Symbol">clazz</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#673794" title="Typers.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#673794" title="Typers.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; Typers.this.global.Symbol">moduleClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47959" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Symbol">addAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#47273" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#673793" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47239" title="=&gt; Typers.this.global.Type">atp</a>, <a href="#673793" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47240" title="=&gt; List[Typers.this.global.Tree]">args</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], impl: Typers.this.global.Template)Typers.this.global.ClassDef">ClassDef</span><span class="delimiter">(</span><a href="#673733" title="Typers.this.global.ClassDef">cdef</a>, <a href="#673736" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#673733" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.TypeName">name</span>, <a href="#673737" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#673739" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span>
        .<span title="(tp: Typers.this.global.Type)Typers.this.global.ClassDef">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**
     *  @param mdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree" id="184382">typedModuleDef</a><span class="delimiter">(</span><a title="Typers.this.global.ModuleDef" id="673840">mdef</a>: <span title="Typers.this.global.ModuleDef">ModuleDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // initialize all constructors of the linked class: the type completer (Namer.methodSig)
      // might add default getters to this object. example: &quot;object T; class T(x: Int = 1)&quot;
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="673842">linkedClass</a> = <a href="Namers.scala.html#183993" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#673840" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673842" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#673842" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a href="#673874" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; x$25.type">initialize</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="673843">clazz</a>     = <a href="#673840" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; Typers.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="673844">typedMods</a> = <a href="#184388" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#673840" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#673843" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#673840" title="Typers.this.global.ModuleDef">mdef</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.Typer" id="673845">typer0</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184642" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#673840" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#673843" title="Typers.this.global.Symbol">clazz</a>, <a href="../../../reflect/internal/Scopes.scala.html#61744" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="Typers.this.global.Scope">Scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="673846">impl1</a>  = <a href="#673845" title="Typers.this.Typer">typer0</a>.<a href="#184387" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#673840" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <span class="delimiter">{</span>
        <a href="#184378" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#673840" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <span class="delimiter">(</span>
          <span title="List[Typers.this.global.TypeTree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#673842" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#673842" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47833" title="=&gt; Boolean">isSerializable</a> <span title="(x: Boolean)Boolean">||</span> <a href="#673843" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47833" title="=&gt; Boolean">isSerializable</a><span class="delimiter">)</span> <span title="object Nil">Nil</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#673843" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47946" title="()Unit">makeSerializable</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46377" title="=&gt; Typers.this.global.Symbol">SerializableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#673843" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="673847">impl2</a>  = <a href="#184383" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">finishMethodSynthesis</a><span class="delimiter">(</span><a href="#673846" title="Typers.this.global.Template">impl1</a>, <a href="#673843" title="Typers.this.global.Symbol">clazz</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>

      <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, impl: Typers.this.global.Template)Typers.this.global.ModuleDef">ModuleDef</span><span class="delimiter">(</span><a href="#673840" title="Typers.this.global.ModuleDef">mdef</a>, <a href="#673844" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#673840" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#673847" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ModuleDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>
    /** In order to override this in the TreeCheckers Typer so synthetics aren't re-added
     *  all the time, it is exposed here the module/class typing methods go through it.
     *  ...but it turns out it's also the ideal spot for namer/typer coordination for
     *  the tricky method synthesis scenarios, so we'll make it that.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template" id="184383">finishMethodSynthesis</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="664412">templ</a>: <span title="Typers.this.global.Template">Template</span>, <a title="Typers.this.global.Symbol" id="664413">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.Context" id="664414">context</a>: <a href="Contexts.scala.html#183956" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <span title="Typers.this.global.Template">Template</span> = <span class="delimiter">{</span>
      <a href="SyntheticMethods.scala.html#184175" title="(templ: Typers.this.global.Template, clazz0: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">addSyntheticMethods</a><span class="delimiter">(</span><a href="#664412" title="Typers.this.global.Template">templ</a>, <a href="#664413" title="Typers.this.global.Symbol">clazz</a>, <a href="#664414" title="Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    /** For flatMapping a list of trees when you want the DocDefs and Annotated
     *  to be transparent.
     */
    <span class="keyword">def</span> <a title="(f: Typers.this.global.Tree =&gt; List[Typers.this.global.Tree])Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]" id="184384">rewrappingWrapperTrees</a><span class="delimiter">(</span><a title="Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]" id="673974">f</a>: Tree =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: Tree =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#673977" title="List[Typers.this.global.Tree]" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="673978">dd</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="673981">comment</a>, <a title="Typers.this.global.Tree" id="673982">defn</a><span class="delimiter">)</span> =&gt; <a href="#673974" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><span class="delimiter">(</span><a href="#673982" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.DocDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.DocDef,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="674003">stat</a> =&gt; <a href="../ast/Trees.scala.html#251860" title="(comment: Typers.this.global.DocComment, definition: Typers.this.global.Tree)Typers.this.global.DocDef">DocDef</a><span class="delimiter">(</span><a href="#673981" title="Typers.this.global.DocComment">comment</a>, <a href="#674003" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.DocDef">setPos</span> <a href="#673978" title="Typers.this.global.DocDef">dd</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="674041">annot</a>, <a title="Typers.this.global.Tree" id="674042">defn</a><span class="delimiter">)</span>     =&gt; <a href="#673974" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><span class="delimiter">(</span><a href="#674042" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Annotated)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Annotated,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="674062">stat</a> =&gt; <a href="Analyzer.scala.html#183929" title="(annot: Typers.this.global.Tree, arg: Typers.this.global.Tree)Typers.this.global.Annotated">Annotated</a><span class="delimiter">(</span><a href="#674041" title="Typers.this.global.Tree">annot</a>, <a href="#674062" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="674094">tree</a>                       =&gt; <a href="#673974" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><span class="delimiter">(</span><a href="#674094" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit" id="184385">enterSyms</a><span class="delimiter">(</span><a title="Typers.this.Context" id="674095">txt</a>: <a href="Contexts.scala.html#183956" title="Typers.this.Context">Context</a>, <a title="List[Typers.this.global.Tree]" id="674096">trees</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.Context" id="674099">txt0</a> = <a href="#674095" title="Typers.this.Context">txt</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="674119">tree</a> &lt;- <a href="#674096" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span> <a href="#674099" title="Typers.this.Context">txt0</a> = <a href="#184386" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#674099" title="Typers.this.Context">txt0</a>, <a href="#674119" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context" id="184386">enterSym</a><span class="delimiter">(</span><a title="Typers.this.Context" id="622341">txt</a>: <a href="Contexts.scala.html#183956" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Tree" id="622342">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="Contexts.scala.html#183956" title="Typers.this.Context">Context</a> =
      <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><a href="#622341" title="Typers.this.Context">txt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619520" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#622342" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="Namers.scala.html#183977" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#622341" title="Typers.this.Context">txt</a><span class="delimiter">)</span>.<a href="Namers.scala.html#619520" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#622342" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    /**
     *  @param templ    ...
     *  @param parents1 ...
     *    &lt;li&gt; &lt;!-- 2 --&gt;
     *      Check that inner classes do not inherit from Annotation
     *    &lt;/li&gt;
     *  @return         ...
     */
    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template" id="184387">typedTemplate</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="673777">templ</a>: <span title="Typers.this.global.Template">Template</span>, <a title="List[Typers.this.global.Tree]" id="673778">parents1</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Template">Template</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="674122">clazz</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>
      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="674123">annots</a> = <a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#673777" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#673777" title="Typers.this.global.Template">templ</a> <span title="(sym: Typers.this.global.Symbol)templ.type">setSymbol</span> <a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47701" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#673777" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="674124">self1</a> = <a href="#673777" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.ValDef">self</span> <span title="Typers.this.global.ValDef" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="674141">vd</a> @ ValDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="674151">mods</a>, <a title="Typers.this.global.TermName" id="674152">name</a>, <a title="Typers.this.global.Tree" id="674153">tpt</a>, <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="674154">tpt1</a> = <a href="#184345" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#670884" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.TypeTree)Typers.this.global.TypeTree">privates</a><span class="delimiter">(</span>
            <a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47978" title="=&gt; Typers.this.global.Symbol">thisSym</a>,
            <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">TypeTree</span><span class="delimiter">(</span><a href="#674153" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>.<span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span><span class="delimiter">(</span><a href="#674153" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</span> <a href="#674141" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a href="#674141" title="Typers.this.global.ValDef">vd</a>, <a href="#674151" title="Typers.this.global.Modifiers">mods</a>, <a href="#674152" title="Typers.this.global.TermName">name</a>, <a href="#674154" title="Typers.this.global.TypeTree">tpt1</a>, <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>
      // was:
      //          val tpt1 = checkNoEscaping.privates(clazz.thisSym, typedType(tpt))
      //          treeCopy.ValDef(vd, mods, name, tpt1, EmptyTree) setType NoType
      // but this leads to cycles for existential self types ==&gt; #2545
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#674124" title="Typers.this.global.ValDef">self1</a>.<span title="=&gt; Typers.this.global.TermName">name</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>
        <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#674124" title="Typers.this.global.ValDef">self1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="674125">selfType</a> = <span class="delimiter">(</span>
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47815" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Types.scala.html#40202" title="(tps: List[Typers.this.global.Type], owner: Typers.this.global.Symbol)Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a>, <a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47979" title="=&gt; Typers.this.global.Type">typeOfThis</a>
      <span class="delimiter">)</span>
      // the following is necessary for templates generated later
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Typers.this.global.Scope">decls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Scopes.scala.html#40430" title="object Typers.this.global.EmptyScope">EmptyScope</a>, <a href="#674122" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <a href="#184385" title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184564" title="=&gt; Typers.this.Context">outer</a>.<a href="Contexts.scala.html#184642" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#673777" title="Typers.this.global.Template">templ</a>, <a href="#674122" title="Typers.this.global.Symbol">clazz</a>, <a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#673777" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
      <a href="#184379" title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit">validateParentClasses</a><span class="delimiter">(</span><a href="#673778" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#674125" title="Typers.this.global.Type">selfType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48078" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span>
        <a href="#184377" title="(clazz: Typers.this.global.Symbol)Unit">validateNoCaseAncestor</a><span class="delimiter">(</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46673" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
        <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;inner classes cannot be classfile annotations&quot;)" class="string">&quot;inner classes cannot be classfile annotations&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Typers.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> // @S: prevent crash for duplicated type members
        <a href="#184380" title="(classinfo: Typers.this.global.ClassInfoType)Unit">checkFinitary</a><span class="delimiter">(</span><a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Typers.this.global.Type">resultType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.ClassInfoType" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40123" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">]</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="674126">body</a> =
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">||</span> <a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182815" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#673777" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span>
        <span class="keyword">else</span> <a href="#673777" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span> <span title="(f: Typers.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">flatMap</span> <a href="#184384" title="(f: Typers.this.global.Tree =&gt; List[Typers.this.global.Tree])Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]">rewrappingWrapperTrees</a><span class="delimiter">(</span><a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="MethodSynthesis.scala.html#619451" title="(typer: Typers.this.Typer, stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">finishGetterSetter</a><span class="delimiter">(</span><a href="#184062" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#674220" title="Typers.this.global.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="674127">body1</a> = <a href="#184406" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#674126" title="List[Typers.this.global.Tree]">body</a>, <a href="#673777" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, parents: List[Typers.this.global.Tree], self: Typers.this.global.ValDef, body: List[Typers.this.global.Tree])Typers.this.global.Template">Template</span><span class="delimiter">(</span><a href="#673777" title="Typers.this.global.Template">templ</a>, <a href="#673778" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#674124" title="Typers.this.global.ValDef">self1</a>, <a href="#674127" title="List[Typers.this.global.Tree]">body1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Template">setType</span> <a href="#674122" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    /** Remove definition annotations from modifiers (they have been saved
     *  into the symbol's ``annotations'' in the type completer / namer)
     */
    <span class="keyword">def</span> <a title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers" id="184388">removeAnnotations</a><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="673740">mods</a>: <a href="../../../reflect/internal/Trees.scala.html#40598" title="Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#40598" title="Typers.this.global.Modifiers">Modifiers</a> =
      <a href="#673740" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/Trees.scala.html#125661" title="Long" id="674265">copy</a><span class="delimiter">(</span>annotations = <a title="scala.collection.immutable.Nil.type" id="674263">Nil</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#85410" title="(poss: scala.collection.immutable.Map[Long,scala.tools.nsc.util.Position])Typers.this.global.Modifiers">setPositions</a> <a href="#673740" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/Trees.scala.html#85407" title="=&gt; Map[Long,Typers.this.global.Position]">positions</a>

    /**
     *  @param vdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef" id="184389">typedValDef</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="529540">vdef</a>: <span title="Typers.this.global.ValDef">ValDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.ValDef">ValDef</span> = <span class="delimiter">{</span>
//      attributes(vdef)
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="674270">sym</a> = <a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <span class="keyword">val</span> <a title="Typers.this.Typer" id="674271">typer1</a> = <a href="#184350" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48095" title="=&gt; Boolean">isParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="674272">typedMods</a> = <a href="#184388" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>

      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="674273">annots</a> = <a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="674274">tpt1</a> = <a href="#184345" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#670884" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#674270" title="Typers.this.global.Symbol">sym</a>, <a href="#674271" title="Typers.this.Typer">typer1</a>.<a href="#184445" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#184342" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>, <a href="#674274" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46727" title="=&gt; Typers.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48082" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;values cannot be volatile&quot;)" class="string">&quot;values cannot be volatile&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48079" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;final vars cannot be volatile&quot;)" class="string">&quot;final vars cannot be volatile&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="674275">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;local variables must be initialized&quot;)" class="string">&quot;local variables must be initialized&quot;</span><span class="delimiter">)</span>
          <a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="674293">tpt2</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48101" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // When typechecking default parameter, replace all type parameters in the expected type by Wildcard.
            // This allows defining &quot;def foo[T](a: T = 1)&quot;
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="674294">tparams</a> = <a href="#674270" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47827" title="=&gt; Typers.this.global.Symbol">skipConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="Typers.this.global.SubstTypeMap" id="674295">subst</a> = <a href="#674297" title="Typers.this.global.SubstTypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40258" title="anonymous class $anon extends Typers.this.global.SubstTypeMap" id="674297">SubstTypeMap</a><span class="delimiter">(</span><a href="#674294" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#674294" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="674327">_</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean" id="674299">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="674300">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="674301">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
                <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#674300" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47761" title="=&gt; Boolean">isSkolem</a><span class="delimiter">)</span> <a href="#674299" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#674300" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>, <a href="#674301" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#674301" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47761" title="=&gt; Boolean">isSkolem</a><span class="delimiter">)</span> <a href="#674299" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#674300" title="Typers.this.global.Symbol">sym</a>, <a href="#674301" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; Typers.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#674297" title="Typers.this.global.SubstTypeMap" class="keyword">super</a><span class="delimiter">[</span>SubstTypeMap<span class="delimiter">]</span>.<a href="../../../reflect/internal/Types.scala.html#127618" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#674300" title="Typers.this.global.Symbol">sym</a>, <a href="#674301" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            // allow defaults on by-name parameters
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#674270" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(65536L)">BYNAMEPARAM</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#674274" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a> // during erasure tpt1 is Function0
              <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#127621" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#674274" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42741" title="(n: Int)Typers.this.global.Type">typeArgs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#127621" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#674274" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#674274" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#674271" title="Typers.this.Typer">typer1</a>.<a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184645" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>, <a href="#674270" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184452" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#674293" title="Typers.this.global.Type">tpt2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a href="#529540" title="Typers.this.global.ValDef">vdef</a>, <a href="#674272" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#529540" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#674274" title="Typers.this.global.Tree">tpt1</a>, <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#674275" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    /** Enter all aliases of local parameter accessors.
     *
     *  @param clazz    ...
     *  @param vparamss ...
     *  @param rhs      ...
     */
    <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit" id="184390">computeParamAliases</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="674421">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[List[Typers.this.global.ValDef]]" id="674422">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Typers.this.global.Tree" id="674423">rhs</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;computing param aliases for &quot;)" class="string">&quot;computing param aliases for &quot;</span><span title="(x$1: Any)String">+</span><a href="#674421" title="Typers.this.global.Symbol">clazz</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#674421" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47977" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#674423" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>//debug
      <span class="keyword">def</span> <a title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="674425">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="674430">call</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span>Tree, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#674430" title="Typers.this.global.Tree">call</a> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="674435">fn</a>, <a title="List[Typers.this.global.Tree]" id="674436">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a href="#674438" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#674437" title="Typers.this.global.Tree" id="674438">superConstr</a>, <a href="#674437" title="List[Typers.this.global.Tree]" id="674439">args1</a><span class="delimiter">)</span> = <a href="#674425" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a href="#674435" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="674440">params</a> = <a href="#674435" title="Typers.this.global.Tree">fn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Typers.this.global.Symbol]">params</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="674441">args2</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#674440" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46396" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#674440" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Typers.this.global.Symbol">last</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#674436" title="List[Typers.this.global.Tree]">args</a>
                      <span class="keyword">else</span> <a href="#674436" title="List[Typers.this.global.Tree]">args</a>.<span title="(n: Int)List[Typers.this.global.Tree]">take</span><span class="delimiter">(</span><a href="#674440" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#674441" title="List[Typers.this.global.Tree]">args2</a>, <a href="#674440" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>, <span title="String(&quot;mismatch &quot;)" class="string">&quot;mismatch &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#674421" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#674440" title="List[Typers.this.global.Symbol]">params</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span> <span class="delimiter">(</span><a href="#674528" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#674441" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>//debug
          <span title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#674438" title="Typers.this.global.Tree">superConstr</a>, <a href="#674439" title="List[Typers.this.global.Tree]">args1</a> <a href="#674560" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#674441" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="674574">stats</a>, <a title="Typers.this.global.Tree" id="674575">expr</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#674574" title="List[Typers.this.global.Tree]">stats</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
          <a href="#674425" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span class="delimiter">(</span><a href="#674574" title="List[Typers.this.global.Tree]">stats</a>.<span title="=&gt; Typers.this.global.Tree">last</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Nothing])">_</span> =&gt;
          <span title="(_1: Typers.this.global.Tree, _2: List[Nothing])(Typers.this.global.Tree, List[Nothing])" class="delimiter">(</span><a href="#674430" title="Typers.this.global.Tree">call</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a href="#674427" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#674426" title="Typers.this.global.Tree" id="674427">superConstr</a>, <a href="#674426" title="List[Typers.this.global.Tree]" id="674428">superArgs</a><span class="delimiter">)</span> = <a href="#674425" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a href="#674423" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#674427" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>//debug

      // an object cannot be allowed to pass a reference to itself to a superconstructor
      // because of initialization issues; bug #473
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="674620">arg</a> &lt;- <a href="#674428" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">superArgs</a> ; <a title="Typers.this.global.Tree" id="674623">tree</a> &lt;- <a href="#674620" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">arg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="674624">sym</a> = <a href="#674623" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674624" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#674624" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[Typers.this.global.Symbol]">baseClasses</a> <span title="(elem: Any)Boolean">contains</span> <a href="#674421" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674624" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#674623" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;super constructor cannot be passed a self reference unless parameter is declared by-name&quot;)" class="string">&quot;super constructor cannot be passed a self reference unless parameter is declared by-name&quot;</span><span class="delimiter">)</span>
          <a href="#674623" title="Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="674634">qual</a><span class="delimiter">)</span> =&gt;
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#674623" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;super constructor arguments cannot reference unconstructed `this`&quot;)" class="string">&quot;super constructor arguments cannot reference unconstructed `this`&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674427" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47851" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="674636">superClazz</a> = <a href="#674427" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#674636" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="674638">superParamAccessors</a> = <a href="#674636" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47982" title="=&gt; List[Typers.this.global.Symbol]">constrParamAccessors</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#674638" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#674428" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="674733">superAcc</a>, <a title="Typers.this.global.Ident" id="674734">superArg</a> @ Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="674738">name</a><span class="delimiter">)</span><span class="delimiter">)</span> &lt;- <a href="#674638" title="List[Typers.this.global.Symbol]">superParamAccessors</a> <a href="#674700" title="(f: ((Typers.this.global.Symbol, Typers.this.global.Tree)) =&gt; Any)Unit">zip</a> <a href="#674428" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#674422" title="List[List[Typers.this.global.ValDef]]">vparamss</a>.<span title="(p: List[Typers.this.global.ValDef] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#674745" title="List[Typers.this.global.ValDef]">_</a>.<span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#674752" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#674734" title="Typers.this.global.Ident">superArg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="674758">alias</a> = <a href="#674733" title="Typers.this.global.Symbol">superAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; superAcc.type">initialize</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; Typers.this.global.Symbol">alias</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674758" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                  <a href="#674758" title="Typers.this.global.Symbol">alias</a> = <a href="#674733" title="Typers.this.global.Symbol">superAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#674733" title="Typers.this.global.Symbol">superAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674758" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <a href="#674636" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42770" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#674758" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#674758" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                  <a href="#674758" title="Typers.this.global.Symbol">alias</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#674758" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="674785">ownAcc</a> = <a href="#674421" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#674738" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47969" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#674788" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48090" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#674785" title="Typers.this.global.Symbol">ownAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#674785" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
                    <a href="#674785" title="Typers.this.global.Symbol">ownAcc</a> = <a href="#674785" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Typers.this.global.Symbol">accessed</a>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#674785" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#674758" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#674785" title="Typers.this.global.Symbol">ownAcc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has alias &quot;)" class="string">&quot; has alias &quot;</span><span title="(x$1: Any)String">+</span><a href="#674758" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span> //debug
                    <a href="#674785" title="Typers.this.global.Symbol">ownAcc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40002" title="Typers.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../../../reflect/internal/Symbols.scala.html#71248" title="(alias: Typers.this.global.Symbol)Typers.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#674758" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Check if a structurally defined method violates implementation restrictions.
     *  A method cannot be called if it is a non-private member of a refinement type
     *  and if its parameter's types are any of:
     *    - the self-type of the refinement
     *    - a type member of the refinement
     *    - an abstract type declared outside of the refinement.
     */
    <span class="keyword">def</span> <a title="(meth: Typers.this.global.Symbol)Unit" id="184391">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="674803">meth</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(msg: String)Unit" id="674805">fail</a><span class="delimiter">(</span><a title="String" id="674807">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#674803" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#674807" title="String">msg</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="674806">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <a href="#674803" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.MethodType" id="674808">mt</a> @ MethodType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>     =&gt; <a href="#674808" title="Typers.this.global.MethodType">mt</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="674812">restpe</a><span class="delimiter">)</span> =&gt; <a href="#674812" title="Typers.this.global.Type">restpe</a>  // TODO_NMT: drop NullaryMethodType from resultType?
        <span class="keyword">case</span> <span title="Typers.this.global.Type">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="674815">restpe</a><span class="delimiter">)</span>       =&gt; <a href="#674815" title="Typers.this.global.Type">restpe</a>
        <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span>                         =&gt; <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="674837">paramType</a> &lt;- <a href="#674806" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="(f: Typers.this.global.Type =&gt; Unit)Unit">paramTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="674838">sym</a> = <a href="#674837" title="Typers.this.global.Type">paramType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674838" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#674838" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47882" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#674803" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#674805" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#674838" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47882" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#674803" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#674805" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674837" title="Typers.this.global.Type">paramType</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40101" title="Typers.this.global.ThisType">ThisType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#674838" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#674803" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <a href="#674805" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(useCase: Typers.this.global.UseCase)Unit" id="184392">typedUseCase</a><span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="674845">useCase</a>: <a href="../ast/DocComments.scala.html#183193" title="Typers.this.global.UseCase">UseCase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(str: String)Typers.this.global.syntaxAnalyzer.Parser" id="674847">stringParser</a><span class="delimiter">(</span><a title="String" id="674851">str</a>: <span title="String">String</span><span class="delimiter">)</span>: syntaxAnalyzer.<a href="../ast/parser/Parsers.scala.html#228339" title="Typers.this.global.syntaxAnalyzer.Parser">Parser</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.BatchSourceFile" id="674852">file</a> = <a href="#674854" title="scala.tools.nsc.util.BatchSourceFile" class="keyword">new</a> <a href="../util/SourceFile.scala.html#34862" title="anonymous class $anon extends scala.tools.nsc.util.BatchSourceFile" id="674854">BatchSourceFile</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#185145" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="#674851" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString">str</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)scala.tools.nsc.util.Position" id="674856">positionInUltimateSource</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="674857">pos</a>: <a href="../util/Position.scala.html#34604" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="#674857" title="Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183803" title="(source: scala.tools.nsc.util.SourceFile, shift: Int)scala.tools.nsc.util.Position">withSource</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>, <a href="#674845" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256825" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183793" title="=&gt; Int">start</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.CompilationUnit" id="674853">unit</a> = <span title="Typers.this.global.CompilationUnit" class="keyword">new</span> <a href="../CompilationUnits.scala.html#183079" title="Typers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">(</span><a href="#674852" title="scala.tools.nsc.util.BatchSourceFile">file</a><span class="delimiter">)</span>
        <a href="../ast/parser/Parsers.scala.html#284551" title="(unit: Typers.this.global.syntaxAnalyzer.global.CompilationUnit)Typers.this.global.syntaxAnalyzer.UnitParser" class="keyword">new</a> <a href="../Global.scala.html#182934" title="object Typers.this.global.syntaxAnalyzer">syntaxAnalyzer</a>.<a href="../ast/parser/Parsers.scala.html#228331" title="Typers.this.global.syntaxAnalyzer.UnitParser">UnitParser</a><span class="delimiter">(</span><a href="#674853" title="Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.syntaxAnalyzer.global.Tree]" id="674848">trees</a> = <a href="#674847" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#674845" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256823" title="=&gt; String">body</a><span title="(x$1: Any)String">+</span><span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#282193" title="=&gt; List[Typers.this.global.syntaxAnalyzer.global.Tree]">nonLocalDefOrDcl</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="674849">enclClass</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Any" id="674850">defineAlias</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="674882">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61759" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#674882" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/DocComments.scala.html#183188" title="(vble: String, site: Typers.this.global.Symbol)Option[String]">lookupVariable</a><span class="delimiter">(</span><a href="#674882" title="Typers.this.global.Name">name</a>.<span title="()String">toString</span>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#674849" title="Typers.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Any">Some</span><span class="delimiter">(</span><a title="String" id="674894">repl</a><span class="delimiter">)</span> =&gt;
              <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#674900" title="Typers.this.Typer">_</a>.<a href="#184450" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#674847" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#674894" title="String">repl</a><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#282158" title="()Typers.this.global.syntaxAnalyzer.global.Tree">typ</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Symbol" id="674908">tpt</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="674909">alias</a> = <a href="#674849" title="Typers.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47724" title="(name: Typers.this.global.TypeName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.Symbol">newAliasType</a><span class="delimiter">(</span><a href="#674882" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53413" title="=&gt; Typers.this.global.TypeName">toTypeName</a>, <a href="#674845" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256825" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="674910">tparams</a> = <a href="../../../reflect/internal/Symbols.scala.html#40019" title="(syms: List[Typers.this.global.Symbol], owner: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">cloneSymbolsAtOwner</a><span class="delimiter">(</span><a href="#674908" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#674909" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                  <a href="#674909" title="Typers.this.global.Symbol">alias</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)alias.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#40207" title="(tps: List[Typers.this.global.Symbol], body: Typers.this.global.Type)Typers.this.global.Type">typeFun</a><span class="delimiter">(</span><a href="#674910" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#674908" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#674910" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#674942" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#674909" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.syntaxAnalyzer.global.Tree" id="674996">tree</a> &lt;- <a href="#674848" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">trees</a>; <a title="Typers.this.global.syntaxAnalyzer.global.Tree" id="674999">t</a> &lt;- <a href="#674996" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">tree</a><span class="delimiter">)</span>
        <a href="#674999" title="Typers.this.global.syntaxAnalyzer.global.Tree">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="675003">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#675003" title="Typers.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#53442" title="(char: Char)Boolean">startsWith</a> <span title="Char('$')" class="char">'$'</span> =&gt; <a href="#674850" title="(name: Typers.this.global.Name)Any">defineAlias</a><span title="Unit" class="delimiter">(</span><a href="#675003" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#674845" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256832" title="(x$1: List[Typers.this.global.Symbol])Unit">aliases</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61763" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
      <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619534" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#674848" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a><span class="delimiter">)</span>
      <a href="#184406" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#674848" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a>, <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#674845" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256829" title="(x$1: List[Typers.this.global.Symbol])Unit">defined</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61763" title="=&gt; List[Typers.this.global.Symbol]">toList</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#674845" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256831" title="=&gt; List[Typers.this.global.Symbol]">aliases</a> <span title="(elem: Any)Boolean">contains</span> <a href="#675022" title="Typers.this.global.Symbol">_</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#674845" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256828" title="=&gt; List[Typers.this.global.Symbol]">defined</a> <span title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="675048">sym</a> =&gt; <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;defined use cases: %s:%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#675048" title="Typers.this.global.Symbol">sym</a>, <a href="#675048" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**
     *  @param ddef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef" id="184393">typedDefDef</a><span class="delimiter">(</span><a title="Typers.this.global.DefDef" id="675056">ddef</a>: <span title="Typers.this.global.DefDef">DefDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="675058">meth</a> = <a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; Typers.this.global.Symbol">initialize</a>

      <a href="#184348" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <a href="#184347" title="(vparamss: List[List[Typers.this.global.ValDef]])Unit">reenterValueParams</a><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</span><span class="delimiter">)</span>

      // for `val` and `var` parameter, look at `target` meta-annotation
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47851" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="675086">vparams</a> &lt;- <a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</span>; <a title="Typers.this.global.ValDef" id="675106">vd</a> &lt;- <a href="#675086" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675106" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48090" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="MethodSynthesis.scala.html#619471" title="(tree: Typers.this.global.ValDef)Unit">validateParam</a><span class="delimiter">(</span><a href="#675106" title="Typers.this.global.ValDef">vd</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="675059">tparams1</a> = <a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <a href="#184394" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="List[List[Typers.this.global.ValDef]]" id="675060">vparamss1</a> = <a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</span> <span title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])List[List[Typers.this.global.ValDef]]">mapConserve</span> <span class="delimiter">(</span><a href="#675124" title="List[Typers.this.global.ValDef]">_</a> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</span> <a href="#184389" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>

      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="675061">annots</a> = <a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="675153">vparams1</a> &lt;- <a href="#675060" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="675179">vparam1</a> &lt;- <a href="#675153" title="List[Typers.this.global.ValDef]">vparams1</a> <span title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46396" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#675179" title="Typers.this.global.ValDef">vparam1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#675179" title="Typers.this.global.ValDef">vparam1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;*-parameter must come last&quot;)" class="string">&quot;*-parameter must come last&quot;</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="675062">tpt1</a> = <a href="#184345" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#670884" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#675058" title="Typers.this.global.Symbol">meth</a>, <a href="#184445" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#184342" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>, <a href="#675062" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(tp: Typers.this.global.Type)ddef.tpt.type">setType</span><span class="delimiter">(</span><a href="#675062" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="675063">typedMods</a> = <a href="#184388" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="675064">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Name">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48112" title="=&gt; Boolean">hasStaticFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span> // need this to make it possible to generate static ctors
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47851" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">||</span>
               <a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">||</span>
               <a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47817" title="=&gt; Boolean">isAnonOrRefinementClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;constructor definition not allowed here&quot;)" class="string">&quot;constructor definition not allowed here&quot;</span><span class="delimiter">)</span>
          <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47850" title="=&gt; Boolean">isMacro</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#184452" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, <span title="Int(1)">EXPRmode</span>, <a href="#675062" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47851" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182815" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#184390" title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit">computeParamAliases</a><span class="delimiter">(</span><a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#675060" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#675064" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675062" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Typers.this.global.definitions.NothingClass">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184597" title="=&gt; Boolean">returnsSeen</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675064" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Typers.this.global.definitions.NothingClass">NothingClass</a><span class="delimiter">)</span>
        <a href="#675064" title="Typers.this.global.Tree">rhs1</a> = <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#675064" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="675233">ps</a> =&gt; <a href="#675233" title="List[Typers.this.global.Symbol]">ps</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#675240" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46396" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#675233" title="List[Typers.this.global.Symbol]">ps</a>.<span title="=&gt; Typers.this.global.Symbol">last</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;a parameter section with a `*\'-parameter is not allowed to have default arguments&quot;)" class="string">&quot;a parameter section with a `*'-parameter is not allowed to have default arguments&quot;</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="675242">allParams</a> = <a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[Typers.this.global.Symbol] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">flatten</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="675300">p</a> &lt;- <a href="#675242" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">allParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TermName" id="675305">n</a> &lt;- <a href="#675300" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47838" title="(f: Typers.this.global.TermName =&gt; Unit)Unit">deprecatedParamName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675242" title="List[Typers.this.global.Symbol]">allParams</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="675312">p1</a> =&gt; <a href="#675312" title="Typers.this.global.Symbol">p1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#675305" title="Typers.this.global.TermName">n</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#675300" title="Typers.this.global.Symbol">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#675312" title="Typers.this.global.Symbol">p1</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675312" title="Typers.this.global.Symbol">p1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47838" title="=&gt; Option[Typers.this.global.TermName]">deprecatedParamName</a>.<span title="(p: Typers.this.global.TermName =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#675324" title="Typers.this.global.TermName">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#675305" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#675300" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;deprecated parameter name &quot;)" class="string">&quot;deprecated parameter name &quot;</span><span title="(x$1: Any)String">+</span> <a href="#675305" title="Typers.this.global.TermName">n</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; has to be distinct from any other parameter name (deprecated or not).&quot;)" class="string">&quot; has to be distinct from any other parameter name (deprecated or not).&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675058" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47867" title="=&gt; Boolean">isStructuralRefinementMember</a><span class="delimiter">)</span>
        <a href="#184391" title="(meth: Typers.this.global.Symbol)Unit">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a href="#675058" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], vparamss: List[List[Typers.this.global.ValDef]], tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#675056" title="Typers.this.global.DefDef">ddef</a>, <a href="#675063" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#675056" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Name">name</span>, <a href="#675059" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#675060" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#675062" title="Typers.this.global.Tree">tpt1</a>, <a href="#675064" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.DefDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="184394">typedTypeDef</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="673753">tdef</a>: <span title="Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.TypeDef">TypeDef</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Typers.this.Typer" id="675341">typeDefTyper</a> = <span class="delimiter">{</span>
        <span title="Typers.this.Typer" class="keyword">if</span><span class="delimiter">(</span><a href="#673753" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#184062" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>
        <span class="keyword">else</span> <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#673753" title="Typers.this.global.TypeDef">tdef</a>, <a href="#673753" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#675341" title="=&gt; Typers.this.Typer">typeDefTyper</a>.<a href="#184395" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef0</a><span class="delimiter">(</span><a href="#673753" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // call typedTypeDef instead
    // a TypeDef with type parameters must always be type checked in a new scope
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="184395">typedTypeDef0</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="675344">tdef</a>: <span title="Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.TypeDef">TypeDef</span> = <span class="delimiter">{</span>
      <a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <a href="#184348" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="675346">tparams1</a> = <a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <a href="#184394" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="675347">typedMods</a> = <a href="#184388" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="675348">annots</a> = <a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      // @specialized should not be pickled when compiling with -no-specialize
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183352" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#183023" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185267" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46230" title="(cls: Typers.this.global.Symbol)Typers.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46719" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
        <a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46230" title="(cls: Typers.this.global.Symbol)Typers.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46719" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="675349">rhs1</a> = <a href="#184345" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#670884" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#184445" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#184341" title="(sym: Typers.this.global.Symbol)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47756" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
        <a href="#675349" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="675385">lo1</a>, <a title="Typers.this.global.Type" id="675386">hi1</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#675385" title="Typers.this.global.Type">lo1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#675386" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;lower bound &quot;)" class="string">&quot;lower bound &quot;</span><span title="(x$1: Any)String">+</span><a href="#675385" title="Typers.this.global.Type">lo1</a><span title="(x$1: Any)String">+</span><span title="String(&quot; does not conform to upper bound &quot;)" class="string">&quot; does not conform to upper bound &quot;</span><span title="(x$1: Any)String">+</span><a href="#675386" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], rhs: Typers.this.global.Tree)Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">(</span><a href="#675344" title="Typers.this.global.TypeDef">tdef</a>, <a href="#675347" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#675344" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.TypeName">name</span>, <a href="#675346" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#675349" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Unit" id="184396">enterLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="671225">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#671225" title="Typers.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="675397">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675397" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#675397" title="Typers.this.global.LabelDef">ldef</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619518" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
              <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47703" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#675397" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#675397" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef" id="184397">typedLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="675436">ldef</a>: <span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.LabelDef">LabelDef</span> = <span class="delimiter">{</span>
      <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60675" title="(name: Typers.this.global.Name)Boolean">isLoopHeaderLabel</a><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#184061" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="675440">restpe</a> = <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="675441">rhs1</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, <a href="#675440" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="675468">param</a> =&gt; <a href="#675468" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#675468" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>, <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#675441" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#675440" title="Typers.this.global.Type">restpe</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="675479">initpe</a> = <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="675480">rhs1</a> = <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="675481">restpe</a> = <a href="#675480" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#675481" title="Typers.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#675479" title="Typers.this.global.Type">initpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> // stable result, no need to check again
          <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="675504">param</a> =&gt; <a href="#675504" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#675504" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>, <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#675480" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#675481" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61758" title="(sym: Typers.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="675508">sym2</a> = <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619518" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
            <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47703" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#675481" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="675509">rhs2</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#183133" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>, <a href="#675481" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
          <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="675547">param</a> =&gt; <a href="#675547" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#675547" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">(</span><a href="#675436" title="Typers.this.global.LabelDef">ldef</a>, <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#675436" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#675509" title="Typers.this.global.Tree">rhs2</a><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.LabelDef">setSymbol</span> <a href="#675508" title="Typers.this.global.Symbol">sym2</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#675481" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param block ...
     *  @param mode  ...
     *  @param pt    ...
     *  @return      ...
     */
    <span class="keyword">def</span> <a title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block" id="184398">typedBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Block" id="675554">block</a>: <span title="Typers.this.global.Block">Block</span>, <a title="Int" id="675555">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="675556">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Block">Block</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="675558">syntheticPrivates</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619534" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#675554" title="Typers.this.global.Block">block</a>.<span title="=&gt; List[Typers.this.global.Tree]">stats</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="675580">stat</a> &lt;- <a href="#675554" title="Typers.this.global.Block">block</a>.<span title="(f: Typers.this.global.Tree =&gt; Unit)Unit">stats</span><span class="delimiter">)</span> <a href="#184396" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#675580" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36967" title="(period: Typers.this.global.Period)Int">phaseId</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36969" title="=&gt; Typers.this.global.Period">currentPeriod</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#183023" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185227" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#70367" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // This is very tricky stuff, because we are navigating the Skylla and Charybdis of
          // anonymous classes and what to return from them here. On the one hand, we cannot admit
          // every non-private member of an anonymous class as a part of the structural type of the
          // enclosing block. This runs afoul of the restriction that a structural type may not
          // refer to an enclosing type parameter or abstract types (which in turn is necessitated
          // by what can be done in Java reflection). On the other hand, making every term member
          // private conflicts with private escape checking - see ticket #3174 for an example.
          //
          // The cleanest way forward is if we would find a way to suppress structural type checking
          // for these members and maybe defer type errors to the places where members are called.
          // But that would be a big refactoring and also a big departure from existing code. The
          // probably safest fix for 2.8 is to keep members of an anonymous class that are not
          // mentioned in a parent type private (as before) but to disable escape checking for code
          // that's in the same anonymous class. That's what's done here.
          //
          // We really should go back and think hard whether we find a better way to address the
          // problem of escaping idents on the one hand and well-formed structural types on the
          // other.
          <a href="#675554" title="Typers.this.global.Block">block</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="syntheticPrivates.type">Block</span><span class="delimiter">(</span><a href="#675592" title="(x: List[Typers.this.global.Tree])Some[List[Typers.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="675603">classDef</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span>, Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="675629">classDecls</a> = <a href="#675603" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Typers.this.global.Scope">decls</a>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="675630">visibleMembers</a> = <a href="#675556" title="Typers.this.global.Type">pt</a> <span title="List[Typers.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="List[Typers.this.global.Symbol]">WildcardType</a>                           =&gt; <a href="#675629" title="Typers.this.global.Scope">classDecls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61763" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">BoundedWildcardType</span><span class="delimiter">(</span>TypeBounds<span class="delimiter">(</span><a title="Typers.this.global.Type" id="675637">lo</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#675637" title="Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#42764" title="=&gt; List[Typers.this.global.Symbol]">members</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">_</span>                                      =&gt; <a href="#675556" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42764" title="=&gt; List[Typers.this.global.Symbol]">members</a>
              <span class="delimiter">}</span>
              <span class="keyword">def</span> <a title="(member: Typers.this.global.Symbol)Boolean" id="675631">matchesVisibleMember</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="675638">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#675630" title="List[Typers.this.global.Symbol]">visibleMembers</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="675645">vis</a> =&gt;
                <span class="delimiter">(</span><a href="#675638" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#675645" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#675638" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#675645" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42785" title="(from: Typers.this.global.Symbol, to: Typers.this.global.Symbol)Typers.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#675645" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#675603" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              // The block is an anonymous class definitions/instantiation pair
              //   -&gt; members that are hidden by the type of the block are made private
              <span class="keyword">val</span> <a title="Iterable[Typers.this.global.Symbol]" id="675632">toHide</a> = <span class="delimiter">(</span>
                <a href="#675629" title="Typers.this.global.Scope">classDecls</a> <a href="../../../reflect/internal/Scopes.scala.html#61769" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="675667">member</a> =&gt;
                     <a href="#675667" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675667" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47868" title="=&gt; Boolean">isPossibleInRefinement</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675667" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48094" title="=&gt; Boolean">isPublic</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#675631" title="(member: Typers.this.global.Symbol)Boolean">matchesVisibleMember</a><span class="delimiter">(</span><a href="#675667" title="Typers.this.global.Symbol">member</a><span class="delimiter">)</span>
                <span class="delimiter">)</span> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Typers.this.global.Symbol],Typers.this.global.Symbol,Iterable[Typers.this.global.Symbol]])Iterable[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="675687">member</a> =&gt; <a href="#675687" title="Typers.this.global.Symbol">member</a>
                  <a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)member.type">resetFlag</a> <span class="delimiter">(</span>PROTECTED <span title="Long(524289L)">|</span> LOCAL<span class="delimiter">)</span>
                  <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)member.type">setFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(274877906948L)">|</span> SYNTHETIC_PRIVATE<span class="delimiter">)</span>
                  <a href="../../../reflect/internal/Symbols.scala.html#47913" title="(sym: Typers.this.global.Symbol)member.type">setPrivateWithin</a> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
                <span class="delimiter">)</span>
              <span class="delimiter">)</span>
              <a href="#675558" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <span title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])syntheticPrivates.type">++=</span> <a href="#675632" title="Iterable[Typers.this.global.Symbol]">toHide</a>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="675559">stats1</a> = <a href="#184406" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#675554" title="Typers.this.global.Block">block</a>.<span title="=&gt; List[Typers.this.global.Tree]">stats</span>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="675560">expr1</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#675554" title="Typers.this.global.Block">block</a>.<span title="=&gt; Typers.this.global.Tree">expr</span>, <a href="#675555" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span class="delimiter">(</span>FUNmode <span title="Int(80)">|</span> QUALmode<span class="delimiter">)</span>, <a href="#675556" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</span><span class="delimiter">(</span><a href="#675554" title="Typers.this.global.Block">block</a>, <a href="#675559" title="List[Typers.this.global.Tree]">stats1</a>, <a href="#675560" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
          .<span title="(tp: Typers.this.global.Type)Typers.this.global.Block">setType</span><span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#675554" title="Typers.this.global.Block">block</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#675560" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span class="keyword">else</span> <a href="#675560" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42733" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        // enable escaping privates checking from the outside and recycle
        // transient flag
        <a href="#675558" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a href="#675766" title="Typers.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)x$42.type">resetFlag</a> <span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param cdef   ...
     *  @param pattpe ...
     *  @param pt     ...
     *  @return       ...
     */
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef" id="184399">typedCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="675771">cdef</a>: <span title="Typers.this.global.CaseDef">CaseDef</span>, <a title="Typers.this.global.Type" id="675772">pattpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="675773">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.CaseDef">CaseDef</span> = <span class="delimiter">{</span>
      // verify no _* except in last position
      <span class="keyword">for</span> <span class="delimiter">(</span>Apply<span class="delimiter">(</span>_, <a title="List[Typers.this.global.Tree]" id="675812">xs</a><span class="delimiter">)</span> &lt;- <a href="#675771" title="Typers.this.global.CaseDef">cdef</a>.<a href="#675780" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a> ; <a title="Typers.this.global.Tree" id="675824">x</a> &lt;- <a href="#675812" title="List[Typers.this.global.Tree]">xs</a> <span title="(f: Typers.this.global.Tree =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span> ; <span class="keyword">if</span> <a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#118956" title="(x: Typers.this.global.treeInfo.global.Tree)Boolean">isStar</a> <a href="#675824" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span>
        <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#675824" title="Typers.this.global.Tree">x</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;_* may only come last&quot;)" class="string">&quot;_* may only come last&quot;</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="675775">pat1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184443" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">(</span><a href="#675771" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">pat</span>, <a href="#675772" title="Typers.this.global.Type">pattpe</a><span class="delimiter">)</span>
      // When case classes have more than two parameter lists, the pattern ends
      // up typed as a method.  We only pattern match on the first parameter
      // list, so substitute the final result type of the method, i.e. the type
      // of the case class.
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#675775" title="Typers.this.global.Tree">pat1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42748" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#675775" title="Typers.this.global.Tree">pat1</a> <span title="(tp: Typers.this.global.Type)pat1.type">setType</span> <a href="#675775" title="Typers.this.global.Tree">pat1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42747" title="=&gt; Typers.this.global.Type">finalResultType</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183037" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Bind" id="675873">bind</a> @ Bind<span class="delimiter">(</span><a title="Typers.this.global.Name" id="675878">name</a>, _<span class="delimiter">)</span> &lt;- <a href="#675771" title="Typers.this.global.CaseDef">cdef</a>.<a href="#675842" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675878" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53412" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675873" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675873" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619541" title="(sym: Typers.this.global.Symbol)Unit">enterIfNotThere</a><span class="delimiter">(</span><a href="#675873" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="675776">guard1</a>: <span title="Typers.this.global.Tree">Tree</span> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#675771" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>
                         <span class="keyword">else</span> <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#675771" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span>, <a href="../../../reflect/internal/Definitions.scala.html#46850" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="675777">body1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#675771" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#675773" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184621" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#675777" title="Typers.this.global.Tree">body1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184666" title="(tp: Typers.this.global.Type)Typers.this.global.Type">restoreTypeBounds</a><span class="delimiter">(</span><a href="#675777" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#675773" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#675777" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#675773" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // @M no need for pt.normalize here, is done in erasure
          <a href="#675777" title="Typers.this.global.Tree">body1</a> = <a href="#184437" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#675777" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92633" title="(tree: Typers.this.global.gen.global.Tree, pt: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#675777" title="Typers.this.global.Tree">body1</a>, <a href="#675773" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
//    body1 = checkNoEscaping.locals(context.scope, pt, body1)
      <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a href="#675771" title="Typers.this.global.CaseDef">cdef</a>, <a href="#675775" title="Typers.this.global.Tree">pat1</a>, <a href="#675776" title="Typers.this.global.Tree">guard1</a>, <a href="#675777" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.CaseDef">setType</span> <a href="#675777" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]" id="184400">typedCases</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="618553">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.CaseDef]" id="618554">cases</a>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="618555">pattp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="618556">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span> =
      <a href="#618554" title="List[Typers.this.global.CaseDef]">cases</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)List[Typers.this.global.CaseDef]">mapConserve</span> <span class="delimiter">{</span> <a title="Typers.this.global.CaseDef" id="675930">cdef</a> =&gt;
        <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#675930" title="Typers.this.global.CaseDef">cdef</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184399" title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef">typedCase</a><span class="delimiter">(</span><a href="#675930" title="Typers.this.global.CaseDef">cdef</a>, <a href="#618555" title="Typers.this.global.Type">pattp</a>, <a href="#618556" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /**
     *  @param fun  ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184401">typedFunction</a><span class="delimiter">(</span><a title="Typers.this.global.Function" id="675932">fun</a>: <span title="Typers.this.global.Function">Function</span>, <a title="Int" id="675933">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="675934">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="675936">numVparams</a> = <a href="#675932" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>.<span title="=&gt; Int">length</span>
      <span class="keyword">val</span> <a title="Boolean" id="675937">codeExpected</a> = <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#183036" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#675934" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#47963" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46485" title="=&gt; Typers.this.global.Symbol">CodeClass</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#675936" title="Int">numVparams</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46521" title="=&gt; Int">MaxFunctionArity</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#675932" title="Typers.this.global.Function">fun</a>, <span title="String(&quot;implementation restricts functions to &quot;)" class="string">&quot;implementation restricts functions to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46521" title="=&gt; Int">MaxFunctionArity</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; parameters&quot;)" class="string">&quot; parameters&quot;</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" id="675938">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="675948">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</span>Symbol, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =
        <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46557" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#675948" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
             <span title="(x: Boolean)Boolean">||</span>
             <a href="#675948" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46311" title="=&gt; Typers.this.global.Symbol">PartialFunctionClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
             <a href="#675936" title="Int">numVparams</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#675932" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Tree">body</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Match">Match</span><span class="delimiter">]</span><span class="delimiter">)</span>
             <span title="(x: Boolean)Boolean">&amp;&amp;</span> // see bug901 for a reason why next conditions are needed
            <span class="delimiter">(</span><a href="#675948" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span title="(x: Int)Boolean">==</span> <a href="#675936" title="Int">numVparams</a>
             <span title="(x: Boolean)Boolean">||</span>
             <a href="#675932" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>.<span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#675974" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</span><a href="#675948" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#675948" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; List[Typers.this.global.Type]">init</span>, <a href="#675948" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">last</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.WildcardType.type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.WildcardType.type)" class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46529" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#675936" title="Int">numVparams</a><span class="delimiter">)</span>, <a href="#675932" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.NoType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.NoType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="676007">x</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#675940" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a><a href="#675939" title="Typers.this.global.Symbol" id="675940">clazz</a>, <a href="#675939" title="List[Typers.this.global.Type]" id="675941">argpts</a>, <a href="#675939" title="Typers.this.global.Type" id="675942">respt</a><span class="delimiter">)</span> = <a href="#675938" title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)">decompose</a><span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type) @unchecked" class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#675937" title="Boolean">codeExpected</a><span class="delimiter">)</span> <a href="#675934" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">head</span> <span class="keyword">else</span> <a href="#675934" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#675941" title="List[Typers.this.global.Type]">argpts</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><a href="#675936" title="Int">numVparams</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#675932" title="Typers.this.global.Function">fun</a>, <span title="String(&quot;wrong number of parameters; expected = &quot;)" class="string">&quot;wrong number of parameters; expected = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#675941" title="List[Typers.this.global.Type]">argpts</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="676059">vparamSyms</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[Typers.this.global.ValDef], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.ValDef, Typers.this.global.Type) =&gt; Typers.this.global.Symbol)List[Typers.this.global.Symbol]">map2</a><span class="delimiter">(</span><a href="#675932" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>, <a href="#675941" title="List[Typers.this.global.Type]">argpts</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="676111">vparam</a>, <a title="Typers.this.global.Type" id="676112">argpt</a><span class="delimiter">)</span> =&gt;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#676111" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#676111" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#676112" title="Typers.this.global.Type">argpt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#676112" title="Typers.this.global.Type">argpt</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#675932" title="Typers.this.global.Function">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="EtaExpansion.scala.html#622891" title="Unit">etaExpansion</a><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="676117">vparams</a>, <a title="Typers.this.global.Tree" id="676118">fn</a>, <a title="List[Typers.this.global.Tree]" id="676119">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#675937" title="Boolean">codeExpected</a> =&gt;
                    <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#676125" title="Typers.this.Typer">_</a>.<a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#676118" title="Typers.this.global.Tree">fn</a>, <a href="Modes.scala.html#184032" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#675933" title="Int">mode</a><span class="delimiter">)</span>, <a href="#675934" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> <a title="Unit" id="676133">fn1</a>: <span title="Typers.this.global.Tree">Tree</span> <span class="keyword">if</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
                        // if context,undetparams is not empty, the function was polymorphic,
                        // so we need the missing arguments to infer its type. See #871
                        //println(&quot;typing eta &quot;+fun+&quot;:&quot;+fn1.tpe+&quot;/&quot;+context.undetparams)
                        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="676135">ftpe</a> = <a href="Infer.scala.html#184103" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#676133" title="Typers.this.global.Tree">fn1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42777" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#46529" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#675936" title="Int">numVparams</a><span class="delimiter">)</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46557" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#676135" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#676135" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                          <span title="Nothing" class="keyword">return</span> <a href="#184401" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#675932" title="Typers.this.global.Function">fun</a>, <a href="#675933" title="Int">mode</a>, <a href="#676135" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span>
                      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">}</span>
                <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#676111" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="TypeDiagnostics.scala.html#184272" title="(fun: Typers.this.global.Tree, vparam: Typers.this.global.ValDef, pt: Typers.this.global.Type)String">missingParameterTypeMsg</a><span class="delimiter">(</span><a href="#675932" title="Typers.this.global.Function">fun</a>, <a href="#676111" title="Typers.this.global.ValDef">vparam</a>, <a href="#675934" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a>
              <span class="delimiter">}</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#676111" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183788" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#676111" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span> <span title="(pos: Typers.this.global.Position)vparam.tpt.type">setPos</span> <a href="#676111" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
          <a href="#184386" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>, <a href="#676111" title="Typers.this.global.ValDef">vparam</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184618" title="=&gt; Boolean">retyping</a><span class="delimiter">)</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#676111" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#676111" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="676060">vparams</a> = <a href="#675932" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</span> <span class="delimiter">(</span><a href="#184389" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>
//        for (vparam &lt;- vparams) {
//          checkNoEscaping.locals(context.scope, WildcardType, vparam.tpt); ()
//        }
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="676061">body</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#675932" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#675942" title="Typers.this.global.Type">respt</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="676062">formals</a> = <a href="#676059" title="List[Typers.this.global.Symbol]">vparamSyms</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#676188" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="676063">restpe</a> = <a href="#184422" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#676061" title="Typers.this.global.Tree">body</a>, <a href="#675932" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42733" title="=&gt; Typers.this.global.Type">deconst</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="676064">funtpe</a> = <a href="../../../reflect/internal/Types.scala.html#40198" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#675940" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#675940" title="Typers.this.global.Symbol">clazz</a>, <a href="#676062" title="List[Typers.this.global.Type]">formals</a> <span title="(elem: Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">:+</span> <a href="#676063" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
//        body = checkNoEscaping.locals(context.scope, restpe, body)
        <span class="keyword">val</span> <a title="Typers.this.global.Function" id="676065">fun1</a> = <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</span><span class="delimiter">(</span><a href="#675932" title="Typers.this.global.Function">fun</a>, <a href="#676060" title="List[Typers.this.global.ValDef]">vparams</a>, <a href="#676061" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.Function">setType</span><span class="delimiter">(</span><a href="#676064" title="Typers.this.global.Type">funtpe</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#675937" title="Boolean">codeExpected</a><span class="delimiter">)</span> <a href="#184402" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">lifted</a><span class="delimiter">(</span><a href="#676065" title="Typers.this.global.Function">fun1</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#676065" title="Typers.this.global.Function">fun1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184402">lifted</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676271">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184437" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#676271" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46487" title="=&gt; Typers.this.global.Symbol">CodeModule</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60278" title="=&gt; Typers.this.global.nme.NameType">lift_</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#676271" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])Unit" id="184403">typedRefinement</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="676328">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619534" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#676328" title="List[Typers.this.global.Tree]">stats</a><span class="delimiter">)</span>
      // need to delay rest of typedRefinement to avoid cyclic reference errors
      <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185124" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a> <span title="(x: () =&gt; Unit)scala.collection.mutable.ListBuffer[() =&gt; Unit]">+=</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
        // go to next outer context which is not silent, see #3614
        <span class="keyword">var</span> <a title="Typers.this.Context" id="676357">c</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#676357" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#184606" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#676357" title="Typers.this.Context">c</a> = <a href="#676357" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#184564" title="=&gt; Typers.this.Context">outer</a>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="676358">stats1</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#676357" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#184406" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#676328" title="List[Typers.this.global.Tree]">stats</a>, <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676368">stat</a> &lt;- <a href="#676358" title="(f: Typers.this.global.Tree =&gt; Any)Unit">stats1</a> <span class="keyword">if</span> <a href="#676368" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="676369">member</a> = <a href="#676368" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47996" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span>
                <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="676378">bc</a> =&gt; <a href="#676369" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48011" title="(ofclazz: Typers.this.global.Symbol, site: Typers.this.global.Type)Typers.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#676378" title="Typers.this.global.Symbol">bc</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#676369" title="Typers.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)member.type">setFlag</a> <span title="Long(2L)">OVERRIDE</span>
                <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(imp: Typers.this.global.Import)Typers.this.global.Import" id="184404">typedImport</a><span class="delimiter">(</span><a title="Typers.this.global.Import" id="676400">imp</a> : <span title="Typers.this.global.Import">Import</span><span class="delimiter">)</span> : <span title="Typers.this.global.Import">Import</span> = <span class="delimiter">(</span><a href="#184050" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <span title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">remove</span> <a href="#676400" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span> <span title="Typers.this.global.Import" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Import" id="676405">imp1</a>: <span title="Typers.this.global.Import">Import</span><span class="delimiter">)</span> =&gt; <a href="#676405" title="Typers.this.global.Import">imp1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">None</span> =&gt; <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;unhandled import: &quot;)" class="string">&quot;unhandled import: &quot;</span><span title="(x$1: Any)String">+</span><a href="#676400" title="Typers.this.global.Import">imp</a><span title="(x$1: Any)String">+</span><span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)String">+</span><a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>; <a href="#676400" title="Typers.this.global.Import">imp</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="184405">isWarnablePureExpression</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676406">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#676406" title="Typers.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="Analyzer.scala.html#183929" title="Boolean(false)">EmptyTree</a> | Literal<span class="delimiter">(</span>Constant<span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean">_</span>                                 =&gt;
        <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#118913" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a> <a href="#676406" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="676410">sym</a> = <a href="#676406" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="delimiter">(</span><a href="#676410" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#676410" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">||</span> <a href="#676410" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\'Pure\' but side-effecting expression in statement position: &quot;)" class="string">&quot;'Pure' but side-effecting expression in statement position: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#676406" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]" id="184406">typedStats</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="674250">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="674251">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="676415">inBlock</a> = <a href="#674251" title="Typers.this.global.Symbol">exprOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="676416">includesTargetPos</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676426">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =
        <a href="#676426" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183790" title="=&gt; Boolean">isRange</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185117" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#676426" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <a href="../util/Position.scala.html#183808" title="(pos: scala.tools.nsc.util.Position)Boolean">includes</a> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185127" title="=&gt; Typers.this.global.Position">targetPos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="676417">localTarget</a> = <a href="#674250" title="List[Typers.this.global.Tree]">stats</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#676416" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a>
      <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Typers.this.global.Tree" id="676418">typedStat</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676434">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47779" title="=&gt; Boolean">isRefinementClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118910" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isDeclarationOrTypeDef</a><span class="delimiter">(</span><a href="#676434" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#676434" title="Typers.this.global.Tree">stat</a>, <span title="String(&quot;only declarations allowed here&quot;)" class="string">&quot;only declarations allowed here&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#676434" title="Typers.this.global.Tree">stat</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Import" id="676436">imp</a> @ Import<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="#184332" title="(x$1: Typers.this.Context)Unit">context</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184641" title="(imp: Typers.this.global.Import)Typers.this.Context">makeNewImport</a><span class="delimiter">(</span><a href="#676436" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
              <a href="#676436" title="Typers.this.global.Import">imp</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; Typers.this.global.Symbol">initialize</a>
              <a href="#184404" title="(imp: Typers.this.global.Import)Typers.this.global.Import">typedImport</a><span class="delimiter">(</span><a href="#676436" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#676417" title="Boolean">localTarget</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#676416" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a><span class="delimiter">(</span><a href="#676434" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                // skip typechecking of statements in a sequence where some other statement includes
                // the targetposition
                <a href="#676434" title="Typers.this.global.Tree">stat</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.Typer" id="676445">localTyper</a> = <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#676415" title="Boolean">inBlock</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#676434" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#676434" title="Typers.this.global.Tree">stat</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#184062" title="Typers.this.Typer" class="keyword">this</a>
                                 <span class="keyword">else</span> <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184645" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#676434" title="Typers.this.global.Tree">stat</a>, <a href="#674251" title="Typers.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                // XXX this creates a spurious dead code warning if an exception is thrown
                // in a constructor, even if it is the only thing in the constructor.
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="676446">result</a> = <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#676445" title="Typers.this.Typer">localTyper</a>.<a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#676434" title="Typers.this.global.Tree">stat</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118927" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#676446" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184595" title="(x$1: Boolean)Unit">inConstructorSuffix</a> = <span title="Boolean(true)" class="keyword">true</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118925" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfConstrCall</a><span class="delimiter">(</span><a href="#676446" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676446" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183796" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#674251" title="Typers.this.global.Symbol">exprOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47976" title="=&gt; Typers.this.global.Symbol">enclMethod</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183796" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#676434" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;called constructor\'s definition must precede calling constructor\'s definition&quot;)" class="string">&quot;called constructor's definition must precede calling constructor's definition&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184405" title="(tree: Typers.this.global.Tree)Boolean">isWarnablePureExpression</a><span class="delimiter">(</span><a href="#676446" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184654" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#676434" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                  <span class="string">&quot;a pure expression does nothing in statement position; &quot;</span> <span title="String(&quot;a pure expression does nothing in statement position; you may be omitting necessary parentheses&quot;)">+</span>
                  <span class="string">&quot;you may be omitting necessary parentheses&quot;</span>
                <span class="delimiter">)</span>
                <a href="#676446" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** 'accessor' and 'accessed' are so similar it becomes very difficult to
       *  follow the logic, so I renamed one to something distinct.
       */
      <span class="keyword">def</span> <a title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean" id="676419">accesses</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="676462">looker</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="676463">accessed</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#676463" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48107" title="=&gt; Boolean">hasLocalFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
           <span class="delimiter">(</span><a href="#676463" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48090" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#676462" title="Typers.this.global.Symbol">looker</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#676463" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676463" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="676420">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="676464">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="676465">scope</a> = <span title="Typers.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#676415" title="Boolean">inBlock</a><span class="delimiter">)</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a> <span class="keyword">else</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Typers.this.global.Scope">decls</a>
        <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="676466">newStats</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
        <span class="keyword">var</span> <a title="Boolean" id="676467">needsCheck</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">var</span> <a title="Boolean" id="676468">moreToAdd</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#676468" title="Boolean">moreToAdd</a><span class="delimiter">)</span> <a href="#676469" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Int" id="676471">initSize</a> = <a href="#676465" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61749" title="=&gt; Int">size</a>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="676472">e</a> = <a href="#676465" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61726" title="=&gt; Typers.this.global.ScopeEntry">elems</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71192" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#676465" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#676473" title="()Unit" class="delimiter">{</a>

            // check no double def
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#676467" title="Boolean">needsCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="676479">e1</a> = <a href="#676465" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61762" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#676479" title="Typers.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71192" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#676465" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#676481" title="()Unit" class="delimiter">{</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#676419" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#676419" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <span class="delimiter">(</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47756" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">||</span> <a href="#676415" title="Boolean">inBlock</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42801" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47850" title="=&gt; Boolean">isMacro</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47850" title="=&gt; Boolean">isMacro</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  // default getters are defined twice when multiple overloads have defaults. an
                  // error for this is issued in RefChecks.checkDefaultsInOverloaded
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47808" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47808" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <span title="=&gt; Boolean">!</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46677" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46677" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><span title="(other: String)String">+</span><span title="String(&quot; is defined twice&quot;)" class="string">&quot; is defined twice&quot;</span><span title="(x$1: Any)String">+</span>
                    <span class="delimiter">{</span><span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)String">+</span><a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185139" title="()String">toString</a><span class="delimiter">}</span><span title="(x$1: Any)String">+</span>
                    <span class="delimiter">{</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47850" title="=&gt; Boolean">isMacro</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676479" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47850" title="=&gt; Boolean">isMacro</a><span class="delimiter">)</span> <span title="String(&quot; \n(note that macros cannot be overloaded)&quot;)" class="string">&quot; \n(note that macros cannot be overloaded)&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">}</span><span class="delimiter">)</span>
                    <a href="#676465" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61757" title="(e: Typers.this.global.ScopeEntry)Unit">unlink</a><span class="delimiter">(</span><a href="#676479" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span> // need to unlink to avoid later problems with lub; see #2779
                  <span class="delimiter">}</span>
                <a href="#676479" title="Typers.this.global.ScopeEntry">e1</a> = <a href="#676465" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61762" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#676479" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          // add synthetics
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185122" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <span title="(key: Typers.this.global.Symbol)Option[Typers.this.global.Tree]">get</span> <a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(f: Typers.this.global.Tree =&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree])Unit">foreach</span> <span class="delimiter">{</span> <a title="Typers.this.global.Tree" id="676526">tree</a> =&gt;
            <a href="#676466" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> <span title="(x: Typers.this.global.Tree)scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">+=</span> <a href="#676418" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">(</span><a href="#676526" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> // might add even more synthetics to the scope
            <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185122" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <span title="(key: Typers.this.global.Symbol)scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">-=</span> <a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>
          <span class="delimiter">}</span>

          <a href="#676472" title="Typers.this.global.ScopeEntry">e</a> = <a href="#676472" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71198" title="=&gt; Typers.this.global.ScopeEntry">next</a>
        <span class="delimiter">}</span>
        <a href="#676467" title="Boolean">needsCheck</a> = <span title="Boolean(false)" class="keyword">false</span>
        // the type completer of a synthetic might add more synthetics. example: if the
        // factory method of a case class (i.e. the constructor) has a default.
        <a href="#676468" title="Boolean">moreToAdd</a> = <a href="#676471" title="Int">initSize</a> <span title="(x: Int)Boolean">!=</span> <a href="#676465" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61749" title="=&gt; Int">size</a>
        <span class="delimiter">}</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#676466" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#676464" title="List[Typers.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // put default getters next to the method they belong to,
          // same for companion objects. fixes #2489 and #4036.
          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean" id="676572">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676574">stat</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="676575">synt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Tree)" class="delimiter">(</span><a href="#676574" title="Typers.this.global.Tree">stat</a>, <a href="#676575" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>DefDef<span class="delimiter">(</span>_, <a title="Typers.this.global.Name" id="676592">statName</a>, _, _, _, _<span class="delimiter">)</span>, DefDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="676601">mods</a>, <a title="Typers.this.global.Name" id="676602">syntName</a>, _, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#676601" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676602" title="Typers.this.global.Name">syntName</a>.<span title="()String">toString</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#676592" title="Typers.this.global.Name">statName</a>.<span title="()String">toString</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>ClassDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="676613">className</a>, _, _<span class="delimiter">)</span>, ModuleDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TermName" id="676621">moduleName</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#676613" title="Typers.this.global.TypeName">className</a>.<a href="../../../reflect/internal/Names.scala.html#67995" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#676621" title="Typers.this.global.TermName">moduleName</a>

            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="676573">matching</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676627">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#676629" title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])" class="delimiter">(</a><a href="#676628" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="676629">pos</a>, <a href="#676628" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="676630">neg</a><span class="delimiter">)</span> = <a href="#676466" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="(p: Typers.this.global.Tree =&gt; Boolean)(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])">partition</span><span title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a title="Typers.this.global.Tree" id="676636">synt</a> =&gt; <a href="#676572" title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean">matches</a><span class="delimiter">(</span><a href="#676627" title="Typers.this.global.Tree">stat</a>, <a href="#676636" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#676466" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> = <a href="#676630" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">neg</a>
            <a href="#676629" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">pos</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
          <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="#676464" title="List[Typers.this.global.Tree]">stats</a> <span title="(z: List[Typers.this.global.Tree])(f: (Typers.this.global.Tree, List[Typers.this.global.Tree]) =&gt; List[Typers.this.global.Tree])List[Typers.this.global.Tree]">foldRight</span> List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676675">stat</a>, <a title="List[Typers.this.global.Tree]" id="676676">res</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#676675" title="Typers.this.global.Tree">stat</a> <a href="#676677" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#676573" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">matching</a><span class="delimiter">(</span><a href="#676675" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="#676678" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#676676" title="List[Typers.this.global.Tree]">res</a>
          <span class="delimiter">}</span><span class="delimiter">)</span> <a href="#676647" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#676466" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="676421">result</a> = <a href="#674250" title="List[Typers.this.global.Tree]">stats</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <a href="#676418" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a>
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#676421" title="List[Typers.this.global.Tree]">result</a>
      <span class="keyword">else</span> <a href="#676420" title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a href="#676421" title="List[Typers.this.global.Tree]">result</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184407">typedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672717">arg</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="672718">mode</a>: <span title="Int">Int</span>, <a title="Int" id="672719">newmode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="672720">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="676705">typedMode</a> = <a href="Modes.scala.html#184031" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#672718" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <a href="#672719" title="Int">newmode</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="676706">t</a> = <a href="#184350" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#672718" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(8)">SCCmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#672717" title="Typers.this.global.Tree">arg</a>, <a href="#676705" title="Int">typedMode</a>, <a href="#672720" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="TypeDiagnostics.scala.html#184311" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#670190" title="(mode: Int, tree: Typers.this.global.Tree)Typers.this.global.Tree">inMode</a><span class="delimiter">(</span><a href="#676705" title="Int">typedMode</a>, <a href="#676706" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]" id="184408">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="672706">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="672707">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
      <a href="#672706" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672716">arg</a> =&gt; <a href="#184407" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#672716" title="Typers.this.global.Tree">arg</a>, <a href="#672707" title="Int">mode</a>, <span title="Int(0)" class="int">0</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="184409">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="672701">args0</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="672702">mode</a>: <span title="Int">Int</span>, <a title="List[Typers.this.global.Type]" id="672703">formals0</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="672704">adapted0</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="676724">sticky</a> = <a href="Modes.scala.html#184031" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#672702" title="Int">mode</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="676725">loop</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="676726">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="676727">formals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="676728">adapted</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#676726" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#676728" title="List[Typers.this.global.Type]">adapted</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // No formals left or * indicates varargs.
          <span class="keyword">val</span> <a title="Boolean" id="676729">isVarArgs</a> = <a href="#676727" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#676727" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46396" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#676727" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="676730">typedMode</a> = <a href="#676724" title="Int">sticky</a> <span title="(x: Int)Int">|</span> <span class="delimiter">(</span>
            <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#676729" title="Boolean">isVarArgs</a><span class="delimiter">)</span> STARmode <span title="Int(36864)">|</span> BYVALmode
            <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46393" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#676727" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span>
            <span class="keyword">else</span> <span title="Int(32768)">BYVALmode</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="676731">tree</a> = <a href="#184407" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#676726" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Typers.this.global.Tree">head</span>, <a href="#672702" title="Int">mode</a>, <a href="#676730" title="Int">typedMode</a>, <a href="#676728" title="List[Typers.this.global.Type]">adapted</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span>
          // formals may be empty, so don't call tail
          <a href="#676731" title="Typers.this.global.Tree">tree</a> <a href="#676741" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#676725" title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]">loop</a><span class="delimiter">(</span><a href="#676726" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; List[Typers.this.global.Tree]">tail</span>, <a href="#676727" title="List[Typers.this.global.Type]">formals</a> <span title="(n: Int)List[Typers.this.global.Type]">drop</span> <span title="Int(1)" class="int">1</span>, <a href="#676728" title="List[Typers.this.global.Type]">adapted</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#676725" title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]">loop</a><span class="delimiter">(</span><a href="#672701" title="List[Typers.this.global.Tree]">args0</a>, <a href="#672703" title="List[Typers.this.global.Type]">formals0</a>, <a href="#672704" title="List[Typers.this.global.Type]">adapted0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Does function need to be instantiated, because a missing parameter
     *  in an argument closure overlaps with an uninstantiated formal?
     */
    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean" id="184410">needsInstantiation</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="676747">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="676748">formals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Tree]" id="676749">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tparam: Typers.this.global.Symbol)Boolean" id="676752">isLowerBounded</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="676753">tparam</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#676753" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47758" title="=&gt; Boolean">isBottomClass</a>

      <a href="../../../reflect/internal/util/Collections.scala.html#39625" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.Tree])(f: (Typers.this.global.Type, Typers.this.global.Tree) =&gt; Boolean)Boolean">exists2</a><span class="delimiter">(</span><a href="#676748" title="List[Typers.this.global.Type]">formals</a>, <a href="#676749" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="#676788" title="Boolean" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="Typers.this.global.Type" id="676798">formal</a>, Function<span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="676801">vparams</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#676801" title="List[Typers.this.global.ValDef]">vparams</a> <span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#676808" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#676801" title="List[Typers.this.global.ValDef]">vparams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="../../../reflect/internal/Definitions.scala.html#46521" title="=&gt; Int">MaxFunctionArity</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#676798" title="Typers.this.global.Type">formal</a> <a href="../../../reflect/internal/Types.scala.html#42777" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#46529" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#676801" title="List[Typers.this.global.ValDef]">vparams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, _, <a title="List[Typers.this.global.Type]" id="676818">formalargs</a><span class="delimiter">)</span> =&gt;
              <span class="delimiter">(</span> <a href="../../../reflect/internal/util/Collections.scala.html#39625" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.ValDef])(f: (Typers.this.global.Type, Typers.this.global.ValDef) =&gt; Boolean)Boolean">exists2</a><span class="delimiter">(</span><a href="#676818" title="List[Typers.this.global.Type]">formalargs</a>, <a href="#676801" title="List[Typers.this.global.ValDef]">vparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="676852">formal</a>, <a title="Typers.this.global.ValDef" id="676853">vparam</a><span class="delimiter">)</span> =&gt;
                        <a href="#676853" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#676747" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#676852" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#42793" title="(sym: Typers.this.global.Symbol)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#676747" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <a href="#676752" title="(tparam: Typers.this.global.Symbol)Boolean">isLowerBounded</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
              <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Is `tree` a block created by a named application?
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="184411">isNamedApplyBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="642911">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =
      <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184588" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a> <span title="(p: ((Typers.this.global.Tree, Typers.this.NamedApplyInfo)) =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#642916" title="(Typers.this.global.Tree, Typers.this.NamedApplyInfo)">_</a>.<span title="=&gt; Typers.this.global.Tree">_1</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#642911" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean" id="184412">callToCompanionConstr</a><span class="delimiter">(</span><a title="Typers.this.Context" id="676870">context</a>: <a href="Contexts.scala.html#183956" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Symbol" id="676871">calledFun</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#676871" title="Typers.this.global.Symbol">calledFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="676874">methCtx</a> = <a href="#676870" title="Typers.this.Context">context</a>.<a href="Contexts.scala.html#184570" title="=&gt; Typers.this.Context">enclMethod</a>
        <span class="delimiter">(</span><a href="#676874" title="Typers.this.Context">methCtx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#183944" title="object Typers.this.NoContext">NoContext</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="676879">contextFun</a> = <a href="#676874" title="Typers.this.Context">methCtx</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#676879" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#47851" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676879" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="Namers.scala.html#183993" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#676871" title="Typers.this.global.Symbol">calledFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#676870" title="Typers.this.Context">context</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#676879" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184413">doTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="643024">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="643025">fun0</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="643026">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="643027">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="643028">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // TODO_NMT: check the assumption that args nonEmpty
      <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Apply" id="676886">errTree</a> = <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#643025" title="Typers.this.global.Tree">fun0</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(msg: String)Typers.this.global.Apply" id="676887">errorTree</a><span class="delimiter">(</span><a title="String" id="676892">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#676892" title="String">msg</a><span class="delimiter">)</span>; <a href="#676886" title="=&gt; Typers.this.global.Apply">errTree</a> <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="676888">fun</a> = <a href="#643025" title="Typers.this.global.Tree">fun0</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // remove alternatives with wrong number of parameters without looking at types.
        // less expensive than including them in inferMethodAlternatvie (see below).
        <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree)Typers.this.global.Type" id="676893">shapeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="676897">arg</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <a href="#676897" title="Typers.this.global.Tree">arg</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">Function</span><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="676900">vparams</a>, <a title="Typers.this.global.Tree" id="676901">body</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Definitions.scala.html#46555" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#676900" title="List[Typers.this.global.ValDef]">vparams</a> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="676918">vparam</a> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#676893" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#676901" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.NamedType">AssignOrNamedArg</span><span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="676951">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="676952">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#146914" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#676951" title="Typers.this.global.Name">name</a>, <a href="#676893" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#676952" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Typers.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70289" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="676894">argtypes</a> = <a href="#643026" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <a href="#676893" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="676895">pre</a> = <a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Typers.this.global.Type">prefix</a>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="676896">sym</a> = <a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="677003">alt</a> =&gt;
          // must use pt as expected type, not WildcardType (a tempting quick fix to #2665)
          // now fixed by using isWeaklyCompatible in exprTypeArgs
          // TODO: understand why exactly -- some types were not inferred anymore (`ant clean quick.bin` failed)
          // (I had expected inferMethodAlternative to pick up the slack introduced by using WildcardType here)
          //
          // @PP responds: I changed it to pass WildcardType instead of pt and only one line in
          // trunk (excluding scalacheck, which had another) failed to compile. It was this line in
          // Types: &quot;refs = Array(Map(), Map())&quot;.  I determined that inference fails if there are at
          // least two invariant type parameters. See the test case I checked in to help backstop:
          // pos/isApplicableSafe.scala.
          <a href="Infer.scala.html#184494" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>, <a href="Infer.scala.html#184489" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#676895" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#677003" title="Typers.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#676894" title="List[Typers.this.global.Type]">argtypes</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#676896" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="677010">sym1</a> = <a href="#676896" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="677012">alt</a> =&gt; <span class="delimiter">{</span>
            // eliminate functions that would result from tupling transforms
            // keeps alternatives with repeated params
            <a href="Infer.scala.html#184490" title="(tp: Typers.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="Infer.scala.html#184489" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#677012" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#676894" title="List[Typers.this.global.Type]">argtypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
            // also keep alts which define at least one default
            <a href="#677012" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42749" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#677023" title="List[Typers.this.global.Symbol]">_</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#677030" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48101" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#677010" title="Typers.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#676896" title="Typers.this.global.Symbol">sym</a> = <a href="#677010" title="Typers.this.global.Symbol">sym1</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#676896" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#676888" title="Typers.this.global.Tree">fun</a> = <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">setSymbol</span> <a href="#676896" title="Typers.this.global.Symbol">sym</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#676895" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#676896" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="Modes.scala.html#184032" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#643027" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="677048">pre</a>, <a title="List[Typers.this.global.Symbol]" id="677049">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="677050">undetparams</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184631" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" id="677051">argtpes</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">ListBuffer</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>
          <span class="keyword">val</span> <a title="Int" id="677052">amode</a> = <a href="#184049" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#643027" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="677053">args1</a> = <a href="#643026" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#677064" title="Typers.this.global.Tree" class="delimiter">{</a>
            <span class="keyword">case</span> <a title="Typers.this.global.AssignOrNamedArg" id="677065">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="677071">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="677072">rhs</a><span class="delimiter">)</span> =&gt;
              // named args: only type the righthand sides (&quot;unknown identifier&quot; errors otherwise)
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="677073">rhs1</a> = <a href="#184407" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#677072" title="Typers.this.global.Tree">rhs</a>, <a href="#677052" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#677051" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <span title="(x: Typers.this.global.Type)argtpes.type">+=</span> <a href="../../../reflect/internal/Types.scala.html#146914" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#677071" title="Typers.this.global.Name">name</a>, <a href="#677073" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42733" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
              // the assign is untyped; that's ok because we call doTypedApply
              <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#677065" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#183105" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="#677065" title="Typers.this.global.AssignOrNamedArg">arg</a>.<a href="../ast/Trees.scala.html#251928" title="=&gt; Typers.this.global.Tree">lhs</a> , <a href="#677073" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="677089">arg</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="677090">arg1</a> = <a href="#184407" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#677089" title="Typers.this.global.Tree">arg</a>, <a href="#677052" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#677051" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <span title="(x: Typers.this.global.Type)argtpes.type">+=</span> <a href="#677090" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42733" title="=&gt; Typers.this.global.Type">deconst</a>
              <a href="#677090" title="Typers.this.global.Tree">arg1</a>
          <span class="delimiter">}</span>
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#677050" title="List[Typers.this.global.Symbol]">undetparams</a>
          <a href="Infer.scala.html#184532" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], argtpes: List[Typers.this.global.Type], pt0: Typers.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677050" title="List[Typers.this.global.Symbol]">undetparams</a>, <a href="#677051" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a>.<span title="=&gt; List[Typers.this.global.Type]">toList</span>, <a href="#643028" title="Typers.this.global.Type">pt</a>, varArgsOnly = <a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118947" title="(trees: List[Typers.this.global.treeInfo.global.Tree])Boolean">isWildcardStarArgList</a><span class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#184032" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#643027" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#677053" title="List[Typers.this.global.Tree]">args1</a>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="677126">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="677129">params</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="677130">paramTypes</a> = <a href="#677126" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66914" title="=&gt; List[Typers.this.global.Type]">paramTypes</a>
          // repeat vararg as often as needed, remove by-name
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="677131">formals</a> = <a href="Infer.scala.html#184089" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#677130" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

          /** Try packing all arguments into a Tuple and apply `fun`
           *  to that. This is the last thing which is tried (after
           *  default arguments)
           */
          <span class="keyword">def</span> <a title="=&gt; Option[Typers.this.global.Tree]" id="677132">tryTupleApply</a>: <span title="Option[Typers.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            // if 1 formal, 1 arg (a tuple), otherwise unmodified args
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="677138">tupleArgs</a> = <a href="Infer.scala.html#184091" title="(pos: Typers.this.global.Position, actuals: List[Typers.this.global.Tree], nformals: Int)List[Typers.this.global.Tree]">actualArgs</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183792" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#677131" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

            <span title="Option[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#677138" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Infer.scala.html#184492" title="(args: List[AnyRef], params: List[Typers.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#677129" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // expected one argument, but got 0 or &gt;1 ==&gt;  try applying to tuple
              // the inner &quot;doTypedApply&quot; does &quot;extractUndetparams&quot; =&gt; restore when it fails
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="677146">savedUndetparams</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
              <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#677152" title="Typers.this.Typer">_</a>.<a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677138" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Option[Typers.this.global.Tree]" id="677158">t</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
                  // Depending on user options, may warn or error here if
                  // a Unit or tuple was inserted.
                  <span title="(x: Typers.this.global.Tree)Some[Typers.this.global.Tree]">Some</span><span class="delimiter">(</span><a href="#677158" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Option[Typers.this.global.Tree]">filter</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="677164">tupledTree</a> =&gt;
                       <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#184041" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#643027" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span>
                    <span title="(x: Boolean)Boolean">||</span> <a href="#677164" title="Typers.this.global.Tree">tupledTree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>
                    <span title="(x: Boolean)Boolean">||</span> <a href="Adaptations.scala.html#184458" title="(t: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Boolean">checkValidAdaptation</a><span class="delimiter">(</span><a href="#677164" title="Typers.this.global.Tree">tupledTree</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                  <span class="delimiter">)</span>
                <span class="keyword">case</span> <a title="None.type" id="677172">ex</a> =&gt;
                  <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#677146" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
                  <span title="object None">None</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="object None">None</span>
          <span class="delimiter">}</span>

          /** Treats an application which uses named or default arguments.
           *  Also works if names + a vararg used: when names are used, the vararg
           *  parameter has to be specified exactly once. Note that combining varargs
           *  and defaults is ruled out by typedDefDef.
           */
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="677133">tryNamesDefaults</a>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="677173">lencmp</a> = <a href="../../../reflect/internal/Types.scala.html#40310" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#677131" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677126" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#676886" title="=&gt; Typers.this.global.Apply">errTree</a>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#184040" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#643027" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // #2064
              <a href="#676887" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="String(&quot;wrong number of arguments for &quot;)" class="string">&quot;wrong number of arguments for &quot;</span><span title="(x$1: Any)String">+</span> <a href="TypeDiagnostics.scala.html#184274" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677173" title="Int">lencmp</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#677132" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <span title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</span> <a href="#676887" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="String(&quot;too many arguments for &quot;)" class="string">&quot;too many arguments for &quot;</span><span title="(x$1: Any)String">+</span><a href="TypeDiagnostics.scala.html#184274" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677173" title="Int">lencmp</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // we don't need defaults. names were used, so this application is transformed
              // into a block (@see transformNamedApplication in NamesDefaults)
              <span class="keyword">val</span> <a href="#677191" title="(List[Typers.this.global.Tree], Array[Int])" class="delimiter">(</a><a href="#677190" title="List[Typers.this.global.Tree]" id="677191">namelessArgs</a>, <a href="#677190" title="Array[Int]" id="677192">argPos</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#184244" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#184062" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span title="(List[Typers.this.global.Tree], Array[Int]) @unchecked" class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#677129" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677191" title="List[Typers.this.global.Tree]">namelessArgs</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#676886" title="=&gt; Typers.this.global.Apply">errTree</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="NamesDefaults.scala.html#184232" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#677192" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#677131" title="List[Typers.this.global.Type]">formals</a>, <a href="#677129" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
                // !isIdentity indicates that named arguments are used to re-order arguments
                <a href="#676887" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="String(&quot;when using named arguments, the vararg parameter has to be specified exactly once&quot;)" class="string">&quot;when using named arguments, the vararg parameter has to be specified exactly once&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#184232" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#677192" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#184411" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                // if there's no re-ordering, and fun is not transformed, no need to transform
                // more than an optimization, e.g. important in &quot;synchronized { x = update-x }&quot;
                <a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677191" title="List[Typers.this.global.Tree]">namelessArgs</a>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="NamesDefaults.scala.html#184233" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#184062" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span>
                                          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677191" title="List[Typers.this.global.Tree]">namelessArgs</a><span class="delimiter">)</span>, <a href="#677192" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              // defaults are needed. they are added to the argument list in named style as
              // calls to the default getters. Example:
              //  foo[Int](a)()  ==&gt;  foo[Int](a)(b = foo$qual.foo$default$2[Int](a))
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="677230">fun1</a> = <a href="NamesDefaults.scala.html#184233" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#184062" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a title="Int" id="677232">x</a> =&gt; <a href="#677232" title="Int">x</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun1</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#676886" title="=&gt; Typers.this.global.Apply">errTree</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#184411" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#677230" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>, <a href="#677230" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> NamedApplyInfo<a href="#677236" title="(Option[Typers.this.global.Tree], List[Typers.this.global.Tree], List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#677235" title="Option[Typers.this.global.Tree]" id="677236">qual</a>, <a href="#677235" title="List[Typers.this.global.Tree]" id="677237">targs</a>, <a href="#677235" title="List[List[Typers.this.global.Tree]]" id="677238">previousArgss</a>, _<span class="delimiter">)</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184588" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>.<span title="=&gt; (Typers.this.global.Tree, Typers.this.NamedApplyInfo)">get</span>.<span title="=&gt; Typers.this.NamedApplyInfo">_2</span>
                <span class="keyword">val</span> <a title="Boolean" id="677239">blockIsEmpty</a> = <a href="#677230" title="Typers.this.global.Tree">fun1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Boolean">Block</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt;
                    // if the block does not have any ValDef we can remove it. Note that the call to
                    // &quot;transformNamedApplication&quot; is always needed in order to obtain targs/previousArgss
                    <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184589" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <span title="object None">None</span>
                    <span title="Boolean(true)" class="keyword">true</span>
                  <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
                <span class="delimiter">}</span>
                <span class="keyword">val</span> <a href="#677241" title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#677240" title="List[Typers.this.global.Tree]" id="677241">allArgs</a>, <a href="#677240" title="List[Typers.this.global.Symbol]" id="677242">missing</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#184237" title="(givenArgs: List[Typers.this.global.Tree], qual: Option[Typers.this.global.Tree], targs: List[Typers.this.global.Tree], previousArgss: List[List[Typers.this.global.Tree]], params: List[Typers.this.global.Symbol], pos: scala.tools.nsc.util.Position, context: Typers.this.Context)(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])">addDefaults</a><span title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#677236" title="Option[Typers.this.global.Tree]">qual</a>, <a href="#677237" title="List[Typers.this.global.Tree]">targs</a>, <a href="#677238" title="List[List[Typers.this.global.Tree]]">previousArgss</a>, <a href="#677129" title="List[Typers.this.global.Symbol]">params</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="677243">funSym</a> = <a href="#677230" title="Typers.this.global.Tree">fun1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="677300">expr</a><span class="delimiter">)</span> =&gt; <a href="#677300" title="Typers.this.global.Tree">expr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span class="delimiter">}</span>
                <span class="keyword">val</span> <a title="Int" id="677244">lencmp2</a> = <a href="../../../reflect/internal/Types.scala.html#40310" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#677241" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#677131" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>

                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#677241" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184412" title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean">callToCompanionConstr</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>, <a href="#677243" title="Typers.this.global.Symbol">funSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#676887" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="String(&quot;module extending its companion class cannot use default constructor arguments&quot;)" class="string">&quot;module extending its companion class cannot use default constructor arguments&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677244" title="Int">lencmp2</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="NamesDefaults.scala.html#184244" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#184062" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#677241" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#677129" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span> // #3818
                  <a href="#676886" title="=&gt; Typers.this.global.Apply">errTree</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677244" title="Int">lencmp2</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // useful when a default doesn't match parameter type, e.g. def f[T](x:T=&quot;a&quot;); f[Int]()
                  <span class="keyword">val</span> <a title="String" id="677313">note</a> = <span title="String(&quot;Error occurred in an application involving default arguments.&quot;)" class="string">&quot;Error occurred in an application involving default arguments.&quot;</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184609" title="=&gt; List[String]">diagnostic</a> <span title="(elem: Any)Boolean">contains</span> <a href="#677313" title="String">note</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184610" title="(x$1: List[String])Unit">diagnostic</a> = <a href="#677313" title="String">note</a> <a href="#677314" title="(x: String)List[String]">::</a> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184609" title="=&gt; List[String]">diagnostic</a>
                  <a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677239" title="Boolean">blockIsEmpty</a><span class="delimiter">)</span> <a href="#676888" title="Typers.this.global.Tree">fun</a> <span class="keyword">else</span> <a href="#677230" title="Typers.this.global.Tree">fun1</a>, <a href="#677241" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#677132" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <span title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</span> <a href="#676887" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><a href="TypeDiagnostics.scala.html#184275" title="(fun: Typers.this.global.Tree, missing: List[Typers.this.global.Symbol])String">notEnoughArgumentsMsg</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677242" title="List[Typers.this.global.Symbol]">missing</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#677131" title="List[Typers.this.global.Type]">formals</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>   // wrong nb of arguments
              <span class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="NamesDefaults.scala.html#184225" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>        // uses a named argument
              <a href="#184411" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>       // fun was transformed to a named apply block =&gt;
                                              // integrate this application into the block
            <a href="#677133" title="=&gt; Typers.this.global.Tree">tryNamesDefaults</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="677335">tparams</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184631" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // all type params are defined
              // In order for checkDead not to be misled by the unfortunate special
              // case of AnyRef#synchronized (which is implemented with signature T =&gt; T
              // but behaves as if it were (=&gt; T) =&gt; T) we need to know what is the actual
              // target of a call.  Since this information is no longer available from
              // typedArg, it is recorded here.
              <a href="TypeDiagnostics.scala.html#184311" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#670188" title="(fn: Typers.this.global.Tree)Unit">updateExpr</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="677336">args1</a> = <a href="#184409" title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#184049" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#643027" title="Int">mode</a><span class="delimiter">)</span>, <a href="#677130" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#677131" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
              // instantiate dependent method types, must preserve singleton types where possible (stableTypeFor) -- example use case:
              // val foo = &quot;foo&quot;; def precise(x: String)(y: x.type): x.type = {...}; val bar : foo.type = precise(foo)(foo)
              // precise(foo) : foo.type =&gt; foo.type
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="677337">restpe</a> = <a href="#677126" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66916" title="(actuals: List[Typers.this.global.Type])Typers.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#677336" title="List[Typers.this.global.Tree]">args1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.gen.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.gen.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="677364">arg</a> =&gt; <a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92632" title="(tree: Typers.this.global.gen.global.Tree)Option[Typers.this.global.gen.global.Type]">stableTypeFor</a><span class="delimiter">(</span><a href="#677364" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span> <span title="(default: =&gt; Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Type">getOrElse</span> <a href="#677364" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="677338">ifPatternSkipFormals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="677398">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#677398" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">MethodType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="677401">rtp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#184040" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#643027" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#677401" title="Typers.this.global.Type">rtp</a>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#677398" title="Typers.this.global.Type">tp</a>
              <span class="delimiter">}</span>

              // Replace the Delegate-Chainer methods += and -= with corresponding
              // + and - calls, which are translated in the code generator into
              // Combine and Remove
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183036" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#676888" title="Typers.this.global.Tree">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="677406">qual</a>, <a title="Typers.this.global.Name" id="677407">name</a><span class="delimiter">)</span> =&gt;
                   <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40319" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#677406" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="../../../reflect/internal/Definitions.scala.html#46573" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#677407" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40544" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#677407" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40544" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;-=&quot;)" class="string">&quot;-=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">{</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.TermName" id="677423">n</a> = <span title="Typers.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="#677407" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40544" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60483" title="=&gt; Typers.this.global.TermName">PLUS</a> <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60473" title="=&gt; Typers.this.global.TermName">MINUS</a>
                       <span class="keyword">val</span> <a title="Typers.this.global.Select" id="677424">f</a> = <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#677406" title="Typers.this.global.Tree">qual</a>, <a href="#677423" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span>
                       // the compiler thinks, the PLUS method takes only one argument,
                       // but he thinks it's an instance method -&gt; still two ref's on the stack
                       //  -&gt; translated by backend
                       <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="677425">rhs</a> = <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#677424" title="Typers.this.global.Select">f</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                       <span title="Nothing" class="keyword">return</span> <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#677406" title="Typers.this.global.Tree">qual</a>, <a href="#677425" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              /** This is translating uses of List() into Nil.  This is less
               *  than ideal from a consistency standpoint, but it shouldn't be
               *  altered without due caution.
               */
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46428" title="=&gt; Typers.this.global.Symbol">List_apply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#643026" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#183037" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92650" title="=&gt; Typers.this.global.gen.global.Tree">mkNil</a> <span title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">setType</span> <a href="#677337" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="ConstantFolder.scala.html#235650" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677336" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Apply">setType</span> <a href="#677338" title="(tp: Typers.this.global.Type)Typers.this.global.Type">ifPatternSkipFormals</a><span class="delimiter">(</span><a href="#677337" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184410" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean">needsInstantiation</a><span class="delimiter">(</span><a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#677131" title="List[Typers.this.global.Type]">formals</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              //println(&quot;needs inst &quot;+fun+&quot; &quot;+tparams+&quot;/&quot;+(tparams map (_.info)))
              <a href="Infer.scala.html#184504" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#184040" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#643027" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> // this case cannot arise for patterns
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="677479">lenientTargs</a> = <a href="Infer.scala.html#184484" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.Type]">protoTypeArgs</a><span class="delimiter">(</span><a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#677131" title="List[Typers.this.global.Type]">formals</a>, <a href="#677126" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#42745" title="=&gt; Typers.this.global.Type">resultApprox</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="677480">strictTargs</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.Symbol])(f: (Typers.this.global.Type, Typers.this.global.Symbol) =&gt; Typers.this.global.Type)List[Typers.this.global.Type]">map2</a><span class="delimiter">(</span><a href="#677479" title="List[Typers.this.global.Type]">lenientTargs</a>, <a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="677524">targ</a>, <a title="Typers.this.global.Symbol" id="677525">tparam</a><span class="delimiter">)</span> =&gt;
                <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#677524" title="Typers.this.global.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <a href="#677525" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#677524" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span> //@M TODO: should probably be .tpeHK
              <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="677481">remainingParams</a> = <a href="#677130" title="List[Typers.this.global.Type]">paramTypes</a>
              <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree" id="677482">typedArgToPoly</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="677532">arg</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="677533">formal</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span> //TR TODO: cleanup
                <span class="keyword">val</span> <a title="Typers.this.global.Type" id="677534">lenientPt</a> = <a href="#677533" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#677479" title="List[Typers.this.global.Type]">lenientTargs</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Int" id="677535">newmode</a> =
                  <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46393" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#677481" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(32)">POLYmode</span>
                  <span class="keyword">else</span> POLYmode <span title="Int(32800)">|</span> BYVALmode
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#677481" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#677481" title="List[Typers.this.global.Type]">remainingParams</a> = <a href="#677481" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="677536">arg1</a> = <a href="#184407" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#677532" title="Typers.this.global.Tree">arg</a>, <a href="#184049" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#643027" title="Int">mode</a><span class="delimiter">)</span>, <a href="#677535" title="Int">newmode</a>, <a href="#677534" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="677537">argtparams</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184631" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#677537" title="List[Typers.this.global.Symbol]">argtparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Type" id="677548">strictPt</a> = <a href="#677533" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#677480" title="List[Typers.this.global.Type]">strictTargs</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#184503" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], strictPt: Typers.this.global.Type, lenientPt: Typers.this.global.Type)Unit">inferArgumentInstance</a><span class="delimiter">(</span><a href="#677536" title="Typers.this.global.Tree">arg1</a>, <a href="#677537" title="List[Typers.this.global.Symbol]">argtparams</a>, <a href="#677548" title="Typers.this.global.Type">strictPt</a>, <a href="#677534" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#677536" title="Typers.this.global.Tree">arg1</a>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="677483">args1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2</a><span class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#677131" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#677482" title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree">typedArgToPoly</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677483" title="List[Typers.this.global.Tree]">args1</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#677597" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#676886" title="=&gt; Typers.this.global.Apply">errTree</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;infer method inst &quot;)" class="string">&quot;infer method inst &quot;</span><span title="(x$1: Any)String">+</span><a href="#676888" title="Typers.this.global.Tree">fun</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, tparams = &quot;)" class="string">&quot;, tparams = &quot;</span><span title="(x$1: Any)String">+</span><a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, args = &quot;)" class="string">&quot;, args = &quot;</span><span title="(x$1: Any)String">+</span><a href="#677483" title="List[Typers.this.global.Tree]">args1</a>.<span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#677616" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)String">+</span><a href="#643028" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, lobounds = &quot;)" class="string">&quot;, lobounds = &quot;</span><span title="(x$1: Any)String">+</span><a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#677660" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; Typers.this.global.Type">lo</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;, parambounds = &quot;)" class="string">&quot;, parambounds = &quot;</span><span title="(x$1: Any)String">+</span><a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#677698" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> //debug
                // define the undetparams which have been fixed by this param list, replace the corresponding symbols in &quot;fun&quot;
                // returns those undetparams which have not been instantiated.
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="677598">undetparams</a> = <a href="Infer.scala.html#184506" title="(fn: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], args: List[Typers.this.global.Tree], pt0: Typers.this.global.Type)List[Typers.this.global.Symbol]">inferMethodInstance</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677335" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#677483" title="List[Typers.this.global.Tree]">args1</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="677599">result</a> = <a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#677483" title="List[Typers.this.global.Tree]">args1</a>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#677598" title="List[Typers.this.global.Symbol]">undetparams</a>
                <a href="#677599" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#643027" title="Int">mode</a>, <a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="Typers.this.global.Apply">ErrorType</a> =&gt;
          <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        /* --- begin unapply  --- */

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="677738">otpe</a> <span class="keyword">if</span> <a href="Modes.scala.html#184040" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#643027" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Unapplies.scala.html#184188" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#677738" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <a href="../../../reflect/internal/Definitions.scala.html#46517" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;too many arguments for unapply pattern, maximum = &quot;)" class="string">&quot;too many arguments for unapply pattern, maximum = &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/Definitions.scala.html#46517" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>

          //
          <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="677739">freshArgType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="677749">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, Type<span class="delimiter">)</span> = <a href="#677749" title="Typers.this.global.Type">tp</a> <span title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, Typers.this.global.Type)">MethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="677756">param</a> :: _, _<span class="delimiter">)</span> =&gt;
              <span title="(_1: scala.collection.immutable.Nil.type, _2: Typers.this.global.Type)(scala.collection.immutable.Nil.type, Typers.this.global.Type)" class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#677756" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(List[Typers.this.global.Symbol], Typers.this.global.Type)">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="677765">tparams</a>, <a title="Typers.this.global.Type" id="677766">restpe</a><span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/internal/Symbols.scala.html#40021" title="(syms: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; (List[Typers.this.global.Symbol], Typers.this.global.Type))(List[Typers.this.global.Symbol], Typers.this.global.Type)">createFromClonedSymbols</a><span class="delimiter">(</span><a href="#677765" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#677739" title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">freshArgType</a><span class="delimiter">(</span><a href="#677766" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">_2</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="677776">ps</a>, <a title="Typers.this.global.Type" id="677777">t</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="(_1: List[Typers.this.global.Symbol], _2: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</span><a href="#677776" title="List[Typers.this.global.Symbol]">ps</a>, <a href="#677777" title="Typers.this.global.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;cannot resolve overloaded unapply&quot;)" class="string">&quot;cannot resolve overloaded unapply&quot;</span><span class="delimiter">)</span>
              <span title="(_1: scala.collection.immutable.Nil.type, _2: Typers.this.global.ErrorType.type)(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)" class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)">_</span> =&gt;
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;an unapply method must accept a single argument.&quot;)" class="string">&quot;an unapply method must accept a single argument.&quot;</span><span class="delimiter">)</span>
              <span title="(_1: scala.collection.immutable.Nil.type, _2: Typers.this.global.ErrorType.type)(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)" class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="677740">unapp</a>     = <a href="Unapplies.scala.html#184188" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#677738" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="677741">unappType</a> = <a href="#677738" title="Typers.this.global.Type">otpe</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#677740" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="677742">argDummy</a>  = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47698" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60035" title="=&gt; Typers.this.global.nme.NameType">SELECTOR_DUMMY</a>, <a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <a href="#643028" title="Typers.this.global.Type">pt</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="677743">arg</a>       = <a href="Analyzer.scala.html#183929" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#677742" title="Typers.this.global.TermSymbol">argDummy</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</span> <a href="#643028" title="Typers.this.global.Type">pt</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Infer.scala.html#184494" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#677741" title="Typers.this.global.Type">unappType</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(&quot;UNAPP: need to typetest, arg.tpe = &quot;+arg.tpe+&quot;, unappType = &quot;+unappType)
            <span class="keyword">val</span> <a href="#677832" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="#677831" title="List[Typers.this.global.Symbol]" id="677832">freeVars</a>, <a href="#677831" title="Typers.this.global.Type" id="677833">unappFormal</a><span class="delimiter">)</span> = <a href="#677739" title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">freshArgType</a><span title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#677741" title="Typers.this.global.Type">unappType</a>.<a href="../../../reflect/internal/Types.scala.html#42756" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#643024" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="677834">unapplyContext</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#677832" title="List[Typers.this.global.Symbol]">freeVars</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <a href="#677834" title="Typers.this.Context">unapplyContext</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a>

            <span class="keyword">val</span> <a title="Typers.this.Typer" id="677835">typer1</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#677834" title="Typers.this.Context">unapplyContext</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="677836">pattp</a>  = <a href="#677835" title="Typers.this.Typer">typer1</a>.<a href="#184322" title="=&gt; Typers.this.Inferencer">infer</a>.<a href="Infer.scala.html#184514" title="(pos: Typers.this.global.Position, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#643024" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#677833" title="Typers.this.global.Type">unappFormal</a>, <a href="#677743" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

            // turn any unresolved type variables in freevars into existential skolems
            <span class="keyword">val</span> <a title="List[Typers.this.global.TypeSkolem]" id="677837">skolems</a> = <a href="#677832" title="List[Typers.this.global.Symbol]">freeVars</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeSkolem)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeSkolem,List[Typers.this.global.TypeSkolem]])List[Typers.this.global.TypeSkolem]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="677896">fv</a> =&gt; <a href="#677834" title="Typers.this.Context">unapplyContext</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47728" title="(basis: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.TypeSkolem">newExistentialSkolem</a><span class="delimiter">(</span><a href="#677896" title="Typers.this.global.Symbol">fv</a>, <a href="#677896" title="Typers.this.global.Symbol">fv</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#677743" title="Typers.this.global.Ident">arg</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#677836" title="Typers.this.global.Type">pattp</a>.<a href="../../../reflect/internal/Types.scala.html#42783" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#677832" title="List[Typers.this.global.Symbol]">freeVars</a>, <a href="#677837" title="List[Typers.this.global.TypeSkolem]">skolems</a><span class="delimiter">)</span>
            <a href="#677742" title="Typers.this.global.TermSymbol">argDummy</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)argDummy.type">setInfo</a> <a href="#677743" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="delimiter">}</span>

          // setType null is necessary so that ref will be stabilized; see bug 881
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="677744">fun1</a> = <a href="#184437" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <span title="Null(null)" class="keyword">null</span>, <a href="#677740" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Ident*)List[Typers.this.global.Ident]">List</span><span class="delimiter">(</span><a href="#677743" title="Typers.this.global.Ident">arg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#677744" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#676886" title="=&gt; Typers.this.global.Apply">errTree</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="677980">formals0</a> = <a href="Unapplies.scala.html#184184" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#677744" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#677744" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="677981">formals1</a> = <a href="Infer.scala.html#184089" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#677980" title="List[Typers.this.global.Type]">formals0</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#677981" title="List[Typers.this.global.Type]">formals1</a>, <a href="#643026" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="677986">args1</a> = <a href="#184409" title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#643026" title="List[Typers.this.global.Tree]">args</a>, <a href="#643027" title="Int">mode</a>, <a href="#677980" title="List[Typers.this.global.Type]">formals0</a>, <a href="#677981" title="List[Typers.this.global.Type]">formals1</a><span class="delimiter">)</span>
              // This used to be the following (failing) assert:
              //   assert(isFullyDefined(pt), tree+&quot; ==&gt; &quot;+UnApply(fun1, args1)+&quot;, pt = &quot;+pt)
              // I modified as follows.  See SI-1048.
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="677987">pt1</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#643028" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="Infer.scala.html#184482" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#643028" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="677988">itype</a> = <a href="../../../reflect/internal/Types.scala.html#40374" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#677987" title="Typers.this.global.Type">pt1</a>, <a href="#677743" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#677743" title="Typers.this.global.Ident">arg</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#677987" title="Typers.this.global.Type">pt1</a>    // restore type (arg is a dummy tree, just needs to pass typechecking)
              <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#677744" title="Typers.this.global.Tree">fun1</a>, <a href="#677986" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.UnApply">setPos</span> <a href="#643024" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</span> <a href="#677988" title="Typers.this.global.Type">itype</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#676887" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="String(&quot;wrong number of arguments for &quot;)" class="string">&quot;wrong number of arguments for &quot;</span><span title="(x$1: Any)String">+</span><a href="TypeDiagnostics.scala.html#184274" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

/* --- end unapply  --- */
        <span class="keyword">case</span> <span title="Typers.this.global.Apply">_</span> =&gt;
          <a href="#676887" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><a href="#676888" title="Typers.this.global.Tree">fun</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)String">+</span><span title="String(&quot; does not take parameters&quot;)" class="string">&quot; does not take parameters&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Convert an annotation constructor call into an AnnotationInfo.
     *
     * @param annClass the expected annotation class
     */
    <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo" id="184414">typedAnnotation</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="640779">ann</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="640785">mode</a>: <span title="Int">Int</span> = <span title="Int(1)">EXPRmode</span>, <a title="Typers.this.global.Symbol" id="640786">selfsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a title="Typers.this.global.Symbol" id="640787">annClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Definitions.scala.html#46671" title="=&gt; Typers.this.global.Symbol">AnnotationClass</a>, <a title="Boolean" id="640788">requireJava</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#40591" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="678018">annotationError</a> = <a href="../../../reflect/internal/AnnotationInfos.scala.html#47273" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="678019">hasError</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo" id="678020">error</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="678027">pos</a>: <a href="../util/Position.scala.html#34604" title="Typers.this.global.Position">Position</a>, <a title="String" id="678028">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184653" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#678027" title="Typers.this.global.Position">pos</a>, <a href="#678028" title="String">msg</a><span class="delimiter">)</span>
        <a href="#678019" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#678017" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="delimiter">}</span>

      /** Calling constfold right here is necessary because some trees (negated
       *  floats and literals in particular) are not yet folded.
       */
      <span class="keyword">def</span> <a title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]" id="678021">tryConst</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678033">tr</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="678034">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.LiteralAnnotArg]">Option</span><span class="delimiter">[</span>LiteralAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Constant" id="678035">const</a>: <a href="../../../reflect/internal/Constants.scala.html#40506" title="Typers.this.global.Constant">Constant</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="ConstantFolder.scala.html#235650" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#678033" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>, <span title="Int(1)">EXPRmode</span>, <a href="#678034" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="678047">l</a> @ Literal<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="678049">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">l</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a> =&gt; <a href="#678049" title="Typers.this.global.Constant">c</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="678052">tree</a> =&gt; <a href="#678052" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Constant">ConstantType</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="678054">c</a><span class="delimiter">)</span>  =&gt; <a href="#678054" title="Typers.this.global.Constant">c</a>
            <span class="keyword">case</span> <a title="Null(null)" id="678055">tpe</a>              =&gt; <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(msg: String)None.type" id="678036">fail</a><span class="delimiter">(</span><a title="String" id="678056">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678033" title="Typers.this.global.Tree">tr</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#678056" title="String">msg</a><span class="delimiter">)</span> ; <span title="object None">None</span> <span class="delimiter">}</span>

        <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#678035" title="Typers.this.global.Constant">const</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#678036" title="(msg: String)None.type">fail</a><span class="delimiter">(</span><span title="String(&quot;annotation argument needs to be a constant; found: &quot;)" class="string">&quot;annotation argument needs to be a constant; found: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#678033" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#678035" title="Typers.this.global.Constant">const</a>.<a href="../../../reflect/internal/Constants.scala.html#47577" title="=&gt; Any">value</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#678036" title="(msg: String)None.type">fail</a><span class="delimiter">(</span><span title="String(&quot;annotation argument cannot be null&quot;)" class="string">&quot;annotation argument cannot be null&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="(x: Typers.this.global.LiteralAnnotArg)Some[Typers.this.global.LiteralAnnotArg]">Some</span><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#53896" title="(const: Typers.this.global.Constant)Typers.this.global.LiteralAnnotArg">LiteralAnnotArg</a><span class="delimiter">(</span><a href="#678035" title="Typers.this.global.Constant">const</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Converts an untyped tree to a ClassfileAnnotArg. If the conversion fails,
       *  an error message is reported and None is returned.
       */
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]" id="678022">tree2ConstArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678066">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="678067">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.ClassfileAnnotArg]">Option</span><span class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span> = <a href="#678066" title="Typers.this.global.Tree">tree</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="None.type">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678079">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="678080">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#678067" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678066" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;Array constants have to be specified using the `Array(...)\' factory method&quot;)" class="string">&quot;Array constants have to be specified using the `Array(...)' factory method&quot;</span><span class="delimiter">)</span>
          <span title="object None">None</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="678086">ann</a> @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678098">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="678099">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="678100">annInfo</a> = <a href="#184414" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#678086" title="Typers.this.global.Apply">ann</a>, <a href="#640785" title="Int">mode</a>, <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#678067" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#678100" title="Typers.this.global.AnnotationInfo">annInfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47239" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // recursive typedAnnotation call already printed an error, so don't call &quot;error&quot;
            <a href="#678019" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span title="object None">None</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(x: Typers.this.global.NestedAnnotArg)Some[Typers.this.global.NestedAnnotArg]">Some</span><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#59152" title="(annInfo: Typers.this.global.AnnotationInfo)Typers.this.global.NestedAnnotArg">NestedAnnotArg</a><span class="delimiter">(</span><a href="#678100" title="Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // use of Array.apply[T: ClassManifest](xs: T*): Array[T]
        // and    Array.apply(x: Int, xs: Int*): Array[Int]       (and similar)
        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678110">fun</a>, <a title="List[Typers.this.global.Tree]" id="678111">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="678112">typedFun</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#678110" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#184032" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#640785" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#678112" title="Typers.this.global.Tree">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46438" title="=&gt; Typers.this.global.Symbol">ArrayModule</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#678112" title="Typers.this.global.Tree">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <a href="#678067" title="Typers.this.global.Type">pt</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Option[Typers.this.global.ArrayAnnotArg]">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>, <a title="Typers.this.global.Type" id="678136">targ</a> :: _<span class="delimiter">)</span> =&gt;
                <a href="#678023" title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]">trees2ConstArg</a><span class="delimiter">(</span><a href="#678111" title="List[Typers.this.global.Tree]">args</a>, <a href="#678136" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
                // For classfile annotations, pt can only be T:
                //   BT = Int, .., String, Class[_], JavaAnnotClass
                //   T = BT | Array[BT]
                // So an array literal as argument can only be valid if pt is Array[_]
                <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678066" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;found array constant, expected argument of type &quot;)" class="string">&quot;found array constant, expected argument of type &quot;</span><span title="(x$1: Any)String">+</span> <a href="#678067" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span title="object None">None</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="#678021" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#678066" title="Typers.this.global.Tree">tree</a>, <a href="#678067" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678141">t</a>, _<span class="delimiter">)</span> =&gt; <a href="#678022" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#678141" title="Typers.this.global.Tree">t</a>, <a href="#678067" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.LiteralAnnotArg]" id="678142">tree</a> =&gt;
          <a href="#678021" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#678142" title="Typers.this.global.Tree">tree</a>, <a href="#678067" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]" id="678023">trees2ConstArg</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="678137">trees</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="678138">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.ArrayAnnotArg]">Option</span><span class="delimiter">[</span>ArrayAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Option[Typers.this.global.ClassfileAnnotArg]]" id="678143">args</a> = <a href="#678137" title="List[Typers.this.global.Tree]">trees</a>.<span title="(f: Typers.this.global.Tree =&gt; Option[Typers.this.global.ClassfileAnnotArg])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]])List[Option[Typers.this.global.ClassfileAnnotArg]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]]" class="delimiter">(</span><a href="#678022" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#678160" title="Typers.this.global.Tree">_</a>, <a href="#678138" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[Typers.this.global.ArrayAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#678143" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<span title="(p: Option[Typers.this.global.ClassfileAnnotArg] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#678194" title="Option[Typers.this.global.ClassfileAnnotArg]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object None">None</span>
        <span class="keyword">else</span> <span title="(x: Typers.this.global.ArrayAnnotArg)Some[Typers.this.global.ArrayAnnotArg]">Some</span><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#56545" title="(args: Array[Typers.this.global.ClassfileAnnotArg])Typers.this.global.ArrayAnnotArg">ArrayAnnotArg</a><span class="delimiter">(</span><a href="#678143" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<a href="#678232" title="(implicit asTraversable: Option[Typers.this.global.ClassfileAnnotArg] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.ClassfileAnnotArg])List[Typers.this.global.ClassfileAnnotArg]">flatten</a>.<a href="Analyzer.scala.html#183929" title="(implicit evidence$1: ClassManifest[Typers.this.global.ClassfileAnnotArg])Array[Typers.this.global.ClassfileAnnotArg]">toArray</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // begin typedAnnotation
      <span class="keyword">val</span> <a href="#678025" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#678024" title="Typers.this.global.Tree" id="678025">fun</a>, <a href="#678024" title="List[List[Typers.this.global.Tree]]" id="678026">argss</a><span class="delimiter">)</span> = <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]]) @unchecked" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="678262">extract</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678263">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[List[Typers.this.global.Tree]]" id="678264">outerArgss</a>: <span title="List[List[Typers.this.global.Tree]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>:
          <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span>Tree, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#678263" title="Typers.this.global.Tree">fun</a> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678269">f</a>, <a title="List[Typers.this.global.Tree]" id="678270">args</a><span class="delimiter">)</span> =&gt;
              <a href="#678262" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#678269" title="Typers.this.global.Tree">f</a>, <a href="#678270" title="List[Typers.this.global.Tree]">args</a> <a href="#678271" title="(x: List[Typers.this.global.Tree])List[List[Typers.this.global.Tree]]">::</a> <a href="#678264" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678284">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
              <span title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span><a href="#678263" title="Typers.this.global.Tree">fun</a>, <a href="#678264" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">_</span> =&gt;
              <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678263" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;unexpected tree in annotation: &quot;)" class="string">&quot;unexpected tree in annotation: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#678263" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span><a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#678263" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>, <a href="#678264" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <a href="#678262" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#640779" title="Typers.this.global.Tree">ann</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#678017" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="(Typers.this.global.Select, Typers.this.global.Tree)" id="678320">typedFun</a> @ Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a href="#678319" title="Typers.this.global.Tree" id="678321">tpt</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span title="Typers.this.global.Tree @unchecked" class="delimiter">(</span><a href="#678025" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#184032" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#640785" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="678322">annType</a> = <a href="#678321" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>

        <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">typedFun</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#678017" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
        <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#678322" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#47963" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46673" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // annotation to be saved as java classfile annotation
          <span class="keyword">val</span> <a title="Boolean" id="678344">isJava</a> = <a href="#678320" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a>
          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#678322" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47963" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="#640787" title="Typers.this.global.Symbol">annClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678321" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;expected annotation of type &quot;)" class="string">&quot;expected annotation of type &quot;</span><span title="(x$1: Any)String">+</span> <a href="#640787" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span><span title="String(&quot;, found &quot;)" class="string">&quot;, found &quot;</span><span title="(x$1: Any)String">+</span> <a href="#678322" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#678026" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#640779" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;multiple argument lists on classfile annotation&quot;)" class="string">&quot;multiple argument lists on classfile annotation&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="678350">args</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#678026" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="NamesDefaults.scala.html#184225" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">(</span><a href="#678026" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(xs: Typers.this.global.AssignOrNamedArg*)List[Typers.this.global.AssignOrNamedArg]">List</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#183105" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60364" title="=&gt; Typers.this.global.nme.NameType">value</a><span class="delimiter">)</span>, <a href="#678026" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#678026" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="678351">annScope</a> = <a href="#678322" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Typers.this.global.Scope">decls</a>
                .<a href="../../../reflect/internal/Scopes.scala.html#61769" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="678388">sym</a> =&gt; <a href="#678388" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#678388" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#678388" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]" id="678352">names</a> = <span title="()scala.collection.mutable.HashSet[Typers.this.global.Symbol]" class="keyword">new</span> collection.mutable.<span title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#678352" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <span title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])names.type">++=</span> <span class="delimiter">(</span><span title="scala.collection.TraversableOnce[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#678344" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#678351" title="Typers.this.global.Scope">annScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61765" title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</a>
                       <span class="keyword">else</span> <a href="#678320" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]" id="678353">nvPairs</a> = <a href="#678350" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; (Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]))(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]),List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]])List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">map</span> <a href="#678408" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="678409">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="678415">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="678416">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="678417">sym</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#678344" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#678351" title="Typers.this.global.Scope">annScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61759" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#678415" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <a href="#678320" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="678427">p</a> =&gt; <a href="#678427" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#678415" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">getOrElse</span><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><a href="#678417" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678409" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;unknown annotation argument name: &quot;)" class="string">&quot;unknown annotation argument name: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#678415" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60623" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#678352" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a>.<span title="(elem: Typers.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#678417" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678409" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;duplicate value for annotation argument &quot;)" class="string">&quot;duplicate value for annotation argument &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#678415" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60623" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#678352" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <span title="(elem: Typers.this.global.Symbol)names.type">-=</span> <a href="#678417" title="Typers.this.global.Symbol">sym</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#678344" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#678417" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47935" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> // #3429
                  <span class="keyword">val</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="678457">annArg</a> = <a href="#678022" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#678416" title="Typers.this.global.Tree">rhs</a>, <a href="#678417" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.Name, _2: Option[Typers.this.global.ClassfileAnnotArg])(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">(</span><a href="#678417" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a>, <a href="#678457" title="Option[Typers.this.global.ClassfileAnnotArg]">annArg</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <a title="(Typers.this.global.nme.NameType, None.type)" id="678475">arg</a> =&gt;
                <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678475" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;classfile annotation arguments have to be supplied as named arguments&quot;)" class="string">&quot;classfile annotation arguments have to be supplied as named arguments&quot;</span><span class="delimiter">)</span>
                <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60623" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="678528">sym</a> &lt;- <a href="#678352" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">names</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // make sure the flags are up to date before erroring (jvm/t3415 fails otherwise)
              <a href="#678528" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; sym.type">initialize</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#678528" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46745" title="=&gt; Typers.this.global.Symbol">AnnotationDefaultAttr</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#678528" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span>
                <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#640779" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;annotation &quot;)" class="string">&quot;annotation &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#678322" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is missing argument &quot;)" class="string">&quot; is missing argument &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#678528" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#678019" title="Boolean">hasError</a><span class="delimiter">)</span> <a href="#678017" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/AnnotationInfos.scala.html#47273" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#678322" title="Typers.this.global.Type">annType</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#678353" title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">nvPairs</a> <span title="(f: ((Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])) =&gt; (Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])],(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg),List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]])List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]">map</span> <span class="delimiter">{</span><a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="678563">p</a> =&gt; <span title="(_1: Typers.this.global.Name, _2: Typers.this.global.ClassfileAnnotArg)(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)" class="delimiter">(</span><a href="#678563" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<span title="=&gt; Typers.this.global.Name">_1</span>, <a href="#678563" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<span title="=&gt; Option[Typers.this.global.ClassfileAnnotArg]">_2</span>.<span title="=&gt; Typers.this.global.ClassfileAnnotArg">get</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47253" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#640779" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#640788" title="Boolean">requireJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#640779" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;nested classfile annotations must be defined in java; found: &quot;)" class="string">&quot;nested classfile annotations must be defined in java; found: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#678322" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="678612">typedAnn</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#640786" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#640779" title="Typers.this.global.Tree">ann</a>, <a href="#640785" title="Int">mode</a>, <a href="#640787" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            // Since a selfsym is supplied, the annotation should have
            // an extra &quot;self&quot; identifier in scope for type checking.
            // This is implemented by wrapping the rhs
            // in a function like &quot;self =&gt; rhs&quot; during type checking,
            // and then stripping the &quot;self =&gt;&quot; and substituting
            // in the supplied selfsym.
            <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="678622">funcparm</a> = <a href="Analyzer.scala.html#183929" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40604" title="=&gt; Typers.this.global.Modifiers">NoMods</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60324" title="=&gt; Typers.this.global.nme.NameType">self</a>, <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#640786" title="Typers.this.global.Symbol">selfsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>, <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Function" id="678623">func</a> = <a href="Analyzer.scala.html#183929" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.ValDef*)List[Typers.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#678622" title="Typers.this.global.ValDef">funcparm</a><span class="delimiter">)</span>, <a href="#640779" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; ann.type">duplicate</span><span class="delimiter">)</span>
                                         // The .duplicate of annot.constr
                                         // deals with problems that
                                         // accur if this annotation is
                                         // later typed again, which
                                         // the compiler sometimes does.
                                         // The problem is that &quot;self&quot;
                                         // ident's within annot.constr
                                         // will retain the old symbol
                                         // from the previous typing.
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="678624">fun1clazz</a> = <a href="../../../reflect/internal/Definitions.scala.html#46529" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="678625">funcType</a> = <a href="../../../reflect/internal/Types.scala.html#40198" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#678624" title="Typers.this.global.Symbol">fun1clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Typers.this.global.Type">prefix</a>,
                                   <a href="#678624" title="Typers.this.global.Symbol">fun1clazz</a>,
                                   <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#640786" title="Typers.this.global.Symbol">selfsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>, <a href="#640787" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">(</span><a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#678623" title="Typers.this.global.Function">func</a>, <a href="#640785" title="Int">mode</a>, <a href="#678625" title="Typers.this.global.Type">funcType</a><span class="delimiter">)</span>: @<span title="Typers.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="678668">t</a> @ Function<span class="delimiter">(</span><a href="#678672" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="678683">arg</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="678684">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.TreeSymSubstituter" id="678685">subs</a> =
                  <span title="Typers.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40648" title="Typers.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#678683" title="Typers.this.global.ValDef">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>,<span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#640786" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Trees.scala.html#126028" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">subs</a><span class="delimiter">(</span><a href="#678684" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo" id="678613">annInfo</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678707">t</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#40591" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <a href="#678707" title="Typers.this.global.Tree">t</a> <span title="Typers.this.global.AnnotationInfo" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678719">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="678720">args</a><span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/internal/AnnotationInfos.scala.html#47273" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#678322" title="Typers.this.global.Type">annType</a>, <a href="#678720" title="List[Typers.this.global.Tree]">args</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47253" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#678707" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="678732">stats</a>, <a title="Typers.this.global.Tree" id="678733">expr</a><span class="delimiter">)</span> =&gt;
              <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184654" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#678707" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span class="string">&quot;Usage of named or default arguments transformed this annotation\n&quot;</span>+
                                <span class="string">&quot;constructor call into a block. The corresponding AnnotationInfo\n&quot;</span>+
                                <span class="string">&quot;will contain references to local values and default getters instead\n&quot;</span><span title="String(&quot;Usage of named or default arguments transformed this annotation\nconstructor call into a block. The corresponding AnnotationInfo\nwill contain references to local values and default getters instead\nof the actual argument trees&quot;)">+</span>
                                <span class="string">&quot;of the actual argument trees&quot;</span><span class="delimiter">)</span>
              <a href="#678613" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#678733" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="678738">fun</a>, <a title="List[Typers.this.global.Tree]" id="678739">args</a><span class="delimiter">)</span> =&gt;
              <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184654" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#678707" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span class="string">&quot;Implementation limitation: multiple argument lists on annotations are\n&quot;</span><span title="String(&quot;Implementation limitation: multiple argument lists on annotations are\ncurrently not supported; ignoring arguments &quot;)">+</span>
                                     <span class="string">&quot;currently not supported; ignoring arguments &quot;</span><span title="(x$1: Any)String">+</span> <a href="#678739" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#678613" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#678738" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">_</span> =&gt;
              <a href="#678020" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#678707" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;unexpected tree after typing annotation: &quot;)" class="string">&quot;unexpected tree after typing annotation: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#678612" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#678322" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46705" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#678026" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="(implicit asTraversable: List[Typers.this.global.Tree] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])List[Typers.this.global.Tree]">flatten</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185133" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#640779" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;@deprecated now takes two arguments; see the scaladoc.&quot;)" class="string">&quot;@deprecated now takes two arguments; see the scaladoc.&quot;</span><span class="delimiter">)</span>

          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#678612" title="Typers.this.global.Tree">typedAnn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#678612" title="Typers.this.global.Tree">typedAnn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#678017" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
          <span class="keyword">else</span> <a href="#678613" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#678612" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="184415">isRawParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="678793">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = // is it a type parameter leaked by a raw type?
      <a href="#678793" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47781" title="=&gt; Boolean">isTypeParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#678793" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a>

    /** Given a set `rawSyms` of term- and type-symbols, and a type
     *  `tp`, produce a set of fresh type parameters and a type so that
     *  it can be abstracted to an existential type. Every type symbol
     *  `T` in `rawSyms` is mapped to a clone. Every term symbol `x` of
     *  type `T` in `rawSyms` is given an associated type symbol of the
     *  following form:
     *
     *    type x.type &lt;: T with Singleton
     *
     *  The name of the type parameter is `x.type`, to produce nice
     *  diagnostics. The Singleton parent ensures that the type
     *  parameter is still seen as a stable type. Type symbols in
     *  rawSyms are fully replaced by the new symbols. Term symbols are
     *  also replaced, except for term symbols of an Ident tree, where
     *  only the type of the Ident is changed.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; T)T" id="184416">existentialTransform</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="184418">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="678796">rawSyms</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="678797">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; T" id="678798">creator</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="#184418" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="678801">typeParams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#678796" title="List[Typers.this.global.Symbol]">rawSyms</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="678820">sym</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.TypeName" id="678821">name</a> = <a href="#678820" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="Typers.this.global.TypeName" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="678825">x</a>: <a href="../../../reflect/internal/Names.scala.html#39686" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#678825" title="Typers.this.global.TypeName">x</a>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="678826">x</a>            =&gt; <a href="../../../reflect/internal/Names.scala.html#39671" title="(s: String)Typers.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><a href="#678826" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">x</a> <span title="(other: String)String">+</span> <span title="String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="678822">bound</a>      = <a href="#678820" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47944" title="=&gt; Typers.this.global.Type">existentialBound</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="678823">sowner</a>     = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#184415" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#678820" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#678820" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="678824">quantified</a> = <a href="#678823" title="Typers.this.global.Symbol">sowner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47729" title="(name: Typers.this.global.TypeName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.Symbol">newExistential</a><span class="delimiter">(</span><a href="#678821" title="Typers.this.global.TypeName">name</a>, <a href="#678820" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>

        <a href="#678824" title="Typers.this.global.Symbol">quantified</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)quantified.type">setInfo</a> <a href="#678822" title="Typers.this.global.Type">bound</a>.<a href="../../../reflect/internal/Types.scala.html#42807" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#678824" title="Typers.this.global.Symbol">quantified</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      // Higher-kinded existentials are not yet supported, but this is
      // tpeHK for when they are: &quot;if a type constructor is expected/allowed,
      // tpeHK must be called instead of tpe.&quot;
      <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="678802">typeParamTypes</a> = <a href="#678801" title="List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#678890" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47919" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(info: Typers.this.global.Type)Typers.this.global.Type" id="678803">doSubst</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="678918">info</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#678918" title="Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42782" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#678796" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#678802" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span>

      <a href="#678798" title="(v1: List[Typers.this.global.Symbol], v2: Typers.this.global.Type)T">creator</a><span class="delimiter">(</span><a href="#678801" title="List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#678935" title="Typers.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47923" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)x$75.type">modifyInfo</a> <a href="#678803" title="(info: Typers.this.global.Type)Typers.this.global.Type">doSubst</a><span class="delimiter">)</span>, <a href="#678803" title="(info: Typers.this.global.Type)Typers.this.global.Type">doSubst</a><span class="delimiter">(</span><a href="#678797" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Compute an existential type from raw hidden symbols `syms` and type `tp`
     */
    <span class="keyword">def</span> <a title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type" id="184419">packSymbols</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="670987">hidden</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="670988">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> =
      <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#670987" title="List[Typers.this.global.Symbol]">hidden</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#670988" title="Typers.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="#184416" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; Typers.this.global.Type)Typers.this.global.Type">existentialTransform</a><span class="delimiter">(</span><a href="#670987" title="List[Typers.this.global.Symbol]">hidden</a>, <a href="#670988" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40208" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="184420">isCapturedExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="678980">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#678980" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47906" title="(mask: Long)Boolean">hasAllFlags</a> <span class="delimiter">(</span>EXISTENTIAL <span title="Long(34359803904L)">|</span> CAPTURED<span class="delimiter">)</span>  // todo refine this

    <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Typers.this.global.Type" id="184421">packCaptured</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="678987">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Typers.this.global.Symbol]" id="678989">captured</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.mutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="678994">tp</a> &lt;- <a href="../../../reflect/internal/Types.scala.html#42790" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184420" title="(sym: Typers.this.global.Symbol)Boolean">isCapturedExistential</a><span class="delimiter">(</span><a href="#678994" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#678989" title="scala.collection.mutable.Set[Typers.this.global.Symbol]">captured</a> <span title="(elem: Typers.this.global.Symbol)captured.type">+=</span> <a href="#678994" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
      <a href="../../../reflect/internal/Types.scala.html#40208" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#678989" title="scala.collection.mutable.Set[Typers.this.global.Symbol]">captured</a>.<span title="=&gt; List[Typers.this.global.Symbol]">toList</span>, <a href="#678987" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** convert skolems to existentials */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type" id="184422">packedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="277399">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="277400">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean" id="679003">defines</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679013">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="679014">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#679014" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47812" title="=&gt; Boolean">isExistentialSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#679014" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48026" title="=&gt; AnyRef">unpackLocation</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#679013" title="Typers.this.global.Tree">tree</a> <span title="(x: Boolean)Boolean">||</span>
        <a href="#679013" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#679013" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#679014" title="Typers.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="679004">isVisibleParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="679025">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#679025" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48095" title="=&gt; Boolean">isParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#679025" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#277400" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#679025" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47756" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#277400" title="Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47816" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean" id="679005">containsDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="679031">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="679032">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#679032" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48109" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="679033">o</a> = <a href="#679032" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#679033" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#679031" title="Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#679033" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#679033" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48109" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <a href="#679033" title="Typers.this.global.Symbol">o</a> = <a href="#679033" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>
          <a href="#679033" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#679031" title="Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#679004" title="(sym: Typers.this.global.Symbol)Boolean">isVisibleParameter</a><span class="delimiter">(</span><a href="#679032" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="679006">localSyms</a> = collection.immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="679007">boundSyms</a> = collection.immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="679008">isLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="679053">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#679053" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#679053" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47779" title="=&gt; Boolean">isRefinementClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#679053" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47800" title="=&gt; Boolean">isLocalDummy</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#277400" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#277399" title="Typers.this.global.Tree">tree</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#679003" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean">defines</a><span class="delimiter">(</span><a href="#679064" title="Typers.this.global.Tree">_</a>, <a href="#679053" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#679005" title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean">containsDef</a><span class="delimiter">(</span><a href="#277400" title="Typers.this.global.Symbol">owner</a>, <a href="#679053" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#184415" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#679053" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#184420" title="(sym: Typers.this.global.Symbol)Boolean">isCapturedExistential</a><span class="delimiter">(</span><a href="#679053" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Boolean" id="679009">containsLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="679065">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#679065" title="Typers.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#42792" title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="679069">t</a> =&gt; <a href="#679008" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#679069" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#679008" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#679069" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42727" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.TypeMap" id="679010">normalizeLocals</a> = <a href="#679070" title="Typers.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40242" title="anonymous class $anon extends Typers.this.global.TypeMap" id="679070">TypeMap</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="679072">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="679073">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <a href="#679073" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="679082">pre</a>, <a title="Typers.this.global.Symbol" id="679083">sym</a>, <a title="List[Typers.this.global.Type]" id="679084">args</a><span class="delimiter">)</span> =&gt;
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#679083" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#679009" title="(tp: Typers.this.global.Type)Boolean">containsLocal</a><span class="delimiter">(</span><a href="#679073" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#679072" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#679073" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#679082" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42716" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184653" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#277399" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;Inferred type &quot;)" class="string">&quot;Inferred type &quot;</span><span title="(x$1: Any)String">+</span><a href="#277399" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)String">+</span><span title="String(&quot; contains type selection from volatile type &quot;)" class="string">&quot; contains type selection from volatile type &quot;</span><span title="(x$1: Any)String">+</span><a href="#679082" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#679073" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#679073" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      // add all local symbols of `tp` to `localSyms`
      // TODO: expand higher-kinded types into individual copies for each instance.
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Unit" id="679011">addLocals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="679126">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="679127">remainingSyms</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit" id="679128">addIfLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="679129">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="679130">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#679008" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#679129" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#679006" title="(elem: Typers.this.global.Symbol)Boolean">localSyms</a><span class="delimiter">(</span><a href="#679129" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#679007" title="(elem: Typers.this.global.Symbol)Boolean">boundSyms</a><span class="delimiter">(</span><a href="#679129" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#679129" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#679006" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a> <span title="(elem: Typers.this.global.Symbol)scala.collection.immutable.Set[Typers.this.global.Symbol]">+=</span> <a href="#679129" title="Typers.this.global.Symbol">sym</a>
              <a href="#679127" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">remainingSyms</a> <span title="(x: Typers.this.global.Symbol)remainingSyms.type">+=</span> <a href="#679129" title="Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#277399" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                <span title="String(&quot;can\'t existentially abstract over parameterized type &quot;)" class="string">&quot;can't existentially abstract over parameterized type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#679130" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="679181">t</a> &lt;- <a href="../../../reflect/internal/Types.scala.html#42790" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#679181" title="Typers.this.global.Type">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="679184">tparams</a>, _<span class="delimiter">)</span> =&gt;
              <a href="#679007" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">boundSyms</a> <span title="(elems: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])scala.collection.immutable.Set[Typers.this.global.Symbol]">++=</span> <a href="#679184" title="List[Typers.this.global.Symbol]">tparams</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="679242">annots</a>, _, _<span class="delimiter">)</span> =&gt;
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="679262">annot</a> &lt;- <a href="#679242" title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit">annots</a>; <a title="Typers.this.global.Tree" id="679284">arg</a> &lt;- <a href="#679262" title="Typers.this.global.AnnotationInfo">annot</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47240" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#679284" title="Typers.this.global.Tree">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                    // Check the symbol of an Ident, unless the
                    // Ident's type is already over an existential.
                    // (If the type is already over an existential,
                    // then remap the type, not the core symbol.)
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#679284" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <a href="#679128" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#679284" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#679284" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
          <a href="#679128" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#679181" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42727" title="=&gt; Typers.this.global.Symbol">termSymbol</a>, <a href="#679181" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
          <a href="#679128" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#679181" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#679181" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="679311">sym</a> &lt;- <a href="#679127" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">remainingSyms</a><span class="delimiter">)</span> <a href="#679011" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#679311" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47944" title="=&gt; Typers.this.global.Type">existentialBound</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="679012">normalizedTpe</a> = <a href="../../../reflect/internal/Types.scala.html#82351" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalizeLocals</a><span class="delimiter">(</span><a href="#277399" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <a href="#679011" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#679012" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
      <a href="#184419" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#679006" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a>.<span title="=&gt; List[Typers.this.global.Symbol]">toList</span>, <a href="#679012" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Replace type parameters with their TypeSkolems, which can later
     *  be deskolemized to the original type param. (A skolem is a
     *  representation of a bound variable when viewed inside its scope)
     *  !!!Adriaan: this does not work for hk types.
     */
    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.TypeDef]" id="184423">skolemizeTypeParams</a><span class="delimiter">(</span><a title="List[Typers.this.global.TypeDef]" id="612556">tparams</a>: <span title="List[Typers.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">class</span> <a title="class Deskolemizer extends Typers.this.global.LazyType with ScalaObject" id="679325">Deskolemizer</a> <a href="#679325" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#40190" title="Typers.this.global.LazyType">LazyType</a> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="679327">typeParams</a> = <a href="#612556" title="List[Typers.this.global.TypeDef]">tparams</a> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.TypeDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#679350" title="Typers.this.global.TypeDef">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="679329">typeSkolems</a>  = <a href="#679327" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#679394" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47733" title="=&gt; Typers.this.global.Symbol">newTypeSkolem</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#679325" title="Deskolemizer" class="keyword">this</a><span class="delimiter">)</span>
        // Replace the symbols
        <span class="keyword">def</span> <a title="()List[Typers.this.global.TypeDef]" id="679331">substitute</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[Typers.this.global.TypeDef], xs2: List[Typers.this.global.Symbol])(f: (Typers.this.global.TypeDef, Typers.this.global.Symbol) =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">map2</a><span class="delimiter">(</span><a href="#612556" title="List[Typers.this.global.TypeDef]">tparams</a>, <a href="#679329" title="=&gt; List[Typers.this.global.Symbol]">typeSkolems</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#679472" title="Typers.this.global.TypeDef">_</a> <span title="(sym: Typers.this.global.Symbol)x$79.type">setSymbol</span> <a href="#679473" title="Typers.this.global.Symbol">_</a><span class="delimiter">)</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="679332">complete</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="679480">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // The info of a skolem is the skolemized info of the
          // actual type parameter of the skolem
          <a href="#679480" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)sym.type">setInfo</a> <a href="#679480" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42783" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#679327" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#679329" title="=&gt; List[Typers.this.global.Symbol]">typeSkolems</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="delimiter">(</span><span title="Deskolemizer" class="keyword">new</span> <a href="#679325" title="Deskolemizer">Deskolemizer</a><span class="delimiter">)</span>.<a href="#679331" title="()List[Typers.this.global.TypeDef]">substitute</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    /** Convert to corresponding type parameters all skolems of method
     *  parameters which appear in `tparams`.
     */
    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.Symbol])(tp: Typers.this.global.Type)Typers.this.global.Type" id="184424">deskolemizeTypeParams</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="640999">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="641000">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">class</span> <a title="class DeSkolemizeMap extends Typers.this.global.TypeMap with ScalaObject" id="679489">DeSkolemizeMap</a> <a href="#679489" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#40242" title="Typers.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="679491">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="679493">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <a href="#679493" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="679501">pre</a>, <a title="Typers.this.global.Symbol" id="679502">sym</a>, <a title="List[Typers.this.global.Type]" id="679503">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#679502" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47811" title="=&gt; Boolean">isTypeSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#640999" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#679502" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; Typers.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40198" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40099" title="object Typers.this.global.NoPrefix">NoPrefix</a>, <a href="#679502" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>, <a href="#679503" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#679493" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="DeSkolemizeMap" class="keyword">new</span> <a href="#679489" title="DeSkolemizeMap">DeSkolemizeMap</a> <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a> <a href="#641000" title="Typers.this.global.Type">tp</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.gen.global.Tree" id="184425">typedClassOf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679540">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="679541">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#184338" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#679541" title="Typers.this.global.Tree">tpt</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#679540" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92648" title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkClassOf</a><span class="delimiter">(</span><a href="#679541" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree" id="184426">typedExistentialTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.ExistentialTypeTree" id="679551">tree</a>: <span title="Typers.this.global.ExistentialTypeTree">ExistentialTypeTree</span>, <a title="Int" id="679552">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679575">wc</a> &lt;- <a href="#679551" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)Unit">whereClauses</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#679575" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619520" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#679575" title="Typers.this.global.Tree">wc</a><span class="delimiter">)</span>; <a href="#679575" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(34359738368L)">EXISTENTIAL</span> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#679575" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="679554">whereClauses1</a> = <a href="#184406" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#679551" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; List[Typers.this.global.Tree]">whereClauses</span>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="679619">vd</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> &lt;- <a href="#679551" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="#679589" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">whereClauses</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#679619" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42716" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#679619" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;illegal abstraction from value with volatile type &quot;)" class="string">&quot;illegal abstraction from value with volatile type &quot;</span><span title="(x$1: Any)String">+</span><a href="#679619" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="679555">tpt1</a> = <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#679551" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>, <a href="#679552" title="Int">mode</a><span class="delimiter">)</span>
      <a href="#184416" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTree">existentialTransform</a><span class="delimiter">(</span><a href="#679551" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; List[Typers.this.global.Tree]">whereClauses</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#679652" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>, <a href="#679555" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="679682">tparams</a>, <a title="Typers.this.global.Type" id="679683">tp</a><span class="delimiter">)</span> =&gt;
        <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40155" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.Type">newExistentialType</a><span class="delimiter">(</span><a href="#679682" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#679683" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#679551" title="Typers.this.global.ExistentialTypeTree">tree</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // lifted out of typed1 because it's needed in typedImplicit0
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="184427">typedTypeApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="625778">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="625779">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Tree" id="625780">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="625781">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#625780" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="679692">pre</a>, <a title="List[Typers.this.global.Symbol]" id="679693">alts</a><span class="delimiter">)</span> =&gt;
        <a href="Infer.scala.html#184534" title="(tree: Typers.this.global.Tree, argtypes: List[Typers.this.global.Type])Unit">inferPolyAlternatives</a><span class="delimiter">(</span><a href="#625780" title="Typers.this.global.Tree">fun</a>, <a href="#625781" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#679714" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="679694">tparams</a> = <a href="#625780" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> //@M TODO: fun.symbol.info.typeParams ? (as in typedAppliedTypeTree)
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="679695">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#625781" title="List[Typers.this.global.Tree]">args</a>, <a href="#679694" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          //@M: in case TypeApply we can't check the kind-arities of the type arguments,
          // as we don't know which alternative to choose... here we do
          <a href="../../../reflect/internal/Types.scala.html#40336" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#625781" title="List[Typers.this.global.Tree]">args</a>, <a href="#679694" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //@M! the polytype denotes the expected kind
            <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679777">arg</a>, <a title="Typers.this.global.Symbol" id="679778">tparam</a><span class="delimiter">)</span> =&gt; <a href="#184446" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#679777" title="Typers.this.global.Tree">arg</a>, <a href="#625779" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#40205" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#679778" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> // @M: there's probably something wrong when args.length != tparams.length... (triggered by bug #320)
         // Martin, I'm using fake trees, because, if you use args or arg.map(typedType),
         // inferPolyAlternatives loops...  -- I have no idea why :-(
         // ...actually this was looping anyway, see bug #278.
          <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#625780" title="Typers.this.global.Tree">fun</a>, <span title="String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span><span title="(x$1: Any)String">+</span><a href="TypeDiagnostics.scala.html#184274" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#625780" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#184427" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>, <a href="#625779" title="Int">mode</a>, <a href="#625780" title="Typers.this.global.Tree">fun</a>, <a href="#679695" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
        <a href="#184427" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>, <a href="#625779" title="Int">mode</a>, <a href="#625780" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)fun.type">setType</span> <a href="#625780" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#625781" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="679799">tparams</a>, <a title="Typers.this.global.Type" id="679800">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#679799" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#679799" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#625781" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="679803">targs</a> = <a href="#625781" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#679814" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#184501" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../../../reflect/internal/Types.scala.html#40099" title="object Typers.this.global.NoPrefix">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#679799" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#679803" title="List[Typers.this.global.Type]">targs</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#625780" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46338" title="=&gt; Typers.this.global.Symbol">Predef_classOf</a><span class="delimiter">)</span>
            <a href="#184425" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.gen.global.Tree">typedClassOf</a><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>, <a href="#625781" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#625780" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46599" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#679803" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#184512" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#679803" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Typers.this.global.Type">head</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="679853">resultpe</a> = <a href="#679800" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#679799" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#679803" title="List[Typers.this.global.Type]">targs</a><span class="delimiter">)</span>
            //@M substitution in instantiateParams needs to be careful!
            //@M example: class Foo[a] { def foo[m[x]]: m[a] = error(&quot;&quot;) } (new Foo[Int]).foo[List] : List[Int]
            //@M    --&gt; first, m[a] gets changed to m[Int], then m gets substituted for List,
            //          this must preserve m's type argument, so that we end up with List[Int], and not List[a]
            //@M related bug: #1438
            //println(&quot;instantiating type params &quot;+restpe+&quot; &quot;+tparams+&quot; &quot;+targs+&quot; = &quot;+resultpe)
            <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</span><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>, <a href="#625780" title="Typers.this.global.Tree">fun</a>, <a href="#625781" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeApply">setType</span> <a href="#679853" title="Typers.this.global.Type">resultpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>, <span title="String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span><span title="(x$1: Any)String">+</span><a href="TypeDiagnostics.scala.html#184274" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#625780" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="Typers.this.global.TypeApply">ErrorType</a> =&gt;
        <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.TypeApply)Typers.this.global.TypeApply">setError</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</span><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>, <a href="#625780" title="Typers.this.global.Tree">fun</a>, <a href="#625781" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
        <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#625778" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#184274" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#625780" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot; does not take type parameters.&quot;)" class="string">&quot; does not take type parameters.&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="184428">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184625" title="(x$1: Int)Unit">typingIndentLevel</a> <span title="(x: Int)Int">-=</span> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="184429">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184625" title="(x$1: Int)Unit">typingIndentLevel</a> <span title="(x: Int)Int">+=</span> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="184430">printTyping</a><span class="delimiter">(</span><a title="=&gt; String" id="623416">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182928" title="=&gt; Boolean">printTypings</a><span class="delimiter">)</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184627" title="=&gt; String">typingIndent</a> <span title="(x$1: Any)String">+</span> <a href="#623416" title="=&gt; String">s</a>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184627" title="=&gt; String">typingIndent</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="184431">printInference</a><span class="delimiter">(</span><a title="=&gt; String" id="623405">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182931" title="=&gt; Boolean">printInfers</a><span class="delimiter">)</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#623405" title="=&gt; String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184432">typed1</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586627">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="586628">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="586629">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="679873">isPatternMode</a> = <a href="Modes.scala.html#184040" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#586628" title="Int">mode</a><span class="delimiter">)</span>

      //Console.println(&quot;typed1(&quot;+tree.getClass()+&quot;,&quot;+Integer.toHexString(mode)+&quot;,&quot;+pt+&quot;)&quot;)
      <span class="keyword">def</span> <a title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)" id="679874">ptOrLub</a><span class="delimiter">(</span><a title="List[Typers.this.global.Type]" id="679898">tps</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(Typers.this.global.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(_1: Typers.this.global.Type, _2: Boolean)(Typers.this.global.Type, Boolean)" class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#40355" title="(ts: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">weakLub</a><span class="delimiter">(</span><a href="#679898" title="List[Typers.this.global.Type]">tps</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#679922" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42733" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>

      //@M! get the type of the qualifier in a Select tree, otherwise: NoType
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Type" id="679875">prefixType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679950">fun</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <a href="#679950" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679955">qualifier</a>, _<span class="delimiter">)</span> =&gt; <a href="#679955" title="Typers.this.global.Tree">qualifier</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
//        case Ident(name) =&gt; ??
        <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree" id="679876">typedAnnotated</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679956">ann</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="679957">arg1</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        /** mode for typing the annotation itself */
        <span class="keyword">val</span> <a title="Int" id="679958">annotMode</a> = <a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(4)">TYPEmode</span> <span title="(x: Int)Int">|</span> <span title="Int(1)">EXPRmode</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#679957" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // make sure the annotation is only typechecked once
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#679956" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // an annotated type
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="679972">selfsym</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183482" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">selfInAnnots</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">else</span>
                <a href="#679957" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42828" title="=&gt; Typers.this.global.Symbol">selfsym</a> <a href="../../../reflect/internal/Symbols.scala.html#48033" title="(alt: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">orElse</a> <span class="delimiter">{</span>
                  /* Implementation limitation: Currently this
                   * can cause cyclical reference errors even
                   * when the self symbol is not referenced at all.
                   * Surely at least some of these cases can be
                   * fixed by proper use of LazyType's.  Lex tinkered
                   * on this but did not succeed, so is leaving
                   * it alone for now. Example code with the problem:
                   *  class peer extends Annotation
                   *  class NPE[T &lt;: NPE[T] @peer]
                   *
                   * (Note: -Yself-in-annots must be on to see the problem)
                   * */
                  <span class="delimiter">(</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>
                      <a href="../../../reflect/internal/Symbols.scala.html#47701" title="Typers.this.global.TermSymbol" id="679989">newLocalDummy</a> <span class="delimiter">(</span><a href="#679956" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
                      <a href="../../../reflect/internal/Symbols.scala.html#72659" title="Long" id="679992">newValue</a> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60324" title="Typers.this.global.nme.NameType" id="679990">self</a>, <a href="#679956" title="Typers.this.global.Tree">ann</a>.<a title="Typers.this.global.Position" id="679991">pos</a><span class="delimiter">)</span>
                      <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <span class="delimiter">(</span><a href="#679957" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42822" title="=&gt; Typers.this.global.Type">withoutAnnotations</a><span class="delimiter">)</span>
                  <span class="delimiter">)</span>
                <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="679973">ainfo</a> = <a href="#184414" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#679956" title="Typers.this.global.Tree">ann</a>, <a href="#679958" title="Int">annotMode</a>, <a href="#679972" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="679974">atype0</a> = <a href="#679957" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46231" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#679973" title="Typers.this.global.AnnotationInfo">ainfo</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="679975">atype</a> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#679972" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#679973" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47261" title="(sym: Typers.this.global.Symbol)Boolean">refsSymbol</a><span class="delimiter">(</span><a href="#679972" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#679974" title="Typers.this.global.Type">atype0</a>.<a href="../../../reflect/internal/Types.scala.html#42827" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">withSelfsym</a><span class="delimiter">(</span><a href="#679972" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#679974" title="Typers.this.global.Type">atype0</a> // do not record selfsym if
                       // this annotation did not need it

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#679973" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#47259" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#679957" title="Typers.this.global.Tree">arg1</a>  // simply drop erroneous annotations
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#679956" title="Typers.this.global.Tree">ann</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#679975" title="Typers.this.global.Type">atype</a>
              <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#679975" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            // the annotation was typechecked before
            <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#679956" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#679956" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="680015">annotInfo</a> = <a href="#184414" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#679956" title="Typers.this.global.Tree">ann</a>, <a href="#679958" title="Int">annotMode</a><span class="delimiter">)</span>
            <a href="#679956" title="Typers.this.global.Tree">ann</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#679957" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46231" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#680015" title="Typers.this.global.AnnotationInfo">annotInfo</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="680009">atype</a> = <a href="#679956" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="Analyzer.scala.html#183929" title="(expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#679957" title="Typers.this.global.Tree">arg1</a>, <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#680009" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Typed">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#680009" title="Typers.this.global.Type">atype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree" id="679877">typedBind</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="680033">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Tree" id="680034">body</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="680035">vble</a> = <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TypeName)Typers.this.global.Tree" id="680036">typedBindType</a><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="680038">name</a>: <a href="../../../reflect/internal/Names.scala.html#39686" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#680034" title="Typers.this.global.Tree">body</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">unit</a> <span title="(other: String)String">+</span> <span title="String(&quot; typedBind: &quot;)" class="string">&quot; typedBind: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#680038" title="Typers.this.global.TypeName">name</a>.<a href="../../../reflect/internal/Names.scala.html#53464" title="=&gt; String">debugString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#680034" title="Typers.this.global.Tree">body</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#680034" title="Typers.this.global.Tree">body</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680035" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#680035" title="Typers.this.global.Symbol">vble</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="Typers.this.global.Symbol" id="680064">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#75651" title="Long" id="680067">newAliasType</a><span class="delimiter">(</span><a href="#680038" title="Typers.this.global.TypeName" id="680065">name</a>, <a href="#586627" title="Typers.this.global.Tree">tree</a>.<a title="Typers.this.global.Position" id="680066">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#586629" title="Typers.this.global.Type">pt</a>
              <span class="keyword">else</span>
                <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="Typers.this.global.Symbol" id="680080">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#75714" title="Long" id="680083">newAbstractType</a><span class="delimiter">(</span><a href="#680038" title="Typers.this.global.TypeName" id="680081">name</a>, <a href="#586627" title="Typers.this.global.Tree">tree</a>.<a title="Typers.this.global.Position" id="680082">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#40114" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#66835" title="=&gt; Typers.this.global.TypeBounds">empty</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="680039">rawInfo</a> = <a href="#680035" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#47930" title="=&gt; Typers.this.global.Type">rawInfo</a>
          <a href="#680035" title="Typers.this.global.Symbol">vble</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#680035" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#680035" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
                 <span class="keyword">else</span> <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619518" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#680035" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#680035" title="Typers.this.global.Symbol">vble</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#680035" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TermName)Typers.this.global.Bind" id="680037">typedBindTerm</a><span class="delimiter">(</span><a title="Typers.this.global.TermName" id="680096">name</a>: <a href="../../../reflect/internal/Names.scala.html#39685" title="Typers.this.global.TermName">TermName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680035" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#680035" title="Typers.this.global.Symbol">vble</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="Typers.this.global.Symbol" id="680112">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#72659" title="Long" id="680115">newValue</a><span class="delimiter">(</span><a href="#680096" title="Typers.this.global.TermName" id="680113">name</a>, <a href="#586627" title="Typers.this.global.Tree">tree</a>.<a title="Typers.this.global.Position" id="680114">pos</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680035" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53412" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(8192)">ALTmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;illegal variable in pattern alternative&quot;)" class="string">&quot;illegal variable in pattern alternative&quot;</span><span class="delimiter">)</span>
            <a href="#680035" title="Typers.this.global.Symbol">vble</a> = <a href="#184330" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#619518" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#680035" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="680097">body1</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680034" title="Typers.this.global.Tree">body</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#680035" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118954" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSequenceValued</a><span class="delimiter">(</span><a href="#680034" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46560" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#680097" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#680097" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Bind">Bind</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#680096" title="Typers.this.global.TermName">name</a>, <a href="#680097" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Bind">setSymbol</span> <a href="#680035" title="Typers.this.global.Symbol">vble</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Bind">setType</span> <a href="#680097" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>   // burak, was: pt
        <span class="delimiter">}</span>
        <a href="#680033" title="Typers.this.global.Name">name</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="680149">x</a>: <a href="../../../reflect/internal/Names.scala.html#39686" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#680036" title="(name: Typers.this.global.TypeName)Typers.this.global.Tree">typedBindType</a><span class="delimiter">(</span><a href="#680149" title="Typers.this.global.TypeName">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Bind" id="680150">x</a>: <a href="../../../reflect/internal/Names.scala.html#39685" title="Typers.this.global.TermName">TermName</a>  =&gt; <a href="#680037" title="(name: Typers.this.global.TermName)Typers.this.global.Bind">typedBindTerm</a><span class="delimiter">(</span><a href="#680150" title="Typers.this.global.TermName">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue" id="679878">typedArrayValue</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680151">elemtpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="680152">elems</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="680153">elemtpt1</a> = <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#680151" title="Typers.this.global.Tree">elemtpt</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="680154">elems1</a> = <a href="#680152" title="List[Typers.this.global.Tree]">elems</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680165">elem</a> =&gt; <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680165" title="Typers.this.global.Tree">elem</a>, <a href="#586628" title="Int">mode</a>, <a href="#680153" title="Typers.this.global.Tree">elemtpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, elemtpt: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">ArrayValue</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#680153" title="Typers.this.global.Tree">elemtpt1</a>, <a href="#680154" title="List[Typers.this.global.Tree]">elems1</a><span class="delimiter">)</span>
          .<span title="(tp: Typers.this.global.Type)Typers.this.global.ArrayValue">setType</span><span class="delimiter">(</span>
            <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#586629" title="Typers.this.global.Type">pt</a>
             <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#680153" title="Typers.this.global.Tree">elemtpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42754" title="=&gt; Typers.this.global.Type">notNull</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree" id="679879">typedAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680184">lhs</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="680185">rhs</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="680186">lhs1</a>    = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680184" title="Typers.this.global.Tree">lhs</a>, EXPRmode <span title="Int(1025)">|</span> LHSmode, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="680187">varsym</a>  = <a href="#680186" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="680188">failMsg</a> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#680187" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#680187" title="Typers.this.global.Symbol">varsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span title="String(&quot;reassignment to val&quot;)" class="string">&quot;reassignment to val&quot;</span>
          <span class="keyword">else</span> <span title="String(&quot;assignment to non variable&quot;)" class="string">&quot;assignment to non variable&quot;</span>

        <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="680189">fail</a> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#680186" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#680188" title="=&gt; String">failMsg</a><span class="delimiter">)</span>

          <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680187" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#680189" title="=&gt; Typers.this.global.Tree">fail</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118923" title="(sym: Typers.this.global.treeInfo.global.Symbol)Boolean">mayBeVarGetter</a><span class="delimiter">(</span><a href="#680187" title="Typers.this.global.Symbol">varsym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118957" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">methPart</a><span class="delimiter">(</span><a href="#680186" title="Typers.this.global.Tree">lhs1</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Nothing">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680215">qual</a>, <a title="Typers.this.global.Name" id="680216">name</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="680217">sel</a> = <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#680215" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60690" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#680216" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53412" title="=&gt; Typers.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#680184" title="Typers.this.global.Tree">lhs</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="680218">app</a> = <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#680217" title="Typers.this.global.Select">sel</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#680185" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
              <span title="Nothing" class="keyword">return</span> <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680218" title="Typers.this.global.Apply">app</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#680187" title="Typers.this.global.Symbol">varsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">||</span> <a href="#680187" title="Typers.this.global.Symbol">varsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="680277">rhs1</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680185" title="Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#680186" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#680186" title="Typers.this.global.Tree">lhs1</a>, <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#680277" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Assign">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#680189" title="=&gt; Typers.this.global.Tree">fail</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If" id="679880">typedIf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680292">cond</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="680293">thenp</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="680294">elsep</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="680295">cond1</a> = <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680292" title="Typers.this.global.Tree">cond</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Definitions.scala.html#46850" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.If" class="keyword">if</span> <span class="delimiter">(</span><a href="#680294" title="Typers.this.global.Tree">elsep</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // in the future, should be unnecessary
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="680304">thenp1</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680293" title="Typers.this.global.Tree">thenp</a>, <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#680295" title="Typers.this.global.Tree">cond1</a>, <a href="#680304" title="Typers.this.global.Tree">thenp1</a>, <a href="#680294" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</span> <a href="#680304" title="Typers.this.global.Tree">thenp1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="680316">thenp1</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680293" title="Typers.this.global.Tree">thenp</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="680317">elsep1</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680294" title="Typers.this.global.Tree">elsep</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#680319" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#680318" title="Typers.this.global.Type" id="680319">owntype</a>, <a href="#680318" title="Boolean" id="680320">needAdapt</a><span class="delimiter">)</span> = <a href="#679874" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#680316" title="Typers.this.global.Tree">thenp1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#680317" title="Typers.this.global.Tree">elsep1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680320" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span> //isNumericValueType(owntype)) {
            <a href="#680316" title="Typers.this.global.Tree">thenp1</a> = <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#680316" title="Typers.this.global.Tree">thenp1</a>, <a href="#586628" title="Int">mode</a>, <a href="#680319" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#680317" title="Typers.this.global.Tree">elsep1</a> = <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#680317" title="Typers.this.global.Tree">elsep1</a>, <a href="#586628" title="Int">mode</a>, <a href="#680319" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#680295" title="Typers.this.global.Tree">cond1</a>, <a href="#680316" title="Typers.this.global.Tree">thenp1</a>, <a href="#680317" title="Typers.this.global.Tree">elsep1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</span> <a href="#680319" title="Typers.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Tree" id="679881">typedMatch</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680346">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="680347">selector</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.CaseDef]" id="680348">cases</a>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#680347" title="Typers.this.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="680353">arity</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46557" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#586629" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="680354">params</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="680404">i</a> &lt;- <span title="object List">List</span>.<span title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</span><span title="(f: Int =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]" class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#680353" title="Int">arity</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
            <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ValDef)Typers.this.global.ValDef">atPos</a><span class="delimiter">(</span><a href="#680346" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183805" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="Analyzer.scala.html#183929" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40602" title="(flags: Long)Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span>PARAM <span title="Long(2105344L)">|</span> SYNTHETIC<span class="delimiter">)</span>,
                     <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185112" title="(prefix: String)Typers.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;x&quot;)" class="string">&quot;x&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#680404" title="Int">i</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#183929" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Ident]" id="680355">ids</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="680491">p</a> &lt;- <a href="#680354" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Ident,List[Typers.this.global.Ident]])List[Typers.this.global.Ident]">params</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="Analyzer.scala.html#183929" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#680491" title="Typers.this.global.ValDef">p</a>.<span title="=&gt; Typers.this.global.TermName">name</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="680356">selector1</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#680346" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183805" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#680353" title="Int">arity</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#680355" title="List[Typers.this.global.Ident]">ids</a>.<span title="=&gt; Typers.this.global.Ident">head</span> <span class="keyword">else</span> <a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92653" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#680355" title="List[Typers.this.global.Ident]">ids</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Match" id="680357">body</a> = <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</span><span class="delimiter">(</span><a href="#680346" title="Typers.this.global.Tree">tree</a>, <a href="#680356" title="Typers.this.global.gen.global.Tree">selector1</a>, <a href="#680348" title="List[Typers.this.global.CaseDef]">cases</a><span class="delimiter">)</span>
          <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Function)Typers.this.global.Function">atPos</a><span class="delimiter">(</span><a href="#680346" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="Analyzer.scala.html#183929" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#680354" title="List[Typers.this.global.ValDef]">params</a>, <a href="#680357" title="Typers.this.global.Match">body</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="680553">selector1</a> = <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680347" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="680554">cases1</a> = <a href="#184400" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#680346" title="Typers.this.global.Tree">tree</a>, <a href="#680348" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#184421" title="(tpe: Typers.this.global.Type)Typers.this.global.Type">packCaptured</a><span class="delimiter">(</span><a href="#680553" title="Typers.this.global.Tree">selector1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#182909" title="object Typers.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#229290" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#680564" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#680563" title="Typers.this.global.Type" id="680564">owntype</a>, <a href="#680563" title="Boolean" id="680565">needAdapt</a><span class="delimiter">)</span> = <a href="#679874" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#680554" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#680589" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680565" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#680554" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#680554" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#679896" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#680646" title="Typers.this.global.CaseDef">_</a>, <a href="#680564" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</span><span class="delimiter">(</span><a href="#680346" title="Typers.this.global.Tree">tree</a>, <a href="#680553" title="Typers.this.global.Tree">selector1</a>, <a href="#680554" title="List[Typers.this.global.CaseDef]">cases1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</span> <a href="#680564" title="Typers.this.global.Type">owntype</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> // don't run translator after typers (see comments in PatMatVirtualiser)
            <span class="keyword">val</span> <a href="#680691" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#680690" title="Typers.this.global.Type" id="680691">owntype0</a>, <a href="#680690" title="Boolean" id="680692">needAdapt</a><span class="delimiter">)</span> = <a href="#679874" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#680554" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="680713">x</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40171" title="(tp: Typers.this.global.Type)Typers.this.global.Type">repackExistential</a><span class="delimiter">(</span><a href="#680713" title="Typers.this.global.CaseDef">x</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="680693">owntype</a> = <a href="../../../reflect/internal/Types.scala.html#40351" title="(t: Typers.this.global.Type)Typers.this.global.Type">elimAnonymousClass</a><span class="delimiter">(</span><a href="#680691" title="Typers.this.global.Type">owntype0</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680692" title="Boolean">needAdapt</a><span class="delimiter">)</span> <a href="#680554" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#680554" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#679896" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#680772" title="Typers.this.global.CaseDef">_</a>, <a href="#680693" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">(</span><span title="Typers.this.MatchTranslator" class="keyword">new</span> <a href="PatMatVirtualiser.scala.html#184079" title="Typers.this.MatchTranslator">MatchTranslator</a><span class="delimiter">(</span><a href="#184062" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="PatMatVirtualiser.scala.html#644447" title="(scrut: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pt: Typers.this.global.Type)Typers.this.global.Tree">translateMatch</a><span class="delimiter">(</span><a href="#680553" title="Typers.this.global.Tree">selector1</a>, <a href="#680554" title="List[Typers.this.global.CaseDef]">cases1</a>, <a href="#680693" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">Block</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680812">vd</a> :: <span title="object Nil">Nil</span>, <a title="Typers.this.global.Match" id="680813">tree</a>@Match<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680816">selector</a>, <a title="List[Typers.this.global.CaseDef]" id="680817">cases</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="680818">selector1</a> = <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680816" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="680819">cases1</a> = <a href="#184400" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#680813" title="Typers.this.global.Match">tree</a>, <a href="#680817" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#184421" title="(tpe: Typers.this.global.Type)Typers.this.global.Type">packCaptured</a><span class="delimiter">(</span><a href="#680818" title="Typers.this.global.Tree">selector1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a href="#680821" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#680820" title="Typers.this.global.Type" id="680821">owntype</a>, <a href="#680820" title="Boolean" id="680822">needAdapt</a><span class="delimiter">)</span> = <a href="#679874" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#680819" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#680850" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680822" title="Boolean">needAdapt</a><span class="delimiter">)</span>
                  <a href="#680819" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#680819" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#679896" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#680907" title="Typers.this.global.CaseDef">_</a>, <a href="#680821" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#680812" title="Typers.this.global.Tree">vd</a> <a href="#680949" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <span title="object Nil">Nil</span>, <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</span><span class="delimiter">(</span><a href="#680813" title="Typers.this.global.Match">tree</a>, <a href="#680818" title="Typers.this.global.Tree">selector1</a>, <a href="#680819" title="List[Typers.this.global.CaseDef]">cases1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</span> <a href="#680821" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="680963">translated</a> =&gt;
                // TODO: get rid of setType owntype -- it should all typecheck
                // must call typed, not typed1, or we overflow the stack when emitting switches
                <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680963" title="Typers.this.global.Tree">translated</a>, <a href="#586628" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#680693" title="Typers.this.global.Type">owntype</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr: Typers.this.global.Tree)Typers.this.global.Tree" id="679882">typedReturn</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="680971">expr</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="680972">enclMethod</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184570" title="=&gt; Typers.this.Context">enclMethod</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#680972" title="Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Contexts.scala.html#183944" title="object Typers.this.NoContext">NoContext</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#680972" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184570" title="=&gt; Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#680972" title="Typers.this.Context">enclMethod</a> // i.e., we are in a constructor of a local class
            <span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <span title="String(&quot;return outside method definition&quot;)" class="string">&quot;return outside method definition&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> DefDef<a href="#680983" title="(Typers.this.global.Name, Typers.this.global.Tree)" class="delimiter">(</a>_, <a href="#680982" title="Typers.this.global.Name" id="680983">name</a>, _, _, <a href="#680982" title="Typers.this.global.Tree" id="680984">restpt</a>, _<span class="delimiter">)</span> = <a href="#680972" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#680984" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#680972" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#184558" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">owner</a> <span title="(other: String)String">+</span> <span title="String(&quot; has return statement; needs result type&quot;)" class="string">&quot; has return statement; needs result type&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184570" title="=&gt; Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#184598" title="(x$1: Boolean)Unit">returnsSeen</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="681003">expr1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680971" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#680984" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            // Warn about returning a value if no value can be returned.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#680984" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // The typing in expr1 says expr is Unit (it has already been coerced if
              // it is non-Unit) so we have to retype it.  Fortunately it won't come up much
              // unless the warning is legitimate.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#680971" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
                <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;enclosing method &quot;)" class="string">&quot;enclosing method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#680983" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has result type Unit: return value discarded&quot;)" class="string">&quot; has result type Unit: return value discarded&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Return">Return</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#681003" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Return">setSymbol</span> <a href="#680972" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Return">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Typers.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70289" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree)Typers.this.global.New" id="679883">typedNew</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681036">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="681037">tpt1</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="681041">tpt0</a> = <a href="#184450" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#681036" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
          <a href="#184338" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#681041" title="Typers.this.global.Tree">tpt0</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#681041" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#681041" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184630" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="../../../reflect/internal/Symbols.scala.html#40018" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#681041" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
            <a href="Analyzer.scala.html#183929" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span><span class="delimiter">(</span><a href="#681041" title="Typers.this.global.Tree">tpt0</a><span class="delimiter">)</span>
                      .<span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#681041" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#681071" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47919" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> // @PP: tpeHK! #3343, #4018, #4347.
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#681041" title="Typers.this.global.Tree">tpt0</a>
        <span class="delimiter">}</span>

        /** If current tree &lt;tree&gt; appears in &lt;val x(: T)? = &lt;tree&gt;&gt;
         *  return `tp with x.type' else return `tp`.
         */
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="681038">narrowRhs</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="681099">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="681100">sym</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">ValDef</span><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="681107">mods</a>, _, _, Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">`tree`</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#681107" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48082" title="=&gt; Boolean">isMutable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681100" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681100" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="681124">sym1</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#681100" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681100" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#681100" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#681100" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#681100" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#681100" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47990" title="=&gt; Typers.this.global.Symbol">lazyAccessorOrSelf</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="681125">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#681124" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#681124" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#40099" title="object Typers.this.global.NoPrefix">NoPrefix</a>
              <a href="../../../reflect/internal/Types.scala.html#40203" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#681099" title="Typers.this.global.Type">tp</a>, <a href="../../../reflect/internal/Types.scala.html#40194" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#681125" title="Typers.this.global.Type">pre</a>, <a href="#681124" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#681099" title="Typers.this.global.Type">tp</a>
          <span class="delimiter">}</span><span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="681039">tp</a> = <a href="#681037" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="681040">sym</a> = <a href="#681039" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; Typers.this.global.Symbol">initialize</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#681040" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a> <span title="(x: Boolean)Boolean">||</span> <a href="#681040" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48105" title="=&gt; Boolean">hasAbstractFlag</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#681040" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)String">+</span> <span title="String(&quot; is abstract; cannot be instantiated&quot;)" class="string">&quot; is abstract; cannot be instantiated&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span>  <a href="#681039" title="Typers.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#681040" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47978" title="=&gt; Typers.this.global.Symbol">thisSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> // when there's no explicit self type -- with (#3612) or without self variable
                     // sym.thisSym.tpe == tp.typeOfThis (except for objects)
                  <span title="(x: Boolean)Boolean">||</span> <a href="#681038" title="(tp: Typers.this.global.Type)Typers.this.global.Type">narrowRhs</a><span class="delimiter">(</span><a href="#681039" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#681039" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42734" title="=&gt; Typers.this.global.Type">typeOfThis</a>
                  <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a>
                  <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#681040" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)String">+</span>
                <span title="String(&quot; cannot be instantiated because it does not conform to its self-type &quot;)" class="string">&quot; cannot be instantiated because it does not conform to its self-type &quot;</span><span title="(x$1: Any)String">+</span>
                <a href="#681039" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42734" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.New">New</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#681037" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</span><span class="delimiter">(</span><a href="#681039" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree" id="679884">typedEta</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681164">expr1</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#681164" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#46406" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="681168">expr2</a> = <a href="Analyzer.scala.html#183929" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#681164" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</span> <a href="#681164" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40639" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#681168" title="Typers.this.global.Function">expr2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#126010" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#681168" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#681168" title="Typers.this.global.Function">expr2</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="681189">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="681190">expr2</a> = <a href="Analyzer.scala.html#183929" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#681164" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</span> <a href="#681164" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40639" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#681190" title="Typers.this.global.Function">expr2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#126010" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#681190" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#681190" title="Typers.this.global.Function">expr2</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span>_, MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="681206">formals</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46557" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#681164" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#681164" title="Typers.this.global.Tree">expr1</a>, <a href="#586628" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#46555" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#681206" title="List[Typers.this.global.Symbol]">formals</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="681223">t</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="681253">formals</a>, _<span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46557" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#681164" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#681164" title="Typers.this.global.Tree">expr1</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681258">qual</a>, <a title="Typers.this.global.Name" id="681259">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183036" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                        <a href="#586629" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                        <a href="#586629" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                        <a href="../../../reflect/internal/Types.scala.html#40319" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a>, <a href="../../../reflect/internal/Definitions.scala.html#46573" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="681270">scalaCaller</a> = <a href="../../../reflect/internal/Definitions.scala.html#46792" title="(delegateType: Typers.this.global.Type)Typers.this.global.Symbol">newScalaCaller</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Definitions.scala.html#46793" title="(scalaCaller: Typers.this.global.Symbol, methSym: Typers.this.global.Symbol)Unit">addScalaCallerInfo</a><span class="delimiter">(</span><a href="#681270" title="Typers.this.global.Symbol">scalaCaller</a>, <a href="#681164" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Name" id="681271">n</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a> = <a href="#681270" title="Typers.this.global.Symbol">scalaCaller</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="681272">del</a> = <a href="Analyzer.scala.html#183929" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46573" title="=&gt; Typers.this.global.Symbol">DelegateClass</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#46573" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="681273">f</a> = <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#681272" title="Typers.this.global.Ident">del</a>, <a href="#681271" title="Typers.this.global.Name">n</a><span class="delimiter">)</span>
              //val f1 = TypeApply(f, List(Ident(pt.symbol) setType pt))
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="681274">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><a href="#681164" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47857" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                                     <span class="keyword">else</span> <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#681258" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> // where the scala-method is located
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="681275">rhs</a> = <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#681273" title="Typers.this.global.Select">f</a>, <a href="#681274" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#681275" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#681164" title="Typers.this.global.Tree">expr1</a>, <a href="#586628" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#46555" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#681253" title="List[Typers.this.global.Symbol]">formals</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="681362">t</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="Typers.this.global.Tree">ErrorType</a> =&gt;
          <a href="#681164" title="Typers.this.global.Tree">expr1</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#681164" title="Typers.this.global.Tree">expr1</a>, <span title="String(&quot;_ must follow method; cannot follow &quot;)" class="string">&quot;_ must follow method; cannot follow &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#681164" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /**
       *  @param args ...
       *  @return     ...
       */
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int, other: Typers.this.global.TypeError)List[Typers.this.global.Tree]" id="679885">tryTypedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="681390">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="681391">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.TypeError" id="681392">other</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="681393">c</a> = <a href="#184332" title="Typers.this.Context" id="681394">context</a>.<a href="Contexts.scala.html#431181" title="Typers.this.global.Tree" id="681396">makeSilent</a><span class="delimiter">(</span><a title="Boolean(false)" id="681395" class="keyword">false</a><span class="delimiter">)</span>
        <a href="#681393" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#184619" title="(x$1: Boolean)Unit">retyping</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#681393" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#184408" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#681390" title="List[Typers.this.global.Tree]">args</a>, <a href="#681391" title="Int">mode</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="681399">ex</a>: <a href="../../../reflect/internal/Symbols.scala.html#40030" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#681399" title="Typers.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="Null(null)" id="681400">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Try to apply function to arguments; if it does not work, try to convert Java raw to existentials, or try to
       *  insert an implicit conversion.
       */
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="679886">tryTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681401">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="681402">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="681403">start</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39919" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183863" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
        <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#681409" title="Typers.this.Typer">_</a>.<a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#681401" title="Typers.this.global.Tree">fun</a>, <a href="#681402" title="List[Typers.this.global.Tree]">args</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="681415">t</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
            <a href="#681415" title="Typers.this.global.Tree">t</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Apply" id="681416">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            <a href="../../../reflect/internal/util/StatBase.scala.html#39920" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183863" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#681403" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>

            // If the problem is with raw types, copnvert to existentials and try again.
            // See #4712 for a case where this situation arises,
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#681401" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681401" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="681420">newtpe</a> = <a href="../../../reflect/internal/Types.scala.html#116517" title="(tp: Typers.this.global.Type)Typers.this.global.Type">rawToExistential</a><span class="delimiter">(</span><a href="#681401" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#681401" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#681420" title="Typers.this.global.Type">newtpe</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                // println(&quot;late cooking: &quot;+fun+&quot;:&quot;+fun.tpe) // DEBUG
                <span title="Nothing" class="keyword">return</span> <a href="#679886" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#681401" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)fun.type">setType</span> <a href="#681420" title="Typers.this.global.Type">newtpe</a>, <a href="#681402" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="681417">treesInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681425">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#681425" title="Typers.this.global.Tree">tree</a> <a href="#681426" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <span class="delimiter">(</span><a href="#681425" title="Typers.this.global.Tree">tree</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="681431">r</a><span class="delimiter">)</span>                        =&gt; <a href="#681417" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#681431" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.CaseDef]">Match</span><span class="delimiter">(</span>_, <a title="List[Typers.this.global.CaseDef]" id="681434">cases</a><span class="delimiter">)</span>                    =&gt; <a href="#681434" title="List[Typers.this.global.CaseDef]">cases</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">CaseDef</span><span class="delimiter">(</span>_, _, <a title="Typers.this.global.Tree" id="681442">r</a><span class="delimiter">)</span>                   =&gt; <a href="#681417" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#681442" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="681445">r</a><span class="delimiter">)</span>                    =&gt; <a href="#681417" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#681445" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">If</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="681449">t</a>, <a title="Typers.this.global.Tree" id="681450">e</a><span class="delimiter">)</span>                        =&gt; <a href="#681417" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#681449" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <a href="#681417" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#681450" title="Typers.this.global.Tree">e</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681513">b</a>, <a title="List[Typers.this.global.CaseDef]" id="681514">catches</a>, _<span class="delimiter">)</span>                 =&gt; <a href="#681417" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#681513" title="Typers.this.global.Tree">b</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <a href="#681514" title="List[Typers.this.global.CaseDef]">catches</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681576">r</a>, Function<span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#681417" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#681576" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                  =&gt; <span title="object Nil">Nil</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="681418">errorInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681584">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#681417" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#681584" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#681593" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#681416" title="Typers.this.global.TypeError">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67269" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Boolean" id="681419">retry</a> = <a href="#681401" title="Typers.this.global.Tree">fun</a> <a href="#681599" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#586627" title="Typers.this.global.Tree">tree</a> <a href="#681600" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#681402" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#681418" title="(tree: Typers.this.global.Tree)Boolean">errorInResult</a>
            <a href="#184430" title="(s: =&gt; String)Unit">printTyping</a> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="String" id="681620">funStr</a> = <a href="../../../reflect/internal/TypeDebugging.scala.html#83200" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#681401" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#681402" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],String,List[String]])List[String]">map</span> <a href="../../../reflect/internal/TypeDebugging.scala.html#83200" title="(t: Typers.this.global.Tree)String">ptTree</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#681419" title="Boolean">retry</a><span class="delimiter">)</span> <span title="String(&quot;second try: &quot;)" class="string">&quot;second try: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#681620" title="String">funStr</a>
              <span class="keyword">else</span> <span title="String(&quot;no second try: &quot;)" class="string">&quot;no second try: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#681620" title="String">funStr</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; because error not in result: &quot;)" class="string">&quot; because error not in result: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#681416" title="Typers.this.global.TypeError">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67269" title="=&gt; Typers.this.global.Position">pos</a><span title="(x$1: Any)String">+</span><span title="String(&quot;!=&quot;)" class="string">&quot;!=&quot;</span><span title="(x$1: Any)String">+</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#681419" title="Boolean">retry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> Select<a href="#681670" title="(Typers.this.global.Tree, Typers.this.global.Name)" class="delimiter">(</a><a href="#681669" title="Typers.this.global.Tree" id="681670">qual</a>, <a href="#681669" title="Typers.this.global.Name" id="681671">name</a><span class="delimiter">)</span> = <a href="#681401" title="Typers.this.global.Tree">fun</a>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="681672">args1</a> = <a href="#679885" title="(args: List[Typers.this.global.Tree], mode: Int, other: Typers.this.global.TypeError)List[Typers.this.global.Tree]">tryTypedArgs</a><span class="delimiter">(</span><a href="#681402" title="List[Typers.this.global.Tree]">args</a>, <a href="#184049" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#681401" title="Typers.this.global.Tree">fun</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>, <a href="#681416" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="681673">qual1</a> =
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#681672" title="List[Typers.this.global.Tree]">args1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#586629" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#184373" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#681670" title="Typers.this.global.Tree">qual</a>, <a href="#681671" title="Typers.this.global.Name">name</a>, <a href="#681672" title="List[Typers.this.global.Tree]">args1</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#681670" title="Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#681673" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#681670" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="681686">tree1</a> = <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#681673" title="Typers.this.global.Tree">qual1</a>, <a href="#681671" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#681401" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#681672" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
                <span title="Nothing" class="keyword">return</span> <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#681686" title="Typers.this.global.Apply">tree1</a>, <a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(512)">SNDTRYmode</span>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="TypeDiagnostics.scala.html#184316" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#681416" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#681401" title="Typers.this.global.Tree">fun</a>, <a href="#681402" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="679887">typedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681736">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="681737">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="681738">stableApplication</a> = <span class="delimiter">(</span><a href="#681736" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681736" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681736" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47846" title="=&gt; Boolean">isStable</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#681738" title="Boolean">stableApplication</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#679873" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // treat stable function applications f() as expressions.
          <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(2)">PATTERNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(1)">EXPRmode</span>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="681747">funpt</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#679873" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="#586629" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="681748">appStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39919" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183863" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="681749">opeqStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39919" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183865" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a><span class="delimiter">)</span>
          <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#681755" title="Typers.this.Typer">_</a>.<a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#681736" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#184032" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#586628" title="Int">mode</a><span class="delimiter">)</span>, <a href="#681747" title="Typers.this.global.Type">funpt</a><span class="delimiter">)</span>,
                 <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184603" title="=&gt; Boolean">reportAmbiguousErrors</a>,
                 <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#586627" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="681779">fun1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="681780">fun2</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#681738" title="Boolean">stableApplication</a><span class="delimiter">)</span> <a href="#184361" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilizeFun</a><span class="delimiter">(</span><a href="#681779" title="Typers.this.global.Tree">fun1</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#681779" title="Typers.this.global.Tree">fun1</a>
              <a href="../../../reflect/internal/util/StatBase.scala.html#39915" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183853" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedApplyCount</a><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="681781">isImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="681786">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#681786" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Boolean" id="681787">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Typers.this.global.MethodType">MethodType</a> =&gt; <a href="#681787" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a>
                <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="Boolean" id="681782">useTry</a> = <span class="delimiter">(</span>
                   <span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681780" title="Typers.this.global.Tree">fun2</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Select">Select</span><span class="delimiter">]</span>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#681781" title="(tpe: Typers.this.global.Type)Boolean">isImplicitMethod</a><span class="delimiter">(</span><a href="#681780" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#681780" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#681780" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(513)">|</span> SNDTRYmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span>
              <span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="681783">res</a> =
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#681782" title="Boolean">useTry</a><span class="delimiter">)</span> <a href="#679886" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#681780" title="Typers.this.global.Tree">fun2</a>, <a href="#681737" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#184413" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#681780" title="Typers.this.global.Tree">fun2</a>, <a href="#681737" title="List[Typers.this.global.Tree]">args</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

            /*
              if (fun2.hasSymbol &amp;&amp; fun2.symbol.isConstructor &amp;&amp; (mode &amp; EXPRmode) != 0) {
                res.tpe = res.tpe.notNull
              }
              */
              // TODO: In theory we should be able to call:
              //if (fun2.hasSymbol &amp;&amp; fun2.symbol.name == nme.apply &amp;&amp; fun2.symbol.owner == ArrayClass) {
              // But this causes cyclic reference for Array class in Cleanup. It is easy to overcome this
              // by calling ArrayClass.info here (or some other place before specialize).
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#681780" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46444" title="=&gt; Typers.this.global.Symbol">Array_apply</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="681806">checked</a> = <a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235467" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#681783" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span>
                // this check is needed to avoid infinite recursion in Duplicators
                // (calling typed1 more than once for the same tree)
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#681806" title="Typers.this.global.gen.global.Tree">checked</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#681783" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span> <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#681806" title="Typers.this.global.gen.global.Tree">checked</a><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="keyword">else</span> <a href="#681783" title="Typers.this.global.Tree">res</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681780" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#681780" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47850" title="=&gt; Boolean">isMacro</a><span class="delimiter">)</span>
                <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="Macros.scala.html#184212" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">macroExpand</a><span class="delimiter">(</span><a href="#681783" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#681783" title="Typers.this.global.Tree">res</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="681828">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="#681736" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681833">qual</a>, <a title="Typers.this.global.Name" id="681834">name</a><span class="delimiter">)</span>
                <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#679873" title="=&gt; Boolean">isPatternMode</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60682" title="(name: Typers.this.global.Name)Boolean">isOpAssignmentName</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)Typers.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#681834" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="681840">qual1</a> = <a href="#184441" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#681833" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
                  <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118924" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isVariableOrGetter</a><span class="delimiter">(</span><a href="#681840" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../../../reflect/internal/util/StatBase.scala.html#39920" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183865" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a>, <a href="#681749" title="scala.tools.nsc.util.Statistics.LongPair">opeqStart</a><span class="delimiter">)</span>
                    <a href="#679888" title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], ex: Typers.this.global.TypeError)Typers.this.global.Tree">convertToAssignment</a><span class="delimiter">(</span><a href="#681736" title="Typers.this.global.Tree">fun</a>, <a href="#681840" title="Typers.this.global.Tree">qual1</a>, <a href="#681834" title="Typers.this.global.Name">name</a>, <a href="#681737" title="List[Typers.this.global.Tree]">args</a>, <a href="#681828" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span> 
                  <span class="keyword">else</span> <span class="delimiter">{</span>
                    <a href="../../../reflect/internal/util/StatBase.scala.html#39920" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183863" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#681748" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                    <a href="TypeDiagnostics.scala.html#184316" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#681736" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#681828" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                    <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
                  <a href="../../../reflect/internal/util/StatBase.scala.html#39920" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183863" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#681748" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                  <a href="TypeDiagnostics.scala.html#184316" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#681736" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#681828" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], ex: Typers.this.global.TypeError)Typers.this.global.Tree" id="679888">convertToAssignment</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681846">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="681847">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="681848">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="681849">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.TypeError" id="681850">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="name.ThisNameType" id="681857">prefix</a> = <a href="#681848" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53416" title="(from: Int, to: Int)name.ThisNameType">subName</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#681848" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53406" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60457" title="=&gt; Typers.this.global.TermName">EQL</a>.<a href="../../../reflect/internal/Names.scala.html#53406" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(vble: Typers.this.global.Tree)Typers.this.global.Tree" id="681858">mkAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681865">vble</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
          <a href="Analyzer.scala.html#183929" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span>
            <a href="#681865" title="Typers.this.global.Tree">vble</a>,
            <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#681865" title="Typers.this.global.Tree">vble</a>.<span title="=&gt; vble.type">duplicate</span>, <a href="#681857" title="name.ThisNameType">prefix</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#681846" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#681849" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183792" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>
          <span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Assign">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>

        <span class="keyword">def</span> <a title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree" id="681859">mkUpdate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="681916">table</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="681917">indices</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235495" title="(exprs: List[Typers.this.global.gen.global.Tree], owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: List[() =&gt; Typers.this.global.gen.global.Tree] =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnceAll</a><span class="delimiter">(</span><a href="#681916" title="Typers.this.global.Tree">table</a> <a href="#681922" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#681917" title="List[Typers.this.global.Tree]">indices</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="681929">ts</a> =&gt;
            <span class="keyword">val</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="681930">tab</a> = <a href="#681929" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<span title="=&gt; () =&gt; Typers.this.global.gen.global.Tree">head</span>
            <span class="keyword">val</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="681931">is</a> = <a href="#681929" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<span title="=&gt; List[() =&gt; Typers.this.global.gen.global.Tree]">tail</span>
            <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
               <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#681930" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60362" title="=&gt; Typers.this.global.nme.NameType">update</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#681916" title="Typers.this.global.Tree">table</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
               <span class="delimiter">(</span><span class="delimiter">(</span><a href="#681931" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <span title="(f: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</span> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="681979">i</a> =&gt; <a href="#681979" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#681962" title="(prefix: List[Typers.this.global.gen.global.Tree])List[Typers.this.global.gen.global.Tree]">:::</a> <span title="(xs: Typers.this.global.Apply*)List[Typers.this.global.Apply]">List</span><span class="delimiter">(</span>
                 <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                   <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
                     <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                       <a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#681930" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#681916" title="Typers.this.global.Tree">table</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                       <a href="#681931" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <span title="(f: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</span> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="682077">i</a> =&gt; <a href="#682077" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#681847" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                     <a href="#681857" title="name.ThisNameType">prefix</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#681846" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                   <a href="#681849" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
               <span class="delimiter">)</span>
             <span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
           <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="681860">tree1</a> = <a href="#681847" title="Typers.this.global.Tree">qual</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#681858" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="#681847" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="682158">qualqual</a>, <a title="Typers.this.global.Name" id="682159">vname</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235494" title="(expr: Typers.this.global.gen.global.Tree, owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#682158" title="Typers.this.global.Tree">qualqual</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="682165">qq</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="682166">qq1</a> = <a href="#682165" title="()Typers.this.global.gen.global.Tree">qq</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#681858" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#682166" title="Typers.this.global.gen.global.Tree">qq1</a>, <a href="#682159" title="Typers.this.global.Name">vname</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#681847" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="682193">fn</a>, <a title="List[Typers.this.global.Tree]" id="682194">indices</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#183119" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#118957" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">methPart</a><span class="delimiter">(</span><a href="#682193" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="682199">table</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> =&gt; <a href="#681859" title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree">mkUpdate</a><span class="delimiter">(</span><a href="#682199" title="Typers.this.global.Tree">table</a>, <a href="#682194" title="List[Typers.this.global.Tree]">indices</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>                        =&gt; <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#681847" title="Typers.this.global.Tree">qual</a>, <span title="String(&quot;Unexpected tree during assignment conversion.&quot;)" class="string">&quot;Unexpected tree during assignment conversion.&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#681860" title="Typers.this.global.Tree">tree1</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
/*
        debuglog(&quot;retry assign: &quot;+tree1)
        silent(_.typed1(tree1, mode, pt)) match {
          case t: Tree =&gt;
            t
          case _ =&gt;
            reportTypeError(tree.pos, ex)
            setError(tree)
        }
*/
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Symbol" id="679889">qualifyingClassSym</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="682200">qual</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> =
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span class="keyword">else</span> <a href="#184349" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Typers.this.global.Symbol">qualifyingClass</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682200" title="Typers.this.global.Name">qual</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super" id="679890">typedSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="682206">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.TypeName" id="682207">mix</a>: <a href="../../../reflect/internal/Names.scala.html#39686" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="682208">qual1</a> = <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#682206" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="682209">clazz</a> = <a href="#682208" title="Typers.this.global.Tree">qual1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#682208" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span> =&gt; <a href="#682208" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="delimiter">}</span>
        //println(clazz+&quot;/&quot;+qual1.tpe.typeSymbol+&quot;/&quot;+qual1)

        <span class="keyword">def</span> <a title="(site: Typers.this.global.Type)Typers.this.global.Type" id="682210">findMixinSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="682220">site</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="682221">ps</a> = <a href="#682220" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#682227" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#682207" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682221" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
            <a href="#682221" title="List[Typers.this.global.Type]">ps</a> = <a href="#682220" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#682240" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#48009" title="=&gt; Typers.this.global.Symbol">toInterface</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#682207" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#682221" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#682220" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Name,Any])Any">map</span> <span class="delimiter">(</span><a href="#682273" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>//debug
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // println(qual1)
              // println(clazz)
              // println(site)
              // println(site.parents)
              // println(mix)
              // the reference to super class got lost during erasure
              <a href="TypeDiagnostics.scala.html#184255" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <span title="String(&quot;traits may not select fields or methods from super[C] where C is a class&quot;)" class="string">&quot;traits may not select fields or methods from super[C] where C is a class&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#682207" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">mix</a><span title="(other: String)String">+</span><span title="String(&quot; does not name a parent class of &quot;)" class="string">&quot; does not name a parent class of &quot;</span><span title="(x$1: Any)String">+</span><a href="#682209" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#682221" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;ambiguous parent class qualifier&quot;)" class="string">&quot;ambiguous parent class qualifier&quot;</span><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#682221" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="682211">owntype</a> =
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#682207" title="Typers.this.global.TypeName">mix</a>.<a href="../../../reflect/internal/Names.scala.html#53407" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(256)">SUPERCONSTRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#682209" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> // can happen due to cyclic references ==&gt; #1036
              <span class="keyword">else</span> <a href="#682209" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Typers.this.global.Type">head</span>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#40203" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#682209" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Typers.this.global.Type]">parents</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#682210" title="(site: Typers.this.global.Type)Typers.this.global.Type">findMixinSuper</a><span class="delimiter">(</span><a href="#682209" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">Super</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682208" title="Typers.this.global.Tree">qual1</a>, <a href="#682207" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Super">setType</span> <a href="../../../reflect/internal/Types.scala.html#83635" title="(thistp: Typers.this.global.Type, supertp: Typers.this.global.Type)Typers.this.global.Type">SuperType</a><span class="delimiter">(</span><a href="#682209" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a>, <a href="#682211" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Tree" id="679891">typedThis</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="682333">qual</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="682334">clazz</a> = <a href="#679889" title="(qual: Typers.this.global.Name)Typers.this.global.Symbol">qualifyingClassSym</a><span class="delimiter">(</span><a href="#682333" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#682334" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#682334" title="Typers.this.global.Symbol">clazz</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#682334" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42731" title="=&gt; Typers.this.global.Type">underlying</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#184356" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#682334" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a>
          <a href="#586627" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Attribute a selection where &lt;code&gt;tree&lt;/code&gt; is &lt;code&gt;qual.name&lt;/code&gt;.
       *  &lt;code&gt;qual&lt;/code&gt; is already attributed.
       *
       *  @param qual ...
       *  @param name ...
       *  @return     ...
       */
      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="679892">typedSelect</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="682350">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="682351">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="682352">sym</a> =
          <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Super">Super</span><span class="delimiter">]</span><span class="delimiter">)</span>
              <a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> // todo: replace by settings.check.value?
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="682365">alts</a> = <a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#682365" title="List[Typers.this.global.Symbol]">alts</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="682377">alt</a> =&gt;
                <a href="#682377" title="Typers.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x: Boolean)Boolean">||</span> <a href="#682377" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#682377" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42801" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;symbol &quot;)" class="string">&quot;symbol &quot;</span><span title="(x$1: Any)String">+</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)String">+</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span><span title="(x$1: Any)String">+</span><a href="#682365" title="List[Typers.this.global.Symbol]">alts</a><span title="(x$1: Any)String">+</span><span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n members = &quot;)" class="string">&quot;\n members = &quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42764" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n type history = &quot;)" class="string">&quot;\n type history = &quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42727" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#48052" title="=&gt; String">infosString</a><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n phase = &quot;)" class="string">&quot;\n phase = &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#184362" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682352" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682351" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="682402">qual1</a> =
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#184362" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#682350" title="Typers.this.global.Tree">qual</a>
            <span class="keyword">else</span> <a href="#184374" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682402" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#682350" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682402" title="Typers.this.global.Tree">qual1</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184354" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#682352" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#48001" title="=&gt; Typers.this.global.Symbol">toplevelClass</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682351" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53411" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable" id="682414">tree1</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree with Serializable)Typers.this.global.gen.global.Tree with Serializable">atPos</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235492" title="(qual: Typers.this.global.gen.global.Tree, origName: Typers.this.global.gen.global.Name)Typers.this.global.gen.global.Tree with Serializable">convertToSelectFromType</a><span class="delimiter">(</span><a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>  <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682414" title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable">tree1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#682414" title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable">tree1</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // try to expand according to Dynamic rules.

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183426" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xexperimental</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#47963" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46324" title="=&gt; Typers.this.global.Symbol">DynamicClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Apply" id="682433">dynInvoke</a> = <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60162" title="=&gt; Typers.this.global.nme.NameType">applyDynamic</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#682351" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="682482">tree1</a>, <a title="List[Typers.this.global.Tree]" id="682483">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#682482" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#586627" title="Typers.this.global.Tree">tree</a> =&gt;
                ;
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <a href="#682433" title="Typers.this.global.Apply">dynInvoke</a> = <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#682433" title="Typers.this.global.Apply">dynInvoke</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Nothing" class="keyword">return</span> <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span>util.<a href="../util/SimpleTracer.scala.html#183220" title="(msg: String)(value: Typers.this.global.Apply)Typers.this.global.Apply">trace</a><span class="delimiter">(</span><span title="String(&quot;dynatype: &quot;)" class="string">&quot;dynatype: &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#682433" title="Typers.this.global.Apply">dynInvoke</a><span class="delimiter">)</span>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
              <span title="String(&quot;qual = &quot;)" class="string">&quot;qual = &quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nSymbol=&quot;)" class="string">&quot;\nSymbol=&quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42727" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nsymbol-info = &quot;)" class="string">&quot;\nsymbol-info = &quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42727" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nscope-id = &quot;)" class="string">&quot;\nscope-id = &quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42727" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Typers.this.global.Scope">decls</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;\nmembers = &quot;)" class="string">&quot;\nmembers = &quot;</span><span title="(x$1: Any)String">+</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42764" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nname = &quot;)" class="string">&quot;\nname = &quot;</span><span title="(x$1: Any)String">+</span><a href="#682351" title="Typers.this.global.Name">name</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nfound = &quot;)" class="string">&quot;\nfound = &quot;</span><span title="(x$1: Any)String">+</span><a href="#682352" title="Typers.this.global.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nowner = &quot;)" class="string">&quot;\nowner = &quot;</span><span title="(x$1: Any)String">+</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.RefTree with Serializable" id="682412">makeErrorTree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="682510">tree1</a> = <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="Typers extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">setError</a><span class="delimiter">(</span><a href="#682510" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682351" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60623" title="=&gt; Typers.this.global.nme.NameType">ERROR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#183037" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#682412" title="=&gt; Typers.this.global.RefTree with Serializable">makeErrorTree</a>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="682552">lastTry</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36950" title="(owner: Typers.this.global.Symbol, name: Typers.this.global.Name)Typers.this.global.Symbol">missingHook</a><span class="delimiter">(</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682552" title="Typers.this.global.Symbol">lastTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#682552" title="Typers.this.global.Symbol">lastTry</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="TypeDiagnostics.scala.html#184268" title="(pos: Typers.this.global.Position, qual: Typers.this.global.Tree, name: Typers.this.global.Name)Unit">notAMemberError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183037" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <a href="#682412" title="=&gt; Typers.this.global.RefTree with Serializable">makeErrorTree</a> <span class="keyword">else</span> <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="682566">tree1</a> = <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="Typers extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#682568" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="#682567" title="Typers.this.global.Tree" id="682568">tree2</a>, <a href="#682567" title="Typers.this.global.Type" id="682569">pre2</a><span class="delimiter">)</span> = <a href="#184357" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#682566" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#682352" title="Typers.this.global.Symbol">sym</a>, <a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#682350" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="682570">result</a> = <a href="#184359" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#682568" title="Typers.this.global.Tree">tree2</a>, <a href="#682569" title="Typers.this.global.Type">pre2</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="()Boolean" id="682571">isPotentialNullDeference</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#682352" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#46364" title="=&gt; Typers.this.global.Symbol">NotNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42717" title="=&gt; Boolean">isNotNull</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46599" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a>, <a href="../../../reflect/internal/Definitions.scala.html#46602" title="=&gt; Typers.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span> <span title="(elem: Any)Boolean">contains</span> <a href="#682570" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>  // null.is/as is not a dereference
          <span class="delimiter">}</span>
          // unit is null here sometimes; how are we to know when unit might be null? (See bug #2467.)
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183623" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682571" title="()Boolean">isPotentialNullDeference</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;potential null pointer dereference: &quot;)" class="string">&quot;potential null pointer dereference: &quot;</span><span title="(x$1: Any)String">+</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="682572">selection</a> = <a href="#682570" title="Typers.this.global.Tree">result</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            // could checkAccessible (called by makeAccessible) potentially have skipped checking a type application in qual?
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.TypeTree" id="682627">qual</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Typers.this.global.TypeName" id="682630">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#682627" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt; // TODO: somehow the new qual is not checked in refchecks
              <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>
                <a href="#682570" title="Typers.this.global.Tree">result</a>,
                <span class="delimiter">(</span><a href="../ast/Trees.scala.html#251966" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="keyword">val</span> <a title="Typers.this.global.Type" id="682634">tp</a> = <a href="#682627" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>; <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="682635">sym</a> = <a href="#682634" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42730" title="=&gt; Typers.this.global.Symbol">typeSymbolDirect</a>
                  // will execute during refchecks -- TODO: make private checkTypeRef in refchecks public and call that one?
                  <a href="Infer.scala.html#184501" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#682627" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#682634" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#682635" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#682635" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#682634" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <a href="#682627" title="Typers.this.global.TypeTree">qual</a> // you only get to see the wrapped tree after running this check :-p
                <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</span> <a href="#682627" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTreeWithDeferredRefCheck">setPos</span> <a href="#682627" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                <a href="#682630" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="682643">accErr</a>: Inferencer#<a href="Infer.scala.html#184536" title="Typers.this.Inferencer#AccessError">AccessError</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="682646">qual1</a> =
                <span class="keyword">try</span> <a href="#184374" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682350" title="Typers.this.global.Tree">qual</a>, <a href="#682351" title="Typers.this.global.Name">name</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>
                <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt; <a href="#682350" title="Typers.this.global.Tree">qual</a> <span class="delimiter">}</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#682646" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#682350" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#682646" title="Typers.this.global.Tree">qual1</a>, <a href="#682351" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#682643" title="Typers.this.Inferencer#AccessError">accErr</a>.<a href="Infer.scala.html#628571" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="#682570" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
          // To fully benefit from special casing the return type of
          // getClass, we have to catch it immediately so expressions
          // like x.getClass().newInstance() are typed with the type of x.
          <span class="keyword">val</span> <a title="Boolean" id="682573">isRefinableGetClass</a> = <span class="delimiter">(</span>
               <a href="#682572" title="Typers.this.global.Tree">selection</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60444" title="=&gt; Typers.this.global.TermName">getClass_</a>
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682572" title="Typers.this.global.Tree">selection</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span>
            // TODO: If the type of the qualifier is inaccessible, we can cause private types
            // to escape scope here, e.g. pos/t1107.  I'm not sure how to properly handle this
            // so for now it requires the type symbol be public.
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48094" title="=&gt; Boolean">isPublic</a>
          <span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#682573" title="Boolean">isRefinableGetClass</a><span class="delimiter">)</span>
              <a href="#682572" title="Typers.this.global.Tree">selection</a> <span title="(tp: Typers.this.global.Type)selection.type">setType</span> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../Global.scala.html#182954" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#239136" title="(tp: Typers.this.global.erasure.global.Type)Typers.this.global.erasure.global.Type">getClassReturnType</a><span class="delimiter">(</span><a href="#682350" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#682572" title="Typers.this.global.Tree">selection</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Attribute an identifier consisting of a simple name or an outer reference.
       *
       *  @param tree      The tree representing the identifier.
       *  @param name      The name of the identifier.
       *  Transformations: (1) Prefix class members with this.
       *                   (2) Change imported symbols to selections
       */
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Typers.this.global.Tree" id="679893">typedIdent</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="682686">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(msg: String)Unit" id="682687">ambiguousError</a><span class="delimiter">(</span><a title="String" id="682696">msg</a>: <span title="String">String</span><span class="delimiter">)</span> =
          <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;reference to &quot;)" class="string">&quot;reference to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#682686" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is ambiguous;\n&quot;)" class="string">&quot; is ambiguous;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#682696" title="String">msg</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="682688">defSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> = <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>  // the directly found symbol
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="682689">pre</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <a href="../../../reflect/internal/Types.scala.html#40099" title="object Typers.this.global.NoPrefix">NoPrefix</a>          // the prefix type of defSym, if a class member
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="682690">qual</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>        // the qualifier tree if transformed tree is a select
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="682691">inaccessibleSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> // the first symbol that was found but that was discarded
                                          // for being inaccessible; used for error reporting
        <span class="keyword">var</span> <a title="String" id="682692">inaccessibleExplanation</a>: <span title="String">String</span> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

        // If a special setting is given, the empty package will be checked as a
        // last ditch effort before failing.  This method sets defSym and returns
        // true if a member of the given name exists.
        <span class="keyword">def</span> <a title="()Boolean" id="682693">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#682688" title="Typers.this.global.Symbol">defSym</a> = <a href="../../../reflect/internal/Definitions.scala.html#46246" title="=&gt; Typers.this.global.Symbol">EmptyPackageClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42770" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <a href="#682688" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="682694">startingIdentContext</a> = <span class="delimiter">(</span>
          // ignore current variable scope in patterns to enforce linearity
          <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(65538)">|</span> TYPEPATmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>
          <span class="keyword">else</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184564" title="=&gt; Typers.this.Context">outer</a>
        <span class="delimiter">)</span>
        // A symbol qualifies if it exists and is not stale. Stale symbols
        // are made to disappear here. In addition,
        // if we are in a constructor of a pattern, we ignore all definitions
        // which are methods (note: if we don't do that
        // case x :: xs in class List would return the :: method)
        // unless they are stable or are accessors (the latter exception is for better error messages).
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="682695">qualifies</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="682719">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#682719" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47928" title="=&gt; Boolean">hasRawInfo</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>       // this condition avoids crashing on self-referential pattern variables
          <a href="#184354" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#682719" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(2)">PATTERNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#682719" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47780" title="=&gt; Boolean">isSourceMethod</a> <span title="(x: Boolean)Boolean">||</span> <a href="#682719" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="682742">defEntry</a>: <a href="../../../reflect/internal/Scopes.scala.html#40421" title="Typers.this.global.ScopeEntry">ScopeEntry</a> = <span title="Null(null)" class="keyword">null</span> // the scope entry of defSym, if defined in a local scope

          <span class="keyword">var</span> <a title="Typers.this.Context" id="682743">cx</a> = <a href="#682694" title="=&gt; Typers.this.Context">startingIdentContext</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682743" title="Typers.this.Context">cx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#183944" title="object Typers.this.NoContext">NoContext</a><span class="delimiter">)</span> <a href="#682747" title="()Unit" class="delimiter">{</a>
            <a href="../Global.scala.html#183023" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185282" title="(context: Typers.this.global.analyzer.Context, name: Typers.this.global.Name)Boolean">compileSourceFor</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#183956" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#682689" title="Typers.this.global.Type">pre</a> = <a href="#682743" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184591" title="=&gt; Typers.this.global.Type">prefix</a>
            <a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a> = <a href="#682743" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61761" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682695" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a><span class="delimiter">(</span><a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // Right here is where SI-1987, overloading in package objects, can be
              // seen to go wrong. There is an overloaded symbol, but when referring
              // to the unqualified identifier from elsewhere in the package, only
              // the last definition is visible. So overloading mis-resolves and is
              // definition-order dependent, bad things. See run/t1987.scala.
              //
              // I assume the actual problem involves how/where these symbols are entered
              // into the scope. But since I didn't figure out how to fix it that way, I
              // catch it here by looking up package-object-defined symbols in the prefix.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184358" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#682689" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#682688" title="Typers.this.global.Symbol">defSym</a> = <a href="#682689" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;!!! Overloaded package object member resolved incorrectly.\n  Discarded: &quot;)" class="string">&quot;!!! Overloaded package object member resolved incorrectly.\n  Discarded: &quot;</span> <span title="(x$1: Any)String">+</span>
                    <a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48059" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n  Using: &quot;)" class="string">&quot;\n  Using: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48059" title="=&gt; String">defString</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span>
                <a href="#682688" title="Typers.this.global.Symbol">defSym</a> = <a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#682743" title="Typers.this.Context">cx</a> = <a href="#682743" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="682776">foundSym</a> = <a href="#682689" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <a href="#682695" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a>
              <a href="#682688" title="Typers.this.global.Symbol">defSym</a> = <a href="#682776" title="Typers.this.global.Symbol">foundSym</a> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184664" title="(sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#682785" title="Typers.this.global.Symbol">_</a>, <a href="#682689" title="Typers.this.global.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#682776" title="Typers.this.global.Symbol">foundSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#682691" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#682691" title="Typers.this.global.Symbol">inaccessibleSym</a> = <a href="#682776" title="Typers.this.global.Symbol">foundSym</a>
                  <a href="#682692" title="String">inaccessibleExplanation</a> = <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: Typers.this.global.type}">analyzer</a>.<a href="Contexts.scala.html#183948" title="=&gt; String">lastAccessCheckDetails</a>
                <span class="delimiter">}</span>
                <a href="#682743" title="Typers.this.Context">cx</a> = <a href="#682743" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#184564" title="=&gt; Typers.this.Context">outer</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Int" id="682744">symDepth</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#682743" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#184579" title="=&gt; Int">depth</a>
                         <span class="keyword">else</span> <a href="#682743" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#184579" title="=&gt; Int">depth</a> <span title="(x: Int)Int">-</span> <span class="delimiter">(</span><a href="#682743" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61764" title="=&gt; Int">nestingLevel</a> <span title="(x: Int)Int">-</span> <a href="#682742" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#71192" title="=&gt; Typers.this.global.Scope">owner</a>.<a href="../../../reflect/internal/Scopes.scala.html#61764" title="=&gt; Int">nestingLevel</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="682745">impSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>      // the imported symbol
          <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="682746">imports</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184582" title="=&gt; List[Typers.this.ImportInfo]">imports</a>      // impSym != NoSymbol =&gt; it is imported from imports.head
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184354" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#682745" title="Typers.this.global.Symbol">impSym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431048" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#682744" title="Int">symDepth</a><span class="delimiter">)</span> <a href="#682748" title="()Unit" class="delimiter">{</a>
            <a href="#682745" title="Typers.this.global.Symbol">impSym</a> = <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431053" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#682745" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
          <span class="delimiter">}</span>

          // detect ambiguous definition/import,
          // update `defSym` to be the final resolved symbol,
          // update `pre` to be `sym`s prefix type in case it is an imported member,
          // and compute value of:

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682745" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // imported symbols take precedence over package-owned symbols in different
            // compilation units. Defined symbols take precedence over erroneous imports.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47821" title="=&gt; Boolean">isDefinedInPackage</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#183023" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185267" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                 <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185117" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#185145" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#682688" title="Typers.this.global.Symbol">defSym</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682745" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47807" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#682745" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#682745" title="Typers.this.global.Symbol">impSym</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682745" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
              <a href="#682687" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                <span title="String(&quot;it is both defined in &quot;)" class="string">&quot;it is both defined in &quot;</span><span title="(x$1: Any)String">+</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; and imported subsequently by \n&quot;)" class="string">&quot; and imported subsequently by \n&quot;</span><span title="(x$1: Any)String">+</span><a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span>
              <a href="#682689" title="Typers.this.global.Type">pre</a> = <a href="../../../reflect/internal/Types.scala.html#40099" title="object Typers.this.global.NoPrefix">NoPrefix</a>
            <span class="keyword">else</span>
              <a href="#682690" title="Typers.this.global.Tree">qual</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183805" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92625" title="(tpe: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#682689" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682745" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47871" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.NoSymbol.type" id="682842">impSym1</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="682843">imports1</a> = <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
              <span class="keyword">def</span> <a title="()Unit" id="682844">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431051" title="=&gt; Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: Typers.this.global.Type)Boolean">=:=</a> <a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431051" title="=&gt; Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#682687" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                    <span title="String(&quot;it is imported twice in the same scope by\n&quot;)" class="string">&quot;it is imported twice in the same scope by\n&quot;</span><span title="(x$1: Any)String">+</span><a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span> <span title="(x$1: Any)String">+</span>  <span title="String(&quot;\nand &quot;)" class="string">&quot;\nand &quot;</span><span title="(x$1: Any)String">+</span><a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431052" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                      <a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431048" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">==</span> <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431048" title="=&gt; Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#682846" title="()Unit" class="delimiter">{</a>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="682866">impSym1</a> = <a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431053" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184354" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#682866" title="Typers.this.global.Symbol">impSym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431052" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431052" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                        <a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431048" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">!=</span> <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431048" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#682844" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                    <a href="#682745" title="Typers.this.global.Symbol">impSym</a> = <a href="#682866" title="Typers.this.global.Symbol">impSym1</a>
                    <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431052" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                             <a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431048" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">==</span> <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431048" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#682844" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a> = <a href="#682843" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
              <span class="delimiter">}</span>
              <a href="#682688" title="Typers.this.global.Symbol">defSym</a> = <a href="#682745" title="Typers.this.global.Symbol">impSym</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="682845">qual0</a> = <a href="#682746" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#431051" title="=&gt; Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="Boolean(false)">shortenImports</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682845" title="Typers.this.global.Tree">qual0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47786" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span><span class="delimiter">)</span> // optimization: don't write out package prefixes
                <a href="#682690" title="Typers.this.global.Tree">qual</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183805" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#183131" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">resetPos</a><span class="delimiter">(</span><a href="#682845" title="Typers.this.global.Tree">qual0</a>.<span title="=&gt; qual0.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#682689" title="Typers.this.global.Type">pre</a> = <a href="#682690" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183548" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">exposeEmptyPackage</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#682693" title="()Boolean">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Allowing empty package member &quot;)" class="string">&quot;Allowing empty package member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#682686" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; due to settings.&quot;)" class="string">&quot; due to settings.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="682910">lastTry</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36950" title="(owner: Typers.this.global.Symbol, name: Typers.this.global.Name)Typers.this.global.Symbol">missingHook</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46242" title="=&gt; Typers.this.global.ModuleClassSymbol">RootClass</a>, <a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682910" title="Typers.this.global.Symbol">lastTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#682910" title="Typers.this.global.Symbol">lastTry</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184582" title="=&gt; List[Typers.this.ImportInfo]">imports</a><span class="delimiter">)</span>//debug
              <span class="delimiter">}</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#682691" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                // Avoiding some spurious error messages: see SI-2388.
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182815" title="=&gt; Boolean">hasErrors</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#53433" title="(prefix: Typers.this.global.Name)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#67978" title="=&gt; Typers.this.global.tpnme.NameType">ANON_CLASS_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="String" id="682926">similar</a> = <span class="delimiter">(</span>
                    // name length check to limit unhelpful suggestions for e.g. &quot;x&quot; and &quot;b1&quot;
                    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53406" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="682931">allowed</a> = <span class="delimiter">(</span>
                        <a href="#682694" title="=&gt; Typers.this.Context">startingIdentContext</a>.<a href="Contexts.scala.html#184659" title="=&gt; List[Typers.this.Context]">enclosingContextChain</a>
                            <span title="(f: Typers.this.Context =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.Context],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">flatMap</span> <span class="delimiter">(</span><a title="Typers.this.Context" id="682956">ctx</a> =&gt; <a href="#682956" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#184561" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61763" title="=&gt; List[Typers.this.global.Symbol]">toList</a> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">++</span> <a href="#682956" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#184582" title="=&gt; List[Typers.this.ImportInfo]">imports</a>.<span title="(f: Typers.this.ImportInfo =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.ImportInfo],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Symbol,List[Typers.this.global.Symbol]]" class="delimiter">(</span><a href="#683009" title="Typers.this.ImportInfo">_</a>.<a href="Contexts.scala.html#431054" title="=&gt; List[Typers.this.global.Symbol]">allImportedSymbols</a><span class="delimiter">)</span><span class="delimiter">)</span>
                             <span title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="683096">sym</a> =&gt; <a href="#683096" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">==</span> <a href="#682686" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53410" title="=&gt; Boolean">isTermName</a><span class="delimiter">)</span>
                          <span title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="683107">sym</a> =&gt; <a href="#683107" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47786" title="=&gt; Boolean">isPackage</a> <span title="(x: Boolean)Boolean">||</span> <a href="#683107" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">||</span> <a href="#683107" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48043" title="=&gt; Boolean">hasMeaninglessName</a><span class="delimiter">)</span>
                      <span class="delimiter">)</span>
                      <span class="keyword">val</span> <a title="List[String]" id="682932">allowedStrings</a> = <span class="delimiter">(</span>
                        <a href="#682931" title="List[Typers.this.global.Symbol]">allowed</a>.<span title="(f: Typers.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#683124" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<span title="=&gt; List[String]">distinct</span>.<span title="(implicit ord: scala.math.Ordering[String])List[String]">sorted</span>
                          <span title="(p: String =&gt; Boolean)List[String]">filterNot</span> <span class="delimiter">(</span><a title="String" id="683214">s</a> =&gt; <span class="delimiter">(</span><a href="#683214" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a> <span title="(elem: Any)Boolean">contains</span> <span title="Char('$')" class="char">'$'</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#683214" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a> <span title="(elem: Any)Boolean">contains</span> <span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">)</span>
                      <a href="../../util/EditDistance.scala.html#623484" title="(name: String, allowed: TraversableOnce[String])String">similarString</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#682686" title="Typers.this.global.Name">name</a>, <a href="#682932" title="List[String]">allowedStrings</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                    <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                  <span class="delimiter">)</span>
                  <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;not found: &quot;)" class="string">&quot;not found: &quot;</span><span title="(x$1: Any)String">+</span><a href="TypeDiagnostics.scala.html#184261" title="(name: Typers.this.global.Name, owner: Typers.this.global.Symbol)String">decodeWithKind</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#682926" title="String">similar</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span title="Typer.this.infer.AccessError" class="keyword">new</span> <a href="Infer.scala.html#184536" title="Typer.this.infer.AccessError">AccessError</a><span class="delimiter">(</span>
                <a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#682691" title="Typers.this.global.Symbol">inaccessibleSym</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a>,
                <a href="#682692" title="String">inaccessibleExplanation</a>
              <span class="delimiter">)</span>.<a href="Infer.scala.html#628571" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#682688" title="Typers.this.global.Symbol">defSym</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47743" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">newErrorSymbol</a><span class="delimiter">(</span><a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
          <a href="#682689" title="Typers.this.global.Type">pre</a> = <a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Typers.this.global.Type">thisType</a>

        // Inferring classOf type parameter from expected type.
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47806" title="=&gt; Boolean">isThisSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Tree">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // Inferring classOf type parameter from expected type.  Otherwise an
        // actual call to the stubbed classOf method is generated, returning null.
        <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46342" title="(sym: Typers.this.global.Symbol, name: Typers.this.global.Name)Boolean">isPredefMemberNamed</a><span class="delimiter">(</span><a href="#682688" title="Typers.this.global.Symbol">defSym</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60196" title="=&gt; Typers.this.global.nme.NameType">classOf</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586629" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46321" title="=&gt; Typers.this.global.Symbol">ClassClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586629" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#184425" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.gen.global.Tree">typedClassOf</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="683272">tree1</a> = <span class="delimiter">(</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#682690" title="Typers.this.global.Tree">qual</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>
            // atPos necessary because qualifier might come from startContext
            <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#682690" title="Typers.this.global.Tree">qual</a>, <a href="#682686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#683274" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="#683273" title="Typers.this.global.Tree" id="683274">tree2</a>, <a href="#683273" title="Typers.this.global.Type" id="683275">pre2</a><span class="delimiter">)</span> = <a href="#184357" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#683272" title="Typers.this.global.Tree">tree1</a>, <a href="#682688" title="Typers.this.global.Symbol">defSym</a>, <a href="#682689" title="Typers.this.global.Type">pre</a>, <a href="#682690" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          // assert(pre.typeArgs isEmpty) // no need to add #2416-style check here, right?
          <a href="#184359" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#683274" title="Typers.this.global.Tree">tree2</a>, <a href="#683275" title="Typers.this.global.Type">pre2</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="683313">accErr</a>: Inferencer#<a href="Infer.scala.html#184536" title="Typers.this.Inferencer#AccessError">AccessError</a> =&gt; <a href="#683313" title="Typers.this.Inferencer#AccessError">accErr</a>.<a href="Infer.scala.html#628571" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="683316">result</a> =&gt; <a href="#683316" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)Typers.this.global.Tree" id="679894">typedCompoundTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="683317">templ</a>: <span title="Typers.this.global.Template">Template</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="683318">parents1</a> = <a href="#683317" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#683325" title="Typers.this.global.Tree">_</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="tree.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#683318" title="List[Typers.this.global.Tree]">parents1</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#683337" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="object Typers.this.global.ErrorType">ErrorType</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="683339">decls</a> = <a href="../../../reflect/internal/Scopes.scala.html#61744" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="Typers.this.global.Scope">Scope</a>
          //Console.println(&quot;Owner: &quot; + context.enclClass.owner + &quot; &quot; + context.enclClass.owner.id)
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="683340">self</a> = <a href="../../../reflect/internal/Types.scala.html#40195" title="(parents: List[Typers.this.global.Type], owner: Typers.this.global.Symbol, decls: Typers.this.global.Scope, pos: Typers.this.global.Position)Typers.this.global.Type">refinedType</a><span class="delimiter">(</span><a href="#683318" title="List[Typers.this.global.Tree]">parents1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#683367" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#683339" title="Typers.this.global.Scope">decls</a>, <a href="#683317" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184642" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#683317" title="Typers.this.global.Template">templ</a>, <a href="#683340" title="Typers.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#683339" title="Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184403" title="(stats: List[Typers.this.global.Tree])Unit">typedRefinement</a><span class="delimiter">(</span><a href="#683317" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
          <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#683340" title="Typers.this.global.Type">self</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="679895">typedAppliedTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683397">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="683398">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="683399">tpt1</a> = <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#683397" title="Typers.this.global.Tree">tpt</a>, <a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(128)">TAPPmode</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)String">+</span><span title="String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="683413">tparams</a> = <a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#683413" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#683398" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="683416">args1</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47930" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../../../reflect/internal/Types.scala.html#42725" title="=&gt; Boolean">isComplete</a><span class="delimiter">)</span>
                <a href="#683398" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#184447" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#683426" title="Typers.this.global.Tree">_</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                // if symbol hasn't been fully loaded, can't check kind-arity
              <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#40336" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#683398" title="List[Typers.this.global.Tree]">args</a>, <a href="#683413" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683465">arg</a>, <a title="Typers.this.global.Symbol" id="683466">tparam</a><span class="delimiter">)</span> =&gt;
                //@M! the polytype denotes the expected kind
                <a href="#184446" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#683465" title="Typers.this.global.Tree">arg</a>, <a href="#586628" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#40205" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#683466" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="683417">argtypes</a> = <a href="#683416" title="List[Typers.this.global.Tree]">args1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#683487" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

            <a href="../../../reflect/internal/util/Collections.scala.html#39613" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#683398" title="List[Typers.this.global.Tree]">args</a>, <a href="#683413" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683548">arg</a>, <a title="Typers.this.global.Symbol" id="683549">tparam</a><span class="delimiter">)</span> =&gt; <a href="#683548" title="Typers.this.global.Tree">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              // note: can't use args1 in selector, because Bind's got replaced
              <span class="keyword">case</span> <span title="Unit">Bind</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#683548" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span>
                  <a href="#683548" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> // XXX, feedback. don't trackSymInfo here!
                    <a href="../../../reflect/internal/Types.scala.html#66838" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span>
                      <a href="../../../reflect/internal/Types.scala.html#40365" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">lub</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#683548" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; Typers.this.global.Type">lo</a>, <a href="#683549" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#42782" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#683413" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#683417" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                      <a href="../../../reflect/internal/Types.scala.html#40374" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#683548" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; Typers.this.global.Type">hi</a>, <a href="#683549" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; Typers.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#42782" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#683413" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#683417" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AppliedTypeTree" id="683418">original</a> = <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.AppliedTypeTree">AppliedTypeTree</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683399" title="Typers.this.global.Tree">tpt1</a>, <a href="#683416" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="683419">result</a> = <a href="Analyzer.scala.html#183929" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#683417" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#683418" title="Typers.this.global.AppliedTypeTree">original</a>
            <span title="Typers extends Typers.this.global.TypTree with Serializable" class="keyword">if</span><span class="delimiter">(</span><a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40152" title="Typers.this.global.PolyType">PolyType</a><span class="delimiter">]</span><span class="delimiter">)</span> // did the type application (performed by appliedType) involve an unchecked beta-reduction?
              <a href="../ast/Trees.scala.html#251966" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                // wrap the tree and include the bounds check -- refchecks will perform this check (that the beta reduction was indeed allowed) and unwrap
                // we can't simply use original in refchecks because it does not contains types
                // (and the only typed trees we have have been mangled so they're not quite the original tree anymore)
                <a href="Infer.scala.html#184501" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#683419" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#683417" title="List[Typers.this.global.Type]">argtypes</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                <a href="#683419" title="Typers.this.global.TypeTree">result</a> // you only get to see the wrapped tree after running this check :-p
              <span class="delimiter">}</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</span> <span class="delimiter">(</span><a href="#683419" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTreeWithDeferredRefCheck">setPos</span><span class="delimiter">(</span><a href="#683419" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#683419" title="Typers.this.global.TypeTree">result</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#683413" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)String">+</span><span title="String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            //Console.println(&quot;\{tpt1}:\{tpt1.symbol}:\{tpt1.symbol.info}&quot;)
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#683399" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpt1</a><span title="(other: String)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>//debug
            <a href="Infer.scala.html#184471" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <span title="String(&quot;wrong number of type arguments for &quot;)" class="string">&quot;wrong number of type arguments for &quot;</span><span title="(x$1: Any)String">+</span><a href="#683399" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)String">+</span><span title="String(&quot;, should be &quot;)" class="string">&quot;, should be &quot;</span><span title="(x$1: Any)String">+</span><a href="#683413" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef" id="679896">adaptCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="680647">cdef</a>: <span title="Typers.this.global.CaseDef">CaseDef</span>, <a title="Typers.this.global.Type" id="680648">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.CaseDef">CaseDef</span> =
        <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a href="#680647" title="Typers.this.global.CaseDef">cdef</a>, <a href="#680647" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">pat</span>, <a href="#680647" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span>, <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#680647" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#586628" title="Int">mode</a>, <a href="#680648" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // begin typed1
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="679897">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a> = <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#679897" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#679897" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#679897" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47932" title="=&gt; sym.type">initialize</a>
      //if (settings.debug.value &amp;&amp; tree.isDef) log(&quot;typing definition of &quot;+sym);//DEBUG
      <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a title="Typers.this.global.RefTree" id="683641">pid</a>, <a title="List[Typers.this.global.Tree]" id="683642">stats</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.RefTree" id="683643">pid1</a> = <a href="#184441" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#683641" title="Typers.this.global.RefTree">pid</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.RefTree" class="delimiter">[</span><span title="Typers.this.global.RefTree">RefTree</span><span class="delimiter">]</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#679897" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#679897" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          // complete lazy annotations
          <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="683644">annots</a> = <a href="#679897" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="683645">stats1</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184642" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#679897" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; Typers.this.global.Symbol">moduleClass</a>, <a href="#679897" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#184406" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#683642" title="List[Typers.this.global.Tree]">stats</a>, <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, pid: Typers.this.global.RefTree, stats: List[Typers.this.global.Tree])Typers.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683643" title="Typers.this.global.RefTree">pid1</a>, <a href="#683645" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.PackageDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Typers.this.global.NoType">NoType</a>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="683660">tree</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#683660" title="Typers.this.global.ClassDef">tree</a>, <a href="#679897" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184381" title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree">typedClassDef</a><span class="delimiter">(</span><a href="#683660" title="Typers.this.global.ClassDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="683667">tree</a> @ ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#683667" title="Typers.this.global.ModuleDef">tree</a>, <a href="#679897" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; Typers.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184382" title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree">typedModuleDef</a><span class="delimiter">(</span><a href="#683667" title="Typers.this.global.ModuleDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="683673">vdef</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#184389" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">(</span><a href="#683673" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.DefDef" id="683680">ddef</a> @ DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#679897" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184393" title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef">typedDefDef</a><span class="delimiter">(</span><a href="#683680" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeDef" id="683689">tdef</a> @ TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#184394" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">(</span><a href="#683689" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.LabelDef" id="683699">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#184351" title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer">labelTyper</a><span class="delimiter">(</span><a href="#683699" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>.<a href="#184397" title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef">typedLabelDef</a><span class="delimiter">(</span><a href="#683699" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="683705">ddef</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="683708">comment</a>, <a title="Typers.this.global.Tree" id="683709">defn</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183038" title="=&gt; Boolean">forScaladoc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#679897" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#679897" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../ast/DocComments.scala.html#183162" title="(key: Typers.this.global.Symbol, value: Typers.this.global.DocComment)Unit">docComments</a><span class="delimiter">(</span><a href="#679897" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#683708" title="Typers.this.global.DocComment">comment</a>
            <a href="#683708" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#251901" title="(sym: Typers.this.global.Symbol)Unit">defineVariables</a><span class="delimiter">(</span><a href="#679897" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="683710">typer1</a> = <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="683735">useCase</a> &lt;- <a href="#683708" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#251897" title="(f: Typers.this.global.UseCase =&gt; Unit)Unit">useCases</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#683710" title="Typers.this.Typer">typer1</a>.<a href="#184363" title="(op: Typers.this.Typer =&gt; Unit, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#683741" title="Typers.this.Typer">_</a>.<a href="#184392" title="(useCase: Typers.this.global.UseCase)Unit">typedUseCase</a><span class="delimiter">(</span><a href="#683735" title="Typers.this.global.UseCase">useCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="683747">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#683735" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256825" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#683747" title="Typers.this.global.TypeError">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67272" title="=&gt; String">msg</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="683769">useCaseSym</a> &lt;- <a href="#683735" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256828" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">defined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#679897" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#683769" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#683735" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#256825" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;@usecase &quot;)" class="string">&quot;@usecase &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#683769" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; does not match commented symbol: &quot;)" class="string">&quot; does not match commented symbol: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#679897" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#683709" title="Typers.this.global.Tree">defn</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683785">constr</a>, <a title="Typers.this.global.Tree" id="683786">arg</a><span class="delimiter">)</span> =&gt;
          <a href="#679876" title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree">typedAnnotated</a><span class="delimiter">(</span><a href="#683785" title="Typers.this.global.Tree">constr</a>, <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#683786" title="Typers.this.global.Tree">arg</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Block" id="683791">tree</a> @ Block<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#683791" title="Typers.this.global.Block">tree</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#184398" title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block">typedBlock</a><span class="delimiter">(</span><a href="#683791" title="Typers.this.global.Block">tree</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Alternative">Alternative</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="683797">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="683798">alts1</a> = <a href="#683797" title="List[Typers.this.global.Tree]">alts</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683805">alt</a> =&gt; <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#683805" title="Typers.this.global.Tree">alt</a>, <a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(8192)">ALTmode</span>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.Alternative">Alternative</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683798" title="List[Typers.this.global.Tree]">alts1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Alternative">setType</span> <a href="#586629" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Star">Star</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683821">elem</a><span class="delimiter">)</span> =&gt;
          <a href="#184344" title="(pos: Typers.this.global.Position, mode: Int)Unit">checkStarPatOK</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="683822">elem1</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#683821" title="Typers.this.global.Tree">elem</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, elem: Typers.this.global.Tree)Typers.this.global.Star">Star</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683822" title="Typers.this.global.Tree">elem1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Star">setType</span> <a href="Infer.scala.html#184482" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Bind</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="683836">name</a>, <a title="Typers.this.global.Tree" id="683837">body</a><span class="delimiter">)</span> =&gt;
          <a href="#679877" title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree">typedBind</a><span class="delimiter">(</span><a href="#683836" title="Typers.this.global.Name">name</a>, <a href="#683837" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.UnApply">UnApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683840">fun</a>, <a title="List[Typers.this.global.Tree]" id="683841">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="683842">fun1</a> = <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#683840" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="683843">tpes</a> = <a href="Infer.scala.html#184089" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="Unapplies.scala.html#184184" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#683840" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#683842" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#683841" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="683844">args1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2</a><span class="delimiter">(</span><a href="#683841" title="List[Typers.this.global.Tree]">args</a>, <a href="#683843" title="List[Typers.this.global.Type]">tpes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184443" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683842" title="Typers.this.global.Tree">fun1</a>, <a href="#683844" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</span> <a href="#586629" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.ArrayValue">ArrayValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683895">elemtpt</a>, <a title="List[Typers.this.global.Tree]" id="683896">elems</a><span class="delimiter">)</span> =&gt;
          <a href="#679878" title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">typedArrayValue</a><span class="delimiter">(</span><a href="#683895" title="Typers.this.global.Tree">elemtpt</a>, <a href="#683896" title="List[Typers.this.global.Tree]">elems</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="683897">tree</a> @ Function<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#683897" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#683897" title="Typers.this.global.Function">tree</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="Typers.this.global.Symbol" id="683909">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#112997" title="Long" id="683911">newAnonymousFunctionValue</a><span class="delimiter">(</span><a href="#683897" title="Typers.this.global.Function">tree</a>.<a title="Typers.this.global.Position" id="683910">pos</a><span class="delimiter">)</span>

          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#683897" title="Typers.this.global.Function">tree</a>, <a href="#683897" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184401" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#683897" title="Typers.this.global.Function">tree</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Assign</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683914">lhs</a>, <a title="Typers.this.global.Tree" id="683915">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#679879" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#683914" title="Typers.this.global.Tree">lhs</a>, <a href="#683915" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AssignOrNamedArg</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683918">lhs</a>, <a title="Typers.this.global.Tree" id="683919">rhs</a><span class="delimiter">)</span> =&gt; // called by NamesDefaults in silent typecheck
          <a href="#679879" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#683918" title="Typers.this.global.Tree">lhs</a>, <a href="#683919" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.If">If</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683923">cond</a>, <a title="Typers.this.global.Tree" id="683924">thenp</a>, <a title="Typers.this.global.Tree" id="683925">elsep</a><span class="delimiter">)</span> =&gt;
          <a href="#679880" title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">typedIf</a><span class="delimiter">(</span><a href="#683923" title="Typers.this.global.Tree">cond</a>, <a href="#683924" title="Typers.this.global.Tree">thenp</a>, <a href="#683925" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="683926">tree</a> @ Match<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683929">selector</a>, <a title="List[Typers.this.global.CaseDef]" id="683930">cases</a><span class="delimiter">)</span> =&gt;
          <a href="#679881" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Tree">typedMatch</a><span class="delimiter">(</span><a href="#683926" title="Typers.this.global.Match">tree</a>, <a href="#683929" title="Typers.this.global.Tree">selector</a>, <a href="#683930" title="List[Typers.this.global.CaseDef]">cases</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Return</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683932">expr</a><span class="delimiter">)</span> =&gt;
          <a href="#679882" title="(expr: Typers.this.global.Tree)Typers.this.global.Tree">typedReturn</a><span class="delimiter">(</span><a href="#683932" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Try">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="683936">block</a>, <a title="List[Typers.this.global.CaseDef]" id="683937">catches</a>, <a title="Typers.this.global.Tree" id="683938">finalizer</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="683939">block1</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#683936" title="Typers.this.global.Tree">block</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="683940">catches1</a> = <a href="#184400" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683937" title="List[Typers.this.global.CaseDef]">catches</a>, <a href="../../../reflect/internal/Definitions.scala.html#46305" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="683941">finalizer1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#683938" title="Typers.this.global.Tree">finalizer</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#683938" title="Typers.this.global.Tree">finalizer</a>
                           <span class="keyword">else</span> <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#683938" title="Typers.this.global.Tree">finalizer</a>, <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#683943" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#683942" title="Typers.this.global.Type" id="683943">owntype</a>, <a href="#683942" title="Boolean" id="683944">needAdapt</a><span class="delimiter">)</span> = <a href="#679874" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#683939" title="Typers.this.global.Tree">block1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="#683953" title="(x: Typers.this.global.Type)List[Typers.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#683940" title="List[Typers.this.global.CaseDef]">catches1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#683973" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#683944" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#683939" title="Typers.this.global.Tree">block1</a> = <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#683939" title="Typers.this.global.Tree">block1</a>, <a href="#586628" title="Int">mode</a>, <a href="#683943" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#683940" title="List[Typers.this.global.CaseDef]">catches1</a> = <a href="#683940" title="List[Typers.this.global.CaseDef]">catches1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#679896" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#684035" title="Typers.this.global.CaseDef">_</a>, <a href="#683943" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, block: Typers.this.global.Tree, catches: List[Typers.this.global.CaseDef], finalizer: Typers.this.global.Tree)Typers.this.global.Try">Try</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#683939" title="Typers.this.global.Tree">block1</a>, <a href="#683940" title="List[Typers.this.global.CaseDef]">catches1</a>, <a href="#683941" title="Typers.this.global.Tree">finalizer1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Try">setType</span> <a href="#683943" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Throw">Throw</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684071">expr</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684072">expr1</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684071" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Definitions.scala.html#46305" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Throw">Throw</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#684072" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Throw">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Typers.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70289" title="=&gt; Typers.this.global.Type">tpe</a>

        <span class="keyword">case</span> <span title="Typers.this.global.New">New</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684089">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =&gt;
          <a href="#679883" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">typedNew</a><span class="delimiter">(</span><a href="#684089" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684092">expr</a>, Function<span class="delimiter">(</span><a href="#684096" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#679884" title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree">typedEta</a><span class="delimiter">(</span><a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#684092" title="Typers.this.global.Tree">expr</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684109">expr</a>, <a title="Typers.this.global.Ident" id="684110">tpt</a> @ Ident<span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#67899" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684114">expr0</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684109" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#184031" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#586628" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)Typers.this.global.Type" id="684115">subArrayType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="684123">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#684123" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="Infer.scala.html#184100" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#684123" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46561" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#684123" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="684125">tparam</a> = <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#47730" title="(suffix: String)Typers.this.global.Symbol">freshExistential</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#40114" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#66836" title="(hi: Typers.this.global.Type)Typers.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#684123" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#40155" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.Type">newExistentialType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#684125" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#46561" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#684125" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#684117" title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</a><a href="#684116" title="Typers.this.global.Tree" id="684117">expr1</a>, <a href="#684116" title="Typers.this.global.Symbol" id="684118">baseClass</a><span class="delimiter">)</span> = <a href="#684114" title="Typers.this.global.Tree">expr0</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#46442" title="(Typers.this.global.Tree, Typers.this.global.Symbol)">ArrayClass</a> =&gt; <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</span><a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#684114" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#184031" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#586628" title="Int">mode</a><span class="delimiter">)</span>, <a href="#684115" title="(pt: Typers.this.global.Type)Typers.this.global.Type">subArrayType</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)">_</span>          =&gt; <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</span><a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#684114" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#184031" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#586628" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#46560" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#46420" title="=&gt; Typers.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#684117" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42777" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#684118" title="Typers.this.global.Symbol">baseClass</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Typed">TypeRef</span><span class="delimiter">(</span>_, _, <a href="#684165" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="684176">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#684117" title="Typers.this.global.Tree">expr1</a>, <a href="#684110" title="Typers.this.global.Ident">tpt</a> <span title="(tp: Typers.this.global.Type)tpt.type">setType</span> <a href="#684176" title="Typers.this.global.Type">elemtp</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#684176" title="Typers.this.global.Type">elemtp</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684189">expr</a>, <a title="Typers.this.global.Tree" id="684190">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684191">tpt1</a> = <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#684190" title="Typers.this.global.Tree">tpt</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684192">expr1</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684189" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#184031" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#586628" title="Int">mode</a><span class="delimiter">)</span>, <a href="#684191" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42733" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="684193">owntype</a> =
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#679873" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="Infer.scala.html#184514" title="(pos: Typers.this.global.Position, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#684191" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#684191" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#684191" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          //Console.println(typed pattern: &quot;+tree+&quot;:&quot;+&quot;, tp = &quot;+tpt1.tpe+&quot;, pt = &quot;+pt+&quot; ==&gt; &quot;+owntype)//DEBUG
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#684192" title="Typers.this.global.Tree">expr1</a>, <a href="#684191" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#684193" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684207">fun</a>, <a title="List[Typers.this.global.Tree]" id="684208">args</a><span class="delimiter">)</span> =&gt;
          // @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)
          //@M! we must type fun in order to type the args, as that requires the kinds of fun's type parameters.
          // However, args should apparently be done first, to save context.undetparams. Unfortunately, the args
          // *really* have to be typed *after* fun. We escape from this classic Catch-22 by simply saving&amp;restoring undetparams.

          // @M TODO: the compiler still bootstraps&amp;all tests pass when this is commented out..
          //val undets = context.undetparams

          // @M: fun is typed in TAPPmode because it is being applied to its actual type parameters
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684209">fun1</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684207" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#184032" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#586628" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <span title="Int(128)">TAPPmode</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="684210">tparams</a> = <a href="#684209" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>

          //@M TODO: val undets_fun = context.undetparams  ?
          // &quot;do args first&quot; (by restoring the context.undetparams) in order to maintain context.undetparams on the function side.

          // @M TODO: the compiler still bootstraps when this is commented out.. TODO: run tests
          //context.undetparams = undets

          // @M maybe the well-kindedness check should be done when checking the type arguments conform to the type parameters' bounds?
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="684211">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#684208" title="List[Typers.this.global.Tree]">args</a>, <a href="#684210" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#40336" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#684208" title="List[Typers.this.global.Tree]">args</a>, <a href="#684210" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        //@M! the polytype denotes the expected kind
                        <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684255">arg</a>, <a title="Typers.this.global.Symbol" id="684256">tparam</a><span class="delimiter">)</span> =&gt; <a href="#184446" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#684255" title="Typers.this.global.Tree">arg</a>, <a href="#586628" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#40205" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#684256" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      //@M  this branch is correctly hit for an overloaded polymorphic type. It also has to handle erroneous cases.
                      // Until the right alternative for an overloaded method is known, be very liberal,
                      // typedTypeApply will find the right alternative and then do the same check as
                      // in the then-branch above. (see pos/tcpoly_overloaded.scala)
                      // this assert is too strict: be tolerant for errors like trait A { def foo[m[x], g]=error(&quot;&quot;); def x[g] = foo[g/*ERR: missing argument type*/] }
                      //assert(fun1.symbol.info.isInstanceOf[OverloadedType] || fun1.symbol.isError) //, (fun1.symbol,fun1.symbol.info,fun1.symbol.info.getClass,args,tparams))
                        <a href="#684208" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#184447" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#684267" title="Typers.this.global.Tree">_</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span>

          //@M TODO: context.undetparams = undets_fun ?
          <a href="#184427" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#586628" title="Int">mode</a>, <a href="#684209" title="Typers.this.global.Tree">fun1</a>, <a href="#684211" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="684281">stats</a>, <a title="Typers.this.global.Tree" id="684282">expr</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="684283">args</a><span class="delimiter">)</span> =&gt;
          <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#684281" title="List[Typers.this.global.Tree]">stats</a>, <a href="Analyzer.scala.html#183929" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#684282" title="Typers.this.global.Tree">expr</a>, <a href="#684283" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684330">fun</a>, <a title="List[Typers.this.global.Tree]" id="684331">args</a><span class="delimiter">)</span> =&gt;
          <a href="#679887" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedApply</a><span class="delimiter">(</span><a href="#684330" title="Typers.this.global.Tree">fun</a>, <a href="#684331" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684343">tpt</a><span class="delimiter">)</span>, <a title="Typers.this.global.Name" id="684344">name</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="684345">args</a><span class="delimiter">)</span>
            <span class="keyword">if</span> <span class="delimiter">(</span><a href="#684343" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#684343" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; Typers.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#684345" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="../Global.scala.html#182954" title="object Typers.this.global.erasure">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#82320" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#161827" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span class="delimiter">(</span><a href="#684343" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> =&gt; // !!! todo simplify by using extractor
              // convert new Array[T](len) to evidence[ClassManifest[T]].newArray(len)
              // convert new Array^N[T](len) for N &gt; 1 to evidence[ClassManifest[T]].newArrayN(len)
              <span class="keyword">val</span> Some<a href="#684364" title="(Int, Typers.this.global.erasure.global.Type)" class="delimiter">(</a><span class="delimiter">(</span><a href="#684363" title="Int" id="684364">level</a>, <a href="#684363" title="Typers.this.global.erasure.global.Type" id="684365">manifType</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="../Global.scala.html#182954" title="object Typers.this.global.erasure">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#82320" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#161827" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span title="Option[(Int, Typers.this.global.erasure.global.Type)] @unchecked" class="delimiter">(</span><a href="#684343" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#684364" title="Int">level</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../../../reflect/internal/Definitions.scala.html#46523" title="=&gt; Int">MaxArrayDims</a><span class="delimiter">)</span>
                <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;cannot create a generic multi-dimensional array of more than &quot;)" class="string">&quot;cannot create a generic multi-dimensional array of more than &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/Definitions.scala.html#46523" title="=&gt; Int">MaxArrayDims</a><span title="(x$1: Any)String">+</span><span title="String(&quot; dimensions&quot;)" class="string">&quot; dimensions&quot;</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.ApplyToImplicitArgs" id="684366">newArrayApp</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyToImplicitArgs)Typers.this.global.ApplyToImplicitArgs">atPos</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684386">manif</a> = <a href="#184454" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#684365" title="Typers.this.global.erasure.global.Type">manifType</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="Analyzer.scala.html#183929" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: String)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#684386" title="Typers.this.global.Tree">manif</a>, <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#684364" title="Int">level</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span> <span class="keyword">else</span> <span title="String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span><span title="(x$1: Any)String">+</span><a href="#684364" title="Int">level</a><span class="delimiter">)</span>, <a href="#684345" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684366" title="Typers.this.global.ApplyToImplicitArgs">newArrayApp</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="684413">tree1</a> =&gt;
              <a href="#684413" title="Typers.this.global.Tree">tree1</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.ApplyDynamic">ApplyDynamic</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684416">qual</a>, <a title="List[Typers.this.global.Tree]" id="684417">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="684418">reflectiveCalls</a> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183502" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">refinementMethodDispatch</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#75565" title="=&gt; String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;invoke-dynamic&quot;)" class="string">&quot;invoke-dynamic&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684419">qual1</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684416" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="684420">args1</a> = <a href="#684417" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684439">arg</a> =&gt; <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#684418" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684439" title="Typers.this.global.Tree">arg</a>, <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684439" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.ApplyDynamic">ApplyDynamic</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#684419" title="Typers.this.global.Tree">qual1</a>, <a href="#684420" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ApplyDynamic">setType</span> <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#684418" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Super">Super</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684462">qual</a>, <a title="Typers.this.global.TypeName" id="684463">mix</a><span class="delimiter">)</span> =&gt;
          <a href="#679890" title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">typedSuper</a><span class="delimiter">(</span><a href="#684462" title="Typers.this.global.Tree">qual</a>, <a href="#684463" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="684467">qual</a><span class="delimiter">)</span> =&gt;
          <a href="#679891" title="(qual: Typers.this.global.Name)Typers.this.global.Tree">typedThis</a><span class="delimiter">(</span><a href="#684467" title="Typers.this.global.TypeName">qual</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Super" id="684472">qual</a> @ Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684477">qual1</a> =
            <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684472" title="Typers.this.global.Super">qual</a>, EXPRmode | QUALmode | POLYmode <span title="Int(353)">|</span> SUPERCONSTRmode, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          // the qualifier type of a supercall constructor is its first parent class
          <a href="#679892" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#684477" title="Typers.this.global.Tree">qual1</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684498">qual</a>, <a title="Typers.this.global.Name" id="684499">name</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/util/StatBase.scala.html#39915" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183857" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedSelectCount</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="684500">qual1</a> = <a href="TypeDiagnostics.scala.html#670189" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#184440" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#684498" title="Typers.this.global.Tree">qual</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#684499" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53411" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#684500" title="Typers.this.global.Tree">qual1</a> = <a href="#184336" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#684500" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684501">tree1</a> = // temporarily use `filter` and an alternative for `withFilter`
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#684499" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60374" title="=&gt; Typers.this.global.nme.NameType">withFilter</a><span class="delimiter">)</span>
              <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="684517">_</a> =&gt; <a href="#679892" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#684500" title="Typers.this.global.Tree">qual1</a>, <a href="#684499" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="684523">result1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
                  <a href="#684523" title="Typers.this.global.Tree">result1</a>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="684524">ex1</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <a href="#184363" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="684530">_</a> =&gt; <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#684500" title="Typers.this.global.Tree">qual1</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60232" title="=&gt; Typers.this.global.nme.NameType">filter</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="684558">result2</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
                      <a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185133" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
                        <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;`withFilter\' method does not yet exist on &quot;)" class="string">&quot;`withFilter' method does not yet exist on &quot;</span><span title="(x$1: Any)String">+</span><a href="#684500" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a><span title="(x$1: Any)String">+</span>
                        <span title="String(&quot;, using `filter\' method instead&quot;)" class="string">&quot;, using `filter' method instead&quot;</span><span class="delimiter">)</span>
                      <a href="#684558" title="Typers.this.global.Tree">result2</a>
                    <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="684559">ex2</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                      <a href="TypeDiagnostics.scala.html#184316" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#684524" title="Typers.this.global.TypeError">ex1</a><span class="delimiter">)</span>
                      <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">else</span>
              <a href="#679892" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#684500" title="Typers.this.global.Tree">qual1</a>, <a href="#684499" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#684500" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46240" title="=&gt; Typers.this.global.Symbol">RootPackage</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Ident">Ident</span><span class="delimiter">(</span><a href="#684501" title="Typers.this.global.Tree">tree1</a>, <a href="#684499" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#684501" title="Typers.this.global.Tree">tree1</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="684573">name</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/util/StatBase.scala.html#39915" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183855" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedIdentCount</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#684573" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">PATTERNmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
              <span class="delimiter">(</span><a href="#684573" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(4)">TYPEmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="Infer.scala.html#184482" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#679893" title="(name: Typers.this.global.Name)Typers.this.global.Tree">typedIdent</a><span class="delimiter">(</span><a href="#684573" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.ReferenceToBoxed">ReferenceToBoxed</span><span class="delimiter">(</span><a title="Typers.this.global.Ident" id="684608">idt</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="684612">id1</a> = <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#684608" title="Typers.this.global.Ident">idt</a>, <a href="#586628" title="Int">mode</a>, <a href="#586629" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Ident" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Typers.this.global.Ident" id="684613">id</a>: <span title="Typers.this.global.Ident">Ident</span> =&gt; <a href="#684613" title="Typers.this.global.Ident">id</a> <span class="delimiter">}</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#279704" title="(tree: Typers.this.global.Tree, idt: Typers.this.global.Ident)Typers.this.global.ReferenceToBoxed">ReferenceToBoxed</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#684612" title="Typers.this.global.Ident">id1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ReferenceToBoxed">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>         

        <span class="keyword">case</span> <span title="tree.type">Literal</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="684620">value</a><span class="delimiter">)</span> =&gt;
          <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#684620" title="Typers.this.global.Constant">value</a>.<a href="../../../reflect/internal/Constants.scala.html#47580" title="=&gt; Int">tag</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#83606" title="(value: Typers.this.global.Constant)Typers.this.global.ConstantType">ConstantType</a><span class="delimiter">(</span><a href="#684620" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="tree.type">SingletonTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684629">ref</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684630">ref1</a> = <a href="#184336" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span>
            <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#684629" title="Typers.this.global.Tree">ref</a>, EXPRmode <span title="Int(65)">|</span> QUALmode <span title="(x: Int)Int">|</span> <span class="delimiter">(</span><a href="#586628" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">TYPEPATmode</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#684630" title="Typers.this.global.Tree">ref1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Typers.this.global.Type">resultType</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684651">qual</a>, <a title="Typers.this.global.TypeName" id="684652">selector</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684653">qual1</a> = <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#684651" title="Typers.this.global.Tree">qual</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#684653" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42716" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;illegal type selection from volatile type &quot;)" class="string">&quot;illegal type selection from volatile type &quot;</span><span title="(x$1: Any)String">+</span><a href="#684651" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="#679892" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#684653" title="Typers.this.global.Tree">qual1</a>, <a href="#684652" title="Typers.this.global.TypeName">selector</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">CompoundTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Template" id="684659">templ</a><span class="delimiter">)</span> =&gt;
          <a href="#679894" title="(templ: Typers.this.global.Template)Typers.this.global.Tree">typedCompoundTypeTree</a><span class="delimiter">(</span><a href="#684659" title="Typers.this.global.Template">templ</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AppliedTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684662">tpt</a>, <a title="List[Typers.this.global.Tree]" id="684663">args</a><span class="delimiter">)</span> =&gt;
          <a href="#679895" title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedAppliedTypeTree</a><span class="delimiter">(</span><a href="#684662" title="Typers.this.global.Tree">tpt</a>, <a href="#684663" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.TypeBoundsTree">TypeBoundsTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684666">lo</a>, <a title="Typers.this.global.Tree" id="684667">hi</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684668">lo1</a> = <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#684666" title="Typers.this.global.Tree">lo</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684669">hi1</a> = <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#684667" title="Typers.this.global.Tree">hi</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#183929" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, lo: Typers.this.global.Tree, hi: Typers.this.global.Tree)Typers.this.global.TypeBoundsTree">TypeBoundsTree</span><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#684668" title="Typers.this.global.Tree">lo1</a>, <a href="#684669" title="Typers.this.global.Tree">hi1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeBoundsTree">setType</span> <a href="../../../reflect/internal/Types.scala.html#66838" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#684668" title="Typers.this.global.Tree">lo1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#684669" title="Typers.this.global.Tree">hi1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="684684">etpt</a> @ ExistentialTypeTree<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184644" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#586627" title="Typers.this.global.Tree">tree</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#184426" title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree">typedExistentialTypeTree</a><span class="delimiter">(</span><a href="#684684" title="Typers.this.global.ExistentialTypeTree">etpt</a>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeTreeWithDeferredRefCheck" id="684687">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#684687" title="Typers.this.global.TypeTreeWithDeferredRefCheck">dc</a> // TODO: should we re-type the wrapped tree? then we need to change TypeTreeWithDeferredRefCheck's representation to include the wrapped tree explicitly (instead of in its closure)
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="684689">tpt</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#684689" title="Typers.this.global.TypeTree">tpt</a>.<span title="=&gt; Typers.this.global.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#684689" title="Typers.this.global.TypeTree">tpt</a>.<span title="=&gt; Typers.this.global.Tree">original</span>, <a href="#586628" title="Int">mode</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="keyword">else</span>
            // we should get here only when something before failed
            // and we try again (@see tryTypedApply). In that case we can assign
            // whatever type to tree; we just have to survive until a real error message is issued.
            <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="tree.type">Import</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684704">expr</a>, <a title="List[Typers.this.global.ImportSelector]" id="684705">selectors</a><span class="delimiter">)</span> =&gt;
          <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="../Global.scala.html#183037" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> // should not happen in normal circumstances.
          <a href="#586627" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;unexpected tree: &quot;)" class="string">&quot;unexpected tree: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586627" title="Typers.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#586627" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>//debug
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184433">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="184736">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="184737">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="184738">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#184429" title="()Unit">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Boolean" id="684713">alreadyTyped</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#34980" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../../../reflect/internal/util/StatBase.scala.html#39911" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="684716">t</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39913" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#183847" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../util/Statistics.scala.html#183841" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183847" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#684789" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#684716" title="Long">t</a> <span title="(x: Long)Long">-</span> <a href="../util/Statistics.scala.html#183850" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
          <span class="delimiter">}</span>
          <a href="../util/Statistics.scala.html#183851" title="(x$1: Long)Unit">typerTime</a> = <a href="#684716" title="Long">t</a>
          <a href="../util/Statistics.scala.html#183848" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span> <a href="#684821" title="(x: Class[_])List[Class[_]]">::</a> <a href="../util/Statistics.scala.html#183847" title="=&gt; List[Class[_]]">pendingTreeTypes</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184618" title="=&gt; Boolean">retyping</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#184738" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="(sym: Typers.this.global.Symbol)Unit">symbol</span> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>

        <a href="#684713" title="Boolean">alreadyTyped</a> = <a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="684714">tree1</a>: <span title="Typers.this.global.Tree">Tree</span> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#684713" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <a href="#184736" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#184430" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
            <a href="../../../reflect/internal/TypeDebugging.scala.html#83199" title="(label: String, pairs: (String, Any)*)String">ptLine</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typing %s: pt = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="../../../reflect/internal/TypeDebugging.scala.html#83200" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#184738" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>,
              <span title="(x: String)ArrowAssoc[String]" class="string">&quot;undetparams&quot;</span>      <span title="(y: List[Typers.this.global.Symbol])(String, List[Typers.this.global.Symbol])">-&gt;</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184629" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>,
              <span title="(x: String)ArrowAssoc[String]" class="string">&quot;implicitsEnabled&quot;</span> <span title="(y: Boolean)(String, Boolean)">-&gt;</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184612" title="=&gt; Boolean">implicitsEnabled</a>,
              <span title="(x: String)ArrowAssoc[String]" class="string">&quot;silent&quot;</span>           <span title="(y: Boolean)(String, Boolean)">-&gt;</span> <span title="=&gt; Boolean">!</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184606" title="=&gt; Boolean">reportGeneralErrors</a>,
              <span title="(x: String)ArrowAssoc[String]" class="string">&quot;context.owner&quot;</span>    <span title="(y: Typers.this.global.Symbol)(String, Typers.this.global.Symbol)">-&gt;</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684848">tree1</a> = <a href="#184432" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a>, <a href="#184737" title="Int">mode</a>, <a href="#184335" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#184738" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#184430" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typed %s: %s%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="../../../reflect/internal/TypeDebugging.scala.html#83200" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#684848" title="Typers.this.global.Tree">tree1</a><span class="delimiter">)</span>, <a href="#684848" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>,
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40324" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#684848" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot; with underlying &quot;)" class="string">&quot; with underlying &quot;</span><span title="(x$1: Any)String">+</span><a href="#684848" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#684848" title="Typers.this.global.Tree">tree1</a>
        <span class="delimiter">}</span>

        <a href="#684714" title="Typers.this.global.Tree">tree1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../../../reflect/internal/AnnotationCheckers.scala.html#36293" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#684714" title="Typers.this.global.Tree">tree1</a>, <a href="#684714" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684715">result</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#684714" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#684714" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#184368" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#684714" title="Typers.this.global.Tree">tree1</a>, <a href="#184737" title="Int">mode</a>, <a href="#184738" title="Typers.this.global.Type">pt</a>, <a href="#184736" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#684713" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#184430" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;adapted %s: %s to %s, %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#684714" title="Typers.this.global.Tree">tree1</a>, <a href="#684714" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#184738" title="Typers.this.global.Type">pt</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184628" title="=&gt; String">undetparamsString</a><span class="delimiter">)</span>
          <span class="delimiter">)</span> //DEBUG
        <span class="delimiter">}</span>

//      for (t &lt;- tree1.tpe) assert(t != WildcardType)
//      if ((mode &amp; TYPEmode) != 0) println(&quot;type: &quot;+tree1+&quot; has type &quot;+tree1.tpe)
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184061" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <a href="../Global.scala.html#182884" title="(context: Typers.this.global.analyzer.Context, old: Typers.this.global.Tree, result: Typers.this.global.Tree)Unit">signalDone</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#183956" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#184736" title="Typers.this.global.Tree">tree</a>, <a href="#684715" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span>
        <a href="#684715" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="684926">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <a href="#184430" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;caught %s: while typing %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#684926" title="Typers.this.global.TypeError">ex</a>, <a href="#184736" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> //DEBUG
          <a href="TypeDiagnostics.scala.html#184316" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#684926" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#184467" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="684934">ex</a>: <span title="Exception">Exception</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> // @M causes cyclic reference error
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span><span title="(x$1: Any)String">+</span><a href="#184736" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)String">+</span><a href="#184738" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185117" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184736" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="../Global.scala.html#182903" title="(msg: String, t: Throwable)Unit">logError</a><span class="delimiter">(</span><span title="String(&quot;AT: &quot;)" class="string">&quot;AT: &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#184736" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>.<a href="../util/Position.scala.html#183819" title="=&gt; String">dbgString</a>, <a href="#684934" title="Exception">ex</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#684934" title="Exception">ex</a>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#184428" title="()Unit">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#34980" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../../../reflect/internal/util/StatBase.scala.html#39911" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="684953">t</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#39913" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#183841" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183847" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#685009" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#684953" title="Long">t</a> <span title="(x: Long)Long">-</span> <a href="../util/Statistics.scala.html#183850" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
          <a href="../util/Statistics.scala.html#183844" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">visitsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#183847" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#685093" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="../util/Statistics.scala.html#183851" title="(x$1: Long)Unit">typerTime</a> = <a href="#684953" title="Long">t</a>
          <a href="../util/Statistics.scala.html#183848" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="../util/Statistics.scala.html#183847" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<span title="=&gt; List[Class[_]]">tail</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol)Typers.this.Typer" id="184434">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="184711">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#184062" title="Typers.this.Typer">Typer</a> =
      <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184645" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#184711" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Typer" id="184435">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="184461">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="184462">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#184062" title="Typers.this.Typer">Typer</a> =
      <a href="#184057" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184645" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#184461" title="Typers.this.global.Tree">tree</a>, <a href="#184462" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Types expression or definition &lt;code&gt;tree&lt;/code&gt;.
     *
     *  @param tree ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184436">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="184733">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="685121">ret</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#184733" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <a href="#685121" title="Typers.this.global.Tree">ret</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184437">typedPos</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="579931">pos</a>: <a href="../util/Position.scala.html#34604" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579932">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#184436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#579931" title="Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#579932" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    // TODO: see if this formulation would impose any penalty, since
    // it makes for a lot less casting.
    // def typedPos[T &lt;: Tree](pos: Position)(tree: T): T = typed(atPos(pos)(tree)).asInstanceOf[T]

    /** Types expression &lt;code&gt;tree&lt;/code&gt; with given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184438">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="184728">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="184729">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#184728" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="#184729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    /** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184439">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="431131">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="431132">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="431133">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#431131" title="Typers.this.global.Tree">tree</a>, EXPRmode | QUALmode <span title="Int(97)">|</span> POLYmode <span title="(x: Int)Int">|</span> <a href="#431132" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">TYPEPATmode</span>, <a href="#431133" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> // TR: don't set BYVALmode, since qualifier might end up as by-name param to an implicit

    /** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="184440">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="431126">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="431127">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#184439" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#431126" title="Typers.this.global.Tree">tree</a>, <a href="#431127" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184441">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="431123">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184439" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#431123" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    /** Types function part of an application */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184442">typedOperator</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="610938">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#610938" title="Typers.this.global.Tree">tree</a>, EXPRmode | FUNmode | POLYmode <span title="Int(177)">|</span> TAPPmode, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    /** Types a pattern with prototype &lt;code&gt;pt&lt;/code&gt; */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184443">typedPattern</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="675827">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="675828">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // We disable implicits because otherwise some constructs will
      // type check which should not.  The pattern matcher does not
      // perform implicit conversions in an attempt to consummate a match.
      <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184635" title="(op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#675827" title="Typers.this.global.Tree">tree</a>, <span title="Int(2)">PATTERNmode</span>, <a href="#675828" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Types a (fully parameterized) type tree */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="184444">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="639273">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="639274">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#639273" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#184033" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#639274" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    /** Types a (fully parameterized) type tree */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184445">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="639270">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#639270" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    /** Types a higher-kinded type tree -- pt denotes the expected kind*/
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184446">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679788">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="679789">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="679790">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#679790" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#184444" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#679788" title="Typers.this.global.Tree">tree</a>, <a href="#679789" title="Int">mode</a><span class="delimiter">)</span> // kind is known and it's *
      <span class="keyword">else</span> <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#679788" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="#679790" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="184447">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679785">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="679786">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#679785" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184448">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="679783">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184447" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#679783" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    /** Types a type constructor tree used in a new or supertype */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="184449">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672810">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="672811">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="685206">result</a> = <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#672810" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#184033" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#672811" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="685207">restpe</a> = <a href="#685206" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Typers.this.global.Type">normalize</a> // normalize to get rid of type aliases for the following check (#1241)
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685207" title="Typers.this.global.Type">restpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40142" title="Typers.this.global.TypeRef">TypeRef</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#685207" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Typers.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#42715" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185137" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // The isJava exception if OK only because the only type constructors scalac gets
        // to see are those in the signatures. These do not need a unique object as a prefix.
        // The situation is different for new's and super's, but scalac does not look deep
        // enough to see those. See #3938
        <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#672810" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#685207" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">prefix</a><span title="(other: String)String">+</span><span title="String(&quot; is not a legal prefix for a constructor&quot;)" class="string">&quot; is not a legal prefix for a constructor&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      //@M fix for #2208
      // if there are no type arguments, normalization does not bypass any checks, so perform it to get rid of AnyRef
      <span title="Typers.this.global.Tree" class="keyword">if</span><span class="delimiter">(</span><a href="#685206" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // minimal check: if(result.tpe.typeSymbolDirect eq AnyRefClass) {
        // must expand the fake AnyRef type alias, because bootstrapping (init in Definitions) is not
        // designed to deal with the cycles in the scala package (ScalaObject extends
        // AnyRef, but the AnyRef type alias is entered after the scala package is
        // loaded and completed, so that ScalaObject is unpickled while AnyRef is not
        // yet defined )
        <a href="#685206" title="Typers.this.global.Tree">result</a> <span title="(tp: Typers.this.global.Type)result.type">setType</span><span class="delimiter">(</span><a href="#685207" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> // must not normalize: type application must be (bounds-)checked (during RefChecks), see #2208
        // during uncurry (after refchecks), all types are normalized
        <a href="#685206" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="184450">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="672808">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184449" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#672808" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Type" id="184451">computeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="540315">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="540316">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="685225">tree1</a> = <a href="#184438" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#540315" title="Typers.this.global.Tree">tree</a>, <a href="#540316" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#184050" title="(key: Typers.this.global.Tree, value: Typers.this.global.Tree)Unit">transformed</a><span class="delimiter">(</span><a href="#540315" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> = <a href="#685225" title="Typers.this.global.Tree">tree1</a>
      <a href="#184422" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#685225" title="Typers.this.global.Tree">tree1</a>, <a href="#184332" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="184452">transformedOrTyped</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="674409">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="674410">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="674411">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#184050" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<span title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">get</span><span class="delimiter">(</span><a href="#674409" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685238">tree1</a><span class="delimiter">)</span> =&gt; <a href="#184050" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <span title="(key: Typers.this.global.Tree)Typers.this.transformed.type">-=</span> <a href="#674409" title="Typers.this.global.Tree">tree</a>; <a href="#685238" title="Typers.this.global.Tree">tree1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">None</span> =&gt; <a href="#184433" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#674409" title="Typers.this.global.Tree">tree</a>, <a href="#674410" title="Int">mode</a>, <a href="#674411" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult" id="184453">findManifest</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="617352">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="617353">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Typers.this.SearchResult)Typers.this.SearchResult">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185227" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Implicits.scala.html#184115" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span>
        <a href="Analyzer.scala.html#183929" title="object Typers.this.global.EmptyTree">EmptyTree</a>,
        <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><span class="delimiter">(</span><span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#617353" title="Boolean">full</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46477" title="=&gt; Typers.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#46473" title="=&gt; Typers.this.global.Symbol">PartialManifestClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#617352" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#184332" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree" id="184454">getManifestTree</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="617384">pos</a>: <a href="../util/Position.scala.html#34604" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="617385">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="617386">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="685251">manifestOpt</a> = <a href="#184453" title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult">findManifest</a><span class="delimiter">(</span><a href="#617385" title="Typers.this.global.Type">tp</a>, <a href="#617386" title="Boolean">full</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#685251" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#431162" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="Infer.scala.html#184470" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#617384" title="Typers.this.global.Position">pos</a>, <span title="String(&quot;cannot find &quot;)" class="string">&quot;cannot find &quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#617386" title="Boolean">full</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot;class &quot;)" class="string">&quot;class &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;manifest for element type &quot;)" class="string">&quot;manifest for element type &quot;</span><span title="(x$1: Any)String">+</span><a href="#617385" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#183929" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#685251" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#431162" title="=&gt; Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
/*
    def convertToTypeTree(tree: Tree): Tree = tree match {
      case TypeTree() =&gt; tree
      case _ =&gt; TypeTree(tree.tpe)
    }
*/
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>