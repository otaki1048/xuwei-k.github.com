<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Infer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.util.control.ControlThrowable
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.annotation.tailrec

/** This trait ...
 *
 *  @author Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Infer extends Object with ScalaObject" id="34066">Infer</a> <span title="ScalaObject" class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#183929" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Infer.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#182992" title="object Infer.this.global.typer">typer</a>.printInference
  <span class="keyword">import</span> <a href="../../../reflect/internal/TypeDebugging.scala.html#40674" title="object Infer.this.global.typeDebug">typeDebug</a>.ptBlock

/* -- Type parameter inference utility functions --------------------------- */

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="184088">assertNonCyclic</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="627486">tvar</a>: <a href="../../../reflect/internal/Types.scala.html#40176" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span> =
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#627486" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#627486" title="Infer.this.global.TypeVar">tvar</a>, <a href="#627486" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84193" title="=&gt; Infer.this.global.Type">origin</a><span class="delimiter">)</span>

  /** The formal parameter types corresponding to &lt;code&gt;formals&lt;/code&gt;.
   *  If &lt;code&gt;formals&lt;/code&gt; has a repeated last parameter, a list of
   *  (nargs - params.length + 1) copies of its type is returned.
   *  By-name types are replaced with their underlying type.
   *
   *  @param removeByName allows keeping ByName parameters. Used in NamesDefaults.
   *  @param removeRepeated allows keeping repeated parameter (if there's one argument). Used in NamesDefaults.
   */
  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]" id="184089">formalTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="627496">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="627497">nargs</a>: <span title="Int">Int</span>, <a title="Boolean" id="627501">removeByName</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>, <a title="Boolean" id="627502">removeRepeated</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="627503">formals1</a> = <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#627501" title="Boolean">removeByName</a><span class="delimiter">)</span> <a href="#627496" title="List[Infer.this.global.Type]">formals</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">mapConserve</span> <a href="#627510" title="Infer.this.global.Type" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#46406" title="=&gt; Infer.this.global.Symbol">ByNameParamClass</a>, <a href="#627515" title="(x: List[Infer.this.global.Type])Some[List[Infer.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="627526">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#627526" title="Infer.this.global.Type">arg</a>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="627527">formal</a> =&gt; <a href="#627527" title="Infer.this.global.Type">formal</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#627496" title="List[Infer.this.global.Type]">formals</a>
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46402" title="(formals: List[Infer.this.global.Type])Boolean">isVarArgTypes</a><span class="delimiter">(</span><a href="#627503" title="List[Infer.this.global.Type]">formals1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#627502" title="Boolean">removeRepeated</a> <span title="(x: Boolean)Boolean">||</span> <a href="#627496" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#627497" title="Int">nargs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="627537">ft</a> = <a href="#627503" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; Infer.this.global.Type">last</span>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Infer.this.global.Type">head</span>
      <a href="#627503" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; List[Infer.this.global.Type]">init</span> <a href="#627542" title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">:::</a> <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="627590">i</a> &lt;- <span title="object List">List</span>.<span title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</span><span title="(f: Int =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]" class="delimiter">(</span><a href="#627503" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="#627497" title="Int">nargs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#627537" title="Infer.this.global.Type">ft</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#627503" title="List[Infer.this.global.Type]">formals1</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]" id="184090">actualTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="627625">actuals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="627626">nformals</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#627626" title="Int">nformals</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40311" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#627625" title="List[Infer.this.global.Type]">actuals</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#627625" title="List[Infer.this.global.Type]">actuals</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#46540" title="(elems: List[Infer.this.global.Type])Infer.this.global.Type">tupleType</a><span class="delimiter">(</span><a href="#627625" title="List[Infer.this.global.Type]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#627625" title="List[Infer.this.global.Type]">actuals</a>

  <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, actuals: List[Infer.this.global.Tree], nformals: Int)List[Infer.this.global.Tree]" id="184091">actualArgs</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="627641">pos</a>: <a href="../util/Position.scala.html#34604" title="Infer.this.global.Position">Position</a>, <a title="List[Infer.this.global.Tree]" id="627642">actuals</a>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="627643">nformals</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="627645">inRange</a> = <a href="#627643" title="Int">nformals</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40311" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#627642" title="List[Infer.this.global.Tree]">actuals</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#627642" title="List[Infer.this.global.Tree]">actuals</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46517" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span>
    <span title="List[Infer.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#627645" title="Boolean">inRange</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span title="(xs: Infer.this.global.gen.global.Tree*)List[Infer.this.global.gen.global.Tree]">List</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Infer.this.global.Position)(tree: Infer.this.global.gen.global.Tree)Infer.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#627641" title="Infer.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object Infer.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92653" title="(elems: List[Infer.this.global.gen.global.Tree])Infer.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#627642" title="List[Infer.this.global.Tree]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#627642" title="List[Infer.this.global.Tree]">actuals</a>
  <span class="delimiter">}</span>

  /** A fresh type variable with given type parameter as origin.
   *
   *  @param tparam ...
   *  @return       ...
   */
  <span class="keyword">def</span> <a title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar" id="184092">freshVar</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="625162">tparam</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40176" title="Infer.this.global.TypeVar">TypeVar</a> = <a href="../../../reflect/internal/Types.scala.html#84243" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#625162" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NoInstance extends Throwable with scala.util.control.ControlThrowable with ScalaObject" id="184093">NoInstance</a><a href="#184093" title="ScalaObject" class="delimiter">(</a><a title="String" id="627693">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="Throwable">Throwable</span><span class="delimiter">(</span><a href="#627693" title="String">msg</a><span class="delimiter">)</span> <span class="keyword">with</span> <span title="scala.util.control.ControlThrowable">ControlThrowable</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class DeferredNoInstance extends Infer.this.NoInstance with ScalaObject" id="184094">DeferredNoInstance</a><a href="#184094" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; String" id="627705">getmsg</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#184093" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="627702">getMessage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#627705" title="()String">getmsg</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](f: String =&gt; T)PartialFunction[Throwable,T]" id="184095">ifNoInstance</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="184097">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String =&gt; T" id="627707">f</a>: String =&gt; T<span class="delimiter">)</span>: <span title="PartialFunction[Throwable,T]">PartialFunction</span><span class="delimiter">[</span>Throwable, T<span class="delimiter">]</span> = <a href="#627711" title="T" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="T" id="627712">x</a>: <a href="#184093" title="Infer.this.NoInstance">NoInstance</a>  =&gt; <a href="#627707" title="(v1: String)T">f</a><span class="delimiter">(</span><a href="#627712" title="Infer.this.NoInstance">x</a>.<span title="()String">getMessage</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Map every TypeVar to its constraint.inst field.
   *  throw a NoInstance exception if a NoType or WildcardType is encountered.
   */
  <span class="keyword">object</span> <a title="object Infer.this.instantiate" id="184098">instantiate</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#40242" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Infer.this.global.TypeVar]" id="627716">excludedVars</a> = immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Infer.this.global.TypeVar*)scala.collection.immutable.Set[Infer.this.global.TypeVar]" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40176" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="627718">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="627722">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="#627722" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="Nothing">WildcardType</a> | BoundedWildcardType<span class="delimiter">(</span>_<span class="delimiter">)</span> | <a href="../../../reflect/internal/Types.scala.html#40097" title="object Infer.this.global.NoType">NoType</a> =&gt;
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#184093" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="String(&quot;undetermined type&quot;)" class="string">&quot;undetermined type&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="627728">tv</a> @ <a href="../../../reflect/internal/Types.scala.html#84241" title="(tv: Infer.this.global.TypeVar)Some[(Infer.this.global.Type, Infer.this.global.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="627732">origin</a>, <a title="Infer.this.global.TypeConstraint" id="627733">constr</a><span class="delimiter">)</span> =&gt;
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#627733" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#184094" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="String(&quot;no unique instantiation of type variable &quot;)" class="string">&quot;no unique instantiation of type variable &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#627732" title="Infer.this.global.Type">origin</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; could be found&quot;)" class="string">&quot; could be found&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#627716" title="(elem: Infer.this.global.TypeVar)Boolean">excludedVars</a><span class="delimiter">(</span><a href="#627728" title="Infer.this.global.TypeVar">tv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#184093" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="String(&quot;cyclic instantiation&quot;)" class="string">&quot;cyclic instantiation&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#627716" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit">excludedVars</a> <span title="(elem: Infer.this.global.TypeVar)scala.collection.immutable.Set[Infer.this.global.TypeVar]">+=</span> <a href="#627728" title="Infer.this.global.TypeVar">tv</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="627761">res</a> = <a href="#627718" title="(tp: Infer.this.global.Type)Infer.this.global.Type">apply</a><span class="delimiter">(</span><a href="#627733" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
          <a href="#627716" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit">excludedVars</a> <span title="(elem: Infer.this.global.TypeVar)scala.collection.immutable.Set[Infer.this.global.TypeVar]">-=</span> <a href="#627728" title="Infer.this.global.TypeVar">tv</a>
          <a href="#627761" title="Infer.this.global.Type">res</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#627722" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Is type fully defined, i.e. no embedded anytypes or wildcards in it?
   *
   *  @param tp ...
   *  @return   ...
   */
  <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Boolean" id="184100">isFullyDefined</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="627805">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#627805" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="Boolean(false)">WildcardType</a> | BoundedWildcardType<span class="delimiter">(</span>_<span class="delimiter">)</span> | <a href="../../../reflect/internal/Types.scala.html#40097" title="object Infer.this.global.NoType">NoType</a> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40099" title="Boolean(true)">NoPrefix</a> | ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span> | ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="627813">pre</a>, <a title="Infer.this.global.Symbol" id="627814">sym</a>, <a title="List[Infer.this.global.Type]" id="627815">args</a><span class="delimiter">)</span> =&gt;
      <a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#627813" title="Infer.this.global.Type">pre</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#627815" title="List[Infer.this.global.Type]">args</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="627825">pre</a>, <a title="Infer.this.global.Symbol" id="627826">sym</a><span class="delimiter">)</span> =&gt;
      <a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#627825" title="Infer.this.global.Type">pre</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="627829">ts</a>, <a title="Infer.this.global.Scope" id="627830">decls</a><span class="delimiter">)</span> =&gt;
      <a href="#627829" title="List[Infer.this.global.Type]">ts</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>
    <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#84241" title="Boolean(false)">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="627841">origin</a>, <a title="Infer.this.global.TypeConstraint" id="627842">constr</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#627842" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#627718" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#627805" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean(false)" id="627850">ex</a>: <a href="#184093" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Solve constraint collected in types `tvars`.
   *
   *  @param tvars      All type variables to be instantiated.
   *  @param tparams    The type parameters corresponding to `tvars`
   *  @param variances  The variances of type parameters; need to reverse
   *                    solution direction for all contravariant variables.
   *  @param upper      When `true` search for max solution else min.
   *  @throws NoInstance
   */
  <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]" id="184101">solvedTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.TypeVar]" id="625340">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="625341">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                  <a title="List[Int]" id="625342">variances</a>: <span title="List[Int]">List</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Boolean" id="625343">upper</a>: <span title="Boolean">Boolean</span>, <a title="Int" id="625344">depth</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#625340" title="List[Infer.this.global.TypeVar]">tvars</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
      <a href="Typers.scala.html#184431" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="String(&quot;[solve types] solving for &quot;)" class="string">&quot;[solve types] solving for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#625341" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Name,List[Infer.this.global.Name]])List[Infer.this.global.Name]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Infer.this.global.Name,List[Infer.this.global.Name]]" class="delimiter">(</span><a href="#627867" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#625340" title="List[Infer.this.global.TypeVar]">tvars</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40342" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)Boolean">solve</a><span class="delimiter">(</span><a href="#625340" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#625341" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#625342" title="List[Int]">variances</a>, <a href="#625343" title="Boolean">upper</a>, <a href="#625344" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
      // no panic, it's good enough to just guess a solution, we'll find out
      // later whether it works.  *ZAP* @M danger, Will Robinson! this means
      // that you should never trust inferred type arguments!
      //
      // Need to call checkBounds on the args/typars or type1 on the tree
      // for the expression that results from type inference see e.g., #2421:
      // implicit search had been ignoring this caveat
      // throw new DeferredNoInstance(() =&gt;
      //   &quot;no solution exists for constraints&quot;+(tvars map boundsString))
    <span class="delimiter">}</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="627924">tvar</a> &lt;- <a href="#625340" title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">tvars</a> ; <span class="keyword">if</span> <a href="#627924" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#627924" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#627924" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84193" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="object Infer.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
        // this can happen if during solving a cyclic type parameter
        // such as T &lt;: T gets completed. See #360
        <a href="#627924" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84302" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../../../reflect/internal/Types.scala.html#40090" title="object Infer.this.global.ErrorType">ErrorType</a>
      <span class="keyword">else</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#627924" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84193" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">origin</a><span title="(other: String)String">+</span><span title="String(&quot; at &quot;)" class="string">&quot; at &quot;</span><span title="(x$1: Any)String">+</span><a href="#627924" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84193" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#625340" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#184098" title="object Infer.this.instantiate">instantiate</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="184102">skipImplicit</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="627975">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#627975" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="627978">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#627978" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a>  =&gt; <a href="#627978" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66904" title="=&gt; Infer.this.global.Type">resultType</a>
    <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span>                                =&gt; <a href="#627975" title="Infer.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  /** Automatically perform the following conversions on expression types:
   *  A method type becomes the corresponding function type.
   *  A nullary method type becomes its result type.
   *  Implicit parameters are skipped.
   *  This method seems to be performance critical.
   */
  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="184103">normalize</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="624668">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="#624668" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="627983">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="627986">params</a>, <a title="Infer.this.global.Type" id="627987">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#627983" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a> =&gt;
      <a href="#184103" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#627987" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="627988">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="627991">params</a>, <a title="Infer.this.global.Type" id="627992">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#627992" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42720" title="=&gt; Boolean">isDependent</a> =&gt;
      <a href="../../../reflect/internal/Definitions.scala.html#46555" title="(formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Infer.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#627991" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#628011" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#184103" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#627992" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Infer.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="628040">restpe</a><span class="delimiter">)</span> =&gt;
      <a href="#184103" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#628040" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Infer.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="628043">tparams</a>, <a title="Infer.this.global.Type" id="628044">qtpe</a><span class="delimiter">)</span> =&gt;
      <a href="../../../reflect/internal/Types.scala.html#40155" title="(quantified: List[Infer.this.global.Symbol], underlying: Infer.this.global.Type)Infer.this.global.Type">newExistentialType</a><span class="delimiter">(</span><a href="#628043" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#184103" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#628044" title="Infer.this.global.Type">qtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="628047">tp1</a> =&gt;
      <a href="#628047" title="Infer.this.global.Type">tp1</a> // @MAT aliases already handled by subtyping
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.ClassSymbol" id="184104">stdErrorClass</a> = <a href="../../../reflect/internal/Definitions.scala.html#46242" title="=&gt; Infer.this.global.ModuleClassSymbol">RootClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47736" title="(name: Infer.this.global.TypeName)Infer.this.global.ClassSymbol">newErrorClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object Infer.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60623" title="=&gt; Infer.this.global.tpnme.NameType">ERROR</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.TermSymbol" id="184106">stdErrorValue</a> = <a href="#184104" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47723" title="(name: Infer.this.global.TermName)Infer.this.global.TermSymbol">newErrorValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Infer.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60623" title="=&gt; Infer.this.global.nme.NameType">ERROR</a><span class="delimiter">)</span>

  /** The context-dependent inferencer part */
  <span class="keyword">class</span> <a title="class Inferencer extends Object with ScalaObject" id="184108">Inferencer</a><a href="#184108" title="ScalaObject" class="delimiter">(</a><a title="Infer.this.Context" id="184549">context</a>: <a href="Contexts.scala.html#183956" title="Infer.this.Context">Context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    /* -- Error Messages --------------------------------------------------- */
    <span class="keyword">def</span> <a title="[T &lt;: Infer.this.global.Tree](tree: T)T" id="184467">setError</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Infer.this.global.Tree" id="184469">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="628050">tree</a>: <a href="#184469" title="T">T</a><span class="delimiter">)</span>: <a href="#184469" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.TermName" id="628053">name</a>        = <a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)Infer.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;&lt;error: &quot;)" class="string">&quot;&lt;error: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#628050" title="T">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.ClassSymbol" id="628054">errorClass</a>  = <span title="Infer.this.global.ClassSymbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184606" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47736" title="(name: Infer.this.global.TypeName)Infer.this.global.ClassSymbol">newErrorClass</a><span class="delimiter">(</span><a href="#628053" title="=&gt; Infer.this.global.TermName">name</a>.<a href="../../../reflect/internal/Names.scala.html#53941" title="=&gt; Infer.this.global.TypeName">toTypeName</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#184104" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.TermSymbol" id="628055">errorValue</a>  = <span title="Infer.this.global.TermSymbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184606" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47723" title="(name: Infer.this.global.TermName)Infer.this.global.TermSymbol">newErrorValue</a><span class="delimiter">(</span><a href="#628053" title="=&gt; Infer.this.global.TermName">name</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#184106" title="=&gt; Infer.this.global.TermSymbol">stdErrorValue</a>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Symbol{def name: Infer.this.global.Name{type ThisNameType &gt;: Infer.this.global.TypeName with Infer.this.global.TermName &lt;: Infer.this.global.Name}}" id="628056">errorSym</a>    = <span title="Infer extends Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#628050" title="T">tree</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <a href="#628054" title="=&gt; Infer.this.global.ClassSymbol">errorClass</a> <span class="keyword">else</span> <a href="#628055" title="=&gt; Infer.this.global.TermSymbol">errorValue</a>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#628050" title="T">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span>
        <a href="#628050" title="T">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#628056" title="=&gt; Infer.this.global.Symbol{def name: Infer.this.global.Name{type ThisNameType &gt;: Infer.this.global.TypeName with Infer.this.global.TermName &lt;: Infer.this.global.Name}}">errorSym</a>

      <a href="#628050" title="T">tree</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="object Infer.this.global.ErrorType">ErrorType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, msg: String)Unit" id="184470">error</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="624502">pos</a>: <a href="../util/Position.scala.html#34604" title="Infer.this.global.Position">Position</a>, <a title="String" id="624503">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184653" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#624502" title="Infer.this.global.Position">pos</a>, <a href="#624503" title="String">msg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree" id="184471">errorTree</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="628353">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="String" id="628354">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Infer.this.global.Tree)Infer.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#628353" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#628354" title="String">msg</a><span class="delimiter">)</span>
      <a href="#184467" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#628353" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, found: Infer.this.global.Type, req: Infer.this.global.Type)Unit" id="184472">typeError</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="628361">pos</a>: <a href="../util/Position.scala.html#34604" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="628362">found</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="628363">req</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#628362" title="Infer.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#628363" title="Infer.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#628361" title="Infer.this.global.Position">pos</a>, <a href="TypeDiagnostics.scala.html#184260" title="(pos: Infer.this.global.Position)String =&gt; String">withAddendum</a><span title="(v1: String)String" class="delimiter">(</span><a href="#628361" title="Infer.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184473" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">typeErrorMsg</a><span class="delimiter">(</span><a href="#628362" title="Infer.this.global.Type">found</a>, <a href="#628363" title="Infer.this.global.Type">req</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#183587" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="#184475" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#628362" title="Infer.this.global.Type">found</a>, <a href="#628363" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String" id="184473">typeErrorMsg</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="624554">found</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="624555">req</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="624558">isPossiblyMissingArgs</a> = <span class="delimiter">(</span><a href="#624554" title="Infer.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42745" title="=&gt; Infer.this.global.Type">resultApprox</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#624554" title="Infer.this.global.Type">found</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184479" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#624554" title="Infer.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42745" title="=&gt; Infer.this.global.Type">resultApprox</a>, <a href="#624555" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; String" id="624559">missingArgsMsg</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#624558" title="=&gt; Boolean">isPossiblyMissingArgs</a><span class="delimiter">)</span> <span title="String(&quot;\n possible cause: missing arguments for method or constructor&quot;)" class="string">&quot;\n possible cause: missing arguments for method or constructor&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

      <span title="String(&quot;type mismatch&quot;)" class="string">&quot;type mismatch&quot;</span> <span title="(x$1: Any)String">+</span> <a href="TypeDiagnostics.scala.html#184282" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#624554" title="Infer.this.global.Type">found</a>, <a href="#624555" title="Infer.this.global.Type">req</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#624559" title="=&gt; String">missingArgsMsg</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree" id="184474">typeErrorTree</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="628400">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="628401">found</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="628402">req</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // If the expected type is a refinement type, and the found type is a refinement or an anon
      // class, we can greatly improve the error message by retyping the tree to recover the actual
      // members present, then display along with the expected members. This is done here because
      // this is the last point where we still have access to the original tree, rather than just
      // the found/req types.
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628404">foundType</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="#628402" title="Infer.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="628407">parents</a>, <a title="Infer.this.global.Scope" id="628408">decls</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#628408" title="Infer.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61748" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#628401" title="Infer.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47817" title="=&gt; Boolean">isAnonOrRefinementClass</a> =&gt;
          <span class="keyword">val</span> <a title="Infer.this.global.analyzer.global.Tree" id="628409">retyped</a>    = <a href="../Global.scala.html#182992" title="object Infer.this.global.typer">typer</a> <a href="Typers.scala.html#184436" title="(tree: Infer.this.global.analyzer.global.Tree)Infer.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">(</span><a href="#628400" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; tree.type">duplicate</span> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Infer.this.global.analyzer.global.Scope" id="628410">foundDecls</a> = <a href="#628409" title="Infer.this.global.analyzer.global.Tree">retyped</a>.<span title="=&gt; Infer.this.global.analyzer.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Infer.this.global.analyzer.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#61769" title="(p: Infer.this.global.analyzer.global.Symbol =&gt; Boolean)Infer.this.global.analyzer.global.Scope">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.analyzer.global.Symbol" id="628431">sym</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#628431" title="Infer.this.global.analyzer.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#628431" title="Infer.this.global.analyzer.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>

          <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#628410" title="Infer.this.global.analyzer.global.Scope">foundDecls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61748" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#628401" title="Infer.this.global.Type">found</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            // The members arrive marked private, presumably because there was no
            // expected type and so they're considered members of an anon class.
            <a href="#628410" title="Infer.this.global.analyzer.global.Scope">foundDecls</a> <a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: Infer.this.global.analyzer.global.Symbol =&gt; Infer.this.global.analyzer.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#628451" title="Infer.this.global.analyzer.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)x$4.type">resetFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span><span class="delimiter">)</span>
            // TODO: if any of the found parents match up with required parents after normalization,
            // print the error so that they match. The major beneficiary there would be
            // java.lang.Object vs. AnyRef.
            <a href="../../../reflect/internal/Types.scala.html#40195" title="(parents: List[Infer.this.global.Type], owner: Infer.this.global.Symbol, decls: Infer.this.global.Scope, pos: Infer.this.global.Position)Infer.this.global.Type">refinedType</a><span class="delimiter">(</span><a href="#628401" title="Infer.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Infer.this.global.Type]">parents</a>, <a href="#628401" title="Infer.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#628410" title="Infer.this.global.analyzer.global.Scope">foundDecls</a>, <a href="#628400" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
          <a href="#628401" title="Infer.this.global.Type">found</a>
      <span class="delimiter">}</span>
      <a href="#184472" title="(pos: Infer.this.global.Position, found: Infer.this.global.Type, req: Infer.this.global.Type)Unit">typeError</a><span class="delimiter">(</span><a href="#628400" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#628404" title="Infer.this.global.Type">foundType</a>, <a href="#628402" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <a href="#184467" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#628400" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit" id="184475">explainTypes</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="625614">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="625615">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="TypeDiagnostics.scala.html#184290" title="(locals: List[Infer.this.global.Symbol], types: Infer.this.global.Type*)(op: =&gt; Unit)Unit">withDisambiguation</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#625614" title="Infer.this.global.Type">tp1</a>, <a href="#625615" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#183929" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../../reflect/internal/Types.scala.html#40394" title="(found: Infer.this.global.Type, required: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#625614" title="Infer.this.global.Type">tp1</a>, <a href="#625615" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /* -- Tests &amp; Checks---------------------------------------------------- */

    /** Check that &lt;code&gt;sym&lt;/code&gt; is defined and accessible as a member of
     *  tree &lt;code&gt;site&lt;/code&gt; with type &lt;code&gt;pre&lt;/code&gt; in current context.
     *
     * Note: pre is not refchecked -- moreover, refchecking the resulting tree may not refcheck pre,
     *       since pre may not occur in its type (callers should wrap the result in a TypeTreeWithDeferredRefCheck)
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, sym: Infer.this.global.Symbol, pre: Infer.this.global.Type, site: Infer.this.global.Tree)Infer.this.global.Tree" id="184476">checkAccessible</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="628472">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Symbol" id="628473">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="628474">pre</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Tree" id="628475">site</a>: <span title="Infer.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> =
      <span title="Infer.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47807" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#628472" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#628473" title="Infer.this.global.Symbol">sym</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="object Infer.this.global.ErrorType">ErrorType</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="628479">topClass</a> = <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#48001" title="=&gt; Infer.this.global.Symbol">toplevelClass</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185117" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
          <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185118" title="=&gt; scala.collection.mutable.HashSet[Infer.this.global.Symbol]">depends</a> <span title="(elem: Infer.this.global.Symbol)scala.collection.mutable.HashSet[Infer.this.global.Symbol]">+=</span> <a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48001" title="=&gt; Infer.this.global.Symbol">toplevelClass</a>

        <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="628480">sym1</a> = <a href="#628473" title="Infer.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="628522">alt</a> =&gt; <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184664" title="(sym: Infer.this.global.Symbol, pre: Infer.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#628522" title="Infer.this.global.Symbol">alt</a>, <a href="#628474" title="Infer.this.global.Type">pre</a>, <a href="#628475" title="Infer.this.global.Tree">site</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.Super">Super</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        // Console.println(&quot;check acc &quot; + (sym, sym1) + &quot;:&quot; + (sym.tpe, sym1.tpe) + &quot; from &quot; + pre);//DEBUG

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#628480" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185137" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> // don't try to second guess Java; see #4402
          <a href="#628480" title="Infer.this.global.Symbol">sym1</a> = <a href="#628473" title="Infer.this.global.Symbol">sym</a>

        <span title="Infer.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#628480" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#184549" title="Infer.this.Context">context</a><span class="delimiter">)</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#628472" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#628474" title="Infer.this.global.Type">pre</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184564" title="=&gt; Infer.this.Context">outer</a>.<a href="Contexts.scala.html#184567" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Infer.this.global.Type">thisType</a> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#628474" title="Infer.this.global.Type">pre</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: Infer.this.global.Type)Boolean">=:=</a> <a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Infer.this.global.Type">thisType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Inferencer.this.AccessError" class="keyword">new</span> <a href="#634658" title="Inferencer.this.AccessError">AccessError</a><span class="delimiter">(</span><a href="#628472" title="Infer.this.global.Tree">tree</a>, <a href="#628473" title="Infer.this.global.Symbol">sym</a>, <a href="#628474" title="Infer.this.global.Type">pre</a>,
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183440" title="=&gt; scala.tools.nsc.Settings#PhasesSetting">check</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#75563" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: Infer.this.global.type}">analyzer</a>.<a href="Contexts.scala.html#183948" title="=&gt; String">lastAccessCheckDetails</a>
            <span class="keyword">else</span>
              <a href="../../../reflect/internal/TypeDebugging.scala.html#83198" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;because of an internal error (no accessible symbol)&quot;)" class="string">&quot;because of an internal error (no accessible symbol)&quot;</span>,
                <span title="(x: String)ArrowAssoc[String]" class="string">&quot;sym.ownerChain&quot;</span>                <span title="(y: List[Infer.this.global.Symbol])(String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47878" title="=&gt; List[Infer.this.global.Symbol]">ownerChain</a>,
                <span title="(x: String)ArrowAssoc[String]" class="string">&quot;underlyingSymbol(sym)&quot;</span>         <span title="(y: Infer.this.global.Symbol)(String, Infer.this.global.Symbol)">-&gt;</span> <a href="TypeDiagnostics.scala.html#184273" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#628473" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span>,
                <span title="(x: String)ArrowAssoc[String]" class="string">&quot;pre&quot;</span>                           <span title="(y: Infer.this.global.Type)(String, Infer.this.global.Type)">-&gt;</span> <a href="#628474" title="Infer.this.global.Type">pre</a>,
                <span title="(x: String)ArrowAssoc[String]" class="string">&quot;site&quot;</span>                          <span title="(y: Infer.this.global.Tree)(String, Infer.this.global.Tree)">-&gt;</span> <a href="#628475" title="Infer.this.global.Tree">site</a>,
                <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tree&quot;</span>                          <span title="(y: Infer.this.global.Tree)(String, Infer.this.global.Tree)">-&gt;</span> <a href="#628472" title="Infer.this.global.Tree">tree</a>,
                <span title="(x: String)ArrowAssoc[String]" class="string">&quot;sym.accessBoundary(sym.owner)&quot;</span> <span title="(y: Infer.this.global.Symbol)(String, Infer.this.global.Symbol)">-&gt;</span> <a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47908" title="(base: Infer.this.global.Symbol)Infer.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#628473" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>,
                <span title="(x: String)ArrowAssoc[String]" class="string">&quot;context.owner&quot;</span>                 <span title="(y: Infer.this.global.Symbol)(String, Infer.this.global.Symbol)">-&gt;</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="=&gt; Infer.this.global.Symbol">owner</a>,
                <span title="(x: String)ArrowAssoc[String]" class="string">&quot;context.outer.enclClass.owner&quot;</span> <span title="(y: Infer.this.global.Symbol)(String, Infer.this.global.Symbol)">-&gt;</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184564" title="=&gt; Infer.this.Context">outer</a>.<a href="Contexts.scala.html#184567" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Infer.this.global.Symbol">owner</a>
              <span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#628480" title="Infer.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span>
            <a href="#628480" title="Infer.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47935" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> // xform java rawtypes into existentials

          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628710">owntype</a> = <span class="delimiter">{</span>
            <span class="keyword">try</span> <a href="#628474" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#628480" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Infer.this.global.ErrorType.type" id="628713">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40386" title="Infer.this.global.MalformedType">MalformedType</a> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#628713" title="Infer.this.global.MalformedType">ex</a>.<span title="()Unit">printStackTrace</span>
                <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="628714">sym2</a> = <a href="TypeDiagnostics.scala.html#184273" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#628480" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628715">itype</a> = <a href="#628474" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#628714" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
                <span title="Inferencer.this.AccessError" class="keyword">new</span> <a href="#634658" title="Inferencer.this.AccessError">AccessError</a><span class="delimiter">(</span><a href="#628472" title="Infer.this.global.Tree">tree</a>, <a href="#628473" title="Infer.this.global.Symbol">sym</a>, <a href="#628474" title="Infer.this.global.Type">pre</a>,
                            <span title="String(&quot;\n because its instance type &quot;)" class="string">&quot;\n because its instance type &quot;</span><span title="(x$1: Any)String">+</span><a href="#628715" title="Infer.this.global.Type">itype</a><span title="(x$1: Any)String">+</span>
                            <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="String(&quot;malformed type: &quot;)" class="string">&quot;malformed type: &quot;</span><span title="(x$1: Any)String">+</span><a href="#628715" title="Infer.this.global.Type">itype</a>.<a href="../../../reflect/internal/Types.scala.html#42813" title="()String">toString</a><span title="(x$1: AnyRef)Boolean">==</span><a href="#628713" title="Infer.this.global.MalformedType">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67272" title="=&gt; String">msg</a><span class="delimiter">)</span> <span title="String(&quot; is malformed&quot;)" class="string">&quot; is malformed&quot;</span>
                             <span class="keyword">else</span> <span title="String(&quot; contains a &quot;)" class="string">&quot; contains a &quot;</span><span title="(x$1: Any)String">+</span><a href="#628713" title="Infer.this.global.MalformedType">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67272" title="=&gt; String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#628571" title="()Infer.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Types.scala.html#40090" title="object Infer.this.global.ErrorType">ErrorType</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#628472" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#628480" title="Infer.this.global.Symbol">sym1</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <span class="delimiter">{</span>
            <a href="#628474" title="Infer.this.global.Type">pre</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span>: <a href="../../../reflect/internal/Types.scala.html#40109" title="Infer.this.global.SuperType">SuperType</a> =&gt; <a href="#628710" title="Infer.this.global.Type">owntype</a> <a href="../../../reflect/internal/Types.scala.html#42791" title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)Infer.this.global.Type">map</a> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="628731">tp</a> =&gt; <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#628731" title="Infer.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#628474" title="Infer.this.global.Type">pre</a><span class="delimiter">)</span> <a href="#628475" title="Infer.this.global.Tree">site</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Infer.this.global.Type">thisType</a> <span class="keyword">else</span> <a href="#628731" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span>            =&gt; <a href="#628710" title="Infer.this.global.Type">owntype</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>


    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="184477">isCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="628733">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="628734">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628736">tp1</a> = <a href="#184103" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#628733" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#628736" title="Infer.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#42798" title="(that: Infer.this.global.Type)Boolean">weak_&lt;:&lt;</a> <a href="#628734" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#184481" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCoercible</a><span class="delimiter">(</span><a href="#628736" title="Infer.this.global.Type">tp1</a>, <a href="#628734" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tps: List[Infer.this.global.Type], pts: List[Infer.this.global.Type])Boolean" id="184478">isCompatibleArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="628738">tps</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="628739">pts</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> =
      <span class="delimiter">(</span><a href="#628738" title="List[Infer.this.global.Type]">tps</a> <span title="(that: scala.collection.GenSeq[Infer.this.global.Type])(p: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Boolean)Boolean">corresponds</span> <a href="#628739" title="List[Infer.this.global.Type]">pts</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#184477" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="184479">isWeaklyCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="624560">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="624561">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#624561" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Infer.this.global.Symbol">UnitClass</a> <span title="(x: Boolean)Boolean">||</span> // can perform unit coercion
      <a href="#184477" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#624560" title="Infer.this.global.Type">tp</a>, <a href="#624561" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#624560" title="Infer.this.global.Type">tp</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40145" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> // can perform implicit () instantiation
      <a href="#624560" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Infer.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184477" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#624560" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#624561" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

    /** Like weakly compatible but don't apply any implicit conversions yet.
     *  Used when comparing the result type of a method with its prototype.
     */
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="184480">isConservativelyCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="628775">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="628776">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184635" title="(op: =&gt; Boolean)Boolean">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#184479" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#628775" title="Infer.this.global.Type">tp</a>, <a href="#628776" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** This is overridden in the Typer.infer with some logic, but since
     *  that's the only place in the compiler an Inferencer is ever created,
     *  I suggest this should either be abstract or have the implementation.
     */
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="184481">isCoercible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="184543">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="184544">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

    /* -- Type instantiation------------------------------------------------ */

    /** Replace any (possibly bounded) wildcard types in type `tp`
     *  by existentially bound variables.
     */
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="184482">makeFullyDefined</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="628781">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="628783">tparams</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">def</span> <a title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type" id="628784">addTypeParam</a><span class="delimiter">(</span><a title="Infer.this.global.TypeBounds" id="628786">bounds</a>: <a href="../../../reflect/internal/Types.scala.html#40113" title="Infer.this.global.TypeBounds">TypeBounds</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="628787">tparam</a> = <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184558" title="Infer.this.global.Symbol" id="628801">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#112865" title="Long" id="628804">newExistential</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#39671" title="(s: String)Infer.this.global.TypeName">newTypeName</a><a title="Infer.this.global.TypeName" id="628802" class="delimiter">(</a><span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span><span title="(x$1: Any)String">+</span><a href="#628783" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>, <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184555" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183806" title="scala.tools.nsc.util.Position" id="628803">focus</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Infer.this.global.Type)Infer.this.global.Symbol">setInfo</a> <a href="#628786" title="Infer.this.global.TypeBounds">bounds</a>
        <a href="#628783" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a> <span title="(x: Infer.this.global.Symbol)tparams.type">+=</span> <a href="#628787" title="Infer.this.global.Symbol">tparam</a>
        <a href="#628787" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628785">tp1</a> = <a href="#628781" title="Infer.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#42791" title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)Infer.this.global.Type">map</a> <a href="#628820" title="Infer.this.global.Type" class="delimiter">{</a>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="Infer.this.global.Type">WildcardType</a> =&gt;
          <a href="#628784" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40114" title="object Infer.this.global.TypeBounds">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#66835" title="=&gt; Infer.this.global.TypeBounds">empty</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">BoundedWildcardType</span><span class="delimiter">(</span><a title="Infer.this.global.TypeBounds" id="628822">bounds</a><span class="delimiter">)</span> =&gt;
          <a href="#628784" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a><span class="delimiter">(</span><a href="#628822" title="Infer.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Infer.this.global.Type" id="628823">t</a> =&gt; <a href="#628823" title="Infer.this.global.Type">t</a>
      <span class="delimiter">}</span>
      <a href="../../../reflect/internal/Types.scala.html#40208" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#628783" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>, <a href="#628785" title="Infer.this.global.Type">tp1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Return inferred type arguments of polymorphic expression, given
     *  its type parameters and result type and a prototype &lt;code&gt;pt&lt;/code&gt;.
     *  If no minimal type variables exist that make the
     *  instantiated type a subtype of &lt;code&gt;pt&lt;/code&gt;, return null.
     *
     *  @param tparams ...
     *  @param restpe  ...
     *  @param pt      ...
     *  @return        ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])" id="184483">exprTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="628826">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="628827">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="628828">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Boolean" id="628831">useWeaklyCompatible</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])" class="delimiter">(</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>TypeVar<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="628832">tvars</a> = <a href="#628826" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628833">instResTp</a> = <a href="#628827" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#628826" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#628832" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
      <span title="(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])" class="keyword">if</span> <span class="delimiter">(</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#628831" title="Boolean">useWeaklyCompatible</a><span class="delimiter">)</span> <a href="#184479" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#628833" title="Infer.this.global.Type">instResTp</a>, <a href="#628828" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#184477" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#628833" title="Infer.this.global.Type">instResTp</a>, <a href="#628828" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          // If the restpe is an implicit method, and the expected type is fully defined
          // optimize type variables wrt to the implicit formals only; ignore the result type.
          // See test pos/jesper.scala
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628880">varianceType</a> = <a href="#628827" title="Infer.this.global.Type">restpe</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Infer.this.global.MethodType" id="628881">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#628881" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#628828" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#628881" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66902" title="=&gt; List[Infer.this.global.Symbol]">params</a>, <a href="../../../reflect/internal/Definitions.scala.html#46274" title="=&gt; Infer.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
              <a href="#628827" title="Infer.this.global.Type">restpe</a>
          <span class="delimiter">}</span>
          //println(&quot;try to solve &quot;+tvars+&quot; &quot;+tparams)
          <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.TypeVar])(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])" class="delimiter">(</span><a href="#184101" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span><a href="#628832" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#628826" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#628826" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#184159" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#628902" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#628880" title="Infer.this.global.Type">varianceType</a><span class="delimiter">)</span>,
                      <span title="Boolean(false)" class="keyword">false</span>, <a href="../../../reflect/internal/Types.scala.html#40293" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#628827" title="Infer.this.global.Type">restpe</a>, <a href="#628828" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#628832" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="(Null, Null)" id="628942">ex</a>: <a href="#184093" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="(_1: Null, _2: Null)(Null, Null)" class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(_1: Null, _2: Null)(Null, Null)" class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Return inferred proto-type arguments of function, given
    *  its type and value parameters and result type, and a
    *  prototype &lt;code&gt;pt&lt;/code&gt; for the function result.
    *  Type arguments need to be either determined precisely by
    *  the prototype, or they are maximized, if they occur only covariantly
    *  in the value parameter list.
    *  If instantiation of a type parameter fails,
    *  take WildcardType for the proto-type argument.
    *
    *  @param tparams ...
    *  @param formals ...
    *  @param restype ...
    *  @param pt      ...
    *  @return        ...
    */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, pt: Infer.this.global.Type)List[Infer.this.global.Type]" id="184484">protoTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="628955">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="628956">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="628957">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>,
                      <a title="Infer.this.global.Type" id="628958">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      /** Map type variable to its instance, or, if `variance` is covariant/contravariant,
       *  to its upper/lower bound */
      <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar, variance: Int)Infer.this.global.Type" id="628960">instantiateToBound</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="628962">tvar</a>: <a href="../../../reflect/internal/Types.scala.html#40176" title="Infer.this.global.TypeVar">TypeVar</a>, <a title="Int" id="628963">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="628965">hiBounds</a> = <a href="#628962" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84295" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="628967">loBounds</a> = <a href="#628962" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84294" title="=&gt; List[Infer.this.global.Type]">loBounds</a>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628969">upper</a> = <a href="../../../reflect/internal/Types.scala.html#40374" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a><span class="delimiter">(</span><a href="#628964" title="=&gt; List[Infer.this.global.Type]">hiBounds</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="628971">lower</a> = <a href="../../../reflect/internal/Types.scala.html#40365" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a><span class="delimiter">(</span><a href="#628966" title="=&gt; List[Infer.this.global.Type]">loBounds</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="628972">setInst</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="628982">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <a href="#628962" title="Infer.this.global.TypeVar">tvar</a> <a href="../../../reflect/internal/Types.scala.html#84212" title="(tp: Infer.this.global.Type)Unit">setInst</a> <a href="#628982" title="Infer.this.global.Type">tp</a>
          <a href="#184088" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a><span class="delimiter">(</span><a href="#628962" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span>//debug
          <a href="#627718" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#628962" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        //Console.println(&quot;instantiate &quot;+tvar+tvar.constr+&quot; variance = &quot;+variance);//DEBUG
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#628962" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span>
          <a href="#627718" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#628962" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#628963" title="Int">variance</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#628964" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#628972" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#628968" title="=&gt; Infer.this.global.Type">upper</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#628963" title="Int">variance</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(131072)">CONTRAVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#628966" title="=&gt; List[Infer.this.global.Type]">loBounds</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#628972" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#628970" title="=&gt; Infer.this.global.Type">lower</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#628964" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#628966" title="=&gt; List[Infer.this.global.Type]">loBounds</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#628968" title="=&gt; Infer.this.global.Type">upper</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#628970" title="=&gt; Infer.this.global.Type">lower</a><span class="delimiter">)</span>
          <a href="#628972" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#628968" title="=&gt; Infer.this.global.Type">upper</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Infer.this.global.WildcardType.type" id="629010">ex</a>: <a href="#184093" title="Infer.this.NoInstance">NoInstance</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="628961">tvars</a> = <a href="#628955" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#184480" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isConservativelyCompatible</a><span class="delimiter">(</span><a href="#628957" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#628955" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#628961" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>, <a href="#628958" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[Infer.this.global.Symbol], xs2: List[Infer.this.global.TypeVar])(f: (Infer.this.global.Symbol, Infer.this.global.TypeVar) =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">map2</a><span class="delimiter">(</span><a href="#628955" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#628961" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="629091">tparam</a>, <a title="Infer.this.global.TypeVar" id="629092">tvar</a><span class="delimiter">)</span> =&gt;
          <a href="#628960" title="(tvar: Infer.this.global.TypeVar, variance: Int)Infer.this.global.Type">instantiateToBound</a><span class="delimiter">(</span><a href="#629092" title="Infer.this.global.TypeVar">tvar</a>, <a href="Variances.scala.html#184155" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a><span class="delimiter">(</span><a href="#628956" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#629091" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#628961" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.WildcardType.type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="629116">tvar</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.AdjustedTypeArgs" id="184485">AdjustedTypeArgs</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">val</span> <a title="collection.mutable.LinkedHashMap.type" id="625716">Result</a> = collection.mutable.<span title="object scala.collection.mutable.LinkedHashMap">LinkedHashMap</span>
      <span class="keyword">type</span> <a title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]" id="625718">Result</a> = collection.mutable.<span title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]">LinkedHashMap</span><span class="delimiter">[</span>Symbol, Option<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]" id="625719">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="625753">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]">Some</span><span class="delimiter">(</span><a href="#625724" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type])">toLists</a><span class="delimiter">(</span>
        <a href="#625753" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a> <span title="(pf: PartialFunction[(Infer.this.global.Symbol, Option[Infer.this.global.Type]),(Infer.this.global.Symbol, Infer.this.global.Type)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">collect</span> <a href="#629319" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="629322">p</a>, Some<span class="delimiter">(</span><a title="Infer.this.global.Type" id="629324">a</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#629322" title="Infer.this.global.Symbol">p</a>, <a href="#629324" title="Infer.this.global.Type">a</a><span class="delimiter">)</span><span class="delimiter">}</span> <span title="(implicit asPair: ((Infer.this.global.Symbol, Infer.this.global.Type)) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>  <span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">object</span> <a title="object scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Undets" id="625720">Undets</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]" id="629479">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="629481">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">(</span><a href="#625729" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])">toLists</a><span class="delimiter">{</span>
          <span class="keyword">val</span> <a href="#629506" title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])" class="delimiter">(</a><a href="#629505" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="629506">ok</a>, <a href="#629505" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="629507">nok</a><span class="delimiter">)</span> = <a href="#629481" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="(f: ((Infer.this.global.Symbol, Option[Infer.this.global.Type])) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">map</span><a href="#629527" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="629530">p</a>, <a title="Option[Infer.this.global.Type]" id="629531">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#629530" title="Infer.this.global.Symbol">p</a>, <a href="#629531" title="Option[Infer.this.global.Type]">a</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>.<span title="(p: ((Infer.this.global.Symbol, Infer.this.global.Type)) =&gt; Boolean)(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])">partition</span><span title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]) @unchecked" class="delimiter">(</span><a href="#629656" title="(Infer.this.global.Symbol, Infer.this.global.Type)">_</a>.<span title="=&gt; Infer.this.global.Type">_2</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#629509" title="(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])" class="delimiter">(</a><a href="#629508" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]" id="629509">okArgs</a>, <a href="#629508" title="scala.collection.mutable.Iterable[Infer.this.global.Type]" id="629510">okTparams</a><span class="delimiter">)</span> = <a href="#629506" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">ok</a>.<span title="(implicit asPair: ((Infer.this.global.Symbol, Infer.this.global.Type)) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>
          <span title="(_1: scala.collection.mutable.Iterable[Infer.this.global.Symbol], _2: scala.collection.mutable.Iterable[Infer.this.global.Type], _3: Iterable[Infer.this.global.Symbol])(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol])" class="delimiter">(</span><a href="#629509" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]">okArgs</a>, <a href="#629510" title="scala.collection.mutable.Iterable[Infer.this.global.Type]">okTparams</a>, <a href="#629507" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">nok</a>.<span title="=&gt; Iterable[Infer.this.global.Symbol]">keys</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">object</span> <a title="object scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.AllArgsAndUndets" id="625722">AllArgsAndUndets</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]" id="629715">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="629717">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">(</span><a href="#625736" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])">toLists</a><span class="delimiter">{</span>
          <span class="keyword">val</span> <a href="#629743" title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])" class="delimiter">(</a><a href="#629742" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="629743">ok</a>, <a href="#629742" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="629744">nok</a><span class="delimiter">)</span> = <a href="#629717" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="(f: ((Infer.this.global.Symbol, Option[Infer.this.global.Type])) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">map</span><a href="#629764" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="629767">p</a>, <a title="Option[Infer.this.global.Type]" id="629768">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#629767" title="Infer.this.global.Symbol">p</a>, <a href="#629768" title="Option[Infer.this.global.Type]">a</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>.<span title="(p: ((Infer.this.global.Symbol, Infer.this.global.Type)) =&gt; Boolean)(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])">partition</span><span title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]) @unchecked" class="delimiter">(</span><a href="#629825" title="(Infer.this.global.Symbol, Infer.this.global.Type)">_</a>.<span title="=&gt; Infer.this.global.Type">_2</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#629746" title="(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])" class="delimiter">(</a><a href="#629745" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]" id="629746">okArgs</a>, <a href="#629745" title="scala.collection.mutable.Iterable[Infer.this.global.Type]" id="629747">okTparams</a><span class="delimiter">)</span> = <a href="#629743" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">ok</a>.<span title="(implicit asPair: ((Infer.this.global.Symbol, Infer.this.global.Type)) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>
          <span title="(_1: scala.collection.mutable.Iterable[Infer.this.global.Symbol], _2: scala.collection.mutable.Iterable[Infer.this.global.Type], _3: Iterable[Infer.this.global.Type], _4: Iterable[Infer.this.global.Symbol])(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol])" class="delimiter">(</span><a href="#629746" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]">okArgs</a>, <a href="#629747" title="scala.collection.mutable.Iterable[Infer.this.global.Type]">okTparams</a>, <a href="#629717" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="=&gt; Iterable[Option[Infer.this.global.Type]]">values</span>.<span title="(f: Option[Infer.this.global.Type] =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Option[Infer.this.global.Type]],Infer.this.global.Type,Iterable[Infer.this.global.Type]])Iterable[Infer.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Infer.this.global.Type,Iterable[Infer.this.global.Type]]" class="delimiter">(</span><a href="#629886" title="Option[Infer.this.global.Type]">_</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Infer.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70289" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#629744" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">nok</a>.<span title="=&gt; Iterable[Infer.this.global.Symbol]">keys</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2](pxs: (Iterable[A1], Iterable[A2]))(List[A1], List[A2])" id="625724">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="625727">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="625728">A2</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2])" id="629268">pxs</a>: <span title="(Iterable[A1], Iterable[A2])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2])(List[A1], List[A2])" class="delimiter">(</span><a href="#629268" title="(Iterable[A1], Iterable[A2])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#629268" title="(Iterable[A1], Iterable[A2])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span><span class="delimiter">)</span>
      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2, A3](pxs: (Iterable[A1], Iterable[A2], Iterable[A3]))(List[A1], List[A2], List[A3])" id="625729">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="625733">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="625734">A2</a>, <a title="&gt;: Nothing &lt;: Any" id="625735">A3</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2], Iterable[A3])" id="629217">pxs</a>: <span title="(Iterable[A1], Iterable[A2], Iterable[A3])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A3<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2], _3: List[A3])(List[A1], List[A2], List[A3])" class="delimiter">(</span><a href="#629217" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#629217" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span>, <a href="#629217" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A3]">_3</span>.<span title="=&gt; List[A3]">toList</span><span class="delimiter">)</span>
      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2, A3, A4](pxs: (Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4]))(List[A1], List[A2], List[A3], List[A4])" id="625736">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="625741">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="625742">A2</a>, <a title="&gt;: Nothing &lt;: Any" id="625743">A3</a>, <a title="&gt;: Nothing &lt;: Any" id="625744">A4</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])" id="629151">pxs</a>: <span title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A3<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A4<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2], _3: List[A3], _4: List[A4])(List[A1], List[A2], List[A3], List[A4])" class="delimiter">(</span><a href="#629151" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#629151" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span>, <a href="#629151" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A3]">_3</span>.<span title="=&gt; List[A3]">toList</span>, <a href="#629151" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A4]">_4</span>.<span title="=&gt; List[A4]">toList</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Retract arguments that were inferred to Nothing because inference failed. Correct types for repeated params.
     *
     * We detect Nothing-due-to-failure by only retracting a parameter if either:
     *  - it occurs in an invariant/contravariant position in `restpe`
     *  - `restpe == WildcardType`
     *
     * Retracted parameters are mapped to None.
     *  TODO:
     *    - make sure the performance hit of storing these in a map is acceptable (it's going to be a small map in 90% of the cases, I think)
     *    - refactor further up the callstack so that we don't have to do this post-factum adjustment?
     *
     * Rewrite for repeated param types:  Map T* entries to Seq[T].
     *  @return map from tparams to inferred arg, if inference was successful, tparams that map to None are considered left undetermined
     *    type parameters that are inferred as `scala.Nothing` and that are not covariant in &lt;code&gt;restpe&lt;/code&gt; are taken to be undetermined
     */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], tvars: List[Infer.this.global.TypeVar], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result" id="184487">adjustTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="625711">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.TypeVar]" id="625712">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="625713">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="625746">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>: AdjustedTypeArgs.<span title="Inferencer.this.AdjustedTypeArgs.Result">Result</span>  = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[(Infer.this.global.Symbol, Option[Infer.this.global.Type]),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]]" id="629920">buf</a> = <a href="#184485" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#625716" title="=&gt; collection.mutable.LinkedHashMap.type">Result</a>.<span title="[A, B]=&gt; scala.collection.mutable.Builder[(A, B),scala.collection.mutable.LinkedHashMap[A,B]]">newBuilder</span><span title="scala.collection.mutable.Builder[(Infer.this.global.Symbol, Option[Infer.this.global.Type]),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <span title="Option[Infer.this.global.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span>
      
      <a href="../../../reflect/internal/util/Collections.scala.html#39618" title="(xs1: List[Infer.this.global.Symbol], xs2: List[Infer.this.global.TypeVar], xs3: List[Infer.this.global.Type])(f: (Infer.this.global.Symbol, Infer.this.global.TypeVar, Infer.this.global.Type) =&gt; Unit)Unit">foreach3</a><span class="delimiter">(</span><a href="#625711" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#625712" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#625713" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="629979">tparam</a>, <a title="Infer.this.global.TypeVar" id="629980">tvar</a>, <a title="Infer.this.global.Type" id="629981">targ</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Boolean" id="629982">retract</a> = <span class="delimiter">(</span>
              <a href="#629981" title="Infer.this.global.Type">targ</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Infer.this.global.definitions.NothingClass">NothingClass</a>                                         // only retract Nothings
          <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#625746" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42721" title="=&gt; Boolean">isWildcard</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="Variances.scala.html#184159" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><span class="delimiter">(</span><a href="#625746" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#629979" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> // don't retract covariant occurrences
        <span class="delimiter">)</span>

        // checks opt.virtPatmat directly so one need not run under -Xexperimental to use virtpatmat
        <a href="#629920" title="scala.collection.mutable.Builder[(Infer.this.global.Symbol, Option[Infer.this.global.Type]),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]]">buf</a> <span title="(elem: (Infer.this.global.Symbol, Option[Infer.this.global.Type]))buf.type">+=</span> <span class="delimiter">(</span><span title="(_1: Infer.this.global.Symbol, _2: Option[Infer.this.global.Type])(Infer.this.global.Symbol, Option[Infer.this.global.Type])" class="delimiter">(</span><a href="#629979" title="Infer.this.global.Symbol">tparam</a>,
          <span title="Option[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#629982" title="Boolean">retract</a><span class="delimiter">)</span> <span title="object None">None</span>
          <span class="keyword">else</span> <span title="(x: Infer.this.global.Type)Some[Infer.this.global.Type]">Some</span><span class="delimiter">(</span>
            <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#629981" title="Infer.this.global.Type">targ</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46389" title="=&gt; Infer.this.global.Symbol">RepeatedParamClass</a><span class="delimiter">)</span>     <a href="#629981" title="Infer.this.global.Type">targ</a>.<a href="../../../reflect/internal/Types.scala.html#42777" title="(clazz: Infer.this.global.Symbol)Infer.this.global.Type">baseType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46420" title="=&gt; Infer.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#629981" title="Infer.this.global.Type">targ</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46391" title="=&gt; Infer.this.global.Symbol">JavaRepeatedParamClass</a><span class="delimiter">)</span> <a href="#629981" title="Infer.this.global.Type">targ</a>.<a href="../../../reflect/internal/Types.scala.html#42777" title="(clazz: Infer.this.global.Symbol)Infer.this.global.Type">baseType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; Infer.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            // this infers Foo.type instead of &quot;object Foo&quot; (see also widenIfNecessary)
            <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#629981" title="Infer.this.global.Type">targ</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../Global.scala.html#182909" title="object Infer.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#229281" title="=&gt; Boolean">experimental</a> <span title="(x: Boolean)Boolean">||</span> <a href="../Global.scala.html#182909" title="object Infer.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#229290" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#629980" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84296" title="=&gt; Boolean">avoidWiden</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#629981" title="Infer.this.global.Type">targ</a>
            <span class="keyword">else</span> <a href="#629981" title="Infer.this.global.Type">targ</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Infer.this.global.Type">widen</a>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#629920" title="scala.collection.mutable.Builder[(Infer.this.global.Symbol, Option[Infer.this.global.Type]),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]]">buf</a>.<span title="()scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]">result</span>
    <span class="delimiter">}</span>

    /** Return inferred type arguments, given type parameters, formal parameters,
    *  argument types, result type and expected result type.
    *  If this is not possible, throw a &lt;code&gt;NoInstance&lt;/code&gt; exception.
    *  Undetermined type arguments are represented by `definitions.NothingClass.tpe`.
    *  No check that inferred parameters conform to their bounds is made here.
    *
    *  @param   tparams         the type parameters of the method
    *  @param   formals         the value parameter types of the method
    *  @param   restp           the result type of the method
    *  @param   argtpes         the argument types of the application
    *  @param   pt              the expected return type of the application
    *  @return  @see adjustTypeArgs
    *
    *  @throws                  NoInstance
    */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result" id="184488">methTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="630025">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="630026">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="630027">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>,
                     <a title="List[Infer.this.global.Type]" id="630028">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="630029">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: AdjustedTypeArgs.<span title="Inferencer.this.AdjustedTypeArgs.Result">Result</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="630031">tvars</a> = <a href="#630025" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#630026" title="List[Infer.this.global.Type]">formals</a>, <a href="#630028" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#184093" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="String(&quot;parameter lists differ in length&quot;)" class="string">&quot;parameter lists differ in length&quot;</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="630032">restpeInst</a> = <a href="#630027" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#630025" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#630031" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>

      // first check if typevars can be fully defined from the expected type.
      // The return value isn't used so I'm making it obvious that this side
      // effects, because a function called &quot;isXXX&quot; is not the most obvious
      // side effecter.
      <a href="#184480" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isConservativelyCompatible</a><span class="delimiter">(</span><a href="#630032" title="Infer.this.global.Type">restpeInst</a>, <a href="#630029" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

      // Return value unused with the following explanation:
      //
      // Just wait and instantiate from the arguments.  That way,
      // we can try to apply an implicit conversion afterwards.
      // This case could happen if restpe is not fully defined, so the
      // search for an implicit from restpe =&gt; pt fails due to ambiguity.
      // See #347.  Therefore, the following two lines are commented out.
      //
      // throw new DeferredNoInstance(() =&gt;
      //   &quot;result type &quot; + normalize(restpe) + &quot; is incompatible with expected type &quot; + pt)

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="630101">tvar</a> &lt;- <a href="#630031" title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">tvars</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#630101" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#630101" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84302" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../../../reflect/internal/Types.scala.html#40097" title="object Infer.this.global.NoType">NoType</a>

      // Then define remaining type variables from argument types.
      <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[Infer.this.global.Type], xs2: List[Infer.this.global.Type])(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Unit)List[Unit]">map2</a><span class="delimiter">(</span><a href="#630028" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#630026" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="630137">argtpe</a>, <a title="Infer.this.global.Type" id="630138">formal</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="630139">tp1</a> = <a href="#630137" title="Infer.this.global.Type">argtpe</a>.<a href="../../../reflect/internal/Types.scala.html#42733" title="=&gt; Infer.this.global.Type">deconst</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#630025" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#630031" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="630140">pt1</a> = <a href="#630138" title="Infer.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#630025" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#630031" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>

        // Note that isCompatible side-effects: subtype checks involving typevars
        // are recorded in the typevar's bounds (see TypeConstraint)
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#184477" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#630139" title="Infer.this.global.Type">tp1</a>, <a href="#630140" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#184094" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="String(&quot;argument expression\'s type is not compatible with formal parameter type&quot;)" class="string">&quot;argument expression's type is not compatible with formal parameter type&quot;</span> <span title="(x$1: Any)String">+</span> <a href="TypeDiagnostics.scala.html#184282" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#630139" title="Infer.this.global.Type">tp1</a>, <a href="#630140" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="630033">targs</a> = <a href="#184101" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span>
        <a href="#630031" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#630025" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#630025" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#184155" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a><a href="#630158" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#630026" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span>,
        <span title="Boolean(false)" class="keyword">false</span>, <a href="../../../reflect/internal/Types.scala.html#40293" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="delimiter">(</span><a href="#630026" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span> <span title="(that: Int)Int">max</span> <a href="../../../reflect/internal/Types.scala.html#40293" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><a href="#630028" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="#184487" title="(tparams: List[Infer.this.global.Symbol], tvars: List[Infer.this.global.TypeVar], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">adjustTypeArgs</a><span class="delimiter">(</span><a href="#630025" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#630031" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#630033" title="List[Infer.this.global.Type]">targs</a>, <a href="#630027" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="184489">followApply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630252">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="#630252" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630255">restp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="630256">restp1</a> = <a href="#184489" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#630255" title="Infer.this.global.Type">restp</a><span class="delimiter">)</span>
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#630256" title="Infer.this.global.Type">restp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#630255" title="Infer.this.global.Type">restp</a><span class="delimiter">)</span> <a href="#630252" title="Infer.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#630256" title="Infer.this.global.Type">restp1</a>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="630257">appmeth</a> = <a href="#630252" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42770" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Infer.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; Infer.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#630262" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48094" title="=&gt; Boolean">isPublic</a><span class="delimiter">)</span>
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#630257" title="Infer.this.global.Symbol">appmeth</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#630252" title="Infer.this.global.Type">tp</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#83998" title="(pre: Infer.this.global.Type, alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a><span class="delimiter">(</span><a href="#630252" title="Infer.this.global.Type">tp</a>, <a href="#630257" title="Infer.this.global.Symbol">appmeth</a>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, n: Int)Boolean" id="184490">hasExactlyNumParams</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630271">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Int" id="630272">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#630271" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630276">pre</a>, <a title="List[Infer.this.global.Symbol]" id="630277">alts</a><span class="delimiter">)</span> =&gt;
        <a href="#630277" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="630284">alt</a> =&gt; <a href="#184490" title="(tp: Infer.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="#630276" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#630284" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#630272" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="630286">len</a> = <a href="#630271" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Infer.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span>
        <a href="#630286" title="Int">len</a> <span title="(x: Int)Boolean">==</span> <a href="#630272" title="Int">n</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/Definitions.scala.html#46401" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#630271" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#630286" title="Int">len</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#630272" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>

    /**
     * Verifies whether the named application is valid. The logic is very
     * similar to the one in NamesDefaults.removeNames.
     *
     * @return a triple (argtpes1, argPos, namesOk) where
     *  - argtpes1 the argument types in named application (assignments to
     *    non-parameter names are treated as assignments, i.e. type Unit)
     *  - argPos a Function1[Int, Int] mapping arguments from their current
     *    to the corresponding position in params
     *  - namesOK is false when there's an invalid use of named arguments
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)" id="184491">checkNames</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="630301">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="630302">params</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Array[Int]" id="630305">argPos</a> = <span title="object Array">Array</span>.<span title="(n: Int)(elem: =&gt; Int)(implicit evidence$9: scala.reflect.ClassManifest[Int])Array[Int]">fill</span><span class="delimiter">(</span><a href="#630301" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span title="=&gt; scala.reflect.AnyValManifest[Int]" class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="630306">positionalAllowed</a>, <a title="Boolean" id="630307">namesOK</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">var</span> <a title="Int" id="630308">index</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="630309">argtpes1</a> = <a href="#630301" title="List[Infer.this.global.Type]">argtpes</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#630360" title="Infer.this.global.Type" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="630363">name</a>, <a title="Infer.this.global.Type" id="630364">tp</a><span class="delimiter">)</span> =&gt; // a named argument
          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="630365">res</a> = <a href="#630364" title="Infer.this.global.Type">tp</a>
          <span class="keyword">val</span> <a title="Int" id="630366">pos</a> = <a href="#630302" title="List[Infer.this.global.Symbol]">params</a>.<span title="(p: Infer.this.global.Symbol =&gt; Boolean)Int">indexWhere</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="630377">p</a> =&gt; <a href="#184529" title="(param: Infer.this.global.Symbol, name: Infer.this.global.Name)Boolean">paramMatchesName</a><span class="delimiter">(</span><a href="#630377" title="Infer.this.global.Symbol">p</a>, <a href="#630363" title="Infer.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#630377" title="Infer.this.global.Symbol">p</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#630366" title="Int">pos</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#630306" title="Boolean">positionalAllowed</a><span class="delimiter">)</span> <span class="delimiter">{</span> // treat assignment as positional argument
              <a href="#630305" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#630308" title="Int">index</a><span class="delimiter">)</span> = <a href="#630308" title="Int">index</a>
              <a href="#630365" title="Infer.this.global.Type">res</a> = <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a>
            <span class="delimiter">}</span> <span class="keyword">else</span>                   // unknown parameter name
              <a href="#630307" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#630305" title="implicit scala.Predef.intArrayOps : (xs: Array[Int])scala.collection.mutable.ArrayOps[Int]">argPos</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#630366" title="Int">pos</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // parameter specified twice
            <a href="#630307" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#630306" title="Boolean">positionalAllowed</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#630305" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#630308" title="Int">index</a><span class="delimiter">)</span> = <a href="#630366" title="Int">pos</a>
          <span class="delimiter">}</span>
          <a href="#630308" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#630365" title="Infer.this.global.Type">res</a>
        <span class="keyword">case</span> <a title="Infer.this.global.Type" id="630423">tp</a> =&gt; // a positional argument
          <a href="#630305" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#630308" title="Int">index</a><span class="delimiter">)</span> = <a href="#630308" title="Int">index</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#630306" title="Boolean">positionalAllowed</a><span class="delimiter">)</span>
            <a href="#630307" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span> // positional after named
          <a href="#630308" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#630423" title="Infer.this.global.Type">tp</a>
      <span class="delimiter">}</span>
      <span title="(_1: List[Infer.this.global.Type], _2: Array[Int], _3: Boolean)(List[Infer.this.global.Type], Array[Int], Boolean)" class="delimiter">(</span><a href="#630309" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#630305" title="Array[Int]">argPos</a>, <a href="#630307" title="Boolean">namesOK</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** don't do a () to (()) conversion for methods whose second parameter
     * is a varargs. This is a fairly kludgey way to address #3224.
     * We'll probably find a better way to do this by identifying
     * tupled and n-ary methods, but thiws is something for a future major revision.
     */
    <span class="keyword">def</span> <a title="(args: List[AnyRef], params: List[Infer.this.global.Symbol])Boolean" id="184492">isUnitForVarArgs</a><span class="delimiter">(</span><a title="List[AnyRef]" id="630464">args</a>: <span title="List[AnyRef]">List</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="630465">params</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#630464" title="List[AnyRef]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Types.scala.html#40311" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#630465" title="List[Infer.this.global.Symbol]">params</a>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46401" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#630465" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span>

    /** Is there an instantiation of free type variables &lt;code&gt;undetparams&lt;/code&gt;
     *  such that function type &lt;code&gt;ftpe&lt;/code&gt; is applicable to
     *  &lt;code&gt;argtpes&lt;/code&gt; and its result conform to &lt;code&gt;pt&lt;/code&gt;?
     *
     *  @param undetparams ...
     *  @param ftpe        the type of the function (often a MethodType)
     *  @param argtpes     the argument types; a NamedType(name, tp) for named
     *    arguments. For each NamedType, if `name` does not exist in `ftpe`, that
     *    type is set to `Unit`, i.e. the corresponding argument is treated as
     *    an assignment expression (@see checkNames).
     *  @param pt          ...
     *  @return            ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean" id="184493">isApplicable</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="630468">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="630469">ftpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>,
                             <a title="List[Infer.this.global.Type]" id="630470">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="630471">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#630469" title="Infer.this.global.Type">ftpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630475">pre</a>, <a title="List[Infer.this.global.Symbol]" id="630476">alts</a><span class="delimiter">)</span> =&gt;
          <a href="#630476" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="630483">alt</a> =&gt; <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#630468" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#630475" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#630483" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630471" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="630487">tparams</a>, <a title="Infer.this.global.Type" id="630488">qtpe</a><span class="delimiter">)</span> =&gt;
          <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#630468" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#630488" title="Infer.this.global.Type">qtpe</a>, <a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630471" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="630491">params</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="630492">formals0</a> = <a href="#630491" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">{</span> <a title="Infer.this.global.Symbol" id="630513">param</a> =&gt;
            <a href="#630513" title="Infer.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="630517">sym</a>, <a href="#630519" title="(x: List[Infer.this.global.Type])Some[List[Infer.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630530">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#630517" title="Infer.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47963" title="(that: Infer.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46485" title="=&gt; Infer.this.global.Symbol">CodeClass</a> =&gt; <a href="#630530" title="Infer.this.global.Type">tpe</a>
              <span class="keyword">case</span> <a title="Infer.this.global.Type" id="630532">tpe</a> =&gt; <a href="#630532" title="Infer.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="630493">formals</a> = <a href="#184089" title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#630492" title="List[Infer.this.global.Type]">formals0</a>, <a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="630494">tryTupleApply</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
            // if 1 formal, 1 argtpe (a tuple), otherwise unmodified argtpes0
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="630564">tupleArgTpes</a> = <a href="#184090" title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]">actualTypes</a><span class="delimiter">(</span><a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#630581" title="Infer.this.global.Type" class="delimiter">{</a>
                // no assignment is treated as named argument here
              <span class="keyword">case</span> <span title="Infer.this.global.Type">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="630584">name</a>, <a title="Infer.this.global.Type" id="630585">tp</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a>
              <span class="keyword">case</span> <a title="Infer.this.global.Type" id="630586">tp</a> =&gt; <a href="#630586" title="Infer.this.global.Type">tp</a>
              <span class="delimiter">}</span>, <a href="#630493" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

            <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630564" title="List[Infer.this.global.Type]">tupleArgTpes</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#184492" title="(args: List[AnyRef], params: List[Infer.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630491" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#630468" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#630469" title="Infer.this.global.Type">ftpe</a>, <a href="#630564" title="List[Infer.this.global.Type]">tupleArgTpes</a>, <a href="#630471" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type])Boolean" id="630495">typesCompatible</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="630616">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="630617">restpe</a> = <a href="#630469" title="Infer.this.global.Type">ftpe</a>.<a href="../../../reflect/internal/Types.scala.html#42744" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#630616" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#630468" title="List[Infer.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#184478" title="(tps: List[Infer.this.global.Type], pts: List[Infer.this.global.Type])Boolean">isCompatibleArgs</a><span class="delimiter">(</span><a href="#630616" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#630493" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184479" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#630617" title="Infer.this.global.Type">restpe</a>, <a href="#630471" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a href="#184485" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#629479" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Undets</a><a href="#630622" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#630621" title="List[Infer.this.global.Symbol]" id="630622">okparams</a>, <a href="#630621" title="List[Infer.this.global.Type]" id="630623">okargs</a>, <a href="#630621" title="List[Infer.this.global.Symbol]" id="630624">leftUndet</a><span class="delimiter">)</span> = <a href="#184488" title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">methTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#630468" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#630493" title="List[Infer.this.global.Type]">formals</a>, <a href="#630617" title="Infer.this.global.Type">restpe</a>, <a href="#630616" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#630471" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
                // #2665: must use weak conformance, not regular one (follow the monomorphic case above)
                <span class="delimiter">(</span><a href="#184483" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])">exprTypeArgs</a><span class="delimiter">(</span><a href="#630624" title="List[Infer.this.global.Symbol]">leftUndet</a>, <a href="#630617" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#630622" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#630623" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>, <a href="#630471" title="Infer.this.global.Type">pt</a>, useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>.<span title="=&gt; List[Infer.this.global.Type]">_1</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="../../../reflect/internal/Types.scala.html#40343" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40099" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#630622" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#630623" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Boolean(false)" id="630643">ex</a>: <a href="#184093" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          // very similar logic to doTypedApply in typechecker
          <span class="keyword">val</span> <a title="Int" id="630496">lencmp</a> = <a href="../../../reflect/internal/Types.scala.html#40310" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630493" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#630496" title="Int">lencmp</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#630494" title="=&gt; Boolean">tryTupleApply</a>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#630496" title="Int">lencmp</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#630660" title="Infer.this.global.Type">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40181" title="Infer.this.global.NamedType">NamedType</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // fast track if no named arguments are used
              <a href="#630495" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a><span class="delimiter">(</span><a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              // named arguments are used
              <span class="keyword">val</span> <a href="#630662" title="(List[Infer.this.global.Type], Array[Int], Boolean)" class="delimiter">(</a><a href="#630661" title="List[Infer.this.global.Type]" id="630662">argtpes1</a>, <a href="#630661" title="Array[Int]" id="630663">argPos</a>, <a href="#630661" title="Boolean" id="630664">namesOK</a><span class="delimiter">)</span> = <a href="#184491" title="(argtpes: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)">checkNames</a><span title="(List[Infer.this.global.Type], Array[Int], Boolean) @unchecked" class="delimiter">(</span><a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630491" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span>
              // when using named application, the vararg param has to be specified exactly once
              <span class="delimiter">(</span> <a href="#630664" title="Boolean">namesOK</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#184232" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#630663" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#630493" title="List[Infer.this.global.Type]">formals</a>, <a href="#630491" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              // nb. arguments and names are OK, check if types are compatible
                <a href="#630495" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a><span class="delimiter">(</span><a href="NamesDefaults.scala.html#184226" title="(args: List[Infer.this.global.Type], pos: Int =&gt; Int)(implicit evidence$1: ClassManifest[Infer.this.global.Type])List[Infer.this.global.Type]">reorderArgs</a><a href="Analyzer.scala.html#183929" title="(prefix: scala.reflect.OptManifest[_], clazz: Class[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[Infer.this.global.Type]" class="delimiter">(</a><a href="#630662" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#630663" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            // not enough arguments, check if applicable using defaults
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="630861">missing</a> = <a href="NamesDefaults.scala.html#184234" title="[T](args: List[T], params: List[Infer.this.global.Symbol], argName: T =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)">missingParams</a><span title="(args: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol], argName: Infer.this.global.Type =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630491" title="List[Infer.this.global.Symbol]">params</a>, <a href="#630879" title="Option[Infer.this.global.Name]" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="Some[Infer.this.global.Name]">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="630882">name</a>, _<span class="delimiter">)</span> =&gt; <span title="(x: Infer.this.global.Name)Some[Infer.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#630882" title="Infer.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[Infer.this.global.Symbol]">_1</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#630861" title="List[Infer.this.global.Symbol]">missing</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#630893" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // add defaults as named arguments
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="630894">argtpes1</a> = <a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a> <a href="#630895" title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">:::</a> <span class="delimiter">(</span><a href="#630861" title="List[Infer.this.global.Symbol]">missing</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.NamedType)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.NamedType,List[Infer.this.global.NamedType]])List[Infer.this.global.NamedType]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="630912">p</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#146914" title="(name: Infer.this.global.Name, tp: Infer.this.global.Type)Infer.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#630912" title="Infer.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Infer.this.global.Name">name</a>, <a href="#630912" title="Infer.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#630468" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#630469" title="Infer.this.global.Type">ftpe</a>, <a href="#630894" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#630471" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#630494" title="=&gt; Boolean">tryTupleApply</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630952">restpe</a><span class="delimiter">)</span> =&gt; // strip nullary method type, which used to be done by the polytype case below
          <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#630468" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#630952" title="Infer.this.global.Type">restpe</a>, <a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630471" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="630955">tparams</a>, <a title="Infer.this.global.Type" id="630956">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/Symbols.scala.html#40021" title="(syms: List[Infer.this.global.Symbol], tpe: Infer.this.global.Type)(creator: (List[Infer.this.global.Symbol], Infer.this.global.Type) =&gt; Boolean)Boolean">createFromClonedSymbols</a><span class="delimiter">(</span><a href="#630955" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#630956" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="630965">tps1</a>, <a title="Infer.this.global.Type" id="630966">restpe1</a><span class="delimiter">)</span> =&gt; <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#630965" title="List[Infer.this.global.Symbol]">tps1</a> <a href="#630967" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#630468" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#630966" title="Infer.this.global.Type">restpe1</a>, <a href="#630470" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#630471" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="Boolean(true)">ErrorType</a> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>

    /** Todo: Try to make isApplicable always safe (i.e. not cause TypeErrors).
     */
    <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean" id="184494">isApplicableSafe</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="624684">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="624685">ftpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>,
                                              <a title="List[Infer.this.global.Type]" id="624686">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="624687">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="630977">reportAmbiguousErrors</a> = <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184603" title="=&gt; Boolean">reportAmbiguousErrors</a>
      <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184604" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#624684" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#624685" title="Infer.this.global.Type">ftpe</a>, <a href="#624686" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#624687" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="630978">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Infer.this.global.TypeError">TypeError</a> =&gt;
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#624684" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#624685" title="Infer.this.global.Type">ftpe</a>, <a href="#624686" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Boolean(false)" id="630979">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Infer.this.global.TypeError">TypeError</a> =&gt;
              <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184604" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <a href="#630977" title="Boolean">reportAmbiguousErrors</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Is type &lt;code&gt;ftpe1&lt;/code&gt; strictly more specific than type &lt;code&gt;ftpe2&lt;/code&gt;
     *  when both are alternatives in an overloaded function?
     *  @see SLS (sec:overloading-resolution)
     *
     *  @param ftpe1 ...
     *  @param ftpe2 ...
     *  @return      ...
     */
    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean" id="184495">isAsSpecific</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630980">ftpe1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="630981">ftpe2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#630980" title="Infer.this.global.Type">ftpe1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="630985">pre</a>, <a title="List[Infer.this.global.Symbol]" id="630986">alts</a><span class="delimiter">)</span> =&gt;
        <a href="#630986" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="630993">alt</a> =&gt; <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630985" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#630993" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Boolean" id="630995">et</a>: <a href="../../../reflect/internal/Types.scala.html#40156" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
        <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>.<a href="../../../reflect/internal/Types.scala.html#42757" title="=&gt; Infer.this.global.Type">skolemizeExistential</a>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
        //et.withTypeVars(isAsSpecific(_, ftpe2))
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="631001">res</a><span class="delimiter">)</span> =&gt;
        <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#631001" title="Infer.this.global.Type">res</a>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Boolean" id="631002">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#631002" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a> =&gt;
        <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631008">params</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#631008" title="List[Infer.this.global.Symbol]">params</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="631009">argtpes</a> = <a href="#631008" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#631026" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46401" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#631008" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#46401" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#630981" title="Infer.this.global.Type">ftpe2</a>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#631009" title="List[Infer.this.global.Type]">argtpes</a> = <a href="#631009" title="List[Infer.this.global.Type]">argtpes</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="631073">argtpe</a> =&gt;
            <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46396" title="(tp: Infer.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#631073" title="Infer.this.global.Type">argtpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#631073" title="Infer.this.global.Type">argtpe</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Infer.this.global.Type">head</span> <span class="keyword">else</span> <a href="#631073" title="Infer.this.global.Type">argtpe</a><span class="delimiter">)</span>
        <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a>, <a href="#631009" title="List[Infer.this.global.Type]">argtpes</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631112">tparams</a>, NullaryMethodType<span class="delimiter">(</span><a title="Infer.this.global.Type" id="631114">res</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#67004" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#631112" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#631114" title="Infer.this.global.Type">res</a><span class="delimiter">)</span>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631121">tparams</a>, <a title="Infer.this.global.MethodType" id="631122">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#631122" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a> =&gt;
        <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#67004" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#631121" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#631122" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66904" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631131">params</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#631131" title="List[Infer.this.global.Symbol]">params</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a>, <a href="#631131" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#631155" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      // case NullaryMethodType(res) =&gt;
      //   isAsSpecific(res, ftpe2)
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="Boolean(true)">ErrorType</a> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#630981" title="Infer.this.global.Type">ftpe2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="631185">pre</a>, <a title="List[Infer.this.global.Symbol]" id="631186">alts</a><span class="delimiter">)</span> =&gt;
            <a href="#631186" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="631193">alt</a> =&gt; <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>, <a href="#631185" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#631193" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Boolean" id="631195">et</a>: <a href="../../../reflect/internal/Types.scala.html#40156" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
            <a href="#631195" title="Infer.this.global.ExistentialType">et</a>.<a href="../../../reflect/internal/Types.scala.html#67148" title="(op: Infer.this.global.Type =&gt; Boolean)Boolean">withTypeVars</a><span class="delimiter">(</span><a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>, <a href="#631202" title="Infer.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Boolean" id="631203">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Infer.this.global.MethodType">MethodType</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#631203" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">||</span> <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>, <a href="#631203" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66904" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="631209">res</a><span class="delimiter">)</span> =&gt;
            <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>, <a href="#631209" title="Infer.this.global.Type">res</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631212">tparams</a>, NullaryMethodType<span class="delimiter">(</span><a title="Infer.this.global.Type" id="631214">res</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>, <a href="../../../reflect/internal/Types.scala.html#67004" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#631212" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#631214" title="Infer.this.global.Type">res</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631217">tparams</a>, <a title="Infer.this.global.MethodType" id="631218">mt</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">)</span> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#631218" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66910" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">||</span> <a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>, <a href="../../../reflect/internal/Types.scala.html#67004" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#631217" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#631218" title="Infer.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#66904" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <a href="#184496" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#630980" title="Infer.this.global.Type">ftpe1</a>, <a href="#630981" title="Infer.this.global.Type">ftpe2</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean" id="184496">isAsSpecificValueType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="631223">tpe1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="631224">tpe2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="631225">undef1</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="631226">undef2</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#631223" title="Infer.this.global.Type">tpe1</a>, <a href="#631224" title="Infer.this.global.Type">tpe2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>PolyType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631252">tparams1</a>, <a title="Infer.this.global.Type" id="631253">rtpe1</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt;
        <a href="#184496" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#631253" title="Infer.this.global.Type">rtpe1</a>, <a href="#631224" title="Infer.this.global.Type">tpe2</a>, <a href="#631225" title="List[Infer.this.global.Symbol]">undef1</a> <a href="#631254" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#631252" title="List[Infer.this.global.Symbol]">tparams1</a>, <a href="#631226" title="List[Infer.this.global.Symbol]">undef2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, PolyType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631266">tparams2</a>, <a title="Infer.this.global.Type" id="631267">rtpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#184496" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#631223" title="Infer.this.global.Type">tpe1</a>, <a href="#631267" title="Infer.this.global.Type">rtpe2</a>, <a href="#631225" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#631226" title="List[Infer.this.global.Symbol]">undef2</a> <a href="#631268" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#631266" title="List[Infer.this.global.Symbol]">tparams2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#40208" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#631225" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#631223" title="Infer.this.global.Type">tpe1</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Types.scala.html#40208" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#631226" title="List[Infer.this.global.Symbol]">undef2</a>, <a href="#631224" title="Infer.this.global.Type">tpe2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>


/*
    def isStrictlyMoreSpecific(ftpe1: Type, ftpe2: Type): Boolean =
      ftpe1.isError || isAsSpecific(ftpe1, ftpe2) &amp;&amp;
      (!isAsSpecific(ftpe2, ftpe1) ||
       !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
       phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
*/
    /** Is sym1 (or its companion class in case it is a module) a subclass of
     *  sym2 (or its companion class in case it is a module)?
     */
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="184497">isProperSubClassOrObject</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="631280">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="631281">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#631280" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#631281" title="Infer.this.global.Symbol">sym2</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#631280" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#631280" title="Infer.this.global.Symbol">sym1</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: Infer.this.global.Symbol)Boolean">isSubClass</a> <a href="#631281" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#631280" title="Infer.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184497" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#631280" title="Infer.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#48007" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a>, <a href="#631281" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#631281" title="Infer.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184497" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#631280" title="Infer.this.global.Symbol">sym1</a>, <a href="#631281" title="Infer.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#48007" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>

    /** is symbol `sym1` defined in a proper subclass of symbol `sym2`?
     */
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="184498">isInProperSubClassOrObject</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="631292">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="631293">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#631293" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#184497" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#631292" title="Infer.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#631293" title="Infer.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="184499">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="624086">ftpe1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="624087">ftpe2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="624088">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="624089">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      // ftpe1 / ftpe2 are OverloadedTypes (possibly with one single alternative) if they
      // denote the type of an &quot;apply&quot; member method (see &quot;followApply&quot;)
      <a href="#624086" title="Infer.this.global.Type">ftpe1</a>.<a href="../../../reflect/internal/Types.scala.html#42722" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="631300">specificCount</a> = <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#624086" title="Infer.this.global.Type">ftpe1</a>, <a href="#624087" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span>
                            <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#184495" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#624087" title="Infer.this.global.Type">ftpe2</a>, <a href="#624086" title="Infer.this.global.Type">ftpe1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                 // todo: move to isAsSpecific test
//                                 (!ftpe2.isInstanceOf[OverloadedType] || ftpe1.isInstanceOf[OverloadedType]) &amp;&amp;
                                 <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70383" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">||</span> <a href="#184500" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">covariantReturnOverride</a><span class="delimiter">(</span><a href="#624086" title="Infer.this.global.Type">ftpe1</a>, <a href="#624087" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="631301">subClassCount</a> = <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#184498" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a><span class="delimiter">(</span><a href="#624088" title="Infer.this.global.Symbol">sym1</a>, <a href="#624089" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span>
                            <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#184498" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a><span class="delimiter">(</span><a href="#624089" title="Infer.this.global.Symbol">sym2</a>, <a href="#624088" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
//        println(&quot;is more specific? &quot;+sym1+&quot;:&quot;+ftpe1+sym1.locationString+&quot;/&quot;+sym2+&quot;:&quot;+ftpe2+sym2.locationString+&quot;:&quot;+
//                specificCount+&quot;/&quot;+subClassCount)
        <a href="#631300" title="Int">specificCount</a> <span title="(x: Int)Int">+</span> <a href="#631301" title="Int">subClassCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
/*
      ftpe1.isError || {
        if (isAsSpecific(ftpe1, ftpe2))
          (!isAsSpecific(ftpe2, ftpe1) ||
           isProperSubClassOrObject(sym1.owner, sym2.owner) ||
           !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
           phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
        else
          !isAsSpecific(ftpe2, ftpe1) &amp;&amp;
          isProperSubClassOrObject(sym1.owner, sym2.owner)
      }
*/
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean" id="184500">covariantReturnOverride</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="631306">ftpe1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="631307">ftpe2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#631306" title="Infer.this.global.Type">ftpe1</a>, <a href="#631307" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>MethodType<span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="631331">rtpe1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="631334">rtpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#631331" title="Infer.this.global.Type">rtpe1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#631334" title="Infer.this.global.Type">rtpe2</a> <span title="(x: Boolean)Boolean">||</span> <a href="#631334" title="Infer.this.global.Type">rtpe2</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; Infer.this.global.Symbol">ObjectClass</a>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
/*
    /** Is type `tpe1` a strictly better expression alternative than type `tpe2`?
     */
    def isStrictlyBetterExpr(tpe1: Type, tpe2: Type) = {
      isMethod(tpe2) &amp;&amp; !isMethod(tpe1) ||
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      isStrictlyBetter(tpe1, tpe2)
    }

    /** Is type `tpe1` a strictly better alternative than type `tpe2`?
     *  non-methods are always strictly better than methods
     *  nullary methods are always strictly better than non-nullary
     *  if both are non-nullary methods, then tpe1 is strictly better than tpe2 if
     *   - tpe1 specializes tpe2 and tpe2 does not specialize tpe1
     *   - tpe1 and tpe2 specialize each other and tpe1 has a strictly better resulttype than
     *     tpe2
     */
    def isStrictlyBetter(tpe1: Type, tpe2: Type) = {
      def isNullary(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isNullary(tp.underlying)
        case _ =&gt; tpe.paramSectionCount == 0 || tpe.params.isEmpty
      }
      def isMethod(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isMethod(tp.underlying)
        case MethodType(_, _) | PolyType(_, _) =&gt; true
        case _ =&gt; false
      }
      def hasStrictlyBetterResult =
        resultIsBetter(tpe1, tpe2, List(), List()) &amp;&amp; !resultIsBetter(tpe2, tpe1, List(), List())
      if (!isMethod(tpe1))
        isMethod(tpe2) || hasStrictlyBetterResult

      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      is

      else if (isNullary(tpe1))
        isMethod(tpe2) &amp;&amp; (!isNullary(tpe2) || hasStrictlyBetterResult)
      else
        specializes(tpe1, tpe2) &amp;&amp; (!specializes(tpe2, tpe1) || hasStrictlyBetterResult)
    }

*/
    /** error if arguments not within bounds. */
    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], prefix: String)Unit" id="184501">checkBounds</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="625408">pos</a>: <a href="../util/Position.scala.html#34604" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="625409">pre</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="625410">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>,
                    <a title="List[Infer.this.global.Symbol]" id="625411">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="625412">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="String" id="625413">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      //@M validate variances &amp; bounds of targs wrt variances &amp; bounds of tparams
      //@M TODO: better place to check this?
      //@M TODO: errors for getters &amp; setters are reported separately
      <span class="keyword">val</span> <a title="List[String]" id="625416">kindErrors</a> = <a href="#184502" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#625412" title="List[Infer.this.global.Type]">targs</a>, <a href="#625409" title="Infer.this.global.Type">pre</a>, <a href="#625410" title="Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#625416" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#625412" title="List[Infer.this.global.Type]">targs</a> <span title="(elem: Any)Boolean">contains</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#625408" title="Infer.this.global.Position">pos</a>,
          <a href="#625413" title="String">prefix</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;kinds of the type arguments &quot;)" class="string">&quot;kinds of the type arguments &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#625412" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot; do not conform to the expected kinds of the type parameters &quot;)" class="string">&quot; do not conform to the expected kinds of the type parameters &quot;</span><span title="(x$1: Any)String">+</span>
          <a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a><span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#625416" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#40343" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#625409" title="Infer.this.global.Type">pre</a>, <a href="#625410" title="Infer.this.global.Symbol">owner</a>, <a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#625412" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#625412" title="List[Infer.this.global.Type]">targs</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#625444" title="Infer.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#625451" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47808" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          //val bounds = instantiatedBounds(pre, owner, tparams, targs)//DEBUG
          //println(&quot;bounds = &quot;+bounds+&quot;, targs = &quot;+targs+&quot;, targclasses = &quot;+(targs map (_.getClass))+&quot;, parents = &quot;+(targs map (_.parents)))
          //println(List.map2(bounds, targs)((bound, targ) =&gt; bound containsType targ))
          <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#625408" title="Infer.this.global.Position">pos</a>,
                <a href="#625413" title="String">prefix</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;type arguments &quot;)" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#625412" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; do not conform to &quot;)" class="string">&quot; do not conform to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\'s type parameter bounds &quot;)" class="string">&quot;'s type parameter bounds &quot;</span> <span title="(x$1: Any)String">+</span>
                <span class="delimiter">(</span><a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#625471" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#48059" title="=&gt; String">defString</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#183587" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.TypeBounds]" id="625506">bounds</a> = <a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])List[Infer.this.global.TypeBounds]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="625517">tp</a> =&gt; <a href="#625517" title="Infer.this.global.Symbol">tp</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#625411" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#625412" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Infer.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.TypeBounds])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])" class="delimiter">(</span><a href="#625412" title="List[Infer.this.global.Type]">targs</a>, <a href="#625506" title="List[Infer.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Type] =&gt; scala.collection.TraversableLike[Infer.this.global.Type,List[Infer.this.global.Type]], implicit w2: List[Infer.this.global.TypeBounds] =&gt; scala.collection.IterableLike[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])#Zipped[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.TypeBounds],Infer.this.global.TypeBounds]">zipped</span> <span title="(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="625612">targ</a>, <a title="Infer.this.global.TypeBounds" id="625613">bound</a><span class="delimiter">)</span> =&gt; <a href="#184475" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#625613" title="Infer.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; Infer.this.global.Type">lo</a>, <a href="#625612" title="Infer.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.TypeBounds])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])" class="delimiter">(</span><a href="#625412" title="List[Infer.this.global.Type]">targs</a>, <a href="#625506" title="List[Infer.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Type] =&gt; scala.collection.TraversableLike[Infer.this.global.Type,List[Infer.this.global.Type]], implicit w2: List[Infer.this.global.TypeBounds] =&gt; scala.collection.IterableLike[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])#Zipped[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.TypeBounds],Infer.this.global.TypeBounds]">zipped</span> <span title="(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="625702">targ</a>, <a title="Infer.this.global.TypeBounds" id="625703">bound</a><span class="delimiter">)</span> =&gt; <a href="#184475" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#625702" title="Infer.this.global.Type">targ</a>, <a href="#625703" title="Infer.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; Infer.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol)List[String]" id="184502">checkKindBounds</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="625417">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="625418">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="625419">pre</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="625420">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="../../../reflect/internal/Kinds.scala.html#40418" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, explainErrors: Boolean)List[(Infer.this.global.Type, Infer.this.global.Symbol, Infer.this.global.KindErrors)]">checkKindBounds0</a><span class="delimiter">(</span><a href="#625417" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#625418" title="List[Infer.this.global.Type]">targs</a>, <a href="#625419" title="Infer.this.global.Type">pre</a>, <a href="#625420" title="Infer.this.global.Symbol">owner</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="(f: ((Infer.this.global.Type, Infer.this.global.Symbol, Infer.this.global.KindErrors)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Infer.this.global.Type, Infer.this.global.Symbol, Infer.this.global.KindErrors)],String,List[String]])List[String]">map</span> <a href="#631370" title="String" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="Infer.this.global.Type" id="631374">targ</a>, <a title="Infer.this.global.Symbol" id="631375">tparam</a>, <a title="Infer.this.global.KindErrors" id="631376">kindErrors</a><span class="delimiter">)</span> =&gt;
          <a href="#631376" title="Infer.this.global.KindErrors">kindErrors</a>.<a href="../../../reflect/internal/Kinds.scala.html#87263" title="(targ: Infer.this.global.Type, tparam: Infer.this.global.Symbol)String">errorMessage</a><span class="delimiter">(</span><a href="#631374" title="Infer.this.global.Type">targ</a>, <a href="#631375" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Substitute free type variables `undetparams` of polymorphic argument
     *  expression `tree`, given two prototypes `strictPt`, and `lenientPt`.
     *  `strictPt` is the first attempt prototype where type parameters
     *  are left unchanged. `lenientPt` is the fall-back prototype where type
     *  parameters are replaced by `WildcardType`s. We try to instantiate
     *  first to `strictPt` and then, if this fails, to `lenientPt`. If both
     *  attempts fail, an error is produced.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], strictPt: Infer.this.global.Type, lenientPt: Infer.this.global.Type)Unit" id="184503">inferArgumentInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="631406">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="631407">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="631408">strictPt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="631409">lenientPt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Typers.scala.html#184431" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../../../reflect/internal/TypeDebugging.scala.html#83198" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;inferArgumentInstance&quot;)" class="string">&quot;inferArgumentInstance&quot;</span>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tree&quot;</span>        <span title="(y: Infer.this.global.Tree)(String, Infer.this.global.Tree)">-&gt;</span> <a href="#631406" title="Infer.this.global.Tree">tree</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tree.tpe&quot;</span>    <span title="(y: Infer.this.global.Type)(String, Infer.this.global.Type)">-&gt;</span> <a href="#631406" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;undetparams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#631407" title="List[Infer.this.global.Symbol]">undetparams</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;strictPt&quot;</span>    <span title="(y: Infer.this.global.Type)(String, Infer.this.global.Type)">-&gt;</span> <a href="#631408" title="Infer.this.global.Type">strictPt</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;lenientPt&quot;</span>   <span title="(y: Infer.this.global.Type)(String, Infer.this.global.Type)">-&gt;</span> <a href="#631409" title="Infer.this.global.Type">lenientPt</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="631411">targs</a> = <a href="#184483" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])">exprTypeArgs</a><span class="delimiter">(</span><a href="#631407" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#631406" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#631408" title="Infer.this.global.Type">strictPt</a><span class="delimiter">)</span>.<span title="=&gt; List[Infer.this.global.Type]">_1</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#631411" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#631406" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42782" title="(from: List[Infer.this.global.Symbol], to: List[Infer.this.global.Type])Infer.this.global.Type">subst</a><span class="delimiter">(</span><a href="#631407" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#631411" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#631408" title="Infer.this.global.Type">strictPt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#631411" title="List[Infer.this.global.Type]">targs</a> = <a href="#184483" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])">exprTypeArgs</a><span class="delimiter">(</span><a href="#631407" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#631406" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#631409" title="Infer.this.global.Type">lenientPt</a><span class="delimiter">)</span>.<span title="=&gt; List[Infer.this.global.Type]">_1</span>

      <a href="#184505" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#631406" title="Infer.this.global.Tree">tree</a>, <a href="#631407" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#631411" title="List[Infer.this.global.Type]">targs</a>, <a href="#631409" title="Infer.this.global.Type">lenientPt</a><span class="delimiter">)</span>
      <a href="Typers.scala.html#184431" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="String(&quot;[inferArgumentInstance] finished, targs = &quot;)" class="string">&quot;[inferArgumentInstance] finished, targs = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#631411" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Infer type arguments `targs` for `tparams` of polymorphic expression in `tree`, given prototype `pt`.
     *
     * Substitute `tparams` to `targs` in `tree`, after adjustment by `adjustTypeArgs`, returning the type parameters that were not determined
     * If passed, infers against specified type `treeTp` instead of `tree.tp`.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, tparams: List[Infer.this.global.Symbol], pt: Infer.this.global.Type, treeTp0: Infer.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Infer.this.global.Symbol]" id="184504">inferExprInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="631512">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="631513">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="631519">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a>, <a title="Infer.this.global.Type" id="631520">treeTp0</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>, <a title="Boolean" id="631521">keepNothings</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>, <a title="Boolean" id="631522">useWeaklyCompatible</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="631523">treeTp</a> = <span title="Infer.this.global.Type" class="keyword">if</span><span class="delimiter">(</span><a href="#631520" title="Infer.this.global.Type">treeTp0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#631512" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span class="keyword">else</span> <a href="#631520" title="Infer.this.global.Type">treeTp0</a> // can't refer to tree in default for treeTp0
      <a href="Typers.scala.html#184431" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../../../reflect/internal/TypeDebugging.scala.html#83198" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;inferExprInstance&quot;)" class="string">&quot;inferExprInstance&quot;</span>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tree&quot;</span>    <span title="(y: Infer.this.global.Tree)(String, Infer.this.global.Tree)">-&gt;</span> <a href="#631512" title="Infer.this.global.Tree">tree</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tree.tpe&quot;</span><span title="(y: Infer.this.global.Type)(String, Infer.this.global.Type)">-&gt;</span> <a href="#631512" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tparams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#631513" title="List[Infer.this.global.Symbol]">tparams</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;pt&quot;</span>      <span title="(y: Infer.this.global.Type)(String, Infer.this.global.Type)">-&gt;</span> <a href="#631519" title="Infer.this.global.Type">pt</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#631525" title="(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])" class="delimiter">(</a><a href="#631524" title="List[Infer.this.global.Type]" id="631525">targs</a>, <a href="#631524" title="List[Infer.this.global.TypeVar]" id="631526">tvars</a><span class="delimiter">)</span> = <a href="#184483" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)(List[Infer.this.global.Type], List[Infer.this.global.TypeVar])">exprTypeArgs</a><span title="(List[Infer.this.global.Type], List[Infer.this.global.TypeVar]) @unchecked" class="delimiter">(</span><a href="#631513" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#631523" title="Infer.this.global.Type">treeTp</a>, <a href="#631519" title="Infer.this.global.Type">pt</a>, <a href="#631522" title="Boolean">useWeaklyCompatible</a><span class="delimiter">)</span>

      <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#631521" title="Boolean">keepNothings</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#631525" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> //@M: adjustTypeArgs fails if targs==null, neg/t0226
        <a href="#184505" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#631512" title="Infer.this.global.Tree">tree</a>, <a href="#631513" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#631525" title="List[Infer.this.global.Type]">targs</a>, <a href="#631519" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#184485" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#629479" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Undets</a><a href="#631609" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#631608" title="List[Infer.this.global.Symbol]" id="631609">okParams</a>, <a href="#631608" title="List[Infer.this.global.Type]" id="631610">okArgs</a>, <a href="#631608" title="List[Infer.this.global.Symbol]" id="631611">leftUndet</a><span class="delimiter">)</span> = <a href="#184487" title="(tparams: List[Infer.this.global.Symbol], tvars: List[Infer.this.global.TypeVar], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">adjustTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#631513" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#631526" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#631525" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>
        <a href="Typers.scala.html#184431" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
          <a href="../../../reflect/internal/TypeDebugging.scala.html#83198" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;inferExprInstance/AdjustedTypeArgs&quot;)" class="string">&quot;inferExprInstance/AdjustedTypeArgs&quot;</span>,
            <span title="(x: String)ArrowAssoc[String]" class="string">&quot;okParams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#631609" title="List[Infer.this.global.Symbol]">okParams</a>,
            <span title="(x: String)ArrowAssoc[String]" class="string">&quot;okArgs&quot;</span> <span title="(y: List[Infer.this.global.Type])(String, List[Infer.this.global.Type])">-&gt;</span> <a href="#631610" title="List[Infer.this.global.Type]">okArgs</a>,
            <span title="(x: String)ArrowAssoc[String]" class="string">&quot;leftUndet&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#631611" title="List[Infer.this.global.Symbol]">leftUndet</a>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#184505" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#631512" title="Infer.this.global.Tree">tree</a>, <a href="#631609" title="List[Infer.this.global.Symbol]">okParams</a>, <a href="#631610" title="List[Infer.this.global.Type]">okArgs</a>, <a href="#631519" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#631611" title="List[Infer.this.global.Symbol]">leftUndet</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Substitute free type variables `undetparams` of polymorphic argument
     *  expression `tree` to `targs`, Error if `targs` is null.
     *
     *  @param tree ...
     *  @param undetparams ...
     *  @param targs ...
     *  @param pt ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit" id="184505">substExpr</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="631507">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="631508">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                          <a title="List[Infer.this.global.Type]" id="631509">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="631510">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#631509" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#631507" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#631510" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#631507" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <span title="String(&quot;polymorphic expression cannot be instantiated to expected type&quot;)" class="string">&quot;polymorphic expression cannot be instantiated to expected type&quot;</span> <span title="(x$1: Any)String">+</span>
                <a href="TypeDiagnostics.scala.html#184282" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40205" title="(tparams: List[Infer.this.global.Symbol], tpe: Infer.this.global.Type)Infer.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#631508" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#184102" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a><span class="delimiter">(</span><a href="#631507" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#631510" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40644" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#631508" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#631509" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#127553" title="(tree: Infer.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#631507" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Substitute free type variables &lt;code&gt;undetparams&lt;/code&gt; of application
     *  &lt;code&gt;fn(args)&lt;/code&gt;, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param fn          fn: the function that needs to be instantiated.
     *  @param undetparams the parameters that need to be determined
     *  @param args        the actual arguments supplied in the call.
     *  @param pt          the expected type of the function application
     *  @return            The type parameters that remain uninstantiated,
     *                     and that thus have not been substituted.
     */
    <span class="keyword">def</span> <a title="(fn: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], args: List[Infer.this.global.Tree], pt0: Infer.this.global.Type)List[Infer.this.global.Symbol]" id="184506">inferMethodInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="631683">fn</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="631684">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                            <a title="List[Infer.this.global.Tree]" id="631685">args</a>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="631686">pt0</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#631683" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="List[Infer.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Infer.this.global.Symbol]">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="631690">params0</a>, _<span class="delimiter">)</span> =&gt;
        <a title="List[Infer.this.global.Symbol]" id="632032" class="keyword">try</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="631691">pt</a>      = <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631686" title="Infer.this.global.Type">pt0</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Infer.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#631686" title="Infer.this.global.Type">pt0</a>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="631692">formals</a> = <a href="#184089" title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#631690" title="List[Infer.this.global.Symbol]">params0</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#631722" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#631685" title="List[Infer.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="631693">argtpes</a> = <a href="#184090" title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]">actualTypes</a><span class="delimiter">(</span><a href="#631685" title="List[Infer.this.global.Tree]">args</a> <span title="(f: Infer.this.global.Tree =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Tree],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Tree" id="631766">x</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40351" title="(t: Infer.this.global.Type)Infer.this.global.Type">elimAnonymousClass</a><span class="delimiter">(</span><a href="#631766" title="Infer.this.global.Tree">x</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42733" title="=&gt; Infer.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#631692" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="631694">restpe</a>  = <a href="#631683" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42744" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#631693" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a href="#184485" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#629715" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">AllArgsAndUndets</a><a href="#631696" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#631695" title="List[Infer.this.global.Symbol]" id="631696">okparams</a>, <a href="#631695" title="List[Infer.this.global.Type]" id="631697">okargs</a>, <a href="#631695" title="List[Infer.this.global.Type]" id="631698">allargs</a>, <a href="#631695" title="List[Infer.this.global.Symbol]" id="631699">leftUndet</a><span class="delimiter">)</span> =
            <a href="#184488" title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">methTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#631684" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#631692" title="List[Infer.this.global.Type]">formals</a>, <a href="#631694" title="Infer.this.global.Type">restpe</a>, <a href="#631693" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#631691" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

          <a href="Typers.scala.html#184431" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[infer method] solving for %s in %s based on (%s)%s (%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#631684" title="List[Infer.this.global.Symbol]">undetparams</a>.<span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Name,List[Infer.this.global.Name]])List[Infer.this.global.Name]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Infer.this.global.Name,List[Infer.this.global.Name]]" class="delimiter">(</span><a href="#631836" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>,
            <a href="#631683" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>,
            <a href="#631693" title="List[Infer.this.global.Type]">argtpes</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>,
            <a href="#631694" title="Infer.this.global.Type">restpe</a>,
            <span title="(_1: List[Infer.this.global.Name], _2: List[Infer.this.global.Type])(List[Infer.this.global.Name], List[Infer.this.global.Type])" class="delimiter">(</span><a href="#631696" title="List[Infer.this.global.Symbol]">okparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Name,List[Infer.this.global.Name]])List[Infer.this.global.Name]">map</span> <span class="delimiter">(</span><a href="#631889" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#631697" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Name] =&gt; scala.collection.TraversableLike[Infer.this.global.Name,List[Infer.this.global.Name]], implicit w2: List[Infer.this.global.Type] =&gt; scala.collection.IterableLike[Infer.this.global.Type,List[Infer.this.global.Type]])(List[Infer.this.global.Name], List[Infer.this.global.Type])#Zipped[List[Infer.this.global.Name],Infer.this.global.Name,List[Infer.this.global.Type],Infer.this.global.Type]">zipped</span>.<span title="(f: (Infer.this.global.Name, Infer.this.global.Type) =&gt; String)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Name],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#631971" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">_</a> <span title="(other: String)String">+</span> <span title="String(&quot;=&quot;)" class="string">&quot;=&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#631972" title="Infer.this.global.Type">_</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;solved: &quot;)" class="string">&quot;solved: &quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="#184501" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#631683" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="../../../reflect/internal/Types.scala.html#40099" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#631684" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#631698" title="List[Infer.this.global.Type]">allargs</a>, <span title="String(&quot;inferred &quot;)" class="string">&quot;inferred &quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Infer.this.global.TreeTypeSubstituter" id="631700">treeSubst</a> = <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40644" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#631696" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#631697" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>
          <a href="#631700" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a> <span title="(trees: List[Infer.this.global.Tree])Unit">traverseTrees</span> <a href="#631683" title="Infer.this.global.Tree">fn</a> <a href="#632006" title="(x: Infer.this.global.Tree)List[Infer.this.global.Tree]">::</a> <a href="#631685" title="List[Infer.this.global.Tree]">args</a>

          <a href="#631699" title="List[Infer.this.global.Symbol]">leftUndet</a> <span title="List[Infer.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>  =&gt; <span title="object Nil">Nil</span>
            <span class="keyword">case</span> <a title="List[Infer.this.global.Symbol]" id="632012">xs</a>   =&gt;
              // #3890
              <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="632013">xs1</a> = <a href="#631700" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a>.<a href="../../../reflect/internal/Trees.scala.html#127550" title="=&gt; Infer.this.global.TypeMap">typeMap</a> <a href="../../../reflect/internal/Types.scala.html#82357" title="(origSyms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">mapOver</a> <a href="#632012" title="List[Infer.this.global.Symbol]">xs</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#632012" title="List[Infer.this.global.Symbol]">xs</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#632013" title="List[Infer.this.global.Symbol]">xs1</a><span class="delimiter">)</span>
                <span title="Infer.this.global.TreeSymSubstTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40647" title="Infer.this.global.TreeSymSubstTraverser">TreeSymSubstTraverser</a><span class="delimiter">(</span><a href="#632012" title="List[Infer.this.global.Symbol]">xs</a>, <a href="#632013" title="List[Infer.this.global.Symbol]">xs1</a><span class="delimiter">)</span> <span title="(trees: List[Infer.this.global.Tree])Unit">traverseTrees</span> <a href="#631683" title="Infer.this.global.Tree">fn</a> <a href="#632028" title="(x: Infer.this.global.Tree)List[Infer.this.global.Tree]">::</a> <a href="#631685" title="List[Infer.this.global.Tree]">args</a>

              <a href="#632013" title="List[Infer.this.global.Symbol]">xs1</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">catch</span> <a href="#184095" title="(f: String =&gt; scala.collection.immutable.Nil.type)PartialFunction[Throwable,scala.collection.immutable.Nil.type]">ifNoInstance</a> <a title="PartialFunction[Throwable,scala.collection.immutable.Nil.type]" id="632033" class="delimiter">{</a> <a title="String" id="632037">msg</a> =&gt;
          <a href="#184471" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#631683" title="Infer.this.global.Tree">fn</a>, <span title="String(&quot;no type parameters for &quot;)" class="string">&quot;no type parameters for &quot;</span> <span title="(x$1: Any)String">+</span>
            <a href="TypeDiagnostics.scala.html#184276" title="(tree: Infer.this.global.Tree, msg: String, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)String">applyErrorMsg</a><span class="delimiter">(</span><a href="#631683" title="Infer.this.global.Tree">fn</a>, <span title="String(&quot; exist so that it can be applied to arguments &quot;)" class="string">&quot; exist so that it can be applied to arguments &quot;</span>, <a href="#631685" title="List[Infer.this.global.Tree]">args</a> <span title="(f: Infer.this.global.Tree =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Tree],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#632317" title="Infer.this.global.Tree">_</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Infer.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;\n --- because ---\n&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632037" title="String">msg</a>
          <span class="delimiter">)</span>
          <span title="object Nil">Nil</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Type with all top-level occurrences of abstract types replaced by their bounds */
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="184507">widen</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="632348">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="#632348" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span> // @M don't normalize here (compiler loops on pos/bug1090.scala )
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="632353">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#632353" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a> =&gt;
        <a href="#184507" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#632348" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; Infer.this.global.Type">hi</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="632357">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#632357" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a> =&gt;
        <a href="#184507" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#632348" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Infer.this.global.Type">normalize</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="632358">rtp</a> @ RefinedType<span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="632361">parents</a>, <a title="Infer.this.global.Scope" id="632362">decls</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#40197" title="(original: Infer.this.global.RefinedType, parents: List[Infer.this.global.Type], decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#632358" title="Infer.this.global.RefinedType">rtp</a>, <a href="#632361" title="List[Infer.this.global.Type]">parents</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">mapConserve</span> <a href="#184507" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>, <a href="#632362" title="Infer.this.global.Scope">decls</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="632377">underlying</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#184507" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#632377" title="Infer.this.global.Type">underlying</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <a href="#632348" title="Infer.this.global.Type">tp</a>
    <span class="delimiter">}</span>

    /** Substitute free type variables &lt;code&gt;undetparams&lt;/code&gt; of type constructor
     *  &lt;code&gt;tree&lt;/code&gt; in pattern, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree        the constuctor that needs to be instantiated
     *  @param undetparams the undetermined type parameters
     *  @param pt          the expected result type of the instance
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], pt0: Infer.this.global.Type)Unit" id="184508">inferConstructorInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="632378">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="632379">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="632380">pt0</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="632382">pt</a> = <a href="#184507" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#632380" title="Infer.this.global.Type">pt0</a><span class="delimiter">)</span>
      //println(&quot;infer constr inst &quot;+tree+&quot;/&quot;+undetparams+&quot;/&quot;+pt0)
      <span class="keyword">var</span> <a title="Infer.this.global.Type" id="632383">restpe</a> = <a href="#632378" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42747" title="=&gt; Infer.this.global.Type">finalResultType</a>
      <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="632384">tvars</a> = <a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>

      /** Compute type arguments for undetermined params and substitute them in given tree.
       */
      <span class="keyword">def</span> <a title="=&gt; Any" id="632385">computeArgs</a> =
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="632431">targs</a> = <a href="#184101" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span><a href="#632384" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#184159" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#632443" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#632383" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>,
                                  <span title="Boolean(true)" class="keyword">true</span>, <a href="../../../reflect/internal/Types.scala.html#40293" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#632383" title="Infer.this.global.Type">restpe</a>, <a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
//          checkBounds(tree.pos, NoPrefix, NoSymbol, undetparams, targs, &quot;inferred &quot;)
//          no checkBounds here. If we enable it, test bug602 fails.
          <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40644" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#632431" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#127553" title="(tree: Infer.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#632378" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Infer.this.global.Tree" id="632482">ex</a>: <a href="#184093" title="Infer.this.NoInstance">NoInstance</a> =&gt;
            <a href="#184471" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#632378" title="Infer.this.global.Tree">tree</a>, <span title="String(&quot;constructor of type &quot;)" class="string">&quot;constructor of type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632383" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)String">+</span>
                      <span title="String(&quot; cannot be uniquely instantiated to expected type &quot;)" class="string">&quot; cannot be uniquely instantiated to expected type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632382" title="Infer.this.global.Type">pt</a> <span title="(x$1: Any)String">+</span>
                      <span title="String(&quot;\n --- because ---\n&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632482" title="Infer.this.NoInstance">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Tree" id="632386">instError</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;ici &quot;)" class="string">&quot;ici &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632378" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#183587" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#184475" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#632383" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#632384" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>, <a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#184471" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#632378" title="Infer.this.global.Tree">tree</a>, <span title="String(&quot;constructor cannot be instantiated to expected type&quot;)" class="string">&quot;constructor cannot be instantiated to expected type&quot;</span> <span title="(x$1: Any)String">+</span>
                  <a href="TypeDiagnostics.scala.html#184282" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#632383" title="Infer.this.global.Type">restpe</a>, <a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#632383" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#632384" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#632385" title="=&gt; Any">computeArgs</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;infer constr &quot;)" class="string">&quot;infer constr &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632378" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632383" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="632503">ptparams</a> = <a href="#184521" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../../../reflect/internal/Types.scala.html#129341" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;free type params = &quot;)" class="string">&quot;free type params = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632503" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="632504">ptWithWildcards</a> = <a href="#632382" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#632503" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#632503" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.WildcardType.type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="632531">ptparam</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#632384" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#632383" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#632384" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#632504" title="Infer.this.global.Type">ptWithWildcards</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#632385" title="=&gt; Any">computeArgs</a>
          <a href="#632383" title="Infer.this.global.Type">restpe</a> = <a href="#184102" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a><span class="delimiter">(</span><a href="#632378" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;new tree = &quot;)" class="string">&quot;new tree = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632378" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632383" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="632609">ptvars</a> = <a href="#632503" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="632610">pt1</a> = <a href="#632382" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#632503" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#632609" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40294" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#632383" title="Infer.this.global.Type">restpe</a>, <a href="#632610" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#632609" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#184511" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;no instance: &quot;)" class="string">&quot;no instance: &quot;</span><span class="delimiter">)</span>; <a href="#632386" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;not a subtype &quot;)" class="string">&quot;not a subtype &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632383" title="Infer.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#632379" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#632384" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632504" title="Infer.this.global.Type">ptWithWildcards</a><span class="delimiter">)</span>; <a href="#632386" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;not fully defined: &quot;)" class="string">&quot;not fully defined: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632382" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>; <a href="#632386" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)" id="184509">instBounds</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="632707">tvar</a>: <a href="../../../reflect/internal/Types.scala.html#40176" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span>: <span title="(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span>Type, Type<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="632709">tparam</a> = <a href="#632707" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84193" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="632710">instType</a> = <a href="#632717" title="(tp: Infer.this.global.Type)Infer.this.global.Type">toOrigin</a><span class="delimiter">(</span><a href="#632707" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#632712" title="(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</a><a href="#632711" title="List[Infer.this.global.Type]" id="632712">loBounds</a>, <a href="#632711" title="List[Infer.this.global.Type]" id="632713">hiBounds</a><span class="delimiter">)</span> =
        <span title="(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="keyword">if</span> <span class="delimiter">(</span><a href="#632710" title="Infer.this.global.Type">instType</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Infer.this.global.NoType">NoType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#632710" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#632710" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span>, <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#632710" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</span><a href="#632707" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84294" title="=&gt; List[Infer.this.global.Type]">loBounds</a>, <a href="#632707" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84295" title="=&gt; List[Infer.this.global.Type]">hiBounds</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="632714">lo</a> = <a href="../../../reflect/internal/Types.scala.html#40365" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a><span class="delimiter">(</span><a href="#632709" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; Infer.this.global.Type">lo</a> <a href="#632767" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">::</a> <a href="#632712" title="List[Infer.this.global.Type]">loBounds</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#184516" title="object Inferencer.this.toOrigin">toOrigin</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="632715">hi</a> = <a href="../../../reflect/internal/Types.scala.html#40374" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a><span class="delimiter">(</span><a href="#632709" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; Infer.this.global.Type">hi</a> <a href="#632819" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">::</a> <a href="#632713" title="List[Infer.this.global.Type]">hiBounds</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#184516" title="object Inferencer.this.toOrigin">toOrigin</a><span class="delimiter">)</span>
      <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#632714" title="Infer.this.global.Type">lo</a>, <a href="#632715" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar])Boolean" id="184510">isInstantiatable</a><span class="delimiter">(</span><a title="List[Infer.this.global.TypeVar]" id="632876">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="632879">tvars1</a> = <a href="#632876" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <span class="delimiter">(</span><a href="#632896" title="Infer.this.global.TypeVar">_</a>.<a href="../../../reflect/internal/Types.scala.html#84235" title="=&gt; Infer.this.global.TypeVar">cloneInternal</a><span class="delimiter">)</span>
      // Note: right now it's not clear that solving is complete, or how it can be made complete!
      // So we should come back to this and investigate.
      <a href="../../../reflect/internal/Types.scala.html#40341" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean)Boolean">solve</a><span class="delimiter">(</span><a href="#632879" title="List[Infer.this.global.TypeVar]">tvars1</a>, <a href="#632879" title="List[Infer.this.global.TypeVar]">tvars1</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.Symbol,List[Infer.this.global.Symbol]])List[Infer.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#632942" title="Infer.this.global.TypeVar">_</a>.<a href="../../../reflect/internal/Types.scala.html#84193" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>, <a href="#632879" title="List[Infer.this.global.TypeVar]">tvars1</a> <span title="(f: Infer.this.global.TypeVar =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Int,List[Int]])List[Int]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="632980">x</a> =&gt; <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // this is quite nasty: it destructively changes the info of the syms of e.g., method type params (see #3692, where the type param T's bounds were set to &gt;: T &lt;: T, so that parts looped)
    // the changes are rolled back by restoreTypeBounds, but might be unintentially observed in the mean time
    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="184511">instantiateTypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="632682">tvar</a>: <a href="../../../reflect/internal/Types.scala.html#40176" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="633008">tparam</a> = <a href="#632682" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84193" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#632682" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Infer.this.global.NoType">NoType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#184100" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#632682" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#633008" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Infer.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#66859" title="(that: Infer.this.global.Type)Boolean">containsType</a> <a href="#632682" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184658" title="(p: Infer.this.Context =&gt; Boolean)Infer.this.Context">nextEnclosing</a><span class="delimiter">(</span><a href="#633017" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#184555" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.CaseDef">CaseDef</span><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="Contexts.scala.html#184665" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a><span class="delimiter">(</span><a href="#633008" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span>
        <a href="#633008" title="Infer.this.global.Symbol">tparam</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Infer.this.global.Type)tparam.type">setInfo</a> <a href="#632682" title="Infer.this.global.TypeVar">tvar</a>.<a href="../../../reflect/internal/Types.scala.html#84201" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../../../reflect/internal/Types.scala.html#84301" title="=&gt; Infer.this.global.Type">inst</a>
        <a href="#633008" title="Infer.this.global.Symbol">tparam</a> <a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)tparam.type">resetFlag</a> <span title="Long(16L)">DEFERRED</span>
        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;new alias of &quot;)" class="string">&quot;new alias of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633008" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633008" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#633021" title="(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</a><a href="#633020" title="Infer.this.global.Type" id="633021">lo</a>, <a href="#633020" title="Infer.this.global.Type" id="633022">hi</a><span class="delimiter">)</span> = <a href="#184509" title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)">instBounds</a><span title="(Infer.this.global.Type, Infer.this.global.Type) @unchecked" class="delimiter">(</span><a href="#632682" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633021" title="Infer.this.global.Type">lo</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633022" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#633021" title="Infer.this.global.Type">lo</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633008" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; Infer.this.global.Type">lo</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#633008" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; Infer.this.global.Type">hi</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633022" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> // bounds were improved
             <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633008" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#633021" title="Infer.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#42730" title="=&gt; Infer.this.global.Symbol">typeSymbolDirect</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633008" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#633022" title="Infer.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#42730" title="=&gt; Infer.this.global.Symbol">typeSymbolDirect</a><span class="delimiter">)</span> <span class="delimiter">{</span> // don't create illegal cycles
            <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184658" title="(p: Infer.this.Context =&gt; Boolean)Infer.this.Context">nextEnclosing</a><span class="delimiter">(</span><a href="#633048" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#184555" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.CaseDef">CaseDef</span><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="Contexts.scala.html#184665" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a><span class="delimiter">(</span><a href="#633008" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span>
            <a href="#633008" title="Infer.this.global.Symbol">tparam</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Infer.this.global.Type)tparam.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#66838" title="(lo: Infer.this.global.Type, hi: Infer.this.global.Type)Infer.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#633021" title="Infer.this.global.Type">lo</a>, <a href="#633022" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;new bounds of &quot;)" class="string">&quot;new bounds of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633008" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633008" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;redundant: &quot;)" class="string">&quot;redundant: &quot;</span><span title="(x$1: Any)String">+</span><a href="#633008" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#633008" title="Infer.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)String">+</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="#633021" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#633022" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;inconsistent: &quot;)" class="string">&quot;inconsistent: &quot;</span><span title="(x$1: Any)String">+</span><a href="#633008" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#633021" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#633022" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, tp: Infer.this.global.Type, kind: String)Unit" id="184512">checkCheckable</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="633053">pos</a>: <a href="../util/Position.scala.html#34604" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="633054">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="String" id="633055">kind</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp0: Infer.this.global.Type, prefix: String)Unit" id="633057">patternWarning</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633059">tp0</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="String" id="633060">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185134" title="(pos: Infer.this.global.Position, msg: String)Unit">uncheckedWarning</a><span class="delimiter">(</span><a href="#633053" title="Infer.this.global.Position">pos</a>, <a href="#633060" title="String">prefix</a><span title="(x$1: Any)String">+</span><a href="#633059" title="Infer.this.global.Type">tp0</a><span title="(x$1: Any)String">+</span><span title="String(&quot; in type &quot;)" class="string">&quot; in type &quot;</span><span title="(x$1: Any)String">+</span><a href="#633055" title="String">kind</a><span title="(x$1: Any)String">+</span><a href="#633054" title="Infer.this.global.Type">tp</a><span title="(x$1: Any)String">+</span><span title="String(&quot; is unchecked since it is eliminated by erasure&quot;)" class="string">&quot; is unchecked since it is eliminated by erasure&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit" id="633058">check</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633063">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="633064">bound</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="633065">isLocalBinding</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633066">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
          <a href="#633066" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#633064" title="List[Infer.this.global.Symbol]">bound</a> <span title="(elem: Any)Boolean">contains</span> <a href="#633066" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
           <a href="#633066" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Infer.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object Infer.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Infer.this.global.tpnme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Infer.this.global.ScopeEntry" id="633072">e</a> = <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Infer.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61761" title="(name: Infer.this.global.Name)Infer.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#633066" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="#633072" title="Infer.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633072" title="Infer.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#633066" title="Infer.this.global.Symbol">sym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#633072" title="Infer.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71190" title="=&gt; Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633072" title="Infer.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#71192" title="=&gt; Infer.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184561" title="=&gt; Infer.this.global.Scope">scope</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#633063" title="Infer.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633084">pre</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#633058" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#633084" title="Infer.this.global.Type">pre</a>, <a href="#633064" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633088">pre</a>, <a title="Infer.this.global.Symbol" id="633089">sym</a>, <a title="List[Infer.this.global.Type]" id="633090">args</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633089" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#633065" title="(sym: Infer.this.global.Symbol)Boolean">isLocalBinding</a><span class="delimiter">(</span><a href="#633089" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#633057" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#633063" title="Infer.this.global.Type">tp</a>, <span title="String(&quot;abstract type &quot;)" class="string">&quot;abstract type &quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633089" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#633058" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#633063" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Infer.this.global.Type">normalize</a>, <a href="#633064" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633089" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object Infer.this.global.definitions.NothingClass">NothingClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#633089" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46291" title="object Infer.this.global.definitions.NullClass">NullClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#633089" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46832" title="=&gt; Infer.this.global.Symbol">AnyValClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#633053" title="Infer.this.global.Position">pos</a>, <span title="String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)String">+</span><a href="#633063" title="Infer.this.global.Type">tp</a><span title="(x$1: Any)String">+</span><span title="String(&quot; cannot be used in a type pattern or isInstanceOf test&quot;)" class="string">&quot; cannot be used in a type pattern or isInstanceOf test&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="633122">arg</a> &lt;- <a href="#633090" title="(f: Infer.this.global.Type =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633089" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; Infer.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> <a href="#633058" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#633122" title="Infer.this.global.Type">arg</a>, <a href="#633064" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633122" title="Infer.this.global.Type">arg</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>   // avoid spurious warnings with higher-kinded types
                <span class="keyword">else</span> <a href="#633122" title="Infer.this.global.Type">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="633131">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#633065" title="(sym: Infer.this.global.Symbol)Boolean">isLocalBinding</a><span class="delimiter">(</span><a href="#633131" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt;
                    ;
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                    // Want to warn about type arguments, not type parameters. Otherwise we'll
                    // see warnings about &quot;invisible&quot; types, like: val List(x0) = x1 leading to &quot;non
                    // variable type-argument A in type pattern List[A]...&quot;
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#633122" title="Infer.this.global.Type">arg</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span>
                      <a href="#633057" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#633122" title="Infer.this.global.Type">arg</a>, <span title="String(&quot;non variable type-argument &quot;)" class="string">&quot;non variable type-argument &quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#633058" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#633088" title="Infer.this.global.Type">pre</a>, <a href="#633064" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="633135">parents</a>, <a title="Infer.this.global.Scope" id="633136">decls</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633136" title="Infer.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61748" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="633156">p</a> &lt;- <a href="#633135" title="(f: Infer.this.global.Type =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#633058" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#633156" title="Infer.this.global.Type">p</a>, <a href="#633064" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#633057" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#633063" title="Infer.this.global.Type">tp</a>, <span title="String(&quot;refinement &quot;)" class="string">&quot;refinement &quot;</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="633160">quantified</a>, <a title="Infer.this.global.Type" id="633161">tp1</a><span class="delimiter">)</span> =&gt;
            <a href="#633058" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#633161" title="Infer.this.global.Type">tp1</a>, <a href="#633064" title="List[Infer.this.global.Symbol]">bound</a> <a href="#633162" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#633160" title="List[Infer.this.global.Symbol]">quantified</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40099" title="Unit">NoPrefix</a> =&gt;
            ;
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <a href="#633057" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#633063" title="Infer.this.global.Type">tp</a>, <span title="String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#633058" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#633054" title="Infer.this.global.Type">tp</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Type intersection of simple type tp1 with general type tp2.
     *  The result eliminates some redundancies.
     */
    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type" id="184513">intersect</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633178">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="633179">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#633178" title="Infer.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633179" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span> <a href="#633178" title="Infer.this.global.Type">tp1</a>
      <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#633179" title="Infer.this.global.Type">tp2</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633178" title="Infer.this.global.Type">tp1</a><span class="delimiter">)</span> <a href="#633179" title="Infer.this.global.Type">tp2</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="633185">reduced2</a> = <a href="#633179" title="Infer.this.global.Type">tp2</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Infer.this.global.Type" id="633186">rtp</a> @ RefinedType<span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="633189">parents2</a>, <a title="Infer.this.global.Scope" id="633190">decls2</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#40197" title="(original: Infer.this.global.RefinedType, parents: List[Infer.this.global.Type], decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#633186" title="Infer.this.global.RefinedType">rtp</a>, <a href="#633189" title="List[Infer.this.global.Type]">parents2</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)List[Infer.this.global.Type]">filterNot</span> <span class="delimiter">(</span><a href="#633178" title="Infer.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633194" title="Infer.this.global.Type">_</a><span class="delimiter">)</span>, <a href="#633190" title="Infer.this.global.Scope">decls2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
            <a href="#633179" title="Infer.this.global.Type">tp2</a>
        <span class="delimiter">}</span>
        <a href="../../../reflect/internal/Types.scala.html#40203" title="(tps: List[Infer.this.global.Type])Infer.this.global.Type">intersectionType</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#633178" title="Infer.this.global.Type">tp1</a>, <a href="#633185" title="Infer.this.global.Type">reduced2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, pattp: Infer.this.global.Type, pt0: Infer.this.global.Type)Infer.this.global.Type" id="184514">inferTypedPattern</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="633209">pos</a>: <a href="../util/Position.scala.html#34604" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="633210">pattp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="633211">pt0</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="633213">pt</a>        = <a href="#184507" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#633211" title="Infer.this.global.Type">pt0</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="633214">ptparams</a>  = <a href="#184521" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../../../reflect/internal/Types.scala.html#129341" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#633213" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="633215">tpparams</a>  = <a href="#184521" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../../../reflect/internal/Types.scala.html#129341" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#633210" title="Infer.this.global.Type">pattp</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="633216">ptMatchesPattp</a> = <a href="#633213" title="Infer.this.global.Type">pt</a> <a href="../../../reflect/internal/Types.scala.html#42796" title="(that: Infer.this.global.Type)Boolean">matchesPattern</a> <a href="#633210" title="Infer.this.global.Type">pattp</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Infer.this.global.Type">widen</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="633217">pattpMatchesPt</a> = <a href="#633210" title="Infer.this.global.Type">pattp</a> <a href="../../../reflect/internal/Types.scala.html#42796" title="(that: Infer.this.global.Type)Boolean">matchesPattern</a> <a href="#633213" title="Infer.this.global.Type">pt</a>

      /** If we can absolutely rule out a match we can fail early.
       *  This is the case if the scrutinee has no unresolved type arguments
       *  and is a &quot;final type&quot;, meaning final + invariant in all type parameters.
       */
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633213" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42724" title="=&gt; Boolean">isFinalType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633214" title="List[Infer.this.global.Symbol]">ptparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#633216" title="=&gt; Boolean">ptMatchesPattp</a><span class="delimiter">)</span>
        <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#633209" title="Infer.this.global.Position">pos</a>, <span title="String(&quot;scrutinee is incompatible with pattern type&quot;)" class="string">&quot;scrutinee is incompatible with pattern type&quot;</span> <span title="(x$1: Any)String">+</span> <a href="TypeDiagnostics.scala.html#184282" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#633210" title="Infer.this.global.Type">pattp</a>, <a href="#633213" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#184512" title="(pos: Infer.this.global.Position, tp: Infer.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#633209" title="Infer.this.global.Position">pos</a>, <a href="#633210" title="Infer.this.global.Type">pattp</a>, <span title="String(&quot;pattern &quot;)" class="string">&quot;pattern &quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633210" title="Infer.this.global.Type">pattp</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633213" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;free type params (1) = &quot;)" class="string">&quot;free type params (1) = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633215" title="List[Infer.this.global.Symbol]">tpparams</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="633222">tvars</a> = <a href="#633215" title="List[Infer.this.global.Symbol]">tpparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">var</span> <a title="Infer.this.global.Type" id="633223">tp</a>    = <a href="#633210" title="Infer.this.global.Type">pattp</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#633215" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#633222" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#633223" title="Infer.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633213" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184510" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a><span class="delimiter">(</span><a href="#633222" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#633222" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#633215" title="List[Infer.this.global.Symbol]">tpparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <a href="#633223" title="Infer.this.global.Type">tp</a>    = <a href="#633210" title="Infer.this.global.Type">pattp</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#633215" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#633222" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>

          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;free type params (2) = &quot;)" class="string">&quot;free type params (2) = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633214" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="633274">ptvars</a> = <a href="#633214" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="633275">pt1</a>    = <a href="#633213" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#633214" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#633274" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>

          // See ticket #2486 for an example of code which would incorrectly
          // fail if we didn't allow for pattpMatchesPt.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40294" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#633223" title="Infer.this.global.Type">tp</a>, <a href="#633275" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#184510" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a><span class="delimiter">(</span><a href="#633222" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(that: scala.collection.GenTraversableOnce[Infer.this.global.TypeVar])(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">++</span> <a href="#633274" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#633217" title="=&gt; Boolean">pattpMatchesPt</a><span class="delimiter">)</span>
             <a href="#633274" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#184511" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#633209" title="Infer.this.global.Position">pos</a>, <span title="String(&quot;pattern type is incompatible with expected type&quot;)" class="string">&quot;pattern type is incompatible with expected type&quot;</span> <span title="(x$1: Any)String">+</span> <a href="TypeDiagnostics.scala.html#184282" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#633210" title="Infer.this.global.Type">pattp</a>, <a href="#633213" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#633210" title="Infer.this.global.Type">pattp</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#633222" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#184511" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
      <span class="delimiter">}</span>
      /** If the scrutinee has free type parameters but the pattern does not,
       *  we have to flip the arguments so the expected type is treated as more
       *  general when calculating the intersection.  See run/bug2755.scala.
       */
      <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#633215" title="List[Infer.this.global.Symbol]">tpparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633214" title="List[Infer.this.global.Symbol]">ptparams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#184513" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type">intersect</a><span class="delimiter">(</span><a href="#633210" title="Infer.this.global.Type">pattp</a>, <a href="#633213" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#184513" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type">intersect</a><span class="delimiter">(</span><a href="#633213" title="Infer.this.global.Type">pt</a>, <a href="#633210" title="Infer.this.global.Type">pattp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pat: Infer.this.global.Tree, pt: Infer.this.global.Type)Unit" id="184515">inferModulePattern</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="633465">pat</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="633466">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#633465" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="633473">ptparams</a> = <a href="#184521" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../../../reflect/internal/Types.scala.html#129341" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#633466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;free type params (2) = &quot;)" class="string">&quot;free type params (2) = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633473" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="633474">ptvars</a> = <a href="#633473" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#184092" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="633475">pt1</a> = <a href="#633466" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#633473" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#633474" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633465" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#633475" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span>
          <a href="#633474" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#184511" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="633547">sym</a>   = <a href="#633465" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="633548">clazz</a> = <a href="#633547" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48003" title="=&gt; Infer.this.global.Symbol">companionClass</a>
          <span class="keyword">val</span> <a title="String" id="633549">addendum</a> = <span class="delimiter">(</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#633547" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633548" title="Infer.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47848" title="=&gt; Boolean">isCaseClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#633548" title="Infer.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: Infer.this.global.Symbol)Boolean">isSubClass</a> <a href="#633475" title="Infer.this.global.Type">pt1</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // TODO: move these somewhere reusable.
              <span class="keyword">val</span> <a title="String" id="633552">typeString</a> = <a href="#633548" title="Infer.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="String">Nil</span>  =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633548" title="Infer.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Infer.this.global.Name">name</a>
                <span class="keyword">case</span> <a title="String" id="633554">xs</a>   =&gt; <a href="#633554" title="List[Infer.this.global.Symbol]">xs</a> <span title="(f: Infer.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633571">_</a> =&gt; <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span><span class="delimiter">)</span> <span title="(start: String, sep: String, end: String)String">mkString</span> <span class="delimiter">(</span><a href="#633548" title="Infer.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <span title="(other: String)String">+</span> <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="String" id="633553">caseString</a> = <span class="delimiter">(</span>
                <a href="#633548" title="Infer.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47981" title="=&gt; List[Infer.this.global.Symbol]">caseFieldAccessors</a>
                <span title="(f: Infer.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633623">_</a> =&gt; <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span><span class="delimiter">)</span>    // could use the actual param names here
                <span title="(start: String, sep: String, end: String)String">mkString</span> <span class="delimiter">(</span><a href="#633548" title="Infer.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <span title="(other: String)String">+</span> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
              <span class="delimiter">(</span>
                <span title="String(&quot;\nNote: if you intended to match against the class, try `case _: &quot;)" class="string">&quot;\nNote: if you intended to match against the class, try `case _: &quot;</span> <span title="(x$1: Any)String">+</span>
                <a href="#633552" title="String">typeString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;` or `case &quot;)" class="string">&quot;` or `case &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633553" title="String">caseString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;`&quot;)" class="string">&quot;`&quot;</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
          <span class="delimiter">)</span>
          <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#633465" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <span title="String(&quot;pattern type is incompatible with expected type&quot;)" class="string">&quot;pattern type is incompatible with expected type&quot;</span><span title="(x$1: Any)String">+</span><a href="TypeDiagnostics.scala.html#184282" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#633465" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#633466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#633549" title="String">addendum</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.toOrigin" id="184516">toOrigin</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#40242" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="632717">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="632718">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="#632718" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#84241" title="Infer.this.global.Type">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633660">origin</a>, _<span class="delimiter">)</span> =&gt; <a href="#633660" title="Infer.this.global.Type">origin</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#632718" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymCollector extends Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]] with ScalaObject" id="184518">SymCollector</a> <a href="#184518" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#40244" title="Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]]">TypeCollector</a><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="624310">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633691">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Unit" id="624311">traverse</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633693">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#633693" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="633699">sym</a>, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#624310" title="(sym: Infer.this.global.Symbol)Boolean">includeCondition</a><span class="delimiter">(</span><a href="#633699" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#129338" title="=&gt; List[Infer.this.global.Symbol]">result</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#633699" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#129339" title="(x$1: List[Infer.this.global.Symbol])Unit">result</a> = <a href="#633699" title="Infer.this.global.Symbol">sym</a> <a href="#633701" title="(x: Infer.this.global.Symbol)List[Infer.this.global.Symbol]">::</a> <a href="../../../reflect/internal/Types.scala.html#129338" title="=&gt; List[Infer.this.global.Symbol]">result</a>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#633693" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.approximateAbstracts" id="184519">approximateAbstracts</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#40242" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="633721">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633723">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a> = <a href="#633723" title="Infer.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Infer.this.global.WildcardType.type">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633731">pre</a>, <a title="Infer.this.global.Symbol" id="633732">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#633732" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#633723" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** A traverser to collect type parameters referred to in a type
     */
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParamsOfTerms" id="184521">freeTypeParamsOfTerms</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#184518" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      // An inferred type which corresponds to an unknown type
      // constructor creates a file/declaration order-dependent crasher
      // situation, the behavior of which depends on the state at the
      // time the typevar is created. Until we can deal with these
      // properly, we can avoid it by ignoring type parameters which
      // have type constructors amongst their bounds. See SI-4070.
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="632506">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633749">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <a href="#633749" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633749" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#633749" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#42792" title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#633758" title="Infer.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** A traverser to collect type parameters referred to in a type
     */
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParametersNoSkolems" id="184523">freeTypeParametersNoSkolems</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#184518" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="624313">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633761">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#633761" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47781" title="=&gt; Boolean">isTypeParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633761" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.typeRefs" id="184525">typeRefs</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#184518" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="633765">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633767">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>

    /* -- Overload Resolution ---------------------------------------------- */

/*
    def checkNotShadowed(pos: Position, pre: Type, best: Symbol, eligible: List[Symbol]) =
      if (!phase.erasedTypes)
        for (alt &lt;- eligible) {
          if (isProperSubClassOrObject(alt.owner, best.owner))
            error(pos,
                  &quot;erroneous reference to overloaded definition,\n&quot;+
                  &quot;most specific definition is: &quot;+best+best.locationString+&quot; of type &quot;+pre.memberType(best)+
                  &quot;,\nyet alternative definition   &quot;+alt+alt.locationString+&quot; of type &quot;+pre.memberType(alt)+
                  &quot;\nis defined in a subclass&quot;)
        }
*/

    /** Assign &lt;code&gt;tree&lt;/code&gt; the symbol and type of the alternative which
     *  matches prototype &lt;code&gt;pt&lt;/code&gt;, if it exists.
     *  If several alternatives match `pt`, take parameterless one.
     *  If no alternative matches `pt`, take the parameterless one anyway.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, pt: Infer.this.global.Type)Unit" id="184527">inferExprAlternative</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="633769">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="633770">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#633769" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="633774">pre</a>, <a title="List[Infer.this.global.Symbol]" id="633775">alts</a><span class="delimiter">)</span> =&gt; <a href="#184533" title="(infer: =&gt; Unit)Unit">tryTwice</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="633778">alts0</a>     = <a href="#633775" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633787">alt</a> =&gt; <a href="#184479" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#633774" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#633787" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#633770" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Boolean" id="633779">secondTry</a> = <a href="#633778" title="List[Infer.this.global.Symbol]">alts0</a>.<span title="=&gt; Boolean">isEmpty</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="633780">alts1</a>     = <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#633779" title="Boolean">secondTry</a><span class="delimiter">)</span> <a href="#633775" title="List[Infer.this.global.Symbol]">alts</a> <span class="keyword">else</span> <a href="#633778" title="List[Infer.this.global.Symbol]">alts0</a>

        //println(&quot;trying &quot;+alts1+(alts1 map (_.tpe))+(alts1 map (_.locationString))+&quot; for &quot;+pt)
        <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="633781">improves</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633789">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="633790">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
          <a href="#633790" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#633790" title="Infer.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Infer.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46677" title="=&gt; Infer.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="633796">tp1</a> = <a href="#633774" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#633789" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="633797">tp2</a> = <a href="#633774" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#633790" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="#633797" title="Infer.this.global.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40090" title="object Infer.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">||</span>
             <span title="=&gt; Boolean">!</span><a href="Analyzer.scala.html#183929" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#182992" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#184322" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#184479" title="(tp: Infer.this.global.analyzer.global.Type, pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#633797" title="Infer.this.global.Type">tp2</a>, <a href="#633770" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Analyzer.scala.html#183929" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#182992" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#184322" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#184479" title="(tp: Infer.this.global.analyzer.global.Type, pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#633796" title="Infer.this.global.Type">tp1</a>, <a href="#633770" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
             <a href="#184499" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a href="#633796" title="Infer.this.global.Type">tp1</a>, <a href="#633797" title="Infer.this.global.Type">tp2</a>, <a href="#633789" title="Infer.this.global.Symbol">sym1</a>, <a href="#633790" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="633782">best</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <a href="#633804" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">/:</a> <a href="#633780" title="List[Infer.this.global.Symbol]">alts1</a><span class="delimiter">)</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633817">best</a>, <a title="Infer.this.global.Symbol" id="633818">alt</a><span class="delimiter">)</span> =&gt;
          <span title="Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#633781" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#633818" title="Infer.this.global.Symbol">alt</a>, <a href="#633817" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#633818" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#633817" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="633783">competing</a> = <a href="#633780" title="List[Infer.this.global.Symbol]">alts1</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">dropWhile</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633823">alt</a> =&gt; <a href="#633782" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#633823" title="Infer.this.global.Symbol">alt</a> <span title="(x: Boolean)Boolean">||</span> <a href="#633781" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#633782" title="Infer.this.global.Symbol">best</a>, <a href="#633823" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633782" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#633769" title="Infer.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="633840">qual</a>, _<span class="delimiter">)</span> =&gt;
                <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;qual: &quot;)" class="string">&quot;qual: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633840" title="Infer.this.global.Tree">qual</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633840" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span>
                                   <span title="String(&quot; with decls &quot;)" class="string">&quot; with decls &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633840" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Infer.this.global.Scope">decls</a> <span title="(x$1: Any)String">+</span>
                                   <span title="String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633840" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42764" title="=&gt; List[Infer.this.global.Symbol]">members</a> <span title="(x$1: Any)String">+</span>
                                   <span title="String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633840" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)Infer.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;$minus&quot;)" class="string">&quot;$minus&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#184474" title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit" class="delimiter">(</span><a href="#633769" title="Infer.this.global.Tree">tree</a>, <a href="#633769" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#633770" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#633783" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633779" title="Boolean">secondTry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#184474" title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit" class="delimiter">(</span><a href="#633769" title="Infer.this.global.Tree">tree</a>, <a href="#633769" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#633770" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#633770" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184655" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol, rest: String)Unit">ambiguousError</a><span class="delimiter">(</span><a href="#633769" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#633774" title="Infer.this.global.Type">pre</a>, <a href="#633782" title="Infer.this.global.Symbol">best</a>, <a href="#633783" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>, <span title="String(&quot;expected type &quot;)" class="string">&quot;expected type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633770" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <a href="#184467" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span title="Unit" class="delimiter">(</span><a href="#633769" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
//          val applicable = alts1 filter (alt =&gt;
//            global.typer.infer.isWeaklyCompatible(pre.memberType(alt), pt))
//          checkNotShadowed(tree.pos, pre, best, applicable)
          <a href="#633769" title="Infer.this.global.Tree">tree</a>.<span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span><span class="delimiter">(</span><a href="#633782" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>.<span title="(tp: Infer.this.global.Type)tree.type">setType</span><span title="Unit" class="delimiter">(</span><a href="#633774" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#633782" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(expr: =&gt; Boolean)Boolean" id="184528">wrapTypeError</a><span class="delimiter">(</span><a title="=&gt; Boolean" id="633863">expr</a>: =&gt; Boolean<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <span class="keyword">try</span> <a href="#633863" title="=&gt; Boolean">expr</a>
      <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(false)">_</span>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Infer.this.global.TypeError">TypeError</a> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

    // Checks against the name of the parameter and also any @deprecatedName.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(param: Infer.this.global.Symbol, name: Infer.this.global.Name)Boolean" id="184529">paramMatchesName</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="630378">param</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Name" id="630379">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Infer.this.global.Name">Name</a><span class="delimiter">)</span> =
      <a href="#630378" title="Infer.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Infer.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#630379" title="Infer.this.global.Name">name</a> <span title="(x: Boolean)Boolean">||</span> <a href="#630378" title="Infer.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47838" title="=&gt; Option[Infer.this.global.TermName]">deprecatedParamName</a>.<span title="(p: Infer.this.global.TermName =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#630389" title="Infer.this.global.TermName">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#630379" title="Infer.this.global.Name">name</a><span class="delimiter">)</span>

    // Check the first parameter list the same way.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(method: Infer.this.global.Symbol, name: Infer.this.global.Name)Boolean" id="184530">methodMatchesName</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633865">method</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Name" id="633866">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Infer.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#633865" title="Infer.this.global.Symbol">method</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[Infer.this.global.Symbol]]">paramss</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="633875">ps</a> :: _  =&gt; <a href="#633875" title="List[Infer.this.global.Symbol]">ps</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="633882">p</a> =&gt; <a href="#184529" title="(param: Infer.this.global.Symbol, name: Infer.this.global.Name)Boolean">paramMatchesName</a><span class="delimiter">(</span><a href="#633882" title="Infer.this.global.Symbol">p</a>, <a href="#633866" title="Infer.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>        =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type], eligible: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]" id="184531">resolveOverloadedMethod</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="633883">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="633884">eligible</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      // If there are any foo=bar style arguments, and any of the overloaded
      // methods has a parameter named `foo`, then only those methods are considered.
      <span class="keyword">val</span> <a title="List[Infer.this.global.Name]" id="633887">namesOfArgs</a> = <a href="#633883" title="List[Infer.this.global.Type]">argtpes</a> <span title="(pf: PartialFunction[Infer.this.global.Type,Infer.this.global.Name])(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Name,List[Infer.this.global.Name]])List[Infer.this.global.Name]">collect</span> <a href="#633901" title="Infer.this.global.Name" class="delimiter">{</a> <span class="keyword">case</span> <span title="Infer.this.global.Name">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="633904">name</a>, _<span class="delimiter">)</span> =&gt; <a href="#633904" title="Infer.this.global.Name">name</a> <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="633888">namesMatch</a> = <span class="delimiter">(</span>
        <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#633887" title="List[Infer.this.global.Name]">namesOfArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
        <span class="keyword">else</span> <a href="#633884" title="List[Infer.this.global.Symbol]">eligible</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">{</span> <a title="Infer.this.global.Symbol" id="633935">m</a> =&gt;
          <a href="#633887" title="List[Infer.this.global.Name]">namesOfArgs</a> <span title="(p: Infer.this.global.Name =&gt; Boolean)Boolean">forall</span> <span class="delimiter">{</span> <a title="Infer.this.global.Name" id="633942">name</a> =&gt;
            <a href="#184530" title="(method: Infer.this.global.Symbol, name: Infer.this.global.Name)Boolean">methodMatchesName</a><span class="delimiter">(</span><a href="#633935" title="Infer.this.global.Symbol">m</a>, <a href="#633942" title="Infer.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>

      <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#633888" title="List[Infer.this.global.Symbol]">namesMatch</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#633888" title="List[Infer.this.global.Symbol]">namesMatch</a>
      <span class="keyword">else</span> <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#633884" title="List[Infer.this.global.Symbol]">eligible</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#633884" title="List[Infer.this.global.Symbol]">eligible</a>.<span title="=&gt; List[Infer.this.global.Symbol]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#633884" title="List[Infer.this.global.Symbol]">eligible</a>
      <span class="keyword">else</span> <a href="#633884" title="List[Infer.this.global.Symbol]">eligible</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">{</span> <a title="Infer.this.global.Symbol" id="633945">alt</a> =&gt;
        // for functional values, the `apply` method might be overloaded
        <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="633946">mtypes</a> = <a href="#184489" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#633945" title="Infer.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="List[Infer.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="List[Infer.this.global.Type]">OverloadedType</span><span class="delimiter">(</span>_, <a title="List[Infer.this.global.Symbol]" id="633949">alts</a><span class="delimiter">)</span> =&gt; <a href="#633949" title="List[Infer.this.global.Symbol]">alts</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#633966" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="List[Infer.this.global.Type]" id="633994">t</a>                       =&gt; <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#633994" title="Infer.this.global.Type">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // Drop those that use a default; keep those that use vararg/tupling conversion.
        <a href="#633946" title="List[Infer.this.global.Type]">mtypes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="634008">t</a> =&gt;
          <span title="=&gt; Boolean">!</span><a href="#634008" title="Infer.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48104" title="=&gt; Boolean">hasDefaultFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <a href="../../../reflect/internal/Types.scala.html#40310" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#634008" title="Infer.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Infer.this.global.Symbol]">params</a>, <a href="#633883" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span>  // tupling (*)
            <a href="#184490" title="(tp: Infer.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="#634008" title="Infer.this.global.Type">t</a>, <a href="#633883" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>    // same nb or vararg
          <span class="delimiter">}</span>
        <span class="delimiter">)</span>
        // (*) more arguments than parameters, but still applicable: tupling conversion works.
        //     todo: should not return &quot;false&quot; when paramTypes = (Unit) no argument is given
        //     (tupling would work)
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Assign &lt;code&gt;tree&lt;/code&gt; the type of an alternative which is applicable
     *  to &lt;code&gt;argtpes&lt;/code&gt;, and whose result type is compatible with `pt`.
     *  If several applicable alternatives exist, drop the alternatives which use
     *  default arguments, then select the most specialized one.
     *  If no applicable alternative exists, and pt != WildcardType, try again
     *  with pt = WildcardType.
     *  Otherwise, if there is no best alternative, error.
     *
     *  @param argtpes contains the argument types. If an argument is named, as
     *    &quot;a = 3&quot;, the corresponding type is `NamedType(&quot;a&quot;, Int)'. If the name
     *    of some NamedType does not exist in an alternative's parameter names,
     *    the type is replaces by `Unit`, i.e. the argument is treated as an
     *    assignment expression.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], argtpes: List[Infer.this.global.Type], pt0: Infer.this.global.Type, varArgsOnly: Boolean)Unit" id="184532">inferMethodAlternative</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="634015">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="634016">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                               <a title="List[Infer.this.global.Type]" id="634017">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="634018">pt0</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="Boolean" id="634021">varArgsOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#634015" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="634024">pre</a>, <a title="List[Infer.this.global.Symbol]" id="634025">alts</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="634026">pt</a> = <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#634018" title="Infer.this.global.Type">pt0</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Infer.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#634018" title="Infer.this.global.Type">pt0</a>
        <a href="#184533" title="(infer: =&gt; Unit)Unit">tryTwice</a> <span class="delimiter">{</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;infer method alt &quot;)" class="string">&quot;infer method alt &quot;</span><span title="(x$1: Any)String">+</span> <a href="#634015" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <span title="(x$1: Any)String">+</span><span title="String(&quot; with alternatives &quot;)" class="string">&quot; with alternatives &quot;</span><span title="(x$1: Any)String">+</span>
                <span class="delimiter">(</span><a href="#634025" title="List[Infer.this.global.Symbol]">alts</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,Any])Any">map</span> <a href="#634024" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span><span title="String(&quot;, argtpes = &quot;)" class="string">&quot;, argtpes = &quot;</span><span title="(x$1: Any)String">+</span> <a href="#634017" title="List[Infer.this.global.Type]">argtpes</a> <span title="(x$1: Any)String">+</span><span title="String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)String">+</span> <a href="#634026" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="634032">applicable</a> = <a href="#184531" title="(argtpes: List[Infer.this.global.Type], eligible: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">resolveOverloadedMethod</a><span class="delimiter">(</span><a href="#634017" title="List[Infer.this.global.Type]">argtpes</a>, <span class="delimiter">{</span>
            <a href="#634025" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">{</span> <a title="Infer.this.global.Symbol" id="634084">alt</a> =&gt;
              // TODO: this will need to be re-written once we substitute throwing exceptions
              // with generating error trees. We wrap this applicability in try/catch because of #4457.
              <a href="#184528" title="(expr: =&gt; Boolean)Boolean">wrapTypeError</a><span class="delimiter">(</span><a href="#184493" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#634016" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#184489" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#634024" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#634084" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#634017" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#634026" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#634021" title="Boolean">varArgsOnly</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/Definitions.scala.html#46401" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#634084" title="Infer.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="634033">improves</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="634085">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="634086">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            // util.trace(&quot;improve &quot;+sym1+sym1.locationString+&quot; on &quot;+sym2+sym2.locationString)
            <a href="#634086" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#634086" title="Infer.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#47807" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#634086" title="Infer.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Infer.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46677" title="=&gt; Infer.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
            <a href="#184499" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a href="#184489" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#634024" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#634085" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                                   <a href="#184489" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#634024" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#634086" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#634085" title="Infer.this.global.Symbol">sym1</a>, <a href="#634086" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="634034">best</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <a href="#634092" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">/:</a> <a href="#634032" title="List[Infer.this.global.Symbol]">applicable</a><span class="delimiter">)</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="634105">best</a>, <a title="Infer.this.global.Symbol" id="634106">alt</a><span class="delimiter">)</span> =&gt;
            <span title="Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#634033" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#634106" title="Infer.this.global.Symbol">alt</a>, <a href="#634105" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#634106" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#634105" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="634035">competing</a> = <a href="#634032" title="List[Infer.this.global.Symbol]">applicable</a>.<span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">dropWhile</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="634111">alt</a> =&gt; <a href="#634034" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#634111" title="Infer.this.global.Symbol">alt</a> <span title="(x: Boolean)Boolean">||</span> <a href="#634033" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#634034" title="Infer.this.global.Symbol">best</a>, <a href="#634111" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#634034" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#634026" title="Infer.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#184471" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span title="Unit" class="delimiter">(</span><a href="#634015" title="Infer.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#184276" title="(tree: Infer.this.global.Tree, msg: String, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)String">applyErrorMsg</a><span class="delimiter">(</span><a href="#634015" title="Infer.this.global.Tree">tree</a>, <span title="String(&quot; cannot be applied to &quot;)" class="string">&quot; cannot be applied to &quot;</span>, <a href="#634017" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#634026" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#184532" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], argtpes: List[Infer.this.global.Type], pt0: Infer.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#634015" title="Infer.this.global.Tree">tree</a>, <a href="#634016" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#634017" title="List[Infer.this.global.Type]">argtpes</a>, <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#634035" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#634017" title="List[Infer.this.global.Type]">argtpes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#634132" title="Infer.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#634026" title="Infer.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184655" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol, rest: String)Unit">ambiguousError</a><span class="delimiter">(</span><a href="#634015" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#634024" title="Infer.this.global.Type">pre</a>, <a href="#634034" title="Infer.this.global.Symbol">best</a>, <a href="#634035" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>,
                                     <span title="String(&quot;argument types &quot;)" class="string">&quot;argument types &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#634017" title="List[Infer.this.global.Type]">argtpes</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
                                     <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#634026" title="Infer.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#40092" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot; and expected result type &quot;)" class="string">&quot; and expected result type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#634026" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#184467" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#634015" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
//            checkNotShadowed(tree.pos, pre, best, applicable)
            <a href="#634015" title="Infer.this.global.Tree">tree</a>.<span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span><span class="delimiter">(</span><a href="#634034" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>.<span title="(tp: Infer.this.global.Type)tree.type">setType</span><span title="Unit" class="delimiter">(</span><a href="#634024" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#634034" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

    /** Try inference twice, once without views and once with views,
     *  unless views are already disabled.
     *
     *  @param infer ...
     */
    <span class="keyword">def</span> <a title="(infer: =&gt; Unit)Unit" id="184533">tryTwice</a><span class="delimiter">(</span><a title="=&gt; Unit" id="633776">infer</a>: =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184612" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="634144">reportGeneralErrors</a> = <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184606" title="=&gt; Boolean">reportGeneralErrors</a>
        <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184607" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">try</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184635" title="(op: =&gt; Unit)Unit">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#633776" title="=&gt; Unit">infer</a><span class="delimiter">)</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="634148">ex</a>: <a href="../../../reflect/internal/Symbols.scala.html#40030" title="Infer.this.global.CyclicReference">CyclicReference</a>  =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#634148" title="Infer.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="Unit" id="634149">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="Infer.this.global.TypeError">TypeError</a>        =&gt;
            <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184607" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#634144" title="Boolean">reportGeneralErrors</a>
            <a href="#633776" title="=&gt; Unit">infer</a>
        <span class="delimiter">}</span>
        <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184607" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#634144" title="Boolean">reportGeneralErrors</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#633776" title="=&gt; Unit">infer</a>
    <span class="delimiter">}</span>

    /** Assign &lt;code&gt;tree&lt;/code&gt; the type of unique polymorphic alternative
     *  with &lt;code&gt;nparams&lt;/code&gt; as the number of type parameters, if it exists.
     *  If several or none such polymorphic alternatives exist, error.
     *
     *  @param tree ...
     *  @param nparams ...
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, argtypes: List[Infer.this.global.Type])Unit" id="184534">inferPolyAlternatives</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="634150">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Type]" id="634151">argtypes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> OverloadedType<a href="#634154" title="(Infer.this.global.Type, List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#634153" title="Infer.this.global.Type" id="634154">pre</a>, <a href="#634153" title="List[Infer.this.global.Symbol]" id="634155">alts</a><span class="delimiter">)</span> = <a href="#634150" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="634156">sym0</a> = <a href="#634150" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="634172">alt</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#634172" title="Infer.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#634151" title="List[Infer.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(msg: String)Unit" id="634157">fail</a><span class="delimiter">(</span><a title="String" id="634175">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#184470" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#634150" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#634175" title="String">msg</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#634156" title="Infer.this.global.Symbol">sym0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#634157" title="(msg: String)Unit">fail</a><span class="delimiter">(</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#634155" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#634186" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="TypeDiagnostics.scala.html#184274" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#634150" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="TypeDiagnostics.scala.html#184274" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#634150" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span>
      <span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#634159" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</a><a href="#634158" title="Infer.this.global.Symbol" id="634159">resSym</a>, <a href="#634158" title="Infer.this.global.Type" id="634160">resTpe</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#634156" title="Infer.this.global.Symbol">sym0</a>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span>
          <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#634156" title="Infer.this.global.Symbol">sym0</a>, <a href="#634154" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#634156" title="Infer.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="634196">sym</a> = <a href="#634156" title="Infer.this.global.Symbol">sym0</a> <a href="../../../reflect/internal/Symbols.scala.html#47968" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="634199">alt</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#40343" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#634154" title="Infer.this.global.Type">pre</a>, <a href="#634199" title="Infer.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#634199" title="Infer.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#634151" title="List[Infer.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#634196" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#634151" title="List[Infer.this.global.Type]">argtypes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="634210">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#634210" title="Infer.this.global.Type">x</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#634157" title="(msg: String)Unit">fail</a><span class="delimiter">(</span>
              <span title="String(&quot;type arguments &quot;)" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#634151" title="List[Infer.this.global.Type]">argtypes</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; conform to the bounds of none of the overloaded alternatives of\n &quot;)" class="string">&quot; conform to the bounds of none of the overloaded alternatives of\n &quot;</span><span title="(x$1: Any)String">+</span><a href="#634156" title="Infer.this.global.Symbol">sym0</a><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)String">+</span><a href="#634156" title="Infer.this.global.Symbol">sym0</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Infer.this.global.Type">info</a>
            <span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#634196" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="634213">xs</a>      = <a href="#634196" title="Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="634214">tparams</a> = <span title="Infer.this.global.AsSeenFromMap" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#40254" title="Infer.this.global.AsSeenFromMap">AsSeenFromMap</a><span class="delimiter">(</span><a href="#634154" title="Infer.this.global.Type">pre</a>, <a href="#634213" title="List[Infer.this.global.Symbol]">xs</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#82357" title="(origSyms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">mapOver</a> <a href="#634213" title="List[Infer.this.global.Symbol]">xs</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="634215">bounds</a>  = <a href="#634214" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#634258" title="Infer.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47919" title="=&gt; Infer.this.global.Type">tpeHK</a><span class="delimiter">)</span> // see e.g., #1236
            <span class="keyword">val</span> <a title="Infer.this.global.PolyType" id="634216">tpe</a>     = <a href="../../../reflect/internal/Types.scala.html#67004" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#634214" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#83998" title="(pre: Infer.this.global.Type, alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#84095" title="(pre: Infer.this.global.Type, targs: List[Infer.this.global.Type])Infer.this.global.AntiPolyType">AntiPolyType</a><span class="delimiter">(</span><a href="#634154" title="Infer.this.global.Type">pre</a>, <a href="#634215" title="List[Infer.this.global.Type]">bounds</a><span class="delimiter">)</span>, <a href="#634213" title="List[Infer.this.global.Symbol]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.PolyType)(Infer.this.global.Symbol, Infer.this.global.PolyType)" class="delimiter">(</span><a href="#634196" title="Infer.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Infer.this.global.Type)sym.type">setInfo</a> <a href="#634216" title="Infer.this.global.PolyType">tpe</a>, <a href="#634216" title="Infer.this.global.PolyType">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#634196" title="Infer.this.global.Symbol">sym</a>, <a href="#634154" title="Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#634196" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      // Side effects tree with symbol and type
      <a href="#634150" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#634159" title="Infer.this.global.Symbol">resSym</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="#634160" title="Infer.this.global.Type">resTpe</a>
    <span class="delimiter">}</span>

    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeForwarder extends Infer.this.global.Tree with ScalaObject" id="184535">TreeForwarder</a><a href="#184535" title="ScalaObject" class="delimiter">(</a><a title="Infer.this.global.Tree" id="634319">forwardTo</a>: <span title="Infer.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Analyzer.scala.html#183929" title="Infer.this.global.Tree">Tree</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Position" id="628553">pos</a>       = <a href="#634319" title="Infer.this.global.Tree">forwardTo</a>.<span title="=&gt; Infer.this.global.Position">pos</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="628554">hasSymbol</a> = <a href="#634319" title="Infer.this.global.Tree">forwardTo</a>.<span title="=&gt; Boolean">hasSymbol</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Symbol" id="628555">symbol</a>    = <a href="#634319" title="Infer.this.global.Tree">forwardTo</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(x: Infer.this.global.Symbol)Unit" id="628556">symbol_=</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="634329">x</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#634319" title="Infer.this.global.Tree">forwardTo</a>.<span title="(sym: Infer.this.global.Symbol)Unit">symbol</span> = <a href="#634329" title="Infer.this.global.Symbol">x</a>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class AccessError extends Inferencer.this.TreeForwarder with ScalaObject with Product with Serializable" id="634658">AccessError</a><a href="#634658" title="ScalaObject" class="delimiter">(</a><a title="Infer.this.global.Tree" id="634649">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Symbol" id="634650">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="634651">pre</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Infer.this.global.Type">Type</a>, <a title="String" id="634652">explanation</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#184535" title="Inferencer.this.TreeForwarder">TreeForwarder</a><span class="delimiter">(</span><a href="#634649" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#184467" title="(tree: Inferencer.this.AccessError)Inferencer.this.AccessError">setError</a><span class="delimiter">(</span><a href="#634658" title="Inferencer.this.AccessError" class="keyword">this</a><span class="delimiter">)</span>

      // @PP: It is improbable this logic shouldn't be in use elsewhere as well.
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Annotatable[_ &gt;: Infer.this.global.Symbol with Infer.this.global.Type &lt;: Infer.this.global.Annotatable[_ &gt;: Infer.this.global.Symbol with Infer.this.global.Type &lt;: ScalaObject]]" id="628570">location</a> = <span title="Infer.this.global.Annotatable[_1143]" class="keyword">if</span> <span class="delimiter">(</span><a href="#634650" title="=&gt; Infer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <a href="#184549" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#184567" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#184558" title="=&gt; Infer.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#634651" title="=&gt; Infer.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; Infer.this.global.Type">widen</a>
      <span class="keyword">def</span> <a title="()Infer.this.global.Tree" id="628571">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="634569">realsym</a> = <a href="TypeDiagnostics.scala.html#184273" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#634650" title="=&gt; Infer.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#184471" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#634649" title="=&gt; Infer.this.global.Tree">tree</a>, <a href="#634569" title="Infer.this.global.Symbol">realsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; cannot be accessed in &quot;)" class="string">&quot; cannot be accessed in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#628570" title="=&gt; Infer.this.global.Annotatable[_ &gt;: Infer.this.global.Symbol with Infer.this.global.Type &lt;: Infer.this.global.Annotatable[_ &gt;: Infer.this.global.Symbol with Infer.this.global.Type &lt;: ScalaObject]]">location</a> <span title="(x$1: Any)String">+</span> <a href="#634652" title="=&gt; String">explanation</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>