<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/TypeDiagnostics.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Paul Phillips
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.util.control.ControlThrowable
<span class="keyword">import</span> scala.util.control.<span title="object scala.util.control.Exception">Exception</span>.ultimately
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> <span title="object PartialFunction">PartialFunction</span>._

/** An interface to enable higher configurability of diagnostic messages
 *  regarding type errors.  This is barely a beginning as error messages are
 *  distributed far and wide across the codebase.  The plan is to partition
 *  error messages into some broad groups and provide some mechanism for
 *  being more or less verbose on a selective basis.  Possible groups include
 *  such examples as
 *
 *    arity errors
 *    kind errors
 *    variance errors
 *    ambiguity errors
 *    volatility/stability errors
 *    implementation restrictions
 *
 *  And more, and there is plenty of overlap, so it'll be a process.
 *
 *  @author Paul Phillips
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait TypeDiagnostics extends Object with ScalaObject" id="32692">TypeDiagnostics</a> <span title="ScalaObject" class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#183929" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object TypeDiagnostics.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="Analyzer.scala.html#183929" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#182992" title="object TypeDiagnostics.this.global.typer">typer</a>.<span class="delimiter">{</span> infer, context <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; TypeDiagnostics.this.global.CompilationUnit" id="184250">currentUnit</a> = <a href="../Global.scala.html#183023" title="=&gt; TypeDiagnostics.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185199" title="=&gt; TypeDiagnostics.this.global.CompilationUnit">currentUnit</a>

  /** The common situation of making sure nothing is erroneous could be
   *  nicer if Symbols, Types, and Trees all implemented some common interface
   *  in which isErroneous and similar would be placed.
   */
  <span class="keyword">def</span> <a title="(tps: TypeDiagnostics.this.global.Type*)Boolean" id="184251">noErroneousTypes</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type*" id="664734">tps</a>: <span title="TypeDiagnostics.this.global.Type*">Type</span>*<span class="delimiter">)</span>    = <a href="#664734" title="TypeDiagnostics.this.global.Type*">tps</a> <span title="(p: TypeDiagnostics.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="664742">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#664742" title="TypeDiagnostics.this.global.Type">x</a>.<a href="../../../reflect/internal/Types.scala.html#42723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(syms: TypeDiagnostics.this.global.Symbol*)Boolean" id="184252">noErroneousSyms</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol*" id="664743">syms</a>: <span title="TypeDiagnostics.this.global.Symbol*">Symbol</span>*<span class="delimiter">)</span>  = <a href="#664743" title="TypeDiagnostics.this.global.Symbol*">syms</a> <span title="(p: TypeDiagnostics.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="664751">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#664751" title="TypeDiagnostics.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#47808" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(trees: TypeDiagnostics.this.global.Tree*)Boolean" id="184253">noErroneousTrees</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree*" id="664752">trees</a>: <span title="TypeDiagnostics.this.global.Tree*">Tree</span>*<span class="delimiter">)</span>  = <a href="#664752" title="TypeDiagnostics.this.global.Tree*">trees</a> <span title="(p: TypeDiagnostics.this.global.Tree =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="664760">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: TypeDiagnostics.this.global.Tree)TypeDiagnostics.this.global.TreeOps">x</a>.<a href="../../../reflect/internal/Trees.scala.html#59723" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>

  /** For errors which are artifacts of the implementation: such messages
   *  indicate that the restriction may be lifted in the future.
   */
  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, unit: TypeDiagnostics.this.global.CompilationUnit, msg: String)Unit" id="184254">restrictionWarning</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="664764">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.CompilationUnit" id="664765">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="TypeDiagnostics.this.global.CompilationUnit">CompilationUnit</a>, <a title="String" id="664766">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#664765" title="TypeDiagnostics.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#664764" title="TypeDiagnostics.this.global.Position">pos</a>, <span title="String(&quot;Implementation restriction: &quot;)" class="string">&quot;Implementation restriction: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#664766" title="String">msg</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, unit: TypeDiagnostics.this.global.CompilationUnit, msg: String)Unit" id="184255">restrictionError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="659991">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.CompilationUnit" id="659992">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="TypeDiagnostics.this.global.CompilationUnit">CompilationUnit</a>, <a title="String" id="659993">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#659992" title="TypeDiagnostics.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#659991" title="TypeDiagnostics.this.global.Position">pos</a>, <span title="String(&quot;Implementation restriction: &quot;)" class="string">&quot;Implementation restriction: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#659993" title="String">msg</a><span class="delimiter">)</span>

  /** A map of Positions to addendums - if an error involves a position in
   *  the map, the addendum should also be printed.
   */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.mutable.HashMap[TypeDiagnostics.this.global.Position,() =&gt; String]" id="184257">addendums</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object TypeDiagnostics.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[TypeDiagnostics.this.global.Position,() =&gt; String]" class="delimiter">[</span><a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, msg: () =&gt; String)Unit" id="184259">setAddendum</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="626252">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="() =&gt; String" id="626253">msg</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#626252" title="TypeDiagnostics.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span>
      <a href="#184257" title="(key: TypeDiagnostics.this.global.Position, value: () =&gt; String)Unit">addendums</a><span class="delimiter">(</span><a href="#626252" title="TypeDiagnostics.this.global.Position">pos</a><span class="delimiter">)</span> = <a href="#626253" title="() =&gt; String">msg</a>

  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position)String =&gt; String" id="184260">withAddendum</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="628365">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#628369" title="String">_</a>: <span title="String">String</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#184257" title="=&gt; scala.collection.mutable.HashMap[TypeDiagnostics.this.global.Position,() =&gt; String]">addendums</a>.<span title="(key: TypeDiagnostics.this.global.Position, default: =&gt; () =&gt; String)() =&gt; String">getOrElse</span><span title="()String" class="delimiter">(</span><a href="#628365" title="TypeDiagnostics.this.global.Position">pos</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(name: TypeDiagnostics.this.global.Name, owner: TypeDiagnostics.this.global.Symbol)String" id="184261">decodeWithKind</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Name" id="638456">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="TypeDiagnostics.this.global.Name">Name</a>, <a title="TypeDiagnostics.this.global.Symbol" id="638457">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="664772">prefix</a> = <span class="delimiter">(</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#638456" title="TypeDiagnostics.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53411" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span title="String(&quot;type &quot;)" class="string">&quot;type &quot;</span>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#638457" title="TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <span title="String(&quot;object &quot;)" class="string">&quot;object &quot;</span>
      <span class="keyword">else</span> <span title="String(&quot;value &quot;)" class="string">&quot;value &quot;</span>
    <span class="delimiter">)</span>
    <a href="#664772" title="String">prefix</a> <span title="(x$1: Any)String">+</span> <a href="#638456" title="TypeDiagnostics.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53454" title="=&gt; String">decode</a>
  <span class="delimiter">}</span>

  /** Does the positioned line assigned to t1 precede that of t2?
   */
  <span class="keyword">def</span> <a title="(p1: TypeDiagnostics.this.global.Position, p2: TypeDiagnostics.this.global.Position)Boolean" id="184262">posPrecedes</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="638467">p1</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.Position" id="638468">p2</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#638467" title="TypeDiagnostics.this.global.Position">p1</a>.<a href="../util/Position.scala.html#183788" title="=&gt; Boolean">isDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#638468" title="TypeDiagnostics.this.global.Position">p2</a>.<a href="../util/Position.scala.html#183788" title="=&gt; Boolean">isDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#638467" title="TypeDiagnostics.this.global.Position">p1</a>.<a href="../util/Position.scala.html#183814" title="=&gt; Int">line</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#638468" title="TypeDiagnostics.this.global.Position">p2</a>.<a href="../util/Position.scala.html#183814" title="=&gt; Int">line</a>
  <span class="keyword">def</span> <a title="(t1: TypeDiagnostics.this.global.Tree, t2: TypeDiagnostics.this.global.Tree)Boolean" id="184263">linePrecedes</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="664773">t1</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span>, <a title="TypeDiagnostics.this.global.Tree" id="664774">t2</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#184262" title="(p1: TypeDiagnostics.this.global.Position, p2: TypeDiagnostics.this.global.Position)Boolean">posPrecedes</a><span class="delimiter">(</span><a href="#664773" title="TypeDiagnostics.this.global.Tree">t1</a>.<span title="=&gt; TypeDiagnostics.this.global.Position">pos</span>, <a href="#664774" title="TypeDiagnostics.this.global.Tree">t2</a>.<span title="=&gt; TypeDiagnostics.this.global.Position">pos</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object TypeDiagnostics.this.DealiasedType" id="184264">DealiasedType</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#40242" title="TypeDiagnostics.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: TypeDiagnostics.this.global.Type)TypeDiagnostics.this.global.Type" id="664778">apply</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="664780">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a> = <a href="#664780" title="TypeDiagnostics.this.global.Type">tp</a> <span title="TypeDiagnostics.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      // Avoid &quot;explaining&quot; that String is really java.lang.String,
      // while still dealiasing types from non-default namespaces.
      <span class="keyword">case</span> <span title="TypeDiagnostics.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="664788">pre</a>, <a title="TypeDiagnostics.this.global.Symbol" id="664789">sym</a>, <a title="List[TypeDiagnostics.this.global.Type]" id="664790">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#664789" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#664789" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47824" title="=&gt; Boolean">isInDefaultNamespace</a> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: TypeDiagnostics.this.global.Type)TypeDiagnostics.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#664780" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42759" title="=&gt; TypeDiagnostics.this.global.Type">dealias</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="TypeDiagnostics.this.global.Type">_</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: TypeDiagnostics.this.global.Type)TypeDiagnostics.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#664780" title="TypeDiagnostics.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, qual: TypeDiagnostics.this.global.Tree, name: TypeDiagnostics.this.global.Name)String" id="184266">notAMemberMessage</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="638445">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.Tree" id="638446">qual</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span>, <a title="TypeDiagnostics.this.global.Name" id="638447">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="TypeDiagnostics.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Symbol" id="638450">owner</a>            = <a href="#638446" title="TypeDiagnostics.this.global.Tree">qual</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>
    <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Type" id="638451">target</a>           = <a href="#638446" title="TypeDiagnostics.this.global.Tree">qual</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; TypeDiagnostics.this.global.Type">widen</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="638452">targetKindString</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#638450" title="TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <span title="String(&quot;type parameter &quot;)" class="string">&quot;type parameter &quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="638453">nameString</a>       = <a href="#184261" title="(name: TypeDiagnostics.this.global.Name, owner: TypeDiagnostics.this.global.Symbol)String">decodeWithKind</a><span class="delimiter">(</span><a href="#638447" title="TypeDiagnostics.this.global.Name">name</a>, <a href="#638450" title="TypeDiagnostics.this.global.Symbol">owner</a><span class="delimiter">)</span>
    /** Illuminating some common situations and errors a bit further. */
    <span class="keyword">def</span> <a title="=&gt; String" id="638454">addendum</a>         = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="638459">companion</a> = <span class="delimiter">{</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#638447" title="TypeDiagnostics.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53410" title="=&gt; Boolean">isTermName</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#638450" title="TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#638451" title="TypeDiagnostics.this.global.Type">target</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: TypeDiagnostics.this.global.Name)TypeDiagnostics.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#638447" title="TypeDiagnostics.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53413" title="=&gt; TypeDiagnostics.this.global.TypeName">toTypeName</a><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="String(&quot;&quot;)">NoSymbol</a> =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="keyword">case</span> <a title="String" id="638463">sym</a>      =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nNote: %s exists, but it has no companion object.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#638463" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="String" id="638460">semicolon</a> = <span class="delimiter">(</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#184262" title="(p1: TypeDiagnostics.this.global.Position, p2: TypeDiagnostics.this.global.Position)Boolean">posPrecedes</a><span class="delimiter">(</span><a href="#638446" title="TypeDiagnostics.this.global.Tree">qual</a>.<span title="=&gt; TypeDiagnostics.this.global.Position">pos</span>, <a href="#638445" title="TypeDiagnostics.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="String(&quot;\npossible cause: maybe a semicolon is missing before `&quot;)" class="string">&quot;\npossible cause: maybe a semicolon is missing before `&quot;</span><span title="(x$1: Any)String">+</span><a href="#638453" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\'?&quot;)" class="string">&quot;'?&quot;</span>
        <span class="keyword">else</span>
          <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="delimiter">)</span>
      <a href="#638459" title="String">companion</a> <span title="(x$1: Any)String">+</span> <a href="#638460" title="String">semicolon</a>
    <span class="delimiter">}</span>

    <a href="#184260" title="(pos: TypeDiagnostics.this.global.Position)String =&gt; String">withAddendum</a><span title="(v1: String)String" class="delimiter">(</span><a href="#638446" title="TypeDiagnostics.this.global.Tree">qual</a>.<span title="=&gt; TypeDiagnostics.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#638447" title="TypeDiagnostics.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object TypeDiagnostics.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; TypeDiagnostics.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <a href="#638451" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">target</a> <span title="(other: String)String">+</span> <span title="String(&quot; does not have a constructor&quot;)" class="string">&quot; does not have a constructor&quot;</span>
      <span class="keyword">else</span> <a href="#638453" title="=&gt; String">nameString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is not a member of &quot;)" class="string">&quot; is not a member of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#638452" title="=&gt; String">targetKindString</a> <span title="(x$1: Any)String">+</span> <a href="#638451" title="TypeDiagnostics.this.global.Type">target</a> <span title="(x$1: Any)String">+</span> <a href="#638454" title="=&gt; String">addendum</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** An explanatory note to be added to error messages
   *  when there's a problem with abstract var defs */
  <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol)String" id="184267">abstractVarMessage</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="641130">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#184273" title="(member: TypeDiagnostics.this.global.Symbol)TypeDiagnostics.this.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#641130" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span>
      <span title="String(&quot;\n(Note that variables need to be initialized to be defined)&quot;)" class="string">&quot;\n(Note that variables need to be initialized to be defined)&quot;</span>
    <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, qual: TypeDiagnostics.this.global.Tree, name: TypeDiagnostics.this.global.Name)Unit" id="184268">notAMemberError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="638429">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.Tree" id="638430">qual</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span>, <a title="TypeDiagnostics.this.global.Name" id="638431">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="TypeDiagnostics.this.global.Name">Name</a><span class="delimiter">)</span> =
    <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.global.analyzer.Context">context</a>.<a href="Contexts.scala.html#184653" title="(pos: TypeDiagnostics.this.global.analyzer.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#638429" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#184266" title="(pos: TypeDiagnostics.this.global.Position, qual: TypeDiagnostics.this.global.Tree, name: TypeDiagnostics.this.global.Name)String">notAMemberMessage</a><span class="delimiter">(</span><a href="#638429" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#638430" title="TypeDiagnostics.this.global.Tree">qual</a>, <a href="#638431" title="TypeDiagnostics.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Only prints the parameter names if they're not synthetic,
   *  since &quot;x$1: Int&quot; does not offer any more information than &quot;Int&quot;.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: TypeDiagnostics.this.global.Type)String" id="184269">methodTypeErrorString</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="664819">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#664819" title="TypeDiagnostics.this.global.Type">tp</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="String" id="664822">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[TypeDiagnostics.this.global.Symbol]" id="664825">params</a>, <a title="TypeDiagnostics.this.global.Type" id="664826">resultType</a><span class="delimiter">)</span>  =&gt;
      <span class="keyword">def</span> <a title="=&gt; List[Object]" id="664827">forString</a> =
        <span title="List[Object]" class="keyword">if</span> <span class="delimiter">(</span><a href="#664825" title="List[TypeDiagnostics.this.global.Symbol]">params</a> <span title="(p: TypeDiagnostics.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#664834" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#664825" title="List[TypeDiagnostics.this.global.Symbol]">params</a> <span title="(f: TypeDiagnostics.this.global.Symbol =&gt; TypeDiagnostics.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#664851" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#664825" title="List[TypeDiagnostics.this.global.Symbol]">params</a> <span title="(f: TypeDiagnostics.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#664889" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#48059" title="=&gt; String">defString</a><span class="delimiter">)</span>

       <a href="#664827" title="=&gt; List[Object]">forString</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#664826" title="TypeDiagnostics.this.global.Type">resultType</a>
    <span class="keyword">case</span> <a title="String" id="668709">x</a>                                    =&gt; <a href="#668709" title="TypeDiagnostics.this.global.Type">x</a>.<a href="../../../reflect/internal/Types.scala.html#42813" title="()String">toString</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)List[TypeDiagnostics.this.global.Type]" id="184270">alternatives</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="632056">tree</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[TypeDiagnostics.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#632056" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span> <span title="List[TypeDiagnostics.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="List[TypeDiagnostics.this.global.Type]">OverloadedType</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="668712">pre</a>, <a title="List[TypeDiagnostics.this.global.Symbol]" id="668713">alternatives</a><span class="delimiter">)</span>  =&gt; <a href="#668713" title="List[TypeDiagnostics.this.global.Symbol]">alternatives</a> <span title="(f: TypeDiagnostics.this.global.Symbol =&gt; TypeDiagnostics.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">map</span> <a href="#668712" title="TypeDiagnostics.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: TypeDiagnostics.this.global.Symbol)TypeDiagnostics.this.global.Type">memberType</a>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                  =&gt; <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)String" id="184271">alternativesString</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="668759">tree</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span> =
    <a href="#184270" title="(tree: TypeDiagnostics.this.global.Tree)List[TypeDiagnostics.this.global.Type]">alternatives</a><span class="delimiter">(</span><a href="#668759" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(f: TypeDiagnostics.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="668781">x</a> =&gt; <span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#184269" title="(tp: TypeDiagnostics.this.global.Type)String">methodTypeErrorString</a><span class="delimiter">(</span><a href="#668781" title="TypeDiagnostics.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(start: String, sep: String, end: String)String">mkString</span> <span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot; &lt;and&gt;\n&quot;)" class="string">&quot; &lt;and&gt;\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(fun: TypeDiagnostics.this.global.Tree, vparam: TypeDiagnostics.this.global.ValDef, pt: TypeDiagnostics.this.global.Type)String" id="184272">missingParameterTypeMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="668812">fun</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span>, <a title="TypeDiagnostics.this.global.ValDef" id="668813">vparam</a>: <span title="TypeDiagnostics.this.global.ValDef">ValDef</span>, <a title="TypeDiagnostics.this.global.Type" id="668814">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="668817">anonMessage</a> = <span class="delimiter">(</span>
      <span class="string">&quot;\nThe argument types of an anonymous function must be fully known. (SLS 8.5)&quot;</span> <span title="String(&quot;\nThe argument types of an anonymous function must be fully known. (SLS 8.5)\nExpected type was: &quot;)">+</span>
      <span class="string">&quot;\nExpected type was: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668814" title="TypeDiagnostics.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#42815" title="=&gt; String">toLongString</a>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="String" id="668818">suffix</a> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#668813" title="TypeDiagnostics.this.global.ValDef">vparam</a>.<span title="=&gt; TypeDiagnostics.this.global.Modifiers">mods</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span title="String(&quot; for expanded function&quot;)" class="string">&quot; for expanded function&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#668812" title="TypeDiagnostics.this.global.Tree">fun</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="String">Function</span><span class="delimiter">(</span>_, Match<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#668817" title="=&gt; String">anonMessage</a>
        <span class="keyword">case</span> <span title="String">_</span>                        =&gt; <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668812" title="TypeDiagnostics.this.global.Tree">fun</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>

    <span title="String(&quot;missing parameter type&quot;)" class="string">&quot;missing parameter type&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668818" title="String">suffix</a>
  <span class="delimiter">}</span>

  /** The symbol which the given accessor represents (possibly in part).
   *  This is used for error messages, where we want to speak in terms
   *  of the actual declaration or definition, not in terms of the generated setters
   *  and getters.
   */
  <span class="keyword">def</span> <a title="(member: TypeDiagnostics.this.global.Symbol)TypeDiagnostics.this.global.Symbol" id="184273">underlyingSymbol</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="628609">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a> =
    <span title="TypeDiagnostics.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a><span class="delimiter">)</span> <a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>
    <span class="keyword">else</span> <span title="TypeDiagnostics.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; TypeDiagnostics.this.global.Symbol">accessed</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Symbol" id="668826">getter</a> = <span title="TypeDiagnostics.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: TypeDiagnostics.this.global.Symbol)TypeDiagnostics.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>
      <span class="keyword">val</span> <a title="Int" id="668827">flags</a>  = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#668826" title="TypeDiagnostics.this.global.Symbol">getter</a>.<a href="../../../reflect/internal/Symbols.scala.html#48022" title="(base: TypeDiagnostics.this.global.Symbol)TypeDiagnostics.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#628609" title="TypeDiagnostics.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object TypeDiagnostics.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> DEFERRED <span title="Int(4112)">|</span> MUTABLE <span class="keyword">else</span> <span title="Int(16)">DEFERRED</span>

      <a href="#668826" title="TypeDiagnostics.this.global.Symbol">getter</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47698" title="(name: TypeDiagnostics.this.global.TermName, pos: TypeDiagnostics.this.global.Position, newFlags: Long)TypeDiagnostics.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#668826" title="TypeDiagnostics.this.global.Symbol">getter</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53412" title="=&gt; TypeDiagnostics.this.global.TermName">toTermName</a>, <a href="#668826" title="TypeDiagnostics.this.global.Symbol">getter</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>, <a href="#668827" title="=&gt; Long">flags</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: TypeDiagnostics.this.global.Type)TypeDiagnostics.this.global.TermSymbol">setInfo</a> <a href="#668826" title="TypeDiagnostics.this.global.Symbol">getter</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; TypeDiagnostics.this.global.Type">resultType</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)String" id="184274">treeSymTypeMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="632293">tree</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Symbol" id="668857">sym</a>               = <a href="#632293" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="668858">hasParams</a>         = <a href="#632293" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42748" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="668859">preResultString</a>   = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668858" title="=&gt; Boolean">hasParams</a><span class="delimiter">)</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span class="keyword">else</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span>

    <span class="keyword">def</span> <a title="=&gt; String" id="668860">nullMessage</a>       = <span title="String(&quot;expression of type &quot;)" class="string">&quot;expression of type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632293" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="668861">overloadedMessage</a> = <span title="String(&quot;overloaded method &quot;)" class="string">&quot;overloaded method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668857" title="TypeDiagnostics.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with alternatives:\n&quot;)" class="string">&quot; with alternatives:\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#184271" title="(tree: TypeDiagnostics.this.global.Tree)String">alternativesString</a><span class="delimiter">(</span><a href="#632293" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="668862">moduleMessage</a>     = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668857" title="TypeDiagnostics.this.global.Symbol">sym</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="668863">defaultMessage</a>    = <a href="#668862" title="=&gt; String">moduleMessage</a> <span title="(x$1: Any)String">+</span> <a href="#668859" title="=&gt; String">preResultString</a> <span title="(x$1: Any)String">+</span> <a href="#632293" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="668864">applyMessage</a>      = <a href="#668863" title="=&gt; String">defaultMessage</a> <span title="(x$1: Any)String">+</span> <a href="#632293" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48048" title="=&gt; String">locationString</a>

    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668857" title="TypeDiagnostics.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#668860" title="=&gt; String">nullMessage</a>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668857" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <a href="#668861" title="=&gt; String">overloadedMessage</a>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668857" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#668862" title="=&gt; String">moduleMessage</a>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668857" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object TypeDiagnostics.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60160" title="=&gt; TypeDiagnostics.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <a href="#668864" title="=&gt; String">applyMessage</a>
    <span class="keyword">else</span> <a href="#668863" title="=&gt; String">defaultMessage</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(fun: TypeDiagnostics.this.global.Tree, missing: List[TypeDiagnostics.this.global.Symbol])String" id="184275">notEnoughArgumentsMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="668878">fun</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span>, <a title="List[TypeDiagnostics.this.global.Symbol]" id="668879">missing</a>: <span title="List[TypeDiagnostics.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="668881">suffix</a> = <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668879" title="List[TypeDiagnostics.this.global.Symbol]">missing</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.global.Name]" id="668882">keep</a> = <a href="#668879" title="List[TypeDiagnostics.this.global.Symbol]">missing</a> <span title="(n: Int)List[TypeDiagnostics.this.global.Symbol]">take</span> <span title="Int(3)" class="int">3</span> <span title="(f: TypeDiagnostics.this.global.Symbol =&gt; TypeDiagnostics.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],TypeDiagnostics.this.global.Name,List[TypeDiagnostics.this.global.Name]])List[TypeDiagnostics.this.global.Name]">map</span> <span class="delimiter">(</span><a href="#668904" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a><span class="delimiter">)</span>
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;.\nUnspecified value parameter%s %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#668879" title="List[TypeDiagnostics.this.global.Symbol]">missing</a>.<span title="=&gt; List[TypeDiagnostics.this.global.Symbol]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot;s&quot;)" class="string">&quot;s&quot;</span>,
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#668879" title="List[TypeDiagnostics.this.global.Symbol]">missing</a> <span title="(n: Int)List[TypeDiagnostics.this.global.Symbol]">drop</span> <span title="Int(3)" class="int">3</span> <span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#668882" title="List[TypeDiagnostics.this.global.Name]">keep</a> <span title="(elem: Object)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Name],Object,List[Object]])List[Object]">:+</span> <span title="String(&quot;...&quot;)" class="string">&quot;...&quot;</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#668882" title="List[TypeDiagnostics.this.global.Name]">keep</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span title="String(&quot;not enough arguments for &quot;)" class="string">&quot;not enough arguments for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#184274" title="(tree: TypeDiagnostics.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#668878" title="TypeDiagnostics.this.global.Tree">fun</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#668881" title="String">suffix</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree, msg: String, argtpes: List[TypeDiagnostics.this.global.Type], pt: TypeDiagnostics.this.global.Type)String" id="184276">applyErrorMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="632038">tree</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span>, <a title="String" id="632039">msg</a>: <span title="String">String</span>, <a title="List[TypeDiagnostics.this.global.Type]" id="632040">argtpes</a>: <span title="List[TypeDiagnostics.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="TypeDiagnostics.this.global.Type" id="632041">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(xs: List[Any])String" id="632044">asParams</a><span class="delimiter">(</span><a title="List[Any]" id="632048">xs</a>: <span title="List[Any]">List</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#632048" title="List[Any]">xs</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; String" id="632045">resType</a>   = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#632041" title="TypeDiagnostics.this.global.Type">pt</a> <a href="../../../reflect/internal/Types.scala.html#42721" title="=&gt; Boolean">isWildcard</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot; with expected result type &quot;)" class="string">&quot; with expected result type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#632041" title="TypeDiagnostics.this.global.Type">pt</a>
    <span class="keyword">def</span> <a title="=&gt; List[TypeDiagnostics.this.global.Type]" id="632046">allTypes</a>  = <span class="delimiter">(</span><a href="#184270" title="(tree: TypeDiagnostics.this.global.Tree)List[TypeDiagnostics.this.global.Type]">alternatives</a><span class="delimiter">(</span><a href="#632038" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(f: TypeDiagnostics.this.global.Type =&gt; scala.collection.GenTraversableOnce[TypeDiagnostics.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">flatMap</span> <span class="delimiter">(</span><a href="#632081" title="TypeDiagnostics.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[TypeDiagnostics.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[TypeDiagnostics.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">++</span> <a href="#632040" title="List[TypeDiagnostics.this.global.Type]">argtpes</a> <span title="(elem: TypeDiagnostics.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">:+</span> <a href="#632041" title="TypeDiagnostics.this.global.Type">pt</a>
    <span class="keyword">def</span> <a title="=&gt; List[TypeDiagnostics.this.global.Symbol]" id="632047">locals</a>    = <a href="#184270" title="(tree: TypeDiagnostics.this.global.Tree)List[TypeDiagnostics.this.global.Type]">alternatives</a><span class="delimiter">(</span><a href="#632038" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(f: TypeDiagnostics.this.global.Type =&gt; scala.collection.GenTraversableOnce[TypeDiagnostics.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Symbol,List[TypeDiagnostics.this.global.Symbol]])List[TypeDiagnostics.this.global.Symbol]">flatMap</span> <span class="delimiter">(</span><a href="#632248" title="TypeDiagnostics.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>

    <a href="#184290" title="(locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)(op: =&gt; String)String">withDisambiguation</a><span class="delimiter">(</span><a href="#632047" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">locals</a>, <a href="#632046" title="=&gt; List[TypeDiagnostics.this.global.Type]">allTypes</a>: _*<span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#184274" title="(tree: TypeDiagnostics.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#632038" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#632039" title="String">msg</a> <span title="(x$1: Any)String">+</span> <a href="#632044" title="(xs: List[Any])String">asParams</a><span class="delimiter">(</span><a href="#632040" title="List[TypeDiagnostics.this.global.Type]">argtpes</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#632045" title="=&gt; String">resType</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(ss: List[String])List[String]" id="184277">disambiguate</a><span class="delimiter">(</span><a title="List[String]" id="668998">ss</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#668998" title="List[String]">ss</a> <span title="List[String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>      =&gt; <span title="object Nil">Nil</span>
    <span class="keyword">case</span> <a title="List[String]" id="669005">s</a> :: <a title="List[String]" id="669006">ss</a>  =&gt; <a href="#669005" title="String">s</a> <a href="#669007" title="(x: String)List[String]">::</a> <span class="delimiter">(</span><a href="#669006" title="List[String]">ss</a> <span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</span> <a href="#669024" title="String" class="delimiter">{</a> <span class="keyword">case</span> <a href="#669005" title="String">`s`</a> =&gt; <span title="String(&quot;(some other)&quot;)" class="string">&quot;(some other)&quot;</span><span title="(x$1: Any)String">+</span><a href="#669005" title="String">s</a> ; <span class="keyword">case</span> <a title="String" id="669025">x</a> =&gt; <a href="#669025" title="String">x</a> <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // todo: use also for other error messages
  <span class="keyword">def</span> <a title="(tp: TypeDiagnostics.this.global.Type)String" id="184278">existentialContext</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="669058">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#669058" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42820" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">existentialSkolems</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="String(&quot;&quot;)">Nil</span>  =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">case</span> <a title="String" id="669061">xs</a>   =&gt; <span title="String(&quot; where &quot;)" class="string">&quot; where &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#184277" title="(ss: List[String])List[String]">disambiguate</a><span class="delimiter">(</span><a href="#669061" title="List[TypeDiagnostics.this.global.Symbol]">xs</a> <span title="(f: TypeDiagnostics.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#669078" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#48063" title="=&gt; String">existentialToString</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol)String" id="184279">varianceWord</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="669109">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#669109" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47874" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#669109" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47874" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
    <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>

  <span class="keyword">def</span> <a title="(tp: TypeDiagnostics.this.global.Type)String" id="184280">explainAlias</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="669121">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    // Don't automatically normalize standard aliases; they still will be
    // expanded if necessary to disambiguate simple identifiers.
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#669121" title="TypeDiagnostics.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#669121" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; TypeDiagnostics.this.global.Type">normalize</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#669121" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42730" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbolDirect</a>.<a href="../../../reflect/internal/Symbols.scala.html#47824" title="=&gt; Boolean">isInDefaultNamespace</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      // A sanity check against expansion being identical to original.
      <span class="keyword">val</span> <a title="String" id="669124">s</a> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#664778" title="(tp: TypeDiagnostics.this.global.Type)TypeDiagnostics.this.global.Type">DealiasedType</a><span class="delimiter">(</span><a href="#669121" title="TypeDiagnostics.this.global.Type">tp</a><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#669124" title="String">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669121" title="TypeDiagnostics.this.global.Type">tp</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span title="String(&quot;\n    (which expands to)  &quot;)" class="string">&quot;\n    (which expands to)  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669124" title="String">s</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Look through the base types of the found type for any which
   *  might have been valid subtypes if given conformant type arguments.
   *  Examine those for situations where the type error would have been
   *  eliminated if the variance were different.  In such cases, append
   *  an additional explanatory message.
   *
   *  TODO: handle type aliases better.
   */
  <span class="keyword">def</span> <a title="(found: TypeDiagnostics.this.global.Type, req: TypeDiagnostics.this.global.Type)String" id="184281">explainVariance</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="669131">found</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a>, <a title="TypeDiagnostics.this.global.Type" id="669132">req</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#669131" title="TypeDiagnostics.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42803" title="=&gt; TypeDiagnostics.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#60849" title="=&gt; List[TypeDiagnostics.this.global.Type]">toList</a> <span title="(f: TypeDiagnostics.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="TypeDiagnostics.this.global.Type" id="669155">tp</a> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669155" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: TypeDiagnostics.this.global.Symbol)Boolean">isSubClass</a> <a href="#669132" title="TypeDiagnostics.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.global.Type]" id="669157">foundArgs</a> = <a href="#669155" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[TypeDiagnostics.this.global.Type]">typeArgs</a>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.global.Type]" id="669158">reqArgs</a>   = <a href="#669132" title="TypeDiagnostics.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[TypeDiagnostics.this.global.Type]">typeArgs</a>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.global.Symbol]" id="669159">params</a>    = <a href="#669132" title="TypeDiagnostics.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#42740" title="=&gt; TypeDiagnostics.this.global.Type">typeConstructor</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">typeParams</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669157" title="List[TypeDiagnostics.this.global.Type]">foundArgs</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#669157" title="List[TypeDiagnostics.this.global.Type]">foundArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#669158" title="List[TypeDiagnostics.this.global.Type]">reqArgs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Option[String]]" id="669165">relationships</a> = <span title="(_1: List[TypeDiagnostics.this.global.Type], _2: List[TypeDiagnostics.this.global.Type], _3: List[TypeDiagnostics.this.global.Symbol])(List[TypeDiagnostics.this.global.Type], List[TypeDiagnostics.this.global.Type], List[TypeDiagnostics.this.global.Symbol])" class="delimiter">(</span><a href="#669157" title="List[TypeDiagnostics.this.global.Type]">foundArgs</a>, <a href="#669158" title="List[TypeDiagnostics.this.global.Type]">reqArgs</a>, <a href="#669159" title="List[TypeDiagnostics.this.global.Symbol]">params</a><span class="delimiter">)</span>.<span title="(implicit w1: List[TypeDiagnostics.this.global.Type] =&gt; scala.collection.TraversableLike[TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]], implicit w2: List[TypeDiagnostics.this.global.Type] =&gt; scala.collection.IterableLike[TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]], implicit w3: List[TypeDiagnostics.this.global.Symbol] =&gt; scala.collection.IterableLike[TypeDiagnostics.this.global.Symbol,List[TypeDiagnostics.this.global.Symbol]])(List[TypeDiagnostics.this.global.Type], List[TypeDiagnostics.this.global.Type], List[TypeDiagnostics.this.global.Symbol])#Zipped[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Symbol],TypeDiagnostics.this.global.Symbol]">zipped</span> <span title="(f: (TypeDiagnostics.this.global.Type, TypeDiagnostics.this.global.Type, TypeDiagnostics.this.global.Symbol) =&gt; Option[String])(implicit cbf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],Option[String],List[Option[String]]])List[Option[String]]">map</span> <a href="#669238" title="Option[String]" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Option[String]" class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="669253">arg</a>, <a title="TypeDiagnostics.this.global.Type" id="669254">reqArg</a>, <a title="TypeDiagnostics.this.global.Symbol" id="669255">param</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">def</span> <a title="(isSubtype: Boolean)Some[String]" id="669256">mkMsg</a><span class="delimiter">(</span><a title="Boolean" id="669259">isSubtype</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="String" id="669260">op</a>      = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#669259" title="Boolean">isSubtype</a><span class="delimiter">)</span> <span title="String(&quot;&lt;:&quot;)" class="string">&quot;&lt;:&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&gt;:&quot;)" class="string">&quot;&gt;:&quot;</span>
                <span class="keyword">val</span> <a title="String" id="669261">suggest</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#669259" title="Boolean">isSubtype</a><span class="delimiter">)</span> <span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span> <span class="keyword">else</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span>
                <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Symbol" id="669262">reqsym</a>  = <a href="#669132" title="TypeDiagnostics.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>
                <span class="keyword">def</span> <a title="=&gt; Boolean" id="669263">isJava</a>  = <a href="#669262" title="TypeDiagnostics.this.global.Symbol">reqsym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a>
                <span class="keyword">def</span> <a title="=&gt; Boolean" id="669264">isScala</a> = <a href="#669262" title="TypeDiagnostics.this.global.Symbol">reqsym</a> <a href="../../../reflect/internal/Symbols.scala.html#47882" title="(sym: TypeDiagnostics.this.global.Symbol)Boolean">hasTransOwner</a> <a href="../../../reflect/internal/Definitions.scala.html#46254" title="=&gt; TypeDiagnostics.this.global.Symbol">ScalaPackageClass</a>

                <span class="keyword">val</span> <a title="String" id="669265">explainFound</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s %s %s%s, but &quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
                  <a href="#669253" title="TypeDiagnostics.this.global.Type">arg</a>, <a href="#669260" title="String">op</a>, <a href="#669254" title="TypeDiagnostics.this.global.Type">reqArg</a>,
                  // If the message involves a type from the base type sequence rather than the
                  // actual found type, we need to explain why we're talking about it.  Less brute
                  // force measures than comparing normalized Strings were producing error messages
                  // like &quot;and java.util.ArrayList[String] &lt;: java.util.ArrayList[String]&quot; but there
                  // should be a cleaner way to do this.
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#669131" title="TypeDiagnostics.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; TypeDiagnostics.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42813" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#669155" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; TypeDiagnostics.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#42813" title="()String">toString</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                  <span class="keyword">else</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; (and %s &lt;: %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#669131" title="TypeDiagnostics.this.global.Type">found</a>, <a href="#669155" title="TypeDiagnostics.this.global.Type">tp</a><span class="delimiter">)</span>
                <span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="String" id="669266">explainDef</a> = <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="String" id="669282">prepend</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#669263" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span title="String(&quot;Java-defined &quot;)" class="string">&quot;Java-defined &quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                  <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is %s in %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#669282" title="String">prepend</a>, <a href="#669262" title="TypeDiagnostics.this.global.Symbol">reqsym</a>, <a href="#184279" title="(sym: TypeDiagnostics.this.global.Symbol)String">varianceWord</a><span class="delimiter">(</span><a href="#669255" title="TypeDiagnostics.this.global.Symbol">param</a><span class="delimiter">)</span>, <a href="#669255" title="TypeDiagnostics.this.global.Symbol">param</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                // Don't suggest they change the class declaration if it's somewhere
                // under scala.* or defined in a java class, because attempting either
                // would be fruitless.
                <span class="keyword">val</span> <a title="String" id="669267">suggestChange</a> = <span title="String(&quot;\nYou may wish to &quot;)" class="string">&quot;\nYou may wish to &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#669264" title="=&gt; Boolean">isScala</a> <span title="(x: Boolean)Boolean">||</span> <a href="#669263" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span>
                    <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;investigate a wildcard type such as `_ %s %s`. (SLS 3.2.10)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#669260" title="String">op</a>, <a href="#669254" title="TypeDiagnostics.this.global.Type">reqArg</a><span class="delimiter">)</span>
                  <span class="keyword">else</span>
                    <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;define %s as %s%s instead. (SLS 4.5)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#669255" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a>, <a href="#669261" title="String">suggest</a>, <a href="#669255" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a><span class="delimiter">)</span>
                <span class="delimiter">)</span>

                <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String(&quot;Note: &quot;)" class="string">&quot;Note: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669265" title="String">explainFound</a> <span title="(x$1: Any)String">+</span> <a href="#669266" title="String">explainDef</a> <span title="(x$1: Any)String">+</span> <a href="#669267" title="String">suggestChange</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              // In these cases the arg is OK and needs no explanation.
              <span class="keyword">val</span> <a title="Boolean" id="669257">conforms</a> = <span class="delimiter">(</span>
                   <span class="delimiter">(</span><a href="#669253" title="TypeDiagnostics.this.global.Type">arg</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: TypeDiagnostics.this.global.Type)Boolean">=:=</a> <a href="#669254" title="TypeDiagnostics.this.global.Type">reqArg</a><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#669253" title="TypeDiagnostics.this.global.Type">arg</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: TypeDiagnostics.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#669254" title="TypeDiagnostics.this.global.Type">reqArg</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#669255" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47768" title="=&gt; Boolean">isCovariant</a><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#669254" title="TypeDiagnostics.this.global.Type">reqArg</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: TypeDiagnostics.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#669253" title="TypeDiagnostics.this.global.Type">arg</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#669255" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47766" title="=&gt; Boolean">isContravariant</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Boolean" id="669258">invariant</a> = <a href="#669255" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47874" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>

              <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#669257" title="Boolean">conforms</a><span class="delimiter">)</span>                             <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#669253" title="TypeDiagnostics.this.global.Type">arg</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: TypeDiagnostics.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#669254" title="TypeDiagnostics.this.global.Type">reqArg</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#669258" title="Boolean">invariant</a><span class="delimiter">)</span>   <a href="#669256" title="(isSubtype: Boolean)Some[String]">mkMsg</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>   // covariant relationship
              <span class="keyword">else</span> <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#669254" title="TypeDiagnostics.this.global.Type">reqArg</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: TypeDiagnostics.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#669253" title="TypeDiagnostics.this.global.Type">arg</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#669258" title="Boolean">invariant</a><span class="delimiter">)</span>   <a href="#669256" title="(isSubtype: Boolean)Some[String]">mkMsg</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  // contravariant relationship
              <span class="keyword">else</span> <span title="object None">None</span> // we assume in other cases our ham-fisted advice will merely serve to confuse
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[String]" id="669166">messages</a> = <a href="#669165" title="List[Option[String]]">relationships</a>.<a href="#669384" title="(implicit asTraversable: Option[String] =&gt; scala.collection.GenTraversableOnce[String])List[String]">flatten</a>
          // the condition verifies no type argument came back None
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669166" title="List[String]">messages</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#669157" title="List[TypeDiagnostics.this.global.Type]">foundArgs</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#669166" title="List[String]">messages</a> <span title="(p: String =&gt; Boolean)List[String]">filterNot</span> <span class="delimiter">(</span><a href="#669395" title="String">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(start: String, sep: String, end: String)String">mkString</span> <span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>    // no elaborable variance situation found
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(found: TypeDiagnostics.this.global.Type, req: TypeDiagnostics.this.global.Type)String" id="184282">foundReqMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="624563">found</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a>, <a title="TypeDiagnostics.this.global.Type" id="624564">req</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">(</span>
    <a href="#184290" title="(locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)(op: =&gt; String)String">withDisambiguation</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#624563" title="TypeDiagnostics.this.global.Type">found</a>, <a href="#624564" title="TypeDiagnostics.this.global.Type">req</a><span class="delimiter">)</span><span class="delimiter">(</span>
      <span title="String(&quot;;\n found   : &quot;)" class="string">&quot;;\n found   : &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#624563" title="TypeDiagnostics.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#42815" title="=&gt; String">toLongString</a> <span title="(x$1: Any)String">+</span> <a href="#184278" title="(tp: TypeDiagnostics.this.global.Type)String">existentialContext</a><span class="delimiter">(</span><a href="#624563" title="TypeDiagnostics.this.global.Type">found</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#184280" title="(tp: TypeDiagnostics.this.global.Type)String">explainAlias</a><span class="delimiter">(</span><a href="#624563" title="TypeDiagnostics.this.global.Type">found</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
       <span title="String(&quot;\n required: &quot;)" class="string">&quot;\n required: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#624564" title="TypeDiagnostics.this.global.Type">req</a> <span title="(x$1: Any)String">+</span> <a href="#184278" title="(tp: TypeDiagnostics.this.global.Type)String">existentialContext</a><span class="delimiter">(</span><a href="#624564" title="TypeDiagnostics.this.global.Type">req</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#184280" title="(tp: TypeDiagnostics.this.global.Type)String">explainAlias</a><span class="delimiter">(</span><a href="#624564" title="TypeDiagnostics.this.global.Type">req</a><span class="delimiter">)</span>
    <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#184281" title="(found: TypeDiagnostics.this.global.Type, req: TypeDiagnostics.this.global.Type)String">explainVariance</a><span class="delimiter">(</span><a href="#624563" title="TypeDiagnostics.this.global.Type">found</a>, <a href="#624564" title="TypeDiagnostics.this.global.Type">req</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  case <span class="keyword">class</span> <a title="class TypeDiag extends Object with Ordered[TypeDiagnostics.this.TypeDiag] with ScalaObject with Product with Serializable" id="670420">TypeDiag</a><a href="#670420" title="ScalaObject" class="delimiter">(</a><a title="TypeDiagnostics.this.global.Type" id="669855">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="TypeDiagnostics.this.global.Type">Type</a>, <a title="TypeDiagnostics.this.global.Symbol" id="669856">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="Ordered[TypeDiagnostics.this.TypeDiag]">Ordered</span><span class="delimiter">[</span>TypeDiag<span class="delimiter">]</span> <span class="delimiter">{</span>
    // save the name because it will be mutated until it has been
    // distinguished from the other types in the same error message
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Name" id="669417">savedName</a> = <a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a>
    <span class="keyword">def</span> <a title="()Unit" id="669419">restoreName</a><span class="delimiter">(</span><span class="delimiter">)</span>     = <a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47884" title="(name: TypeDiagnostics.this.global.Name)Unit">name</a> = <a href="#669417" title="=&gt; TypeDiagnostics.this.global.Name">savedName</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="669420">isAltered</a>         = <a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#669417" title="=&gt; TypeDiagnostics.this.global.Name">savedName</a>
    <span class="keyword">def</span> <a title="(f: String =&gt; String)Unit" id="669421">modifyName</a><span class="delimiter">(</span><a title="String =&gt; String" id="669452">f</a>: String =&gt; String<span class="delimiter">)</span> =
      <a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47884" title="(name: TypeDiagnostics.this.global.Name)Unit">name</a> = <a href="../../../reflect/internal/Names.scala.html#39671" title="(s: String)TypeDiagnostics.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><a href="#669452" title="(v1: String)String">f</a><span class="delimiter">(</span><a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Prepend java.lang, scala., or Predef. if this type originated
     *  in one of those.
     */
    <span class="keyword">def</span> <a title="()Unit" id="669422">qualifyDefaultNamespaces</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]" id="669463">intersect</a> = <span title="(elems: TypeDiagnostics.this.global.Symbol*)scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="#669427" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a>, <a href="#669428" title="=&gt; TypeDiagnostics.this.global.Symbol">aliasOwner</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenSet[TypeDiagnostics.this.global.Symbol])scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]">intersect</span> <a href="../../../reflect/internal/Definitions.scala.html#46331" title="=&gt; scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]">UnqualifiedOwners</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669463" title="scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]">intersect</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#669423" title="()Unit">preQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // functions to manipulate the name
    <span class="keyword">def</span> <a title="()Unit" id="669423">preQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>   = <a href="#669421" title="(f: String =&gt; String)Unit">modifyName</a><span class="delimiter">(</span><a href="#669427" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669477" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="()Unit" id="669424">postQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>  = <a href="#669421" title="(f: String =&gt; String)Unit">modifyName</a><span class="delimiter">(</span><a href="#669484" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(in &quot;)" class="string">&quot;(in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669427" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="()Unit" id="669425">typeQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>  = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <a href="#669424" title="()Unit">postQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="()Unit" id="669426">nameQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>  = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669427" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#669423" title="()Unit">preQualify</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#669424" title="()Unit">postQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; TypeDiagnostics.this.global.Symbol" id="669427">trueOwner</a>  = <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47825" title="=&gt; TypeDiagnostics.this.global.Symbol">effectiveOwner</a>
    <span class="keyword">def</span> <a title="=&gt; TypeDiagnostics.this.global.Symbol" id="669428">aliasOwner</a> = <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42730" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbolDirect</a>.<a href="../../../reflect/internal/Symbols.scala.html#47825" title="=&gt; TypeDiagnostics.this.global.Symbol">effectiveOwner</a>

    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Boolean" id="669429">sym_==</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="669489">other</a>: <a href="#670420" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span>     = <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#669489" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>
    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Boolean" id="669430">owner_==</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="669497">other</a>: <a href="#670420" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span>   = <a href="#669427" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#669497" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#669427" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a>
    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Boolean" id="669431">string_==</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="669505">other</a>: <a href="#670420" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span>  = <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42813" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#669505" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42813" title="()String">toString</a>
    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Boolean" id="669432">name_==</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="669513">other</a>: <a href="#670420" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span>    = <a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#669513" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a>

    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Int" id="669433">compare</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="669521">other</a>: <a href="#670420" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span> =
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#670420" title="TypeDiag.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#669521" title="TypeDiagnostics.this.TypeDiag">other</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47961" title="(that: TypeDiagnostics.this.global.Symbol)Boolean">isLess</a> <a href="#669521" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#669856" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="669434">toString</a> = <span class="delimiter">{</span>
      <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;
      |tp = %s
      |tp.typeSymbol = %s
      |tp.typeSymbol.owner = %s
      |tp.typeSymbolDirect = %s
      |tp.typeSymbolDirect.owner = %s
      &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
        <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>, <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>, <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>, <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42730" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbolDirect</a>, <a href="#669855" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42730" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbolDirect</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)List[TypeDiagnostics.this.TypeDiag]" id="184286">typeDiags</a><span class="delimiter">(</span><a title="List[TypeDiagnostics.this.global.Symbol]" id="669585">locals</a>: <span title="List[TypeDiagnostics.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="TypeDiagnostics.this.global.Type*" id="669586">types</a>: <span title="TypeDiagnostics.this.global.Type*">Type</span>*<span class="delimiter">)</span>: <span title="List[TypeDiagnostics.this.TypeDiag]">List</span><span class="delimiter">[</span>TypeDiag<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">object</span> <a title="object SymExtractor" id="669588">SymExtractor</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: Any)Option[(TypeDiagnostics.this.global.Type with Product with Serializable, TypeDiagnostics.this.global.Symbol)]" id="669591">unapply</a><span class="delimiter">(</span><a title="Any" id="669593">x</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#669593" title="Any">x</a> <span title="Option[(TypeDiagnostics.this.global.Type with Product with Serializable, TypeDiagnostics.this.global.Symbol)]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Some[(TypeDiagnostics.this.global.ConstantType, TypeDiagnostics.this.global.Symbol)]" id="669596">t</a> @ ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span>    =&gt; <span title="(x: (TypeDiagnostics.this.global.ConstantType, TypeDiagnostics.this.global.Symbol))Some[(TypeDiagnostics.this.global.ConstantType, TypeDiagnostics.this.global.Symbol)]">Some</span><span class="delimiter">(</span><a href="#669596" title="(x: TypeDiagnostics.this.global.ConstantType)ArrowAssoc[TypeDiagnostics.this.global.ConstantType]">t</a> <span title="(y: TypeDiagnostics.this.global.Symbol)(TypeDiagnostics.this.global.ConstantType, TypeDiagnostics.this.global.Symbol)">-&gt;</span> <a href="#669596" title="TypeDiagnostics.this.global.ConstantType">t</a>.<a href="../../../reflect/internal/Types.scala.html#83611" title="=&gt; TypeDiagnostics.this.global.Type">underlying</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Option[(TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol)]" id="669618">t</a> @ TypeRef<span class="delimiter">(</span>_, <a title="TypeDiagnostics.this.global.Symbol" id="669622">sym</a>, _<span class="delimiter">)</span> =&gt; <span title="Option[(TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#669585" title="List[TypeDiagnostics.this.global.Symbol]">locals</a> <span title="(elem: Any)Boolean">contains</span> <a href="#669622" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="object None">None</span> <span class="keyword">else</span> <span title="(x: (TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol))Some[(TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol)]">Some</span><span class="delimiter">(</span><a href="#669618" title="(x: TypeDiagnostics.this.global.TypeRef)ArrowAssoc[TypeDiagnostics.this.global.TypeRef]">t</a> <span title="(y: TypeDiagnostics.this.global.Symbol)(TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol)">-&gt;</span> <a href="#669622" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span>                      =&gt; <span title="object None">None</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">for</span> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="669821">tp</a> &lt;- <a href="#669586" title="TypeDiagnostics.this.global.Type*">types</a>.<span title="(f: TypeDiagnostics.this.global.Type =&gt; scala.collection.GenTraversableOnce[TypeDiagnostics.this.TypeDiag])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.TypeDiag,List[TypeDiagnostics.this.TypeDiag]])List[TypeDiagnostics.this.TypeDiag]">toList</span>; <a href="#669591" title="(x: Any)Option[(TypeDiagnostics.this.global.Type with Product with Serializable, TypeDiagnostics.this.global.Symbol)]">SymExtractor</a><span class="delimiter">(</span><a title="TypeDiagnostics extends TypeDiagnostics.this.global.Type with Product with Serializable" id="669849">t</a>, <a title="TypeDiagnostics.this.global.Symbol" id="669850">sym</a><span class="delimiter">)</span> &lt;- <a href="../../../reflect/internal/Types.scala.html#42787" title="(f: TypeDiagnostics.this.global.Type =&gt; TypeDiagnostics.this.TypeDiag)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.TypeDiag,List[TypeDiagnostics.this.TypeDiag]])List[TypeDiagnostics.this.TypeDiag]">tp</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#670420" title="(tp: TypeDiagnostics.this.global.Type, sym: TypeDiagnostics.this.global.Symbol)TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">(</span><a href="#669849" title="TypeDiagnostics extends TypeDiagnostics.this.global.Type with Product with Serializable">t</a>, <a href="#669850" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** The distinct pairs from an ordered list. */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T &lt;: Ordered[T]](xs: Seq[T])Seq[(T, T)]" id="184287">pairs</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Ordered[T]" id="184289">T</a> &lt;: Ordered<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[T]" id="669927">xs</a>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[(T, T)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>T, T<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="T" id="669946">el1</a> &lt;- <a href="#669927" title="(f: T =&gt; scala.collection.GenTraversableOnce[(T, T)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],(T, T),Seq[(T, T)]])Seq[(T, T)]">xs</a> ; <a title="T" id="669960">el2</a> &lt;- <a href="#669927" title="(f: T =&gt; (T, T))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],(T, T),Seq[(T, T)]])Seq[(T, T)]">xs</a> ; <span class="keyword">if</span> <a href="#669946" title="T">el1</a> <span title="(that: T)Boolean">&lt;</span> <a href="#669960" title="T">el2</a><span class="delimiter">)</span> <span class="keyword">yield</span>
      <span class="delimiter">(</span><span title="(_1: T, _2: T)(T, T)" class="delimiter">(</span><a href="#669946" title="T">el1</a>, <a href="#669960" title="T">el2</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Given any number of types, alters the name information in the symbols
   *  until they can be distinguished from one another: then executes the given
   *  code.  The names are restored and the result is returned.
   */
  <span class="keyword">def</span> <a title="[T](locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)(op: =&gt; T)T" id="184290">withDisambiguation</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="184292">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[TypeDiagnostics.this.global.Symbol]" id="625618">locals</a>: <span title="List[TypeDiagnostics.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="TypeDiagnostics.this.global.Type*" id="625619">types</a>: <span title="TypeDiagnostics.this.global.Type*">Type</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="625620">op</a>: =&gt; T<span class="delimiter">)</span>: <a href="#184292" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.TypeDiag]" id="670014">typeRefs</a> = <a href="#184286" title="(locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)List[TypeDiagnostics.this.TypeDiag]">typeDiags</a><span class="delimiter">(</span><a href="#625618" title="List[TypeDiagnostics.this.global.Symbol]">locals</a>, <a href="#625619" title="TypeDiagnostics.this.global.Type*">types</a>: _*<span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Seq[(TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)]" id="670015">toCheck</a>  = <a href="#184287" title="(xs: Seq[TypeDiagnostics.this.TypeDiag])Seq[(TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)]">pairs</a><span class="delimiter">(</span><a href="#670014" title="List[TypeDiagnostics.this.TypeDiag]">typeRefs</a><span class="delimiter">)</span> <span title="(p: ((TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)) =&gt; Boolean)Seq[(TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)]">filterNot</span> <a href="#670037" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="670040">td1</a>, <a title="TypeDiagnostics.this.TypeDiag" id="670041">td2</a><span class="delimiter">)</span> =&gt; <a href="#670040" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#669429" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">sym_==</a> <a href="#670041" title="TypeDiagnostics.this.TypeDiag">td2</a> <span class="delimiter">}</span>

    <span title="(body: =&gt; Unit)util.control.Exception.Catch[Nothing]">ultimately</span><span title="(body: =&gt; T)T" class="delimiter">(</span><a href="#670014" title="List[TypeDiagnostics.this.TypeDiag]">typeRefs</a> <span title="(f: TypeDiagnostics.this.TypeDiag =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#670062" title="TypeDiagnostics.this.TypeDiag">_</a>.<a href="#669419" title="()Unit">restoreName</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="670097">td1</a>, <a title="TypeDiagnostics.this.TypeDiag" id="670098">td2</a><span class="delimiter">)</span> &lt;- <a href="#670015" title="(f: ((TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)) =&gt; Unit)Unit">toCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.TypeDiag]" id="670099">tds</a> = <span title="(xs: TypeDiagnostics.this.TypeDiag*)List[TypeDiagnostics.this.TypeDiag]">List</span><span class="delimiter">(</span><a href="#670097" title="TypeDiagnostics.this.TypeDiag">td1</a>, <a href="#670098" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span>

        // If the types print identically, qualify them:
        //   a) If the dealiased owner is a package, the full path
        //   b) Otherwise, append (in &lt;owner&gt;)
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670097" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#669431" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">string_==</a> <a href="#670098" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span>
          <a href="#670099" title="List[TypeDiagnostics.this.TypeDiag]">tds</a> <span title="(f: TypeDiagnostics.this.TypeDiag =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#670126" title="TypeDiagnostics.this.TypeDiag">_</a>.<a href="#669426" title="()Unit">nameQualify</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // If they have the same simple name, and either of them is in the
        // scala package or predef, qualify with scala so it is not confusing why
        // e.g. java.util.Iterator and Iterator are different types.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670097" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#669432" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">name_==</a> <a href="#670098" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span>
          <a href="#670099" title="List[TypeDiagnostics.this.TypeDiag]">tds</a> <span title="(f: TypeDiagnostics.this.TypeDiag =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#670139" title="TypeDiagnostics.this.TypeDiag">_</a>.<a href="#669422" title="()Unit">qualifyDefaultNamespaces</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // If they still print identically:
        //   a) If they are type parameters with different owners, append (in &lt;owner&gt;)
        //   b) Failing that, the best we can do is append &quot;(some other)&quot; to the latter.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670097" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#669431" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">string_==</a> <a href="#670098" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670097" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#669430" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">owner_==</a> <a href="#670098" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span>
            <a href="#670098" title="TypeDiagnostics.this.TypeDiag">td2</a>.<a href="#669421" title="(f: String =&gt; String)Unit">modifyName</a><span class="delimiter">(</span><span title="String(&quot;(some other)&quot;)" class="string">&quot;(some other)&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#670142" title="String">_</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#670099" title="List[TypeDiagnostics.this.TypeDiag]">tds</a> <span title="(f: TypeDiagnostics.this.TypeDiag =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#670154" title="TypeDiagnostics.this.TypeDiag">_</a>.<a href="#669425" title="()Unit">typeQualify</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      // performing the actual operation
      <a href="#625620" title="=&gt; T">op</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait TyperDiagnostics extends Object with ScalaObject" id="184293">TyperDiagnostics</a> <span title="ScalaObject" class="delimiter">{</span>
    self: Typer =&gt;

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit" id="184307">contextError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="670160">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="String" id="670161">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184653" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670160" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#670161" title="String">msg</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, err: Throwable)Unit" id="184308">contextError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="670173">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="Throwable" id="670174">err</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184652" title="(pos: TypeDiagnostics.this.global.Position, err: Throwable)Unit">error</a><span class="delimiter">(</span><a href="#670173" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#670174" title="Throwable">err</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit" id="184309">contextWarning</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="638325">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="String" id="638326">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; TypeDiagnostics.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#638325" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#638326" title="String">msg</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, hidden: TypeDiagnostics.this.global.Name, defn: TypeDiagnostics.this.global.Symbol)Unit" id="184310">permanentlyHiddenWarning</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="638320">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.Name" id="638321">hidden</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="TypeDiagnostics.this.global.Name">Name</a>, <a title="TypeDiagnostics.this.global.Symbol" id="638322">defn</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#184309" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">contextWarning</a><span class="delimiter">(</span><a href="#638320" title="TypeDiagnostics.this.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;imported `%s' is permanently hidden by definition of %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#638321" title="TypeDiagnostics.this.global.Name">hidden</a>, <a href="#638322" title="TypeDiagnostics.this.global.Symbol">defn</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">object</span> <a title="object TyperDiagnostics.this.checkDead" id="184311">checkDead</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="TypeDiagnostics.this.global.Symbol" id="670184">expr</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object TypeDiagnostics.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="670186">exprOK</a> = <a href="#670184" title="=&gt; TypeDiagnostics.this.global.Symbol">expr</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#46623" title="=&gt; TypeDiagnostics.this.global.Symbol">Object_synchronized</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)Boolean" id="670187">treeOK</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="670201">tree</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#670201" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670201" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46289" title="object TypeDiagnostics.this.global.definitions.NothingClass">NothingClass</a>

      <span class="keyword">def</span> <a title="(fn: TypeDiagnostics.this.global.Tree)Unit" id="670188">updateExpr</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="670215">fn</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670215" title="TypeDiagnostics.this.global.Tree">fn</a>.<span title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670215" title="TypeDiagnostics.this.global.Tree">fn</a>.<span title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670215" title="TypeDiagnostics.this.global.Tree">fn</a>.<span title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
          <a href="#184311" title="object TyperDiagnostics.this.checkDead">checkDead</a>.<a href="#670184" title="(x$1: TypeDiagnostics.this.global.Symbol)Unit">expr</a> = <a href="#670215" title="TypeDiagnostics.this.global.Tree">fn</a>.<span title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)TypeDiagnostics.this.global.Tree" id="670189">apply</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="670223">tree</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TypeDiagnostics.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        // Error suppression will squash some of these warnings unless we circumvent it.
        // It is presumed if you are using a -Y option you would really like to hear
        // the warnings you've requested.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#183627" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnDeadCode</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184552" title="=&gt; TypeDiagnostics.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185117" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670187" title="(tree: TypeDiagnostics.this.global.Tree)Boolean">treeOK</a><span class="delimiter">(</span><a href="#670223" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670186" title="=&gt; Boolean">exprOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="670228">saved</a> = <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184606" title="=&gt; Boolean">reportGeneralErrors</a>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184607" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184654" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#670223" title="TypeDiagnostics.this.global.Tree">tree</a>.<span title="=&gt; TypeDiagnostics.this.global.Position">pos</span>, <span title="String(&quot;dead code following this construct&quot;)" class="string">&quot;dead code following this construct&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">finally</span> <a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184607" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#670228" title="Boolean">saved</a>
        <span class="delimiter">}</span>
        <a href="#670223" title="TypeDiagnostics.this.global.Tree">tree</a>
      <span class="delimiter">}</span>

      // The checkDead call from typedArg is more selective.
      <span class="keyword">def</span> <a title="(mode: Int, tree: TypeDiagnostics.this.global.Tree)TypeDiagnostics.this.global.Tree" id="670190">inMode</a><span class="delimiter">(</span><a title="Int" id="670231">mode</a>: <span title="Int">Int</span>, <a title="TypeDiagnostics.this.global.Tree" id="670232">tree</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TypeDiagnostics.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="670234">modeOK</a> = <span class="delimiter">(</span><a href="#670231" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | BYVALmode <span title="Int(32801)">|</span> POLYmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span class="delimiter">(</span>EXPRmode <span title="Int(32769)">|</span> BYVALmode<span class="delimiter">)</span>
        <span title="TypeDiagnostics.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#670234" title="Boolean">modeOK</a><span class="delimiter">)</span> <a href="#670189" title="(tree: TypeDiagnostics.this.global.Tree)TypeDiagnostics.this.global.Tree">apply</a><span class="delimiter">(</span><a href="#670232" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#670232" title="TypeDiagnostics.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol)Boolean" id="184313">symWasOverloaded</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="670256">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#670256" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670256" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; TypeDiagnostics.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: TypeDiagnostics.this.global.Name)TypeDiagnostics.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#670256" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; TypeDiagnostics.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a>
    <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol)String" id="184314">cyclicAdjective</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="670265">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#184313" title="(sym: TypeDiagnostics.this.global.Symbol)Boolean">symWasOverloaded</a><span class="delimiter">(</span><a href="#670265" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;overloaded&quot;)" class="string">&quot;overloaded&quot;</span> <span class="keyword">else</span> <span title="String(&quot;recursive&quot;)" class="string">&quot;recursive&quot;</span>

    /** Returns Some(msg) if the given tree is untyped apparently due
     *  to a cyclic reference, and None otherwise.
     */
    <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol, tree: TypeDiagnostics.this.global.Tree)Option[String]" id="184315">cyclicReferenceMessage</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="670268">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="TypeDiagnostics.this.global.Symbol">Symbol</a>, <a title="TypeDiagnostics.this.global.Tree" id="670269">tree</a>: <span title="TypeDiagnostics.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(x: TypeDiagnostics.this.global.Tree)(pf: PartialFunction[TypeDiagnostics.this.global.Tree,String])Option[String]">condOpt</span><span class="delimiter">(</span><a href="#670269" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#670281" title="String" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="String">ValDef</span><span class="delimiter">(</span>_, _, <a title="TypeDiagnostics.this.global.Tree" id="670291">tpt</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#670291" title="TypeDiagnostics.this.global.Tree">tpt</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>        =&gt; <span title="String(&quot;recursive &quot;)" class="string">&quot;recursive &quot;</span><span title="(x$1: Any)String">+</span><a href="#670268" title="TypeDiagnostics.this.global.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot; needs type&quot;)" class="string">&quot; needs type&quot;</span>
      <span class="keyword">case</span> <span title="String">DefDef</span><span class="delimiter">(</span>_, _, _, _, <a title="TypeDiagnostics.this.global.Tree" id="670319">tpt</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#670319" title="TypeDiagnostics.this.global.Tree">tpt</a>.<span title="=&gt; TypeDiagnostics.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>  =&gt; <span title="(xs: Object*)List[Object]">List</span><span class="delimiter">(</span><a href="#184314" title="(sym: TypeDiagnostics.this.global.Symbol)String">cyclicAdjective</a><span class="delimiter">(</span><a href="#670268" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#670268" title="TypeDiagnostics.this.global.Symbol">sym</a>, <span title="String(&quot;needs result type&quot;)" class="string">&quot;needs result type&quot;</span><span class="delimiter">)</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
      <span class="keyword">case</span> <span title="String(&quot;encountered unrecoverable cycle resolving import.\nNote: this is often due in part to a class depending on a definition nested within its companion.\nIf applicable, you may wish to try moving some members into another object.&quot;)">Import</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="670349">expr</a>, <a title="List[TypeDiagnostics.this.global.ImportSelector]" id="670350">selectors</a><span class="delimiter">)</span>                        =&gt;
        <span class="delimiter">(</span> <span class="string">&quot;encountered unrecoverable cycle resolving import.&quot;</span> +
          <span class="string">&quot;\nNote: this is often due in part to a class depending on a definition nested within its companion.&quot;</span> <span title="String(&quot;encountered unrecoverable cycle resolving import.\nNote: this is often due in part to a class depending on a definition nested within its companion.\nIf applicable, you may wish to try moving some members into another object.&quot;)">+</span>
          <span class="string">&quot;\nIf applicable, you may wish to try moving some members into another object.&quot;</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Report a type error.
     *
     *  @param pos0   The position where to report the error
     *  @param ex     The exception that caused the error
     */
    <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, ex: TypeDiagnostics.this.global.TypeError)Unit" id="184316">reportTypeError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="637491">pos</a>: <a href="../util/Position.scala.html#34604" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.TypeError" id="637492">ex</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="TypeDiagnostics.this.global.TypeError">TypeError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67269" title="=&gt; TypeDiagnostics.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67270" title="(x$1: TypeDiagnostics.this.global.Position)Unit">pos</a> = <a href="#637491" title="TypeDiagnostics.this.global.Position">pos</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Typers.scala.html#184331" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#184606" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">CyclicReference</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="670367">sym</a>, <a title="TypeDiagnostics.this.TypeCompleter" id="670368">info</a>: <a href="Namers.scala.html#183985" title="TypeDiagnostics.this.TypeCompleter">TypeCompleter</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Position" id="670369">pos</a> = <a href="#670368" title="TypeDiagnostics.this.TypeCompleter">info</a>.<a href="Namers.scala.html#625834" title="=&gt; TypeDiagnostics.this.global.Tree">tree</a> <span title="TypeDiagnostics.this.global.Position" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="TypeDiagnostics.this.global.Position">Import</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="670372">expr</a>, _<span class="delimiter">)</span>  =&gt; <a href="#670372" title="TypeDiagnostics.this.global.Tree">expr</a>.<span title="=&gt; TypeDiagnostics.this.global.Position">pos</span>
            <span class="keyword">case</span> <span title="TypeDiagnostics.this.global.Position">_</span>                =&gt; <a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67269" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>
          <span class="delimiter">}</span>
          <a href="#184307" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">contextError</a><span class="delimiter">(</span><a href="#670369" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#184315" title="(sym: TypeDiagnostics.this.global.Symbol, tree: TypeDiagnostics.this.global.Tree)Option[String]">cyclicReferenceMessage</a><span class="delimiter">(</span><a href="#670367" title="TypeDiagnostics.this.global.Symbol">sym</a>, <a href="#670368" title="TypeDiagnostics.this.TypeCompleter">info</a>.<a href="Namers.scala.html#625834" title="=&gt; TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(default: =&gt; String)String">getOrElse</span> <a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670367" title="TypeDiagnostics.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; TypeDiagnostics.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">throw</span> <span title="scala.reflect.internal.FatalError" class="keyword">new</span> <a href="../package.scala.html#36220" title="scala.reflect.internal.FatalError">FatalError</a><span class="delimiter">(</span><span title="String(&quot;cannot redefine root &quot;)" class="string">&quot;cannot redefine root &quot;</span><span title="(x$1: Any)String">+</span><a href="#670367" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <a href="#184308" title="(pos: TypeDiagnostics.this.global.Position, err: Throwable)Unit">contextError</a><span class="delimiter">(</span><a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a>.<a href="../../../reflect/internal/Types.scala.html#67269" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>, <a href="#637492" title="TypeDiagnostics.this.global.TypeError">ex</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>