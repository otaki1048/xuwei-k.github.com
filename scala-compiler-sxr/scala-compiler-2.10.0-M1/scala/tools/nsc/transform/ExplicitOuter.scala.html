<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/ExplicitOuter.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>.<span class="delimiter">{</span> CASE =&gt; _, _ <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> matching.<span class="delimiter">{</span> Patterns, ParallelMatching <span class="delimiter">}</span>

/** This class ...
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ExplicitOuter extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.matching.Patterns with scala.tools.nsc.matching.ParallelMatching with scala.tools.nsc.transform.TypingTransformers with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="29562">ExplicitOuter</a> <a href="#29562" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#29973" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a>
      <span class="keyword">with</span> <a href="../matching/Patterns.scala.html#26165" title="scala.tools.nsc.matching.Patterns">Patterns</a>
      <span class="keyword">with</span> <a href="../matching/ParallelMatching.scala.html#26630" title="scala.tools.nsc.matching.ParallelMatching">ParallelMatching</a>
      <span class="keyword">with</span> <a href="TypingTransformers.scala.html#29733" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a>
      <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#13777" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
<span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#238437" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object ExplicitOuter.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#184073" title="object ExplicitOuter.this.CODE">CODE</a>._
  <span class="keyword">import</span> <a href="../matching/MatchSupport.scala.html#238867" title="object ExplicitOuter.this.Debug">Debug</a>.TRACE

  /** The following flags may be set by this phase: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="238714">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../../../reflect/internal/Flags.scala.html#39824" title="=&gt; Long">notPROTECTED</a>

  /** the name of the phase: */
  <span class="keyword">val</span> <a title="String" id="238715">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;explicitouter&quot;)" class="string">&quot;explicitouter&quot;</span>

  /** This class does not change linearization */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="238717">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: ExplicitOuter.this.global.CompilationUnit)ExplicitOuter.this.global.Transformer" id="238718">newTransformer</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.CompilationUnit" id="588425">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#183129" title="ExplicitOuter.this.global.Transformer">Transformer</a> =
    <span title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">new</span> <a href="#238732" title="ExplicitOuter.this.ExplicitOuterTransformer">ExplicitOuterTransformer</a><span class="delimiter">(</span><a href="#588425" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  /** Is given clazz an inner class? */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)Boolean" id="238719">isInner</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="588449">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <span title="=&gt; Boolean">!</span><a href="#588449" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#588449" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47987" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47860" title="=&gt; Boolean">isStaticOwner</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(parent: ExplicitOuter.this.global.Type, clazz: ExplicitOuter.this.global.Symbol)Boolean" id="238720">haveSameOuter</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="588452">parent</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="ExplicitOuter.this.global.Type">Type</a>, <a title="ExplicitOuter.this.global.Symbol" id="588453">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#588452" title="ExplicitOuter.this.global.Type">parent</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="588459">pre</a>, <a title="ExplicitOuter.this.global.Symbol" id="588460">sym</a>, _<span class="delimiter">)</span>   =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588461">owner</a> = <a href="#588453" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>

      <a href="#588460" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#588461" title="ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#588461" title="ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#588460" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#588461" title="ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: ExplicitOuter.this.global.Type)Boolean">=:=</a> <a href="#588459" title="ExplicitOuter.this.global.Type">pre</a>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                      =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  /** Does given clazz define an outer field? */
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)Boolean" id="238721">hasOuterField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="588470">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Type]" id="588473">parents</a> = <a href="#588470" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[ExplicitOuter.this.global.Type]">parents</a>

    <a href="#238719" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#588470" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#588470" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
      <a href="#588473" title="List[ExplicitOuter.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#238720" title="(parent: ExplicitOuter.this.global.Type, clazz: ExplicitOuter.this.global.Symbol)Boolean">haveSameOuter</a><span class="delimiter">(</span><a href="#588473" title="List[ExplicitOuter.this.global.Type]">parents</a>.<span title="=&gt; ExplicitOuter.this.global.Type">head</span>, <a href="#588470" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol" id="238722">outerField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="588474">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588476">result</a> = <a href="#588474" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60031" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_LOCAL</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#588476" title="ExplicitOuter.this.global.Symbol">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;no outer field in &quot;)" class="string">&quot;no outer field in &quot;</span><span title="(x$1: Any)String">+</span><a href="#588474" title="ExplicitOuter.this.global.Symbol">clazz</a><span title="(x$1: Any)String">+</span><span title="String(&quot; at &quot;)" class="string">&quot; at &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>

    <a href="#588476" title="ExplicitOuter.this.global.Symbol">result</a>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermName" id="238723">innerClassConstructorParamName</a>: <a href="../../../reflect/internal/Names.scala.html#39685" title="ExplicitOuter.this.global.TermName">TermName</a> = <a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)ExplicitOuter.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;arg&quot;)" class="string">&quot;arg&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60029" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class RemoveBindingsTransformer extends ExplicitOuter.this.global.Transformer with ScalaObject" id="238725">RemoveBindingsTransformer</a><a href="#238725" title="ScalaObject" class="delimiter">(</a><a title="Set[ExplicitOuter.this.global.Symbol]" id="588508">toRemove</a>: <span title="Set[ExplicitOuter.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#183129" title="ExplicitOuter.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="588505">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="588509">tree</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#588509" title="ExplicitOuter.this.global.Tree">tree</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Bind</span><span class="delimiter">(</span>_, <a title="ExplicitOuter.this.global.Tree" id="588519">body</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#588508" title="(elem: ExplicitOuter.this.global.Symbol)Boolean">toRemove</a><span class="delimiter">(</span><a href="#588509" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
        <a href="../matching/MatchSupport.scala.html#528045" title="(f: String, xs: Any*)Unit">TRACE</a><span class="delimiter">(</span><span title="String(&quot;Dropping unused binding: &quot;)" class="string">&quot;Dropping unused binding: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#588509" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span><span class="delimiter">)</span>
        <a href="#238725" title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">super</a>.<span title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#588519" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span>                                      =&gt; <a href="#238725" title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">super</a>.<span title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#588509" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Issue a migration warning for instance checks which might be on an Array and
   *  for which the type parameter conforms to Seq, because these answers changed in 2.8.
   */
  <span class="keyword">def</span> <a title="(lhs: ExplicitOuter.this.global.Type, rhs: ExplicitOuter.this.global.Type)Boolean" id="238726">isArraySeqTest</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="588543">lhs</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="ExplicitOuter.this.global.Type">Type</a>, <a title="ExplicitOuter.this.global.Type" id="588544">rhs</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; ExplicitOuter.this.global.Symbol">ArrayClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: ExplicitOuter.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#588543" title="ExplicitOuter.this.global.Type">lhs</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; ExplicitOuter.this.global.Type">widen</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#588544" title="ExplicitOuter.this.global.Type">rhs</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; ExplicitOuter.this.global.Type">widen</a> <a href="../../../reflect/internal/Types.scala.html#42796" title="(that: ExplicitOuter.this.global.Type)Boolean">matchesPattern</a> <a href="../../../reflect/internal/Definitions.scala.html#46420" title="=&gt; ExplicitOuter.this.global.Symbol">SeqClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol" id="238727">outerAccessor</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="538719">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588552">firstTry</a> = <a href="#538719" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60415" title="(name: ExplicitOuter.this.global.TermName, base: ExplicitOuter.this.global.Symbol, separator: String)ExplicitOuter.this.global.TermName">expandedName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60029" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#538719" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="ExplicitOuter.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#588552" title="ExplicitOuter.this.global.Symbol">firstTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#588552" title="ExplicitOuter.this.global.Symbol">firstTry</a>.<a href="../../../reflect/internal/Symbols.scala.html#47992" title="=&gt; ExplicitOuter.this.global.Symbol">outerSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#538719" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#588552" title="ExplicitOuter.this.global.Symbol">firstTry</a>
    <span class="keyword">else</span> <a href="#538719" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; ExplicitOuter.this.global.Scope">decls</a> <span title="(p: ExplicitOuter.this.global.Symbol =&gt; Boolean)Option[ExplicitOuter.this.global.Symbol]">find</span> <span class="delimiter">(</span><a href="#588575" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47992" title="=&gt; ExplicitOuter.this.global.Symbol">outerSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#538719" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(default: =&gt; ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">getOrElse</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
   <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.MethodSymbol" id="238728">newOuterAccessor</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="588586">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="588589">accFlags</a> = SYNTHETIC | METHOD <span title="Int(6291520)">|</span> STABLE <span title="(x: Int)Int">|</span> <span class="delimiter">(</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#588586" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span title="Int(16)">DEFERRED</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span> <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="588590">sym</a>      = <a href="#588586" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47717" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethodSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60029" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#588586" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="#588589" title="=&gt; Long">accFlags</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="588591">restpe</a>   = <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#588586" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#588586" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47987" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#588586" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47987" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
    
    <a href="#588590" title="ExplicitOuter.this.global.MethodSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#48028" title="(base: ExplicitOuter.this.global.Symbol)Unit">expandName</a> <a href="#588586" title="ExplicitOuter.this.global.Symbol">clazz</a>
    <a href="#588590" title="ExplicitOuter.this.global.MethodSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#71240" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">referenced</a> = <a href="#588586" title="ExplicitOuter.this.global.Symbol">clazz</a>
    <a href="#588590" title="ExplicitOuter.this.global.MethodSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: ExplicitOuter.this.global.Type)sym.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#588591" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.TermSymbol" id="238729">newOuterField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="588619">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="588622">accFlags</a> = SYNTHETIC <span title="Int(538968064)">|</span> PARAMACCESSOR <span title="(x: Long)Long">|</span> <span class="delimiter">(</span> <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#588619" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Flags.scala.html#39743" title="=&gt; Long">PrivateLocal</a> <span class="keyword">else</span> <span title="Long(1L)">PROTECTED</span> <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="588623">sym</a>      = <a href="#588619" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47698" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60031" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_LOCAL</a>, <a href="#588619" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="#588622" title="Long">accFlags</a><span class="delimiter">)</span>

    <a href="#588623" title="ExplicitOuter.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: ExplicitOuter.this.global.Type)sym.type">setInfo</a> <a href="#588619" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47987" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
  <span class="delimiter">}</span>

  /** &lt;p&gt;
   *    The type transformation method:
   *  &lt;/p&gt;
   *  &lt;ol&gt;
   *    &lt;li&gt;
   *      Add an outer parameter to the formal parameters of a constructor
   *      in a inner non-trait class;
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Add a protected $outer field to an inner class which is
   *      not a trait.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      &lt;p&gt;
   *        Add an outer accessor $outer$$C to every inner class
   *        with fully qualified name C that is not an interface.
   *        The outer accessor is abstract for traits, concrete for other
   *        classes.
   *      &lt;/p&gt;
   *      &lt;p&gt;
   *        3a. Also add overriding accessor defs to every class that inherits
   *        mixin classes with outer accessor defs (unless the superclass
   *        already inherits the same mixin).
   *      &lt;/p&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Make all super accessors and modules in traits non-private, mangling
   *      their names.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Remove protected flag from all members of traits.
   *    &lt;/li&gt;
   *  &lt;/ol&gt;
   *  Note: this transformInfo need not be reflected as the JVM reflection already
   *  elides outer pointers.
   */
  <span class="keyword">def</span> <a title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type" id="238730">transformInfo</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="588644">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="ExplicitOuter.this.global.Type" id="588645">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="ExplicitOuter.this.global.Type">Type</a> = <a href="#588645" title="ExplicitOuter.this.global.Type">tp</a> <span title="ExplicitOuter.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">MethodType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="588651">params</a>, <a title="ExplicitOuter.this.global.Type" id="588652">restpe1</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="588653">restpe</a> = <a href="#238730" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>, <a href="#588652" title="ExplicitOuter.this.global.Type">restpe1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 5
        <a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48027" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47907" title="(flag: Int)Any">setNotFlag</a> <span title="Int(1)">PROTECTED</span> // 6
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238719" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 1
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="588661">p</a> = <a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47700" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="#238723" title="=&gt; ExplicitOuter.this.global.TermName">innerClassConstructorParamName</a>, <a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span>
                   .<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47987" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; ExplicitOuter.this.global.Type">thisType</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#588661" title="ExplicitOuter.this.global.TermSymbol">p</a> <a href="#588669" title="(x: ExplicitOuter.this.global.Symbol)List[ExplicitOuter.this.global.Symbol]">::</a> <a href="#588651" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="#588653" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#588653" title="ExplicitOuter.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#588652" title="ExplicitOuter.this.global.Type">restpe1</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#588651" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="#588653" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#588645" title="ExplicitOuter.this.global.Type">tp</a>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Type]" id="588678">parents</a>, <a title="ExplicitOuter.this.global.Scope" id="588679">decls</a>, <a title="ExplicitOuter.this.global.Symbol" id="588680">clazz</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Scope" id="588681">decls1</a> = <a href="#588679" title="ExplicitOuter.this.global.Scope">decls</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#238719" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48087" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#588681" title="ExplicitOuter.this.global.Scope">decls1</a> = <a href="#588679" title="ExplicitOuter.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61747" title="=&gt; ExplicitOuter.this.global.Scope">cloneScope</a>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="588682">outerAcc</a> = <a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47702" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60029" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> // 3
        <a href="#588682" title="ExplicitOuter.this.global.MethodSymbol">outerAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#48028" title="(base: ExplicitOuter.this.global.Symbol)Unit">expandName</a> <a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a>
        
        <a href="#588681" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <a href="#238728" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.MethodSymbol">newOuterAccessor</a><span class="delimiter">(</span><a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#238721" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasOuterField</a><span class="delimiter">(</span><a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> //2
          <a href="#588681" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <a href="#238729" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.TermSymbol">newOuterField</a><span class="delimiter">(</span><a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#588678" title="List[ExplicitOuter.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="588727">mc</a> &lt;- <a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47995" title="(f: ExplicitOuter.this.global.Symbol =&gt; Any)Unit">mixinClasses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588728">mixinOuterAcc</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#238727" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#588727" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#588728" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588681" title="ExplicitOuter.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#588679" title="ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span> <a href="#588681" title="ExplicitOuter.this.global.Scope">decls1</a> = <a href="#588679" title="ExplicitOuter.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61747" title="=&gt; ExplicitOuter.this.global.Scope">cloneScope</a>
            <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588739">newAcc</a> = <a href="#588728" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47972" title="(owner: ExplicitOuter.this.global.Symbol, newFlags: Long)ExplicitOuter.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a>, <a href="#588728" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(16)">DEFERRED</span><span class="delimiter">)</span>
            <a href="#588739" title="ExplicitOuter.this.global.Symbol">newAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: ExplicitOuter.this.global.Type)newAcc.type">setInfo</a> <span class="delimiter">(</span><a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Type">memberType</a> <a href="#588728" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a><span class="delimiter">)</span>
            <a href="#588681" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <a href="#588739" title="ExplicitOuter.this.global.Symbol">newAcc</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#588681" title="ExplicitOuter.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#588679" title="ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span> <a href="#588645" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#71108" title="(parents: List[ExplicitOuter.this.global.Type], decls: ExplicitOuter.this.global.Scope, typeSymbol: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#588678" title="List[ExplicitOuter.this.global.Type]">parents</a>, <a href="#588681" title="ExplicitOuter.this.global.Scope">decls1</a>, <a href="#588680" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="588767">tparams</a>, <a title="ExplicitOuter.this.global.Type" id="588768">restp</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="588769">restp1</a> = <a href="#238730" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>, <a href="#588768" title="ExplicitOuter.this.global.Type">restp</a><span class="delimiter">)</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#588768" title="ExplicitOuter.this.global.Type">restp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#588769" title="ExplicitOuter.this.global.Type">restp1</a><span class="delimiter">)</span> <a href="#588645" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#67004" title="(typeParams: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#588767" title="List[ExplicitOuter.this.global.Symbol]">tparams</a>, <a href="#588769" title="ExplicitOuter.this.global.Type">restp1</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">_</span> =&gt;
      // Local fields of traits need to be unconditionally unprivatized.
      // Reason: Those fields might need to be unprivatized if referenced by an inner class.
      // On the other hand, mixing in the trait into a separately compiled
      // class needs to have a common naming scheme, independently of whether
      // the field was accessed from an inner class or not. See #2946
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48107" title="=&gt; Boolean">hasLocalFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#48009" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48027" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#588644" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#588645" title="ExplicitOuter.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  /** A base class for transformers that maintain outerParam
   *  values for outer parameters of constructors.
   *  The class provides methods for referencing via outer.
   */
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OuterPathTransformer extends ExplicitOuter.this.TypingTransformer with ScalaObject" id="238731">OuterPathTransformer</a><a href="#238731" title="ScalaObject" class="delimiter">(</a><a title="ExplicitOuter.this.global.CompilationUnit" id="588784">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypingTransformers.scala.html#238439" title="ExplicitOuter.this.TypingTransformer">TypingTransformer</a><span class="delimiter">(</span><a href="#588784" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    /** The directly enclosing outer parameter, if we are in a constructor */
    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Symbol" id="588432">outerParam</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>

    /** The first outer selection from currently transformed tree.
     *  The result is typed but not positioned.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="588434">outerValue</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span> =
      <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#588432" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#241248" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#588432" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#588435" title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">outerSelect</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241247" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">THIS</a><span class="delimiter">(</span><a href="#238731" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Select and apply outer accessor from 'base'
     *  The result is typed but not positioned.
     *  If the outer access is from current class and current class is final
     *  take outer field instead of accessor
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="588435">outerSelect</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="588794">base</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588797">outerAcc</a> = <a href="#238727" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#588794" title="ExplicitOuter.this.global.Tree">base</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#48009" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588798">currentClass</a> = <a href="#238731" title="OuterPathTransformer.this.type" class="keyword">this</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</span> //todo: !!! if this line is removed, we get a build failure that protected$currentClass need an override modifier
      // outerFld is the $outer field of the current class, if the reference can
      // use it (i.e. reference is allowed to be of the form this.$outer),
      // otherwise it is NoSymbol
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588799">outerFld</a> =
        <span title="ExplicitOuter.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#588797" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#588798" title="ExplicitOuter.this.global.Symbol">currentClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#588794" title="ExplicitOuter.this.global.Tree">base</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: ExplicitOuter.this.global.Type)Boolean">=:=</a> <a href="#588798" title="ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#588797" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47861" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span>
          <a href="#238722" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#588798" title="ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47969" title="(cond: ExplicitOuter.this.global.Symbol =&gt; Boolean)ExplicitOuter.this.global.Symbol">suchThat</a> <span class="delimiter">(</span><a href="#588813" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#588798" title="ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">val</span> <a title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable" id="588800">path</a> =
        <span title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#588799" title="ExplicitOuter.this.global.Symbol">outerFld</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#238437" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#588794" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#588799" title="ExplicitOuter.this.global.Symbol">outerFld</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="TypingTransformers.scala.html#238437" title="(fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#588794" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#588797" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#586823" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <a href="#588800" title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable">path</a>
    <span class="delimiter">}</span>

    /** The path
     *  &lt;blockquote&gt;&lt;pre&gt;`base'.$outer$$C1 ... .$outer$$Cn&lt;/pre&gt;&lt;/blockquote&gt;
     *  which refers to the outer instance of class to of
     *  value base. The result is typed but not positioned.
     *
     *  @param base ...
     *  @param from ...
     *  @param to   ...
     *  @return     ...
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree" id="588436">outerPath</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="588912">base</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span>, <a title="ExplicitOuter.this.global.Symbol" id="588913">from</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="ExplicitOuter.this.global.Symbol" id="588914">to</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      //Console.println(&quot;outerPath from &quot;+from+&quot; to &quot;+to+&quot; at &quot;+base+&quot;:&quot;+base.tpe)
      //assert(base.tpe.widen.baseType(from.toInterface) != NoType, &quot;&quot;+base.tpe.widen+&quot; &quot;+from.toInterface)//DEBUG
      <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#588913" title="ExplicitOuter.this.global.Symbol">from</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#588914" title="ExplicitOuter.this.global.Symbol">to</a> <span title="(x: Boolean)Boolean">||</span> <a href="#588913" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#588913" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#48009" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#588914" title="ExplicitOuter.this.global.Symbol">to</a><span class="delimiter">)</span> <a href="#588912" title="ExplicitOuter.this.global.Tree">base</a>
      <span class="keyword">else</span> <a href="#588436" title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#588435" title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">outerSelect</a><span class="delimiter">(</span><a href="#588912" title="ExplicitOuter.this.global.Tree">base</a><span class="delimiter">)</span>, <a href="#588913" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#47987" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>, <a href="#588914" title="ExplicitOuter.this.global.Symbol">to</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="588437">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="588925">tree</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="588930">savedOuterParam</a> = <a href="#588432" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#588925" title="ExplicitOuter.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Template</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#588432" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, _, <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="588965">vparamss</a>, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588925" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238719" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#588925" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#588432" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="#588965" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[ExplicitOuter.this.global.ValDef]">head</span>.<span title="=&gt; ExplicitOuter.this.global.ValDef">head</span>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#588432" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; ExplicitOuter.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#53433" title="(prefix: ExplicitOuter.this.global.Name)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60029" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#588432" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; ExplicitOuter.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#238731" title="ExplicitOuter.this.OuterPathTransformer" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#588925" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#588432" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="#588930" title="ExplicitOuter.this.global.Symbol">savedOuterParam</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** &lt;p&gt;
   *    The phase performs the following transformations on terms:
   *  &lt;/p&gt;
   *  &lt;ol&gt;
   *    &lt;li&gt; &lt;!-- 1 --&gt;
   *      &lt;p&gt;
   *        An class which is not an interface and is not static gets an outer
   *        accessor (@see outerDefs).
   *      &lt;/p&gt;
   *      &lt;p&gt;
   *        1a. A class which is not a trait gets an outer field.
   *      &lt;/p&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 4 --&gt;
   *      A constructor of a non-trait inner class gets an outer parameter.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 5 --&gt;
   *      A reference C.this where C refers to an
   *      outer class is replaced by a selection
   *      this.$outer$$C1 ... .$outer$$Cn (@see outerPath)
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 7 --&gt;
   *      A call to a constructor Q.&lt;init&gt;(args) or Q.$init$(args) where Q != this and
   *      the constructor belongs to a non-static class is augmented by an outer argument.
   *      E.g. Q.&lt;init&gt;(OUTER, args) where OUTER
   *      is the qualifier corresponding to the singleton type Q.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      A call to a constructor this.&lt;init&gt;(args) in a
   *      secondary constructor is augmented to this.&lt;init&gt;(OUTER, args)
   *      where OUTER is the last parameter of the secondary constructor.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 9 --&gt;
   *      Remove private modifier from class members M
   *      that are accessed from an inner class.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 10 --&gt;
   *      Remove protected modifier from class members M
   *      that are accessed without a super qualifier accessed from an inner
   *      class or trait.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 11 --&gt;
   *      Remove private and protected modifiers
   *      from type symbols
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 12 --&gt;
   *      Remove private modifiers from members of traits
   *    &lt;/li&gt;
   *  &lt;/ol&gt;
   *  &lt;p&gt;
   *    Note: The whole transform is run in phase explicitOuter.next.
   *  &lt;/p&gt;
   */
  <span class="keyword">class</span> <a title="class ExplicitOuterTransformer extends ExplicitOuter.this.OuterPathTransformer with ScalaObject" id="238732">ExplicitOuterTransformer</a><a href="#238732" title="ScalaObject" class="delimiter">(</a><a title="ExplicitOuter.this.global.CompilationUnit" id="588448">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238731" title="ExplicitOuter.this.OuterPathTransformer">OuterPathTransformer</a><span class="delimiter">(</span><a href="#588448" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    transformer =&gt;

    /** The definition tree of the outer accessor of current class
     */
    <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="588442">outerFieldDef</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <a href="../ast/TreeDSL.scala.html#241233" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#238722" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275367" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.ValDef">===</a> <a href="TypingTransformers.scala.html#238437" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>

    /** The definition tree of the outer accessor of current class
     */
    <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="588443">outerAccessorDef</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="589007">outerAcc</a> = <a href="#238727" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Tree" id="589008">rhs</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span> =
        <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589007" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#238437" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#241256" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ExplicitOuter.this.CODE.SelectStart)ExplicitOuter.this.global.Select">DOT</a> <a href="#238722" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>

      /** If we don't re-type the tree, we see self-type related crashes like #266.
       */
      <a href="TypingTransformers.scala.html#586823" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241230" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#589007" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275287" title="(pos: scala.tools.nsc.util.Position)ExplicitOuter.this.CODE.DefSymStart">withPos</a> <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; ExplicitOuter.this.global.Position">pos</a> <a href="../ast/TreeDSL.scala.html#275285" title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.CODE.DefSymStart">withType</a> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275367" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <a href="#589008" title="ExplicitOuter.this.global.Tree">rhs</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The definition tree of the outer accessor for class mixinClass.
     *
     *  @param mixinClass The mixin class which defines the abstract outer
     *                    accessor which is implemented by the generated one.
     *  @pre mixinClass is an inner class
     */
    <span class="keyword">def</span> <a title="(mixinClass: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree" id="588444">mixinOuterAccessorDef</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="589057">mixinClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="589059">outerAcc</a>    = <a href="#238727" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#589057" title="ExplicitOuter.this.global.Symbol">mixinClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#48014" title="(ofclazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">overridingSymbol</a> <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>
      <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Type" id="589060">mixinPrefix</a> = <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#42777" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Type">baseType</a> <a href="#589057" title="ExplicitOuter.this.global.Symbol">mixinClass</a> <a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; ExplicitOuter.this.global.Type">prefix</a>;
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#589059" title="ExplicitOuter.this.global.Symbol">outerAcc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;No outer accessor for inner mixin &quot;)" class="string">&quot;No outer accessor for inner mixin &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#589057" title="ExplicitOuter.this.global.Symbol">mixinClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
      // I added the mixinPrefix.typeArgs.nonEmpty condition to address the
      // crash in SI-4970.  I feel quite sure this can be improved.
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.gen.global.Tree" id="589061">path</a> = <span class="delimiter">(</span>
        <span title="ExplicitOuter.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589057" title="ExplicitOuter.this.global.Symbol">mixinClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <a href="../Global.scala.html#182860" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92636" title="(sym: ExplicitOuter.this.global.gen.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#589057" title="ExplicitOuter.this.global.Symbol">mixinClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; ExplicitOuter.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="ExplicitOuter.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589060" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a>.<a href="../../../reflect/internal/Types.scala.html#42741" title="=&gt; List[ExplicitOuter.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="../Global.scala.html#182860" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92636" title="(sym: ExplicitOuter.this.global.gen.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#589060" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../Global.scala.html#182860" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92625" title="(tpe: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#589060" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#586823" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241230" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#589059" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275287" title="(pos: scala.tools.nsc.util.Position)ExplicitOuter.this.CODE.DefSymStart">withPos</a> <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275367" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <span class="delimiter">{</span>
          // Need to cast for nested outer refs in presence of self-types. See ticket #3274.
          <a href="../Global.scala.html#182860" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92633" title="(tree: ExplicitOuter.this.global.gen.global.Tree, pt: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#238732" title="ExplicitOuterTransformer.this.type">transformer</a>.<a href="#588446" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#589061" title="ExplicitOuter.this.global.gen.global.Tree">path</a><span class="delimiter">)</span>, <a href="#589059" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; ExplicitOuter.this.global.Type">resultType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Match)ExplicitOuter.this.global.analyzer.global.Tree" id="588445">matchTranslation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Match" id="589110">tree</a>: <span title="ExplicitOuter.this.global.Match">Match</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Match<a href="#589114" title="(ExplicitOuter.this.global.Tree, List[ExplicitOuter.this.global.CaseDef])" class="delimiter">(</a><a href="#589113" title="ExplicitOuter.this.global.Tree" id="589114">selector</a>, <a href="#589113" title="List[ExplicitOuter.this.global.CaseDef]" id="589115">cases</a><span class="delimiter">)</span> = <a href="#589110" title="ExplicitOuter.this.global.Match">tree</a>
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Tree" id="589116">nselector</a> = <a href="#588446" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#589114" title="ExplicitOuter.this.global.Tree">selector</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(vs: List[ExplicitOuter.this.global.Symbol], guard: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree" id="589117">makeGuardDef</a><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="589147">vs</a>: <span title="List[ExplicitOuter.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ExplicitOuter.this.global.Tree" id="589148">guard</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermName" id="589149">gdname</a> = <a href="#588448" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185112" title="(prefix: String)ExplicitOuter.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;gd&quot;)" class="string">&quot;gd&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="589150">method</a> = <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47702" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#589149" title="ExplicitOuter.this.global.TermName">gdname</a>, <a href="#589110" title="ExplicitOuter.this.global.Match">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Symbol]" id="589151">params</a> = <a href="#589150" title="ExplicitOuter.this.global.MethodSymbol">method</a> <a href="../../../reflect/internal/Symbols.scala.html#47731" title="(argtypes: List[ExplicitOuter.this.global.Type])List[ExplicitOuter.this.global.Symbol]">newSyntheticValueParams</a> <a href="#589147" title="List[ExplicitOuter.this.global.Symbol]">vs</a>.<span title="(f: ExplicitOuter.this.global.Symbol =&gt; ExplicitOuter.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],ExplicitOuter.this.global.Type,List[ExplicitOuter.this.global.Type]])List[ExplicitOuter.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,ExplicitOuter.this.global.Type,List[ExplicitOuter.this.global.Type]]" class="delimiter">(</span><a href="#589176" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#589150" title="ExplicitOuter.this.global.MethodSymbol">method</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: ExplicitOuter.this.global.Type)method.type">setInfo</a> <span title="ExplicitOuter.this.global.MethodType" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#40145" title="ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#589151" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="../../../reflect/internal/Definitions.scala.html#46850" title="=&gt; ExplicitOuter.this.global.Symbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>

        <a href="TypingTransformers.scala.html#586823" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
          <a href="../ast/TreeDSL.scala.html#241230" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#589150" title="ExplicitOuter.this.global.MethodSymbol">method</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275367" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.TreeOps">guard</a>.<a href="../../../reflect/internal/Trees.scala.html#59727" title="(pairs: (ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)*)ExplicitOuter.this.global.Tree">changeOwner</a><a href="../../../reflect/internal/Trees.scala.html#40606" title="implicit scala.reflect.internal.Trees.treeOps : (tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.TreeOps" class="delimiter">(</a><a href="#238732" title="(x: ExplicitOuter.this.global.Symbol)ArrowAssoc[ExplicitOuter.this.global.Symbol]">currentOwner</a> <span title="(y: ExplicitOuter.this.global.MethodSymbol)(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.MethodSymbol)">-&gt;</span> <a href="#589150" title="ExplicitOuter.this.global.MethodSymbol">method</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#59728" title="(pairs: (ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)*)ExplicitOuter.this.global.Tree">substTreeSyms</a><span class="delimiter">(</span><a href="#589147" title="List[ExplicitOuter.this.global.Symbol]">vs</a> <span title="(that: scala.collection.GenIterable[ExplicitOuter.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol),List[(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)]])List[(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)]">zip</span> <a href="#589151" title="List[ExplicitOuter.this.global.Symbol]">params</a>: _*<span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" id="589118">nguard</a> = <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.CaseDef]" id="589119">ncases</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span>CaseDef<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="589363">pat</a>, <a title="ExplicitOuter.this.global.Tree" id="589364">guard</a>, <a title="ExplicitOuter.this.global.Tree" id="589365">body</a><span class="delimiter">)</span> &lt;- <a href="#589115" title="(f: ExplicitOuter.this.global.CaseDef =&gt; ExplicitOuter.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.CaseDef],ExplicitOuter.this.global.CaseDef,List[ExplicitOuter.this.global.CaseDef]])List[ExplicitOuter.this.global.CaseDef]">cases</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          // Strip out any unused pattern bindings up front
          <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Symbol]" id="589366">patternIdents</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Bind" id="589405">b</a> @ Bind<span class="delimiter">(</span>_, _<span class="delimiter">)</span> &lt;- <a href="#589363" title="(f: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,List[ExplicitOuter.this.global.Symbol]])List[ExplicitOuter.this.global.Symbol]">pat</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#589405" title="ExplicitOuter.this.global.Bind">b</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>
          <span class="keyword">val</span> <a title="Set[ExplicitOuter.this.global.Symbol]" id="589367">references</a>: <span title="Set[ExplicitOuter.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="(elems: ExplicitOuter.this.global.Tree*)scala.collection.immutable.Set[ExplicitOuter.this.global.Tree]">Set</span><span class="delimiter">(</span><a href="#589364" title="ExplicitOuter.this.global.Tree">guard</a>, <a href="#589365" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span> <span title="(f: ExplicitOuter.this.global.Tree =&gt; scala.collection.GenTraversableOnce[ExplicitOuter.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,Set[ExplicitOuter.this.global.Symbol]])Set[ExplicitOuter.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> <a title="ExplicitOuter.this.global.Tree" id="589467">t</a> =&gt; <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Ident" id="589496">id</a> @ Ident<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Name" id="589500">name</a><span class="delimiter">)</span> &lt;- <a href="#589467" title="(f: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,List[ExplicitOuter.this.global.Symbol]])List[ExplicitOuter.this.global.Symbol]">t</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#589496" title="ExplicitOuter.this.global.Ident">id</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span> <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#589369" title="(List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol])" class="delimiter">(</a><a href="#589368" title="List[ExplicitOuter.this.global.Symbol]" id="589369">used</a>, <a href="#589368" title="List[ExplicitOuter.this.global.Symbol]" id="589370">unused</a><span class="delimiter">)</span> = <a href="#589366" title="List[ExplicitOuter.this.global.Symbol]">patternIdents</a> <span title="(p: ExplicitOuter.this.global.Symbol =&gt; Boolean)(List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol])">partition</span> <a href="#589367" title="Set[ExplicitOuter.this.global.Symbol]">references</a>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="589371">strippedPat</a> = <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589370" title="List[ExplicitOuter.this.global.Symbol]">unused</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#589363" title="ExplicitOuter.this.global.Tree">pat</a> <span class="keyword">else</span> <span title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">new</span> <a href="#238725" title="ExplicitOuter.this.RemoveBindingsTransformer">RemoveBindingsTransformer</a><span class="delimiter">(</span><a href="#589370" title="List[ExplicitOuter.this.global.Symbol]">unused</a>.<span title="scala.collection.immutable.Set[ExplicitOuter.this.global.Symbol]">toSet</span><span class="delimiter">)</span> <a href="#588505" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a> <a href="#589363" title="ExplicitOuter.this.global.Tree">pat</a>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="589372">gdcall</a> =
            <span title="ExplicitOuter.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589364" title="ExplicitOuter.this.global.Tree">guard</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="TypingTransformers.scala.html#238437" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#238437" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="589585">guardDef</a> = <a href="#589117" title="(vs: List[ExplicitOuter.this.global.Symbol], guard: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">makeGuardDef</a><span class="delimiter">(</span><a href="#589369" title="List[ExplicitOuter.this.global.Symbol]">used</a>, <a href="#589364" title="ExplicitOuter.this.global.Tree">guard</a><span class="delimiter">)</span>
              <a href="#589118" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a> <span title="(x: ExplicitOuter.this.global.Tree)nguard.type">+=</span> <a href="#588446" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#589585" title="ExplicitOuter.this.global.analyzer.global.Tree">guardDef</a><span class="delimiter">)</span> // building up list of guards

              <a href="TypingTransformers.scala.html#586823" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Ident">Ident</a><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="#589585" title="ExplicitOuter.this.global.analyzer.global.Tree">guardDef</a>.<span title="=&gt; ExplicitOuter.this.global.analyzer.global.Symbol">symbol</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#274647" title="(params: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#589369" title="List[ExplicitOuter.this.global.Symbol]">used</a> <span title="(f: ExplicitOuter.this.global.Symbol =&gt; ExplicitOuter.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],ExplicitOuter.this.global.Ident,List[ExplicitOuter.this.global.Ident]])List[ExplicitOuter.this.global.Ident]">map</span> <a href="TypingTransformers.scala.html#238437" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241220" title="(pat: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="#588446" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#589371" title="ExplicitOuter.this.global.Tree">strippedPat</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275241" title="(g: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.CaseStart">IF</a> <a href="#589372" title="ExplicitOuter.this.global.analyzer.global.Tree">gdcall</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275242" title="(body: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.CaseDef">==&gt;</a> <a href="#588446" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#589365" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpe: ExplicitOuter.this.global.Type)Boolean" id="589120">isUncheckedAnnotation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="589710">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#589710" title="ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: ExplicitOuter.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46725" title="=&gt; ExplicitOuter.this.global.Symbol">UncheckedClass</a>
      <span class="keyword">def</span> <a title="(tpe: ExplicitOuter.this.global.Type)Boolean" id="589121">isSwitchAnnotation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="589712">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#589712" title="ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: ExplicitOuter.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46689" title="=&gt; ExplicitOuter.this.global.Symbol">SwitchClass</a>

      <span class="keyword">val</span> <a href="#589123" title="(Boolean, Boolean)" class="delimiter">(</a><a href="#589122" title="Boolean" id="589123">checkExhaustive</a>, <a href="#589122" title="Boolean" id="589124">requireSwitch</a><span class="delimiter">)</span> = <a href="#589116" title="ExplicitOuter.this.global.Tree">nselector</a> <span title="(Boolean, Boolean)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(Boolean, Boolean)">Typed</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="589716">nselector1</a>, <a title="ExplicitOuter.this.global.Tree" id="589717">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="589718">unchecked</a> = <a href="#589120" title="(tpe: ExplicitOuter.this.global.Type)Boolean">isUncheckedAnnotation</a><span class="delimiter">(</span><a href="#589717" title="ExplicitOuter.this.global.Tree">tpt</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589718" title="Boolean">unchecked</a><span class="delimiter">)</span>
            <a href="#589116" title="ExplicitOuter.this.global.Tree">nselector</a> = <a href="#589716" title="ExplicitOuter.this.global.Tree">nselector1</a>

          // Don't require a tableswitch if there are 1-2 casedefs
          // since the matcher intentionally emits an if-then-else.
          <span title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#589718" title="Boolean">unchecked</a>, <a href="#589121" title="(tpe: ExplicitOuter.this.global.Type)Boolean">isSwitchAnnotation</a><span class="delimiter">(</span><a href="#589717" title="ExplicitOuter.this.global.Tree">tpt</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#589119" title="List[ExplicitOuter.this.global.CaseDef]">ncases</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Boolean, Boolean)">_</span>  =&gt;
          <span title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="589125">t</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">atPos</a><span class="delimiter">(</span><a href="#589110" title="ExplicitOuter.this.global.Match">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.MatrixContext" id="589752">context</a>     = <a href="../matching/Matrix.scala.html#529579" title="(cunit: ExplicitOuter.this.global.CompilationUnit, handleOuter: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Tree, typer: ExplicitOuter.this.global.analyzer.Typer, owner: ExplicitOuter.this.global.Symbol, matchResultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.MatrixContext">MatrixContext</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; ExplicitOuter.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185199" title="=&gt; ExplicitOuter.this.global.CompilationUnit">currentUnit</a>, <a href="#588446" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a>, <a href="TypingTransformers.scala.html#586823" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a>, <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#589110" title="ExplicitOuter.this.global.Match">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="589753">t_untyped</a>   = <a href="../matching/Matrix.scala.html#238895" title="(selector: ExplicitOuter.this.global.Tree, cases: List[ExplicitOuter.this.global.CaseDef], isChecked: Boolean, context: ExplicitOuter.this.MatrixContext)ExplicitOuter.this.global.Tree">handlePattern</a><span class="delimiter">(</span><a href="#589116" title="ExplicitOuter.this.global.Tree">nselector</a>, <a href="#589119" title="List[ExplicitOuter.this.global.CaseDef]">ncases</a>, <a href="#589123" title="Boolean">checkExhaustive</a>, <a href="#589752" title="ExplicitOuter.this.MatrixContext">context</a><span class="delimiter">)</span>

        /* if @switch annotation is present, verify the resulting tree is a Match */
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589124" title="Boolean">requireSwitch</a><span class="delimiter">)</span> <a href="#589753" title="ExplicitOuter.this.global.Tree">t_untyped</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Block</span><span class="delimiter">(</span>_, Match<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span>  =&gt; // ok
          <span class="keyword">case</span> <span title="Unit">_</span>                      =&gt;
            <a href="#588448" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185131" title="(pos: ExplicitOuter.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#589110" title="ExplicitOuter.this.global.Match">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span>, <span title="String(&quot;could not emit switch for @switch annotated match&quot;)" class="string">&quot;could not emit switch for @switch annotated match&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="TypingTransformers.scala.html#586823" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184438" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree, pt: ExplicitOuter.this.global.analyzer.global.Type)ExplicitOuter.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#589753" title="ExplicitOuter.this.global.Tree">t_untyped</a>, <a href="#589752" title="ExplicitOuter.this.MatrixContext">context</a>.<a href="../matching/Matrix.scala.html#529250" title="=&gt; ExplicitOuter.this.global.Type">matchResultType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="ExplicitOuter.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589118" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#589125" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a>
      <span class="keyword">else</span> <a href="TypingTransformers.scala.html#238437" title="(stats: List[ExplicitOuter.this.global.Tree], expr: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Block">Block</a><span class="delimiter">(</span><a href="#589118" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a>.<span title="=&gt; List[ExplicitOuter.this.global.Tree]">toList</span>, <a href="#589125" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a><span class="delimiter">)</span> <span title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Block">setType</span> <a href="#589125" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a>.<span title="=&gt; ExplicitOuter.this.global.analyzer.global.Type">tpe</span>
    <span class="delimiter">}</span>

    /** The main transformation method */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="588446">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="589101">tree</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="589806">sym</a> = <a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47756" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span> //(9)
        <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47907" title="(flag: Int)Any">setNotFlag</a> <span title="Int(4)">PRIVATE</span>
        <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47907" title="(flag: Int)Any">setNotFlag</a> <span title="Int(1)">PROTECTED</span>
      <span class="delimiter">}</span>
      <a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Tree]" id="589816">parents</a>, <a title="ExplicitOuter.this.global.ValDef" id="589817">self</a>, <a title="List[ExplicitOuter.this.global.Tree]" id="589818">decls</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" id="589819">newDefs</a> = <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
          <a href="TypingTransformers.scala.html#586835" title="(tree: ExplicitOuter.this.global.Tree, owner: ExplicitOuter.this.global.Symbol)(trans: =&gt; Unit)Unit">atOwner</a><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48087" title="=&gt; Boolean">isInterface</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39814" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#238719" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#238721" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasOuterField</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#589819" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <span title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</span> <a href="#588442" title="=&gt; ExplicitOuter.this.global.Tree">outerFieldDef</a> // (1a)
                <a href="#589819" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <span title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</span> <a href="#588443" title="=&gt; ExplicitOuter.this.global.Tree">outerAccessorDef</a> // (1)
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
                <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="589908">mc</a> &lt;- <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47995" title="(f: ExplicitOuter.this.global.Symbol =&gt; Any)Unit">mixinClasses</a><span class="delimiter">)</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#238727" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#589908" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                    <a href="#589819" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <span title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</span> <a href="#588444" title="(mixinClass: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">mixinOuterAccessorDef</a><span class="delimiter">(</span><a href="#589908" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#238732" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#588437" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span>
            <a href="#238732" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, parents: List[ExplicitOuter.this.global.Tree], self: ExplicitOuter.this.global.ValDef, body: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Template">Template</span><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#589816" title="List[ExplicitOuter.this.global.Tree]">parents</a>, <a href="#589817" title="ExplicitOuter.this.global.ValDef">self</a>,
                          <span title="List[ExplicitOuter.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#589819" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#589818" title="List[ExplicitOuter.this.global.Tree]">decls</a> <span class="keyword">else</span> <a href="#589818" title="List[ExplicitOuter.this.global.Tree]">decls</a> <a href="#589930" title="(prefix: List[ExplicitOuter.this.global.Tree])List[ExplicitOuter.this.global.Tree]">:::</a> <a href="#589819" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a>.<span title="=&gt; List[ExplicitOuter.this.global.Tree]">toList</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Modifiers" id="589957">mods</a>, <a title="ExplicitOuter.this.global.Name" id="589958">name</a>, <a title="List[ExplicitOuter.this.global.TypeDef]" id="589959">tparams</a>, <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="589960">vparamss</a>, <a title="ExplicitOuter.this.global.Tree" id="589961">tpt</a>, <a title="ExplicitOuter.this.global.Tree" id="589962">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#589962" title="ExplicitOuter.this.global.Tree">rhs</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Nothing">Literal</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;unexpected case&quot;)" class="string">&quot;unexpected case&quot;</span><span class="delimiter">)</span> //todo: remove
              <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span> =&gt;
                <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="589964">clazz</a> = <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>
                <span class="keyword">val</span> <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="589965">vparamss1</a> =
                  <span title="List[List[ExplicitOuter.this.global.ValDef]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#238719" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#589964" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (4)
                    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="589966">outerParam</a> =
                      <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47700" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60029" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a> <a href="#238722" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#589964" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; ExplicitOuter.this.global.Type">info</a>
                    <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40611" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#589966" title="ExplicitOuter.this.global.TermSymbol">outerParam</a><span class="delimiter">)</span> <span title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object ExplicitOuter.this.global.NoType">NoType</a><span class="delimiter">)</span> <a href="#589975" title="(x: ExplicitOuter.this.global.ValDef)List[ExplicitOuter.this.global.ValDef]">::</a> <a href="#589960" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[ExplicitOuter.this.global.ValDef]">head</span><span class="delimiter">)</span> <a href="#589974" title="(x: List[ExplicitOuter.this.global.ValDef])List[List[ExplicitOuter.this.global.ValDef]]">::</a> <a href="#589960" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[List[ExplicitOuter.this.global.ValDef]]">tail</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#589960" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>
                <a href="#238732" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#588437" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, mods: ExplicitOuter.this.global.Modifiers, name: ExplicitOuter.this.global.Name, tparams: List[ExplicitOuter.this.global.TypeDef], vparamss: List[List[ExplicitOuter.this.global.ValDef]], tpt: ExplicitOuter.this.global.Tree, rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#589957" title="ExplicitOuter.this.global.Modifiers">mods</a>, <a href="#589958" title="ExplicitOuter.this.global.Name">name</a>, <a href="#589959" title="List[ExplicitOuter.this.global.TypeDef]">tparams</a>, <a href="#589965" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss1</a>, <a href="#589961" title="ExplicitOuter.this.global.Tree">tpt</a>, <a href="#589962" title="ExplicitOuter.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#238732" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#588437" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">This</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.TypeName" id="590031">qual</a><span class="delimiter">)</span> =&gt;
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48108" title="=&gt; Boolean">hasModuleFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47857" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#588436" title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#588434" title="=&gt; ExplicitOuter.this.global.Tree">outerValue</a>, <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47987" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>, <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> // (5)

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Select</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="590046">qual</a>, <a title="ExplicitOuter.this.global.Name" id="590047">name</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span> // (3)
            <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48027" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="590048">qsym</a> = <a href="#590046" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; ExplicitOuter.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48085" title="=&gt; Boolean">isProtected</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> //(4)
              <span class="delimiter">(</span><a href="#590048" title="ExplicitOuter.this.global.Symbol">qsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#590046" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="ExplicitOuter.this.global.Super">Super</span><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#590048" title="ExplicitOuter.this.global.Symbol">qsym</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: ExplicitOuter.this.global.Symbol)Boolean">isSubClass</a> <a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39824" title="=&gt; Long">notPROTECTED</a>
          <a href="#238732" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#588437" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="590068">sel</a> @ Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="590073">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; ExplicitOuter.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[ExplicitOuter.this.global.Tree]" id="590074">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#238719" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#590068" title="ExplicitOuter.this.global.Select">sel</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="590076">outerVal</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#590073" title="ExplicitOuter.this.global.Tree">qual</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            // it's a call between constructors of same class
            <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span>: <span title="ExplicitOuter.this.global.This">This</span>  =&gt;
              <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#588432" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
              <a href="#588434" title="=&gt; ExplicitOuter.this.global.Tree">outerValue</a>
            <span class="keyword">case</span> <span title="ExplicitOuter.this.global.gen.global.Tree">_</span>        =&gt;
              <a href="../Global.scala.html#182860" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92625" title="(tpe: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#590073" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; ExplicitOuter.this.global.Type">prefix</a> <span title="ExplicitOuter.this.global.gen.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40099" title="ExplicitOuter.this.global.Type">NoPrefix</a> =&gt; <a href="#589806" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47987" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
                <span class="keyword">case</span> <a title="ExplicitOuter.this.global.Type" id="590091">x</a>        =&gt; <a href="#590091" title="ExplicitOuter.this.global.Type">x</a>
              <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#238732" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#588437" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#590068" title="ExplicitOuter.this.global.Select">sel</a>, <a href="#590076" title="ExplicitOuter.this.global.Tree">outerVal</a> <a href="#590098" title="(x: ExplicitOuter.this.global.Tree)List[ExplicitOuter.this.global.Tree]">::</a> <a href="#590074" title="List[ExplicitOuter.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // entry point for pattern matcher translation
        <span class="keyword">case</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="590104">mch</a>: <span title="ExplicitOuter.this.global.Match">Match</span> =&gt;
          <a href="#588445" title="(tree: ExplicitOuter.this.global.Match)ExplicitOuter.this.global.analyzer.global.Tree">matchTranslation</a><span class="delimiter">(</span><a href="#590104" title="ExplicitOuter.this.global.Match">mch</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182909" title="object ExplicitOuter.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#229290" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> <span class="delimiter">{</span> // this turned out to be expensive, hence the hacky `if` and `return`
            <a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              // for patmatvirtualiser
              // base.&lt;outer&gt;.eq(o) --&gt; base.$outer().eq(o) if there's an accessor, else the whole tree becomes TRUE
              // TODO remove the synthetic `&lt;outer&gt;` method from outerFor??
              <span class="keyword">case</span> <span title="Nothing">Apply</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="590110">eqsel</a>@Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Apply" id="590115">eqapp</a>@Apply<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="590120">sel</a>@Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="590125">base</a>, <a title="ExplicitOuter.this.global.Name" id="590126">outerAcc</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>, <a title="ExplicitOuter.this.global.Name" id="590127">eq</a><span class="delimiter">)</span>, <a title="List[ExplicitOuter.this.global.Tree]" id="590128">args</a><span class="delimiter">)</span>  <span class="keyword">if</span> <a href="#590126" title="ExplicitOuter.this.global.Name">outerAcc</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60033" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_SYNTH</a> =&gt;
                <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="590133">outerFor</a> = <a href="#590120" title="ExplicitOuter.this.global.Select">sel</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#48009" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a> // TODO: toInterface necessary?
                <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="590134">acc</a> = <a href="#238727" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#590133" title="ExplicitOuter.this.global.Symbol">outerFor</a><span class="delimiter">)</span>
                <span title="Nothing" class="keyword">if</span><span class="delimiter">(</span><a href="#590134" title="ExplicitOuter.this.global.Symbol">acc</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // println(&quot;WARNING: no outer for &quot;+ outerFor)
                  <span title="Nothing" class="keyword">return</span> <a href="#588446" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241192" title="=&gt; ExplicitOuter.this.global.Literal">TRUE</a><span class="delimiter">)</span> // urgh... drop condition if there's no accessor
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  // println(&quot;(base, acc)= &quot;+(base, acc))
                  <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="590140">outerSelect</a> = <a href="TypingTransformers.scala.html#586823" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <a href="TypingTransformers.scala.html#238437" title="(fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#590125" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#590134" title="ExplicitOuter.this.global.Symbol">acc</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
                  // achieves the same as: localTyper typed atPos(tree.pos)(outerPath(base, base.tpe.typeSymbol, outerFor.outerClass))
                  // println(&quot;(b, tpsym, outerForI, outerFor, outerClass)= &quot;+ (base, base.tpe.typeSymbol, outerFor, sel.symbol.owner, outerFor.outerClass))
                  // println(&quot;outerSelect = &quot;+ outerSelect)
                  <span title="Nothing" class="keyword">return</span> <a href="#588446" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#238732" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, qualifier: ExplicitOuter.this.global.Tree, selector: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Select">Select</span><span class="delimiter">(</span><a href="#590110" title="ExplicitOuter.this.global.Select">eqsel</a>, <a href="#590140" title="ExplicitOuter.this.global.analyzer.global.Tree">outerSelect</a>, <a href="#590127" title="ExplicitOuter.this.global.Name">eq</a><span class="delimiter">)</span>, <a href="#590128" title="List[ExplicitOuter.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183384" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">TypeApply</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="590185">fn</a> @ Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="590190">qual</a>, _<span class="delimiter">)</span>, <a title="List[ExplicitOuter.this.global.Tree]" id="590191">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#590185" title="ExplicitOuter.this.global.Select">fn</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46626" title="=&gt; ExplicitOuter.this.global.Symbol">Object_isInstanceOf</a> <span title="(x: Boolean)Boolean">||</span> <a href="#590185" title="ExplicitOuter.this.global.Select">fn</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46599" title="=&gt; ExplicitOuter.this.global.Symbol">Any_isInstanceOf</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238726" title="(lhs: ExplicitOuter.this.global.Type, rhs: ExplicitOuter.this.global.Type)Boolean">isArraySeqTest</a><span class="delimiter">(</span><a href="#590190" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span>, <a href="#590191" title="List[ExplicitOuter.this.global.Tree]">args</a>.<span title="=&gt; ExplicitOuter.this.global.Tree">head</span>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#588448" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185132" title="(pos: ExplicitOuter.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span>, <span title="String(&quot;An Array will no longer match as Seq[_].&quot;)" class="string">&quot;An Array will no longer match as Seq[_].&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="590105">x</a> = <a href="#238732" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#588437" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#589101" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#590105" title="ExplicitOuter.this.global.Tree">x</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#590105" title="ExplicitOuter.this.global.Tree">x</a>
          <span class="keyword">else</span> <a href="#590105" title="ExplicitOuter.this.global.Tree">x</a> <span title="(tp: ExplicitOuter.this.global.Type)x.type">setType</span> <a href="#238730" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#238732" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#590105" title="ExplicitOuter.this.global.Tree">x</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The transformation method for whole compilation units */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: ExplicitOuter.this.global.CompilationUnit)Unit" id="588447">transformUnit</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.CompilationUnit" id="590206">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#238732" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#280653" title="(unit: ExplicitOuter.this.global.CompilationUnit)Unit">transformUnit</a><span class="delimiter">(</span><a href="#590206" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: tools.nsc.Phase)ExplicitOuter.this.StdPhase" id="238733">newPhase</a><span class="delimiter">(</span><a title="tools.nsc.Phase" id="241181">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#7654" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#228269" title="ExplicitOuter.this.StdPhase">StdPhase</a> =
    <span title="ExplicitOuter.this.Phase" class="keyword">new</span> <a href="#238734" title="ExplicitOuter.this.Phase">Phase</a><span class="delimiter">(</span><a href="#241181" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class Phase extends ExplicitOuter.this.Phase with ScalaObject" id="238734">Phase</a><a href="#238734" title="ScalaObject" class="delimiter">(</a><a title="tools.nsc.Phase" id="590233">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#7654" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#29562" title="scala.tools.nsc.transform.ExplicitOuter" class="keyword">super</a>.<a href="InfoTransform.scala.html#238501" title="ExplicitOuter.this.Phase">Phase</a><span class="delimiter">(</span><a href="#590233" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="590231">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>