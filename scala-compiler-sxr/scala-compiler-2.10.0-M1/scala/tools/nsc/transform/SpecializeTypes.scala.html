<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/SpecializeTypes.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Iulian Dragos
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform


<span class="keyword">import</span> scala.tools.nsc.symtab.Flags
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>



/** Specialize code on types.
 *
 *  Make sure you've read the thesis:
 *
 *    Iulian Dragos: Compiling Scala for Performance (chapter 4)
 *
 *  There are some things worth noting, (possibly) not mentioned there:
 *  0) Make sure you understand the meaning of various `SpecializedInfo` descriptors
 *     defined below.
 *
 *  1) Specializing traits by introducing bridges in specialized methods
 *     of the specialized trait may introduce problems during mixin composition.
 *     Concretely, it may cause cyclic calls and result in a stack overflow.
 *     See ticket #4351.
 *     This was solved by introducing an `Abstract` specialized info descriptor.
 *     Instead of generating a bridge in the trait, an abstract method is generated.
 *
 *  2) Specialized private members sometimes have to be switched to protected.
 *     In some cases, even this is not enough. Example:
 *
 *     {{{
 *       class A[@specialized T](protected val d: T) {
 *         def foo(that: A[T]) = that.d
 *       }
 *     }}}
 *
 *     Specialization will generate a specialized class and a specialized method:
 *
 *     {{{
 *       class A$mcI$sp(protected val d: Int) extends A[Int] {
 *         def foo(that: A[Int]) = foo$mcI$sp(that)
 *         def foo(that: A[Int]) = that.d
 *       }
 *     }}}
 *
 *     Above, `A$mcI$sp` cannot access `d`, so the method cannot be typechecked.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SpecializeTypes extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.transform.TypingTransformers with ScalaObject" id="29526">SpecializeTypes</a> <a href="#29526" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#29973" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> <a href="TypingTransformers.scala.html#29733" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#238437" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
  /** the name of the phase: */
  <span class="keyword">val</span> <a title="String" id="238934">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;specialize&quot;)" class="string">&quot;specialize&quot;</span>

  /** The following flags may be set by this phase: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="238936">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../../../reflect/internal/Flags.scala.html#39822" title="=&gt; Long">notPRIVATE</a> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39812" title="=&gt; Long">lateFINAL</a>

  /** This phase changes base classes. */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="238937">changesBaseClasses</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="238938">keepsTypeParams</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">type</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="238939">TypeEnv</a> = immutable.<span title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">Map</span><span class="delimiter">[</span>Symbol, Type<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.TypeEnv" id="238940">emptyEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)*)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="Ordering[SpecializeTypes.this.global.Type]" id="238941">typeOrdering</a>: <span title="Ordering[SpecializeTypes.this.global.Type]">Ordering</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</span><span title="(implicit ord: scala.math.Ordering[String])scala.math.Ordering[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span> <span title="(f: SpecializeTypes.this.global.Type =&gt; String)scala.math.Ordering[SpecializeTypes.this.global.Type]">on</span> <span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#603505" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>

  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object SpecializeTypes.this.global.definitions">definitions</a>.<span class="delimiter">{</span>
    RootClass, BooleanClass, UnitClass, ArrayClass,
    ScalaValueClasses, isValueClass, isScalaValueType,
    SpecializedClass, RepeatedParamClass, JavaRepeatedParamClass,
    AnyRefClass, ObjectClass, Predef_AnyRef,
    uncheckedVarianceClass
  <span class="delimiter">}</span>
  
  /** TODO - this is a lot of maps.
   */

  /** For a given class and concrete type arguments, give its specialized class */
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]" id="238944">specializedClass</a>: mutable.<span title="scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">Map</span><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, TypeEnv<span class="delimiter">)</span>, Symbol<span class="delimiter">]</span> = <span title="scala.collection.mutable.LinkedHashMap[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.LinkedHashMap[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">LinkedHashMap</span>

  /** Map a method symbol to a list of its specialized overloads in the same class. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" id="238946">overloads</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Overload<span class="delimiter">]</span><span class="delimiter">]</span> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</span><span title="(elems: (SpecializeTypes.this.global.Symbol, List[SpecializeTypes.this.Overload])*)scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <span title="List[SpecializeTypes.this.Overload]">List</span><span class="delimiter">[</span>Overload<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: List[SpecializeTypes.this.Overload])scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">withDefaultValue</span> <span title="object Nil">Nil</span>

  /** Map a symbol to additional information on specialization. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]" id="238948">info</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">Map</span><span class="delimiter">[</span>Symbol, SpecializedInfo<span class="delimiter">]</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object SpecializeTypes.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  /** Map class symbols to the type environments where they were created. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]" id="238950">typeEnv</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</span><span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)*)scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]">withDefaultValue</span> <a href="#238940" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>

  // holds mappings from regular type parameter symbols to symbols of
  // specialized type parameters which are subtypes of AnyRef
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]" id="238952">anyrefSpecCache</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object SpecializeTypes.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  // holds mappings from members to the type variables in the class
  // that they were already specialized for, so that they don't get
  // specialized twice (this is for AnyRef specializations)
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,Set[SpecializeTypes.this.global.Symbol]]" id="238954">wasSpecializedForTypeVars</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object SpecializeTypes.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,Set[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <span title="Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: Set[SpecializeTypes.this.global.Symbol])scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,Set[SpecializeTypes.this.global.Symbol]]">withDefaultValue</span> <span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>

  /** Concrete methods that use a specialized type, or override such methods. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]" id="238956">concreteSpecMethods</a> = <span title="()scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="238958">isSpecialized</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603526">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>          = <a href="#603526" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: SpecializeTypes.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46719" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="238959">hasSpecializedFlag</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603530">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>     = <a href="#603530" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(1099511627776L)">SPECIALIZED</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="238960">specializedTypes</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="603533">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#603533" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]" id="238961">specializedOn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603327">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#603327" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#46229" title="(cls: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.global.AnnotationInfo]">getAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46719" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a> <span title="List[SpecializeTypes.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="List[SpecializeTypes.this.global.Tree]">Some</span><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#47274" title="(info: SpecializeTypes.this.global.AnnotationInfo)Option[(SpecializeTypes.this.global.Type, List[SpecializeTypes.this.global.Tree], List[(SpecializeTypes.this.global.Name, SpecializeTypes.this.global.ClassfileAnnotArg)])]">AnnotationInfo</a><span class="delimiter">(</span>_, <a title="List[SpecializeTypes.this.global.Tree]" id="603340">args</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#603340" title="List[SpecializeTypes.this.global.Tree]">args</a>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                =&gt; <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>

  // If we replace `isBoundedGeneric` with (tp &lt;:&lt; AnyRefClass.tpe),
  // then pos/spec-List.scala fails - why? Does this kind of check fail
  // for similar reasons? Does `sym.isAbstractType` make a difference?
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean" id="238962">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="603323">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Symbol" id="603324">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#238961" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#603324" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.global.Tree =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#603364" title="SpecializeTypes.this.global.Tree">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46337" title="=&gt; SpecializeTypes.this.global.Symbol">Predef_AnyRef</a><span class="delimiter">)</span>    // specialized on AnyRef
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#603323" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238963" title="(tp: SpecializeTypes.this.global.Type)Boolean">isBoundedGeneric</a><span class="delimiter">(</span><a href="#603323" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)Boolean" id="238963">isBoundedGeneric</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="603370">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#603370" title="SpecializeTypes.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="603376">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#603376" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47760" title="=&gt; Boolean">isAbstractType</a> =&gt; <span class="delimiter">(</span><a href="#603370" title="SpecializeTypes.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="603382">sym</a>, _<span class="delimiter">)</span>                       =&gt; <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#603382" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                                        =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object SpecializeTypes.this.TypeEnv" id="238964">TypeEnv</a> <span title="ScalaObject" class="delimiter">{</span>
    /** Return a new type environment binding specialized type parameters of sym to
     *  the given args. Expects the lists to have the same length.
     */
    <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.TypeEnv" id="603395">fromSpecialization</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603399">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Type]" id="603400">args</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#182893" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#603399" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#603400" title="List[SpecializeTypes.this.global.Type]">args</a>.<span title="=&gt; Int">length</span>, <a href="#603399" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)String">+</span> <span title="String(&quot; args: &quot;)" class="string">&quot; args: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#603400" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#238940" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="../../../reflect/internal/util/Collections.scala.html#39606" title="(xs1: List[SpecializeTypes.this.global.Symbol], xs2: List[SpecializeTypes.this.global.Type])(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">collectMap2</a><span class="delimiter">(</span><a href="#603399" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#603400" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603631">k</a>, <a title="SpecializeTypes.this.global.Type" id="603632">v</a><span class="delimiter">)</span> =&gt; <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#603631" title="SpecializeTypes.this.global.Symbol">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Does typeenv `t1` include `t2`? All type variables in `t1`
     *  are defined in `t2` and:
     *  - are bound to the same type, or
     *  - are an AnyRef specialization and `t2` is bound to a subtype of AnyRef
     */
    <span class="keyword">def</span> <a title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean" id="603396">includes</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="603674">t1</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.TypeEnv" id="603675">t2</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <a href="#603674" title="SpecializeTypes.this.TypeEnv">t1</a> <span title="(p: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Boolean)Boolean">forall</span> <a href="#603683" title="Boolean" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603686">sym</a>, <a title="SpecializeTypes.this.global.Type" id="603687">tpe</a><span class="delimiter">)</span> =&gt;
        <a href="#603675" title="SpecializeTypes.this.TypeEnv">t2</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.global.Type]">get</span> <a href="#603686" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(p: SpecializeTypes.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Type" id="603692">t2tp</a> =&gt;
          <span class="delimiter">(</span><a href="#603687" title="SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#603692" title="SpecializeTypes.this.global.Type">t2tp</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46782" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#603687" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/Definitions.scala.html#46782" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#603692" title="SpecializeTypes.this.global.Type">t2tp</a><span class="delimiter">)</span><span class="delimiter">)</span> // u.t.b. (t2tp &lt;:&lt; AnyRefClass.tpe)
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Reduce the given environment to contain mappings only for type variables in tps. */
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, tps: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.TypeEnv" id="603397">restrict</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="603698">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="603699">tps</a>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> =
      <a href="#603698" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">filterKeys</span> <a href="#603699" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(implicit ev: &lt;:&lt;[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">toMap</span>

    /** Is the given environment a valid specialization for sym?
     *  It is valid if each binding is from a @specialized type parameter in sym (or its owner)
     *  to a type for which `sym` is specialized.
     */
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean" id="603398">isValid</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="603718">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="603719">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#603718" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Boolean)Boolean">forall</span> <a href="#603726" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603729">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="603730">tpe</a><span class="delimiter">)</span> =&gt;
        <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#603729" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#239009" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#603729" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(elem: Any)Boolean">contains</span> <a href="#603730" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#603719" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#603729" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">(</span><a href="#603719" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#46242" title="=&gt; SpecializeTypes.this.global.ModuleClassSymbol">RootClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#603719" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#603729" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Returns the generic class that was specialized to 'sClass', or
   *  'sClass' itself if sClass is not a specialized subclass.
   */
  <span class="keyword">def</span> <a title="(sClass: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="238966">genericClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603738">sClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> =
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#238959" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#603738" title="SpecializeTypes.this.global.Symbol">sClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#603738" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47993" title="=&gt; SpecializeTypes.this.global.Symbol">superClass</a>
    <span class="keyword">else</span> <a href="#603738" title="SpecializeTypes.this.global.Symbol">sClass</a>

  case <span class="keyword">class</span> <a title="class Overload extends Object with ScalaObject with Product with Serializable" id="614164">Overload</a><a href="#614164" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="606973">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="606974">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="603519">toString</a> = <span title="String(&quot;specialized overload &quot;)" class="string">&quot;specialized overload &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606973" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606974" title="=&gt; SpecializeTypes.this.TypeEnv">env</a>
  <span class="delimiter">}</span>

  /** Just to mark uncheckable */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: tools.nsc.Phase)SpecializeTypes.this.StdPhase" id="238970">newPhase</a><span class="delimiter">(</span><a title="tools.nsc.Phase" id="241258">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#7654" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#228269" title="SpecializeTypes.this.StdPhase">StdPhase</a> = <span title="SpecializeTypes.this.SpecializationPhase" class="keyword">new</span> <a href="#238971" title="SpecializeTypes.this.SpecializationPhase">SpecializationPhase</a><span class="delimiter">(</span><a href="#241258" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span>
  <span class="keyword">class</span> <a title="class SpecializationPhase extends SpecializeTypes.this.Phase with ScalaObject" id="238971">SpecializationPhase</a><a href="#238971" title="ScalaObject" class="delimiter">(</a><a title="tools.nsc.Phase" id="603790">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#7654" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#29526" title="scala.tools.nsc.transform.SpecializeTypes" class="keyword">super</a>.<a href="InfoTransform.scala.html#238501" title="SpecializeTypes.this.Phase">Phase</a><span class="delimiter">(</span><a href="#603790" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="603789">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.global.Transformer" id="238972">newTransformer</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.CompilationUnit" id="603796">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#183129" title="SpecializeTypes.this.global.Transformer">Transformer</a> =
    <span title="SpecializeTypes.this.SpecializationTransformer" class="keyword">new</span> <a href="#239051" title="SpecializeTypes.this.SpecializationTransformer">SpecializationTransformer</a><span class="delimiter">(</span><a href="#603796" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SpecializedInfo extends Object with ScalaObject" id="238973">SpecializedInfo</a> <a href="#238973" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="603522">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>

    /** Are type bounds of @specialized type parameters of 'target' now in 'env'? */
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="603523">typeBoundsIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="603807">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span title="Boolean(false)" class="keyword">false</span>

    /** A degenerated method has @specialized type parameters that appear only in
     *  type bounds of other @specialized type parameters (and not in its result type).
     */
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="603524">degenerate</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="603525">isAccessor</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  /** Symbol is a special overloaded method of 'original', in the environment env. */
  case <span class="keyword">class</span> <a title="class SpecialOverload extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="614137">SpecialOverload</a><a href="#614137" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="608710">original</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="608711">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="603823">target</a> = <a href="#608710" title="=&gt; SpecializeTypes.this.global.Symbol">original</a>
  <span class="delimiter">}</span>

  /** Symbol is a method that should be forwarded to 't' */
  case <span class="keyword">class</span> <a title="class Forward extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="614133">Forward</a><a href="#614133" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="606839">t</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="603875">target</a> = <a href="#606839" title="=&gt; SpecializeTypes.this.global.Symbol">t</a>
  <span class="delimiter">}</span>

  /** Symbol is a specialized abstract method, either specialized or original. The original `t` is abstract. */
  case <span class="keyword">class</span> <a title="class Abstract extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="614129">Abstract</a><a href="#614129" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="614126">t</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="603914">target</a> = <a href="#614126" title="=&gt; SpecializeTypes.this.global.Symbol">t</a>
  <span class="delimiter">}</span>

  /** Symbol is a specialized accessor for the `target` field. */
  case <span class="keyword">class</span> <a title="class SpecializedAccessor extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="614122">SpecializedAccessor</a><a href="#614122" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="607386">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="603953">isAccessor</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  /** Symbol is a specialized method whose body should be the target's method body. */
  case <span class="keyword">class</span> <a title="class Implementation extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="614118">Implementation</a><a href="#614118" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="606847">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  /** Symbol is a specialized override paired with `target`. */
  case <span class="keyword">class</span> <a title="class SpecialOverride extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="614114">SpecialOverride</a><a href="#614114" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="609111">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  /** A specialized inner class that specializes original inner class `target` on a type parameter of the enclosing class, in the typeenv `env`. */
  case <span class="keyword">class</span> <a title="class SpecializedInnerClass extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="614110">SpecializedInnerClass</a><a href="#614110" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="607519">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="607520">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  /** Symbol is a normalized member obtained by specializing 'target'. */
  case <span class="keyword">class</span> <a title="class NormalizedMember extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="614083">NormalizedMember</a><a href="#614083" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="608106">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238973" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>

    /** Type bounds of a @specialized type var are now in the environment. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="604113">typeBoundsIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="604120">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#608106" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="604134">tvar</a> =&gt;
        <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#604134" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#604134" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#604120" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="#604159" title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="604115">degenerate</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="604160">stvTypeParams</a> = <a href="#239013" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#608106" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#604187" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="604161">stvResult</a>     = <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#608106" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; SpecializeTypes.this.global.Type">resultType</a><span class="delimiter">)</span>

      <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;degenerate: &quot;)" class="string">&quot;degenerate: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608106" title="=&gt; SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; stv tparams: &quot;)" class="string">&quot; stv tparams: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#604160" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvTypeParams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; stv info: &quot;)" class="string">&quot; stv info: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#604161" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvResult</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#604160" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvTypeParams</a> <span title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">--</span> <a href="#604161" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvResult</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Has `clazz` any type parameters that need be specialized? */
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)Boolean" id="238998">hasSpecializedParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="604255">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#604255" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>

  /** Return specialized type parameters. */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="238999">specializedParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="604267">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="#604267" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>

  <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" id="239000">splitParams</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="604275">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#604275" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">partition</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>

  /** Given an original class symbol and a list of types its type parameters are instantiated at
   *  returns a list of type parameters that should remain in the TypeRef when instantiating a
   *  specialized type.
   */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]" id="239001">survivingArgs</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603413">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Type]" id="603414">args</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="604374">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="604375">tpe</a><span class="delimiter">)</span> &lt;- <a href="#603413" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span><a href="#604348" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]" class="delimiter">(</a><a href="#603414" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#604374" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46782" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#604375" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#604375" title="SpecializeTypes.this.global.Type">tpe</a>

  <span class="keyword">val</span> <a title="SpecializeTypes.this.global.TypeMap" id="239002">specializedType</a> = <a href="#603226" title="SpecializeTypes.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40242" title="anonymous class $anon extends SpecializeTypes.this.global.TypeMap" id="603226">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="603228">apply</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="603229">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#603229" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="603238">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="603239">sym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="603240">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#603240" title="List[SpecializeTypes.this.global.Type]">args</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="603241">pre1</a> = <a href="#603228" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#603238" title="SpecializeTypes.this.global.Type">pre</a><span class="delimiter">)</span>
        // when searching for a specialized class, take care to map all
        // type parameters that are subtypes of AnyRef to AnyRef
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="603242">args1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[SpecializeTypes.this.global.Type], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">map2</a><span class="delimiter">(</span><a href="#603240" title="List[SpecializeTypes.this.global.Type]">args</a>, <a href="#603239" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="#603311" title="SpecializeTypes.this.global.Type" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="603321">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="603322">orig</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#238962" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#603321" title="SpecializeTypes.this.global.Type">tp</a>, <a href="#603322" title="SpecializeTypes.this.global.Symbol">orig</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="603385">tp</a>, _<span class="delimiter">)</span>                                            =&gt; <a href="#603385" title="SpecializeTypes.this.global.Type">tp</a>
        <span class="delimiter">}</span>
        <a href="#238944" title="=&gt; scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">specializedClass</a>.<span title="(key: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv))Option[SpecializeTypes.this.global.Symbol]">get</span><span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#603239" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#238964" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#603395" title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.TypeEnv">fromSpecialization</a><span class="delimiter">(</span><a href="#603239" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#603242" title="List[SpecializeTypes.this.global.Type]">args1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603409">sym1</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#40198" title="(pre: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#603241" title="SpecializeTypes.this.global.Type">pre1</a>, <a href="#603409" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#239001" title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">survivingArgs</a><span class="delimiter">(</span><a href="#603239" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#603240" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">None</span>       =&gt; <a href="../../../reflect/internal/Types.scala.html#40198" title="(pre: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#603241" title="SpecializeTypes.this.global.Type">pre1</a>, <a href="#603239" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#603240" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt; <a href="#603229" title="SpecializeTypes.this.global.Type">tp</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Return the specialized overload of sym in the given env, if any. */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.Overload]" id="239004">overload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="604403">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="604404">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> =
    <a href="#238946" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]">overloads</a><span class="delimiter">(</span><a href="#604403" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.Overload =&gt; Boolean)Option[SpecializeTypes.this.Overload]">find</span><span class="delimiter">(</span><a title="SpecializeTypes.this.Overload" id="604442">ov</a> =&gt; <a href="#238964" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#603396" title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean">includes</a><span class="delimiter">(</span><a href="#604442" title="SpecializeTypes.this.Overload">ov</a>.<a href="#606974" title="=&gt; SpecializeTypes.this.TypeEnv">env</a>, <a href="#604404" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Return the specialized name of 'sym' in the given environment. It
   *  guarantees the same result regardless of the map order by sorting
   *  type variables alphabetically.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName" id="239005">specializedName</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="604443">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="604444">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#39685" title="SpecializeTypes.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="604446">tvars</a> = <span class="delimiter">(</span>
      <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#604443" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#604444" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span>
      <span class="keyword">else</span> <a href="#239014" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#604443" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span><span class="delimiter">(</span><a href="#604444" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a href="#604448" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</a><a href="#604447" title="List[SpecializeTypes.this.global.Symbol]" id="604448">methparams</a>, <a href="#604447" title="List[SpecializeTypes.this.global.Symbol]" id="604449">others</a><span class="delimiter">)</span> = <a href="#604446" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tvars</a>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; String)(implicit ord: scala.math.Ordering[String])List[SpecializeTypes.this.global.Symbol]">sortBy</span> <span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#604464" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">partition</span> <span class="delimiter">(</span><a href="#604525" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;specName(&quot;)" class="string">&quot;specName(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#604443" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;) env: &quot;)" class="string">&quot;) env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#604444" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tvars: &quot;)" class="string">&quot; tvars: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#604446" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tvars</a><span class="delimiter">)</span>

    <a href="#239006" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#604443" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a>, <a href="#604448" title="List[SpecializeTypes.this.global.Symbol]">methparams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#604444" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#604449" title="List[SpecializeTypes.this.global.Symbol]">others</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#604444" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Specialize name for the two list of types. The first one denotes
   *  specialization on method type parameters, the second on outer environment.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName" id="239006">specializedName</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Name" id="604543">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="SpecializeTypes.this.global.Name">Name</a>, <a title="List[SpecializeTypes.this.global.Type]" id="604544">types1</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="604545">types2</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#39685" title="SpecializeTypes.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60013" title="=&gt; SpecializeTypes.this.global.nme.NameType">INITIALIZER</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#604543" title="SpecializeTypes.this.global.Name">name</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#604544" title="List[SpecializeTypes.this.global.Type]">types1</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#604545" title="List[SpecializeTypes.this.global.Type]">types2</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a>
    <span class="keyword">else</span> <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60678" title="(name: SpecializeTypes.this.global.Name)Boolean">isSetterName</a><span class="delimiter">(</span><a href="#604543" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60690" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#239006" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60693" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">setterToGetter</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#604544" title="List[SpecializeTypes.this.global.Type]">types1</a>, <a href="#604545" title="List[SpecializeTypes.this.global.Type]">types2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60674" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#604543" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60689" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#239006" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60691" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">localToGetter</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#604544" title="List[SpecializeTypes.this.global.Type]">types1</a>, <a href="#604545" title="List[SpecializeTypes.this.global.Type]">types2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#604650" title="(SpecializeTypes.this.global.Name, String, String)" class="delimiter">(</a><a href="#604649" title="SpecializeTypes.this.global.Name" id="604650">base</a>, <a href="#604649" title="String" id="604651">cs</a>, <a href="#604649" title="String" id="604652">ms</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60687" title="(name: SpecializeTypes.this.global.Name)(SpecializeTypes.this.global.Name, String, String)">splitSpecializedName</a><span title="(SpecializeTypes.this.global.Name, String, String) @unchecked" class="delimiter">(</span><a href="#604543" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,Char]" id="604653">abbrevs</a> = <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46813" title="=&gt; Map[SpecializeTypes.this.global.Symbol,Char]">abbrvTag</a> <span title="(d: Char)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,Char]">withDefaultValue</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46813" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrvTag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46278" title="=&gt; SpecializeTypes.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)SpecializeTypes.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#604650" title="SpecializeTypes.this.global.Name">base</a>.<span title="()String">toString</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
                  <span title="(x$1: Any)String">+</span> <span title="String(&quot;m&quot;)" class="string">&quot;m&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#604652" title="String">ms</a> <span title="(x$1: Any)String">+</span> <a href="#604544" title="List[SpecializeTypes.this.global.Type]">types1</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],Char,List[Char]])List[Char]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Char,List[Char]]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="604723">t</a> =&gt; <a href="#604653" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrevs</a><span class="delimiter">(</span><a href="#604723" title="SpecializeTypes.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span title="(x$1: Any)String">+</span> <span title="String(&quot;c&quot;)" class="string">&quot;c&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#604651" title="String">cs</a> <span title="(x$1: Any)String">+</span> <a href="#604545" title="List[SpecializeTypes.this.global.Type]">types2</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],Char,List[Char]])List[Char]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Char,List[Char]]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="604785">t</a> =&gt; <a href="#604653" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrevs</a><span class="delimiter">(</span><a href="#604785" title="SpecializeTypes.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;$sp&quot;)" class="string">&quot;$sp&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="239008">primitiveTypes</a> = <a href="../../../reflect/internal/Definitions.scala.html#46859" title="=&gt; List[SpecializeTypes.this.global.Symbol]">ScalaValueClasses</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#604850" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>

  /** Return the types `sym` should be specialized at. This may be some of the primitive types
   *  or AnyRef. AnyRef means that a new type parameter T will be generated later, known to be a
   *  subtype of AnyRef (T &lt;: AnyRef).
   *  These are in a meaningful order for stability purposes.
   */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]" id="239009">concreteTypes</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="603731">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">(</span>
    <span title="List[SpecializeTypes.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#603731" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>      // no @specialized Annotation
    <span class="keyword">else</span> <a href="#238961" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#603731" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="List[SpecializeTypes.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[SpecializeTypes.this.global.Type]">Nil</span>  =&gt; <a href="#239007" title="=&gt; List[SpecializeTypes.this.global.Type]">primitiveTypes</a>     // specialized on everything
      <span class="keyword">case</span> <a title="List[SpecializeTypes.this.global.Type]" id="604878">args</a> =&gt;                    // specialized on args
        <span class="delimiter">(</span><a href="#604878" title="List[SpecializeTypes.this.global.Tree]">args</a> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Tree" id="604895">tp</a> =&gt;
          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#604895" title="SpecializeTypes.this.global.Tree">tp</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46337" title="=&gt; SpecializeTypes.this.global.Symbol">Predef_AnyRef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238963" title="(tp: SpecializeTypes.this.global.Type)Boolean">isBoundedGeneric</a><span class="delimiter">(</span><a href="#603731" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182820" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#603731" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#603731" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)String">+</span> <span title="String(&quot; is always a subtype of &quot;)" class="string">&quot; is always a subtype of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#604895" title="SpecializeTypes.this.global.Tree">tp</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48003" title="=&gt; SpecializeTypes.this.global.Symbol">companionClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="#238941" title="(implicit ord: scala.math.Ordering[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">sorted</a>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

  /** Return a list of all type environments for all specializations
   *  of @specialized types in `tps`.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]" id="239010">specializations</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="604938">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.TypeEnv]">List</span><span class="delimiter">[</span>TypeEnv<span class="delimiter">]</span> = <span class="delimiter">{</span>
    // the keys in each TypeEnv
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="604940">keys</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#604938" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
    // creating each permutation of concrete types
    <span class="keyword">def</span> <a title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]" id="604941">loop</a><span class="delimiter">(</span><a title="List[List[SpecializeTypes.this.global.Type]]" id="604946">ctypes</a>: <span title="List[List[SpecializeTypes.this.global.Type]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[List[SpecializeTypes.this.global.Type]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#604946" title="List[List[SpecializeTypes.this.global.Type]]">ctypes</a> <span title="List[List[SpecializeTypes.this.global.Type]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>         =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <a title="List[List[SpecializeTypes.this.global.Type]]" id="604953">set</a> :: <span title="object Nil">Nil</span>  =&gt; <a href="#604953" title="List[SpecializeTypes.this.global.Type]">set</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">map</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="604970">x</a> =&gt; <span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#604970" title="SpecializeTypes.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[List[SpecializeTypes.this.global.Type]]" id="605020">set</a> :: <a title="List[List[SpecializeTypes.this.global.Type]]" id="605021">sets</a> =&gt; <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="605038">x</a> &lt;- <a href="#605020" title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.GenTraversableOnce[List[SpecializeTypes.this.global.Type]])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">set</a> ; <a title="List[SpecializeTypes.this.global.Type]" id="605060">xs</a> &lt;- <a href="#604941" title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">loop</a><span title="(f: List[SpecializeTypes.this.global.Type] =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.Type]],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#605021" title="List[List[SpecializeTypes.this.global.Type]]">sets</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#605038" title="SpecializeTypes.this.global.Type">x</a> <a href="#605061" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#605060" title="List[SpecializeTypes.this.global.Type]">xs</a>
    <span class="delimiter">}</span>
    // zip the keys with each permutation to create a TypeEnv
    <a href="#604941" title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">loop</a><span class="delimiter">(</span><a href="#604940" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">map</span> <a href="#239009" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">)</span> <span title="(f: List[SpecializeTypes.this.global.Type] =&gt; scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.Type]],scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],List[SpecializeTypes.this.TypeEnv]])List[SpecializeTypes.this.TypeEnv]">map</span> <span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="605184">xss</a> =&gt; <span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)*)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">Map</span><span class="delimiter">(</span><a href="#604940" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span> <a href="#605184" title="List[SpecializeTypes.this.global.Type]">xss</a>: _*<span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Does the given 'sym' need to be specialized in the environment 'env'?
   *  Specialization is needed for
   *    - members with specialized type parameters found in the given environment
   *    - constructors of specialized classes
   *    - normalized members whose type bounds appear in the environment
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean" id="239011">needsSpecialization</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="605287">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="605288">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#239014" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605288" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span><span class="delimiter">(</span><a href="#605287" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">diff</span><span class="delimiter">(</span><a href="#238954" title="(key: SpecializeTypes.this.global.Symbol)Set[SpecializeTypes.this.global.Symbol]">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#605288" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">||</span>
     <span class="delimiter">(</span><a href="#605288" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#605288" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
     <span class="delimiter">(</span><a href="#239012" title="(m: SpecializeTypes.this.global.Symbol)Boolean">isNormalizedMember</a><span class="delimiter">(</span><a href="#605288" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#605288" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="#603523" title="(env: SpecializeTypes.this.TypeEnv)Boolean">typeBoundsIn</a><span class="delimiter">(</span><a href="#605287" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)Boolean" id="239012">isNormalizedMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="605333">m</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#238959" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#605333" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#238948" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span> <a href="#605333" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(p: SpecializeTypes.this.SpecializedInfo =&gt; Boolean)Boolean">exists</span> <a href="#605340" title="Boolean" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="Boolean(true)">NormalizedMember</span><span class="delimiter">(</span>_<span class="delimiter">)</span>  =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                    =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="239013">specializedTypeVars</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="582210">tpes</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" id="605385">buf</a> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Set[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span>
    <a href="#582210" title="List[SpecializeTypes.this.global.Type]">tpes</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]])Unit">foreach</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="605405">tp</a> =&gt; <a href="#605385" title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">buf</a> <span title="(xs: scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])buf.type">++=</span> <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605405" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#605385" title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">buf</a>.<span title="()scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">result</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="239014">specializedTypeVars</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="582207">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185227" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#582207" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Return the set of @specialized type variables mentioned by the given type.
   *  It only counts type variables that appear:
   *    - naked
   *    - as arguments to type constructors in @specialized positions
   *      (arrays are considered as Array[@specialized T])
   */
  <span class="keyword">def</span> <a title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="239015">specializedTypeVars</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="582204">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#582204" title="SpecializeTypes.this.global.Type">tpe</a> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="605429">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="605430">sym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="605431">args</a><span class="delimiter">)</span> =&gt;
      <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#605430" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47759" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span>
        <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#582204" title="SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; SpecializeTypes.this.global.Type">normalize</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#605430" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47781" title="=&gt; Boolean">isTypeParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#605430" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#605430" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47811" title="=&gt; Boolean">isTypeSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#605430" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; SpecializeTypes.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="#605430" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#605430" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46442" title="=&gt; SpecializeTypes.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
        <a href="#239013" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605431" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#605431" title="List[SpecializeTypes.this.global.Type]">args</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
        <span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#239013" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605430" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span> <a href="#605431" title="List[SpecializeTypes.this.global.Type]">args</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">collect</span> <a href="#605532" title="SpecializeTypes.this.global.Type" class="delimiter">{</a> <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="605535">tp</a>, <a title="SpecializeTypes.this.global.Type" id="605536">arg</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#605535" title="SpecializeTypes.this.global.Symbol">tp</a><span class="delimiter">)</span> =&gt; <a href="#605536" title="SpecializeTypes.this.global.Type">arg</a> <span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">PolyType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="605566">tparams</a>, <a title="SpecializeTypes.this.global.Type" id="605567">resTpe</a><span class="delimiter">)</span>   =&gt; <a href="#239013" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605567" title="SpecializeTypes.this.global.Type">resTpe</a> <a href="#605574" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#605566" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#605591" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    // since this method may be run at phase typer (before uncurry, where NMTs are eliminated)
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">NullaryMethodType</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="605625">resTpe</a><span class="delimiter">)</span>   =&gt; <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605625" title="SpecializeTypes.this.global.Type">resTpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">MethodType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="605634">argSyms</a>, <a title="SpecializeTypes.this.global.Type" id="605635">resTpe</a><span class="delimiter">)</span> =&gt; <a href="#239013" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605635" title="SpecializeTypes.this.global.Type">resTpe</a> <a href="#605642" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#605634" title="List[SpecializeTypes.this.global.Symbol]">argSyms</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#605659" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">ExistentialType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="605692">res</a><span class="delimiter">)</span>     =&gt; <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605692" title="SpecializeTypes.this.global.Type">res</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">AnnotatedType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="605702">tp</a>, _<span class="delimiter">)</span>     =&gt; <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#605702" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">TypeBounds</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="605711">lo</a>, <a title="SpecializeTypes.this.global.Type" id="605712">hi</a><span class="delimiter">)</span>          =&gt; <a href="#239013" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#605711" title="SpecializeTypes.this.global.Type">lo</a>, <a href="#605712" title="SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">RefinedType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="605728">parents</a>, _<span class="delimiter">)</span>     =&gt; <a href="#605728" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</span> <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">toSet</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">_</span>                           =&gt; <span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Returns the type parameter in the specialized class `clazz` that corresponds to type parameter
   *  `sym` in the original class. It will create it if needed or use the one from the cache.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type" id="239016">typeParamSubAnyRef</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="605793">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="605794">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="#238952" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">anyrefSpecCache</a>.<span title="(key: SpecializeTypes.this.global.Symbol, op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getOrElseUpdate</span><span class="delimiter">(</span><a href="#605793" title="SpecializeTypes.this.global.Symbol">sym</a>,
      <a href="#605794" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47726" title="(name: SpecializeTypes.this.global.TypeName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.Symbol">newTypeParameter</a><span class="delimiter">(</span><a href="#605793" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#53457" title="(suffix: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Name#ThisNameType">append</a> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60668" title="=&gt; SpecializeTypes.this.global.TermName">SPECIALIZED_SUFFIX_NAME</a> <a href="../../../reflect/internal/Names.scala.html#53413" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a>, <a href="#605793" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Symbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#66838" title="(lo: SpecializeTypes.this.global.Type, hi: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#605793" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
  <span class="delimiter">)</span>

  /** Cleans the anyrefSpecCache of all type parameter symbols of a class.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, decls: List[SpecializeTypes.this.global.Symbol])Unit" id="239017">cleanAnyRefSpecCache</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="605823">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="605824">decls</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
    // remove class type parameters and those of normalized members.
    <a href="#605823" title="SpecializeTypes.this.global.Symbol">clazz</a> <a href="#605827" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#605824" title="List[SpecializeTypes.this.global.Symbol]">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span>
      <a href="#605854" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.anyrefSpecCache.type">PolyType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="605857">tparams</a>, _<span class="delimiter">)</span> =&gt; <a href="#238952" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">anyrefSpecCache</a> <span title="(xs: scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.anyrefSpecCache.type">--=</span> <a href="#605857" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>
        <span class="keyword">case</span> <span title="Unit">_</span>                    =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

  /** Type parameters that survive when specializing in the specified environment. */
  <span class="keyword">def</span> <a title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="239018">survivingParams</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="605879">params</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="SpecializeTypes.this.TypeEnv" id="605880">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> =
    <a href="#605879" title="List[SpecializeTypes.this.global.Symbol]">params</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="605886">p</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#605886" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46782" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#605880" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#605886" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Produces the symbols from type parameters `syms` of the original owner,
   *  in the given type environment `env`. The new owner is `nowner`.
   *
   *  Non-specialized type parameters are cloned into new ones.
   *  Type parameters specialized on AnyRef have preexisting symbols.
   *
   *  For instance, a @specialized(AnyRef) T, will become T$sp &lt;: AnyRef.
   */
  <span class="keyword">def</span> <a title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="239019">produceTypeParameters</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="605902">syms</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="SpecializeTypes.this.global.Symbol" id="605903">nowner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="605904">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="605907">cloned</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="605924">s</a> &lt;- <a href="#605902" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">syms</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605904" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#605924" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#605924" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#47971" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#605903" title="SpecializeTypes.this.global.Symbol">nowner</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#605904" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#605924" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>
    // log(&quot;producing type params: &quot; + cloned.map(t =&gt; (t, t.tpe.bounds.hi)))
    <a href="../../../reflect/internal/util/Collections.scala.html#39613" title="(xs1: List[SpecializeTypes.this.global.Symbol], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#605902" title="List[SpecializeTypes.this.global.Symbol]">syms</a>, <a href="#605907" title="List[SpecializeTypes.this.global.Symbol]">cloned</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606008">orig</a>, <a title="SpecializeTypes.this.global.Symbol" id="606009">cln</a><span class="delimiter">)</span> =&gt;
      <a href="#606009" title="SpecializeTypes.this.global.Symbol">cln</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46230" title="(cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46719" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#605904" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#606008" title="SpecializeTypes.this.global.Symbol">orig</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#606009" title="SpecializeTypes.this.global.Symbol">cln</a> <a href="../../../reflect/internal/Symbols.scala.html#47923" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)cln.type">modifyInfo</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="606013">info</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#66838" title="(lo: SpecializeTypes.this.global.Type, hi: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#606013" title="SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#605907" title="List[SpecializeTypes.this.global.Symbol]">cloned</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#606030" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47924" title="(syms0: List[SpecializeTypes.this.global.Symbol], syms1: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol">substInfo</a> <span class="delimiter">(</span><a href="#605902" title="List[SpecializeTypes.this.global.Symbol]">syms</a>, <a href="#605907" title="List[SpecializeTypes.this.global.Symbol]">cloned</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Maps AnyRef bindings from a raw environment (holding AnyRefs) into type parameters from
   *  the specialized symbol (class (specialization) or member (normalization)), leaves everything else as-is.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="239020">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="606060">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="606061">origsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="606062">specsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <a href="#606060" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.TypeEnv])SpecializeTypes.this.TypeEnv">map</span> <a href="#606080" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606083">sym</a>, <a title="SpecializeTypes.this.global.Type" id="606084">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#606084" title="SpecializeTypes.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#606083" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#606061" title="SpecializeTypes.this.global.Symbol">origsym</a> =&gt; <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#606083" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#239016" title="(sym: SpecializeTypes.this.global.Symbol, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">typeParamSubAnyRef</a><span class="delimiter">(</span><a href="#606083" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#606062" title="SpecializeTypes.this.global.Symbol">specsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="606100">x</a> =&gt; <a href="#606100" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">x</a>
  <span class="delimiter">}</span>

  /** Maps AnyRef bindings from a raw environment (holding AnyRefs) into type parameters from
   *  the original class, leaves everything else as-is.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, origcls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="239021">mapAnyRefsInOrigCls</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="606135">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="606136">origcls</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <a href="#606135" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.TypeEnv])SpecializeTypes.this.TypeEnv">map</span> <a href="#606154" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606157">sym</a>, <a title="SpecializeTypes.this.global.Type" id="606158">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#606158" title="SpecializeTypes.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46276" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#606157" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#606136" title="SpecializeTypes.this.global.Symbol">origcls</a> =&gt; <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#606157" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#606157" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="606174">x</a> =&gt; <a href="#606174" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">x</a>
  <span class="delimiter">}</span>

  /** Specialize 'clazz', in the environment `outerEnv`. The outer
   *  environment contains bindings for specialized types of enclosing
   *  classes.
   *
   *  A class C is specialized w.r.t to its own specialized type params
   *  `stps`, by specializing its members, and creating a new class for
   *  each combination of `stps`.
   */
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="239022">specializeClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606209">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="606210">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(env0: SpecializeTypes.this.TypeEnv, normMembers: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol" id="606212">specializedClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="606215">env0</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="606216">normMembers</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      /** It gets hard to follow all the clazz and cls, and specializedClass
       *  was both already used for a map and mucho long.  So &quot;sClass&quot; is the
       *  specialized subclass of &quot;clazz&quot; throughout this file.
       */
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ClassSymbol" id="606217">sClass</a> = <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47734" title="(name: SpecializeTypes.this.global.TypeName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.ClassSymbol">newClass</a><span class="delimiter">(</span><a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#606215" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Names.scala.html#53941" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a>, <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(2048)">CASE</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long)SpecializeTypes.this.global.Symbol" id="606218">cloneInSpecializedClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606247">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="Long =&gt; Long" id="606248">flagFn</a>: Long =&gt; Long<span class="delimiter">)</span> =
        <a href="#606247" title="SpecializeTypes.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47972" title="(owner: SpecializeTypes.this.global.Symbol, newFlags: Long)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#606248" title="(v1: Long)Long">flagFn</a><span class="delimiter">(</span><a href="#606247" title="SpecializeTypes.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70319" title="(f: SpecializeTypes.this.global.AbstractFileType)Unit">sourceFile</a> = <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; SpecializeTypes.this.global.AbstractFileType">sourceFile</a>
      <a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185262" title="(key: SpecializeTypes.this.global.Symbol, value: scala.tools.nsc.io.AbstractFile)Unit">symSource</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span> = <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; SpecializeTypes.this.global.AbstractFileType">sourceFile</a> // needed later on by mixin

      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="606219">env</a> = <a href="#239020" title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a href="#606215" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span>
      <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span> = <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a>
      <a href="#29526" title="SpecializeTypes.this.type" class="keyword">this</a>.<a href="#238944" title="(key: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv), value: SpecializeTypes.this.global.Symbol)Unit">specializedClass</a><span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#606215" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>

      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Scope" id="606220">decls1</a>                        = <a href="../../../reflect/internal/Scopes.scala.html#61744" title="()SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="SpecializeTypes.this.global.Scope">Scope</a> // declarations of the newly specialized class 'sClass'
      <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="606221">oldClassTParams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="object Nil">Nil</span>       // original unspecialized type parameters
      <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="606222">newClassTParams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="object Nil">Nil</span>       // unspecialized type parameters of 'specializedClass' (cloned)

      // has to be a val in order to be computed early. It is later called
      // within 'atPhase(next)', which would lead to an infinite cycle otherwise
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="606223">specializedInfoType</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <a href="#606221" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a> = <a href="#239018" title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">survivingParams</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <a href="#606222" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> = <a href="#239019" title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">produceTypeParameters</a><span class="delimiter">(</span><a href="#606221" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a>, <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <a href="#239033" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><a href="#606332" title="SpecializeTypes.this.global.Symbol" class="delimiter">(</a><a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        // log(&quot;new tparams &quot; + newClassTParams.zip(newClassTParams map {s =&gt; (s.tpe, s.tpe.bounds.hi)}) + &quot;, in env: &quot; + env)

        <span class="keyword">def</span> <a title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="606296">applyContext</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="606362">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> =
          <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#606362" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[SpecializeTypes.this.global.Symbol], actuals: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#606221" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a>, <a href="#606222" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#606390" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

        /** Return a list of specialized parents to be re-mixed in a specialized subclass.
         *  Assuming env = [T -&gt; Int] and
         *    class Integral[@specialized T] extends Numeric[T]
         *  and Numeric[U] is specialized on U, this produces List(Numeric$mcI).
         *
         *  so that class Integral$mci extends Integral[Int] with Numeric$mcI.
         */
        <span class="keyword">def</span> <a title="(parents: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]" id="606297">specializedParents</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="606418">parents</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Type]" id="606419">res</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
          // log(specializedClass + &quot;: seeking specialized parents of class with parents: &quot; + parents.map(_.typeSymbol))
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="606439">p</a> &lt;- <a href="#606418" title="(f: SpecializeTypes.this.global.Type =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="606440">stp</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#82351" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">specializedType</a><span class="delimiter">(</span><a href="#606439" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606440" title="SpecializeTypes.this.global.Type">stp</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#606439" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606439" title="SpecializeTypes.this.global.Type">p</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#606419" title="List[SpecializeTypes.this.global.Type]">res</a> <span title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::=</span> <a href="#606440" title="SpecializeTypes.this.global.Type">stp</a>
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185267" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182820" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#606439" title="SpecializeTypes.this.global.Type">p</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">typeSymbol</a> <span title="(other: String)String">+</span> <span title="String(&quot; must be a trait. Specialized version of &quot;)" class="string">&quot; must be a trait. Specialized version of &quot;</span>
                  <span title="(x$1: Any)String">+</span> <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; will inherit generic &quot;)" class="string">&quot; will inherit generic &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606439" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span>  // TODO change to error
          <span class="delimiter">}</span>
          <a href="#606419" title="List[SpecializeTypes.this.global.Type]">res</a>
        <span class="delimiter">}</span>

        <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Type]" id="606298">parents</a> = <span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#606296" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185227" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        // log(&quot;!!! Parents: &quot; + parents + &quot;, sym: &quot; + parents.map(_.typeSymbol))
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606298" title="List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
          <a href="#606298" title="List[SpecializeTypes.this.global.Type]">parents</a> = <a href="#606298" title="List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span> <a href="#606494" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#606298" title="List[SpecializeTypes.this.global.Type]">parents</a>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="606299">extraSpecializedMixins</a> = <a href="#606297" title="(parents: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">specializedParents</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#606296" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606299" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;specializeClass on &quot;)" class="string">&quot;specializeClass on &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; founds extra specialized mixins: &quot;)" class="string">&quot; founds extra specialized mixins: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606299" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        // If the class being specialized has a self-type, the self type may
        // require specialization.  First exclude classes whose self types have
        // the same type constructor as the class itself, since they will
        // already be covered.  Then apply the current context to the self-type
        // as with the parents and assign it to typeOfThis.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47979" title="=&gt; SpecializeTypes.this.global.Type">typeOfThis</a>.<a href="../../../reflect/internal/Types.scala.html#42740" title="=&gt; SpecializeTypes.this.global.Type">typeConstructor</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; SpecializeTypes.this.global.Type">typeConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70338" title="(tp: SpecializeTypes.this.global.Type)Unit">typeOfThis</a> = <a href="#606296" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47979" title="=&gt; SpecializeTypes.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span class="string">&quot;Rewriting self-type for specialized class:\n&quot;</span> <span title="String(&quot;Rewriting self-type for specialized class:\n    &quot;)">+</span>
              <span class="string">&quot;    &quot;</span> <span title="(x$1: Any)String">+</span>  <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#48060" title="(info: SpecializeTypes.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47979" title="=&gt; SpecializeTypes.this.global.Type">typeOfThis</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; =&gt; &quot;)" class="string">&quot; =&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#48060" title="(info: SpecializeTypes.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#70337" title="=&gt; SpecializeTypes.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../../../reflect/internal/Types.scala.html#40205" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#606222" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a>, <a href="../../../reflect/internal/Types.scala.html#71108" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#606298" title="List[SpecializeTypes.this.global.Type]">parents</a> <a href="#606563" title="(prefix: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">:::</a> <a href="#606299" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a>, <a href="#606220" title="SpecializeTypes.this.global.Scope">decls1</a>, <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; SpecializeTypes.this.global.ClassSymbol)SpecializeTypes.this.global.ClassSymbol">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: SpecializeTypes.this.global.Type)sClass.type">setInfo</a> <a href="#606223" title="SpecializeTypes.this.global.Type">specializedInfoType</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="606224">fullEnv</a> = <a href="#606210" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a>

      /** Enter 'sym' in the scope of the current specialized class. It's type is
       *  mapped through the active environment, binding type variables to concrete
       *  types. The existing typeEnv for `sym` is composed with the current active
       *  environment
       */
      <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="606225">enterMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606641">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#606641" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#606224" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#606641" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> // append the full environment
        <a href="#606641" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47923" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)sym.type">modifyInfo</a> <span class="delimiter">(</span><a href="#606732" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42785" title="(from: SpecializeTypes.this.global.Symbol, to: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[SpecializeTypes.this.global.Symbol], actuals: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#606221" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a>, <a href="#606222" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#606760" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        // we remove any default parameters. At this point, they have been all
        // resolved by the type checker. Later on, erasure re-typechecks everything and
        // chokes if it finds default parameters for specialized members, even though
        // they are never needed.
        <a href="../../../reflect/internal/Symbols.scala.html#40027" title="(sym: SpecializeTypes.this.global.Symbol)(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">mapParamss</a><span class="delimiter">(</span><a href="#606641" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606795" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)x$24.type">resetFlag</a> <span title="Long(33554432L)">DEFAULTPARAM</span><span class="delimiter">)</span>
        <a href="#606220" title="SpecializeTypes.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a> <a href="#239033" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><span class="delimiter">(</span><a href="#606224" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606641" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Create and enter in scope an overridden symbol m1 for `m` that forwards
       *  to `om`. `om` is a fresh, special overload of m1 that is an implementation
       *  of `m`. For example, for a
       *
       *  class Foo[@specialized A] {
       *    def m(x: A) = &lt;body&gt; // m
       *  }
       *  , for class Foo$I extends Foo[Int], this method enters two new symbols in
       *  the scope of Foo$I:
       *
       *    def m(x: Int) = m$I(x) // m1
       *    def m$I(x: Int) = &lt;body&gt;/adapted to env {A -&gt; Int} // om
       */
      <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="606226">forwardToOverload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606807">m</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="606808">specMember</a> = <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#606218" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long)SpecializeTypes.this.global.Symbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#606807" title="SpecializeTypes.this.global.Symbol">m</a>, <a title="Long" id="606812">f</a> =&gt; <span class="delimiter">(</span><a href="#606812" title="Long">f</a> <span title="(x: Int)Long">|</span> <span title="Int(2)">OVERRIDE</span><span class="delimiter">)</span> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span class="delimiter">(</span>DEFERRED <span title="Int(16777232)">|</span> CASEACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="606809">om</a>         = <a href="#239025" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#606807" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(2L)">OVERRIDE</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="606810">original</a> = <a href="#238948" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span><span class="delimiter">(</span><a href="#606807" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">Some</span><span class="delimiter">(</span>NormalizedMember<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606832">tg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#606832" title="SpecializeTypes.this.global.Symbol">tg</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">_</span>                          =&gt; <a href="#606807" title="SpecializeTypes.this.global.Symbol">m</a>
        <span class="delimiter">}</span>
        <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#606808" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#614133" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#606809" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
        <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#606809" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>         = <span title="SpecializeTypes.this.SpecializedInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#606810" title="SpecializeTypes.this.global.Symbol">original</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="#614133" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#606810" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#614118" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Implementation">Implementation</a><span class="delimiter">(</span><a href="#606810" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
        <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#606809" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>      = <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#606807" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> // add the environment for any method tparams

        <a href="#238946" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#606808" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#614164" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#606809" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#606809" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#606809" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="607076">m</a> &lt;- <a href="#606216" title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">normMembers</a> ; <span class="keyword">if</span> <a href="#239011" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">needsSpecialization</a><span class="delimiter">(</span><a href="#606210" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#239039" title="(env: SpecializeTypes.this.TypeEnv)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#606224" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
          <a href="#239048" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
        // specialized members have to be overridable.
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span>
          <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)m.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)m.type">setFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607085">specCtor</a> = <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#606218" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long)SpecializeTypes.this.global.Symbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>, <a title="Long" id="607087">x</a> =&gt; <a href="#607087" title="Long">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607085" title="SpecializeTypes.this.global.Symbol">specCtor</a><span class="delimiter">)</span> = <a href="#614133" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#239012" title="(m: SpecializeTypes.this.global.Symbol)Boolean">isNormalizedMember</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  // methods added by normalization
          <span class="keyword">val</span> NormalizedMember<a href="#607107" title="SpecializeTypes.this.global.Symbol" id="607091" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="607107">original</a><span class="delimiter">)</span> = <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><a href="#238973" title="SpecializeTypes.this.SpecializedInfo @unchecked" class="delimiter">(</a><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239038" title="(env: SpecializeTypes.this.TypeEnv)Boolean">nonConflicting</a><span class="delimiter">(</span><a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238948" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#603524" title="=&gt; Boolean">degenerate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;degenerate normalized member &quot;)" class="string">&quot;degenerate normalized member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; info(m): &quot;)" class="string">&quot; info(m): &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607232">specMember</a> = <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#606218" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long)SpecializeTypes.this.global.Symbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#607249" title="Long">_</a> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(16)">DEFERRED</span><span class="delimiter">)</span><span class="delimiter">)</span>

              <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607232" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>    = <a href="#614118" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Implementation">Implementation</a><span class="delimiter">(</span><a href="#607091" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
              <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#607232" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607319">om</a> = <a href="#606226" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
              <span title="String(&quot;normalizedMember &quot;)" class="string">&quot;normalizedMember &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; om: &quot;)" class="string">&quot; om: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607319" title="SpecializeTypes.this.global.Symbol">om</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; typeEnv(om): &quot;)" class="string">&quot; typeEnv(om): &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#607319" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;conflicting env for &quot;)" class="string">&quot;conflicting env for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span> // abstract methods
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607335">specMember</a> = <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#606218" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long)SpecializeTypes.this.global.Symbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#607337" title="Long">_</a> <span title="(x: Int)Long">|</span> <span title="Int(16)">DEFERRED</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;deferred &quot;)" class="string">&quot;deferred &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607335" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; remains abstract&quot;)" class="string">&quot; remains abstract&quot;</span><span class="delimiter">)</span>

          <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607335" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <span title="SpecializeTypes.this.Abstract" class="keyword">new</span> <a href="#614129" title="SpecializeTypes.this.Abstract">Abstract</a><span class="delimiter">(</span><a href="#607335" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          // was: new Forward(specMember) {
          //   override def target = m.owner.info.member(specializedName(m, env))
          // }
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span> // other concrete methods
          // log(&quot;other concrete &quot; + m)
          <a href="#606226" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span> // concrete value definition
          <span class="keyword">def</span> <a title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol" id="607346">mkAccessor</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="607349">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Name" id="607350">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="SpecializeTypes.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Long" id="607351">newFlags</a> = <span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span> <span title="(x: Long)Long">|</span> <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><span class="delimiter">(</span>LOCAL | CASEACCESSOR | PARAMACCESSOR <span title="Long(2701656064L)">|</span> LAZY<span class="delimiter">)</span>
            // we rely on the super class to initialize param accessors
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="607352">sym</a> = <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47702" title="(name: SpecializeTypes.this.global.TermName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a>, <a href="#607349" title="SpecializeTypes.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#607351" title="Long">newFlags</a><span class="delimiter">)</span>
            <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607352" title="SpecializeTypes.this.global.MethodSymbol">sym</a><span class="delimiter">)</span> = <a href="#614122" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedAccessor">SpecializedAccessor</a><span class="delimiter">(</span><a href="#607349" title="SpecializeTypes.this.global.Symbol">field</a><span class="delimiter">)</span>
            <a href="#607352" title="SpecializeTypes.this.global.MethodSymbol">sym</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="607347">overrideIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="607390">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="607391">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Long" id="607392">newFlags</a> = <span class="delimiter">(</span><a href="#607391" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Int)Long">|</span> <span title="Int(2)">OVERRIDE</span> <span title="(x: Long)Long">|</span> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><span class="delimiter">(</span>DEFERRED | CASEACCESSOR | PARAMACCESSOR <span title="Long(2701131792L)">|</span> LAZY<span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607393">sym1</a>     = <a href="#607391" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47972" title="(owner: SpecializeTypes.this.global.Symbol, newFlags: Long)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#607390" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#607392" title="Long">newFlags</a><span class="delimiter">)</span>
            <a href="#607393" title="SpecializeTypes.this.global.Symbol">sym1</a> <a href="../../../reflect/internal/Symbols.scala.html#47923" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)sym1.type">modifyInfo</a> <span class="delimiter">(</span><a href="#607425" title="SpecializeTypes.this.global.Type">_</a> <a href="../../../reflect/internal/Types.scala.html#42778" title="(pre: SpecializeTypes.this.global.Type, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">asSeenFrom</a> <span class="delimiter">(</span><a href="#607390" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#607393" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607348">specVal</a> = <a href="#239025" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#606219" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

          <a href="#239048" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
          <a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="SpecializeTypes.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40002" title="SpecializeTypes.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../../../reflect/internal/Symbols.scala.html#71248" title="(alias: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

          <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a><span class="delimiter">)</span>
          // create accessors
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;m: &quot;)" class="string">&quot;m: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; isLocal: &quot;)" class="string">&quot; isLocal: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60674" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; specVal: &quot;)" class="string">&quot; specVal: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; isLocal: &quot;)" class="string">&quot; isLocal: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60674" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60674" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="607434">specGetter</a> = <a href="#607346" title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol">mkAccessor</a><span class="delimiter">(</span><a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60691" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">localToGetter</a><span class="delimiter">(</span><a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607435">origGetter</a> = <a href="#607347" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607435" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span> = <a href="#614133" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#607434" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a><span class="delimiter">)</span>
            <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#607434" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a><span class="delimiter">)</span>
            <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#607435" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;created accessors: &quot;)" class="string">&quot;created accessors: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607434" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; orig: &quot;)" class="string">&quot; orig: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607435" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span>

            <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47981" title="=&gt; List[SpecializeTypes.this.global.Symbol]">caseFieldAccessors</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Option[SpecializeTypes.this.global.Symbol]">find</span><span class="delimiter">(</span><a href="#607452" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53433" title="(prefix: SpecializeTypes.this.global.Name)Boolean">startsWith</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="607464">cfa</a> =&gt;
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607465">cfaGetter</a> = <a href="#607347" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#607464" title="SpecializeTypes.this.global.Symbol">cfa</a><span class="delimiter">)</span>
              <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607465" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span> = <a href="#614122" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedAccessor">SpecializedAccessor</a><span class="delimiter">(</span><a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a><span class="delimiter">)</span>
              <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#607465" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;found case field accessor for &quot;)" class="string">&quot;found case field accessor for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; added override &quot;)" class="string">&quot; added override &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607465" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span>;
            <span class="delimiter">}</span>

            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#48022" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="607478">specSetter</a> = <a href="#607346" title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol">mkAccessor</a><span class="delimiter">(</span><a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60690" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#607434" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#71238" title="=&gt; SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                .<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)SpecializeTypes.this.global.MethodSymbol">resetFlag</a><span class="delimiter">(</span><span title="Long(4194304L)">STABLE</span><span class="delimiter">)</span>
              <a href="#607478" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: SpecializeTypes.this.global.Type)specSetter.type">setInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#607478" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#47731" title="(argtypes: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Symbol]">newSyntheticValueParams</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                                            <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; SpecializeTypes.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607479">origSetter</a> = <a href="#607347" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#48022" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607479" title="SpecializeTypes.this.global.Symbol">origSetter</a><span class="delimiter">)</span> = <a href="#614133" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#607478" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a><span class="delimiter">)</span>
              <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#607478" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a><span class="delimiter">)</span>
              <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#607479" title="SpecializeTypes.this.global.Symbol">origSetter</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> // if there are no accessors, specialized methods will need to access this field in specialized subclasses
            <a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)m.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>
            <a href="#607348" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)specVal.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607500">specClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <a href="#606218" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long)SpecializeTypes.this.global.Symbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>, <a title="Long" id="607502">x</a> =&gt; <a href="#607502" title="Long">x</a><span class="delimiter">)</span>
          <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#607500" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span> = <a href="#606224" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a>
          <a href="#607500" title="SpecializeTypes.this.global.Symbol">specClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47884" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#607500" title="SpecializeTypes.this.global.Symbol">specClass</a>, <a href="#606224" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Names.scala.html#53941" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a>
          <a href="#606225" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#607500" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;entered specialized class &quot;)" class="string">&quot;entered specialized class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607500" title="SpecializeTypes.this.global.Symbol">specClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
          <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607500" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span> = <a href="#614110" title="(target: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.SpecializedInnerClass">SpecializedInnerClass</a><span class="delimiter">(</span><a href="#607076" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#606224" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#606217" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="606213">decls1</a> = <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61763" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> m: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> =&gt;
      <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#607547" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47815" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span title="(xs: SpecializeTypes.this.global.Symbol*)List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#607547" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#239023" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">normalizeMember</a><span class="delimiter">(</span><a href="#607547" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>, <a href="#607547" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#606210" title="SpecializeTypes.this.TypeEnv">outerEnv</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="607578">normalizedMember</a> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="607579">ms</a> = <a href="#239024" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv, tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">specializeMember</a><span class="delimiter">(</span><a href="#607547" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>, <a href="#607578" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>, <a href="#606210" title="SpecializeTypes.this.TypeEnv">outerEnv</a>, <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
          // interface traits have concrete members now
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607579" title="List[SpecializeTypes.this.global.Symbol]">ms</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48087" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span>
            <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)clazz.type">resetFlag</a><span class="delimiter">(</span><span title="Long(128L)">INTERFACE</span><span class="delimiter">)</span>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607578" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="607591">newTpe</a> = <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#606210" title="SpecializeTypes.this.TypeEnv">outerEnv</a>, <a href="#607578" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
            // only do it when necessary, otherwise the method type might be at a later phase already
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607591" title="SpecializeTypes.this.global.Type">newTpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#607578" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#607578" title="SpecializeTypes.this.global.Symbol">normalizedMember</a> <a href="../../../reflect/internal/Symbols.scala.html#47927" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Symbol">updateInfo</a> <a href="#607591" title="SpecializeTypes.this.global.Type">newTpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#607578" title="SpecializeTypes.this.global.Symbol">normalizedMember</a> <a href="#607609" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#607579" title="List[SpecializeTypes.this.global.Symbol]">ms</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.TypeEnv]" id="606214">subclasses</a> = <a href="#239010" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.TypeEnv =&gt; Boolean)List[SpecializeTypes.this.TypeEnv]">filter</span> <a href="#239039" title="(env: SpecializeTypes.this.TypeEnv)Boolean">satisfiable</a>
    <a href="#606214" title="List[SpecializeTypes.this.TypeEnv]">subclasses</a> <span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.TypeEnv" id="607704">env</a> =&gt;
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607705">spc</a>      = <a href="#606212" title="(env0: SpecializeTypes.this.TypeEnv, normMembers: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol">specializedClass</a><span class="delimiter">(</span><a href="#607704" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#606213" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607706">existing</a> = <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#607705" title="SpecializeTypes.this.global.Symbol">spc</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>

      // a symbol for the specialized class already exists if there's a classfile for it.
      // keeping both crashes the compiler on test/files/pos/spec-Function1.scala
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#607706" title="SpecializeTypes.this.global.Symbol">existing</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61758" title="(sym: SpecializeTypes.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#607706" title="SpecializeTypes.this.global.Symbol">existing</a><span class="delimiter">)</span>

      <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; SpecializeTypes.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a> <a href="#607705" title="SpecializeTypes.this.global.Symbol">spc</a><span class="delimiter">)</span> //!!! assumes fully specialized classes
    <span class="delimiter">}</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#606214" title="List[SpecializeTypes.this.TypeEnv]">subclasses</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)clazz.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
    <a href="#239017" title="(clazz: SpecializeTypes.this.global.Symbol, decls: List[SpecializeTypes.this.global.Symbol])Unit">cleanAnyRefSpecCache</a><span class="delimiter">(</span><a href="#606209" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#606213" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>
    <a href="#606213" title="List[SpecializeTypes.this.global.Symbol]">decls1</a>
  <span class="delimiter">}</span>

  /** Expand member `sym` to a set of normalized members. Normalized members
   *  are monomorphic or polymorphic only in non-specialized types.
   *
   *  Given method m[@specialized T, U](x: T, y: U) it returns
   *     m[T, U](x: T, y: U),
   *     m$I[ U](x: Int, y: U),
   *     m$D[ U](x: Double, y: U)
   *     // etc.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="239023">normalizeMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="607555">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="607556">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="607557">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;normalizeMember: &quot;)" class="string">&quot;normalizeMember: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
    <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="#607738" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <span class="delimiter">(</span>
      <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185227" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="607746">specializingOn</a> = <a href="#238999" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specializedParams</a><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="607747">unusedStvars</a>   = <a href="#607746" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filterNot</span> <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#607747" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185267" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48086" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182820" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>,
            <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s %s unused or used in non-specializable positions.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
              <a href="#607747" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>,
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#607747" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;is&quot;)" class="string">&quot;is&quot;</span> <span class="keyword">else</span> <span title="String(&quot;are&quot;)" class="string">&quot;are&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#607747" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a href="#607787" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#46230" title="(cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">removeAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46719" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
          <a href="#607746" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> = <a href="#607746" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#607747" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a> <a href="#607795" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="607810">env0</a> &lt;- <a href="#239010" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.TypeEnv],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#607746" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#239011" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">needsSpecialization</a><span class="delimiter">(</span><a href="#607810" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="607811">tps</a>          = <a href="#239018" title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">survivingParams</a><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#607810" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="607812">specMember</a>   = <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47972" title="(owner: SpecializeTypes.this.global.Symbol, newFlags: Long)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#607555" title="SpecializeTypes.this.global.Symbol">owner</a>, <span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(16)">DEFERRED</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="607813">env</a>          = <a href="#239020" title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a href="#607810" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#607815" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="#607814" title="List[SpecializeTypes.this.global.Symbol]" id="607815">keys</a>, <a href="#607814" title="List[SpecializeTypes.this.global.Type]" id="607816">vals</a><span class="delimiter">)</span> = <a href="#607813" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</span>.<span title="(implicit asPair: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])">unzip</span>

          <a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47884" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#607813" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;normalizing: &quot;)" class="string">&quot;normalizing: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607811" title="List[SpecializeTypes.this.global.Symbol]">tps</a><span class="delimiter">)</span>

          <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#607557" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#607813" title="SpecializeTypes.this.TypeEnv">env</a>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="607817">tps1</a> = <a href="#239019" title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">produceTypeParameters</a><span class="delimiter">(</span><a href="#607811" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#607813" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#607817" title="List[SpecializeTypes.this.global.Symbol]">tps1</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a href="#607938" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47923" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)x$32.type">modifyInfo</a> <span class="delimiter">(</span><a href="#607941" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[SpecializeTypes.this.global.Symbol], actuals: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#607815" title="List[SpecializeTypes.this.global.Symbol]">keys</a>, <a href="#607816" title="List[SpecializeTypes.this.global.Type]">vals</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          // the cloneInfo is necessary so that method parameter symbols are cloned at the new owner
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="607818">methodType</a> = <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; SpecializeTypes.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#42755" title="(formals: List[SpecializeTypes.this.global.Symbol], actuals: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#607815" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</span> <a href="#607811" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#607816" title="List[SpecializeTypes.this.global.Type]">vals</a> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">++</span> <a href="#607817" title="List[SpecializeTypes.this.global.Symbol]">tps1</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#608047" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42807" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: SpecializeTypes.this.global.Type)specMember.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#40205" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#607817" title="List[SpecializeTypes.this.global.Symbol]">tps1</a>, <a href="#607818" title="SpecializeTypes.this.global.Type">methodType</a><span class="delimiter">)</span>

          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;expanded member: &quot;)" class="string">&quot;expanded member: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>  <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607813" title="SpecializeTypes.this.TypeEnv">env</a>
          <span class="delimiter">)</span>
          <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#614083" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.NormalizedMember">NormalizedMember</a><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#238946" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#607556" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#614164" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#607813" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#607812" title="SpecializeTypes.this.global.Symbol">specMember</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Specialize member `m` w.r.t. to the outer environment and the type
   *  parameters of the innermost enclosing class.
   *
   *  Turns 'private' into 'protected' for members that need specialization.
   *
   *  Return a list of symbols that are specializations of 'sym', owned by 'owner'.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv, tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="239024">specializeMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="607580">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="607581">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="607582">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="607583">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="608193">specializeOn</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="608194">tparams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="608214">spec0</a> &lt;- <a href="#239010" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.TypeEnv],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#608194" title="List[SpecializeTypes.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="608215">spec</a> = <a href="#239021" title="(env: SpecializeTypes.this.TypeEnv, origcls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInOrigCls</a><span class="delimiter">(</span><a href="#608214" title="SpecializeTypes.this.TypeEnv">spec0</a>, <a href="#607580" title="SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a>/* || sym.isProtected*/<span class="delimiter">)</span> <span class="delimiter">{</span>
          //sym.privateWithin = sym.enclosingPackage
          <a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)sym.type">setFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;--&gt;d SETTING PRIVATE WITHIN TO &quot;)" class="string">&quot;--&gt;d SETTING PRIVATE WITHIN TO &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47998" title="=&gt; SpecializeTypes.this.global.Symbol">enclosingPackage</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="608216">specMember</a> = <a href="#239033" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><span class="delimiter">(</span><a href="#607582" title="SpecializeTypes.this.TypeEnv">outerEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#239025" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#607580" title="SpecializeTypes.this.global.Symbol">owner</a>, <a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#608215" title="SpecializeTypes.this.TypeEnv">spec</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#608216" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#607582" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#608215" title="SpecializeTypes.this.TypeEnv">spec</a>
        <a href="#238954" title="(key: SpecializeTypes.this.global.Symbol, value: Set[SpecializeTypes.this.global.Symbol])Unit">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#608216" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <span title="(elems: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">++=</span> <a href="#608215" title="SpecializeTypes.this.TypeEnv">spec</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Symbol,scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]])scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]">collect</span> <a href="#608467" title="SpecializeTypes.this.global.Symbol" class="delimiter">{</a> <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="608470">s</a>, <a title="SpecializeTypes.this.global.Type" id="608471">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#608470" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#608471" title="SpecializeTypes.this.global.Type">tp</a> =&gt; <a href="#608470" title="SpecializeTypes.this.global.Symbol">s</a> <span class="delimiter">}</span>

        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;sym &quot;)" class="string">&quot;sym &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608216" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; was specialized for type vars &quot;)" class="string">&quot; was specialized for type vars &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#238954" title="(key: SpecializeTypes.this.global.Symbol)Set[SpecializeTypes.this.global.Symbol]">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#608216" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;added specialized overload: %s in env: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#608216" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#608216" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#238946" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#614164" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#608216" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#608215" title="SpecializeTypes.this.TypeEnv">spec</a><span class="delimiter">)</span>
        <a href="#608216" title="SpecializeTypes.this.global.Symbol">specMember</a>
      <span class="delimiter">}</span>

    <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specializeMember %s with tps: %s stvars(sym): %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#607583" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#239014" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="608648">tps1</a> = <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="#607583" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <span title="(elem: Any)Boolean">contains</span> <a href="#608663" title="SpecializeTypes.this.global.Symbol">_</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#607583" title="List[SpecializeTypes.this.global.Symbol]">tps</a>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="608649">tps2</a> = <a href="#608648" title="List[SpecializeTypes.this.global.Symbol]">tps1</a> <span title="(that: scala.collection.GenSeq[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">intersect</span> <a href="#239014" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <a href="#239048" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="608650">ms</a> = <a href="#608193" title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">specializeOn</a><span class="delimiter">(</span><a href="#608649" title="List[SpecializeTypes.this.global.Symbol]">tps2</a><span class="delimiter">)</span>
      <a href="#608650" title="List[SpecializeTypes.this.global.Symbol]">ms</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="608703">m</a> =&gt; <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#608703" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> = <a href="#614137" title="(original: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.SpecialOverload">SpecialOverload</a><span class="delimiter">(</span><a href="#607581" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#608703" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#608650" title="List[SpecializeTypes.this.global.Symbol]">ms</a>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>

  /** Return the specialized overload of `m`, in the given environment. */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol" id="239025">specializedOverload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606825">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="606826">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="606827">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    // this method properly duplicates the symbol's info
    <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="608733">specMember</a>  = <a href="#606826" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47972" title="(owner: SpecializeTypes.this.global.Symbol, newFlags: Long)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#606825" title="SpecializeTypes.this.global.Symbol">owner</a>, <span class="delimiter">(</span><a href="#606826" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><span class="delimiter">(</span>DEFERRED | CASEACCESSOR | ACCESSOR <span title="Long(2298478608L)">|</span> LAZY<span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#608733" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47884" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#606826" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#606827" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
    <a href="#608733" title="SpecializeTypes.this.global.Symbol">specMember</a> <a href="../../../reflect/internal/Symbols.scala.html#47923" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)specMember.type">modifyInfo</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="608766">info</a> =&gt; <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#606827" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608766" title="SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42778" title="(pre: SpecializeTypes.this.global.Type, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#606825" title="SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>, <a href="#606826" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** For each method m that overrides an inherited method m', add a special
   *  overload method `om` that overrides the corresponding overload in the
   *  superclass. For the following example:
   *
   *  class IntFun extends Function1[Int, Int] {
   *    def apply(x: Int): Int = ..
   *  }
   *
   *  this method will return List('apply$mcII$sp')
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="239026">specialOverrides</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="608777">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    /** Return the overridden symbol in syms that needs a specialized overriding symbol,
     *  together with its specialization environment. The overridden symbol may not be
     *  the closest to 'overriding', in a given hierarchy.
     *
     *  An method m needs a special override if
     *    * m overrides a method whose type contains specialized type variables
     *    * there is a valid specialization environment that maps the overridden method type to m's type.
     */
    <span class="keyword">def</span> <a title="(overriding: SpecializeTypes.this.global.Symbol)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" id="608779">needsSpecialOverride</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="608780">overriding</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span>Symbol, TypeEnv<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(overridden: SpecializeTypes.this.global.Symbol)Unit" id="608781">checkOverriddenTParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="608782">overridden</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/util/Collections.scala.html#39613" title="(xs1: List[SpecializeTypes.this.global.Symbol], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#608782" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#608780" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="608816">baseTvar</a>, <a title="SpecializeTypes.this.global.Symbol" id="608817">derivedTvar</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]" id="608818">missing</a> = <a href="#239009" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#608816" title="SpecializeTypes.this.global.Symbol">baseTvar</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">toSet</span> <span title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">--</span> <a href="#239009" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#608817" title="SpecializeTypes.this.global.Symbol">derivedTvar</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">toSet</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608818" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">missing</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182821" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#608817" title="SpecializeTypes.this.global.Symbol">derivedTvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>,
              <span class="string">&quot;Type parameter has to be specialized at least for the same types as in the overridden method. Missing &quot;</span>
              <span title="String(&quot;Type parameter has to be specialized at least for the same types as in the overridden method. Missing types: &quot;)">+</span> <span class="string">&quot;types: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608818" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">missing</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#608780" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48090" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="608862">overridden</a> &lt;- <a href="#608780" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#48015" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">allOverriddenSymbols</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="String(&quot;Overridden: &quot;)" class="string">&quot;Overridden: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;\n by &quot;)" class="string">&quot;\n by &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608780" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608780" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="608863">stvars</a> = <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608863" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\t\tspecializedTVars: &quot;)" class="string">&quot;\t\tspecializedTVars: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608863" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a> <a href="../Global.scala.html#185267" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a> <a href="#608780" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
              <a href="#608781" title="(overridden: SpecializeTypes.this.global.Symbol)Unit">checkOverriddenTParams</a><span class="delimiter">(</span><a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="608874">env</a>    = <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#608780" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#238940" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="608875">atNext</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#608874" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\t\tenv: &quot;)" class="string">&quot;\t\tenv: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608874" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;isValid: &quot;)" class="string">&quot;isValid: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#238964" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#603398" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">isValid</a><span class="delimiter">(</span><a href="#608874" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;found: &quot;)" class="string">&quot;found: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608875" title="=&gt; SpecializeTypes.this.global.Symbol">atNext</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238964" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#603397" title="(env: SpecializeTypes.this.TypeEnv, tps: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.TypeEnv">restrict</a><span class="delimiter">(</span><a href="#608874" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608863" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238964" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#603398" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">isValid</a><span class="delimiter">(</span><a href="#608874" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#608875" title="=&gt; SpecializeTypes.this.global.Symbol">atNext</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#608862" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#608874" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="(_1: SpecializeTypes.this.global.NoSymbol.type, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.NoSymbol.type, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>, <a href="#238940" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="#608777" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; SpecializeTypes.this.global.Scope">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,Iterable[SpecializeTypes.this.global.Symbol]])Iterable[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="608941">overriding</a> =&gt;
      <a href="#608779" title="(overriding: SpecializeTypes.this.global.Symbol)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)">needsSpecialOverride</a><span class="delimiter">(</span><a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> <span title="Iterable[SpecializeTypes.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Iterable[Nothing]" class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>, _<span class="delimiter">)</span>     =&gt; <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span>
        <span class="keyword">case</span> <span title="Iterable[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="609003">overridden</a>, <a title="SpecializeTypes.this.TypeEnv" id="609004">env</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="609005">om</a> = <a href="#239025" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#608777" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#609003" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#609004" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Added specialized overload %s for %s in env: %s with type: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a>, <a href="#609004" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <a href="#609004" title="SpecializeTypes.this.TypeEnv">env</a>
          <a href="#239048" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
          <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
            <span title="SpecializeTypes.this.SpecializedInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span>    // abstract override
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;abstract override &quot;)" class="string">&quot;abstract override &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with specialized &quot;)" class="string">&quot; with specialized &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              <a href="#614133" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              // if the override is a normalized member, 'om' gets the
              // implementation from its original target, and adds the
              // environment of the normalized member (that is, any
              // specialized /method/ type parameter bindings)
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="609020">impl</a> = <a href="#238948" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span> <a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a> <span title="SpecializeTypes.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">Some</span><span class="delimiter">(</span>NormalizedMember<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="609022">target</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Unit">typeEnv</a><span class="delimiter">(</span><a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <a href="#609004" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
                  <a href="#609022" title="SpecializeTypes.this.global.Symbol">target</a>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">_</span> =&gt;
                  <a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a>
              <span class="delimiter">}</span>
              <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> = <a href="#614133" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a> <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: SpecializeTypes.this.global.Position)om.type">setPos</a> <a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
              <a href="#614114" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecialOverride">SpecialOverride</a><span class="delimiter">(</span><a href="#609020" title="SpecializeTypes.this.global.Symbol">impl</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
          <a href="#238946" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#608941" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#614164" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#609004" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#182893" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span>
            <a href="#609003" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>,
            <span title="String(&quot;Could not find &quot;)" class="string">&quot;Could not find &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#609003" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; SpecializeTypes.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span title="(x: SpecializeTypes.this.global.Symbol)Some[SpecializeTypes.this.global.Symbol]">Some</span><span title="(xo: Option[SpecializeTypes.this.global.Symbol])Iterable[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#609005" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span>
  <span class="delimiter">}</span>

  case <span class="keyword">object</span> <a href="#609246" title="object SpecializeTypes.this.UnifyError" id="609253">UnifyError</a> <span title="ScalaObject" class="keyword">extends</span> scala.util.control.<span title="scala.util.control.ControlThrowable">ControlThrowable</span>

  /** Return the most general type environment that specializes tp1 to tp2.
   *  It only allows binding of type parameters annotated with @specialized.
   *  Fails if such an environment cannot be found.
   *
   *  If `strict` is true, a UnifyError is thrown if unification is impossible.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv" id="239029">unify</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="608885">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="608886">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.TypeEnv" id="608887">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="608888">strict</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span title="(_1: SpecializeTypes.this.global.Type, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.TypeEnv" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="609265">sym1</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#238958" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#609265" title="SpecializeTypes.this.global.Symbol">sym1</a><span class="delimiter">)</span> =&gt;
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Unify - basic case: &quot;)" class="string">&quot;Unify - basic case: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#238962" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#609265" title="SpecializeTypes.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(kv: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">+</span> <span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#609265" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#609253" title="object SpecializeTypes.this.UnifyError">UnifyError</a> <span class="keyword">else</span> <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="609330">sym1</a>, <a title="List[SpecializeTypes.this.global.Type]" id="609331">args1</a><span class="delimiter">)</span>, TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="609335">sym2</a>, <a title="List[SpecializeTypes.this.global.Type]" id="609336">args2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Unify TypeRefs: &quot;)" class="string">&quot;Unify TypeRefs: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with args &quot;)" class="string">&quot; with args &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#609331" title="List[SpecializeTypes.this.global.Type]">args1</a>, <a href="#609336" title="List[SpecializeTypes.this.global.Type]">args2</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; - &quot;)" class="string">&quot; - &quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608888" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#609331" title="List[SpecializeTypes.this.global.Type]">args1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#609336" title="List[SpecializeTypes.this.global.Type]">args2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#609253" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="609337">e</a> = <a href="#239030" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#609331" title="List[SpecializeTypes.this.global.Type]">args1</a>, <a href="#609336" title="List[SpecializeTypes.this.global.Type]">args2</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;unified to: &quot;)" class="string">&quot;unified to: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#609337" title="SpecializeTypes.this.TypeEnv">e</a><span class="delimiter">)</span>
      <a href="#609337" title="SpecializeTypes.this.TypeEnv">e</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="609361">sym1</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#609361" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47809" title="=&gt; Boolean">isTypeParameterOrSkolem</a> =&gt;
      <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>MethodType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="609366">params1</a>, <a title="SpecializeTypes.this.global.Type" id="609367">res1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="609370">params2</a>, <a title="SpecializeTypes.this.global.Type" id="609371">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608888" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#609366" title="List[SpecializeTypes.this.global.Symbol]">params1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#609370" title="List[SpecializeTypes.this.global.Symbol]">params2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#609253" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Unify MethodTypes: &quot;)" class="string">&quot;Unify MethodTypes: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <a href="#239030" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#609367" title="SpecializeTypes.this.global.Type">res1</a> <a href="#609383" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#609366" title="List[SpecializeTypes.this.global.Symbol]">params1</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#609401" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#609371" title="SpecializeTypes.this.global.Type">res2</a> <a href="#609434" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#609370" title="List[SpecializeTypes.this.global.Symbol]">params2</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#609452" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>PolyType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="609487">tparams1</a>, <a title="SpecializeTypes.this.global.Type" id="609488">res1</a><span class="delimiter">)</span>, PolyType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="609491">tparams2</a>, <a title="SpecializeTypes.this.global.Type" id="609492">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608888" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#609487" title="List[SpecializeTypes.this.global.Symbol]">tparams1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#609491" title="List[SpecializeTypes.this.global.Symbol]">tparams2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#609253" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Unify PolyTypes: &quot;)" class="string">&quot;Unify PolyTypes: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#609488" title="SpecializeTypes.this.global.Type">res1</a>, <a href="#609492" title="SpecializeTypes.this.global.Type">res2</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>PolyType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="609508">res</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Type" id="609509">other</a><span class="delimiter">)</span> =&gt;
      <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#609508" title="SpecializeTypes.this.global.Type">res</a>, <a href="#609509" title="SpecializeTypes.this.global.Type">other</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>_, SingleType<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span>                  =&gt; <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#42731" title="=&gt; SpecializeTypes.this.global.Type">underlying</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>SingleType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, _<span class="delimiter">)</span>                  =&gt; <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#42731" title="=&gt; SpecializeTypes.this.global.Type">underlying</a>, <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>                       =&gt; <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; SpecializeTypes.this.global.Type">widen</a>, <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>_, ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span>                       =&gt; <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; SpecializeTypes.this.global.Type">widen</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>AnnotatedType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="609569">tp1</a>, _<span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Type" id="609570">tp2</a><span class="delimiter">)</span>        =&gt; <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#609570" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#609569" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ExistentialType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="609581">res1</a><span class="delimiter">)</span>, _<span class="delimiter">)</span>          =&gt; <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#609581" title="SpecializeTypes.this.global.Type">res1</a>, <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608888" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv">_</span> =&gt;
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;don't know how to unify %s [%s] with %s [%s]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#608885" title="SpecializeTypes.this.global.Type">tp1</a>.<span title="()Class[_]">getClass</span>, <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#608886" title="SpecializeTypes.this.global.Type">tp2</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#608887" title="SpecializeTypes.this.TypeEnv">env</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv" id="239030">unify</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="608880">tp1</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="608881">tp2</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="SpecializeTypes.this.TypeEnv" id="608882">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="608883">strict</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#608880" title="List[SpecializeTypes.this.global.Type]">tp1</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#608881" title="List[SpecializeTypes.this.global.Type]">tp2</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#608882" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">else</span> <span class="delimiter">(</span><a href="#608880" title="List[SpecializeTypes.this.global.Type]">tp1</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]">zip</span> <a href="#608881" title="List[SpecializeTypes.this.global.Type]">tp2</a><span class="delimiter">)</span>.<span title="(z: SpecializeTypes.this.TypeEnv)(f: (SpecializeTypes.this.TypeEnv, (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)) =&gt; SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv">foldLeft</span><span class="delimiter">(</span><a href="#608882" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="609668">env</a>, <a title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)" id="609669">args</a><span class="delimiter">)</span> =&gt;
      <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#608883" title="Boolean">strict</a><span class="delimiter">)</span> <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#609669" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span>, <a href="#609669" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span>, <a href="#609668" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#608883" title="Boolean">strict</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="609676">nenv</a> = <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#609669" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span>, <a href="#609669" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span>, <a href="#238940" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <a href="#608883" title="Boolean">strict</a><span class="delimiter">)</span>
        <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#609668" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span> <a href="#609676" title="SpecializeTypes.this.TypeEnv">nenv</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#609668" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#609676" title="SpecializeTypes.this.TypeEnv">nenv</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;could not unify: u(&quot;)" class="string">&quot;could not unify: u(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#609669" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#609669" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;) yields &quot;)" class="string">&quot;) yields &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#609676" title="SpecializeTypes.this.TypeEnv">nenv</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, env: &quot;)" class="string">&quot;, env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#609668" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#609253" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Apply type bindings in the given environment `env` to all declarations.  */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, decls: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="239031">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="606328">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="606329">decls</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="#606329" title="List[SpecializeTypes.this.global.Symbol]">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <a href="#239033" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><a href="#609767" title="SpecializeTypes.this.global.Symbol" class="delimiter">(</a><a href="#606328" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

  /** Apply the type environment 'env' to the given type. All type
   *  bindings are supposed to be to primitive types. A type variable
   *  that is annotated with 'uncheckedVariance' is mapped to the corresponding
   *  primitive type losing the annotation.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="239032">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="606325">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Type" id="606326">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span class="keyword">class</span> <a title="class FullTypeMap extends SpecializeTypes.this.global.SubstTypeMap with SpecializeTypes.this.global.AnnotationFilter with ScalaObject" id="609797">FullTypeMap</a><a href="#609797" title="ScalaObject" class="delimiter">(</a><a title="List[SpecializeTypes.this.global.Symbol]" id="609811">from</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="609812">to</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#40258" title="SpecializeTypes.this.global.SubstTypeMap">SubstTypeMap</a><span class="delimiter">(</span><a href="#609811" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#609812" title="List[SpecializeTypes.this.global.Type]">to</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="../../../reflect/internal/Types.scala.html#40239" title="SpecializeTypes.this.global.AnnotationFilter">AnnotationFilter</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annot: SpecializeTypes.this.global.AnnotationInfo)Boolean" id="609806">keepAnnotation</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.AnnotationInfo" id="609815">annot</a>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#40591" title="SpecializeTypes.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#609815" title="SpecializeTypes.this.global.AnnotationInfo">annot</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#47257" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">matches</a> <a href="../../../reflect/internal/Definitions.scala.html#46697" title="=&gt; SpecializeTypes.this.global.Symbol">uncheckedVarianceClass</a><span class="delimiter">)</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="609807">mapOver</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="609820">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#609820" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="609843">parents</a>, <a title="SpecializeTypes.this.global.Scope" id="609844">decls</a>, <a title="SpecializeTypes.this.global.Symbol" id="609845">clazz</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="609846">parents1</a>  = <a href="#609843" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">mapConserve</span> <a href="#609797" title="FullTypeMap" class="keyword">this</a>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Scope" id="609847">decls1</a>    = <a href="../../../reflect/internal/Types.scala.html#82356" title="(scope: SpecializeTypes.this.global.Scope)SpecializeTypes.this.global.Scope">mapOver</a><span class="delimiter">(</span><a href="#609844" title="SpecializeTypes.this.global.Scope">decls</a><span class="delimiter">)</span>

          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#609846" title="List[SpecializeTypes.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#609843" title="List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#609847" title="SpecializeTypes.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#609844" title="SpecializeTypes.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#609820" title="SpecializeTypes.this.global.Type">tp</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#71108" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#609846" title="List[SpecializeTypes.this.global.Type]">parents1</a>, <a href="#609847" title="SpecializeTypes.this.global.Scope">decls1</a>, <a href="#609845" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt;
          <a href="#609797" title="FullTypeMap" class="keyword">super</a>.<a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#609820" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a href="#609799" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="#609798" title="List[SpecializeTypes.this.global.Symbol]" id="609799">keys</a>, <a href="#609798" title="List[SpecializeTypes.this.global.Type]" id="609800">values</a><span class="delimiter">)</span> = <a href="#606325" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</span>.<span title="(implicit asPair: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])">unzip</span>
    <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#127621" title="(tp0: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">new</a> <a href="#609797" title="FullTypeMap">FullTypeMap</a><span class="delimiter">(</span><a href="#609799" title="List[SpecializeTypes.this.global.Symbol]">keys</a>, <a href="#609800" title="List[SpecializeTypes.this.global.Type]">values</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606326" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="239033">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="606322">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="606323">decl</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> =
    <a href="#606323" title="SpecializeTypes.this.global.Symbol">decl</a> <a href="../../../reflect/internal/Symbols.scala.html#47923" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)decl.type">modifyInfo</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="609915">info</a> =&gt;
      <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#606323" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#606322" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#609915" title="SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42750" title="=&gt; List[SpecializeTypes.this.global.Symbol]">params</a>, <a href="#606323" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#606322" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#609915" title="SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

  /** Checks if the type parameter symbol is not specialized
   *  and is used as type parameters when extending a class with a specialized
   *  type parameter.
   *  At some point we may remove this restriction.
   *
   *  Example:
   *
   *    class Base[@specialized T]
   *    class Derived[T] extends Base[T] // a non-specialized T is
   *                                     // used as a type param for Base
   *                                     // -&gt; returning true
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tsym: SpecializeTypes.this.global.Symbol, supertpe: SpecializeTypes.this.global.Type)Unit" id="239034">notSpecializedIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="609929">tsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="609930">supertpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#609930" title="SpecializeTypes.this.global.Type">supertpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="609936">supersym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="609937">supertargs</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]" id="609938">tspec</a> = <a href="#238961" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#609929" title="SpecializeTypes.this.global.Symbol">tsym</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">toSet</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="609969">supt</a> &lt;- <a href="#609936" title="SpecializeTypes.this.global.Symbol">supersym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]" id="609970">supspec</a> = <a href="#238961" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#609969" title="SpecializeTypes.this.global.Symbol">supt</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">toSet</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#609938" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#609970" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#609938" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Tree])Boolean">subsetOf</span><span class="delimiter">(</span><a href="#609970" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182821" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#609929" title="SpecializeTypes.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span title="String(&quot;Type parameter has to be specialized at least for the same types as in the superclass. Missing types: &quot;)" class="string">&quot;Type parameter has to be specialized at least for the same types as in the superclass. Missing types: &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#609970" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Tree])scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">diff</span><span class="delimiter">(</span><a href="#609938" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="Unit">_</span> =&gt; //log(&quot;nope&quot;)
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)Boolean" id="239035">unspecializableClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="609991">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46396" title="(tp: SpecializeTypes.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#609991" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>  // ???
    <span title="(x: Boolean)Boolean">||</span> <a href="#609991" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48117" title="=&gt; Boolean">isJavaDefined</a>
    <span title="(x: Boolean)Boolean">||</span> <a href="#609991" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a>
  <span class="delimiter">)</span>

  /** Type transformation. It is applied to all symbols, compiled or loaded.
   *  If it is a 'no-specialization' run, it is applied only to loaded symbols.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="239036">transformInfo</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="609995">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="609996">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183352" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185267" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#609995" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#609996" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="keyword">else</span> <a href="#609996" title="SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; SpecializeTypes.this.global.Type">resultType</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="SpecializeTypes.this.global.Type" id="610004">cinfo</a> @ ClassInfoType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="610008">parents</a>, <a title="SpecializeTypes.this.global.Scope" id="610009">decls</a>, <a title="SpecializeTypes.this.global.Symbol" id="610010">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#239035" title="(tp: SpecializeTypes.this.global.Type)Boolean">unspecializableClass</a><span class="delimiter">(</span><a href="#610004" title="SpecializeTypes.this.global.ClassInfoType">cinfo</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="610011">tparams</a>  = <a href="#609996" title="SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#610011" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#610008" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#610034" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="610012">parents1</a> = <a href="#610008" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#239002" title="=&gt; SpecializeTypes.this.global.TypeMap">specializedType</a>
        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;transformInfo %s %s with parents1 %s ph: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#610011" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span title="String(&quot; (poly)&quot;)" class="string">&quot; (poly)&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>,
          <a href="#610010" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#610012" title="List[SpecializeTypes.this.global.Type]">parents1</a>, <a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Scope" id="610013">newScope</a> = <a href="../../../reflect/internal/Scopes.scala.html#61746" title="(decls: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="SpecializeTypes.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#239022" title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">specializeClass</a><span class="delimiter">(</span><a href="#610010" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#610010" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</span> <a href="#239026" title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specialOverrides</a><span class="delimiter">(</span><a href="#610010" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
        // If tparams.isEmpty, this is just the ClassInfoType.
        <a href="../../../reflect/internal/Types.scala.html#40205" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#610011" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#71108" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#610012" title="List[SpecializeTypes.this.global.Type]">parents1</a>, <a href="#610013" title="SpecializeTypes.this.global.Scope">newScope</a>, <a href="#610010" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt;
        <a href="#609996" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Is any type variable in `env` conflicting with any if its type bounds, when
   *  type bindings in `env` are taken into account?
   *
   *  A conflicting type environment could still be satisfiable.
   */
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="239037">conflicting</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="610190">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#239038" title="(env: SpecializeTypes.this.TypeEnv)Boolean">nonConflicting</a><span class="delimiter">(</span><a href="#610190" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="239038">nonConflicting</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="607108">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <a href="#607108" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Boolean)Boolean">forall</span> <a href="#607116" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="607119">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="607120">tpe</a><span class="delimiter">)</span> =&gt;
    <span class="delimiter">(</span><a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#607108" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#607119" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; SpecializeTypes.this.global.Type">lo</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#607120" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#607120" title="SpecializeTypes.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#607108" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#607119" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** The type environment is sound w.r.t. to all type bounds or only soft
   *  conflicts appear. An environment is sound if all bindings are within
   *  the bounds of the given type variable. A soft conflict is a binding
   *  that does not fall within the bounds, but whose bounds contain
   *  type variables that are @specialized, (that could become satisfiable).
   */
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="239039">satisfiable</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="607070">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#239040" title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#607070" title="SpecializeTypes.this.TypeEnv">env</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean" id="239040">satisfiable</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="607067">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="607068">warnings</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean" id="610197">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="610198">tpe1</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="610199">tpe2</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="610200">t1</a> = <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#607067" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#610198" title="SpecializeTypes.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="610201">t2</a> = <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#607067" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#610199" title="SpecializeTypes.this.global.Type">tpe2</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><span class="delimiter">(</span><a href="#610200" title="SpecializeTypes.this.global.Type">t1</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#610201" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#610200" title="SpecializeTypes.this.global.Type">t1</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#610201" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
     <span class="delimiter">}</span>

    <a href="#607067" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Boolean)Boolean">forall</span> <a href="#610235" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610238">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="610239">tpe</a><span class="delimiter">)</span> =&gt;
      <a href="#610197" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#610238" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="#610239" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#610197" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#610239" title="SpecializeTypes.this.global.Type">tpe</a>, <a href="#610238" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#607068" title="Boolean">warnings</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182820" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#610238" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span title="String(&quot;Bounds prevent specialization of &quot;)" class="string">&quot;Bounds prevent specialization of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610238" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span>

        <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;specvars: &quot;)" class="string">&quot;specvars: &quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#610238" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; SpecializeTypes.this.global.Type">lo</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#610238" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66850" title="=&gt; SpecializeTypes.this.global.Type">lo</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#607067" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#610238" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#607067" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#610238" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42736" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#66852" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class Duplicator extends scala.tools.nsc.typechecker.Duplicators with ScalaObject" id="239041">Duplicator</a> <a href="#239041" title="ScalaObject" class="keyword">extends</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SpecializeTypes.this.global.type" id="610267">global</a>: SpecializeTypes.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#29526" title="SpecializeTypes.this.type">SpecializeTypes</a>.<span class="keyword">this</span>.<a href="TypingTransformers.scala.html#238437" title="=&gt; scala.tools.nsc.Global">global</a>
  <span class="delimiter">}</span> <span class="keyword">with</span> typechecker.<a href="../typechecker/Duplicators.scala.html#30772" title="scala.tools.nsc.typechecker.Duplicators">Duplicators</a>

  /** A tree symbol substituter that substitutes on type skolems.
   *  If a type parameter is a skolem, it looks for the original
   *  symbol in the 'from' and maps it to the corresponding new
   *  symbol. The new symbol should probably be a type skolem as
   *  well (not enforced).
   *
   *  All private members are made protected in order to be accessible from
   *  specialized classes.
   */
  <span class="keyword">class</span> <a title="class ImplementationAdapter extends SpecializeTypes.this.global.TreeSymSubstituter with ScalaObject" id="239042">ImplementationAdapter</a><a href="#239042" title="ScalaObject" class="delimiter">(</a><a title="List[SpecializeTypes.this.global.Symbol]" id="583210">from</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                              <a title="List[SpecializeTypes.this.global.Symbol]" id="583211">to</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                              <a title="SpecializeTypes.this.global.Symbol" id="583212">targetClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>,
                              <a title="Boolean" id="583213">addressFields</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../reflect/internal/Trees.scala.html#40648" title="SpecializeTypes.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><a href="#583210" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#583211" title="List[SpecializeTypes.this.global.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="SpecializeTypes.this.global.SubstSymMap" id="583205">symSubst</a> = <a href="#610273" title="SpecializeTypes.this.global.SubstSymMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40257" title="anonymous class $anon extends SpecializeTypes.this.global.SubstSymMap" id="610273">SubstSymMap</a><span class="delimiter">(</span><a href="#583210" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#583211" title="List[SpecializeTypes.this.global.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym1: SpecializeTypes.this.global.Symbol, sym2: SpecializeTypes.this.global.Symbol)Boolean" id="610275">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610276">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="610277">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#610277" title="SpecializeTypes.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#47811" title="=&gt; Boolean">isTypeSkolem</a><span class="delimiter">)</span> <a href="#610277" title="SpecializeTypes.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#48025" title="=&gt; SpecializeTypes.this.global.Symbol">deSkolemize</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#610276" title="SpecializeTypes.this.global.Symbol">sym1</a>
        <span class="keyword">else</span> <a href="#610276" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#610277" title="SpecializeTypes.this.global.Symbol">sym2</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="583207">isAccessible</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610298">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <span class="delimiter">(</span><a href="#239042" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#610298" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#239042" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#583212" title="SpecializeTypes.this.global.Symbol">targetClass</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="583208">shouldMakePublic</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610311">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#610311" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#583213" title="Boolean">addressFields</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60674" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#610311" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** All private members that are referenced are made protected,
     *  in order to be accessible from specialized subclasses.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="583209">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="610317">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <a href="#610317" title="SpecializeTypes.this.global.Tree">tree</a> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="610326">qual</a>, <a title="SpecializeTypes.this.global.Name" id="610327">name</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="610328">sym</a> = <a href="#610317" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;seeing private member %s, currentClass: %s, owner: %s, isAccessible: %b, isLocalName: %b&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#239042" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a>, <a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>, <a href="#583207" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60674" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#583208" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">shouldMakePublic</a><span class="delimiter">(</span><a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#583207" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;changing private flag of &quot;)" class="string">&quot;changing private flag of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48027" title="(base: SpecializeTypes.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#610328" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#239042" title="SpecializeTypes.this.ImplementationAdapter" class="keyword">super</a>.<a href="../../../reflect/internal/Trees.scala.html#126027" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610317" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">_</span> =&gt;
        <a href="#239042" title="SpecializeTypes.this.ImplementationAdapter" class="keyword">super</a>.<a href="../../../reflect/internal/Trees.scala.html#126027" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610317" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Return the generic class corresponding to this specialized class. */
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="239043">originalClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610340">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a> =
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#238959" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#610340" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#610346" title="SpecializeTypes.this.global.Name" id="610342" class="delimiter">(</a><a title="SpecializeTypes.this.global.Name" id="610346">originalName</a>, _, _<span class="delimiter">)</span> = <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60687" title="(name: SpecializeTypes.this.global.Name)(SpecializeTypes.this.global.Name, String, String)">splitSpecializedName</a><span title="(SpecializeTypes.this.global.Name, String, String) @unchecked" class="delimiter">(</span><a href="#610340" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      <a href="#610340" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#610342" title="SpecializeTypes.this.global.Name">originalName</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47969" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#610350" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>

  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)Boolean" id="239044">illegalSpecializedInheritance</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610351">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span>
       <a href="#238959" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#610351" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span> 
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#239043" title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">originalClass</a><span class="delimiter">(</span><a href="#610351" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47994" title="=&gt; List[SpecializeTypes.this.global.Symbol]">parentSymbols</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610361">p</a> =&gt; <a href="#238998" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedParams</a><span class="delimiter">(</span><a href="#610361" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#610361" title="SpecializeTypes.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; type CollectMethodBodies &lt;: SpecializeTypes.this.global.Traverser with ScalaObject; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" id="239045">specializeCalls</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.CompilationUnit" id="610362">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> = <a href="#610365" title="SpecializeTypes.this.TypingTransformer {val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def &lt;init&gt;(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">new</a> <a href="TypingTransformers.scala.html#238439" title="anonymous class $anon extends SpecializeTypes.this.TypingTransformer" id="610365">TypingTransformer</a><span class="delimiter">(</span><a href="#610362" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    /** Map a specializable method to it's rhs, when not deferred. */
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]" id="610367">body</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">Map</span><span class="delimiter">[</span>Symbol, Tree<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">HashMap</span>

    /** Map a specializable method to its value parameter symbols. */
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]" id="610369">parameters</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]">HashMap</span>

    /** Collect method bodies that are concrete specialized methods.
     */
    <span class="keyword">class</span> <a title="class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject" id="610371">CollectMethodBodies</a> <a href="#610371" title="ScalaObject" class="keyword">extends</a> <a href="TypingTransformers.scala.html#238437" title="SpecializeTypes.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)Unit" id="610415">traverse</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="610417">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span>  <span title="Unit">DefDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="610443">mods</a>, <a title="SpecializeTypes.this.global.Name" id="610444">name</a>, <a title="List[SpecializeTypes.this.global.TypeDef]" id="610445">tparams</a>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="610446">vparamss</a>, <a title="SpecializeTypes.this.global.Tree" id="610447">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="610448">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238956" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">concreteSpecMethods</a><span class="delimiter">(</span><a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;!!! adding body of a defdef %s, symbol %s: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>, <a href="#610448" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#610367" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.global.Tree)Unit">body</a><span class="delimiter">(</span><a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="#610448" title="SpecializeTypes.this.global.Tree">rhs</a>
            //          body(tree.symbol) = tree // whole method
            <a href="#610369" title="(key: SpecializeTypes.this.global.Symbol, value: List[List[SpecializeTypes.this.global.Symbol]])Unit">parameters</a><span class="delimiter">(</span><a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="../../../reflect/internal/util/Collections.scala.html#39564" title="(xss: List[List[SpecializeTypes.this.global.ValDef]])(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">mmap</a><span class="delimiter">(</span><a href="#610446" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#610506" title="SpecializeTypes.this.global.ValDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#238956" title="=&gt; scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a> <span title="(elem: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.concreteSpecMethods.type">-=</span> <a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
          <span class="delimiter">}</span> // no need to descend further down inside method bodies

        <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="610526">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="610527">name</a>, <a title="SpecializeTypes.this.global.Tree" id="610528">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="610529">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#238956" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">concreteSpecMethods</a><span class="delimiter">(</span><a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
          <a href="#610367" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.global.Tree)Unit">body</a><span class="delimiter">(</span><a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="#610529" title="SpecializeTypes.this.global.Tree">rhs</a>
          // log(&quot;!!! adding body of a valdef &quot; + tree.symbol + &quot;: &quot; + rhs)
          //super.traverse(tree)
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <a href="#610371" title="this.CollectMethodBodies" class="keyword">super</a>.<span title="(tree: SpecializeTypes.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#610417" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(origSymbol: SpecializeTypes.this.global.Symbol, treeType: SpecializeTypes.this.global.Type, memberType: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv)Boolean" id="610372">doesConform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610379">origSymbol</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="610380">treeType</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="610381">memberType</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.TypeEnv" id="610382">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> =
      <span class="delimiter">(</span><a href="#610380" title="SpecializeTypes.this.global.Type">treeType</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: SpecializeTypes.this.global.Type)Boolean">=:=</a> <a href="#610381" title="SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span> // anyref specialization
        <a href="#610381" title="SpecializeTypes.this.global.Type">memberType</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="610387">resTpe</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Conformance for anyref - polytype with result type: &quot;)" class="string">&quot;Conformance for anyref - polytype with result type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610387" title="SpecializeTypes.this.global.Type">resTpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610380" title="SpecializeTypes.this.global.Type">treeType</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nOrig. sym.: &quot;)" class="string">&quot;\nOrig. sym.: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610379" title="SpecializeTypes.this.global.Symbol">origSymbol</a><span class="delimiter">)</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="610388">e</a> = <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#610379" title="SpecializeTypes.this.global.Symbol">origSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#610381" title="SpecializeTypes.this.global.Type">memberType</a>, <a href="#238940" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;obtained env: &quot;)" class="string">&quot;obtained env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610388" title="SpecializeTypes.this.TypeEnv">e</a><span class="delimiter">)</span>
              <a href="#610388" title="SpecializeTypes.this.TypeEnv">e</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#610382" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
                <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Could not unify.&quot;)" class="string">&quot;Could not unify.&quot;</span><span class="delimiter">)</span>
                <span title="Boolean(false)" class="keyword">false</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="610373">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="610400">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="610545">symbol</a> = <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>

      /** The specialized symbol of 'tree.symbol' for tree.tpe, if there is one */
      <span class="keyword">def</span> <a title="(qual: SpecializeTypes.this.global.Tree)Option[SpecializeTypes.this.global.Symbol]" id="610546">specSym</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="610547">qual</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[SpecializeTypes.this.global.Symbol]">Option</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="610548">env</a> = <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#238940" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[specSym] checking for rerouting: %s with \n\tsym.tpe: %s, \n\ttree.tpe: %s \n\tenv: %s \n\tname: %s&quot;</span>
                .<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#610548" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#610548" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#610548" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>  // a method?
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="610562">specCandidates</a> = <a href="#610547" title="SpecializeTypes.this.global.Tree">qual</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#610548" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="610563">specMember</a> = <a href="#610562" title="SpecializeTypes.this.global.Symbol">specCandidates</a> <a href="../../../reflect/internal/Symbols.scala.html#47969" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="610574">s</a> =&gt;
            <a href="#610372" title="(origSymbol: SpecializeTypes.this.global.Symbol, treeType: SpecializeTypes.this.global.Type, memberType: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv)Boolean">doesConform</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#610547" title="SpecializeTypes.this.global.Tree">qual</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#610574" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span>, <a href="#610548" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;[specSym] found: &quot;)" class="string">&quot;[specSym] found: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610562" title="SpecializeTypes.this.global.Symbol">specCandidates</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, instantiated as: &quot;)" class="string">&quot;, instantiated as: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;[specSym] found specMember: &quot;)" class="string">&quot;[specSym] found specMember: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610563" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#610563" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#238964" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#603396" title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean">includes</a><span class="delimiter">(</span><a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#610563" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#610548" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.global.Symbol)Some[SpecializeTypes.this.global.Symbol]">Some</span><span class="delimiter">(</span><a href="#610563" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;wrong environments for specialized member: \n\ttypeEnv(%s) = %s\n\tenv = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#610563" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#610563" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#610548" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="object None">None</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="object None">None</span>
      <span class="delimiter">}</span>

      <a href="TypingTransformers.scala.html#586827" title="(x$1: SpecializeTypes.this.global.Tree)Unit">curTree</a> = <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>
      <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="610630">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="610631">args</a><span class="delimiter">)</span> =&gt;
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#239050" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#610630" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#610630" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // the ctor can be specialized
            <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;** instantiated specialized type: &quot;)" class="string">&quot;** instantiated specialized type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#239050" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#610630" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">atPos</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span>
                <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
                  <a href="TypingTransformers.scala.html#238437" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span>
                    <a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(tpt: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.New">New</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#239050" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#610630" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>,
                    <a href="#610365" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#610631" title="List[SpecializeTypes.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="SpecializeTypes.this.global.Tree" id="610716">te</a>: <a href="../../../reflect/internal/Types.scala.html#40384" title="SpecializeTypes.this.global.TypeError">TypeError</a> =&gt;
                <a href="../Global.scala.html#182845" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#182821" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="#610716" title="SpecializeTypes.this.global.TypeError">te</a>.<a href="../../../reflect/internal/Types.scala.html#67272" title="=&gt; String">msg</a><span class="delimiter">)</span>
                <a href="#610365" title="SpecializeTypes.this.TypingTransformer {val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def &lt;init&gt;(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#610365" title="SpecializeTypes.this.TypingTransformer {val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def &lt;init&gt;(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">TypeApply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="610727">qual</a>, <a title="SpecializeTypes.this.global.Name" id="610728">name</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="610729">targs</a><span class="delimiter">)</span>
                <span class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#610728" title="SpecializeTypes.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;checking typeapp for rerouting: &quot;)" class="string">&quot;checking typeapp for rerouting: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with sym.tpe: &quot;)" class="string">&quot; with sym.tpe: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree.tpe: &quot;)" class="string">&quot; tree.tpe: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="610741">qual1</a> = <a href="#610373" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610727" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
          // log(&quot;&gt;&gt;&gt; TypeApply: &quot; + tree + &quot;, qual1: &quot; + qual1)
          <a href="#610546" title="(qual: SpecializeTypes.this.global.Tree)Option[SpecializeTypes.this.global.Symbol]">specSym</a><span class="delimiter">(</span><a href="#610741" title="SpecializeTypes.this.global.Tree">qual1</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610744">specMember</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;found &quot;)" class="string">&quot;found &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610744" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182893" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#610729" title="List[SpecializeTypes.this.global.Tree]">targs</a>.<span title="=&gt; Int">length</span>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">typeParams</a> <span title="(other: String)String">+</span> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610729" title="List[SpecializeTypes.this.global.Tree]">targs</a><span class="delimiter">)</span><span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="610745">env</a> = <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#610744" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Tree]" id="610746">residualTargs</a> = <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)]">zip</span> <a href="#610729" title="List[SpecializeTypes.this.global.Tree]">targs</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),SpecializeTypes.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)],SpecializeTypes.this.global.Tree,List[SpecializeTypes.this.global.Tree]])List[SpecializeTypes.this.global.Tree]">collect</span> <a href="#610851" title="SpecializeTypes.this.global.Tree" class="delimiter">{</a>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="610854">tvar</a>, <a title="SpecializeTypes.this.global.Tree" id="610855">targ</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#610745" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#610854" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#610745" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#610854" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <a href="#610855" title="SpecializeTypes.this.global.Tree">targ</a>
              <span class="delimiter">}</span>

              <a href="../Global.scala.html#182893" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#610746" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#610744" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>,
                <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;residual: %s, tparams: %s, env: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#610746" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#610745" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.gen.global.Tree" id="610747">tree1</a> = <a href="../Global.scala.html#182860" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92639" title="(fun: SpecializeTypes.this.global.gen.global.Tree, targs: List[SpecializeTypes.this.global.gen.global.Tree])SpecializeTypes.this.global.gen.global.Tree">mkTypeApply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#610741" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#610744" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#610746" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;rewrote &quot;)" class="string">&quot;rewrote &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610747" title="SpecializeTypes.this.global.gen.global.Tree">tree1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184442" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.gen.global.Tree)SpecializeTypes.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#610747" title="SpecializeTypes.this.global.gen.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">)</span> // being polymorphic, it must be a method

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">None</span> =&gt; <a href="#610365" title="SpecializeTypes.this.TypingTransformer {val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def &lt;init&gt;(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Name" id="610958">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#239044" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">illegalSpecializedInheritance</a><span class="delimiter">(</span><a href="#610365" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Position" id="610959">pos</a> = <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#610959" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183787" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#185145" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#187399" title="=&gt; String">name</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#610959" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183814" title="=&gt; Int">line</a><span title="(x$1: Any)String">+</span><span title="String(&quot;: not specializing call to super inside illegal specialized inheritance class.&quot;)" class="string">&quot;: not specializing call to super inside illegal specialized inheritance class.&quot;</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#610959" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183817" title="=&gt; String">lineContent</a><span class="delimiter">)</span>
          <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="610964">qual</a>, <a title="SpecializeTypes.this.global.Name" id="610965">name</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[%s] looking at Select: %s sym: %s: %s [tree.tpe: %s]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>.<a href="../util/Position.scala.html#183820" title="=&gt; Int">safeLine</a>, <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>

          //log(&quot;!!! select &quot; + tree + &quot; -&gt; &quot; + symbol.info + &quot; specTypeVars: &quot; + specializedTypeVars(symbol.info))
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#239015" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#610965" title="SpecializeTypes.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // log(&quot;!!! unifying &quot; + (symbol, symbol.tpe) + &quot; and &quot; + (tree, tree.tpe))
            <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="610983">env</a> = <a href="#239029" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#238940" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            // log(&quot;!!! found env: &quot; + env + &quot;; overloads: &quot; + overloads(symbol))
            <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;checking for rerouting: &quot;)" class="string">&quot;checking for rerouting: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with sym.tpe: &quot;)" class="string">&quot; with sym.tpe: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree.tpe: &quot;)" class="string">&quot; tree.tpe: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610983" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
            <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#610983" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Option[SpecializeTypes.this.Overload]" id="610990">specMember</a> = <a href="#239004" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.Overload]">overload</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#610983" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
              //log(&quot;!!! found member: &quot; + specMember)
              <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#610990" title="Option[SpecializeTypes.this.Overload]">specMember</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                // log(&quot;** routing &quot; + tree + &quot; to &quot; + specMember.get.sym.fullName)
                <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184442" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#610373" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610964" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#610990" title="Option[SpecializeTypes.this.Overload]">specMember</a>.<span title="=&gt; SpecializeTypes.this.Overload">get</span>.<a href="#606973" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="611017">qual1</a> = <a href="#610373" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610964" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="611018">specMember</a> = <a href="#611017" title="SpecializeTypes.this.global.Tree">qual1</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#610983" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47969" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#611029" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42801" title="(that: SpecializeTypes.this.global.Type)Boolean">matches</a> <a href="#239032" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#610983" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#611018" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // log(&quot;** using spec member &quot; + specMember + &quot;: &quot; + specMember.tpe)
                  <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Select" id="611037">tree1</a> = <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#611017" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#611018" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#611018" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
                    <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184442" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="#611037" title="SpecializeTypes.this.global.Select">tree1</a><span class="delimiter">)</span>
                  <span class="keyword">else</span>
                    <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#611037" title="SpecializeTypes.this.global.Select">tree1</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, qualifier: SpecializeTypes.this.global.Tree, selector: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#611017" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#610965" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#610365" title="SpecializeTypes.this.TypingTransformer {val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def &lt;init&gt;(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#238946" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]">overloads</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.Overload =&gt; Boolean)Option[SpecializeTypes.this.Overload]">find</span><span class="delimiter">(</span><a href="#611087" title="SpecializeTypes.this.Overload">_</a>.<a href="#606973" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a> <a href="../../../reflect/internal/Types.scala.html#42799" title="(that: SpecializeTypes.this.global.Type)Boolean">=:=</a> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.Overload" id="611093">specMember</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="611094">qual1</a> = <a href="#610373" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610964" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;** routing &quot;)" class="string">&quot;** routing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611093" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#606973" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree: &quot;)" class="string">&quot; tree: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#611094" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#611093" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#606973" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184442" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#611094" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#611093" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#606973" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">None</span> =&gt;
                <a href="#610365" title="SpecializeTypes.this.TypingTransformer {val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def &lt;init&gt;(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.RefTree" id="611139">pid</a>, <a title="List[SpecializeTypes.this.global.Tree]" id="611140">stats</a><span class="delimiter">)</span> =&gt;
          <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a> // make sure specializations have been performed
          <a href="TypingTransformers.scala.html#586835" title="(tree: SpecializeTypes.this.global.Tree, owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; SpecializeTypes.this.global.PackageDef)SpecializeTypes.this.global.PackageDef">atOwner</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.analyzer.global.Tree]" id="611162">specMembers</a> = <a href="#610378" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">implSpecClasses</a><span class="delimiter">(</span><a href="#611140" title="List[SpecializeTypes.this.global.Tree]">stats</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.analyzer.global.Tree,List[SpecializeTypes.this.global.analyzer.global.Tree]])List[SpecializeTypes.this.global.analyzer.global.Tree]">map</span> <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a>
            <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, pid: SpecializeTypes.this.global.RefTree, stats: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#611139" title="SpecializeTypes.this.global.RefTree">pid</a>, <a href="#610365" title="(stats: List[SpecializeTypes.this.global.Tree], exprOwner: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#611140" title="List[SpecializeTypes.this.global.Tree]">stats</a> <a href="#611226" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <a href="#611162" title="List[SpecializeTypes.this.global.analyzer.global.Tree]">specMembers</a>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#48010" title="=&gt; SpecializeTypes.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Tree]" id="611248">parents</a>, <a title="SpecializeTypes.this.global.ValDef" id="611249">self</a>, <a title="List[SpecializeTypes.this.global.Tree]" id="611250">body</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.analyzer.global.Tree]" id="611251">specMembers</a> = <a href="#610377" title="(sClass: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">makeSpecializedMembers</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <a href="#611253" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#610378" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">implSpecClasses</a><span class="delimiter">(</span><a href="#611250" title="List[SpecializeTypes.this.global.Tree]">body</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.analyzer.global.Tree,List[SpecializeTypes.this.global.analyzer.global.Tree]])List[SpecializeTypes.this.global.analyzer.global.Tree]">map</span> <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><span title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="keyword">new</span> <a href="#610371" title="this.CollectMethodBodies">CollectMethodBodies</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TypeTree]" id="611252">parents1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[SpecializeTypes.this.global.Type], xs2: List[SpecializeTypes.this.global.Tree])(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Tree) =&gt; SpecializeTypes.this.global.TypeTree)List[SpecializeTypes.this.global.TypeTree]">map2</a><span class="delimiter">(</span><a href="#610365" title="=&gt; SpecializeTypes.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>, <a href="#611248" title="List[SpecializeTypes.this.global.Tree]">parents</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="611373">tpe</a>, <a title="SpecializeTypes.this.global.Tree" id="611374">parent</a><span class="delimiter">)</span> =&gt;
            <a href="TypingTransformers.scala.html#238437" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#611373" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.TypeTree">setPos</span> <a href="#611374" title="SpecializeTypes.this.global.Tree">parent</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span>
          
          <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, parents: List[SpecializeTypes.this.global.Tree], self: SpecializeTypes.this.global.ValDef, body: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Template">Template</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>,
            <a href="#611252" title="List[SpecializeTypes.this.global.TypeTree]">parents1</a>    /*currentOwner.info.parents.map(tpe =&gt; TypeTree(tpe) setPos parents.head.pos)*/ ,
            <a href="#611249" title="SpecializeTypes.this.global.ValDef">self</a>,
            <a href="TypingTransformers.scala.html#586832" title="(owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">atOwner</a><span class="delimiter">(</span><a href="#610365" title="=&gt; SpecializeTypes.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#610365" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#611250" title="List[SpecializeTypes.this.global.Tree]">body</a> <a href="#611402" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <a href="#611251" title="List[SpecializeTypes.this.global.analyzer.global.Tree]">specMembers</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="SpecializeTypes.this.global.Tree" id="611412">ddef</a> @ DefDef<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="611421">mods</a>, <a title="SpecializeTypes.this.global.Name" id="611422">name</a>, <a title="List[SpecializeTypes.this.global.TypeDef]" id="611423">tparams</a>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="611424">vparamss</a>, <a title="SpecializeTypes.this.global.Tree" id="611425">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="611426">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#238948" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          // log(&quot;--&gt; method: &quot; + ddef + &quot; in &quot; + ddef.symbol.owner + &quot;, &quot; + info(symbol))
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>

            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="611430">t</a> = <a href="TypingTransformers.scala.html#586832" title="(owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atOwner</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="611446">superRef</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qual: SpecializeTypes.this.global.Tree, mix: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.Super">Super</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qual: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.This">This</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40550" title="object SpecializeTypes.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60579" title="=&gt; SpecializeTypes.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object SpecializeTypes.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60579" title="=&gt; SpecializeTypes.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60009" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#239047" title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]], clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">forwardCtorCall</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="#611446" title="SpecializeTypes.this.global.Tree">superRef</a>, <a href="#611424" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47851" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
                <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#611421" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#611422" title="SpecializeTypes.this.global.Name">name</a>, <a href="#611423" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#611424" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#611425" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="TypingTransformers.scala.html#238437" title="(stats: List[SpecializeTypes.this.global.Tree], expr: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Tree*)List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#611430" title="SpecializeTypes.this.global.Tree">t</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#238437" title="(value: SpecializeTypes.this.global.Constant)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)SpecializeTypes.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              // duplicate the original constructor
              <a href="#610375" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#611412" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="#603522" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#238948" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.DefDef">Implementation</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="611733">target</a><span class="delimiter">)</span> =&gt;
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#610367" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#611733" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <span title="String(&quot;sym: &quot;)" class="string">&quot;sym: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; target: &quot;)" class="string">&quot; target: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611733" title="SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              // we have an rhs, specialize it
              <span class="keyword">val</span> <a title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="611734">tree1</a> = <a href="#610375" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#611412" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#611733" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;implementation: &quot;)" class="string">&quot;implementation: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611734" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> DefDef<a href="#611736" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.Name, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#611735" title="SpecializeTypes.this.global.Modifiers" id="611736">mods</a>, <a href="#611735" title="SpecializeTypes.this.global.Name" id="611737">name</a>, <a href="#611735" title="List[SpecializeTypes.this.global.TypeDef]" id="611738">tparams</a>, <a href="#611735" title="List[List[SpecializeTypes.this.global.ValDef]]" id="611739">vparamss</a>, <a href="#611735" title="SpecializeTypes.this.global.Tree" id="611740">tpt</a>, <a href="#611735" title="SpecializeTypes.this.global.Tree" id="611741">rhs</a><span class="delimiter">)</span> = <a href="#611734" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>
              <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#611734" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>, <a href="#611736" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#611737" title="SpecializeTypes.this.global.Name">name</a>, <a href="#611738" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#611739" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#611740" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#610373" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#611741" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">NormalizedMember</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="611809">target</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Normalized member: &quot;)" class="string">&quot;Normalized member: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, target: &quot;)" class="string">&quot;, target: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611809" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#611809" title="SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <a href="#239037" title="(env: SpecializeTypes.this.TypeEnv)Boolean">conflicting</a><span class="delimiter">(</span><a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span>
                  <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#611421" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#611422" title="SpecializeTypes.this.global.Name">name</a>, <a href="#611423" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#611424" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#611425" title="SpecializeTypes.this.global.Tree">tpt</a>,
                  <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a> <a href="../Global.scala.html#182860" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235482" title="(message: String)SpecializeTypes.this.global.gen.global.Tree">mkSysErrorCall</a><span class="delimiter">(</span><span title="String(&quot;boom! you stepped on a bug. This method should never be called.&quot;)" class="string">&quot;boom! you stepped on a bug. This method should never be called.&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                // we have an rhs, specialize it
                <span class="keyword">val</span> <a title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="611827">tree1</a> = <a href="#610375" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#611412" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#611809" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;implementation: &quot;)" class="string">&quot;implementation: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611827" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> DefDef<a href="#611829" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.Name, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#611828" title="SpecializeTypes.this.global.Modifiers" id="611829">mods</a>, <a href="#611828" title="SpecializeTypes.this.global.Name" id="611830">name</a>, <a href="#611828" title="List[SpecializeTypes.this.global.TypeDef]" id="611831">tparams</a>, <a href="#611828" title="List[List[SpecializeTypes.this.global.ValDef]]" id="611832">vparamss</a>, <a href="#611828" title="SpecializeTypes.this.global.Tree" id="611833">tpt</a>, <a href="#611828" title="SpecializeTypes.this.global.Tree" id="611834">rhs</a><span class="delimiter">)</span> = <a href="#611827" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>
                <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#611827" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>, <a href="#611829" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#611830" title="SpecializeTypes.this.global.Name">name</a>, <a href="#611831" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#611832" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#611833" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#610373" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#611834" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.DefDef">SpecialOverride</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="611898">target</a><span class="delimiter">)</span> =&gt;
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#610367" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#611898" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <span title="String(&quot;sym: &quot;)" class="string">&quot;sym: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; target: &quot;)" class="string">&quot; target: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611898" title="SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              //debuglog(&quot;moving implementation, body of target &quot; + target + &quot;: &quot; + body(target))
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s is param accessor? %b&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#611412" title="SpecializeTypes.this.global.DefDef">ddef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>, <a href="#611412" title="SpecializeTypes.this.global.DefDef">ddef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48090" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // we have an rhs, specialize it
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="611899">tree1</a> = <a href="#610376" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef">addBody</a><span class="delimiter">(</span><a href="#611412" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#611898" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="delimiter">(</span><span title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#40639" title="SpecializeTypes.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#611898" title="SpecializeTypes.this.global.Symbol">target</a>, <a href="#611899" title="SpecializeTypes.this.global.DefDef">tree1</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#611899" title="SpecializeTypes.this.global.DefDef">tree1</a>.<span title="=&gt; SpecializeTypes.this.global.Tree">rhs</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;changed owners, now: &quot;)" class="string">&quot;changed owners, now: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611899" title="SpecializeTypes.this.global.DefDef">tree1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> DefDef<a href="#611901" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.Name, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#611900" title="SpecializeTypes.this.global.Modifiers" id="611901">mods</a>, <a href="#611900" title="SpecializeTypes.this.global.Name" id="611902">name</a>, <a href="#611900" title="List[SpecializeTypes.this.global.TypeDef]" id="611903">tparams</a>, <a href="#611900" title="List[List[SpecializeTypes.this.global.ValDef]]" id="611904">vparamss</a>, <a href="#611900" title="SpecializeTypes.this.global.Tree" id="611905">tpt</a>, <a href="#611900" title="SpecializeTypes.this.global.Tree" id="611906">rhs</a><span class="delimiter">)</span> = <a href="#611899" title="SpecializeTypes.this.global.DefDef">tree1</a>
              <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#611899" title="SpecializeTypes.this.global.DefDef">tree1</a>, <a href="#611901" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#611902" title="SpecializeTypes.this.global.Name">name</a>, <a href="#611903" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#611904" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#611905" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#610373" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#611906" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>


            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">SpecialOverload</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="611978">original</a>, <a title="SpecializeTypes.this.TypeEnv" id="611979">env</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;completing specialized &quot;)" class="string">&quot;completing specialized &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; calling &quot;)" class="string">&quot; calling &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611978" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;special overload &quot;)" class="string">&quot;special overload &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611978" title="SpecializeTypes.this.global.Symbol">original</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611979" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="611980">t</a> = <a href="../../../reflect/internal/Trees.scala.html#40618" title="(sym: SpecializeTypes.this.global.Symbol, rhs: List[List[SpecializeTypes.this.global.Symbol]] =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>, <span class="delimiter">{</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="612004">vparamss</a> =&gt;
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Apply" id="612005">fun</a> = <a href="TypingTransformers.scala.html#238437" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">This</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#611978" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>,
                                <a href="#239049" title="(fun: SpecializeTypes.this.global.Symbol, vparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Tree]">makeArguments</a><span class="delimiter">(</span><a href="#611978" title="SpecializeTypes.this.global.Symbol">original</a>, <a href="#612004" title="List[List[SpecializeTypes.this.global.Symbol]]">vparamss</a>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">head</span><span class="delimiter">)</span><span class="delimiter">)</span>

                <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;inside defdef: &quot;)" class="string">&quot;inside defdef: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;; type: &quot;)" class="string">&quot;; type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;; owner: &quot;)" class="string">&quot;; owner: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#182860" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92647" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type, tpe: SpecializeTypes.this.global.gen.global.Type, beforeRefChecks: Boolean)SpecializeTypes.this.global.gen.global.Tree">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a href="#612005" title="SpecializeTypes.this.global.Apply">fun</a>,
                  <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42747" title="=&gt; SpecializeTypes.this.global.Type">finalResultType</a>,
                  <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42780" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#611978" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42747" title="=&gt; SpecializeTypes.this.global.Type">finalResultType</a><span class="delimiter">)</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;created special overload tree &quot;)" class="string">&quot;created special overload tree &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611980" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;created &quot;)" class="string">&quot;created &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611980" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#611980" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <a title="SpecializeTypes.this.global.analyzer.global.Tree" id="612061">fwd</a> @ Forward<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;forward: &quot;)" class="string">&quot;forward: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612061" title="SpecializeTypes.this.Forward">fwd</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611412" title="SpecializeTypes.this.global.DefDef">ddef</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="612079">rhs1</a> = <a href="#239046" title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]])SpecializeTypes.this.global.Tree">forwardCall</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="../Global.scala.html#182860" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92628" title="(pre: SpecializeTypes.this.global.gen.global.Type, sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>, <a href="#612061" title="SpecializeTypes.this.Forward">fwd</a>.<a href="#603875" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="#611424" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;--&gt;d completed forwarder to specialized overload: &quot;)" class="string">&quot;--&gt;d completed forwarder to specialized overload: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612061" title="SpecializeTypes.this.Forward">fwd</a>.<a href="#603875" title="=&gt; SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612079" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#611421" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#611422" title="SpecializeTypes.this.global.Name">name</a>, <a href="#611423" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#611424" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#611425" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#612079" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">SpecializedAccessor</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="612109">target</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.gen.global.Tree" id="612110">rhs1</a> = <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#182860" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92629" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#612109" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="TypingTransformers.scala.html#238437" title="(lhs: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92629" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#612109" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#238437" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#611424" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[SpecializeTypes.this.global.ValDef]">head</span>.<span title="=&gt; SpecializeTypes.this.global.ValDef">head</span>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;specialized accessor: &quot;)" class="string">&quot;specialized accessor: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612109" title="SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612110" title="SpecializeTypes.this.global.gen.global.Tree">rhs1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#611421" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#611422" title="SpecializeTypes.this.global.Name">name</a>, <a href="#611423" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#611424" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#611425" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#612110" title="SpecializeTypes.this.global.gen.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Abstract</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="612160">targ</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;abstract: &quot;)" class="string">&quot;abstract: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612160" title="SpecializeTypes.this.global.Symbol">targ</a><span class="delimiter">)</span>
              <span class="keyword">val</span> DefDef<a href="#612162" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.Name, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#612161" title="SpecializeTypes.this.global.Modifiers" id="612162">mods</a>, <a href="#612161" title="SpecializeTypes.this.global.Name" id="612163">name</a>, <a href="#612161" title="List[SpecializeTypes.this.global.TypeDef]" id="612164">tparams</a>, <a href="#612161" title="List[List[SpecializeTypes.this.global.ValDef]]" id="612165">vparamss</a>, <a href="#612161" title="SpecializeTypes.this.global.Tree" id="612166">tpt</a>, <a href="#612161" title="SpecializeTypes.this.global.Tree" id="612167">rhs</a><span class="delimiter">)</span> = <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="612168">t</a> = <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#612162" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#612163" title="SpecializeTypes.this.global.Name">name</a>, <a href="#612164" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#612165" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#612166" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#612167" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#612168" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="612209">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="612210">name</a>, <a title="SpecializeTypes.this.global.Tree" id="612211">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="612212">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48090" title="=&gt; Boolean">isParamAccessor</a> =&gt;
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#610367" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span>, <a href="#610367" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ValDef" id="612213">tree1</a> = <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#612209" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#612210" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#612211" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#610367" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span>.<span title="=&gt; SpecializeTypes.this.global.Tree">duplicate</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;now typing: &quot;)" class="string">&quot;now typing: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612213" title="SpecializeTypes.this.global.ValDef">tree1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.Duplicator" id="612214">d</a> = <span title="SpecializeTypes.this.Duplicator" class="keyword">new</span> <a href="#239041" title="SpecializeTypes.this.Duplicator">Duplicator</a>
          <span class="keyword">val</span> ValDef<a href="#612216" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#612215" title="SpecializeTypes.this.global.Modifiers" id="612216">mods1</a>, <a href="#612215" title="SpecializeTypes.this.global.TermName" id="612217">name1</a>, <a href="#612215" title="SpecializeTypes.this.global.Tree" id="612218">tpt1</a>, <a href="#612215" title="SpecializeTypes.this.global.Tree" id="612219">rhs1</a><span class="delimiter">)</span> = <a href="#612214" title="SpecializeTypes.this.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#583241" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span title="d.global.Tree @unchecked" class="delimiter">(</span>
            <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184334" title="=&gt; SpecializeTypes.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#183956" title="d.Context">Context</a><span class="delimiter">]</span>,
            <a href="#612213" title="SpecializeTypes.this.global.ValDef">tree1</a>,
            <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
            <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
            <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ValDef" id="612220">t</a> = <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a href="#612213" title="SpecializeTypes.this.global.ValDef">tree1</a>, <a href="#612216" title="SpecializeTypes.this.global.Modifiers">mods1</a>, <a href="#612217" title="SpecializeTypes.this.global.TermName">name1</a>, <a href="#612218" title="SpecializeTypes.this.global.Tree">tpt1</a>, <a href="#610373" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#612219" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;valdef &quot;)" class="string">&quot;valdef &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612220" title="SpecializeTypes.this.global.ValDef">t</a><span class="delimiter">)</span>
          <a href="#612220" title="SpecializeTypes.this.global.ValDef">t</a>

//          val tree1 =
//            treeCopy.ValDef(tree, mods, name, tpt,
//              localTyper.typed(
//                Apply(Select(Super(currentClass, nme.EMPTY), symbol.alias.getter(symbol.alias.owner)),
//                      List())))
//          debuglog(&quot;replaced ValDef: &quot; + tree1 + &quot; in &quot; + tree.symbol.owner.fullName)
//          tree1

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Select" id="612400">sel</a> @ Select<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Super" id="612405">sup</a> @ Super<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="612410">qual</a>, <a title="SpecializeTypes.this.global.TypeName" id="612411">name</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Name" id="612412">name1</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="612413">args</a><span class="delimiter">)</span>
          <span class="keyword">if</span> <span class="delimiter">(</span><a href="#612405" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70363" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#612405" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

          <span class="keyword">def</span> <a title="=&gt; List[SpecializeTypes.this.global.Type]" id="612427">parents</a> = <a href="#612405" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#610400" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a> <span title="(other: String)String">+</span> <span title="String(&quot; parents changed from: &quot;)" class="string">&quot; parents changed from: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70363" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#612427" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612427" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.analyzer.global.Tree" id="612428">res</a> = <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
            <a href="TypingTransformers.scala.html#238437" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qual: SpecializeTypes.this.global.Tree, mix: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.Super">Super</a><span class="delimiter">(</span><a href="#612410" title="SpecializeTypes.this.global.Tree">qual</a>, <a href="#612411" title="SpecializeTypes.this.global.TypeName">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Super">setPos</span> <a href="#612405" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="#612412" title="SpecializeTypes.this.global.Name">name1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Select">setPos</span> <a href="#612400" title="SpecializeTypes.this.global.Select">sel</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="#610365" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#612413" title="List[SpecializeTypes.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Apply">setPos</span> <a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;retyping call to super, from: &quot;)" class="string">&quot;retyping call to super, from: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#610545" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612428" title="SpecializeTypes.this.global.analyzer.global.Tree">res</a>.<span title="=&gt; SpecializeTypes.this.global.analyzer.global.Symbol">symbol</span><span class="delimiter">)</span>
          <a href="#612428" title="SpecializeTypes.this.global.analyzer.global.Tree">res</a>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">_</span> =&gt;
          <a href="#610365" title="SpecializeTypes.this.TypingTransformer {val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def &lt;init&gt;(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#610400" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparams: List[SpecializeTypes.this.global.TypeDef])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" id="610374">reskolemize</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.TypeDef]" id="612510">tparams</a>: <span title="List[SpecializeTypes.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="612511">saved</a> = <a href="#612510" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a> <span title="(f: SpecializeTypes.this.global.TypeDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TypeDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#612528" title="SpecializeTypes.this.global.TypeDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184423" title="(tparams: List[SpecializeTypes.this.global.analyzer.global.TypeDef])List[SpecializeTypes.this.global.analyzer.global.TypeDef]">skolemizeTypeParams</a> <a href="#612510" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>
      <span title="(_1: List[SpecializeTypes.this.global.Symbol], _2: List[SpecializeTypes.this.global.Symbol])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</span><a href="#612511" title="List[SpecializeTypes.this.global.Symbol]">saved</a>, <a href="#612510" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a> <span title="(f: SpecializeTypes.this.global.TypeDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TypeDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#612573" title="SpecializeTypes.this.global.TypeDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="610375">duplicateBody</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.DefDef" id="611556">tree</a>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span>, <a title="SpecializeTypes.this.global.Symbol" id="611557">source</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="611558">symbol</a> = <a href="#611556" title="SpecializeTypes.this.global.DefDef">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="611559">meth</a>   = <a href="#610376" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef">addBody</a><span class="delimiter">(</span><a href="#611556" title="SpecializeTypes.this.global.DefDef">tree</a>, <a href="#611557" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="SpecializeTypes.this.Duplicator" id="611560">d</a> = <span title="SpecializeTypes.this.Duplicator" class="keyword">new</span> <a href="#239041" title="SpecializeTypes.this.Duplicator">Duplicator</a>
      <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;--&gt;d DUPLICATING: &quot;)" class="string">&quot;--&gt;d DUPLICATING: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#611559" title="SpecializeTypes.this.global.DefDef">meth</a><span class="delimiter">)</span>
      <a href="#611560" title="SpecializeTypes.this.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#583241" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span class="delimiter">(</span>
        <a href="TypingTransformers.scala.html#586823" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184334" title="=&gt; SpecializeTypes.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#183956" title="d.Context">Context</a><span class="delimiter">]</span>,
        <a href="#611559" title="SpecializeTypes.this.global.DefDef">meth</a>,
        <a href="#611557" title="SpecializeTypes.this.global.Symbol">source</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
        <a href="#611558" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
        <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#611557" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#611558" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Put the body of 'source' as the right hand side of the method 'tree'.
     *  The destination method gets fresh symbols for type and value parameters,
     *  and the body is updated to the new symbols, and owners adjusted accordingly.
     *  However, if the same source tree is used in more than one place, full re-typing
     *  is necessary. @see method duplicateBody
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef" id="610376">addBody</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.DefDef" id="611561">tree</a>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span>, <a title="SpecializeTypes.this.global.Symbol" id="611562">source</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="612603">symbol</a> = <a href="#611561" title="SpecializeTypes.this.global.DefDef">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;specializing body of&quot;)" class="string">&quot;specializing body of&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612603" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612603" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
      <span class="keyword">val</span> DefDef<a href="#612605" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.Name, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#612604" title="SpecializeTypes.this.global.Modifiers" id="612605">mods</a>, <a href="#612604" title="SpecializeTypes.this.global.Name" id="612606">name</a>, <a href="#612604" title="List[SpecializeTypes.this.global.TypeDef]" id="612607">tparams</a>, <a href="#612604" title="List[List[SpecializeTypes.this.global.ValDef]]" id="612608">vparamss</a>, <a href="#612604" title="SpecializeTypes.this.global.Tree" id="612609">tpt</a>, _<span class="delimiter">)</span> = <a href="#611561" title="SpecializeTypes.this.global.DefDef">tree</a>
//      val (_, origtparams) = splitParams(source.typeParams)
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="612610">env</a> = <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#612603" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="612611">boundTvars</a> = <a href="#612610" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="612612">origtparams</a> = <a href="#611562" title="SpecializeTypes.this.global.Symbol">source</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="612669">tparam</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#612611" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">boundTvars</a><span class="delimiter">(</span><a href="#612669" title="SpecializeTypes.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46782" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#612610" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#612669" title="SpecializeTypes.this.global.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;substituting &quot;)" class="string">&quot;substituting &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612612" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#612603" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>

      // skolemize type parameters
      <span class="keyword">val</span> <a href="#612614" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</a><a href="#612613" title="List[SpecializeTypes.this.global.Symbol]" id="612614">oldtparams</a>, <a href="#612613" title="List[SpecializeTypes.this.global.Symbol]" id="612615">newtparams</a><span class="delimiter">)</span> = <a href="#610374" title="(tparams: List[SpecializeTypes.this.global.TypeDef])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">reskolemize</a><span title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#612607" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>

      // create fresh symbols for value parameters to hold the skolem types
      <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="612616">vparamss1</a> = <span title="(xs: List[SpecializeTypes.this.global.ValDef]*)List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="612792">vdef</a> &lt;- <a href="#612608" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>.<span title="(f: SpecializeTypes.this.global.ValDef =&gt; (SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol)]">head</span>; <a title="SpecializeTypes.this.global.Symbol" id="612793">param</a> = <a href="#612792" title="SpecializeTypes.this.global.ValDef">vdef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/Trees.scala.html#40611" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#612793" title="SpecializeTypes.this.global.Symbol">param</a> <a href="../../../reflect/internal/Symbols.scala.html#47971" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a> <a href="#612603" title="SpecializeTypes.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#47924" title="(syms0: List[SpecializeTypes.this.global.Symbol], syms1: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol">substInfo</a> <span class="delimiter">(</span><a href="#612614" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a>, <a href="#612615" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      // replace value and type parameters of the old method with the new ones
      // log(&quot;Adding body for &quot; + tree.symbol + &quot; - origtparams: &quot; + origtparams + &quot;; tparams: &quot; + tparams)
      // log(&quot;Type vars of: &quot; + source + &quot;: &quot; + source.typeParams)
      // log(&quot;Type env of: &quot; + tree.symbol + &quot;: &quot; + boundTvars)
      // log(&quot;newtparams: &quot; + newtparams)
      <span class="keyword">val</span> <a title="SpecializeTypes.this.ImplementationAdapter" id="612617">symSubstituter</a> = <span title="SpecializeTypes.this.ImplementationAdapter" class="keyword">new</span> <a href="#239042" title="SpecializeTypes.this.ImplementationAdapter">ImplementationAdapter</a><span class="delimiter">(</span>
        <a href="#610369" title="(key: SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">parameters</a><span class="delimiter">(</span><a href="#611562" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>.<span title="(implicit asTraversable: List[SpecializeTypes.this.global.Symbol] =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">flatten</span> <a href="#612843" title="(prefix: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">:::</a> <a href="#612612" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a>,
        <a href="#612616" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss1</a>.<span title="(implicit asTraversable: List[SpecializeTypes.this.global.ValDef] =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.ValDef])List[SpecializeTypes.this.global.ValDef]">flatten</span>.<span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]" class="delimiter">(</span><a href="#612960" title="SpecializeTypes.this.global.ValDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <a href="#612912" title="(prefix: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">:::</a> <a href="#612615" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a>,
        <a href="#611562" title="SpecializeTypes.this.global.Symbol">source</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
        <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> // don't make private fields public
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="612618">tmp</a> = <a href="../../../reflect/internal/Trees.scala.html#126028" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">symSubstituter</a><span class="delimiter">(</span><a href="#610367" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#611562" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>.<span title="=&gt; SpecializeTypes.this.global.Tree">duplicate</span><span class="delimiter">)</span>
      <a href="#612609" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="(t: SpecializeTypes.this.global.Type)Unit">tpe</span> = <a href="#612609" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42783" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#612614" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a>, <a href="#612615" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span>

      <a href="#610365" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<span title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#611561" title="SpecializeTypes.this.global.DefDef">tree</a>, <a href="#612605" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#612606" title="SpecializeTypes.this.global.Name">name</a>, <a href="#612607" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#612616" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss1</a>, <a href="#612609" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#612618" title="SpecializeTypes.this.global.Tree">tmp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Create trees for specialized members of 'sClass', based on the
     *  symbols that are already there.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sClass: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]" id="610377">makeSpecializedMembers</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="611254">sClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      // add special overrides first
//      if (!specializedClass.hasFlag(SPECIALIZED))
//        for (m &lt;- specialOverrides(specializedClass)) specializedClass.info.decls.enter(m)
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" id="613018">mbrs</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">var</span> <a title="Boolean" id="613019">hasSpecializedFields</a> = <span title="Boolean(false)" class="keyword">false</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="613049">m</a> &lt;- <a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">decls</a>
             <span class="keyword">if</span> <a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
                 <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#48029" title="=&gt; SpecializeTypes.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
                 <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#239040" title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>, <span title="=&gt; Boolean">!</span><a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;creating tree for &quot;)" class="string">&quot;creating tree for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>  <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238948" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#603522" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a><span class="delimiter">)</span> <a href="#613019" title="Boolean">hasSpecializedFields</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="mbrs.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47802" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="613067">origParamss</a> = <a href="#610369" title="(key: SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">parameters</a><span class="delimiter">(</span><a href="#238948" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#603522" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TermSymbol]" id="613068">vparams</a> = <span class="delimiter">(</span>
              <a href="../../../reflect/internal/util/Collections.scala.html#39578" title="(xs1: List[SpecializeTypes.this.global.Type], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.TermSymbol)List[SpecializeTypes.this.global.TermSymbol]">map2</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a>, <a href="#613067" title="(n: Int)List[SpecializeTypes.this.global.Symbol]">origParamss</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="613144">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="613145">sym</a><span class="delimiter">)</span> =&gt;
                <a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47698" title="(name: SpecializeTypes.this.global.TermName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#239005" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#613145" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#238950" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">typeEnv</a><span class="delimiter">(</span><a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#613145" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#613145" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TermSymbol">setInfo</a> <a href="#613144" title="SpecializeTypes.this.global.Type">tp</a>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
            // param accessors for private members (the others are inherited from the generic class)
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47851" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.TermSymbol" id="613194">param</a> &lt;- <a href="#613068" title="(f: SpecializeTypes.this.global.TermSymbol =&gt; scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree])Unit">vparams</a> ; <span class="keyword">if</span> <a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42770" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#613194" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#71238" title="=&gt; SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="613195">acc</a> = <a href="#613194" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47972" title="(owner: SpecializeTypes.this.global.Symbol, newFlags: Long)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a>, <a href="#613194" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Int)Long">|</span> <span title="Int(536870912)">PARAMACCESSOR</span> <span title="(x: Int)Long">|</span> <span title="Int(4)">PRIVATE</span><span class="delimiter">)</span>
                <a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#613195" title="SpecializeTypes.this.global.Symbol">acc</a><span class="delimiter">)</span>
                <a href="#613018" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../../../reflect/internal/Trees.scala.html#40610" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#613195" title="SpecializeTypes.this.global.Symbol">acc</a>, <a href="TypingTransformers.scala.html#238437" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.ValDef">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40097" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ValDef">setPos</span><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            // ctor
            <a href="#613018" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40614" title="(sym: SpecializeTypes.this.global.Symbol, mods: SpecializeTypes.this.global.Modifiers, vparamss: List[List[SpecializeTypes.this.global.ValDef]], rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="../../../reflect/internal/Trees.scala.html#40602" title="(flags: Long)SpecializeTypes.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/util/Collections.scala.html#39564" title="(xss: List[List[SpecializeTypes.this.global.TermSymbol]])(f: SpecializeTypes.this.global.TermSymbol =&gt; SpecializeTypes.this.global.ValDef)List[List[SpecializeTypes.this.global.ValDef]]">mmap</a><span class="delimiter">(</span><span title="(xs: List[SpecializeTypes.this.global.TermSymbol]*)List[List[SpecializeTypes.this.global.TermSymbol]]">List</span><span class="delimiter">(</span><a href="#613068" title="List[SpecializeTypes.this.global.TermSymbol]">vparams</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40611" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#238437" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#613018" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40618" title="(sym: SpecializeTypes.this.global.Symbol, rhs: List[List[SpecializeTypes.this.global.Symbol]] =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>, <span class="delimiter">{</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="613356">paramss</a> =&gt; <a href="TypingTransformers.scala.html#238437" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a> <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#613018" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../../../reflect/internal/Trees.scala.html#40610" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="TypingTransformers.scala.html#238437" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.ValDef">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40097" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ValDef">setPos</span><span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#613049" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
//           mbrs  +=
//              ClassDef(m, Template(m.info.parents map TypeTree, emptyValDef, List())
//                         .setSymbol(m.newLocalDummy(m.pos)))
//            log(&quot;created synthetic class: &quot; + m.fullName)
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#613019" title="Boolean">hasSpecializedFields</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="613386">isSpecializedInstance</a> = <a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a> <a href="#613388" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47994" title="=&gt; List[SpecializeTypes.this.global.Symbol]">parentSymbols</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#613402" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="613387">sym</a> = <a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47702" title="(name: SpecializeTypes.this.global.TermName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60039" title="=&gt; SpecializeTypes.this.global.nme.NameType">SPECIALIZED_INSTANCE</a>, <a href="#611254" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47926" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodSymbol">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../../../reflect/internal/Definitions.scala.html#46850" title="=&gt; SpecializeTypes.this.global.Symbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>

        <a href="#613018" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#613387" title="SpecializeTypes.this.global.MethodSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/Trees.scala.html#40617" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#613387" title="SpecializeTypes.this.global.MethodSymbol">sym</a>, <a href="TypingTransformers.scala.html#238437" title="(value: SpecializeTypes.this.global.Constant)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)SpecializeTypes.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#613386" title="Boolean">isSpecializedInstance</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Literal">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46850" title="=&gt; SpecializeTypes.this.global.Symbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.DefDef">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40097" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#613018" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a>.<span title="=&gt; List[SpecializeTypes.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>

    /** Create specialized class definitions */
    <span class="keyword">def</span> <a title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]" id="610378">implSpecClasses</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Tree]" id="610405">trees</a>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" id="613452">buf</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="613472">tree</a> &lt;- <a href="#610405" title="(f: SpecializeTypes.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span>
        <a href="#613472" title="SpecializeTypes.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, <a title="SpecializeTypes.this.global.Template" id="613487">impl</a><span class="delimiter">)</span> =&gt;
            <a href="#613472" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a> // force specialization
            <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="613534">sym1</a>, <a title="SpecializeTypes.this.TypeEnv" id="613535">env</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Symbol" id="613536">specCls</a><span class="delimiter">)</span> &lt;- <a href="#238944" title="(f: (((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv), SpecializeTypes.this.global.Symbol)) =&gt; Unit)Unit">specializedClass</a> <span class="keyword">if</span> <a href="#613534" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#613472" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TypeTree]" id="613537">parents</a> = <a href="#613536" title="SpecializeTypes.this.global.Symbol">specCls</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]])List[SpecializeTypes.this.global.TypeTree]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]]" class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">)</span>
              <a href="#613452" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">buf</a> <span title="(x: SpecializeTypes.this.global.Tree)buf.type">+=</span>
                <a href="../../../reflect/internal/Trees.scala.html#40608" title="(sym: SpecializeTypes.this.global.Symbol, impl: SpecializeTypes.this.global.Template)SpecializeTypes.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#613536" title="SpecializeTypes.this.global.Symbol">specCls</a>, <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Template)SpecializeTypes.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#613487" title="SpecializeTypes.this.global.Template">impl</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(parents: List[SpecializeTypes.this.global.Tree], self: SpecializeTypes.this.global.ValDef, body: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Template">Template</a><span class="delimiter">(</span><a href="#613537" title="List[SpecializeTypes.this.global.TypeTree]">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#40612" title="object SpecializeTypes.this.global.emptyValDef">emptyValDef</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                           .<span title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Template">setSymbol</span><span class="delimiter">(</span><a href="#613536" title="SpecializeTypes.this.global.Symbol">specCls</a>.<a href="../../../reflect/internal/Symbols.scala.html#47701" title="(pos: SpecializeTypes.this.global.Position)SpecializeTypes.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#613534" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ClassDef">setPos</span> <a href="#613472" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>
              <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;created synthetic class: &quot;)" class="string">&quot;created synthetic class: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#613536" title="SpecializeTypes.this.global.Symbol">specCls</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#613534" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in env: &quot;)" class="string">&quot; in env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#613535" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#613452" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">buf</a>.<span title="=&gt; List[SpecializeTypes.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]])SpecializeTypes.this.global.Tree" id="239046">forwardCall</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="612080">pos</a>: util.<a href="../util/Position.scala.html#34604" title="scala.tools.nsc.util.Position">Position</a>, <a title="SpecializeTypes.this.global.Tree" id="612081">receiver</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="612082">paramss</a>: <span title="List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.Ident]]" id="613746">argss</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39564" title="(xss: List[List[SpecializeTypes.this.global.ValDef]])(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Ident)List[List[SpecializeTypes.this.global.Ident]]">mmap</a><span class="delimiter">(</span><a href="#612082" title="List[List[SpecializeTypes.this.global.ValDef]]">paramss</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="613767">x</a> =&gt; <a href="TypingTransformers.scala.html#238437" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#613767" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#612080" title="scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="#612081" title="SpecializeTypes.this.global.Tree">receiver</a> <a href="#613785" title="(z: SpecializeTypes.this.global.Tree)(op: (SpecializeTypes.this.global.Tree, List[SpecializeTypes.this.global.Ident]) =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">/:</a> <a href="#613746" title="List[List[SpecializeTypes.this.global.Ident]]">argss</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="object SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Forward to the generic class constructor. If the current class initializes
   *  specialized fields corresponding to parameters, it passes null to the superclass
   *  constructor. This saves the boxing cost for initializing generic fields that are
   *  never used.
   *
   *  For example:
   *  {{{
   *    case class Tuple2[T, U](x: T, y: U)
   *
   *    class Tuple2$II {
   *      val _x$I: Int = ..
   *      def x = _x$I
   *      // same for y
   *      def this(x: Int, y: Int) {
   *        super.this(null.asInstanceOf[Int], null.asInstanceOf[Int])
   *      }
   *    }
   *  }}
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]], clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree" id="239047">forwardCtorCall</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="611498">pos</a>: util.<a href="../util/Position.scala.html#34604" title="scala.tools.nsc.util.Position">Position</a>, <a title="SpecializeTypes.this.global.Tree" id="611499">receiver</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="611500">paramss</a>: <span title="List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="SpecializeTypes.this.global.Symbol" id="611501">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span>

    /** A constructor parameter `f` initializes a specialized field
     *  iff:
     *    - it is specialized itself
     *    - there is a getter for the original (non-specialized) field in the same class
     *    - there is a getter for the specialized field in the same class
     */
    <span class="keyword">def</span> <a title="(f: SpecializeTypes.this.global.Symbol)Boolean" id="613801">initializesSpecializedField</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="613803">f</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#613803" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#53435" title="(suffix: SpecializeTypes.this.global.Name)Boolean">endsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60668" title="=&gt; SpecializeTypes.this.global.TermName">SPECIALIZED_SUFFIX_NAME</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#611501" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60684" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Name">originalName</a><span class="delimiter">(</span><a href="#613803" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48094" title="=&gt; Boolean">isPublic</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#611501" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#613803" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47969" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#613817" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>
    <span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.gen.global.Tree]]" id="613802">argss</a> = <a href="../../../reflect/internal/util/Collections.scala.html#39564" title="(xss: List[List[SpecializeTypes.this.global.ValDef]])(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.gen.global.Tree)List[List[SpecializeTypes.this.global.gen.global.Tree]]">mmap</a><span class="delimiter">(</span><a href="#611500" title="List[List[SpecializeTypes.this.global.ValDef]]">paramss</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="613843">x</a> =&gt;
      <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#613801" title="(f: SpecializeTypes.this.global.Symbol)Boolean">initializesSpecializedField</a><span class="delimiter">(</span><a href="#613843" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#182860" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92646" title="(value: SpecializeTypes.this.global.gen.global.Tree, tpe: SpecializeTypes.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)SpecializeTypes.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(value: SpecializeTypes.this.global.Constant)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)SpecializeTypes.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#613843" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="TypingTransformers.scala.html#238437" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#613843" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#611498" title="scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="#611499" title="SpecializeTypes.this.global.Tree">receiver</a> <a href="#613867" title="(z: SpecializeTypes.this.global.Tree)(op: (SpecializeTypes.this.global.Tree, List[SpecializeTypes.this.global.gen.global.Tree]) =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">/:</a> <a href="#613802" title="List[List[SpecializeTypes.this.global.gen.global.Tree]]">argss</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="object SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Add method m to the set of symbols for which we need an implementation tree
   *  in the tree transformer.
   *
   *  @note This field is part of the specializeTypes subcomponent, so any symbols
   *        that here are not garbage collected at the end of a compiler run!
   */
  <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)Unit" id="239048">addConcreteSpecMethod</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="607077">m</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185267" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#607077" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#238956" title="=&gt; scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a> <span title="(elem: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.concreteSpecMethods.type">+=</span> <a href="#607077" title="SpecializeTypes.this.global.Symbol">m</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fun: SpecializeTypes.this.global.Symbol, vparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Tree]" id="239049">makeArguments</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="612042">fun</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="612043">vparams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">(</span>
    //! TODO: make sure the param types are seen from the right prefix
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="613985">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="613986">arg</a><span class="delimiter">)</span> &lt;- <a href="#612042" title="SpecializeTypes.this.global.Symbol">fun</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <a href="#613958" title="(f: ((SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)) =&gt; SpecializeTypes.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)],SpecializeTypes.this.global.gen.global.Tree,List[SpecializeTypes.this.global.Tree]])List[SpecializeTypes.this.global.Tree]">zip</a> <a href="#612043" title="List[SpecializeTypes.this.global.Symbol]">vparams</a><span class="delimiter">)</span> <span class="keyword">yield</span>
      <a href="../Global.scala.html#182860" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92647" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type, tpe: SpecializeTypes.this.global.gen.global.Type, beforeRefChecks: Boolean)SpecializeTypes.this.global.gen.global.Tree">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#613986" title="SpecializeTypes.this.global.Symbol">arg</a><span class="delimiter">)</span>, <a href="#613985" title="SpecializeTypes.this.global.Type">tp</a>, <a href="#613986" title="SpecializeTypes.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="239050">findSpec</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="610632">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#610632" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="614027">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="614028">sym</a>, _ :: _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#82351" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">specializedType</a><span class="delimiter">(</span><a href="#610632" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span>                         =&gt; <a href="#610632" title="SpecializeTypes.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class SpecializationTransformer extends SpecializeTypes.this.global.Transformer with ScalaObject" id="239051">SpecializationTransformer</a><a href="#239051" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.CompilationUnit" id="603803">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#183129" title="SpecializeTypes.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <a href="../Global.scala.html#182898" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="String(&quot;specializing &quot;)" class="string">&quot;specializing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#603803" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="603802">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="614046">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span> =
      <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183352" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#614046" title="SpecializeTypes.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#239045" title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; type CollectMethodBodies &lt;: SpecializeTypes.this.global.Traverser with ScalaObject; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}">specializeCalls</a><span class="delimiter">(</span><a href="#603803" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>.<a href="TypingTransformers.scala.html#586838" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#614046" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="239052">printSpecStats</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    concreteSpecMembers: %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#238956" title="=&gt; scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    overloads:           %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#238946" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">overloads</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    typeEnv:             %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#238950" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]">typeEnv</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    info:                %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#238948" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>