<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/Mixin.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Mixin extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="28326">Mixin</a> <a href="#28326" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#29973" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#13777" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#184069" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Mixin.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#184073" title="object Mixin.this.CODE">CODE</a>._

  /** The name of the phase: */
  <span class="keyword">val</span> <a title="String" id="239421">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;mixin&quot;)" class="string">&quot;mixin&quot;</span>

  /** The phase might set the following new flags: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="239423">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../../../reflect/internal/Flags.scala.html#39818" title="=&gt; Long">lateMODULE</a> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39820" title="=&gt; Long">notOVERRIDE</a>

  /** This map contains a binding (class -&gt; info) if
   *  the class with this info at phase mixinPhase has been treated for mixin composition
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Type]" id="239424">treatedClassInfos</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object Mixin.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Types.scala.html#40083" title="Mixin.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  /** Map a lazy, mixedin field accessor to it's trait member accessor */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="239426">initializer</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object Mixin.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">]</span>

  /** Deferred bitmaps that will be added during the transformation of a class */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]" id="239428">deferredBitmaps</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object Mixin.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: List[Mixin.this.global.Tree])scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]">withDefaultValue</span> <span title="object Nil">Nil</span>

// --------- helper functions -----------------------------------------------

  /** A member of a trait is implemented statically if its implementation after the
   *  mixin transform is in the static implementation module. To be statically
   *  implemented, a member must be a method that belonged to the trait's implementation class
   *  before (e.g. it is not abstract). Not statically implemented are
   *   - non-private modules: these are implemented directly in the mixin composition class
   *     (private modules, on the other hand, are implemented statically, but their
   *      module variable is not. all such private modules are lifted, because
   *      non-lifted private modules have been eliminated in ExplicitOuter)
   *   - field accessors and superaccessors, except for lazy value accessors which become initializer
   *     methods in the impl class (because they can have arbitrary initializers)
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="239430">isImplementedStatically</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598831">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#598831" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#598831" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#598831" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">||</span> <a href="#598831" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(17179869188L)">|</span> LIFTED<span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#598831" title="Mixin.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#598831" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  /** A member of a trait is static only if it belongs only to the
   *  implementation class, not the interface, and it is implemented
   *  statically.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="239431">isStaticOnly</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598842">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#239430" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#598842" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#598842" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47855" title="=&gt; Boolean">isImplOnly</a>

  /** A member of a trait is forwarded if it is implemented statically and it
   *  is also visible in the trait's interface. In that case, a forwarder to
   *  the member's static implementation will be added to the class that
   *  inherits the trait.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="239432">isForwarded</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598845">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#239430" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#598845" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#598845" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47855" title="=&gt; Boolean">isImplOnly</a>

  /** Maps the type of an implementation class to its interface;
   *  maps all other types to themselves.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="239433">toInterface</a><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="598848">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Mixin.this.global.Type">Type</a> =
    <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185241" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#598848" title="Mixin.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#48009" title="=&gt; Mixin.this.global.Symbol">toInterface</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="239434">isFieldWithBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598857">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#598857" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a> // ensure that nested objects are transformed
    // For checkinit consider normal value getters
    // but for lazy values only take into account lazy getters
    <a href="#598857" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#598857" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#598857" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a>
  <span class="delimiter">}</span>

  /** Does this field require an initialized bit?
   *  Note: fields of classes inheriting DelayedInit are not checked.
   *        This is because the they are neither initialized in the constructor
   *        nor do they have a setter (not if they are vals anyway). The usual
   *        logic for setting bitmaps does therefor not work for such fields.
   *        That's why they are excluded.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="239435">needsInitFlag</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598860">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
        <a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183364" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">checkInit</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#598860" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#598860" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47801" title="=&gt; Boolean">isInitializedToDefault</a>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#598860" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>PARAMACCESSOR | SPECIALIZED <span title="Long(1102195982336L)">|</span> LAZY<span class="delimiter">)</span>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#598860" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(137438953472L)">PRESUPER</span><span class="delimiter">)</span>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#598860" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47844" title="=&gt; Boolean">isOuterAccessor</a>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#598860" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#47964" title="(that: Mixin.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#46370" title="=&gt; Mixin.this.global.Symbol">DelayedInitClass</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  /** Maps all parts of this type that refer to implementation classes to
   *  their corresponding interfaces.
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.TypeMap" id="239436">toInterfaceMap</a> = <a href="#598761" title="Mixin.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#40242" title="anonymous class $anon extends Mixin.this.global.TypeMap" id="598761">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="598763">apply</a><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="598764">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Mixin.this.global.Type">Type</a> = <a href="../../../reflect/internal/Types.scala.html#82353" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">mapOver</a><span class="delimiter">(</span> <a href="#598764" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="598800">pre</a>, <a title="Mixin.this.global.Symbol" id="598801">sym</a>, <a title="List[Mixin.this.global.Type]" id="598802">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#598801" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#40198" title="(pre: Mixin.this.global.Type, sym: Mixin.this.global.Symbol, args: List[Mixin.this.global.Type])Mixin.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#598800" title="Mixin.this.global.Type">pre</a>, <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185241" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#598801" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48009" title="=&gt; Mixin.this.global.Symbol">toInterface</a><span class="delimiter">)</span>, <a href="#598802" title="List[Mixin.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Type">_</span> =&gt; <a href="#598764" title="Mixin.this.global.Type">tp</a>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** The implementation class corresponding to a currently compiled interface.
   *  todo: try to use Symbol.implClass instead?
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="239438">implClass</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598879">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="598881">impl</a> = <a href="#598879" title="Mixin.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#47986" title="=&gt; Mixin.this.global.Symbol">implClass</a>
    <span title="Mixin.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#598881" title="Mixin.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#598881" title="Mixin.this.global.Symbol">impl</a> <span class="keyword">else</span> <a href="../Global.scala.html#182954" title="object Mixin.this.global.erasure">erasure</a>.<a href="AddInterfaces.scala.html#239114" title="(iface: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#598879" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Returns the symbol that is accessed by a super-accessor in a mixin composition.
   *
   *  @param base       The class in which everything is mixed together
   *  @param member     The symbol statically referred to by the superaccessor in the trait
   *  @param mixinClass The mixin class that produced the superaccessor
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol, mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="239439">rebindSuper</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598890">base</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="598891">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="598892">mixinClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> =
    <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185229" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Symbol]" id="598898">bcs</a> = <a href="#598890" title="Mixin.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">dropWhile</span><span class="delimiter">(</span><a href="#598892" title="Mixin.this.global.Symbol">mixinClass</a> <a href="#598914" title="(x$1: AnyRef)Boolean">!=</a><span class="delimiter">)</span>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="598899">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;starting rebindsuper &quot;)" class="string">&quot;starting rebindsuper &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598890" title="Mixin.this.global.Symbol">base</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598891" title="Mixin.this.global.Symbol">member</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598891" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598892" title="Mixin.this.global.Symbol">mixinClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598890" title="Mixin.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598898" title="List[Mixin.this.global.Symbol]">bcs</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#598898" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#598899" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#598900" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183452" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="598931">other</a> = <a href="#598898" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42763" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#598891" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>;
          <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;rebindsuper &quot;)" class="string">&quot;rebindsuper &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598898" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598931" title="Mixin.this.global.Symbol">other</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598931" title="Mixin.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598931" title="Mixin.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#598899" title="Mixin.this.global.Symbol">sym</a> = <a href="#598891" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48011" title="(ofclazz: Mixin.this.global.Symbol, site: Mixin.this.global.Type)Mixin.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#598898" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>, <a href="#598890" title="Mixin.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Mixin.this.global.Type">thisType</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47969" title="(cond: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598947">sym</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#598947" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>DEFERRED <span title="Long(67108880L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#598898" title="List[Mixin.this.global.Symbol]">bcs</a> = <a href="#598898" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      <span class="delimiter">}</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#598899" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#598891" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span>
      <a href="#598899" title="Mixin.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

// --------- type transformation -----------------------------------------------

  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol)Boolean" id="239440">isConcreteAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598965">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#598965" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#598965" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#598965" title="Mixin.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Is member overridden (either directly or via a bridge) in base class sequence `bcs`? */
  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean" id="239441">isOverriddenAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598968">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Symbol]" id="598969">bcs</a>: <span title="List[Mixin.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#228268" title="=&gt; scala.tools.nsc.Phase">ownPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Boolean" id="598975">hasOverridingAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598976">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#598976" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42763" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#598968" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span>
        <a title="Mixin.this.global.Symbol" id="598985">sym</a> =&gt;
          <a href="#239440" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a><span class="delimiter">(</span><a href="#598985" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span title="=&gt; Boolean">!</span><a href="#598985" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">MIXEDIN</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="../../../reflect/internal/Types.scala.html#40334" title="(tp1: Mixin.this.global.Type, tp2: Mixin.this.global.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#598985" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>, <a href="#598968" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#598969" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#598968" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
    <span class="delimiter">(</span><a href="#598975" title="(clazz: Mixin.this.global.Symbol)Boolean">hasOverridingAccessor</a><span class="delimiter">(</span><a href="#598969" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#239441" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#598968" title="Mixin.this.global.Symbol">member</a>, <a href="#598969" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Add given member to given class, and mark member as mixed-in.
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="239442">addMember</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="598996">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="598997">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;new member of &quot;)" class="string">&quot;new member of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598996" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598997" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48059" title="=&gt; String">defString</a><span class="delimiter">)</span>
    <a href="#598996" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a> <a href="#598997" title="Mixin.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)Mixin.this.global.Symbol">setFlag</a> <span title="Long(34359738368L)">MIXEDIN</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="239443">needsExpandedSetterName</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599003">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#599003" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#599003" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#599003" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48111" title="=&gt; Boolean">hasStableFlag</a>
    <span class="keyword">else</span> <span title="=&gt; Boolean">!</span><a href="#599003" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48082" title="=&gt; Boolean">isMutable</a>
  <span class="delimiter">)</span>

  /** Add getters and setters for all non-module fields of an implementation
   *  class to its interface unless they are already present. This is done
   *  only once per class. The mixedin flag is used to remember whether late
   *  members have been added to an interface.
   *    - lazy fields don't get a setter.
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Unit" id="239444">addLateInterfaceMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599006">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#239424" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Type]">treatedClassInfos</a> <span title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">get</span> <a href="#599006" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span><span class="delimiter">(</span><a href="#599006" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#239424" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Type)Unit">treatedClassInfos</a><span class="delimiter">(</span><a href="#599006" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#599006" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185241" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span>

      /** Create a new getter. Getters are never private or local. They are
       *  always accessors and deferred. */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="599019">newGetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599033">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        // println(&quot;creating new getter for &quot;+ field +&quot; : &quot;+ field.info +&quot; at &quot;+ field.locationString+(field hasFlag MUTABLE))
        <span class="keyword">val</span> <a title="Long" id="599034">newFlags</a> = <a href="#599033" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><a href="../../../reflect/internal/Flags.scala.html#39743" title="=&gt; Long">PrivateLocal</a> <span title="(x: Int)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a> <span title="(x: Int)Long">|</span> <span class="delimiter">(</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#599033" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48082" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(4194304)">STABLE</span> <span class="delimiter">)</span>
        // TODO preserve pre-erasure info?
        <a href="#599006" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47702" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60688" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterName</a><span class="delimiter">(</span><a href="#599033" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#599033" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#599034" title="Long">newFlags</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Mixin.this.global.Type)Mixin.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#599033" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Create a new setter. Setters are never private or local. They are
       *  always accessors and deferred. */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="599020">newSetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599066">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        //println(&quot;creating new setter for &quot;+field+field.locationString+(field hasFlag MUTABLE))
        <span class="keyword">val</span> <a title="Mixin.this.global.TermName" id="599067">setterName</a> = <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60690" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60688" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterName</a><span class="delimiter">(</span><a href="#599066" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Long" id="599068">newFlags</a>   = <a href="#599066" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><a href="../../../reflect/internal/Flags.scala.html#39743" title="=&gt; Long">PrivateLocal</a> <span title="(x: Int)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.MethodSymbol" id="599069">setter</a>     = <a href="#599006" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47702" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#599067" title="Mixin.this.global.TermName">setterName</a>, <a href="#599066" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#599068" title="Long">newFlags</a><span class="delimiter">)</span>
        // TODO preserve pre-erasure info?
        <a href="#599069" title="Mixin.this.global.MethodSymbol">setter</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Mixin.this.global.Type)setter.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#599069" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../../../reflect/internal/Symbols.scala.html#47731" title="(argtypes: List[Mixin.this.global.Type])List[Mixin.this.global.Symbol]">newSyntheticValueParams</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.Type*)List[Mixin.this.global.Type]">List</span><span class="delimiter">(</span><a href="#599066" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239443" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#599066" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#599069" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../../../reflect/internal/Symbols.scala.html#47884" title="(name: Mixin.this.global.Name)Unit">name</a> = <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60683" title="(name: Mixin.this.global.TermName, base: Mixin.this.global.Symbol)Mixin.this.global.TermName">expandedSetterName</a><span class="delimiter">(</span><a href="#599069" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../../../reflect/internal/Symbols.scala.html#71238" title="=&gt; Mixin.this.global.TermName">name</a>, <a href="#599006" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        
        <a href="#599069" title="Mixin.this.global.MethodSymbol">setter</a>
      <span class="delimiter">}</span>

      <a href="#599006" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a> // make sure info is up to date, so that implClass is set.
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599021">impl</a> = <a href="#239438" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#599006" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#599021" title="Mixin.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599124">member</a> &lt;- <a href="#599021" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: Mixin.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47856" title="=&gt; Boolean">isModuleVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a>, <a href="#599124" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#599021" title="Mixin.this.global.Symbol">impl</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48027" title="(base: Mixin.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#599006" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> // this will also make getter&amp;setter not private
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599125">getter</a> = <a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#599006" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#599125" title="Mixin.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#239442" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#599006" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599019" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newGetter</a><span class="delimiter">(</span><a href="#599124" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#40127" title="Mixin.this.global.ConstantType">ConstantType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599140">setter</a> = <a href="#599124" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48023" title="(base: Mixin.this.global.Symbol, hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#599006" title="Mixin.this.global.Symbol">clazz</a>, <a href="#239443" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#599124" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#599140" title="Mixin.this.global.Symbol">setter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#239442" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#599006" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599020" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newSetter</a><span class="delimiter">(</span><a href="#599124" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;new defs of &quot;)" class="string">&quot;new defs of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599006" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599006" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Add all members to be mixed in into a (non-trait-) class
   *  These are:
   *    for every mixin trait T that is not also inherited by the superclass:
   *     add late interface members to T and then:
   *      - if a member M of T is forwarded to the implementation class, add
   *        a forwarder for M unless one exists already.
   *        The alias of the forwarder is the static member it forwards to.
   *      - for every abstract accessor in T, add a field and an implementation for that accessor
   *      - for every super accessor in T, add an implementation of that accessor
   *      - for every module in T, add a module
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit" id="239445">addMixedinMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599157">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.CompilationUnit" id="599158">unit</a> : <a href="../CompilationUnits.scala.html#183079" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="599160">cloneBeforeErasure</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599161">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="599162">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="599163">imember</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599164">newSym</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599169">res</a> = <a href="#599163" title="Mixin.this.global.Symbol">imember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47971" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#599162" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        // since we used the member (imember) from the interface that represents the trait that's being mixed in,
        // have to instantiate the interface type params (that may occur in imember's info) as they are seen from the class
        // we can't use the member that we get from the implementation class, as it's a clone that was made after erasure,
        // and thus it does not know its info at the beginning of erasure anymore
        // optimize: no need if iface has no typeparams
        <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#599161" title="Mixin.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#47940" title="=&gt; List[Mixin.this.global.Symbol]">typeParams</a> <span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#599169" title="Mixin.this.global.Symbol">res</a>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Mixin.this.global.Type)res.type">setInfo</a><span class="delimiter">(</span><a href="#599162" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47980" title="=&gt; Mixin.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#42777" title="(clazz: Mixin.this.global.Symbol)Mixin.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#599161" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42779" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#599163" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#599169" title="Mixin.this.global.Symbol">res</a>
      <span class="delimiter">}</span> // clone before erasure got rid of type info we'll need to generate a javaSig
      // now we'll have the type info at (the beginning of) erasure in our history,
      <a href="#599164" title="Mixin.this.global.Symbol">newSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47927" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">updateInfo</a><span class="delimiter">(</span><a href="#599163" title="Mixin.this.global.Symbol">imember</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42807" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#599164" title="Mixin.this.global.Symbol">newSym</a><span class="delimiter">)</span><span class="delimiter">)</span> // and now newSym has the info that's been transformed to fit this period (no need for asSeenFrom as phase.erasedTypes)
      <a href="#599164" title="Mixin.this.global.Symbol">newSym</a> // TODO: verify we need the updateInfo and document why
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(1048576L)">JAVA</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#239424" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Type]">treatedClassInfos</a> <span title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">get</span> <a href="#599157" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#239424" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Type)Unit">treatedClassInfos</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>

      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a>, <a href="#599157" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">nonEmpty</span>, <a href="#599157" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>

      // first complete the superclass with mixed in members
      <a href="#239445" title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47993" title="=&gt; Mixin.this.global.Symbol">superClass</a>, <a href="#599158" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

      //Console.println(&quot;adding members of &quot; + clazz.info.baseClasses.tail.takeWhile(superclazz !=) + &quot; to &quot; + clazz);//DEBUG

      /** Mix in members of implementation class mixinClass into class clazz */
      <span class="keyword">def</span> <a title="(impl: Mixin.this.global.Symbol, iface: Mixin.this.global.Symbol)Unit" id="599200">mixinImplClassMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599207">impl</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="599208">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span>
          // XXX this should be impl.isImplClass, except that we get impl classes
          // coming through under -optimise which do not agree that they are (because
          // the IMPLCLASS flag is unset, I believe.) See ticket #4285.
          <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60672" title="(name: Mixin.this.global.Name)Boolean">isImplClassName</a><span class="delimiter">(</span><a href="#599207" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#599207" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a>,
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s (%s) is not a an implementation class, it cannot mix in %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#599207" title="Mixin.this.global.Symbol">impl</a>, <a href="#599207" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#48057" title="=&gt; String">defaultFlagString</a>, <a href="#599208" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599207" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#182895" title="(msg: =&gt; String)Unit">debugwarn</a><span class="delimiter">(</span><span title="String(&quot;!!! &quot;)" class="string">&quot;!!! &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599207" title="Mixin.this.global.Symbol">impl</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has an impl class name, but !isImplClass: &quot;)" class="string">&quot; has an impl class name, but !isImplClass: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599207" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#48057" title="=&gt; String">defaultFlagString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, mixing in &quot;)" class="string">&quot;, mixing in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599208" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599236">member</a> &lt;- <a href="#599207" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: Mixin.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#239432" title="(sym: Mixin.this.global.Symbol)Boolean">isForwarded</a><span class="delimiter">(</span><a href="#599236" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599237">imember</a> = <a href="#599236" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48013" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="#599208" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
            // atPhase(currentRun.erasurePhase){
            //   println(&quot;&quot;+(clazz, iface, clazz.typeParams, iface.typeParams, imember, clazz.thisType.baseType(iface), clazz.thisType.baseType(iface).memberInfo(imember), imember.info substSym(iface.typeParams, clazz.typeParams)  ))
            // }
            // Console.println(&quot;mixin member &quot;+member+&quot;:&quot;+member.tpe+member.locationString+&quot; &quot;+imember+&quot; &quot;+imember.overridingSymbol(clazz)+&quot; to &quot;+clazz+&quot; with scope &quot;+clazz.info.decls)//DEBUG
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#599237" title="Mixin.this.global.Symbol">imember</a>.<a href="../../../reflect/internal/Symbols.scala.html#48014" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42819" title="(name: Mixin.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Mixin.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#599236" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a>, <span title="Long(0L)" class="int">0</span>, <a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#599237" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599249">member1</a> = <a href="#239442" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span>
                    <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>,
                    <a href="#599160" title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneBeforeErasure</a><span class="delimiter">(</span><a href="#599208" title="Mixin.this.global.Symbol">iface</a>, <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599237" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a> <a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#599249" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40002" title="Mixin.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span> <a href="../../../reflect/internal/Symbols.scala.html#71248" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">setAlias</a> <a href="#599236" title="Mixin.this.global.Symbol">member</a>;
                <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Mix in members of trait mixinClass into class clazz. Also,
       *  for each lazy field in mixinClass, add a link from its mixed in member to its
       *  initializer method inside the implclass.
       */
      <span class="keyword">def</span> <a title="(mixinClass: Mixin.this.global.Symbol)Unit" id="599201">mixinTraitMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599268">mixinClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // For all members of a trait's interface do:
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599290">member</a> &lt;- <a href="#599268" title="Mixin.this.global.Symbol">mixinClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: Mixin.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#239440" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a><span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#239441" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>, <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#182895" title="(msg: =&gt; String)Unit">debugwarn</a><span class="delimiter">(</span><span title="String(&quot;!!! is overridden val: &quot;)" class="string">&quot;!!! is overridden val: &quot;</span><span title="(x$1: Any)String">+</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              // mixin field accessors
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599292">member1</a> = <a href="#239442" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span>
                <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>,
                <a href="#599160" title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneBeforeErasure</a><span class="delimiter">(</span><a href="#599268" title="Mixin.this.global.Symbol">mixinClass</a>, <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599290" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span> //member.cloneSymbol(clazz)
                  <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>
                  <a href="../../../reflect/internal/Symbols.scala.html#47902" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // println(&quot;mixing in: &quot;+ (member, member.info, member1.info))
              // atPhase(currentRun.erasurePhase){
              //   println(&quot;before erasure: &quot;+ (member.info, member1.info))
              // }
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="599297">init</a> = <a href="#239438" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#599268" title="Mixin.this.global.Symbol">mixinClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#599297" title="Mixin.this.global.Symbol">init</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;Could not find initializer for &quot;)" class="string">&quot;Could not find initializer for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>
                <a href="#239426" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Symbol)Unit">initializer</a><span class="delimiter">(</span><a href="#599292" title="Mixin.this.global.Symbol">member1</a><span class="delimiter">)</span> = <a href="#599297" title="Mixin.this.global.Symbol">init</a>
              <span class="delimiter">}</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span>
                <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                    // member is a constant; only getter is needed
                    ;
                  <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, TypeRef<span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                    // member is a value of type unit. No field needed
                    ;
                  <span class="keyword">case</span> <span title="Mixin.this.global.Symbol">_</span> =&gt; // otherwise mixin a field as well
                    // atPhase: the private field is moved to the implementation class by erasure,
                    // so it can no longer be found in the member's owner (the trait)
                    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599319">accessed</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185229" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Mixin.this.global.TermSymbol" id="599320">sym</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.TermSymbol)Mixin.this.global.TermSymbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185237" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">{</span> // #3857, need to retain info before erasure when cloning (since cloning only carries over the current entry in the type history)
                      <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47698" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60689" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span> // so we have a type history entry before erasure
                    <span class="delimiter">}</span>
                    <a href="#599320" title="Mixin.this.global.TermSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47927" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">updateInfo</a><span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span> // info at current phase
                    <a href="#239442" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>,
                              <a href="#599320" title="Mixin.this.global.TermSymbol">sym</a>
                                <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#39743" title="=&gt; Long">PrivateLocal</a> <span title="(x: Long)Long">|</span> <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47903" title="(mask: Long)Long">getFlag</a><span class="delimiter">(</span>MUTABLE <span title="Long(2147487744L)">|</span> LAZY<span class="delimiter">)</span><span class="delimiter">)</span>
                                <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><span title="Long" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48111" title="=&gt; Boolean">hasStableFlag</a><span class="delimiter">)</span> <span title="Long(4096L)">MUTABLE</span> <span class="keyword">else</span> <span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
                                <a href="../../../reflect/internal/Symbols.scala.html#47955" title="(annots: List[Mixin.this.global.AnnotationInfo])sym.type">setAnnotations</a> <a href="#599319" title="Mixin.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[Mixin.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48092" title="=&gt; Boolean">isSuperAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span> // mixin super accessors
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599375">member1</a> = <a href="#239442" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47971" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#599375" title="Mixin.this.global.Symbol">member1</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#599375" title="Mixin.this.global.Symbol">member1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599376">alias1</a> = <a href="#239439" title="(base: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol, mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol">rebindSuper</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; Mixin.this.global.Symbol">alias</a>, <a href="#599268" title="Mixin.this.global.Symbol">mixinClass</a><span class="delimiter">)</span>
            <a href="#599375" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40002" title="Mixin.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span> <a href="../../../reflect/internal/Symbols.scala.html#71248" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">setAlias</a> <a href="#599376" title="Mixin.this.global.Symbol">alias1</a>

          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48075" title="(mask: Long)Boolean">hasNoFlags</a><span class="delimiter">(</span>LIFTED <span title="Long(17246978048L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // mixin objects: todo what happens with abstract objects?
            <a href="#239442" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47972" title="(owner: Mixin.this.global.Symbol, newFlags: Long)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#599157" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599290" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599431">mc</a> &lt;- <a href="#599157" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47995" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">mixinClasses</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#599431" title="Mixin.this.global.Symbol">mc</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39814" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // @SEAN: adding trait tracking so we don't have to recompile transitive closures
          <a href="#599158" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185118" title="=&gt; scala.collection.mutable.HashSet[Mixin.this.global.Symbol]">depends</a> <span title="(elem: Mixin.this.global.Symbol)unit.depends.type">+=</span> <a href="#599431" title="Mixin.this.global.Symbol">mc</a>
          <a href="#239444" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a><span class="delimiter">(</span><a href="#599431" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
          <a href="#599201" title="(mixinClass: Mixin.this.global.Symbol)Unit">mixinTraitMembers</a><span class="delimiter">(</span><a href="#599431" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
          <a href="#599200" title="(impl: Mixin.this.global.Symbol, iface: Mixin.this.global.Symbol)Unit">mixinImplClassMembers</a><span class="delimiter">(</span><a href="#239438" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#599431" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>, <a href="#599431" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** The info transform for this phase does the following:
   *   - The parents of every class are mapped from implementation class to interface
   *   - Implementation classes become modules that inherit nothing
   *     and that define all.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol, tp: Mixin.this.global.Type)Mixin.this.global.Type" id="239446">transformInfo</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599442">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Type" id="599443">tp</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Mixin.this.global.Type">Type</a> = <a href="#599443" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Mixin.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Type]" id="599450">parents</a>, <a title="Mixin.this.global.Scope" id="599451">decls</a>, <a title="Mixin.this.global.Symbol" id="599452">clazz</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Type]" id="599453">parents1</a> = <a href="#599450" title="List[Mixin.this.global.Type]">parents</a>
      <span class="keyword">var</span> <a title="Mixin.this.global.Scope" id="599454">decls1</a> = <a href="#599451" title="Mixin.this.global.Scope">decls</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599452" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#599452" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#599452" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#599452" title="Mixin.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)clazz.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39818" title="=&gt; Long">lateMODULE</a>
          <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="599462">sourceModule</a> = <a href="#599452" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61759" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53412" title="=&gt; Mixin.this.global.TermName">toTermName</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#599462" title="Mixin.this.global.Symbol">sourceModule</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#599462" title="Mixin.this.global.Symbol">sourceModule</a> <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>
            <a href="#599462" title="Mixin.this.global.Symbol">sourceModule</a>.<a href="../../../reflect/internal/Symbols.scala.html#47899" title="(fs: Long)Unit">flags</a> = MODULE <span title="Long(288L)">|</span> FINAL
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#599462" title="Mixin.this.global.Symbol">sourceModule</a> = <span class="delimiter">(</span>
              <a href="#599452" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47716" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.ModuleSymbol">newModuleSymbol</a><span class="delimiter">(</span><a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53412" title="=&gt; Mixin.this.global.TermName">toTermName</a>, <a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>, MODULE <span title="Long(288L)">|</span> FINAL<span class="delimiter">)</span>
                <a href="../../../reflect/internal/Symbols.scala.html#71251" title="(clazz: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">setModuleClass</a> <a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.ClassSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40010" title="Mixin.this.global.ClassSymbol">ClassSymbol</a><span class="delimiter">]</span>
            <span class="delimiter">)</span>
            <a href="#599452" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a> <a href="#599462" title="Mixin.this.global.Symbol">sourceModule</a>
          <span class="delimiter">}</span>
          <a href="#599462" title="Mixin.this.global.Symbol">sourceModule</a> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">setInfo</a> <a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>
          // Companion module isn't visible for anonymous class at this point anyway
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#599452" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47985" title="=&gt; Mixin.this.global.Symbol">sourceModule</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#599452" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47815" title="=&gt; Boolean">isAnonymousClass</a>,
            <a href="#599452" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)String">+</span> <span title="String(&quot; has no sourceModule: sym = &quot;)" class="string">&quot; has no sourceModule: sym = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599442" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; sym.tpe = &quot;)" class="string">&quot; sym.tpe = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="#599453" title="List[Mixin.this.global.Type]">parents1</a> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#599454" title="Mixin.this.global.Scope">decls1</a> = <a href="../../../reflect/internal/Scopes.scala.html#61746" title="(decls: List[Mixin.this.global.Symbol])Mixin.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="Mixin.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#599451" title="Mixin.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61763" title="=&gt; List[Mixin.this.global.Symbol]">toList</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">filter</span> <a href="#239430" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599450" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#599453" title="List[Mixin.this.global.Type]">parents1</a> = <a href="#599450" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Mixin.this.global.Type">head</span> <a href="#599523" title="(x: Mixin.this.global.Type)List[Mixin.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#599450" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; List[Mixin.this.global.Type]">tail</span> <span title="(f: Mixin.this.global.Type =&gt; Mixin.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Type],Mixin.this.global.Type,List[Mixin.this.global.Type]])List[Mixin.this.global.Type]">map</span> <a href="#239433" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      //decls1 = atPhase(phase.next)(new Scope(decls1.toList))//debug
      <span title="Mixin.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#599453" title="List[Mixin.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#599450" title="List[Mixin.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#599454" title="Mixin.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#599451" title="Mixin.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#599443" title="Mixin.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#71108" title="(parents: List[Mixin.this.global.Type], decls: Mixin.this.global.Scope, typeSymbol: Mixin.this.global.Symbol)Mixin.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#599453" title="List[Mixin.this.global.Type]">parents1</a>, <a href="#599454" title="Mixin.this.global.Scope">decls1</a>, <a href="#599452" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Mixin.this.global.Type">MethodType</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Symbol]" id="599588">params</a>, <a title="Mixin.this.global.Type" id="599589">restp</a><span class="delimiter">)</span> =&gt;
      <a href="../../../reflect/internal/Types.scala.html#82351" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterfaceMap</a><span class="delimiter">(</span>
        <span title="Mixin.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#239430" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#599442" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599601">ownerParam</a> = <a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47732" title="(argtype: Mixin.this.global.Type)Mixin.this.global.Symbol">newSyntheticValueParam</a><span class="delimiter">(</span><a href="#239433" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#599442" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47979" title="=&gt; Mixin.this.global.Type">typeOfThis</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#599601" title="Mixin.this.global.Symbol">ownerParam</a> <a href="#599604" title="(x: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">::</a> <a href="#599588" title="List[Mixin.this.global.Symbol]">params</a>, <a href="#599589" title="Mixin.this.global.Type">restp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <a href="#599443" title="Mixin.this.global.Type">tp</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Mixin.this.global.Type">_</span> =&gt;
      <a href="#599443" title="Mixin.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  /** Return a map of single-use fields to the lazy value that uses them during initialization.
   *  Each field has to be private and defined in the enclosing class, and there must
   *  be exactly one lazy value using it.
   *
   *  Such fields will be nulled after the initializer has memoized the lazy value.
   */
  <span class="keyword">def</span> <a title="(templ: Mixin.this.global.Template)scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="239447">singleUseFields</a><span class="delimiter">(</span><a title="Mixin.this.global.Template" id="599610">templ</a>: <span title="Mixin.this.global.Template">Template</span><span class="delimiter">)</span>: collection.<span title="scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="599612">usedIn</a> = <a href="#599615" title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="599615">mutable</a>.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">HashMap</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: Mixin.this.global.Symbol)scala.collection.immutable.Nil.type" id="599617">default</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="599618">key</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object SingleUseTraverser" id="599613">SingleUseTraverser</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../ast/TreeDSL.scala.html#184069" title="Mixin.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Unit" id="599664">traverse</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="599666">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#599666" title="Mixin.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Assign</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="599671">lhs</a>, <a title="Mixin.this.global.Tree" id="599672">rhs</a><span class="delimiter">)</span> =&gt; <a href="#599664" title="(tree: Mixin.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#599672" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span> // assignments don't count
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#599666" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599666" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599678">sym</a> = <a href="#599666" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#599678" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#599678" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599678" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599678" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48084" title="=&gt; Boolean">isPrivate</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Mixin.this.global.Symbol">accessed</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#599678" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> // getter
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Mixin.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: Mixin.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#599678" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599678" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#599610" title="Mixin.this.global.Template">templ</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599678" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599666" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;added use in: &quot;)" class="string">&quot;added use in: &quot;</span> <span title="(x$1: Any)String">+</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -- &quot;)" class="string">&quot; -- &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599666" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
                <a href="#599612" title="(key: Mixin.this.global.Symbol, value: List[Mixin.this.global.Symbol])Unit">usedIn</a><span class="delimiter">(</span><a href="#599678" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">::=</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>

              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">super</span>.<span title="(tree: Mixin.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#599666" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#599613" title="(tree: Mixin.this.global.Template)Mixin.this.global.Template">SingleUseTraverser</a><span class="delimiter">(</span><a href="#599610" title="Mixin.this.global.Template">templ</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;usedIn: &quot;)" class="string">&quot;usedIn: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599612" title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">usedIn</a><span class="delimiter">)</span>
    <a href="#599612" title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">usedIn</a> <span title="(p: ((Mixin.this.global.Symbol, List[Mixin.this.global.Symbol])) =&gt; Boolean)scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">filter</span> <a href="#599727" title="Boolean" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, <a title="Mixin.this.global.Symbol" id="599734">member</a> :: <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#599734" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599734" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>                  =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

// --------- term transformation -----------------------------------------------

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: Mixin.this.global.CompilationUnit)Mixin.this.global.Transformer" id="239448">newTransformer</a><span class="delimiter">(</span><a title="Mixin.this.global.CompilationUnit" id="599735">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#183129" title="Mixin.this.global.Transformer">Transformer</a> =
    <span title="Mixin.this.MixinTransformer" class="keyword">new</span> <a href="#239449" title="Mixin.this.MixinTransformer">MixinTransformer</a><span class="delimiter">(</span><a href="#599735" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class MixinTransformer extends Mixin.this.global.Transformer with ScalaObject" id="239449">MixinTransformer</a><a href="#239449" title="ScalaObject" class="delimiter">(</a><a title="Mixin.this.global.CompilationUnit" id="599767">unit</a> : <a href="../CompilationUnits.scala.html#183079" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#183129" title="Mixin.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    /** Within a static implementation method: the parameter referring to the
     *  current object.  Undefined everywhere else.
     */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="599742">self</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = _

    /** The rootContext used for typing */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Context" id="599744">rootContext</a> =
      <a href="../Global.scala.html#182954" title="object Mixin.this.global.erasure">erasure</a>.<a href="../typechecker/Contexts.scala.html#183944" title="object Mixin.this.global.erasure.NoContext">NoContext</a>.<a href="../typechecker/Contexts.scala.html#184642" title="(tree: Mixin.this.global.erasure.global.Tree, owner: Mixin.this.global.erasure.global.Symbol, scope: Mixin.this.global.erasure.global.Scope)Mixin.this.global.erasure.Context">make</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a>, <a href="../../../reflect/internal/Definitions.scala.html#46242" title="=&gt; Mixin.this.global.ModuleClassSymbol">RootClass</a>, <a href="../../../reflect/internal/Scopes.scala.html#61744" title="()Mixin.this.global.Scope" class="keyword">new</a> <a href="../../../reflect/internal/Scopes.scala.html#40425" title="Mixin.this.global.Scope">Scope</a><span class="delimiter">)</span>

    /** The typer */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.erasure.Typer" id="599747">localTyper</a>: erasure.<a href="../typechecker/Typers.scala.html#184062" title="Mixin.this.global.erasure.Typer">Typer</a> = _
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree" id="599749">typedPos</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="599789">pos</a>: <a href="../util/Position.scala.html#34604" title="Mixin.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="599790">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#599747" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#599789" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#599790" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree, pt: Mixin.this.global.Type)Mixin.this.global.erasure.global.Tree" id="599750">localTyped</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="599810">pos</a>: <a href="../util/Position.scala.html#34604" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Tree" id="599811">tree</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Mixin.this.global.Type" id="599812">pt</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#599747" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184438" title="(tree: Mixin.this.global.erasure.global.Tree, pt: Mixin.this.global.erasure.global.Type)Mixin.this.global.erasure.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#599810" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#599811" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#599812" title="Mixin.this.global.Type">pt</a><span class="delimiter">)</span>

    /** Map lazy values to the fields they should null after initialization. */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]" id="599752">lazyValNullables</a>: <span title="Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">Map</span><span class="delimiter">[</span>Symbol, Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = _

    /** Map a field symbol to a unique integer denoting its position in the class layout.
     *  For each class, fields defined by the class come after inherited fields. Mixed-in
     *  fields count as fields defined by the class itself.
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]" id="599754">fieldOffset</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object Mixin.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    /** The first transform; called in a pre-order traversal at phase mixin
     *  (that is, every node is processed before its children).
     *  What transform does:
     *   - For every non-trait class, add all mixed in members to the class info.
     *   - For every trait, add all late interface members to the class info
     *   - For every static implementation method:
     *       - remove override flag
     *       - create a new method definition that also has a `self` parameter
     *         (which comes first) Iuli: this position is assumed by tail call elimination
     *         on a different receiver. Storing a new 'this' assumes it is located at
     *         index 0 in the local variable table. See 'STORE_THIS' and GenJVM/GenMSIL.
     *   - Map implementation class types in type-apply's to their interfaces
     *   - Remove all fields in implementation classes
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="599756">preTransform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="599823">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="599825">sym</a> = <a href="#599823" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
      <a href="#599823" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="599838">parents</a>, <a title="Mixin.this.global.ValDef" id="599839">self</a>, <a title="List[Mixin.this.global.Tree]" id="599840">body</a><span class="delimiter">)</span> =&gt;
          <a href="#599747" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="../Global.scala.html#182954" title="object Mixin.this.global.erasure">erasure</a>.<a href="Erasure.scala.html#239159" title="(context: Mixin.this.global.erasure.Context)Mixin.this.global.erasure.Eraser">newTyper</a><span class="delimiter">(</span><a href="#599744" title="=&gt; Mixin.this.global.erasure.Context">rootContext</a>.<a href="../typechecker/Contexts.scala.html#184645" title="(tree: Mixin.this.global.erasure.global.Tree, owner: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.Context">make</a><span class="delimiter">(</span><a href="#599823" title="Mixin.this.global.Tree">tree</a>, <a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span>//todo: needed?

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#46780" title="(sym: Mixin.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#239445" title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a><span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>, <a href="#599767" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39814" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span>
            <a href="#239444" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a><span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>

          <a href="#599823" title="Mixin.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="599889">mods</a>, <a title="Mixin.this.global.Name" id="599890">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="599891">tparams</a>, <a href="#599893" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a><span class="delimiter">(</span><a title="List[Mixin.this.global.ValDef]" id="599915">vparams</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="599916">tpt</a>, <a title="Mixin.this.global.Tree" id="599917">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#239430" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#599825" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#599825" title="Mixin.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39820" title="=&gt; Long">notOVERRIDE</a>
              <a href="#599742" title="(x$1: Mixin.this.global.Symbol)Unit">self</a> = <a href="#599825" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47700" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60037" title="=&gt; Mixin.this.global.nme.NameType">SELF</a>, <a href="#599825" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a> <a href="#239433" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47979" title="=&gt; Mixin.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.ValDef" id="599918">selfdef</a> = <a href="../../../reflect/internal/Trees.scala.html#40611" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#599742" title="=&gt; Mixin.this.global.Symbol">self</a><span class="delimiter">)</span> <span title="(tp: Mixin.this.global.Type)Mixin.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="object Mixin.this.global.NoType">NoType</a>
              <a href="#239449" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#599823" title="Mixin.this.global.Tree">tree</a>, <a href="#599889" title="Mixin.this.global.Modifiers">mods</a>, <a href="#599890" title="Mixin.this.global.Name">name</a>, <a href="#599891" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span><span class="delimiter">(</span><a href="#599918" title="Mixin.this.global.ValDef">selfdef</a> <a href="#599959" title="(x: Mixin.this.global.ValDef)List[Mixin.this.global.ValDef]">::</a> <a href="#599915" title="List[Mixin.this.global.ValDef]">vparams</a><span class="delimiter">)</span>, <a href="#599916" title="Mixin.this.global.Tree">tpt</a>, <a href="#599917" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599825" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185229" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#599825" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#599825" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47960" title="(sym: Mixin.this.global.Symbol, args: Mixin.this.global.Tree*)sym.type">addAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46368" title="=&gt; Mixin.this.global.Symbol">TraitSetterAnnotationClass</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#599823" title="Mixin.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Mixin.this.global.TypeApply" id="599994">tapp</a> @ TypeApply<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="599997">fn</a>, <a href="#599999" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="600021">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#600023" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#600021" title="Mixin.this.global.Tree">arg</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Type" id="600035">ifacetpe</a> = <a href="#239433" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#600021" title="Mixin.this.global.Tree">arg</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span>
            <a href="#600021" title="Mixin.this.global.Tree">arg</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#600035" title="Mixin.this.global.Type">ifacetpe</a>
            <a href="#599994" title="Mixin.this.global.TypeApply">tapp</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#600035" title="Mixin.this.global.Type">ifacetpe</a><span class="delimiter">)</span>
            <a href="#599823" title="Mixin.this.global.Tree">tree</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#600035" title="Mixin.this.global.Type">ifacetpe</a>
          <span class="delimiter">}</span>
          <a href="#599823" title="Mixin.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.EmptyTree.type">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a> =&gt;
          <a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#599823" title="Mixin.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Create an identifier which references self parameter.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position)Mixin.this.global.gen.global.Tree" id="599757">selfRef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="600052">pos</a>: <a href="../util/Position.scala.html#34604" title="Mixin.this.global.Position">Position</a><span class="delimiter">)</span> =
      <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92637" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#599742" title="=&gt; Mixin.this.global.Symbol">self</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">setPos</span> <a href="#600052" title="Mixin.this.global.Position">pos</a>

    /** Replace a super reference by this or the self parameter, depending
     *  on whether we are in an implementation class or not.
     *  Leave all other trees unchanged.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree" id="599758">transformSuper</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="600063">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#600063" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">Super</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="600072">qual</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#599759" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformThis</a><span class="delimiter">(</span><a href="#600072" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
        <a href="#600063" title="Mixin.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    /** Replace a this reference to the current implementation class by the self
     *  parameter. Leave all other trees unchanged.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree" id="599759">transformThis</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="600073">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#600073" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#600073" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a> =&gt;
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#600073" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; Mixin.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <a href="#599757" title="(pos: Mixin.this.global.Position)Mixin.this.global.gen.global.Tree">selfRef</a><span class="delimiter">(</span><a href="#600073" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
        <a href="#600073" title="Mixin.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    /** Create a static reference to given symbol &lt;code&gt;sym&lt;/code&gt; of the
     *  form &lt;code&gt;M.sym&lt;/code&gt; where M is the symbol's implementation module.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="599760">staticRef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600088">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#600088" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>        //todo: needed?
      <a href="#600088" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>  //todo: needed?

      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span>
        <a href="#600088" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47985" title="=&gt; Mixin.this.global.Symbol">sourceModule</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a>,
        <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600088" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600088" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600088" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a>
      <span class="delimiter">)</span>
      <a href="../ast/TreeDSL.scala.html#241249" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#600088" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47985" title="=&gt; Mixin.this.global.Symbol">sourceModule</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#241256" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.global.Select">DOT</a> <a href="#600088" title="Mixin.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="599761">needsInitAndHasOffset</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600118">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#239435" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#600118" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#599754" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">fieldOffset</a> <span title="(key: Mixin.this.global.Symbol)Boolean">contains</span> <a href="#600118" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>

    /** Examines the symbol and returns a name indicating what brand of
     *  bitmap it requires.  The possibilities are the BITMAP_* vals
     *  defined in StdNames.  If it needs no bitmap, nme.NO_NAME.
     */
    <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Name" id="599762">bitmapCategory</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600124">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Mixin.this.global.Name">Name</a> = <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>._
      <span class="keyword">val</span> <a title="Boolean" id="600127">isNormal</a> = <span class="delimiter">(</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#239434" title="(field: Mixin.this.global.Symbol)Boolean">isFieldWithBitmap</a><span class="delimiter">(</span><a href="#600124" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean(true)" class="keyword">true</span>
        // bitmaps for checkinit fields are not inherited
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#239435" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#600124" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#600124" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="../../../reflect/internal/StdNames.scala.html#60625" title="=&gt; Mixin.this.global.nme.NameType">NO_NAME</a>
      <span class="delimiter">)</span>
      <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#600124" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Mixin.this.global.Symbol">accessed</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Mixin.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46723" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#600127" title="Boolean">isNormal</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#60407" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_TRANSIENT</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#60413" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_CHECKINIT_TRANSIENT</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#600124" title="Mixin.this.global.Symbol">field</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Int(4)">PRIVATE</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39822" title="=&gt; Long">notPRIVATE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#600127" title="Boolean">isNormal</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#60409" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_PRIVATE</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#60411" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_CHECKINIT</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#600127" title="Boolean">isNormal</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#60405" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_NORMAL</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#60411" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_CHECKINIT</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Add all new definitions to a non-trait class
     *  These fall into the following categories:
     *    - for a trait interface:
     *       - abstract accessors for all fields in the implementation class
     *    - for a non-trait class:
     *       - A field for every in a mixin class
     *       - Setters and getters for such fields
     *           - getters for mixed in lazy fields are completed
     *       - module variables and module creators for every module in a mixin class
     *         (except if module is lifted -- in this case the module variable
     *          is local to some function, and the creator method is static.)
     *       - A super accessor for every super accessor in a mixin class
     *       - Forwarders for all methods that are implemented statically
     *  All superaccessors are completed with right-hand sides (@see completeSuperAccessor)
     *  @param clazz  The class to which definitions are added
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="599763">addNewDefs</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600136">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="600137">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" id="600139">newDefs</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</span><span title="(elems: Mixin.this.global.Tree*)scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" class="delimiter">[</span><span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      /** Attribute given tree and anchor at given position */
      <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="600140">attributedDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="600169">pos</a>: <a href="../util/Position.scala.html#34604" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Tree" id="600170">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;add new def to &quot;)" class="string">&quot;add new def to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600136" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600170" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#600169" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#600170" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** The position of given symbol, or, if this is undefined,
       *  the position of the current class.
       */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position" id="600141">position</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600171">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Mixin.this.global.Position" class="keyword">if</span> <span class="delimiter">(</span><a href="#600171" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#600136" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a> <span class="keyword">else</span> <a href="#600171" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>

      /** Add tree at given position as new definition */
      <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit" id="600142">addDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="600177">pos</a>: <a href="../util/Position.scala.html#34604" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Tree" id="600178">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#600139" title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">newDefs</a> <span title="(x: Mixin.this.global.Tree)newDefs.type">+=</span> <a href="#600140" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Mixin.this.global.Tree">attributedDef</a><span class="delimiter">(</span><a href="#600177" title="Mixin.this.global.Position">pos</a>, <a href="#600178" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Add new method definition.
       *
       *  @param sym   The method symbol.
       *  @param rhs   The method body.
       */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit" id="600143">addDefDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600188">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="600190">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span> = <a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> = <a href="#600142" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#600141" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#600188" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#40617" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#600188" title="Mixin.this.global.Symbol">sym</a>, <a href="#600190" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit" id="600144">addValDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600213">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="600215">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span> = <a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> = <a href="#600142" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#600141" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#600213" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#40610" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#600213" title="Mixin.this.global.Symbol">sym</a>, <a href="#600215" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

      /** Add `newdefs` to `stats`, removing any abstract method definitions
       *  in &lt;code&gt;stats&lt;/code&gt; that are matched by some symbol defined in
       *  &lt;code&gt;newDefs&lt;/code&gt;.
       */
      <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="600145">add</a><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="600226">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[Mixin.this.global.Tree]" id="600227">newDefs</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Symbol]" id="600228">newSyms</a> = <a href="#600227" title="List[Mixin.this.global.Tree]">newDefs</a> <span title="(f: Mixin.this.global.Tree =&gt; Mixin.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]])List[Mixin.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#600246" title="Mixin.this.global.Tree">_</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Boolean" id="600229">isNotDuplicate</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="600274">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#600274" title="Mixin.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">DefDef</span><span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="600283">sym</a> = <a href="#600274" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#600283" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#600228" title="List[Mixin.this.global.Symbol]">newSyms</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600290">nsym</a> =&gt; <a href="#600290" title="Mixin.this.global.Symbol">nsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#600283" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#600290" title="Mixin.this.global.Symbol">nsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42801" title="(that: Mixin.this.global.Type)Boolean">matches</a> <a href="#600283" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
        <span title="List[Mixin.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#600227" title="List[Mixin.this.global.Tree]">newDefs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#600226" title="List[Mixin.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <a href="#600227" title="List[Mixin.this.global.Tree]">newDefs</a> <a href="#600297" title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#600226" title="List[Mixin.this.global.Tree]">stats</a> <span title="(p: Mixin.this.global.Tree =&gt; Boolean)List[Mixin.this.global.Tree]">filter</span> <a href="#600229" title="(tree: Mixin.this.global.Tree)Boolean">isNotDuplicate</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, tree: Mixin.this.global.Tree)Unit" id="600146">addDeferredBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600311">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="600312">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // Append the set of deferred defs
        <a href="#239428" title="(key: Mixin.this.global.Symbol, value: List[Mixin.this.global.Tree])Unit">deferredBitmaps</a><span class="delimiter">(</span><a href="#600311" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Mixin.this.global.Tree)List[Mixin.this.global.Tree]">::=</span> <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#600311" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#600312" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** If `stat` is a superaccessor, complete it by adding a right-hand side.
       *  Note: superaccessors are always abstract until this point.
       *   The method to call in a superaccessor is stored in the accessor symbol's alias field.
       *  The rhs is:
       *    super.A(xs)  where A is the super accessor's alias and xs are its formal parameters.
       *  This rhs is typed and then mixin transformed.
       */
      <span class="keyword">def</span> <a title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree" id="600147">completeSuperAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="600360">stat</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#600360" title="Mixin.this.global.Tree">stat</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="600369">mods</a>, <a title="Mixin.this.global.Name" id="600370">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="600371">tparams</a>, <a href="#600373" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a><span class="delimiter">(</span><a title="List[Mixin.this.global.ValDef]" id="600384">vparams</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="600385">tpt</a>, <a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#600360" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#48092" title="=&gt; Boolean">isSuperAccessor</a> =&gt;
          <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="600386">rhs0</a> = <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40627" title="(sym: Mixin.this.global.Symbol, mix: Mixin.this.global.TypeName)Mixin.this.global.Tree">Super</a><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#600136" title="Mixin.this.global.Symbol">clazz</a>, <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object Mixin.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60579" title="=&gt; Mixin.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#274616" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#600360" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; Mixin.this.global.Symbol">alias</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#600384" title="List[Mixin.this.global.ValDef]">vparams</a> <span title="(f: Mixin.this.global.ValDef =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.ValDef],Mixin.this.global.Ident,List[Mixin.this.global.Ident]])List[Mixin.this.global.Ident]">map</span> <span class="delimiter">(</span><a title="Mixin.this.global.ValDef" id="600435">v</a> =&gt; <a href="../ast/TreeDSL.scala.html#184069" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#600435" title="Mixin.this.global.ValDef">v</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.erasure.global.Tree" id="600387">rhs1</a> = <a href="#599750" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree, pt: Mixin.this.global.Type)Mixin.this.global.erasure.global.Tree">localTyped</a><span class="delimiter">(</span><a href="#600360" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span>, <a href="#600386" title="Mixin.this.global.Apply">rhs0</a>, <a href="#600360" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="600388">rhs2</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185241" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#599766" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600387" title="Mixin.this.global.erasure.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../Global.scala.html#182894" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;complete super acc &quot;)" class="string">&quot;complete super acc &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600360" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600387" title="Mixin.this.global.erasure.global.Tree">rhs1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600360" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#48049" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600360" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#39814" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span>//debug
          <a href="#239449" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#600360" title="Mixin.this.global.Tree">stat</a>, <a href="#600369" title="Mixin.this.global.Modifiers">mods</a>, <a href="#600370" title="Mixin.this.global.Name">name</a>, <a href="#600371" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span><span class="delimiter">(</span><a href="#600384" title="List[Mixin.this.global.ValDef]">vparams</a><span class="delimiter">)</span>, <a href="#600385" title="Mixin.this.global.Tree">tpt</a>, <a href="#600388" title="Mixin.this.global.Tree">rhs2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#600360" title="Mixin.this.global.Tree">stat</a>
      <span class="delimiter">}</span>

      <span class="keyword">import</span> <a href="../Global.scala.html#182956" title="object Mixin.this.global.lazyVals">lazyVals</a>._

      /**
       *  Private or transient lazy vals use bitmaps that are private for the class context,
       *  unlike public or protected vals, which can use inherited bitmaps.
       *  Similarly fields in the checkinit mode use private bitmaps.
       */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="600149">isLocalBitmapField</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600508">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <a href="#600508" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#46228" title="(cls: Mixin.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46723" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#600508" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Int(4)">PRIVATE</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#39822" title="=&gt; Long">notPRIVATE</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#600161" title="(field: Mixin.this.global.Symbol)Boolean">isCheckInitField</a><span class="delimiter">(</span><a href="#600508" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      /**
       *  Return the bitmap field for 'offset'. Depending on the hierarchy it is possible to reuse
       *  the bitmap of its parents. If that does not exist yet we create one.
       */
      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol" id="600150">bitmapFor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600517">clazz0</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="600518">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="600519">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Boolean" id="600521">searchParents</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Name" id="600522">category</a>   = <a href="#599762" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Name">bitmapCategory</a><span class="delimiter">(</span><a href="#600519" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="category.ThisNameType" id="600523">bitmapName</a> = <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60402" title="(bitmapPrefix: Mixin.this.global.Name, n: Int)bitmapPrefix.ThisNameType">newBitmapName</a><span class="delimiter">(</span><a href="#600522" title="Mixin.this.global.Name">category</a>, <a href="#600518" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#239235" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="600524">sym</a>        = <a href="#600517" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#600523" title="category.ThisNameType">bitmapName</a><span class="delimiter">)</span>

        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#600524" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a>, <a href="#600524" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="600525">createBitmap</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.TermSymbol" id="600538">sym</a> = <a href="#600517" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../../../reflect/internal/Symbols.scala.html#47699" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#39643" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">bitmapName</a>, <a href="#600517" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47922" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a> <a href="../../../reflect/internal/Definitions.scala.html#46842" title="=&gt; Mixin.this.global.Symbol">IntClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>
          <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.TermSymbol)Mixin.this.global.TermSymbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#183023" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#185227" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#600538" title="Mixin.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47960" title="(sym: Mixin.this.global.Symbol, args: Mixin.this.global.Tree*)sym.type">addAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46727" title="=&gt; Mixin.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span>

          <a href="#600522" title="Mixin.this.global.Name">category</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="sym.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60407" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_TRANSIENT</a> | <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60413" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_CHECKINIT_TRANSIENT</a> =&gt; <a href="#600538" title="Mixin.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47960" title="(sym: Mixin.this.global.Symbol, args: Mixin.this.global.Tree*)sym.type">addAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#46723" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a>
            <span class="keyword">case</span> <span title="Unit">_</span>                                                     =&gt;
          <span class="delimiter">}</span>
          <a href="#600522" title="Mixin.this.global.Name">category</a> <span title="sym.type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="sym.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60405" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_NORMAL</a> <span class="keyword">if</span> <a href="#600519" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a> =&gt; <a href="#600538" title="Mixin.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)sym.type">setFlag</a> <span title="Long(1L)">PROTECTED</span>
            <span class="keyword">case</span> <span title="sym.type">_</span>                                 =&gt; <a href="#600538" title="Mixin.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39743" title="=&gt; Long">PrivateLocal</a>
          <span class="delimiter">}</span>

          <a href="#600517" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61752" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#600538" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#600517" title="Mixin.this.global.Symbol">clazz0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#600142" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="../ast/TreeDSL.scala.html#241233" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#600538" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275367" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.ValDef">===</a> <a href="../ast/TreeDSL.scala.html#241196" title="=&gt; Mixin.this.global.Literal">ZERO</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            //FIXME: the assertion below will not work because of the way bitmaps are added.
            // They should be added during infoTransform, so that in separate compilation, bitmap
            // is a member of clazz and doesn't fail the condition couple lines below.
            // This works, as long as we assume that the previous classes were compiled correctly.
            //assert(clazz0.sourceFile != null)
            <a href="#600146" title="(clazz: Mixin.this.global.Symbol, tree: Mixin.this.global.Tree)Unit">addDeferredBitmap</a><span class="delimiter">(</span><a href="#600517" title="Mixin.this.global.Symbol">clazz0</a>, <a href="../ast/TreeDSL.scala.html#241233" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#600538" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#275367" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.ValDef">===</a> <a href="../ast/TreeDSL.scala.html#241196" title="=&gt; Mixin.this.global.Literal">ZERO</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#600538" title="Mixin.this.global.TermSymbol">sym</a>
        <span class="delimiter">}</span>

        <span title="Mixin.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#600524" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#600524" title="Mixin.this.global.Symbol">sym</a>
        <span class="keyword">else</span> <span title="Mixin.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#600521" title="Boolean">searchParents</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#600149" title="(field: Mixin.this.global.Symbol)Boolean">isLocalBitmapField</a><span class="delimiter">(</span><a href="#600519" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#600151" title="(clazz0: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Option[Mixin.this.global.Symbol]">bitmapForParents</a><span class="delimiter">(</span><a href="#600517" title="Mixin.this.global.Symbol">clazz0</a>, <a href="#600518" title="Int">offset</a>, <a href="#600519" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(default: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">getOrElse</span> <a href="#600525" title="=&gt; Mixin.this.global.Symbol">createBitmap</a>
        <span class="keyword">else</span>
          <a href="#600525" title="=&gt; Mixin.this.global.Symbol">createBitmap</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Option[Mixin.this.global.Symbol]" id="600151">bitmapForParents</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600594">clazz0</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="600595">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="600596">valSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[Mixin.this.global.Symbol]">Option</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(fs: Int)Int" id="600602">requiredBitmaps</a><span class="delimiter">(</span><a title="Int" id="600604">fs</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#600604" title="Int">fs</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#600604" title="Int">fs</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#239235" title="=&gt; Int">FLAGS_PER_WORD</a>
        <span class="keyword">val</span> <a title="Int" id="600603">bitmapNum</a> = <a href="#600595" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#239235" title="=&gt; Int">FLAGS_PER_WORD</a>

        // filter private and transient
        // since we do not inherit normal values (in checkinit mode) also filter them out
        // !!! Not sure how that comment relates to this code...
        <a href="#600162" title="(clazz: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">superClassesToCheck</a><span class="delimiter">(</span><a href="#600594" title="Mixin.this.global.Symbol">clazz0</a><span class="delimiter">)</span> <span title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Mixin.this.global.Symbol" id="600653">cl</a> =&gt;
          <span class="keyword">val</span> <a title="Int" id="600654">fields0</a> = <a href="#600163" title="(clazz0: Mixin.this.global.Symbol)Int">usedBits</a><span class="delimiter">(</span><a href="#600653" title="Mixin.this.global.Symbol">cl</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#600602" title="(fs: Int)Int">requiredBitmaps</a><span class="delimiter">(</span><a href="#600654" title="Int">fields0</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#600603" title="Int">bitmapNum</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="600660">fields1</a> = <a href="#600653" title="Mixin.this.global.Symbol">cl</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#61769" title="(p: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Scope">filter</a> <a href="#600160" title="(field: Mixin.this.global.Symbol)Boolean">isNonLocalFieldWithBitmap</a> <a href="../../../reflect/internal/Scopes.scala.html#61749" title="=&gt; Int">size</a>;
            <span title="Nothing" class="keyword">return</span> <span class="delimiter">{</span>
              <span title="Option[Mixin.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#600602" title="(fs: Int)Int">requiredBitmaps</a><span class="delimiter">(</span><a href="#600654" title="Int">fields0</a> <span title="(x: Int)Int">+</span> <a href="#600660" title="Int">fields1</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#600603" title="Int">bitmapNum</a><span class="delimiter">)</span>
                <span title="(x: Mixin.this.global.Symbol)Some[Mixin.this.global.Symbol]">Some</span><span class="delimiter">(</span><a href="#600150" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#600653" title="Mixin.this.global.Symbol">cl</a>, <a href="#600595" title="Int">offset</a>, <a href="#600596" title="Mixin.this.global.Symbol">valSym</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="object None">None</span> // Don't waste time, since we won't find bitmap anyway
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="object None">None</span>
      <span class="delimiter">}</span>

      /** Return an (untyped) tree of the form 'Clazz.this.bmp = Clazz.this.bmp | mask'. */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="600152">mkSetFlag</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600682">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="600683">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="600684">valSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="600685">bmp</a>   = <a href="#600150" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#600682" title="Mixin.this.global.Symbol">clazz</a>, <a href="#600683" title="Int">offset</a>, <a href="#600684" title="Mixin.this.global.Symbol">valSym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="600686">mask</a>  = <a href="../ast/TreeDSL.scala.html#274578" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#600683" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#239235" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.CODE.SelectStart" id="600687">x</a>     = <a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#600682" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#274650" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">DOT</a> <a href="#600685" title="Mixin.this.global.Symbol">bmp</a>

        <a href="../ast/TreeDSL.scala.html#241257" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">x</a> <a href="../ast/TreeDSL.scala.html#274651" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">===</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241257" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">x</a> <a href="../ast/TreeDSL.scala.html#274639" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_|</a> <a href="#600686" title="Mixin.this.global.Literal">mask</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Return an (untyped) tree of the form 'clazz.this.bitmapSym &amp; mask (==|!=) 0', the
       *  precise comparison operator depending on the value of 'equalToZero'.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree" id="600153">mkTest</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600729">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="600730">mask</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Mixin.this.global.Symbol" id="600731">bitmapSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Boolean" id="600732">equalToZero</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Apply" id="600733">lhs</a> = <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#600729" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#241257" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">DOT</a> <a href="#600731" title="Mixin.this.global.Symbol">bitmapSym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#274640" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_&amp;</a> <a href="#600730" title="Mixin.this.global.Tree">mask</a>
        <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600732" title="Boolean">equalToZero</a><span class="delimiter">)</span>  <a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">lhs</a> <a href="../ast/TreeDSL.scala.html#274642" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_==</a> <a href="../ast/TreeDSL.scala.html#241196" title="=&gt; Mixin.this.global.Literal">ZERO</a>
        <span class="keyword">else</span>              <a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">lhs</a> <a href="../ast/TreeDSL.scala.html#274643" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_!=</a> <a href="../ast/TreeDSL.scala.html#241196" title="=&gt; Mixin.this.global.Literal">ZERO</a>
      <span class="delimiter">}</span>

      /** return a 'lazified' version of rhs. It uses double-checked locking to ensure
       *  initialization is performed at most once. Private fields used only in this
       *  initializer are subsequently set to null.
       *
       *  @param clazz The class symbol
       *  @param init The tree which initializes the field ( f = &lt;rhs&gt; )
       *  @param fieldSym The symbol of this lazy field
       *  @param offset The offset of this field in the flags bitmap
       *
       *  The result will be a tree of the form
       *  {
       *    if ((bitmap$n &amp; MASK) == 0) {
       *       synchronized(this) {
       *         if ((bitmap$n &amp; MASK) == 0) {
       *           init // l$ = &lt;rhs&gt;
       *           bitmap$n = bimap$n | MASK
       *         }
       *       }
       *       this.f1 = null
       *       ... this.fn = null
       *    }
       *    l$
       *  }
       *  where bitmap$n is an int value acting as a bitmap of initialized values. It is
       *  the 'n' is (offset / 32), the MASK is (1 &lt;&lt; (offset % 32)).
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree" id="600154">mkLazyDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600772">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="600773">lzyVal</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="600774">init</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Mixin.this.global.Tree" id="600775">retVal</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Int" id="600776">offset</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Assign" id="600777">nullify</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600784">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../ast/TreeDSL.scala.html#184069" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#600772" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#600784" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47991" title="=&gt; Mixin.this.global.Symbol">accessedOrSelf</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#274651" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">===</a> <a href="../ast/TreeDSL.scala.html#274578" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="600778">bitmapSym</a> = <a href="#600150" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#600772" title="Mixin.this.global.Symbol">clazz</a>, <a href="#600776" title="Int">offset</a>, <a href="#600773" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="600779">mask</a>      = <a href="../ast/TreeDSL.scala.html#274578" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#600776" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#239235" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Tree" id="600780">cond</a>      = <a href="#600153" title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a><span class="delimiter">(</span><a href="#600772" title="Mixin.this.global.Symbol">clazz</a>, <a href="#600779" title="Mixin.this.global.Literal">mask</a>, <a href="#600778" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Assign]" id="600781">nulls</a>     = <a href="#599752" title="(key: Mixin.this.global.Symbol)Set[Mixin.this.global.Symbol]">lazyValNullables</a><span class="delimiter">(</span><a href="#600773" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>.<span title="=&gt; List[Mixin.this.global.Symbol]">toList</span> <span title="(f: Mixin.this.global.Symbol =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[Mixin.this.global.Symbol]">sortBy</span> <span class="delimiter">(</span><a href="#600870" title="Mixin.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47689" title="=&gt; Int">id</a><span class="delimiter">)</span> <span title="(f: Mixin.this.global.Symbol =&gt; Mixin.this.global.Assign)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Symbol],Mixin.this.global.Assign,List[Mixin.this.global.Assign]])List[Mixin.this.global.Assign]">map</span> <a href="#600777" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Assign">nullify</a>
        <span class="keyword">def</span> <a title="=&gt; List[Mixin.this.global.Tree]" id="600782">syncBody</a>  = <a href="#600774" title="List[Mixin.this.global.Tree]">init</a> <a href="#600973" title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">:::</a> <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#600152" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#600772" title="Mixin.this.global.Symbol">clazz</a>, <a href="#600776" title="Int">offset</a>, <a href="#600773" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#241199" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span>

        <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;nulling fields inside &quot;)" class="string">&quot;nulling fields inside &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600773" title="Mixin.this.global.Symbol">lzyVal</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600781" title="List[Mixin.this.global.Assign]">nulls</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="600783">result</a>    = <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235496" title="(clazz: Mixin.this.global.gen.global.Symbol, cond: Mixin.this.global.gen.global.Tree, syncBody: List[Mixin.this.global.gen.global.Tree], stats: List[Mixin.this.global.gen.global.Tree])Mixin.this.global.gen.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="#600772" title="Mixin.this.global.Symbol">clazz</a>, <a href="#600780" title="=&gt; Mixin.this.global.Tree">cond</a>, <a href="#600782" title="=&gt; List[Mixin.this.global.Tree]">syncBody</a>, <a href="#600781" title="List[Mixin.this.global.Assign]">nulls</a><span class="delimiter">)</span>
        <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#600774" title="List[Mixin.this.global.Tree]">init</a>.<span title="=&gt; Mixin.this.global.Tree">head</span>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241244" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#600783" title="Mixin.this.global.gen.global.Tree">result</a>, <a href="#600775" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree" id="600155">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="600999">attrThis</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Mixin.this.global.Tree" id="601000">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> =
        <a href="#601000" title="Mixin.this.global.Tree">rhs</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Mixin.this.global.Block">Block</span><span class="delimiter">(</span><a href="#601007" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="601018">assign</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="601019">returnTree</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> Assign<a href="#601025" title="Mixin.this.global.Tree" id="601020" class="delimiter">(</a><a title="Mixin.this.global.Tree" id="601025">moduleVarRef</a>, _<span class="delimiter">)</span> = <a href="#601018" title="Mixin.this.global.Tree">assign</a>
            <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="601021">cond</a>                    = <a href="../ast/TreeDSL.scala.html#184069" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#184069" title="(qualifier: Mixin.this.global.Tree, name: Mixin.this.global.Name)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="#601020" title="Mixin.this.global.Tree">moduleVarRef</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60216" title="=&gt; Mixin.this.global.nme.NameType">eq</a><span class="delimiter">)</span>, <span title="(xs: Mixin.this.global.Literal*)List[Mixin.this.global.Literal]">List</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241198" title="=&gt; Mixin.this.global.Literal">NULL</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="601022">doubleSynchrTree</a>        = <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235497" title="(attrThis: Mixin.this.global.gen.global.Tree, cond: Mixin.this.global.gen.global.Tree, syncBody: List[Mixin.this.global.gen.global.Tree], stats: List[Mixin.this.global.gen.global.Tree])Mixin.this.global.gen.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="#600999" title="Mixin.this.global.Tree">attrThis</a>, <a href="#601021" title="Mixin.this.global.Apply">cond</a>, <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#601018" title="Mixin.this.global.Tree">assign</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
            <a href="../ast/TreeDSL.scala.html#184069" title="(stats: List[Mixin.this.global.Tree], expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.gen.global.Tree*)List[Mixin.this.global.gen.global.Tree]">List</span><span class="delimiter">(</span><a href="#601022" title="Mixin.this.global.gen.global.Tree">doubleSynchrTree</a><span class="delimiter">)</span>, <a href="#601019" title="Mixin.this.global.Tree">returnTree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Mixin.this.global.EmptyTree.type">_</span> =&gt;
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;Invalid getter &quot;)" class="string">&quot;Invalid getter &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#601000" title="Mixin.this.global.Tree">rhs</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for module in class &quot;)" class="string">&quot; for module in class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="600156">mkCheckedAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="601116">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="601117">retVal</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Int" id="601118">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Position" id="601119">pos</a>: <a href="../util/Position.scala.html#34604" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Symbol" id="601120">fieldSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="601121">bitmapSym</a> = <a href="#600150" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#601116" title="Mixin.this.global.Symbol">clazz</a>, <a href="#601118" title="Int">offset</a>, <a href="#601120" title="Mixin.this.global.Symbol">fieldSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#601120" title="Mixin.this.global.Symbol">fieldSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="601122">mask</a>      = <a href="../ast/TreeDSL.scala.html#274578" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#601118" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#239235" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="String" id="601123">msg</a>       = <span title="String(&quot;Uninitialized field: &quot;)" class="string">&quot;Uninitialized field: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599767" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#185106" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#601119" title="Mixin.this.global.Position">pos</a>.<a href="../util/Position.scala.html#183814" title="=&gt; Int">line</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.If" id="601124">result</a>    =
          <a href="../ast/TreeDSL.scala.html#241242" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#600153" title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a><span class="delimiter">(</span><a href="#601116" title="Mixin.this.global.Symbol">clazz</a>, <a href="#601122" title="Mixin.this.global.Literal">mask</a>, <a href="#601121" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> .
            <a href="../ast/TreeDSL.scala.html#274600" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">THEN</a> <span class="delimiter">(</span><a href="#601117" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span> .
            <a href="../ast/TreeDSL.scala.html#274601" title="(elsep: Mixin.this.global.Tree)Mixin.this.global.If">ELSE</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241225" title="(sym: Mixin.this.global.Symbol, msg: Mixin.this.global.Tree)Mixin.this.global.Throw">THROW</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46307" title="=&gt; Mixin.this.global.Symbol">UninitializedErrorClass</a>, <a href="../ast/TreeDSL.scala.html#274578" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#601123" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#601119" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241244" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#601124" title="Mixin.this.global.If">result</a>, <a href="#601117" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Complete lazy field accessors. Applies only to classes,
       *  for it's own (non inherited) lazy fields. If 'checkinit'
       *  is enabled, getters that check for the initialized bit are
       *  generated, and the class constructor is changed to set the
       *  initialized bits.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="600157">addCheckedGetters</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="601143">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="601144">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(stat: Mixin.this.global.DefDef)Mixin.this.global.DefDef" id="601145">dd</a><span class="delimiter">(</span><a title="Mixin.this.global.DefDef" id="601146">stat</a>: <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> DefDef<a href="#601148" title="(Mixin.this.global.Modifiers, Mixin.this.global.Name, List[Mixin.this.global.TypeDef], List[List[Mixin.this.global.ValDef]], Mixin.this.global.Tree, Mixin.this.global.Tree)" class="delimiter">(</a><a href="#601147" title="Mixin.this.global.Modifiers" id="601148">mods</a>, <a href="#601147" title="Mixin.this.global.Name" id="601149">name</a>, <a href="#601147" title="List[Mixin.this.global.TypeDef]" id="601150">tp</a>, <a href="#601147" title="List[List[Mixin.this.global.ValDef]]" id="601151">vp</a>, <a href="#601147" title="Mixin.this.global.Tree" id="601152">tpt</a>, <a href="#601147" title="Mixin.this.global.Tree" id="601153">rhs</a><span class="delimiter">)</span> = <a href="#601146" title="Mixin.this.global.DefDef">stat</a>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="601154">sym</a> = <a href="#601146" title="Mixin.this.global.DefDef">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="601155">isUnit</a> = <a href="#601154" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="601156">isEmpty</a> = <a href="#601153" title="Mixin.this.global.Tree">rhs</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a>

          <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#601156" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#599754" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">fieldOffset</a> <span title="(key: Mixin.this.global.Symbol)Boolean">contains</span> <a href="#601154" title="Mixin.this.global.Symbol">sym</a>, <a href="#601154" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#239449" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#601146" title="Mixin.this.global.DefDef">stat</a>, <a href="#601148" title="Mixin.this.global.Modifiers">mods</a>, <a href="#601149" title="Mixin.this.global.Name">name</a>, <a href="#601150" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#601151" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#601152" title="Mixin.this.global.Tree">tpt</a>,
              <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#601155" title="=&gt; Boolean">isUnit</a><span class="delimiter">)</span>
                <a href="#600154" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>, <a href="#601154" title="Mixin.this.global.Symbol">sym</a>, <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#601153" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#241199" title="=&gt; Mixin.this.global.Literal">UNIT</a>, <a href="#599754" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> Block<a href="#601253" title="(List[Mixin.this.global.Tree], Mixin.this.global.Tree)" class="delimiter">(</a><a href="#601252" title="List[Mixin.this.global.Tree]" id="601253">stats</a>, <a href="#601252" title="Mixin.this.global.Tree" id="601254">res</a><span class="delimiter">)</span> = <a href="#601153" title="Mixin.this.global.Tree">rhs</a>
                <a href="#600154" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>, <a href="#601154" title="Mixin.this.global.Symbol">sym</a>, <a href="#601253" title="List[Mixin.this.global.Tree]">stats</a>, <a href="../ast/TreeDSL.scala.html#184069" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#601254" title="Mixin.this.global.Tree">res</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>, <a href="#599754" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#239435" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#601156" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>IMPLCLASS <span title="Long(137472507904L)">|</span> TRAIT<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#599754" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">fieldOffset</a> <span title="(key: Mixin.this.global.Symbol)Boolean">contains</span> <a href="#601154" title="Mixin.this.global.Symbol">sym</a>, <a href="#601154" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#239449" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#601146" title="Mixin.this.global.DefDef">stat</a>, <a href="#601148" title="Mixin.this.global.Modifiers">mods</a>, <a href="#601149" title="Mixin.this.global.Name">name</a>, <a href="#601150" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#601151" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#601152" title="Mixin.this.global.Tree">tpt</a>,
              <span class="delimiter">(</span><a href="#600156" title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkCheckedAccessor</a><span title="(v1: Mixin.this.global.Tree)Mixin.this.global.Tree" class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>, <a href="#601320" title="Mixin.this.global.Tree">_</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a href="#599754" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#601146" title="Mixin.this.global.DefDef">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span>, <a href="#601154" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Mixin.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#241199" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                <span class="keyword">else</span> <a href="#601153" title="Mixin.this.global.Tree">rhs</a>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47804" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#239449" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#601146" title="Mixin.this.global.DefDef">stat</a>, <a href="#601148" title="Mixin.this.global.Modifiers">mods</a>, <a href="#601149" title="Mixin.this.global.Name">name</a>, <a href="#601150" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#601151" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#601152" title="Mixin.this.global.Tree">tpt</a>, <a href="#600159" title="(clazz: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">addInitBits</a><span class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>, <a href="#601153" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183364" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">checkInit</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#601154" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="601352">getter</a> = <a href="#601154" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#239435" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#601352" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599754" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#601352" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#239449" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#601146" title="Mixin.this.global.DefDef">stat</a>, <a href="#601148" title="Mixin.this.global.Modifiers">mods</a>, <a href="#601149" title="Mixin.this.global.Name">name</a>, <a href="#601150" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#601151" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#601152" title="Mixin.this.global.Tree">tpt</a>,
                <a href="../ast/TreeDSL.scala.html#184069" title="(stats: List[Mixin.this.global.Tree], expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.erasure.global.Tree*)List[Mixin.this.global.erasure.global.Tree]">List</span><span class="delimiter">(</span><a href="#601153" title="Mixin.this.global.Tree">rhs</a>, <a href="#599747" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184436" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a><span class="delimiter">(</span><a href="#600152" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599754" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#601352" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span>, <a href="#601352" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#241199" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#601146" title="Mixin.this.global.DefDef">stat</a>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <a href="#601143" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#601154" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47765" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#239449" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#601146" title="Mixin.this.global.DefDef">stat</a>, <a href="#601148" title="Mixin.this.global.Modifiers">mods</a>, <a href="#601149" title="Mixin.this.global.Name">name</a>, <a href="#601150" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#601151" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#601152" title="Mixin.this.global.Tree">tpt</a>,
              <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#601146" title="Mixin.this.global.DefDef">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#600155" title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span>
                  // Martin to Hubert: I think this can be replaced by selfRef(tree.pos)
                  // @PP: It does not seem so, it crashes for me trying to bootstrap.
                  <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92637" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#601151" title="List[List[Mixin.this.global.ValDef]]">vp</a>.<span title="=&gt; List[Mixin.this.global.ValDef]">head</span>.<span title="=&gt; Mixin.this.global.ValDef">head</span>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92636" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#601143" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>,
                  <a href="#601153" title="Mixin.this.global.Tree">rhs</a>
                <span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#601146" title="Mixin.this.global.DefDef">stat</a>
        <span class="delimiter">}</span>
        <a href="#601144" title="List[Mixin.this.global.Tree]">stats</a> <span title="(f: Mixin.this.global.Tree =&gt; Mixin.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.Tree,List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">map</span> <a href="#601424" title="Mixin.this.global.Tree" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="Mixin.this.global.DefDef" id="601425">defn</a>: <span title="Mixin.this.global.DefDef">DefDef</span> =&gt; <a href="#601145" title="(stat: Mixin.this.global.DefDef)Mixin.this.global.DefDef">dd</a><span class="delimiter">(</span><a href="#601425" title="Mixin.this.global.DefDef">defn</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Mixin.this.global.Tree" id="601426">stat</a>         =&gt; <a href="#601426" title="Mixin.this.global.Tree">stat</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">class</span> <a title="class AddInitBitsTransformer extends Mixin.this.global.Transformer with ScalaObject" id="600158">AddInitBitsTransformer</a><a href="#600158" title="ScalaObject" class="delimiter">(</a><a title="Mixin.this.global.Symbol" id="601461">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#183129" title="Mixin.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(lhs: Mixin.this.global.Tree)List[Mixin.this.global.erasure.global.Tree]" id="601457">checkedGetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="601462">lhs</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="601465">sym</a> = <a href="#601461" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a> <a href="../../../reflect/internal/Types.scala.html#42761" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a> <a href="#601462" title="Mixin.this.global.Tree">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48021" title="=&gt; Mixin.this.global.TermName">getterName</a> <a href="../../../reflect/internal/Symbols.scala.html#47969" title="(cond: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a> <span class="delimiter">(</span><a href="#601467" title="Mixin.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
          <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#599761" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitAndHasOffset</a><span class="delimiter">(</span><a href="#601465" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182904" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;adding checked getter for: &quot;)" class="string">&quot;adding checked getter for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#601465" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#601462" title="Mixin.this.global.Tree">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48057" title="=&gt; String">defaultFlagString</a><span class="delimiter">)</span>
            <span title="(xs: Mixin.this.global.erasure.global.Tree*)List[Mixin.this.global.erasure.global.Tree]">List</span><span class="delimiter">(</span><a href="#599747" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#184436" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a> <a href="#600152" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#601461" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599754" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#601465" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#601465" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="object Nil">Nil</span>
        <span class="delimiter">}</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree], exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]" id="601458">transformStats</a><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="601498">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Mixin.this.global.Symbol" id="601499">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          // !!! Ident(self) is never referenced, is it supposed to be confirming
          // that self is anything in particular?
          <a href="#600158" title="AddInitBitsTransformer" class="keyword">super</a>.<span title="(stats: List[Mixin.this.global.Tree], exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]">transformStats</span><span class="delimiter">(</span>
            <a href="#601498" title="List[Mixin.this.global.Tree]">stats</a> <span title="(f: Mixin.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Mixin.this.global.erasure.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.erasure.global.Tree,List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">flatMap</span> <a href="#601523" title="List[Mixin.this.global.erasure.global.Tree]" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="List[Mixin.this.global.erasure.global.Tree]" id="601524">stat</a> @ Assign<span class="delimiter">(</span><a title="Mixin.this.global.Select" id="601527">lhs</a> @ Select<span class="delimiter">(</span>This<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="601535">rhs</a><span class="delimiter">)</span> =&gt; <a href="#601524" title="Mixin.this.global.Assign">stat</a> <a href="#601536" title="(x: Mixin.this.global.erasure.global.Tree)List[Mixin.this.global.erasure.global.Tree]">::</a> <a href="#601457" title="(lhs: Mixin.this.global.Tree)List[Mixin.this.global.erasure.global.Tree]">checkedGetter</a><span class="delimiter">(</span><a href="#601527" title="Mixin.this.global.Select">lhs</a><span class="delimiter">)</span>
              // remove initialization for default values
              <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Apply</span><span class="delimiter">(</span><a title="Mixin.this.global.Select" id="601546">lhs</a> @ Select<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Mixin.this.global.Name" id="601554">self</a><span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a href="#601556" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#184069" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#601546" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a> =&gt; <span title="object Nil">Nil</span>
              <span class="keyword">case</span> <a title="List[Mixin.this.global.Tree]" id="601567">stat</a> =&gt; <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#601567" title="Mixin.this.global.Tree">stat</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>,
            <a href="#601499" title="Mixin.this.global.Symbol">exprOwner</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Adds statements to set the 'init' bit for each field initialized
       *  in the body of a constructor.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree" id="600159">addInitBits</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="601349">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="601350">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> =
        <span title="AddInitBitsTransformer" class="keyword">new</span> <a href="#600158" title="AddInitBitsTransformer">AddInitBitsTransformer</a><span class="delimiter">(</span><a href="#601349" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</span> <a href="#601350" title="Mixin.this.global.Tree">rhs</a>

      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="600160">isNonLocalFieldWithBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600666">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#239434" title="(field: Mixin.this.global.Symbol)Boolean">isFieldWithBitmap</a><span class="delimiter">(</span><a href="#600666" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#600149" title="(field: Mixin.this.global.Symbol)Boolean">isLocalBitmapField</a><span class="delimiter">(</span><a href="#600666" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="600161">isCheckInitField</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600516">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#239435" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#600516" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#600516" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a>

      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]" id="600162">superClassesToCheck</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600621">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#600621" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47996" title="=&gt; List[Mixin.this.global.Symbol]">ancestors</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#600627" title="Mixin.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> TRAIT <span title="Long(34603008L)">|</span> JAVA<span class="delimiter">)</span>

      /**
       * Return the number of bits used by superclass fields.
       */
      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol)Int" id="600163">usedBits</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="600655">clazz0</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> =
        <a href="#600162" title="(clazz: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">superClassesToCheck</a><span class="delimiter">(</span><a href="#600655" title="Mixin.this.global.Symbol">clazz0</a><span class="delimiter">)</span> <span title="(f: Mixin.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[Mixin.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Symbol],Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]])List[Mixin.this.global.Symbol]">flatMap</span> <span class="delimiter">(</span><a href="#601622" title="Mixin.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a><span class="delimiter">)</span> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Int">count</span> <span class="delimiter">{</span> <a title="Mixin.this.global.Symbol" id="601656">f</a> =&gt;
          <a href="#601656" title="Mixin.this.global.Symbol">f</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#600655" title="Mixin.this.global.Symbol">clazz0</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#600160" title="(field: Mixin.this.global.Symbol)Boolean">isNonLocalFieldWithBitmap</a><span class="delimiter">(</span><a href="#601656" title="Mixin.this.global.Symbol">f</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      // begin addNewDefs

      /** Fill the map from fields to offset numbers.
       *  Instead of field symbols, the map keeps their getter symbols. This makes
       *  code generation easier later.
       */
      <span class="keyword">def</span> <a title="()Unit" id="600164">buildBitmapOffsets</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(zero: Int, fields: List[Mixin.this.global.Symbol])Unit" id="601662">fold</a><span class="delimiter">(</span><a title="Int" id="601663">zero</a>: <span title="Int">Int</span>, <a title="List[Mixin.this.global.Symbol]" id="601664">fields</a>: <span title="List[Mixin.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="601665">idx</a> = <a href="#601663" title="Int">zero</a>
          <a href="#601664" title="List[Mixin.this.global.Symbol]">fields</a> <span title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Mixin.this.global.Symbol" id="601685">f</a> =&gt;
            <a href="#601665" title="Int">idx</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
            <a href="#599754" title="(key: Mixin.this.global.Symbol, value: Int)Unit">fieldOffset</a><span class="delimiter">(</span><a href="#601685" title="Mixin.this.global.Symbol">f</a><span class="delimiter">)</span> = <a href="#601665" title="Int">idx</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#600136" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#61763" title="=&gt; List[Mixin.this.global.Symbol]">toList</a> <span title="(f: Mixin.this.global.Symbol =&gt; Mixin.this.global.Name)scala.collection.immutable.Map[Mixin.this.global.Name,List[Mixin.this.global.Symbol]]">groupBy</span> <a href="#599762" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Name">bitmapCategory</a> <span title="(f: ((Mixin.this.global.Name, List[Mixin.this.global.Symbol])) =&gt; Unit)Unit">foreach</span> <a href="#601737" title="Unit" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60625" title="=&gt; Mixin.this.global.nme.NameType">NO_NAME</a>, _<span class="delimiter">)</span>            =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60405" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_NORMAL</a>, <a title="List[Mixin.this.global.Symbol]" id="601742">fields</a><span class="delimiter">)</span> =&gt; <a href="#601662" title="(zero: Int, fields: List[Mixin.this.global.Symbol])Unit">fold</a><span class="delimiter">(</span><a href="#600163" title="(clazz0: Mixin.this.global.Symbol)Int">usedBits</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#601742" title="List[Mixin.this.global.Symbol]">fields</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>_, <a title="List[Mixin.this.global.Symbol]" id="601745">fields</a><span class="delimiter">)</span>                 =&gt; <a href="#601662" title="(zero: Int, fields: List[Mixin.this.global.Symbol])Unit">fold</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#601745" title="List[Mixin.this.global.Symbol]">fields</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#600164" title="()Unit">buildBitmapOffsets</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Tree]" id="600165">stats1</a> = <a href="#600157" title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addCheckedGetters</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a>, <a href="#600137" title="List[Mixin.this.global.Tree]">stats</a><span class="delimiter">)</span>

      // add deferred bitmaps
      <a href="#239428" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]">deferredBitmaps</a> <span title="(key: Mixin.this.global.Symbol)Option[List[Mixin.this.global.Tree]]">remove</span> <a href="#600136" title="Mixin.this.global.Symbol">clazz</a> <span title="(f: List[Mixin.this.global.Tree] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="List[Mixin.this.global.Tree]" id="601752">d</a> =&gt; <a href="#600165" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#600145" title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">add</a><span class="delimiter">(</span><a href="#600165" title="List[Mixin.this.global.Tree]">stats1</a>, <a href="#601752" title="List[Mixin.this.global.Tree]">d</a><span class="delimiter">)</span> <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="600166">accessedReference</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="601754">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Literal">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, ConstantType<span class="delimiter">(</span><a title="Mixin.this.global.Constant" id="601758">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../ast/TreeDSL.scala.html#184069" title="(value: Mixin.this.global.Constant)Mixin.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#601758" title="Mixin.this.global.Constant">c</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          // if it is a mixed-in lazy value, complete the accessor
          <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47795" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Boolean" id="601761">isUnit</a>    = <a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>
            <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="601762">initCall</a>  = <a href="../ast/TreeDSL.scala.html#184069" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#599760" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#239426" title="(key: Mixin.this.global.Symbol)Mixin.this.global.Symbol">initializer</a><span class="delimiter">(</span><a href="#601754" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92636" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#601815" title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Select" id="601763">selection</a> = <a href="../ast/TreeDSL.scala.html#184069" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin extends Mixin.this.global.TermTree with Serializable" id="601764">init</a>      = <span title="Mixin extends Mixin.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#601761" title="Boolean">isUnit</a><span class="delimiter">)</span> <a href="#601762" title="Mixin.this.global.Apply">initCall</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#40635" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Assign)Mixin.this.global.Assign">atPos</a><span class="delimiter">(</span><a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#184069" title="(lhs: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#601763" title="Mixin.this.global.Select">selection</a>, <a href="#601762" title="Mixin.this.global.Apply">initCall</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin extends Mixin.this.global.Tree with Serializable" id="601765">returns</a>   = <span title="Mixin extends Mixin.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#601761" title="Boolean">isUnit</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#241199" title="=&gt; Mixin.this.global.Literal">UNIT</a> <span class="keyword">else</span> <a href="#601763" title="Mixin.this.global.Select">selection</a>

            <a href="#600154" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a>, <a href="#601754" title="Mixin.this.global.Symbol">sym</a>, <span title="(xs: Mixin.this.global.TermTree with Serializable*)List[Mixin.this.global.TermTree with Serializable]">List</span><span class="delimiter">(</span><a href="#601764" title="Mixin extends Mixin.this.global.TermTree with Serializable">init</a><span class="delimiter">)</span>, <a href="#601765" title="Mixin extends Mixin.this.global.Tree with Serializable">returns</a>, <a href="#599754" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#601754" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42743" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="Mixin extends Mixin.this.global.Tree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#46834" title="Mixin.this.global.Literal">UnitClass</a>  =&gt; <a href="../ast/TreeDSL.scala.html#241199" title="=&gt; Mixin.this.global.Literal">UNIT</a>
            <span class="keyword">case</span> <span title="Mixin.this.global.Select">_</span>          =&gt; <a href="../ast/TreeDSL.scala.html#184069" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40628" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#601754" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47983" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="600167">isOverriddenSetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="601973">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#60679" title="(name: Mixin.this.global.Name)Boolean">isTraitSetterName</a><span class="delimiter">(</span><a href="#601973" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="601975">other</a> = <a href="#601973" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48017" title="=&gt; Mixin.this.global.Symbol">nextOverriddenSymbol</a>
          <a href="#239441" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#601975" title="Mixin.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#601975" title="Mixin.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#600136" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42805" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      // for all symbols `sym` in the class definition, which are mixed in:
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="601988">sym</a> &lt;- <a href="#600136" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">decls</a> ; <span class="keyword">if</span> <a href="#601988" title="Mixin.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(34359738368L)">MIXEDIN</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // if current class is a trait interface, add an abstract method for accessor `sym`
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39814" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#600143" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // if class is not a trait add accessor definitions
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48097" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#39810" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // add accessor definitions
            <a href="#600143" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>, <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="601989">accessedRef</a> = <a href="#600166" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">accessedReference</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47796" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600167" title="(sym: Mixin.this.global.Symbol)Boolean">isOverriddenSetter</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#241199" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                <span class="keyword">else</span> <a href="#601989" title="Mixin.this.global.Tree">accessedRef</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Literal</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#601989" title="Mixin.this.global.Tree">accessedRef</a>
                  <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
                    <span class="keyword">val</span> <a title="Mixin.this.global.Assign" id="601991">init</a>   = <a href="../ast/TreeDSL.scala.html#184069" title="(lhs: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#601989" title="Mixin.this.global.Tree">accessedRef</a>, <a href="../ast/TreeDSL.scala.html#184069" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[Mixin.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">head</span>.<span title="=&gt; Mixin.this.global.Symbol">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="601992">getter</a> = <a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>

                    <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#239435" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#601992" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#601991" title="Mixin.this.global.Assign">init</a>
                    <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#40629" title="(stats: Mixin.this.global.Tree*)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><a href="#601991" title="Mixin.this.global.Assign">init</a>, <a href="#600152" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a>, <a href="#599754" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#601992" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span>, <a href="#601992" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#241199" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#239435" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#600156" title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkCheckedAccessor</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a>, <a href="#601989" title="Mixin.this.global.Tree">accessedRef</a>, <a href="#599754" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235467" title="(tree: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#601989" title="Mixin.this.global.Tree">accessedRef</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> LIFTED <span title="Long(17246978048L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // add modules
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.ValDef" id="602062">vdef</a> = <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235475" title="(accessor: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#600142" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#600141" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#602062" title="Mixin.this.global.gen.global.ValDef">vdef</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="602063">rhs</a>          = <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235478" title="(accessor: Mixin.this.global.gen.global.Symbol, tpe: Mixin.this.global.gen.global.Type)Mixin.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>, <a href="#602062" title="Mixin.this.global.gen.global.ValDef">vdef</a>.<span title="=&gt; Mixin.this.global.gen.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.gen.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="602064">assignAndRet</a> = <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#235474" title="(lhs: Mixin.this.global.gen.global.Symbol, rhs: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#602062" title="Mixin.this.global.gen.global.ValDef">vdef</a>.<span title="=&gt; Mixin.this.global.gen.global.Symbol">symbol</span>, <a href="#602063" title="Mixin.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="602065">attrThis</a>     = <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92636" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="602066">rhs1</a>         = <a href="#600155" title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span><a href="#602065" title="Mixin.this.global.gen.global.Tree">attrThis</a>, <a href="#602064" title="Mixin.this.global.gen.global.Tree">assignAndRet</a><span class="delimiter">)</span>

            <a href="#600143" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>, <a href="#602066" title="Mixin.this.global.Tree">rhs1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // add fields
            <a href="#600144" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addValDef</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48092" title="=&gt; Boolean">isSuperAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // add superaccessors
            <a href="#600143" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            // add forwarders
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#601988" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
            // debuglog(&quot;New forwarder: &quot; + sym.defString + &quot; =&gt; &quot; + sym.alias.defString)
            <a href="#600143" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>, <a href="../ast/TreeDSL.scala.html#184069" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#599760" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47988" title="=&gt; Mixin.this.global.Symbol">alias</a><span class="delimiter">)</span>, <a href="../Global.scala.html#182860" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92636" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#602090" title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">::</a> <a href="#601988" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47941" title="=&gt; List[List[Mixin.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">head</span>.<span title="(f: Mixin.this.global.Symbol =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Symbol],Mixin.this.global.Ident,List[Mixin.this.global.Ident]])List[Mixin.this.global.Ident]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Mixin.this.global.Ident,List[Mixin.this.global.Ident]]" class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#184069" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#600165" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#600145" title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">add</a><span class="delimiter">(</span><a href="#600165" title="List[Mixin.this.global.Tree]">stats1</a>, <a href="#600139" title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">newDefs</a>.<span title="=&gt; List[Mixin.this.global.Tree]">toList</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#600136" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47763" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#600165" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#600165" title="List[Mixin.this.global.Tree]">stats1</a> <span title="(f: Mixin.this.global.Tree =&gt; Mixin.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.Tree,List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">map</span> <a href="#600147" title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree">completeSuperAccessor</a>
      <a href="#600165" title="List[Mixin.this.global.Tree]">stats1</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(templ: Mixin.this.global.Template)Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]" id="599764">nullableFields</a><span class="delimiter">(</span><a title="Mixin.this.global.Template" id="602216">templ</a>: <span title="Mixin.this.global.Template">Template</span><span class="delimiter">)</span>: <span title="Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">Map</span><span class="delimiter">[</span>Symbol, Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Scope" id="602218">scope</a> = <a href="#602216" title="Mixin.this.global.Template">templ</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42760" title="=&gt; Mixin.this.global.Scope">decls</a>
      // if there are no lazy fields, take the fast path and save a traversal of the whole AST
      <span title="Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#602218" title="Mixin.this.global.Scope">scope</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#602226" title="Mixin.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48081" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,scala.collection.immutable.Set[Mixin.this.global.Symbol]]" id="602227">map</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</span><span title="(elems: (Mixin.this.global.Symbol, Set[Mixin.this.global.Symbol])*)scala.collection.mutable.Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a>, <span title="Set[Mixin.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: scala.collection.immutable.Set[Mixin.this.global.Symbol])scala.collection.mutable.Map[Mixin.this.global.Symbol,scala.collection.immutable.Set[Mixin.this.global.Symbol]]">withDefaultValue</span> <span title="(elems: Mixin.this.global.Symbol*)scala.collection.immutable.Set[Mixin.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>
        // check what fields can be nulled for
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="602277">field</a>, <a title="List[Mixin.this.global.Symbol]" id="602278">users</a><span class="delimiter">)</span> &lt;- <a href="#239447" title="(templ: Mixin.this.global.Template)scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">singleUseFields</a><a href="#602248" title="(f: ((Mixin.this.global.Symbol, List[Mixin.this.global.Symbol])) =&gt; Unit)Unit" class="delimiter">(</a><a href="#602216" title="Mixin.this.global.Template">templ</a><span class="delimiter">)</span>; <a title="Mixin.this.global.Symbol" id="602298">lazyFld</a> &lt;- <a href="#602278" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">users</a><span class="delimiter">)</span>
          <a href="#602227" title="(key: Mixin.this.global.Symbol, value: scala.collection.immutable.Set[Mixin.this.global.Symbol])Unit">map</a><span class="delimiter">(</span><a href="#602298" title="Mixin.this.global.Symbol">lazyFld</a><span class="delimiter">)</span> <span title="(elem: Mixin.this.global.Symbol)scala.collection.immutable.Set[Mixin.this.global.Symbol]">+=</span> <a href="#602277" title="Mixin.this.global.Symbol">field</a>

        <a href="#602227" title="scala.collection.mutable.Map[Mixin.this.global.Symbol,scala.collection.immutable.Set[Mixin.this.global.Symbol]]">map</a>.<span title="(implicit ev: &lt;:&lt;[(Mixin.this.global.Symbol, scala.collection.immutable.Set[Mixin.this.global.Symbol]),(Mixin.this.global.Symbol, Set[Mixin.this.global.Symbol])])scala.collection.immutable.Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">toMap</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="(elems: (Mixin.this.global.Symbol, Nothing)*)scala.collection.immutable.Map[Mixin.this.global.Symbol,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** The transform that gets applied to a tree after it has been completely
     *  traversed and possible modified by a preTransform.
     *  This step will
     *    - change every node type that refers to an implementation class to its
     *      corresponding interface, unless the node's symbol is an implementation class.
     *    - change parents of templates to conform to parents in the symbol info
     *    - add all new definitions to a class or interface
     *    - remove widening casts
     *    - change calls to methods which are defined only in implementation classes
     *      to static calls of methods in implementation modules (@see staticCall)
     *    - change super calls to methods in implementation classes to static calls
     *      (@see staticCall)
     *    - change `this` in implementation modules to references to the self parameter
     *    - refer to fields in some implementation class via an abstract method in the interface.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="599765">postTransform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="602361">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="602363">sym</a> = <a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
      // assert(tree.tpe ne null, tree.getClass +&quot; : &quot;+ tree +&quot; in &quot;+ localTyper.context.tree)
      // change every node type that refers to an implementation class to its
      // corresponding interface, unless the node's symbol is an implementation class.
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#239433" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span>

      <a href="#602361" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="602371">parents</a>, <a title="Mixin.this.global.ValDef" id="602372">self</a>, <a title="List[Mixin.this.global.Tree]" id="602373">body</a><span class="delimiter">)</span> =&gt;
          // change parents of templates to conform to parents in the symbol info
          <span class="keyword">val</span> <a title="List[Mixin.this.global.TypeTree]" id="602374">parents1</a> = <a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42737" title="=&gt; List[Mixin.this.global.Type]">parents</a> <span title="(f: Mixin.this.global.Type =&gt; Mixin.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Type],Mixin.this.global.TypeTree,List[Mixin.this.global.TypeTree]])List[Mixin.this.global.TypeTree]">map</span> <span class="delimiter">(</span><a title="Mixin.this.global.Type" id="602395">t</a> =&gt; <a href="../ast/TreeDSL.scala.html#184069" title="(tp: Mixin.this.global.Type)Mixin.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#602395" title="Mixin.this.global.Type">t</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.TypeTree">setPos</span> <a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span>
          // mark fields which can be nulled afterward
          <a href="#599752" title="(x$1: Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]])Unit">lazyValNullables</a> = <a href="#599764" title="(templ: Mixin.this.global.Template)Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">nullableFields</a><span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.Template" class="delimiter">[</span><span title="Mixin.this.global.Template">Template</span><span class="delimiter">]</span><span class="delimiter">)</span> <span title="(d: Set[Mixin.this.global.Symbol])scala.collection.immutable.Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">withDefaultValue</span> <span title="(elems: Mixin.this.global.Symbol*)scala.collection.immutable.Set[Mixin.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>
          // add all new definitions to current class or interface
          <a href="#239449" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, parents: List[Mixin.this.global.Tree], self: Mixin.this.global.ValDef, body: List[Mixin.this.global.Tree])Mixin.this.global.Template">Template</span><span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a>, <a href="#602374" title="List[Mixin.this.global.TypeTree]">parents1</a>, <a href="#602372" title="Mixin.this.global.ValDef">self</a>, <a href="#599763" title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addNewDefs</a><span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>, <a href="#602373" title="List[Mixin.this.global.Tree]">body</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // remove widening casts
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="602453">qual</a>, _<span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="602458">targ</a> :: _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/Definitions.scala.html#46397" title="(sym: Mixin.this.global.Symbol)Boolean">isCastSymbol</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#602453" title="Mixin.this.global.Tree">qual</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Mixin.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#602458" title="Mixin.this.global.Tree">targ</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span> =&gt;
          <a href="#602453" title="Mixin.this.global.Tree">qual</a>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="602472">qual</a>, _<span class="delimiter">)</span>, <a title="List[Mixin.this.global.Tree]" id="602473">args</a><span class="delimiter">)</span> =&gt;
          /** Changes &lt;code&gt;qual.m(args)&lt;/code&gt; where m refers to an implementation
           *  class method to Q.m(S, args) where Q is the implementation module of
           *  &lt;code&gt;m&lt;/code&gt; and S is the self parameter for the call, which
           *  is determined as follows:
           *     - if qual != super, qual itself
           *     - if qual == super, and we are in an implementation class,
           *       the current self parameter.
           *     - if qual == super, and we are not in an implementation class, `this`
           */
          <span class="keyword">def</span> <a title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree" id="602474">staticCall</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="602475">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="602476">implSym</a> = <a href="#239438" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42769" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#602475" title="Mixin.this.global.Symbol">target</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a>,
              <span title="(xs: Object*)List[Object]">List</span><span class="delimiter">(</span><a href="#602363" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span>, <a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a>, <a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>, <a href="#239438" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#602476" title="=&gt; Mixin.this.global.Symbol">implSym</a>,
                  <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70363" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#602476" title="=&gt; Mixin.this.global.Symbol">implSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
            <span class="delimiter">)</span>
            <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#184069" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#599760" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#602475" title="Mixin.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="#599758" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformSuper</a><span class="delimiter">(</span><a href="#602472" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="#602525" title="(x: Mixin.this.global.Tree)List[Mixin.this.global.Tree]">::</a> <a href="#602473" title="List[Mixin.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#239431" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // change calls to methods which are defined only in implementation
            // classes to static calls of methods in implementation modules
            <a href="#602474" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#602472" title="Mixin.this.global.Tree">qual</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Super</span><span class="delimiter">(</span>_, <a title="Mixin.this.global.TypeName" id="602543">mix</a><span class="delimiter">)</span> =&gt;
              // change super calls to methods in implementation classes to static calls.
              // Transform references super.m(args) as follows:
              //  - if `m` refers to a trait, insert a static call to the corresponding static
              //    implementation
              //  - otherwise return tree unchanged
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#602543" title="Mixin.this.global.TypeName">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#40550" title="object Mixin.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60579" title="=&gt; Mixin.this.global.tpnme.NameType">EMPTY</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;illegal super in trait: &quot;)" class="string">&quot;illegal super in trait: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; Mixin.this.global.Symbol">enclClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#602361" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>;
              <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#39814" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48106" title="=&gt; Boolean">hasAccessorFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#602473" title="List[Mixin.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#602473" title="List[Mixin.this.global.Tree]">args</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="602553">sym1</a> = <a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48014" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; Mixin.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
                  <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#599758" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformSuper</a><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#602472" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#274616" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#602553" title="Mixin.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#602474" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70363" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48014" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#239438" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a>, <a href="#239449" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47975" title="=&gt; Mixin.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
                <a href="#602361" title="Mixin.this.global.Tree">tree</a>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
              <a href="#602361" title="Mixin.this.global.Tree">tree</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#599759" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformThis</a><span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a title="Mixin.this.global.Name" id="602590">name</a><span class="delimiter">)</span> =&gt;
          <a href="#602361" title="Mixin.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="Mixin.this.global.erasure.global.Tree">Select</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="602595">qual</a>, <a title="Mixin.this.global.Name" id="602596">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47771" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#239431" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt;
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;no method allowed here: %s%s %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>, <a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47855" title="=&gt; Boolean">isImplOnly</a>, <a href="../../../reflect/internal/Flags.scala.html#39895" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          // refer to fields in some implementation class via an abstract
          // getter in the interface.
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="602597">iface</a>  = <a href="#239433" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="602598">getter</a> = <a href="#602363" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#48020" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#602597" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#602598" title="Mixin.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#602363" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">qual</a> <a href="../ast/TreeDSL.scala.html#274616" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#602598" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.erasure.global.Tree">Assign</span><span class="delimiter">(</span>Apply<span class="delimiter">(</span><a title="Mixin.this.global.Select" id="602632">lhs</a> @ Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="602637">qual</a>, _<span class="delimiter">)</span>, <a href="#602639" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="602650">rhs</a><span class="delimiter">)</span> =&gt;
          // assign to fields in some implementation class via an abstract
          // setter in the interface.
          <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="602651">setter</a> = <a href="#602632" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#48023" title="(base: Mixin.this.global.Symbol, hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a><span class="delimiter">(</span>
            <a href="#239433" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#602632" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>,
            <a href="#239443" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#602632" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#47695" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#602632" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Position">pos</span>

          <a href="#599749" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#602361" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241253" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">qual</a> <a href="../ast/TreeDSL.scala.html#274616" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#602651" title="=&gt; Mixin.this.global.Symbol">setter</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#602650" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#602361" title="Mixin.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The main transform method.
     *  This performs pre-order traversal preTransform at mixin phase;
     *  when coming back, it performs a postTransform at phase after.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="599766">transform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="600483">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Typer" id="602671">saved</a> = <a href="#599747" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="602672">tree1</a> = <a href="#239449" title="Mixin.this.MixinTransformer" class="keyword">super</a>.<span title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#599756" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">preTransform</a><span class="delimiter">(</span><a href="#600483" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
      // localTyper needed when not flattening inner classes. parts after an
      // inner class will otherwise be typechecked with a wrong scope
      <span class="keyword">try</span> <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#599765" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">postTransform</a><span class="delimiter">(</span><a href="#602672" title="Mixin.this.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">finally</span> <a href="#599747" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="#602671" title="Mixin.this.global.erasure.Typer">saved</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>