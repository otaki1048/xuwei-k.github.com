<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/LiftCode.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Gilles Dubochet
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.tools.nsc.util.FreshNameCreator
<span class="keyword">import</span> scala.runtime.<span title="object scala.runtime.ScalaRunTime">ScalaRunTime</span>.<span class="delimiter">{</span> isAnyVal, isTuple <span class="delimiter">}</span>

/**
 * Translate expressions of the form reflect.Code.lift(exp)
 *  to the reified &quot;reflect trees&quot; representation of exp.
 *  Also: mutable variables that are accessed from a local function are wrapped in refs.
 *
 *  @author Martin Odersky
 *  @version 2.10
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class LiftCode extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.Transform with scala.tools.nsc.transform.TypingTransformers with ScalaObject" id="29868">LiftCode</a> <a href="#29868" title="ScalaObject" class="keyword">extends</a> <a href="Transform.scala.html#29967" title="scala.tools.nsc.transform.Transform">Transform</a> <span class="keyword">with</span> <a href="TypingTransformers.scala.html#29733" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#238437" title="=&gt; scala.tools.nsc.Global">global</a>._ // the global environment
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object LiftCode.this.global.definitions">definitions</a>._ // standard classes and methods
  <span class="keyword">import</span> <a href="../Global.scala.html#182992" title="object LiftCode.this.global.typer">typer</a>.<span class="delimiter">{</span> typed, atOwner <span class="delimiter">}</span> // methods to type trees

  <span class="keyword">val</span> <a title="LiftCode.this.global.type" id="238562">symbols</a>: global.<span class="keyword">type</span> = <a href="TypingTransformers.scala.html#238437" title="=&gt; scala.tools.nsc.Global">global</a>

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="238564">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;liftcode&quot;)" class="string">&quot;liftcode&quot;</span>

  <span class="keyword">def</span> <a title="(unit: LiftCode.this.global.CompilationUnit)LiftCode.this.global.Transformer" id="238566">newTransformer</a><span class="delimiter">(</span><a title="LiftCode.this.global.CompilationUnit" id="593883">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="LiftCode.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#183129" title="LiftCode.this.global.Transformer">Transformer</a> =
    <span title="LiftCode.this.Codifier" class="keyword">new</span> <a href="#238571" title="LiftCode.this.Codifier">Codifier</a><span class="delimiter">(</span><a href="#593883" title="LiftCode.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[String]" id="238568">MirrorMemberNames</a> =
    <a href="../../../reflect/internal/Definitions.scala.html#46467" title="=&gt; LiftCode.this.global.Symbol">ReflectRuntimeMirror</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; LiftCode.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42765" title="=&gt; List[LiftCode.this.global.Symbol]">nonPrivateMembers</a> <span title="(p: LiftCode.this.global.Symbol =&gt; Boolean)List[LiftCode.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a href="#593910" title="LiftCode.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span title="(f: LiftCode.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[LiftCode.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#593930" title="LiftCode.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#48046" title="()String">toString</a><span class="delimiter">)</span> <span title="scala.collection.immutable.Set[String]">toSet</span>

  // Would be nice if we could use something like this to check the names,
  // but it seems that info is unavailable when I need it.
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Any)Option[String]" id="238569">mirrorFactoryName</a><span class="delimiter">(</span><a title="Any" id="593974">value</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#593974" title="Any">value</a> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
    // Modest (inadequate) sanity check that there's a member by this name.
    <span class="keyword">case</span> <a title="Some[String]" id="593976">x</a>: <span title="Product">Product</span> <span class="keyword">if</span> <a href="#238567" title="(elem: String)Boolean">MirrorMemberNames</a><span class="delimiter">(</span><a href="#593976" title="Product">x</a>.<span title="=&gt; String">productPrefix</span><span class="delimiter">)</span> =&gt;
      <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#593976" title="Product">x</a>.<span title="=&gt; String">productPrefix</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Option[String]">_</span> =&gt;
      <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#593974" title="Any">value</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span> <span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">split</span> <span title="String(&quot;[$.]&quot;)" class="string">&quot;&quot;&quot;[$.]&quot;&quot;&quot;</span> <span title="=&gt; String">last</span><span class="delimiter">)</span> <span title="(p: String =&gt; Boolean)Option[String]">filter</span> <a href="#238567" title="=&gt; scala.collection.immutable.Set[String]">MirrorMemberNames</a>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Product)Boolean" id="238570">isMirrorMemberObject</a><span class="delimiter">(</span><a title="Product" id="594104">value</a>: <span title="Product">Product</span><span class="delimiter">)</span> = <a href="#594104" title="Product">value</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#40097" title="Boolean(true)">NoType</a> | <a href="../../../reflect/internal/Types.scala.html#40099" title="object LiftCode.this.global.NoPrefix">NoPrefix</a> | <a href="../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a> | <a href="TypingTransformers.scala.html#238437" title="object LiftCode.this.global.EmptyTree">EmptyTree</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                                          =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class Codifier extends LiftCode.this.TypingTransformer with ScalaObject" id="238571">Codifier</a><a href="#238571" title="ScalaObject" class="delimiter">(</a><a title="LiftCode.this.global.CompilationUnit" id="593899">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="LiftCode.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypingTransformers.scala.html#238439" title="LiftCode.this.TypingTransformer">TypingTransformer</a><span class="delimiter">(</span><a href="#593899" title="LiftCode.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="Boolean" id="593889">reifyDebug</a> = <a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183524" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Yreifydebug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a>
    <span class="keyword">val</span> <a title="scala.tools.nsc.util.SimpleTracer" id="593891">debugTrace</a> = util.<a href="../util/package.scala.html#36265" title="=&gt; scala.tools.nsc.util.SimpleTracer">trace</a> <a href="../util/SimpleTracer.scala.html#183224" title="(enabled: Boolean)scala.tools.nsc.util.SimpleTracer">when</a> <a href="#593889" title="=&gt; Boolean">reifyDebug</a>

    <span class="keyword">val</span> <a title="Boolean" id="593893">reifyCopypaste</a> = <a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183522" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Yreifycopypaste</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a>
    <span class="keyword">def</span> <a title="(tree: LiftCode.this.global.Tree)Unit" id="593895">printCopypaste</a><span class="delimiter">(</span><a title="LiftCode.this.global.Tree" id="594116">tree</a>: <span title="LiftCode.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> scala.reflect.api.Modifier
      <span class="keyword">import</span> scala.reflect.api.<span title="object scala.reflect.api.Modifier">Modifier</span>._

      <span class="keyword">def</span> <a title="(mod: scala.reflect.api.Modifier.Value)String" id="594120">copypasteModifier</a><span class="delimiter">(</span><a title="scala.reflect.api.Modifier.Value" id="594121">mod</a>: Modifier.<span title="scala.reflect.api.Modifier.Value">Value</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#594121" title="scala.reflect.api.Modifier.Value">mod</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="String" id="594122">mod</a> @ <span class="delimiter">(</span>
             <span title="=&gt; reflect.api.Modifier.Value">`protected`</span> | <span title="=&gt; reflect.api.Modifier.Value">`private`</span> | <span title="=&gt; reflect.api.Modifier.Value">`override`</span> |
             <span title="=&gt; reflect.api.Modifier.Value">`abstract`</span> | <span title="=&gt; reflect.api.Modifier.Value">`final`</span> | <span title="=&gt; reflect.api.Modifier.Value">`sealed`</span> |
             <span title="=&gt; reflect.api.Modifier.Value">`implicit`</span> | <span title="=&gt; reflect.api.Modifier.Value">`lazy`</span> | <span title="=&gt; reflect.api.Modifier.Value">`macro`</span> |
             <span title="=&gt; reflect.api.Modifier.Value">`case`</span> | <span title="=&gt; reflect.api.Modifier.Value">`trait`</span><span class="delimiter">)</span> =&gt; <span title="String(&quot;`&quot;)" class="string">&quot;`&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#594122" title="scala.reflect.api.Modifier.Value">mod</a>.<span title="()String">toString</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;`&quot;)" class="string">&quot;`&quot;</span>
        <span class="keyword">case</span> <a title="String" id="594123">mod</a> =&gt; <a href="#594123" title="scala.reflect.api.Modifier.Value">mod</a>.<span title="()String">toString</span>
      <span class="delimiter">}</span>

      // I fervently hope this is a test case or something, not anything being
      // depended upon.  Of more fragile code I cannot conceive.
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="595105">line</a> &lt;- <span class="delimiter">(</span><a href="#594116" title="LiftCode.this.global.Tree">tree</a>.<span title="()String">toString</span>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><a href="../Properties.scala.html#13302" title="object scala.tools.nsc.Properties">Properties</a>.<span title="=&gt; String">lineSeparator</span><span class="delimiter">)</span> <span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">drop</span> <span title="Int(2)" class="int">2</span> <span title="(f: String =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="String" id="595106">s</a> = <a href="#595105" title="String">line</a>.<span title="()String">trim</span>
        <a href="#595106" title="String">s</a> = <a href="#595106" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;$mr.&quot;)" class="string">&quot;$mr.&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <a href="#595106" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;.apply&quot;)" class="string">&quot;.apply&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <a href="#595106" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;scala.collection.immutable.&quot;)" class="string">&quot;scala.collection.immutable.&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;List\\[List\\[.*?\\].*?\\]&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(target: CharSequence, replacement: String)String">replaceAllIn</span><span class="delimiter">(</span><a href="#595106" title="String">s</a>, <span title="String(&quot;List&quot;)" class="string">&quot;List&quot;</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;List\\[.*?\\]&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(target: CharSequence, replacement: String)String">replaceAllIn</span><span class="delimiter">(</span><a href="#595106" title="String">s</a>, <span title="String(&quot;List&quot;)" class="string">&quot;List&quot;</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <a href="#595106" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;immutable.this.Nil&quot;)" class="string">&quot;immutable.this.Nil&quot;</span>, <span title="String(&quot;List()&quot;)" class="string">&quot;List()&quot;</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <a href="#595106" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;modifiersFromInternalFlags&quot;)" class="string">&quot;modifiersFromInternalFlags&quot;</span>, <span title="String(&quot;Modifiers&quot;)" class="string">&quot;Modifiers&quot;</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <a href="#595106" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;Modifiers(0L, newTypeName(\&quot;\&quot;), List())&quot;)" class="string">&quot;Modifiers(0L, newTypeName(\&quot;\&quot;), List())&quot;</span>, <span title="String(&quot;Modifiers()&quot;)" class="string">&quot;Modifiers()&quot;</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;Modifiers\((\d+)[lL], newTypeName\(&quot;(.*?)&quot;\), List\((.*?)\)\)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(target: CharSequence, replacer: scala.util.matching.Regex.Match =&gt; String)String">replaceAllIn</span><span class="delimiter">(</span><a href="#595106" title="String">s</a>, <a title="scala.util.matching.Regex.Match" id="595151">m</a> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="StringBuilder" id="595152">buf</a> = <span title="()StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span>

          <span class="keyword">val</span> <a title="Long" id="595153">flags</a> = <a href="#595151" title="scala.util.matching.Regex.Match">m</a>.<span title="(i: Int)String">group</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Long">toLong</span>
          <span class="keyword">val</span> <a title="String" id="595154">s_flags</a> = <a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../../../reflect/internal/Flags.scala.html#39905" title="(flags: Long)List[scala.reflect.api.Modifier.Value]">modifiersOfFlags</a><span class="delimiter">(</span><a href="#595153" title="Long">flags</a><span class="delimiter">)</span> <span title="(f: scala.reflect.api.Modifier.Value =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.api.Modifier.Value],String,List[String]])List[String]">map</span> <a href="#594120" title="(mod: scala.reflect.api.Modifier.Value)String">copypasteModifier</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#595154" title="String">s_flags</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <a href="#595152" title="StringBuilder">buf</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;Set(&quot;)" class="string">&quot;Set(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#595154" title="String">s_flags</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="String" id="595155">privateWithin</a> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#595151" title="scala.util.matching.Regex.Match">m</a>.<span title="(i: Int)String">group</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#595155" title="String">privateWithin</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <a href="#595152" title="StringBuilder">buf</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;, newTypeName(\&quot;&quot;)" class="string">&quot;, newTypeName(\&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#595155" title="String">privateWithin</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot;)&quot;)" class="string">&quot;\&quot;)&quot;</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="String" id="595156">annotations</a> = <a href="#595151" title="scala.util.matching.Regex.Match">m</a>.<span title="(i: Int)String">group</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#595156" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">annotations</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
            <a href="#595152" title="StringBuilder">buf</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><span title="String(&quot;, List(&quot;)" class="string">&quot;, List(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#595156" title="String">annotations</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

          <span title="String(&quot;Modifiers(&quot;)" class="string">&quot;Modifiers(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#595152" title="StringBuilder">buf</a>.<span title="()String">toString</span>  <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#595106" title="String">s</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;setInternalFlags\((\d+)L\)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(target: CharSequence, replacer: scala.util.matching.Regex.Match =&gt; String)String">replaceAllIn</span><span class="delimiter">(</span><a href="#595106" title="String">s</a>, <a title="scala.util.matching.Regex.Match" id="595382">m</a> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="595383">flags</a> = <a href="#595382" title="scala.util.matching.Regex.Match">m</a>.<span title="(i: Int)String">group</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Long">toLong</span>
          <span class="keyword">val</span> <a title="List[String]" id="595384">mods</a> = <a href="../symtab/package.scala.html#36230" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../../../reflect/internal/Flags.scala.html#39905" title="(flags: Long)List[scala.reflect.api.Modifier.Value]">modifiersOfFlags</a><span class="delimiter">(</span><a href="#595383" title="Long">flags</a><span class="delimiter">)</span> <span title="(f: scala.reflect.api.Modifier.Value =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.api.Modifier.Value],String,List[String]])List[String]">map</span> <a href="#594120" title="(mod: scala.reflect.api.Modifier.Value)String">copypasteModifier</a>
          <span title="String(&quot;setInternalFlags(flagsOfModifiers(List(&quot;)" class="string">&quot;setInternalFlags(flagsOfModifiers(List(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#595384" title="List[String]">mods</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)))&quot;)" class="string">&quot;)))&quot;</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>

        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#595106" title="String">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: LiftCode.this.global.CompilationUnit)Unit" id="593896">transformUnit</a><span class="delimiter">(</span><a title="LiftCode.this.global.CompilationUnit" id="595445">unit</a>: <a href="../CompilationUnits.scala.html#183079" title="LiftCode.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../reflect/internal/SymbolTable.scala.html#36972" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#36963" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#70378" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#238571" title="LiftCode.this.Codifier" class="keyword">super</a>.<a href="../ast/Trees.scala.html#280653" title="(unit: LiftCode.this.global.CompilationUnit)Unit">transformUnit</a><span class="delimiter">(</span><a href="#595445" title="LiftCode.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree" id="593897">transform</a><span class="delimiter">(</span><a title="LiftCode.this.global.Tree" id="595456">tree</a>: <span title="LiftCode.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LiftCode.this.global.Symbol" id="595461">sym</a> = <a href="#595456" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Symbol">symbol</span>
      <a href="#595456" title="LiftCode.this.global.Tree">tree</a> <span title="LiftCode.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="LiftCode.this.global.Tree">Apply</span><span class="delimiter">(</span>_, <a href="#595469" title="(x: List[LiftCode.this.global.Tree])Some[List[LiftCode.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="LiftCode.this.global.Tree" id="595491">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#595461" title="LiftCode.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#46489" title="=&gt; LiftCode.this.global.Symbol">Code_lift</a> =&gt; // reify Code.lift[T](expr) instances
          <span class="keyword">val</span> <a title="Boolean" id="595496">saved</a> = <a href="../Global.scala.html#182928" title="=&gt; Boolean">printTypings</a>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#182929" title="(x$1: Boolean)Unit">printTypings</a> = <a href="#593889" title="=&gt; Boolean">reifyDebug</a>
            <a href="../util/SimpleTracer.scala.html#183220" title="(msg: String)(value: LiftCode.this.global.analyzer.global.Tree)LiftCode.this.global.analyzer.global.Tree">debugTrace</a><span class="delimiter">(</span><span title="String(&quot;transformed = &quot;)" class="string">&quot;transformed = &quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="LiftCode.this.global.analyzer.global.Tree" id="595501">result</a> = <a href="TypingTransformers.scala.html#586823" title="=&gt; LiftCode.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#184437" title="(pos: LiftCode.this.global.analyzer.global.Position)(tree: LiftCode.this.global.analyzer.global.Tree)LiftCode.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#595491" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#593898" title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree">codify</a><span class="delimiter">(</span><a href="#238571" title="LiftCode.this.Codifier" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#595491" title="LiftCode.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#593893" title="=&gt; Boolean">reifyCopypaste</a><span class="delimiter">)</span> <a href="#593895" title="(tree: LiftCode.this.global.Tree)Unit">printCopypaste</a><span class="delimiter">(</span><a href="#595501" title="LiftCode.this.global.analyzer.global.Tree">result</a><span class="delimiter">)</span>
              <a href="#595501" title="LiftCode.this.global.analyzer.global.Tree">result</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">finally</span> <a href="../Global.scala.html#182929" title="(x$1: Boolean)Unit">printTypings</a> = <a href="#595496" title="Boolean">saved</a>
        <span class="keyword">case</span> <span title="LiftCode.this.global.Tree">_</span> =&gt;
          <a href="#238571" title="LiftCode.this.Codifier" class="keyword">super</a>.<a href="TypingTransformers.scala.html#586838" title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#595456" title="LiftCode.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree" id="593898">codify</a><span class="delimiter">(</span><a title="LiftCode.this.global.Tree" id="595507">tree</a>: <span title="LiftCode.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <a href="../util/SimpleTracer.scala.html#183220" title="(msg: String)(value: LiftCode.this.global.Tree)LiftCode.this.global.Tree">debugTrace</a><span class="delimiter">(</span><span title="String(&quot;codified &quot;)" class="string">&quot;codified &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#595507" title="LiftCode.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LiftCode.this.global.Type" id="595521">targetType</a> = <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object LiftCode.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46485" title="=&gt; LiftCode.this.global.Symbol">CodeClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47977" title="=&gt; LiftCode.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; LiftCode.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42751" title="=&gt; List[LiftCode.this.global.Type]">paramTypes</a>.<span title="=&gt; LiftCode.this.global.Type">head</span>
      <span class="keyword">val</span> <a title="LiftCode.this.Reifier" id="595522">reifier</a> = <span title="LiftCode.this.Reifier" class="keyword">new</span> <a href="#238572" title="LiftCode.this.Reifier">Reifier</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="LiftCode.this.global.gen.global.Tree" id="595523">arg</a> = <a href="../Global.scala.html#182860" title="object LiftCode.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#118349" title="Boolean" id="595597">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#595522" title="LiftCode.this.Reifier">reifier</a>.<a href="#595547" title="(data: Any)LiftCode.this.global.Tree">reifyTopLevel</a><a title="LiftCode.this.global.Tree" id="595594" class="delimiter">(</a><a href="#595507" title="LiftCode.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#595521" title="LiftCode.this.global.Type" id="595595">targetType</a>, wrapInApply = <a title="Boolean(false)" id="595596" class="keyword">false</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="LiftCode.this.global.Type" id="595524">treetpe</a> =
        <span title="LiftCode.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#595507" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; LiftCode.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47815" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <a href="#595507" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; LiftCode.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47943" title="=&gt; LiftCode.this.global.Type">classBound</a>
        <span class="keyword">else</span> <a href="#595507" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Type">tpe</span>
      <a href="../../../reflect/internal/Trees.scala.html#40624" title="(tpt: LiftCode.this.global.Tree, argss: List[List[LiftCode.this.global.Tree]])LiftCode.this.global.Tree">New</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(tp: LiftCode.this.global.Type)LiftCode.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: LiftCode.this.global.Type, args: List[LiftCode.this.global.Type])LiftCode.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#40473" title="object LiftCode.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#46485" title="=&gt; LiftCode.this.global.Symbol">CodeClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; LiftCode.this.global.Type">typeConstructor</a>, <span title="(xs: LiftCode.this.global.Type*)List[LiftCode.this.global.Type]">List</span><span class="delimiter">(</span><a href="#595524" title="LiftCode.this.global.Type">treetpe</a>.<a href="../../../reflect/internal/Types.scala.html#42732" title="=&gt; LiftCode.this.global.Type">widen</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="(xs: List[LiftCode.this.global.gen.global.Tree]*)List[List[LiftCode.this.global.gen.global.Tree]]">List</span><span class="delimiter">(</span><span title="(xs: LiftCode.this.global.gen.global.Tree*)List[LiftCode.this.global.gen.global.Tree]">List</span><span class="delimiter">(</span><a href="#595523" title="LiftCode.this.global.gen.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /**
   *  Given a tree or type, generate a tree that when executed at runtime produces the original tree or type.
   *  For instance: Given
   *
   *   var x = 1; Code(x + 1)
   *
   *  The `x + 1` expression is reified to
   *
   *  $mr.Apply($mr.Select($mr.Ident($mr.freeVar(&quot;x&quot;. &lt;Int&gt;, x), &quot;+&quot;), List($mr.Literal($mr.Constant(1))))))
   *
   *  Or, the term name 'abc' is reified to:
   *
   *  $mr.Apply($mr.Select($mr.Ident(&quot;newTermName&quot;)), List(Literal(Constant(&quot;abc&quot;)))))
   *
   * todo: Treat embedded Code blocks by merging them into containing block
   *
   */
  <span class="keyword">class</span> <a title="class Reifier extends Object with ScalaObject" id="238572">Reifier</a><a href="#238572" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;scala.&quot;)" id="595532">scalaPrefix</a> = <span title="String(&quot;scala.&quot;)" class="string">&quot;scala.&quot;</span>
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;$local&quot;)" id="595534">localPrefix</a> = <span title="String(&quot;$local&quot;)" class="string">&quot;$local&quot;</span>
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;$memo&quot;)" id="595536">memoizerName</a> = <span title="String(&quot;$memo&quot;)" class="string">&quot;$memo&quot;</span>

    <span class="keyword">val</span> <a title="Boolean" id="595538">reifyDebug</a> = <a href="../Global.scala.html#182849" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#183524" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Yreifydebug</a>.<a href="../settings/MutableSettings.scala.html#183734" title="=&gt; Boolean">value</a>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Symbol]" id="595540">reifiableSyms</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.ArrayBuffer[A]">ArrayBuffer</span><span title="(elems: LiftCode.this.global.Symbol*)scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> // the symbols that are reified with the tree
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LiftCode.this.global.Symbol,Int]" id="595542">symIndex</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</span><span title="(elems: (LiftCode.this.global.Symbol, Int)*)scala.collection.mutable.HashMap[LiftCode.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> // the index of a reifiable symbol in `reifiableSyms`
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[LiftCode.this.global.Symbol]" id="595545">boundSyms</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: LiftCode.this.global.Symbol*)scala.collection.immutable.Set[LiftCode.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> // set of all symbols that are bound in tree to be reified

    /**
     * Generate tree of the form
     *
     *    { val $mr = scala.reflect.runtime.Mirror
     *      $local1 = new TypeSymbol(owner1, NoPosition, name1)
     *      ...
     *      $localN = new TermSymbol(ownerN, NoPositiion, nameN)
     *      $local1.setInfo(tpe1)
     *      ...
     *      $localN.setInfo(tpeN)
     *      $localN.setAnnotations(annotsN)
     *      rtree
     *    }
     *
     *  where
     *
     *   - `$localI` are free type symbols in the environment, as well as local symbols
     *      of refinement types.
     *   - `tpeI` are the info's of `symI`
     *   - `rtree` is code that generates `data` at runtime, maintaining all attributes.
     *   - `data` is typically a tree or a type.
     */
    <span class="keyword">def</span> <a title="(data: Any)LiftCode.this.global.Tree" id="595547">reifyTopLevel</a><span class="delimiter">(</span><a title="Any" id="595592">data</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LiftCode.this.global.Tree" id="595647">rtree</a> = <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#595592" title="Any">data</a><span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#238437" title="(stats: List[LiftCode.this.global.Tree], expr: LiftCode.this.global.Tree)LiftCode.this.global.Block">Block</a><span class="delimiter">(</span><a href="#595582" title="=&gt; LiftCode.this.global.ValDef">mirrorAlias</a> <a href="#595663" title="(x: LiftCode.this.global.Tree)List[LiftCode.this.global.Tree]">::</a> <a href="#595583" title="=&gt; List[LiftCode.this.global.Tree]">reifySymbolTableSetup</a>, <a href="#595647" title="LiftCode.this.global.Tree">rtree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LiftCode.this.global.Symbol)Boolean" id="595548">isLocatable</a><span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="595707">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#595707" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#595707" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#595707" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47781" title="=&gt; Boolean">isTypeParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#595707" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47875" title="=&gt; Int">paramPos</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LiftCode.this.global.Symbol)Unit" id="595549">registerReifiableSymbol</a><span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="595715">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#595542" title="=&gt; scala.collection.mutable.HashMap[LiftCode.this.global.Symbol,Int]">symIndex</a> <span title="(key: LiftCode.this.global.Symbol)Boolean">contains</span> <a href="#595715" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#595715" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47881" title="=&gt; Iterator[LiftCode.this.global.Symbol]">ownersIterator</a> <span title="(p: LiftCode.this.global.Symbol =&gt; Boolean)Option[LiftCode.this.global.Symbol]">find</span> <span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="595726">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#595548" title="(sym: LiftCode.this.global.Symbol)Boolean">isLocatable</a><span class="delimiter">(</span><a href="#595726" title="LiftCode.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: LiftCode.this.global.Symbol =&gt; Unit)Unit">foreach</span> <a href="#595549" title="(sym: LiftCode.this.global.Symbol)Unit">registerReifiableSymbol</a>
        <a href="#595542" title="(key: LiftCode.this.global.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#595715" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#595540" title="=&gt; scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Symbol]">reifiableSyms</a>.<span title="=&gt; Int">length</span>
        <a href="#595540" title="=&gt; scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Symbol]">reifiableSyms</a> <span title="(elem: LiftCode.this.global.Symbol)Reifier.this.reifiableSyms.type">+=</span> <a href="#595715" title="LiftCode.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>

    // helper methods

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.TermName" id="595550">localName</a><span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="595746">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#39685" title="LiftCode.this.global.TermName">TermName</a> =
      <a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)LiftCode.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;$local&quot;)">localPrefix</span> <span title="(x$1: Any)String">+</span> <a href="#595542" title="(key: LiftCode.this.global.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#595746" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fname: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree" id="595551">call</a><span class="delimiter">(</span><a title="String" id="595783">fname</a>: <span title="String">String</span>, <a title="LiftCode.this.global.Tree*" id="595784">args</a>: <span title="LiftCode.this.global.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="TypingTransformers.scala.html#238437" title="(fun: LiftCode.this.global.Tree, args: List[LiftCode.this.global.Tree])LiftCode.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#595580" title="(fullname: String)LiftCode.this.global.Tree">termPath</a><span class="delimiter">(</span><a href="#595783" title="String">fname</a><span class="delimiter">)</span>, <a href="#595784" title="LiftCode.this.global.Tree*">args</a>.<span title="=&gt; List[LiftCode.this.global.Tree]">toList</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)LiftCode.this.global.Tree" id="595552">mirrorSelect</a><span class="delimiter">(</span><a title="String" id="595806">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595580" title="(fullname: String)LiftCode.this.global.Tree">termPath</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#40545" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: LiftCode.this.global.TermName)String">MIRROR_PREFIX</a> <span title="(x$1: Any)String">+</span> <a href="#595806" title="String">name</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: LiftCode.this.global.TermName, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree" id="595553">mirrorCall</a><span class="delimiter">(</span><a title="LiftCode.this.global.TermName" id="595844">name</a>: <a href="../../../reflect/internal/Names.scala.html#39685" title="LiftCode.this.global.TermName">TermName</a>, <a title="LiftCode.this.global.Tree*" id="595845">args</a>: <span title="LiftCode.this.global.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595551" title="(fname: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">call</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60021" title="=&gt; LiftCode.this.global.nme.NameType">MIRROR_PREFIX</a> <a href="../../../reflect/internal/Names.scala.html#53457" title="(suffix: LiftCode.this.global.Name)LiftCode.this.global.nme.MIRROR_PREFIX.ThisNameType">append</a> <a href="#595844" title="LiftCode.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#595845" title="LiftCode.this.global.Tree*">args</a>: _*<span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree" id="595554">mirrorCall</a><span class="delimiter">(</span><a title="String" id="595852">name</a>: <span title="String">String</span>, <a title="LiftCode.this.global.Tree*" id="595853">args</a>: <span title="LiftCode.this.global.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595551" title="(fname: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">call</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#40545" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: LiftCode.this.global.TermName)String">MIRROR_PREFIX</a> <span title="(x$1: Any)String">+</span> <a href="#595852" title="String">name</a>, <a href="#595853" title="LiftCode.this.global.Tree*">args</a>: _*<span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Product, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree" id="595555">mirrorFactoryCall</a><span class="delimiter">(</span><a title="Product" id="595891">value</a>: <span title="Product">Product</span>, <a title="LiftCode.this.global.Tree*" id="595892">args</a>: <span title="LiftCode.this.global.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><a href="#595891" title="Product">value</a>.<span title="=&gt; String">productPrefix</span>, <a href="#595892" title="LiftCode.this.global.Tree*">args</a>: _*<span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree" id="595556">scalaFactoryCall</a><span class="delimiter">(</span><a title="String" id="595900">name</a>: <span title="String">String</span>, <a title="LiftCode.this.global.Tree*" id="595901">args</a>: <span title="LiftCode.this.global.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595551" title="(fname: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">call</a><span class="delimiter">(</span><span title="String(&quot;scala.&quot;)">scalaPrefix</span> <span title="(x$1: Any)String">+</span> <a href="#595900" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.apply&quot;)" class="string">&quot;.apply&quot;</span>, <a href="#595901" title="LiftCode.this.global.Tree*">args</a>: _*<span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(args: List[LiftCode.this.global.Tree])LiftCode.this.global.Tree" id="595557">mkList</a><span class="delimiter">(</span><a title="List[LiftCode.this.global.Tree]" id="595903">args</a>: <span title="List[LiftCode.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595556" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">scalaFactoryCall</a><span class="delimiter">(</span><span title="String(&quot;collection.immutable.List&quot;)" class="string">&quot;collection.immutable.List&quot;</span>, <a href="#595903" title="List[LiftCode.this.global.Tree]">args</a>: _*<span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: LiftCode.this.global.Modifiers)LiftCode.this.global.Tree" id="595558">reifyModifiers</a><span class="delimiter">(</span><a title="LiftCode.this.global.Modifiers" id="595905">m</a>: <a href="../../../reflect/internal/Trees.scala.html#40598" title="LiftCode.this.global.Modifiers">Modifiers</a><span class="delimiter">)</span> =
      <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;modifiersFromInternalFlags&quot;)" class="string">&quot;modifiersFromInternalFlags&quot;</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#595905" title="LiftCode.this.global.Modifiers">m</a>.<a href="../../../reflect/internal/Trees.scala.html#85400" title="=&gt; Long">flags</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#595905" title="LiftCode.this.global.Modifiers">m</a>.<a href="../../../reflect/internal/Trees.scala.html#85402" title="=&gt; LiftCode.this.global.Name">privateWithin</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#595905" title="LiftCode.this.global.Modifiers">m</a>.<a href="../../../reflect/internal/Trees.scala.html#85404" title="=&gt; List[LiftCode.this.global.Tree]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, args: Any*)LiftCode.this.global.Tree" id="595559">reifyAggregate</a><span class="delimiter">(</span><a title="String" id="595914">name</a>: <span title="String">String</span>, <a title="Any*" id="595915">args</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span> =
      <a href="#595556" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">scalaFactoryCall</a><span class="delimiter">(</span><a href="#595914" title="String">name</a>, <span class="delimiter">(</span><a href="#595915" title="Any*">args</a> <span title="(f: Any =&gt; LiftCode.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Any],LiftCode.this.global.Tree,Seq[LiftCode.this.global.Tree]])Seq[LiftCode.this.global.Tree]">map</span> <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">)</span>.<span title="=&gt; List[LiftCode.this.global.Tree]">toList</span>: _*<span class="delimiter">)</span>

    /**
     * Reify a list
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(xs: List[Any])LiftCode.this.global.Tree" id="595560">reifyList</a><span class="delimiter">(</span><a title="List[Any]" id="595959">xs</a>: <span title="List[Any]">List</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595557" title="(args: List[LiftCode.this.global.Tree])LiftCode.this.global.Tree">mkList</a><span class="delimiter">(</span><a href="#595959" title="List[Any]">xs</a> <span title="(f: Any =&gt; LiftCode.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Any],LiftCode.this.global.Tree,List[LiftCode.this.global.Tree]])List[LiftCode.this.global.Tree]">map</span> <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">)</span>

    /** Reify a name */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: LiftCode.this.global.Name)LiftCode.this.global.Tree" id="595561">reifyName</a><span class="delimiter">(</span><a title="LiftCode.this.global.Name" id="596005">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="LiftCode.this.global.Name">Name</a><span class="delimiter">)</span> =
      <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#596005" title="LiftCode.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#53411" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span title="String(&quot;newTypeName&quot;)" class="string">&quot;newTypeName&quot;</span> <span class="keyword">else</span> <span title="String(&quot;newTermName&quot;)" class="string">&quot;newTermName&quot;</span>, <a href="TypingTransformers.scala.html#238437" title="(value: LiftCode.this.global.Constant)LiftCode.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)LiftCode.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#596005" title="LiftCode.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LiftCode.this.global.Symbol)Boolean" id="595562">isFree</a><span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="596016">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#595542" title="=&gt; scala.collection.mutable.HashMap[LiftCode.this.global.Symbol,Int]">symIndex</a> <span title="(key: LiftCode.this.global.Symbol)Boolean">contains</span> <a href="#596016" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>

    /**
     * Reify a reference to a symbol
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree" id="595563">reifySymRef</a><span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="596019">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#595542" title="=&gt; scala.collection.mutable.HashMap[LiftCode.this.global.Symbol,Int]">symIndex</a> <span title="(key: LiftCode.this.global.Symbol)Option[Int]">get</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a> <span title="LiftCode.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="LiftCode.this.global.Ident">Some</span><span class="delimiter">(</span><a title="Int" id="596025">idx</a><span class="delimiter">)</span> =&gt;
          <a href="TypingTransformers.scala.html#238437" title="(name: LiftCode.this.global.Name)LiftCode.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#595550" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.TermName">localName</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="LiftCode.this.global.Tree">None</span> =&gt;
          <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object LiftCode.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#595552" title="(name: String)LiftCode.this.global.Tree">mirrorSelect</a><span class="delimiter">(</span><span title="String(&quot;NoSymbol&quot;)" class="string">&quot;NoSymbol&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span>
            <a href="TypingTransformers.scala.html#238437" title="(qualifier: LiftCode.this.global.Tree, name: String)LiftCode.this.global.Select">Select</a><span class="delimiter">(</span><a href="#595563" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47985" title="=&gt; LiftCode.this.global.Symbol">sourceModule</a><span class="delimiter">)</span>, <span title="String(&quot;moduleClass&quot;)" class="string">&quot;moduleClass&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47857" title="=&gt; Boolean">isStatic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
            <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;staticClass&quot;)" class="string">&quot;staticClass&quot;</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47857" title="=&gt; Boolean">isStatic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
            <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;staticModule&quot;)" class="string">&quot;staticModule&quot;</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#595548" title="(sym: LiftCode.this.global.Symbol)Boolean">isLocatable</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47781" title="=&gt; Boolean">isTypeParameter</a><span class="delimiter">)</span>
              <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;selectParam&quot;)" class="string">&quot;selectParam&quot;</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47875" title="=&gt; Int">paramPos</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#595538" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;locatable: &quot;)" class="string">&quot;locatable: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47787" title="=&gt; Boolean">isPackageClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47781" title="=&gt; Boolean">isTypeParameter</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="LiftCode.this.global.Tree" id="596087">rowner</a> = <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="LiftCode.this.global.Tree" id="596088">rname</a> = <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; LiftCode.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>
              <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47756" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
                <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;selectType&quot;)" class="string">&quot;selectType&quot;</span>, <a href="#596087" title="LiftCode.this.global.Tree">rowner</a>, <a href="#596088" title="LiftCode.this.global.Tree">rname</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47773" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; LiftCode.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: LiftCode.this.global.Name)LiftCode.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; LiftCode.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47777" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Int" id="596101">index</a> = <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; LiftCode.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#42761" title="(name: LiftCode.this.global.Name)LiftCode.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; LiftCode.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#47967" title="=&gt; List[LiftCode.this.global.Symbol]">alternatives</a> <span title="(elem: LiftCode.this.global.Symbol)Int">indexOf</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#596101" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>, <a href="#596019" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>
                <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;selectOverloadedMethod&quot;)" class="string">&quot;selectOverloadedMethod&quot;</span>, <a href="#596087" title="LiftCode.this.global.Tree">rowner</a>, <a href="#596088" title="LiftCode.this.global.Tree">rname</a>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596101" title="Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span>
                <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;selectTerm&quot;)" class="string">&quot;selectTerm&quot;</span>, <a href="#596087" title="LiftCode.this.global.Tree">rowner</a>, <a href="#596088" title="LiftCode.this.global.Tree">rname</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#595538" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Free: &quot;)" class="string">&quot;Free: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="LiftCode.this.global.lambdaLift.global.Type" id="596136">symtpe</a> = <a href="../Global.scala.html#182958" title="object LiftCode.this.global.lambdaLift">lambdaLift</a>.<a href="LambdaLift.scala.html#239272" title="(sym: LiftCode.this.global.lambdaLift.global.Symbol, tpe: LiftCode.this.global.lambdaLift.global.Type, erasedTypes: Boolean)LiftCode.this.global.lambdaLift.global.Type">boxIfCaptured</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>, <a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; LiftCode.this.global.Type">tpe</a>, erasedTypes = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(arg: LiftCode.this.global.Ident)LiftCode.this.global.Tree" id="596137">markIfCaptured</a><span class="delimiter">(</span><a title="LiftCode.this.global.Ident" id="596143">arg</a>: <span title="LiftCode.this.global.Ident">Ident</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = 
                <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47794" title="=&gt; Boolean">isCapturedVariable</a><span class="delimiter">)</span> <a href="../MacroContext.scala.html#183204" title="(id: LiftCode.this.global.Ident)LiftCode.this.global.Tree">referenceCapturedVariable</a><span class="delimiter">(</span><a href="#596143" title="LiftCode.this.global.Ident">arg</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#596143" title="LiftCode.this.global.Ident">arg</a>
              <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;freeVar&quot;)" class="string">&quot;freeVar&quot;</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; LiftCode.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596136" title="LiftCode.this.global.lambdaLift.global.Type">symtpe</a><span class="delimiter">)</span>, <a href="#596137" title="(arg: LiftCode.this.global.Ident)LiftCode.this.global.Tree">markIfCaptured</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#595538" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Late local: &quot;)" class="string">&quot;Late local: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#596019" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#595549" title="(sym: LiftCode.this.global.Symbol)Unit">registerReifiableSymbol</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#595563" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#596019" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * reify the creation of a symbol
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree" id="595564">reifySymbolDef</a><span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="596164">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#595538" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;reify sym def &quot;)" class="string">&quot;reify sym def &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#596164" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#238437" title="(mods: LiftCode.this.global.Modifiers, name: LiftCode.this.global.TermName, tpt: LiftCode.this.global.Tree, rhs: LiftCode.this.global.Tree)LiftCode.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40604" title="=&gt; LiftCode.this.global.Modifiers">NoMods</a>, <a href="#595550" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.TermName">localName</a><span class="delimiter">(</span><a href="#596164" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#238437" title="()LiftCode.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>,
        <a href="TypingTransformers.scala.html#238437" title="(fun: LiftCode.this.global.Tree, args: List[LiftCode.this.global.Tree])LiftCode.this.global.Apply">Apply</a><span class="delimiter">(</span>
          <a href="TypingTransformers.scala.html#238437" title="(qualifier: LiftCode.this.global.Tree, name: String)LiftCode.this.global.Select">Select</a><span class="delimiter">(</span><a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596164" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a><span class="delimiter">)</span>, <span title="String(&quot;newNestedSymbol&quot;)" class="string">&quot;newNestedSymbol&quot;</span><span class="delimiter">)</span>,
          <span title="(xs: LiftCode.this.global.Tree*)List[LiftCode.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596164" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; LiftCode.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596164" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47694" title="=&gt; LiftCode.this.global.Position">pos</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#238437" title="(value: LiftCode.this.global.Constant)LiftCode.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)LiftCode.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#596164" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47898" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**
     * Generate code to add type and annotation info to a reified symbol
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree" id="595565">fillInSymbol</a><span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="596224">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LiftCode.this.global.Apply" id="596226">rset</a> = <a href="TypingTransformers.scala.html#238437" title="(fun: LiftCode.this.global.Tree, args: List[LiftCode.this.global.Tree])LiftCode.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: LiftCode.this.global.Tree, name: LiftCode.this.global.Name)LiftCode.this.global.Select">Select</a><span class="delimiter">(</span><a href="#595563" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#596224" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60330" title="=&gt; LiftCode.this.global.nme.NameType">setTypeSig</a><span class="delimiter">)</span>, <span title="(xs: LiftCode.this.global.Tree*)List[LiftCode.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#595569" title="(tpe0: LiftCode.this.global.Type)LiftCode.this.global.Tree">reifyType</a><span class="delimiter">(</span><a href="#596224" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47920" title="=&gt; LiftCode.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596224" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[LiftCode.this.global.AnnotationInfo]">annotations</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#596226" title="LiftCode.this.global.Apply">rset</a>
      <span class="keyword">else</span> <a href="TypingTransformers.scala.html#238437" title="(fun: LiftCode.this.global.Tree, args: List[LiftCode.this.global.Tree])LiftCode.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: LiftCode.this.global.Tree, name: LiftCode.this.global.Name)LiftCode.this.global.Select">Select</a><span class="delimiter">(</span><a href="#596226" title="LiftCode.this.global.Apply">rset</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60328" title="=&gt; LiftCode.this.global.nme.NameType">setAnnotations</a><span class="delimiter">)</span>, <span title="(xs: LiftCode.this.global.Tree*)List[LiftCode.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596224" title="LiftCode.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47954" title="=&gt; List[LiftCode.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Reify a scope */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(scope: LiftCode.this.global.Scope)LiftCode.this.global.Tree" id="595566">reifyScope</a><span class="delimiter">(</span><a title="LiftCode.this.global.Scope" id="596314">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#40425" title="LiftCode.this.global.Scope">Scope</a><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#596314" title="LiftCode.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#61766" title="(p: LiftCode.this.global.Symbol =&gt; Unit)Unit">foreach</a> <a href="#595549" title="(sym: LiftCode.this.global.Symbol)Unit">registerReifiableSymbol</a>
      <a href="#595553" title="(name: LiftCode.this.global.TermName, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60294" title="=&gt; LiftCode.this.global.nme.NameType">newScopeWith</a>, <a href="#596314" title="LiftCode.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#61763" title="=&gt; List[LiftCode.this.global.Symbol]">toList</a> <span title="(f: LiftCode.this.global.Symbol =&gt; LiftCode.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LiftCode.this.global.Symbol],LiftCode.this.global.Tree,List[LiftCode.this.global.Tree]])List[LiftCode.this.global.Tree]">map</span> <a href="#595563" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymRef</a>: _*<span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Reify a list of symbols that need to be created */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(syms: List[LiftCode.this.global.Symbol])LiftCode.this.global.Tree" id="595567">reifySymbols</a><span class="delimiter">(</span><a title="List[LiftCode.this.global.Symbol]" id="596390">syms</a>: <span title="List[LiftCode.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#596390" title="List[LiftCode.this.global.Symbol]">syms</a> <span title="(f: LiftCode.this.global.Symbol =&gt; Unit)Unit">foreach</span> <a href="#595549" title="(sym: LiftCode.this.global.Symbol)Unit">registerReifiableSymbol</a>
      <a href="#595557" title="(args: List[LiftCode.this.global.Tree])LiftCode.this.global.Tree">mkList</a><span class="delimiter">(</span><a href="#596390" title="List[LiftCode.this.global.Symbol]">syms</a> <span title="(f: LiftCode.this.global.Symbol =&gt; LiftCode.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LiftCode.this.global.Symbol],LiftCode.this.global.Tree,List[LiftCode.this.global.Tree]])List[LiftCode.this.global.Tree]">map</span> <a href="#595563" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymRef</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Reify a type that defines some symbols */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Product, bound: List[LiftCode.this.global.Symbol], underlying: LiftCode.this.global.Type)LiftCode.this.global.Tree" id="595568">reifyTypeBinder</a><span class="delimiter">(</span><a title="Product" id="596457">value</a>: <span title="Product">Product</span>, <a title="List[LiftCode.this.global.Symbol]" id="596458">bound</a>: <span title="List[LiftCode.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="LiftCode.this.global.Type" id="596459">underlying</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="LiftCode.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595555" title="(value: Product, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorFactoryCall</a><span class="delimiter">(</span><a href="#596457" title="Product">value</a>, <a href="#595567" title="(syms: List[LiftCode.this.global.Symbol])LiftCode.this.global.Tree">reifySymbols</a><span class="delimiter">(</span><a href="#596458" title="List[LiftCode.this.global.Symbol]">bound</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596459" title="LiftCode.this.global.Type">underlying</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Reify a type */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe0: LiftCode.this.global.Type)LiftCode.this.global.Tree" id="595569">reifyType</a><span class="delimiter">(</span><a title="LiftCode.this.global.Type" id="596261">tpe0</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="LiftCode.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LiftCode.this.global.Type" id="596461">tpe</a> = <a href="#596261" title="LiftCode.this.global.Type">tpe0</a>.<a href="../../../reflect/internal/Types.scala.html#42758" title="=&gt; LiftCode.this.global.Type">normalize</a>
      <span class="keyword">val</span> <a title="LiftCode.this.global.Symbol" id="596462">tsym</a> = <a href="#596461" title="LiftCode.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; LiftCode.this.global.Symbol">typeSymbol</a>
      <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596462" title="LiftCode.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47757" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596461" title="LiftCode.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#596462" title="LiftCode.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; LiftCode.this.global.Type">typeConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596462" title="LiftCode.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47857" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
        <a href="TypingTransformers.scala.html#238437" title="(qualifier: LiftCode.this.global.Tree, name: LiftCode.this.global.Name)LiftCode.this.global.Select">Select</a><span class="delimiter">(</span><a href="#595563" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#596461" title="LiftCode.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; LiftCode.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60182" title="=&gt; LiftCode.this.global.nme.NameType">asTypeConstructor</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#596461" title="LiftCode.this.global.Type">tpe</a> <span title="LiftCode.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596485">t</a> @ <a href="../../../reflect/internal/Types.scala.html#40097" title="object LiftCode.this.global.NoType">NoType</a> =&gt;
          <a href="#595576" title="(x: Product)LiftCode.this.global.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="#596485" title="object LiftCode.this.global.NoType">t</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596496">t</a> @ <a href="../../../reflect/internal/Types.scala.html#40099" title="object LiftCode.this.global.NoPrefix">NoPrefix</a> =&gt;
          <a href="#595576" title="(x: Product)LiftCode.this.global.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="#596496" title="object LiftCode.this.global.NoPrefix">t</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596503">tpe</a> @ ThisType<span class="delimiter">(</span><a title="LiftCode.this.global.Symbol" id="596505">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#596505" title="LiftCode.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47775" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596505" title="LiftCode.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47857" title="=&gt; Boolean">isStatic</a> =&gt;
          <a href="#595553" title="(name: LiftCode.this.global.TermName, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60336" title="=&gt; LiftCode.this.global.nme.NameType">thisModuleType</a>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596505" title="LiftCode.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#47897" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596514">t</a> @ RefinedType<span class="delimiter">(</span><a title="List[LiftCode.this.global.Type]" id="596517">parents</a>, <a title="LiftCode.this.global.Scope" id="596518">decls</a><span class="delimiter">)</span> =&gt;
          <a href="#595549" title="(sym: LiftCode.this.global.Symbol)Unit">registerReifiableSymbol</a><span class="delimiter">(</span><a href="#596461" title="LiftCode.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; LiftCode.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
          <a href="#595555" title="(value: Product, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorFactoryCall</a><span class="delimiter">(</span><a href="#596514" title="LiftCode.this.global.RefinedType">t</a>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596517" title="List[LiftCode.this.global.Type]">parents</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596518" title="LiftCode.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596514" title="LiftCode.this.global.RefinedType">t</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; LiftCode.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596519">t</a> @ ClassInfoType<span class="delimiter">(</span><a title="List[LiftCode.this.global.Type]" id="596523">parents</a>, <a title="LiftCode.this.global.Scope" id="596524">decls</a>, <a title="LiftCode.this.global.Symbol" id="596525">clazz</a><span class="delimiter">)</span> =&gt;
          <a href="#595549" title="(sym: LiftCode.this.global.Symbol)Unit">registerReifiableSymbol</a><span class="delimiter">(</span><a href="#596525" title="LiftCode.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <a href="#595555" title="(value: Product, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorFactoryCall</a><span class="delimiter">(</span><a href="#596519" title="LiftCode.this.global.ClassInfoType">t</a>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596523" title="List[LiftCode.this.global.Type]">parents</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596524" title="LiftCode.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596519" title="LiftCode.this.global.ClassInfoType">t</a>.<a href="../../../reflect/internal/Types.scala.html#71116" title="=&gt; LiftCode.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596526">t</a> @ ExistentialType<span class="delimiter">(</span><a title="List[LiftCode.this.global.Symbol]" id="596529">tparams</a>, <a title="LiftCode.this.global.Type" id="596530">underlying</a><span class="delimiter">)</span> =&gt;
          <a href="#595568" title="(value: Product, bound: List[LiftCode.this.global.Symbol], underlying: LiftCode.this.global.Type)LiftCode.this.global.Tree">reifyTypeBinder</a><span class="delimiter">(</span><a href="#596526" title="LiftCode.this.global.ExistentialType">t</a>, <a href="#596529" title="List[LiftCode.this.global.Symbol]">tparams</a>, <a href="#596530" title="LiftCode.this.global.Type">underlying</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596531">t</a> @ PolyType<span class="delimiter">(</span><a title="List[LiftCode.this.global.Symbol]" id="596534">tparams</a>, <a title="LiftCode.this.global.Type" id="596535">underlying</a><span class="delimiter">)</span> =&gt;
          <a href="#595568" title="(value: Product, bound: List[LiftCode.this.global.Symbol], underlying: LiftCode.this.global.Type)LiftCode.this.global.Tree">reifyTypeBinder</a><span class="delimiter">(</span><a href="#596531" title="LiftCode.this.global.PolyType">t</a>, <a href="#596534" title="List[LiftCode.this.global.Symbol]">tparams</a>, <a href="#596535" title="LiftCode.this.global.Type">underlying</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596536">t</a> @ MethodType<span class="delimiter">(</span><a title="List[LiftCode.this.global.Symbol]" id="596539">params</a>, <a title="LiftCode.this.global.Type" id="596540">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="#595568" title="(value: Product, bound: List[LiftCode.this.global.Symbol], underlying: LiftCode.this.global.Type)LiftCode.this.global.Tree">reifyTypeBinder</a><span class="delimiter">(</span><a href="#596536" title="LiftCode.this.global.MethodType">t</a>, <a href="#596539" title="List[LiftCode.this.global.Symbol]">params</a>, <a href="#596540" title="LiftCode.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="LiftCode.this.global.Tree">_</span> =&gt;
          <a href="#595573" title="(x: Any)LiftCode.this.global.Tree">reifyProductUnsafe</a><span class="delimiter">(</span><a href="#596461" title="LiftCode.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Reify a tree */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree" id="595570">reifyTree</a><span class="delimiter">(</span><a title="LiftCode.this.global.Tree" id="596543">tree</a>: <span title="LiftCode.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <a href="#596543" title="LiftCode.this.global.Tree">tree</a> <span title="LiftCode.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="TypingTransformers.scala.html#238437" title="LiftCode.this.global.Tree">EmptyTree</a> =&gt;
        <a href="#595576" title="(x: Product)LiftCode.this.global.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="object LiftCode.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="LiftCode.this.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#595545" title="=&gt; scala.collection.immutable.Set[LiftCode.this.global.Symbol]">boundSyms</a> <span title="(elem: LiftCode.this.global.Symbol)Boolean">contains</span> <a href="#596543" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
        <a href="#595571" title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree">reifyFree</a><span class="delimiter">(</span><a href="#596543" title="LiftCode.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="LiftCode.this.global.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#595545" title="=&gt; scala.collection.immutable.Set[LiftCode.this.global.Symbol]">boundSyms</a> <span title="(elem: LiftCode.this.global.Symbol)Boolean">contains</span> <a href="#596543" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
        <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596543" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47793" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596543" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47876" title="=&gt; LiftCode.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#47755" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../MacroContext.scala.html#183203" title="(vble: LiftCode.this.global.Symbol)Unit">captureVariable</a><span class="delimiter">(</span><a href="#596543" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Symbol">symbol</span><span class="delimiter">)</span> // Note order dependency: captureVariable needs to come before reifyTree here.
          <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;Select&quot;)" class="string">&quot;Select&quot;</span>, <a href="#595571" title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree">reifyFree</a><span class="delimiter">(</span><a href="#596543" title="LiftCode.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#595561" title="(name: LiftCode.this.global.Name)LiftCode.this.global.Tree">reifyName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60210" title="=&gt; LiftCode.this.global.nme.NameType">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#595571" title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree">reifyFree</a><span class="delimiter">(</span><a href="#596543" title="LiftCode.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596586">tt</a>: <span title="LiftCode.this.global.TypeTree">TypeTree</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#596586" title="LiftCode.this.global.TypeTree">tt</a>.<span title="=&gt; LiftCode.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> =&gt;
        <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#595545" title="=&gt; scala.collection.immutable.Set[LiftCode.this.global.Symbol]">boundSyms</a> <span title="(p: LiftCode.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#596586" title="LiftCode.this.global.TypeTree">tt</a>.<span title="=&gt; LiftCode.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42793" title="(sym: LiftCode.this.global.Symbol)Boolean">contains</a> <a href="#596599" title="LiftCode.this.global.Symbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;TypeTree&quot;)" class="string">&quot;TypeTree&quot;</span>, <a href="#595569" title="(tpe0: LiftCode.this.global.Type)LiftCode.this.global.Tree">reifyType</a><span class="delimiter">(</span><a href="#596586" title="LiftCode.this.global.TypeTree">tt</a>.<span title="=&gt; LiftCode.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596586" title="LiftCode.this.global.TypeTree">tt</a>.<span title="=&gt; LiftCode.this.global.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">(</span><a href="#596586" title="LiftCode.this.global.TypeTree">tt</a>.<span title="=&gt; LiftCode.this.global.Tree">original</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#595553" title="(name: LiftCode.this.global.TermName, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60146" title="=&gt; LiftCode.this.global.nme.NameType">TypeTree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596621">ta</a> @ TypeApply<span class="delimiter">(</span><a title="LiftCode.this.global.Tree" id="596624">hk</a>, <a title="List[LiftCode.this.global.Tree]" id="596625">ts</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Boolean" id="596626">thereAreOnlyTTs</a> = <a href="#596625" title="List[LiftCode.this.global.Tree]">ts</a> <span title="(pf: PartialFunction[LiftCode.this.global.Tree,LiftCode.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[LiftCode.this.global.Tree],LiftCode.this.global.Tree,List[LiftCode.this.global.Tree]])List[LiftCode.this.global.Tree]">collect</span> <a href="#596640" title="LiftCode.this.global.Tree" class="delimiter">{</a> <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596641">t</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#596641" title="LiftCode.this.global.Tree">t</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="LiftCode.this.global.TypeTree">TypeTree</span><span class="delimiter">]</span> =&gt; <a href="#596641" title="LiftCode.this.global.Tree">t</a> <span class="delimiter">}</span> <span title="=&gt; Boolean">isEmpty</span>;
        <span class="keyword">val</span> <a title="Boolean" id="596627">ttsAreNotEssential</a> = <a href="#596625" title="List[LiftCode.this.global.Tree]">ts</a> <span title="(pf: PartialFunction[LiftCode.this.global.Tree,LiftCode.this.global.TypeTree])(implicit bf: scala.collection.generic.CanBuildFrom[List[LiftCode.this.global.Tree],LiftCode.this.global.TypeTree,List[LiftCode.this.global.TypeTree]])List[LiftCode.this.global.TypeTree]">collect</span> <a href="#596678" title="LiftCode.this.global.TypeTree" class="delimiter">{</a> <span class="keyword">case</span> <a title="LiftCode.this.global.TypeTree" id="596679">tt</a>: <span title="LiftCode.this.global.TypeTree">TypeTree</span> =&gt; <a href="#596679" title="LiftCode.this.global.TypeTree">tt</a> <span class="delimiter">}</span> <span title="(p: LiftCode.this.global.TypeTree =&gt; Boolean)Option[LiftCode.this.global.TypeTree]">find</span> <span class="delimiter">{</span> <a title="LiftCode.this.global.TypeTree" id="596720">tt</a> =&gt; <a href="#596720" title="LiftCode.this.global.TypeTree">tt</a>.<span title="=&gt; LiftCode.this.global.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span class="delimiter">}</span> <span title="=&gt; Boolean">isEmpty</span>;
        <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#596626" title="Boolean">thereAreOnlyTTs</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#596627" title="Boolean">ttsAreNotEssential</a><span class="delimiter">)</span> <a href="#595570" title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree">reifyTree</a><span class="delimiter">(</span><a href="#596624" title="LiftCode.this.global.Tree">hk</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#595574" title="(x: Product)LiftCode.this.global.Tree">reifyProduct</a><span class="delimiter">(</span><a href="#596621" title="LiftCode.this.global.TypeApply">ta</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="TypingTransformers.scala.html#238437" title="LiftCode.this.global.Tree">global</a>.<a href="../../../reflect/internal/Trees.scala.html#40612" title="object LiftCode.this.global.emptyValDef">emptyValDef</a> =&gt;
        <a href="#595552" title="(name: String)LiftCode.this.global.Tree">mirrorSelect</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#40545" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: LiftCode.this.global.TermName)String">emptyValDef</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="LiftCode.this.global.Tree">_</span> =&gt;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#596543" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span><span class="delimiter">)</span>
          <a href="#595545" title="(x$1: scala.collection.immutable.Set[LiftCode.this.global.Symbol])Unit">boundSyms</a> <span title="(elem: LiftCode.this.global.Symbol)scala.collection.immutable.Set[LiftCode.this.global.Symbol]">+=</span> <a href="#596543" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Symbol">symbol</span>

        <a href="#595574" title="(x: Product)LiftCode.this.global.Tree">reifyProduct</a><span class="delimiter">(</span><a href="#596543" title="LiftCode.this.global.Tree">tree</a><span class="delimiter">)</span>
      /*
          if (tree.isDef || tree.isInstanceOf[Function])
            registerReifiableSymbol(tree.symbol)
          if (tree.hasSymbol)
            rtree = Apply(Select(rtree, nme.setSymbol), List(reifySymRef(tree.symbol)))
          Apply(Select(rtree, nme.setType), List(reifyType(tree.tpe)))
*/
    <span class="delimiter">}</span>

    /**
     * Reify a free reference. The result will be either a mirror reference
     *  to a global value, or else a mirror Literal.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree" id="595571">reifyFree</a><span class="delimiter">(</span><a title="LiftCode.this.global.Tree" id="596567">tree</a>: <span title="LiftCode.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595553" title="(name: LiftCode.this.global.TermName, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60140" title="=&gt; LiftCode.this.global.nme.NameType">Ident</a>, <a href="#595563" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#596567" title="LiftCode.this.global.Tree">tree</a>.<span title="=&gt; LiftCode.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>

    // todo: consider whether we should also reify positions
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: LiftCode.this.global.Position)LiftCode.this.global.Tree" id="595572">reifyPosition</a><span class="delimiter">(</span><a title="LiftCode.this.global.Position" id="596745">pos</a>: <a href="../util/Position.scala.html#34604" title="LiftCode.this.global.Position">Position</a><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595576" title="(x: Product)LiftCode.this.global.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span>

    // !!! we must eliminate these casts.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Any)LiftCode.this.global.Tree" id="595573">reifyProductUnsafe</a><span class="delimiter">(</span><a title="Any" id="596541">x</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595574" title="(x: Product)LiftCode.this.global.Tree">reifyProduct</a><span class="delimiter">(</span><a href="#596541" title="Any">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Product" class="delimiter">[</span><span title="Product">Product</span><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Product)LiftCode.this.global.Tree" id="595574">reifyProduct</a><span class="delimiter">(</span><a title="Product" id="596726">x</a>: <span title="Product">Product</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> =
      <a href="#595554" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">mirrorCall</a><span class="delimiter">(</span><a href="#596726" title="Product">x</a>.<span title="=&gt; String">productPrefix</span>, <span class="delimiter">(</span><a href="#596726" title="Product">x</a>.<span title="=&gt; Iterator[Any]">productIterator</span> <span title="(f: Any =&gt; LiftCode.this.global.Tree)Iterator[LiftCode.this.global.Tree]">map</span> <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a><span class="delimiter">)</span>.<span title="=&gt; List[LiftCode.this.global.Tree]">toList</span>: _*<span class="delimiter">)</span>

    /**
     * Reify a case object defined in Mirror
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)LiftCode.this.global.Tree" id="595575">reifyMirrorObject</a><span class="delimiter">(</span><a title="String" id="596492">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <a href="#595552" title="(name: String)LiftCode.this.global.Tree">mirrorSelect</a><span class="delimiter">(</span><a href="#596492" title="String">name</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Product)LiftCode.this.global.Tree" id="595576">reifyMirrorObject</a><span class="delimiter">(</span><a title="Product" id="596490">x</a>: <span title="Product">Product</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span>   = <a href="#595575" title="(name: String)LiftCode.this.global.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="#596490" title="Product">x</a>.<span title="=&gt; String">productPrefix</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Any)Boolean" id="595577">isReifiableConstant</a><span class="delimiter">(</span><a title="Any" id="596772">value</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#596772" title="Any">value</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)" class="keyword">null</span>      =&gt; <span title="Boolean(true)" class="keyword">true</span>  // seems pretty reifable to me?
      <span class="keyword">case</span> <span title="Boolean(true)">_</span>: <span title="String">String</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">_</span>         =&gt; <span title="(x: Any)Boolean">isAnyVal</span><span class="delimiter">(</span><a href="#596772" title="Any">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Reify an arbitary value */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Any)LiftCode.this.global.Tree" id="595578">reify</a><span class="delimiter">(</span><a title="Any" id="595648">value</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <a href="#595648" title="Any">value</a> <span title="LiftCode.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596775">tree</a>: <span title="LiftCode.this.global.Tree">Tree</span>   =&gt; <a href="#595570" title="(tree: LiftCode.this.global.Tree)LiftCode.this.global.Tree">reifyTree</a><span class="delimiter">(</span><a href="#596775" title="LiftCode.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596776">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#40001" title="LiftCode.this.global.Symbol">Symbol</a>  =&gt; <a href="#595563" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#596776" title="LiftCode.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596777">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="LiftCode.this.global.Type">Type</a>    =&gt; <a href="#595569" title="(tpe0: LiftCode.this.global.Type)LiftCode.this.global.Tree">reifyType</a><span class="delimiter">(</span><a href="#596777" title="LiftCode.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596778">xs</a>: <span title="List[_]">List</span><span class="delimiter">[</span>_<span class="delimiter">]</span>  =&gt; <a href="#595560" title="(xs: List[Any])LiftCode.this.global.Tree">reifyList</a><span class="delimiter">(</span><a href="#596778" title="List[_]">xs</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="596780">xs</a>: <span title="Array[_]">Array</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#595556" title="(name: String, args: LiftCode.this.global.Tree*)LiftCode.this.global.Tree">scalaFactoryCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#40545" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: LiftCode.this.global.TermName)String">Array</a>, <a href="#596780" title="(xs: Array[_])scala.collection.mutable.ArrayOps[_]">xs</a> <a href="TypingTransformers.scala.html#238437" title="(f: _ =&gt; LiftCode.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[Array[_],LiftCode.this.global.Tree,Array[LiftCode.this.global.Tree]])Array[LiftCode.this.global.Tree]">map</a> <a href="#595578" title="(value: Any)LiftCode.this.global.Tree">reify</a>: _*<span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="597468">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#40425" title="LiftCode.this.global.Scope">Scope</a> =&gt; <a href="#595566" title="(scope: LiftCode.this.global.Scope)LiftCode.this.global.Tree">reifyScope</a><span class="delimiter">(</span><a href="#597468" title="LiftCode.this.global.Scope">scope</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="597469">x</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="LiftCode.this.global.Name">Name</a>      =&gt; <a href="#595561" title="(name: LiftCode.this.global.Name)LiftCode.this.global.Tree">reifyName</a><span class="delimiter">(</span><a href="#597469" title="LiftCode.this.global.Name">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="597470">x</a>: <a href="../util/Position.scala.html#34604" title="LiftCode.this.global.Position">Position</a>  =&gt; <a href="#595572" title="(pos: LiftCode.this.global.Position)LiftCode.this.global.Tree">reifyPosition</a><span class="delimiter">(</span><a href="#597470" title="LiftCode.this.global.Position">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="LiftCode.this.global.Tree" id="597471">x</a>: <a href="../../../reflect/internal/Trees.scala.html#40598" title="LiftCode.this.global.Modifiers">Modifiers</a> =&gt; <a href="#595558" title="(m: LiftCode.this.global.Modifiers)LiftCode.this.global.Tree">reifyModifiers</a><span class="delimiter">(</span><a href="#597471" title="LiftCode.this.global.Modifiers">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="LiftCode.this.global.Tree">_</span> =&gt;
        <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#595577" title="(value: Any)Boolean">isReifiableConstant</a><span class="delimiter">(</span><a href="#595648" title="Any">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#238437" title="(value: LiftCode.this.global.Constant)LiftCode.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#47562" title="(value: Any)LiftCode.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#595648" title="Any">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#595573" title="(x: Any)LiftCode.this.global.Tree">reifyProductUnsafe</a><span class="delimiter">(</span><a href="#595648" title="Any">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**
     * An (unreified) path that refers to definition with given fully qualified name
     *  @param mkName   Creator for last portion of name (either TermName or TypeName)
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: String, mkName: String =&gt; LiftCode.this.global.Name)LiftCode.this.global.Tree" id="595579">path</a><span class="delimiter">(</span><a title="String" id="597472">fullname</a>: <span title="String">String</span>, <a title="String =&gt; LiftCode.this.global.Name" id="597473">mkName</a>: String =&gt; Name<span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Array[String]" id="597475">parts</a> = <a href="#597472" title="String">fullname</a> <span title="(x$1: String)Array[String]">split</span> <span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span>
      <span class="keyword">val</span> <a title="Array[String]" id="597476">prefixParts</a> = <a href="#597475" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">parts</a>.<span title="=&gt; Array[String]">init</span>
      <span class="keyword">val</span> <a title="LiftCode.this.global.Name" id="597477">lastName</a> = <a href="#597473" title="(v1: String)LiftCode.this.global.Name">mkName</a><span class="delimiter">(</span><a href="#597475" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">parts</a>.<span title="=&gt; String">last</span><span class="delimiter">)</span>
      <span title="LiftCode.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#597476" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">prefixParts</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#238437" title="(name: LiftCode.this.global.Name)LiftCode.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#597477" title="LiftCode.this.global.Name">lastName</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="LiftCode.this.global.Tree" id="597842">prefixTree</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(name: String)LiftCode.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#597476" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">prefixParts</a>.<span title="=&gt; String">head</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span><span class="delimiter">)</span> <a href="#597843" title="(z: LiftCode.this.global.Tree)(op: (LiftCode.this.global.Tree, String) =&gt; LiftCode.this.global.Tree)LiftCode.this.global.Tree">/:</a> <a href="#597476" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">prefixParts</a>.<span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">tail</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#238437" title="(qualifier: LiftCode.this.global.Tree, name: String)LiftCode.this.global.Select">Select</a><span class="delimiter">(</span><a href="#598573" title="LiftCode.this.global.Tree">_</a>, <a href="#598574" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="TypingTransformers.scala.html#238437" title="(qualifier: LiftCode.this.global.Tree, name: LiftCode.this.global.Name)LiftCode.this.global.Select">Select</a><span class="delimiter">(</span><a href="#597842" title="LiftCode.this.global.Tree">prefixTree</a>, <a href="#597477" title="LiftCode.this.global.Name">lastName</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** An (unreified) path that refers to term definition with given fully qualified name */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: String)LiftCode.this.global.Tree" id="595580">termPath</a><span class="delimiter">(</span><a title="String" id="595690">fullname</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <a href="#595579" title="(fullname: String, mkName: String =&gt; LiftCode.this.global.Name)LiftCode.this.global.Tree">path</a><span class="delimiter">(</span><a href="#595690" title="String">fullname</a>, <a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)LiftCode.this.global.TermName">newTermName</a><span class="delimiter">)</span>

    /** An (unreified) path that refers to type definition with given fully qualified name */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: String)LiftCode.this.global.Tree" id="595581">typePath</a><span class="delimiter">(</span><a title="String" id="598615">fullname</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="LiftCode.this.global.Tree">Tree</span> = <a href="#595579" title="(fullname: String, mkName: String =&gt; LiftCode.this.global.Name)LiftCode.this.global.Tree">path</a><span class="delimiter">(</span><a href="#598615" title="String">fullname</a>, <a href="../../../reflect/internal/Names.scala.html#39671" title="(s: String)LiftCode.this.global.TypeName">newTypeName</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; LiftCode.this.global.ValDef" id="595582">mirrorAlias</a> =
      <a href="TypingTransformers.scala.html#238437" title="(mods: LiftCode.this.global.Modifiers, name: LiftCode.this.global.TermName, tpt: LiftCode.this.global.Tree, rhs: LiftCode.this.global.Tree)LiftCode.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#40604" title="=&gt; LiftCode.this.global.Modifiers">NoMods</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object LiftCode.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60023" title="=&gt; LiftCode.this.global.nme.NameType">MIRROR_SHORT</a>, <a href="TypingTransformers.scala.html#238437" title="()LiftCode.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#595580" title="(fullname: String)LiftCode.this.global.Tree">termPath</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40556" title="object LiftCode.this.global.fullnme">fullnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#40545" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: LiftCode.this.global.TermName)String">MirrorPackage</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /**
     * Generate code that generates a symbol table of all symbols registered in `reifiableSyms`
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[LiftCode.this.global.Tree]" id="595583">reifySymbolTableSetup</a>: <span title="List[LiftCode.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Tree]" id="598625">symDefs</a>, <a title="scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Tree]" id="598626">fillIns</a> = <span title="()scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Tree]">ArrayBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">var</span> <a title="Int" id="598627">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#598627" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#595540" title="=&gt; scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Symbol]">reifiableSyms</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#598628" title="()Unit" class="delimiter">{</a>
        // fillInSymbol might create new reifiableSyms, that's why this is done iteratively
        <a href="#598625" title="scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Tree]">symDefs</a> <span title="(elem: LiftCode.this.global.Tree)symDefs.type">+=</span> <a href="#595564" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">reifySymbolDef</a><span class="delimiter">(</span><a href="#595540" title="(idx: Int)LiftCode.this.global.Symbol">reifiableSyms</a><span class="delimiter">(</span><a href="#598627" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#598626" title="scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Tree]">fillIns</a> <span title="(elem: LiftCode.this.global.Tree)fillIns.type">+=</span> <a href="#595565" title="(sym: LiftCode.this.global.Symbol)LiftCode.this.global.Tree">fillInSymbol</a><span class="delimiter">(</span><a href="#595540" title="(idx: Int)LiftCode.this.global.Symbol">reifiableSyms</a><span class="delimiter">(</span><a href="#598627" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#598627" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#598625" title="scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Tree]">symDefs</a>.<span title="=&gt; List[LiftCode.this.global.Tree]">toList</span> <span title="(that: scala.collection.GenTraversableOnce[LiftCode.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[LiftCode.this.global.Tree],LiftCode.this.global.Tree,List[LiftCode.this.global.Tree]])List[LiftCode.this.global.Tree]">++</span> <a href="#598626" title="scala.collection.mutable.ArrayBuffer[LiftCode.this.global.Tree]">fillIns</a>.<span title="=&gt; List[LiftCode.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Any)Nothing" id="595584">cannotReify</a><span class="delimiter">(</span><a title="Any" id="598750">value</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Nothing">Nothing</span> =
      <a href="../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;don\'t know how to reify &quot;)" class="string">&quot;don't know how to reify &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598750" title="Any">value</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#598750" title="Any">value</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>