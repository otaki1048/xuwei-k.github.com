<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/matching/Patterns.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * Author: Paul Phillips
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> matching

<span class="keyword">import</span> symtab.Flags
<span class="keyword">import</span> <span title="object PartialFunction">PartialFunction</span>._

/** Patterns are wrappers for Trees with enhanced semantics.
 *
 *  @author Paul Phillips
 */

<span class="keyword">trait</span> <a title="trait Patterns extends Object with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="26165">Patterns</a> <span title="ScalaObject" class="keyword">extends</span> ast.<a href="../ast/TreeDSL.scala.html#13777" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="delimiter">{</span>
  self: transform.ExplicitOuter =&gt;

  <span class="keyword">import</span> <a href="../transform/TypingTransformers.scala.html#238437" title="=&gt; scala.tools.nsc.Global">global</a>.<span class="delimiter">{</span> typer =&gt; _, _ <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#40473" title="object Patterns.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#184073" title="object Patterns.this.CODE">CODE</a>._
  <span class="keyword">import</span> <a href="MatchSupport.scala.html#238867" title="object Patterns.this.Debug">Debug</a>._
  <span class="keyword">import</span> <a href="../ast/Trees.scala.html#183119" title="object Patterns.this.global.treeInfo">treeInfo</a>.<span class="delimiter">{</span> unbind, isStar, isVarPattern, isVariableName <span class="delimiter">}</span>

  <span class="keyword">type</span> <a title="Patterns.this.MatchMatrix#PatternMatch" id="238772">PatternMatch</a>       = MatchMatrix#<a href="ParallelMatching.scala.html#529411" title="Patterns.this.MatchMatrix#PatternMatch">PatternMatch</a>
  <span class="keyword">private</span> <span class="keyword">type</span> <a title="Patterns.this.MatrixContext#PatternVar" id="238773">PatternVar</a> = MatrixContext#<a href="Matrix.scala.html#529270" title="Patterns.this.MatrixContext#PatternVar">PatternVar</a>

  // private def unapplyArgs(x: Any) = x match {
  //   case UnApply(Apply(TypeApply(_, targs), args), _) =&gt; (targs map (_.symbol), args map (_.symbol))
  //   case _                                            =&gt; (Nil, Nil)
  // }
  //
  // private def unapplyCall(x: Any) = x match {
  //   case UnApply(t, _)  =&gt; treeInfo.methPart(t).symbol
  //   case _              =&gt; NoSymbol
  // }

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.TermSymbol" id="238775">dummyMethod</a> =
    <span title="Patterns.this.global.TermSymbol" class="keyword">new</span> <a href="../../../reflect/internal/Symbols.scala.html#40002" title="Patterns.this.global.TermSymbol">TermSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Patterns.this.global.NoSymbol">NoSymbol</a>, <a href="../symtab/Positions.scala.html#183210" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="../../../reflect/internal/Names.scala.html#39670" title="(s: String)Patterns.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;matching$dummy&quot;)" class="string">&quot;matching$dummy&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  // Fresh patterns
  <span class="keyword">def</span> <a title="(i: Int)List[Patterns.this.Pattern]" id="238776">emptyPatterns</a><span class="delimiter">(</span><a title="Int" id="533431">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <span title="object List">List</span>.<span title="(n: Int)(elem: =&gt; Patterns.this.WildcardPattern)List[Patterns.this.WildcardPattern]">fill</span><span class="delimiter">(</span><a href="#533431" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#238778" title="=&gt; Patterns.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(i: Int)List[Patterns.this.global.Tree]" id="238777">emptyTrees</a><span class="delimiter">(</span><a title="Int" id="529750">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Patterns.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span title="object List">List</span>.<span title="(n: Int)(elem: =&gt; Patterns.this.global.EmptyTree.type)List[Patterns.this.global.EmptyTree.type]">fill</span><span class="delimiter">(</span><a href="#529750" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../transform/TypingTransformers.scala.html#238437" title="object Patterns.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>

  // An empty pattern
  <span class="keyword">def</span> <a title="=&gt; Patterns.this.WildcardPattern" id="238778">NoPattern</a> = <a href="#541375" title="()Patterns.this.WildcardPattern">WildcardPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>

  // The constant null pattern
  <span class="keyword">def</span> <a title="=&gt; Patterns.this.LiteralPattern" id="238779">NullPattern</a> = <a href="#541350" title="(tree: Patterns.this.global.Literal)Patterns.this.LiteralPattern">LiteralPattern</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#241198" title="=&gt; Patterns.this.global.Literal">NULL</a><span class="delimiter">)</span>

  // The Nil pattern
  <span class="keyword">def</span> <a title="=&gt; Patterns.this.Pattern" id="238780">NilPattern</a> = <a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object Patterns.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92650" title="=&gt; Patterns.this.global.gen.global.Tree">mkNil</a><span class="delimiter">)</span>

  // 8.1.1
  case <span class="keyword">class</span> <a title="class VariablePattern extends Patterns.this.Pattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="541396">VariablePattern</a><a href="#541396" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Ident" id="540732">tree</a>: <span title="Patterns.this.global.Ident">Ident</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238841" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Ident<a href="#539460" title="Patterns.this.global.Name" id="539451" class="delimiter">(</a><a title="Patterns.this.global.Name" id="539460">name</a><span class="delimiter">)</span> = <a href="#540732" title="=&gt; Patterns.this.global.Ident">tree</a>
    <span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><a href="../../../reflect/internal/TreeInfo.scala.html#118928" title="(pat: Patterns.this.global.treeInfo.global.Tree)Boolean">isVarPattern</a><span class="delimiter">(</span><a href="#540732" title="=&gt; Patterns.this.global.Ident">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#539450" title="=&gt; Patterns.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Patterns.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Patterns.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539452">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539450" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.1 (b)
  case <span class="keyword">class</span> <a title="class WildcardPattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="541375">WildcardPattern</a><a href="#541375" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.EmptyTree.type" id="535480">tree</a> = <a href="../transform/TypingTransformers.scala.html#238437" title="object Patterns.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="535481">isDefault</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="535482">description</a> = <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span>
  <span class="delimiter">}</span>

  // 8.1.2
  case <span class="keyword">class</span> <a title="class TypedPattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="541371">TypedPattern</a><a href="#541371" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Typed" id="540714">tree</a>: <span title="Patterns.this.global.Typed">Typed</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Typed<a href="#539554" title="(Patterns.this.global.Tree, Patterns.this.global.Tree)" id="539552" class="delimiter">(</a><a href="#539551" title="Patterns.this.global.Tree" id="539554">expr</a>, <a href="#539551" title="Patterns.this.global.Tree" id="539556">tpt</a><span class="delimiter">)</span> = <a href="#540714" title="=&gt; Patterns.this.global.Typed">tree</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="539557">subpatternsForVars</a>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <span title="(xs: Patterns.this.Pattern*)List[Patterns.this.Pattern]">List</span><span class="delimiter">(</span><a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#539553" title="=&gt; Patterns.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="539558">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="539583">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#539553" title="=&gt; Patterns.this.global.Tree">expr</a><span class="delimiter">)</span> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Patterns.this.Pattern">ExtractorPattern</span><span class="delimiter">(</span><a title="Patterns.this.global.UnApply" id="539631">ua</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#539583" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#529314" title="=&gt; Patterns.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Patterns.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Patterns.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#539555" title="=&gt; Patterns.this.global.Tree">tpt</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span> =&gt; <a href="#541371" title="TypedPattern.this.type" class="keyword">this</a> <a href="PatternBindings.scala.html#531770" title="(t: Patterns.this.global.Tree)Patterns.this.Pattern">rebindTo</a> <a href="#539553" title="=&gt; Patterns.this.global.Tree">expr</a>
      <span class="keyword">case</span> <span title="Patterns.this.TypedPattern">_</span>                                              =&gt; <a href="#541371" title="Patterns.this.TypedPattern" class="keyword">this</a>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539559">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#539553" title="=&gt; Patterns.this.global.Tree">expr</a><span class="delimiter">)</span>, <a href="#539555" title="=&gt; Patterns.this.global.Tree">tpt</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.3
  case <span class="keyword">class</span> <a title="class LiteralPattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="541350">LiteralPattern</a><a href="#541350" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Literal" id="539437">tree</a>: <span title="Patterns.this.global.Literal">Literal</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Literal<a href="#533229" title="(Patterns.this.global.Constant, Any)" id="533227" class="delimiter">(</a><a href="#533226" title="Patterns.this.global.Constant" id="533229">const</a> @ Constant<span class="delimiter">(</span><a href="#533226" title="Any" id="533231">value</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#539437" title="=&gt; Patterns.this.global.Literal">tree</a>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="533232">isSwitchable</a> = <span title="(x: Int)(pf: PartialFunction[Int,Boolean])Boolean">cond</span><span class="delimiter">(</span><a href="#533228" title="=&gt; Patterns.this.global.Constant">const</a>.<a href="../../../reflect/internal/Constants.scala.html#47580" title="=&gt; Int">tag</a><span class="delimiter">)</span> <a href="#533256" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean(true)">ByteTag</span> | <span title="Int(4)">ShortTag</span> | <span title="Int(6)">IntTag</span> | <span title="Int(5)">CharTag</span> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="533233">intValue</a> = <a href="#533228" title="=&gt; Patterns.this.global.Constant">const</a>.<a href="../../../reflect/internal/Constants.scala.html#47598" title="=&gt; Int">intValue</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="533234">description</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="539666">s</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#533230" title="=&gt; Any">value</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span> <span class="keyword">else</span> <a href="#533230" title="=&gt; Any">value</a>.<span title="()String">toString</span>
      <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Lit(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539666" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // 8.1.4 (a)
  case <span class="keyword">class</span> <a title="class ApplyIdentPattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="541329">ApplyIdentPattern</a><a href="#541329" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="540952">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238843" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="keyword">with</span> <a href="#238841" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    // XXX - see bug 3411 for code which violates this assumption
    // require (!isVarPattern(fn) &amp;&amp; args.isEmpty)
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="(Patterns.this.global.Ident, Patterns.this.global.Name)" id="539703">ident</a> @ Ident<span class="delimiter">(</span><a href="#539700" title="Patterns.this.global.Name" id="539705">name</a><span class="delimiter">)</span> = <a href="#539689" title="=&gt; Patterns.this.global.Tree">fn</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="539706">sufficientType</a> = <a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#539702" title="=&gt; Patterns.this.global.Ident">ident</a><span class="delimiter">)</span>.<a href="#531794" title="=&gt; Patterns.this.global.Type">equalsCheck</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="539707">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="539744">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#541329" title="ApplyIdentPattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#531774" title="()Patterns.this.Pattern">rebindToObjectCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539708">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Id(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539704" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // 8.1.4 (b)
  case <span class="keyword">class</span> <a title="class ApplySelectPattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with Patterns.this.SelectPattern with ScalaObject with Product with Serializable" id="541308">ApplySelectPattern</a><a href="#541308" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="540960">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238843" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="keyword">with</span> <a href="#238840" title="Patterns.this.SelectPattern">SelectPattern</a> <span class="delimiter">{</span>
    <span title="(requirement: Boolean)Unit">require</span> <span class="delimiter">(</span><a href="#539691" title="=&gt; List[Patterns.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Apply<a href="#539803" title="Patterns.this.global.Select" id="539777" class="delimiter">(</a><a title="Patterns.this.global.Select" id="539803">select</a>: <span title="Patterns.this.global.Select">Select</span>, _<span class="delimiter">)</span> = <a href="#540960" title="=&gt; Patterns.this.global.Apply">tree</a>

    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="539779">sufficientType</a> = <a href="#539786" title="=&gt; Patterns.this.global.Tree">qualifier</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span> <span title="Patterns.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Patterns.this.global.Type" id="539818">t</a>: <a href="../../../reflect/internal/Types.scala.html#40101" title="Patterns.this.global.ThisType">ThisType</a>  =&gt; <a href="../../../reflect/internal/Types.scala.html#40194" title="(pre: Patterns.this.global.Type, sym: Patterns.this.global.Symbol)Patterns.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#539818" title="Patterns.this.global.ThisType">t</a>, <a href="#531786" title="=&gt; Patterns.this.global.Symbol">sym</a><span class="delimiter">)</span>   // this.X
      <span class="keyword">case</span> <span title="Patterns.this.global.Type">_</span>            =&gt;
        <a href="#539786" title="=&gt; Patterns.this.global.Tree">qualifier</a> <span title="Patterns.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Patterns.this.PseudoType">_</span>: <span title="Patterns.this.global.Apply">Apply</span> =&gt; <a href="PatternBindings.scala.html#536466" title="(o: Patterns.this.global.Tree)Patterns.this.PseudoType">PseudoType</a><span class="delimiter">(</span><a href="#540960" title="=&gt; Patterns.this.global.Apply">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Patterns.this.global.Type">_</span>        =&gt; <a href="../../../reflect/internal/Types.scala.html#40194" title="(pre: Patterns.this.global.Type, sym: Patterns.this.global.Symbol)Patterns.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#539786" title="=&gt; Patterns.this.global.Tree">qualifier</a><span class="delimiter">)</span>.<a href="#531783" title="=&gt; Patterns.this.global.Type">necessaryType</a>, <a href="#531786" title="=&gt; Patterns.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="539780">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="539821">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#541308" title="ApplySelectPattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#531774" title="()Patterns.this.Pattern">rebindToObjectCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539781">description</a> = <a href="#539791" title="=&gt; Option[String]">backticked</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String">Some</span><span class="delimiter">(</span><a title="String" id="539830">s</a><span class="delimiter">)</span>  =&gt; <span title="String(&quot;this.&quot;)" class="string">&quot;this.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#539830" title="String">s</a>
      <span class="keyword">case</span> <span title="String">_</span>        =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Sel(%s.%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#539786" title="=&gt; Patterns.this.global.Tree">qualifier</a><span class="delimiter">)</span>, <a href="#539788" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>
  // 8.1.4 (c)
  case <span class="keyword">class</span> <a title="class StableIdPattern extends Patterns.this.Pattern with Patterns.this.SelectPattern with ScalaObject with Product with Serializable" id="541287">StableIdPattern</a><a href="#541287" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Select" id="540776">tree</a>: <span title="Patterns.this.global.Select">Select</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238840" title="Patterns.this.SelectPattern">SelectPattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Select" id="539854">select</a> = <a href="#540776" title="=&gt; Patterns.this.global.Select">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539855">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;St(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539856" title="=&gt; List[Patterns.this.global.Name]">printableSegments</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot; . &quot;)" class="string">&quot; . &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.Name]" id="539856">printableSegments</a> =
      <a href="#539790" title="=&gt; List[Patterns.this.global.Name]">pathSegments</a> <span title="(p: Patterns.this.global.Name =&gt; Boolean)List[Patterns.this.global.Name]">filter</span> <span class="delimiter">(</span><a title="Patterns.this.global.Name" id="539887">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#539887" title="Patterns.this.global.Name">x</a>.<a href="../../../reflect/internal/Names.scala.html#53407" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#539887" title="Patterns.this.global.Name">x</a>.<span title="()String">toString</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;$iw&quot;)" class="string">&quot;$iw&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // 8.1.4 (d)
  case <span class="keyword">class</span> <a title="class ObjectPattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with ScalaObject with Product with Serializable" id="541266">ObjectPattern</a><a href="#541266" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="540944">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238843" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="delimiter">{</span>  // NamePattern?
    <span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#539689" title="=&gt; Patterns.this.global.Tree">fn</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#531789" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="539916">sufficientType</a> = <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42735" title="=&gt; Patterns.this.global.Type">narrow</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="539917">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="539931">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#541266" title="ObjectPattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#531774" title="()Patterns.this.Pattern">rebindToObjectCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539918">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Obj(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539689" title="=&gt; Patterns.this.global.Tree">fn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // 8.1.4 (e)
  case <span class="keyword">class</span> <a title="class SimpleIdPattern extends Patterns.this.Pattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="541245">SimpleIdPattern</a><a href="#541245" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Ident" id="540740">tree</a>: <span title="Patterns.this.global.Ident">Ident</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238841" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Ident<a href="#539970" title="Patterns.this.global.Name" id="539961" class="delimiter">(</a><a title="Patterns.this.global.Name" id="539970">name</a><span class="delimiter">)</span> = <a href="#540740" title="=&gt; Patterns.this.global.Ident">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539962">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Id(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539960" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.5
  case <span class="keyword">class</span> <a title="class ConstructorPattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="541224">ConstructorPattern</a><a href="#541224" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="540936">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238843" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="keyword">with</span> <a href="#238841" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#539689" title="=&gt; Patterns.this.global.Tree">fn</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#541224" title="ConstructorPattern.this.type" class="keyword">this</a>.<a href="#531790" title="=&gt; Boolean">isCaseClass</a>, <span title="String(&quot;tree: &quot;)" class="string">&quot;tree: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#540936" title="=&gt; Patterns.this.global.Apply">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; fn: &quot;)" class="string">&quot; fn: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#539689" title="=&gt; Patterns.this.global.Tree">fn</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Name" id="539997">name</a> = <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Patterns.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47883" title="=&gt; Patterns.this.global.Name">name</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="539998">cleanName</a> = <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Patterns.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47887" title="=&gt; String">decodedName</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="539999">hasPrefix</a> = <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Patterns.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#42812" title="=&gt; String">prefixString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="540000">prefixedName</a> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#539999" title="=&gt; Boolean">hasPrefix</a><span class="delimiter">)</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s.%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Patterns.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#42812" title="=&gt; String">prefixString</a>, <a href="#539998" title="=&gt; String">cleanName</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#539998" title="=&gt; String">cleanName</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="540001">isColonColon</a> = <a href="#539998" title="=&gt; String">cleanName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;::&quot;)" class="string">&quot;::&quot;</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pm: Patterns.this.MatchMatrix#PatternMatch)List[Patterns.this.Pattern]" id="540002">subpatterns</a><span class="delimiter">(</span><a title="Patterns.this.MatchMatrix#PatternMatch" id="540046">pm</a>: MatchMatrix#<a href="ParallelMatching.scala.html#529411" title="Patterns.this.MatchMatrix#PatternMatch">PatternMatch</a><span class="delimiter">)</span> =
      <span title="List[Patterns.this.Pattern]" class="keyword">if</span> <span class="delimiter">(</span><a href="#540046" title="Patterns.this.MatchMatrix#PatternMatch">pm</a>.<a href="ParallelMatching.scala.html#533265" title="=&gt; Patterns.this.Pattern">head</a>.<a href="#531790" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#539691" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#541224" title="Patterns.this.ConstructorPattern" class="keyword">super</a>.<a href="#531785" title="(pm: Patterns.this.MatchMatrix#PatternMatch)List[Patterns.this.Pattern]">subpatterns</a><span class="delimiter">(</span><a href="#540046" title="Patterns.this.MatchMatrix#PatternMatch">pm</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="540003">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="540055">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> =
      <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#539691" title="=&gt; List[Patterns.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#541224" title="ConstructorPattern.this.type" class="keyword">this</a> <a href="PatternBindings.scala.html#531772" title="(tpe: Patterns.this.global.Type)Patterns.this.Pattern">rebindToEmpty</a> <a href="#540936" title="=&gt; Patterns.this.global.Apply">tree</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span>
      <span class="keyword">else</span> <a href="#541224" title="Patterns.this.ConstructorPattern" class="keyword">this</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="540004">description</a> = <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#540001" title="=&gt; Boolean">isColonColon</a><span class="delimiter">)</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s :: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#539691" title="(n: Int)Patterns.this.global.Tree">args</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#539691" title="(n: Int)Patterns.this.global.Tree">args</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539997" title="=&gt; Patterns.this.global.Name">name</a>, <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#539691" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  // 8.1.6
  case <span class="keyword">class</span> <a title="class TuplePattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with ScalaObject with Product with Serializable" id="541203">TuplePattern</a><a href="#541203" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="540928">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238843" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="540105">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;((%s))&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539691" title="=&gt; List[Patterns.this.global.Tree]">args</a>.<span title="=&gt; Int">size</span>, <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#539691" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.7 / 8.1.8 (unapply and unapplySeq calls)
  case <span class="keyword">class</span> <a title="class ExtractorPattern extends Patterns.this.Pattern with Patterns.this.UnapplyPattern with ScalaObject with Product with Serializable" id="541182">ExtractorPattern</a><a href="#541182" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.UnApply" id="540901">tree</a>: <span title="Patterns.this.global.UnApply">UnApply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238842" title="Patterns.this.UnapplyPattern">UnapplyPattern</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="539609">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="540137">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#540137" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#529314" title="=&gt; Patterns.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47905" title="(mask: Long)Boolean">hasFlag</a> <a href="Matrix.scala.html#238893" title="=&gt; Long">NO_EXHAUSTIVE</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="MatchSupport.scala.html#528045" title="(f: String, xs: Any*)Unit">TRACE</a><span class="delimiter">(</span><span title="String(&quot;Setting NO_EXHAUSTIVE on &quot;)" class="string">&quot;Setting NO_EXHAUSTIVE on &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#540137" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#529314" title="=&gt; Patterns.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; due to extractor &quot;)" class="string">&quot; due to extractor &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#540901" title="=&gt; Patterns.this.global.UnApply">tree</a><span class="delimiter">)</span>
        <a href="#540137" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#529314" title="=&gt; Patterns.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#47901" title="(mask: Long)Patterns.this.global.Symbol">setFlag</a> <a href="Matrix.scala.html#238893" title="=&gt; Long">NO_EXHAUSTIVE</a>
      <span class="delimiter">}</span>

      <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#540137" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#529315" title="=&gt; Patterns.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Patterns.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#539598" title="=&gt; Patterns.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Patterns.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="#541182" title="Patterns.this.ExtractorPattern" class="keyword">this</a>
      <span class="keyword">else</span> <a href="#541182" title="ExtractorPattern.this.type" class="keyword">this</a> <a href="PatternBindings.scala.html#531770" title="(t: Patterns.this.global.Tree)Patterns.this.Pattern">rebindTo</a> <a href="#539600" title="=&gt; Patterns.this.global.Typed">uaTyped</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539610">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Unapply(%s =&gt; %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539601" title="=&gt; Patterns.this.global.Type">necessaryType</a>, <a href="#539604" title="=&gt; String">resTypesString</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // Special List handling.  It was like that when I got here.
  case <span class="keyword">class</span> <a title="class ListExtractorPattern extends Patterns.this.Pattern with Patterns.this.UnapplyPattern with Patterns.this.SequenceLikePattern with ScalaObject with Product with Serializable" id="541178">ListExtractorPattern</a><a href="#541178" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.UnApply" id="540891">tree</a>: <span title="Patterns.this.global.UnApply">UnApply</span>, <a title="Patterns.this.global.Tree" id="540892">tpt</a>: <span title="Patterns.this.global.Tree">Tree</span>, <a title="List[Patterns.this.global.Tree]" id="540893">elems</a>: <span title="List[Patterns.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238842" title="Patterns.this.UnapplyPattern">UnapplyPattern</a> <span class="keyword">with</span> <a href="#238820" title="Patterns.this.SequenceLikePattern">SequenceLikePattern</a> <span class="delimiter">{</span>
    // As yet I can't testify this is doing any good relative to using
    // tpt.tpe, but it doesn't seem to hurt either.
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.analyzer.global.Type" id="540294">packedType</a> = <a href="../transform/TypingTransformers.scala.html#238437" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#182992" title="object Patterns.this.global.typer">typer</a>.<a href="../typechecker/Typers.scala.html#184451" title="(tree: Patterns.this.global.analyzer.global.Tree, pt: Patterns.this.global.analyzer.global.Type)Patterns.this.global.analyzer.global.Type">computeType</a><span class="delimiter">(</span><a href="#540892" title="=&gt; Patterns.this.global.Tree">tpt</a>, <a href="#540892" title="=&gt; Patterns.this.global.Tree">tpt</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="540296">consRef</a>    = <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Patterns.this.global.Type, args: List[Patterns.this.global.Type])Patterns.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46412" title="=&gt; Patterns.this.global.Symbol">ConsClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; Patterns.this.global.Type">typeConstructor</a>, <span title="(xs: Patterns.this.global.analyzer.global.Type*)List[Patterns.this.global.analyzer.global.Type]">List</span><span class="delimiter">(</span><a href="#540293" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="540298">listRef</a>    = <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Patterns.this.global.Type, args: List[Patterns.this.global.Type])Patterns.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46418" title="=&gt; Patterns.this.global.Symbol">ListClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; Patterns.this.global.Type">typeConstructor</a>, <span title="(xs: Patterns.this.global.analyzer.global.Type*)List[Patterns.this.global.analyzer.global.Type]">List</span><span class="delimiter">(</span><a href="#540293" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="540300">seqRef</a>     = <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Patterns.this.global.Type, args: List[Patterns.this.global.Type])Patterns.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46420" title="=&gt; Patterns.this.global.Symbol">SeqClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#47937" title="=&gt; Patterns.this.global.Type">typeConstructor</a>, <span title="(xs: Patterns.this.global.analyzer.global.Type*)List[Patterns.this.global.analyzer.global.Type]">List</span><span class="delimiter">(</span><a href="#540293" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="540301">thisSeqRef</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="540346">tc</a> = <span class="delimiter">(</span><a href="#540891" title="=&gt; Patterns.this.global.UnApply">tree</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#42777" title="(clazz: Patterns.this.global.Symbol)Patterns.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#46420" title="=&gt; Patterns.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#42740" title="=&gt; Patterns.this.global.Type">typeConstructor</a>
      <span title="Patterns.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#540346" title="Patterns.this.global.Type">tc</a>.<a href="../../../reflect/internal/Types.scala.html#42752" title="=&gt; List[Patterns.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#40204" title="(tycon: Patterns.this.global.Type, args: List[Patterns.this.global.Type])Patterns.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#540346" title="Patterns.this.global.Type">tc</a>, <span title="(xs: Patterns.this.global.analyzer.global.Type*)List[Patterns.this.global.analyzer.global.Type]">List</span><span class="delimiter">(</span><a href="#540293" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#540299" title="=&gt; Patterns.this.global.Type">seqRef</a>
    <span class="delimiter">}</span>

    // Fold a list into a well-typed x :: y :: etc :: tree.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(hd: Patterns.this.global.Tree, tl: Patterns.this.global.Tree)Patterns.this.global.Tree" id="540302">listFolder</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="540364">hd</a>: <span title="Patterns.this.global.Tree">Tree</span>, <a title="Patterns.this.global.Tree" id="540365">tl</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Patterns.this.global.Tree">Tree</span> = <a href="../../../reflect/internal/TreeInfo.scala.html#118955" title="(x: Patterns.this.global.treeInfo.global.Tree)Patterns.this.global.treeInfo.global.Tree">unbind</a><span class="delimiter">(</span><a href="#540364" title="Patterns.this.global.Tree">hd</a><span class="delimiter">)</span> <span title="Patterns.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Patterns.this.global.Tree" id="540368">t</a> @ Star<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="PatternBindings.scala.html#238910" title="(oldTree: Patterns.this.global.Tree, newTree: Patterns.this.global.Tree)Patterns.this.global.Tree">moveBindings</a><span class="delimiter">(</span><a href="#540364" title="Patterns.this.global.Tree">hd</a>, <a href="../ast/TreeDSL.scala.html#274837" title="(tpe: Patterns.this.global.Type)Patterns.this.global.Ident">WILD</a><span class="delimiter">(</span><a href="#540368" title="Patterns.this.global.Star">t</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Patterns.this.global.Apply">_</span>           =&gt;
        <span class="keyword">val</span> <a title="Patterns.this.global.MethodType" id="540373">consType</a>    = <a href="../../../reflect/internal/Types.scala.html#66899" title="(params: List[Patterns.this.global.Symbol], resultType: Patterns.this.global.Type)Patterns.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#238774" title="=&gt; Patterns.this.global.TermSymbol">dummyMethod</a> <a href="../../../reflect/internal/Symbols.scala.html#47731" title="(argtypes: List[Patterns.this.global.Type])List[Patterns.this.global.Symbol]">newSyntheticValueParams</a> <span title="(xs: Patterns.this.global.Type*)List[Patterns.this.global.Type]">List</span><span class="delimiter">(</span><a href="#540293" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a>, <a href="#540297" title="=&gt; Patterns.this.global.Type">listRef</a><span class="delimiter">)</span>, <a href="#540295" title="=&gt; Patterns.this.global.Type">consRef</a><span class="delimiter">)</span>

        <a href="../transform/TypingTransformers.scala.html#238437" title="(fun: Patterns.this.global.Tree, args: List[Patterns.this.global.Tree])Patterns.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../transform/TypingTransformers.scala.html#238437" title="(tp: Patterns.this.global.Type)Patterns.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#540373" title="Patterns.this.global.MethodType">consType</a><span class="delimiter">)</span>, <span title="(xs: Patterns.this.global.Tree*)List[Patterns.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#540364" title="Patterns.this.global.Tree">hd</a>, <a href="#540365" title="Patterns.this.global.Tree">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Patterns.this.global.Type)Patterns.this.global.Apply">setType</span> <a href="#540295" title="=&gt; Patterns.this.global.Type">consRef</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.gen.global.Tree" id="540303">foldedPatterns</a> = <a href="#540893" title="=&gt; List[Patterns.this.global.Tree]">elems</a>.<span title="(z: Patterns.this.global.gen.global.Tree)(f: (Patterns.this.global.Tree, Patterns.this.global.gen.global.Tree) =&gt; Patterns.this.global.gen.global.Tree)Patterns.this.global.gen.global.Tree">foldRight</span><span class="delimiter">(</span><a href="../Global.scala.html#182860" title="object Patterns.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92650" title="=&gt; Patterns.this.global.gen.global.Tree">mkNil</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="540446">x</a>, <a title="Patterns.this.global.gen.global.Tree" id="540447">y</a><span class="delimiter">)</span> =&gt; <a href="#540302" title="(hd: Patterns.this.global.Tree, tl: Patterns.this.global.Tree)Patterns.this.global.Tree">listFolder</a><span class="delimiter">(</span><a href="#540446" title="Patterns.this.global.Tree">x</a>, <a href="#540447" title="Patterns.this.global.gen.global.Tree">y</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="540304">necessaryType</a> = <span title="Patterns.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#533672" title="=&gt; List[Patterns.this.Pattern]">nonStarPatterns</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#540295" title="=&gt; Patterns.this.global.Type">consRef</a> <span class="keyword">else</span> <a href="#540297" title="=&gt; Patterns.this.global.Type">listRef</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="540305">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="540452">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#540452" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#529315" title="=&gt; Patterns.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#42795" title="(that: Patterns.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#540304" title="=&gt; Patterns.this.global.Type">necessaryType</a><span class="delimiter">)</span>
        <a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#540303" title="=&gt; Patterns.this.global.gen.global.Tree">foldedPatterns</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#541178" title="ListExtractorPattern.this.type" class="keyword">this</a> <a href="PatternBindings.scala.html#531770" title="(t: Patterns.this.global.Tree)Patterns.this.Pattern">rebindTo</a> <span class="delimiter">(</span><a href="../transform/TypingTransformers.scala.html#238437" title="(expr: Patterns.this.global.Tree, tpt: Patterns.this.global.Tree)Patterns.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#540891" title="=&gt; Patterns.this.global.UnApply">tree</a>, <a href="../transform/TypingTransformers.scala.html#238437" title="(tp: Patterns.this.global.Type)Patterns.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#540304" title="=&gt; Patterns.this.global.Type">necessaryType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Patterns.this.global.Type)Patterns.this.global.Typed">setType</span> <a href="#540304" title="=&gt; Patterns.this.global.Type">necessaryType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="540306">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;List(%s =&gt; %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#540293" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a>, <a href="#539604" title="=&gt; String">resTypesString</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait SequenceLikePattern extends Patterns.this.Pattern with ScalaObject" id="238820">SequenceLikePattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.Tree]" id="533668">elems</a>: <span title="List[Patterns.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="533669">hasStar</a> = <a href="#533668" title="=&gt; List[Patterns.this.global.Tree]">elems</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/TreeInfo.scala.html#118956" title="(x: Patterns.this.global.treeInfo.global.Tree)Boolean">isStar</a><span class="delimiter">(</span><a href="#533668" title="=&gt; List[Patterns.this.global.Tree]">elems</a>.<span title="=&gt; Patterns.this.global.Tree">last</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="533670">elemPatterns</a>    = <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#533668" title="=&gt; List[Patterns.this.global.Tree]">elems</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.Tree]" id="533671">nonStarElems</a>    = <span title="List[Patterns.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#533669" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <a href="#533668" title="=&gt; List[Patterns.this.global.Tree]">elems</a>.<span title="=&gt; List[Patterns.this.global.Tree]">init</span> <span class="keyword">else</span> <a href="#533668" title="=&gt; List[Patterns.this.global.Tree]">elems</a>
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="533672">nonStarPatterns</a> = <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#533671" title="=&gt; List[Patterns.this.global.Tree]">nonStarElems</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="533673">nonStarLength</a>   = <a href="#533671" title="=&gt; List[Patterns.this.global.Tree]">nonStarElems</a>.<span title="=&gt; Int">length</span>
  <span class="delimiter">}</span>

  // 8.1.8 (b) (literal ArrayValues)
  case <span class="keyword">class</span> <a title="class SequencePattern extends Patterns.this.Pattern with Patterns.this.SequenceLikePattern with ScalaObject with Product with Serializable" id="541148">SequencePattern</a><a href="#541148" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.ArrayValue" id="540767">tree</a>: <span title="Patterns.this.global.ArrayValue">ArrayValue</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="keyword">with</span> <a href="#238820" title="Patterns.this.SequenceLikePattern">SequenceLikePattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> ArrayValue<a href="#533662" title="(Patterns.this.global.Tree, List[Patterns.this.global.Tree])" id="533660" class="delimiter">(</a><a href="#533659" title="Patterns.this.global.Tree" id="533662">elemtpt</a>, <a href="#533659" title="List[Patterns.this.global.Tree]" id="533664">elems</a><span class="delimiter">)</span> = <a href="#540767" title="=&gt; Patterns.this.global.ArrayValue">tree</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="533665">subpatternsForVars</a>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#533670" title="=&gt; List[Patterns.this.Pattern]">elemPatterns</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="533666">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Seq(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#533670" title="=&gt; List[Patterns.this.Pattern]">elemPatterns</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.8 (c)
  case <span class="keyword">class</span> <a title="class StarPattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="541127">StarPattern</a><a href="#541127" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Star" id="540785">tree</a>: <span title="Patterns.this.global.Star">Star</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Star<a href="#540545" title="Patterns.this.global.Tree" id="540538" class="delimiter">(</a><a title="Patterns.this.global.Tree" id="540545">elem</a><span class="delimiter">)</span> = <a href="#540785" title="=&gt; Patterns.this.global.Star">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="540539">description</a> = <span title="String(&quot;_*&quot;)" class="string">&quot;_*&quot;</span>
  <span class="delimiter">}</span>
  // XXX temporary?
  case <span class="keyword">class</span> <a title="class ThisPattern extends Patterns.this.Pattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="541106">ThisPattern</a><a href="#541106" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.This" id="540794">tree</a>: <span title="Patterns.this.global.This">This</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238841" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> This<a href="#540580" title="Patterns.this.global.TypeName" id="540570" class="delimiter">(</a><a title="Patterns.this.global.TypeName" id="540580">name</a><span class="delimiter">)</span> = <a href="#540794" title="=&gt; Patterns.this.global.This">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="540571">description</a> = <span title="String(&quot;this&quot;)" class="string">&quot;this&quot;</span>
  <span class="delimiter">}</span>

  // 8.1.9
  // InfixPattern ... subsumed by Constructor/Extractor Patterns

  // 8.1.10
  case <span class="keyword">class</span> <a title="class AlternativePattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="541085">AlternativePattern</a><a href="#541085" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Alternative" id="540700">tree</a>: <span title="Patterns.this.global.Alternative">Alternative</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> Alternative<a href="#540613" title="List[Patterns.this.global.Tree]" id="540605" class="delimiter">(</a><a title="List[Patterns.this.global.Tree]" id="540613">subtrees</a><span class="delimiter">)</span> = <a href="#540700" title="=&gt; Patterns.this.global.Alternative">tree</a>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="540606">alts</a> = <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#540604" title="=&gt; List[Patterns.this.global.Tree]">subtrees</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="540607">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Alt(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#540606" title="=&gt; List[Patterns.this.Pattern]">alts</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot; | &quot;)" class="string">&quot; | &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.11
  // XMLPattern ... for now, subsumed by SequencePattern, but if we want
  //   to make it work right, it probably needs special handling.

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Patterns.this.global.Tree)Nothing" id="238833">abortUnknownTree</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="540642">tree</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span> =
    <a href="../Global.scala.html#182892" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Unknown Tree reached pattern matcher: %s/%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#540642" title="Patterns.this.global.Tree">tree</a>, <a href="#540642" title="Patterns.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">object</span> <a title="object Patterns.this.Pattern" id="238834">Pattern</a> <span title="ScalaObject" class="delimiter">{</span>
    // a small tree -&gt; pattern cache
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Patterns.this.global.Tree,Patterns.this.Pattern]" id="532456">cache</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#36987" title="object Patterns.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110477" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Patterns.this.global.Tree,Patterns.this.Pattern]" class="delimiter">[</span><span title="Patterns.this.global.Tree">Tree</span>, <a href="#238844" title="Patterns.this.Pattern">Pattern</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern" id="532458">apply</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="532460">tree</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="#238844" title="Patterns.this.Pattern">Pattern</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#532456" title="=&gt; scala.collection.mutable.HashMap[Patterns.this.global.Tree,Patterns.this.Pattern]">cache</a> <span title="(key: Patterns.this.global.Tree)Boolean">contains</span> <a href="#532460" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="#532456" title="(key: Patterns.this.global.Tree)Patterns.this.Pattern">cache</a><span class="delimiter">(</span><a href="#532460" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Patterns.this.Pattern" id="540653">p</a> = <a href="#532460" title="Patterns.this.global.Tree">tree</a> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Patterns.this.Pattern" id="540688">x</a>: <span title="Patterns.this.global.Bind">Bind</span>              =&gt; <a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/TreeInfo.scala.html#118955" title="(x: Patterns.this.global.treeInfo.global.Tree)Patterns.this.global.treeInfo.global.Tree">unbind</a><span class="delimiter">(</span><a href="#532460" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="PatternBindings.scala.html#531768" title="(x: Patterns.this.global.Bind)Patterns.this.Pattern">setBound</a> <a href="#540688" title="Patterns.this.global.Bind">x</a>
        <span class="keyword">case</span> <a href="../transform/TypingTransformers.scala.html#238437" title="Patterns.this.WildcardPattern">EmptyTree</a>            =&gt; <a href="#541375" title="()Patterns.this.WildcardPattern">WildcardPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Patterns.this.WildcardPattern">Ident</span><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Patterns.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60627" title="=&gt; Patterns.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>  =&gt; <a href="#541375" title="()Patterns.this.WildcardPattern">WildcardPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.AlternativePattern" id="540693">x</a> @ Alternative<span class="delimiter">(</span><a title="List[Patterns.this.global.Tree]" id="540695">ps</a><span class="delimiter">)</span>  =&gt; <a href="#541085" title="(tree: Patterns.this.global.Alternative)Patterns.this.AlternativePattern">AlternativePattern</a><span class="delimiter">(</span><a href="#540693" title="Patterns.this.global.Alternative">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.Pattern" id="540704">x</a>: <span title="Patterns.this.global.Apply">Apply</span>             =&gt; <a href="#540706" title="(x: Patterns.this.global.Apply)Patterns.this.Pattern">ApplyPattern</a><span class="delimiter">(</span><a href="#540704" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.TypedPattern" id="540709">x</a>: <span title="Patterns.this.global.Typed">Typed</span>             =&gt; <a href="#541371" title="(tree: Patterns.this.global.Typed)Patterns.this.TypedPattern">TypedPattern</a><span class="delimiter">(</span><a href="#540709" title="Patterns.this.global.Typed">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.LiteralPattern" id="540718">x</a>: <span title="Patterns.this.global.Literal">Literal</span>           =&gt; <a href="#541350" title="(tree: Patterns.this.global.Literal)Patterns.this.LiteralPattern">LiteralPattern</a><span class="delimiter">(</span><a href="#540718" title="Patterns.this.global.Literal">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.Pattern" id="540720">x</a>: <span title="Patterns.this.global.UnApply">UnApply</span>           =&gt; <a href="#540724" title="(x: Patterns.this.global.UnApply)Patterns.this.Pattern">UnapplyPattern</a><span class="delimiter">(</span><a href="#540720" title="Patterns.this.global.UnApply">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns extends Patterns.this.NamePattern with Product with Serializable" id="540727">x</a>: <span title="Patterns.this.global.Ident">Ident</span>             =&gt; <span title="Patterns extends Patterns.this.NamePattern with Product with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/TreeInfo.scala.html#118928" title="(pat: Patterns.this.global.treeInfo.global.Tree)Boolean">isVarPattern</a><span class="delimiter">(</span><a href="#540727" title="Patterns.this.global.Ident">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#541396" title="(tree: Patterns.this.global.Ident)Patterns.this.VariablePattern">VariablePattern</a><span class="delimiter">(</span><a href="#540727" title="Patterns.this.global.Ident">x</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#541245" title="(tree: Patterns.this.global.Ident)Patterns.this.SimpleIdPattern">SimpleIdPattern</a><span class="delimiter">(</span><a href="#540727" title="Patterns.this.global.Ident">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.SequencePattern" id="540762">x</a>: <span title="Patterns.this.global.ArrayValue">ArrayValue</span>        =&gt; <a href="#541148" title="(tree: Patterns.this.global.ArrayValue)Patterns.this.SequencePattern">SequencePattern</a><span class="delimiter">(</span><a href="#540762" title="Patterns.this.global.ArrayValue">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.StableIdPattern" id="540771">x</a>: <span title="Patterns.this.global.Select">Select</span>            =&gt; <a href="#541287" title="(tree: Patterns.this.global.Select)Patterns.this.StableIdPattern">StableIdPattern</a><span class="delimiter">(</span><a href="#540771" title="Patterns.this.global.Select">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.StarPattern" id="540780">x</a>: <span title="Patterns.this.global.Star">Star</span>              =&gt; <a href="#541127" title="(tree: Patterns.this.global.Star)Patterns.this.StarPattern">StarPattern</a><span class="delimiter">(</span><a href="#540780" title="Patterns.this.global.Star">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.ThisPattern" id="540789">x</a>: <span title="Patterns.this.global.This">This</span>              =&gt; <a href="#541106" title="(tree: Patterns.this.global.This)Patterns.this.ThisPattern">ThisPattern</a><span class="delimiter">(</span><a href="#540789" title="Patterns.this.global.This">x</a><span class="delimiter">)</span> // XXX ?
        <span class="keyword">case</span> <span title="Nothing">_</span>                    =&gt; <a href="#238833" title="(tree: Patterns.this.global.Tree)Nothing">abortUnknownTree</a><span class="delimiter">(</span><a href="#532460" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#532456" title="(key: Patterns.this.global.Tree, value: Patterns.this.Pattern)Unit">cache</a><span class="delimiter">(</span><a href="#532460" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span> = <a href="#540653" title="Patterns.this.Pattern">p</a>

      // limiting the trace output
      <a href="#540653" title="Patterns.this.Pattern">p</a> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Patterns.this.Pattern">WildcardPattern</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#540653" title="Patterns.this.Pattern">p</a>
        <span class="keyword">case</span> <span title="Patterns.this.Pattern">_</span>: <a href="#541350" title="Patterns.this.LiteralPattern">LiteralPattern</a>  =&gt; <a href="#540653" title="Patterns.this.Pattern">p</a>
        <span class="keyword">case</span> <span title="Patterns.this.Pattern">_</span>                  =&gt; <a href="MatchSupport.scala.html#528047" title="(s: String)(x: Patterns.this.Pattern)Patterns.this.Pattern">tracing</a><span class="delimiter">(</span><span title="String(&quot;Pattern&quot;)" class="string">&quot;Pattern&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#540653" title="Patterns.this.Pattern">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    // matching on Pattern(...) always skips the bindings.
    <span class="keyword">def</span> <a title="(other: Any)Option[Patterns.this.global.Tree]" id="532459">unapply</a><span class="delimiter">(</span><a title="Any" id="534965">other</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Option[Patterns.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#534965" title="Any">other</a> <span title="Option[Patterns.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Option[Patterns.this.global.Tree]" id="540808">x</a>: <span title="Patterns.this.global.Tree">Tree</span>    =&gt; <a href="#532459" title="(other: Any)Option[Patterns.this.global.Tree]">unapply</a><span class="delimiter">(</span><a href="#532458" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#540808" title="Patterns.this.global.Tree">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Some[Patterns.this.global.Tree]" id="540809">x</a>: <a href="#238844" title="Patterns.this.Pattern">Pattern</a> =&gt; <span title="(x: Patterns.this.global.Tree)Some[Patterns.this.global.Tree]">Some</span><span class="delimiter">(</span><a href="#540809" title="Patterns.this.Pattern">x</a>.<a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>          =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Patterns.this.UnapplyPattern" id="238836">UnapplyPattern</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">object</span> <a title="object scala.tools.nsc.matching.Patterns.UnapplyPattern.UnapplySeq" id="540722">UnapplySeq</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: Patterns.this.global.UnApply)Option[(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])]" id="540815">unapply</a><span class="delimiter">(</span><a title="Patterns.this.global.UnApply" id="540817">x</a>: <span title="Patterns.this.global.UnApply">UnApply</span><span class="delimiter">)</span> = <a href="#540817" title="Patterns.this.global.UnApply">x</a> <span title="Option[(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Some[(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])]">UnApply</span><span class="delimiter">(</span>
        Apply<span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="540832">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#40560" title="object Patterns.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#60358" title="=&gt; Patterns.this.global.nme.NameType">unapplySeq</a><span class="delimiter">)</span>, <a href="#540834" title="(x: List[Patterns.this.global.Tree])Some[List[Patterns.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="540845">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span>,
        <a href="#540847" title="(x: List[Patterns.this.global.Tree])Some[List[Patterns.this.global.Tree]]">List</a><span class="delimiter">(</span>ArrayValue<span class="delimiter">(</span>_, <a title="List[Patterns.this.global.Tree]" id="540860">elems</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="(x: (Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree]))Some[(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])]">Some</span><span class="delimiter">(</span><span title="(_1: Patterns.this.global.Symbol, _2: Patterns.this.global.Tree, _3: List[Patterns.this.global.Tree])(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])" class="delimiter">(</span><a href="#540832" title="Patterns.this.global.Tree">qual</a>.<span title="=&gt; Patterns.this.global.Symbol">symbol</span>, <a href="#540845" title="Patterns.this.global.Tree">tpt</a>, <a href="#540860" title="List[Patterns.this.global.Tree]">elems</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
          <span title="object None">None</span>
       <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(x: Patterns.this.global.UnApply)Patterns.this.Pattern" id="540724">apply</a><span class="delimiter">(</span><a title="Patterns.this.global.UnApply" id="540725">x</a>: <span title="Patterns.this.global.UnApply">UnApply</span><span class="delimiter">)</span>: <a href="#238844" title="Patterns.this.Pattern">Pattern</a> = <a href="#540725" title="Patterns.this.global.UnApply">x</a> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#540815" title="Patterns.this.ListExtractorPattern">UnapplySeq</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#46426" title="=&gt; Patterns.this.global.Symbol">ListModule</a>, <a title="Patterns.this.global.Tree" id="540885">tpt</a>, <a title="List[Patterns.this.global.Tree]" id="540886">elems</a><span class="delimiter">)</span> =&gt;
        <a href="#541178" title="(tree: Patterns.this.global.UnApply, tpt: Patterns.this.global.Tree, elems: List[Patterns.this.global.Tree])Patterns.this.ListExtractorPattern">ListExtractorPattern</a><span class="delimiter">(</span><a href="#540725" title="Patterns.this.global.UnApply">x</a>, <a href="#540885" title="Patterns.this.global.Tree">tpt</a>, <a href="#540886" title="List[Patterns.this.global.Tree]">elems</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Patterns.this.ExtractorPattern">_</span> =&gt;
        <a href="#541182" title="(tree: Patterns.this.global.UnApply)Patterns.this.ExtractorPattern">ExtractorPattern</a><span class="delimiter">(</span><a href="#540725" title="Patterns.this.global.UnApply">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // right now a tree like x @ Apply(fn, Nil) where !fn.isType
  // is handled by creating a singleton type:
  //
  //    val stype = Types.singleType(x.tpe.prefix, x.symbol)
  //
  // and then passing that as a type argument to EqualsPatternClass:
  //
  //    val tpe = typeRef(NoPrefix, EqualsPatternClass, List(stype))
  //
  // then creating a Typed pattern and rebinding.
  //
  //    val newpat = Typed(EmptyTree, TypeTree(tpe)) setType tpe)
  //
  // This is also how Select(qual, name) is handled.
  <span class="keyword">object</span> <a title="object Patterns.this.ApplyPattern" id="238838">ApplyPattern</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: Patterns.this.global.Apply)Patterns.this.Pattern" id="540706">apply</a><span class="delimiter">(</span><a title="Patterns.this.global.Apply" id="540707">x</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span>: <a href="#238844" title="Patterns.this.Pattern">Pattern</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Apply<a href="#540907" title="(Patterns.this.global.Tree, List[Patterns.this.global.Tree])" class="delimiter">(</a><a href="#540906" title="Patterns.this.global.Tree" id="540907">fn</a>, <a href="#540906" title="List[Patterns.this.global.Tree]" id="540908">args</a><span class="delimiter">)</span> = <a href="#540707" title="Patterns.this.global.Apply">x</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="540909">isModule</a>  = <a href="#540707" title="Patterns.this.global.Apply">x</a>.<span title="=&gt; Patterns.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">||</span> <a href="#540707" title="Patterns.this.global.Apply">x</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#42727" title="=&gt; Patterns.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="540910">isTuple</a>   = <a href="../../../reflect/internal/Definitions.scala.html#46538" title="(tp: Patterns.this.global.Type)Boolean">isTupleTypeOrSubtype</a><span class="delimiter">(</span><a href="#540907" title="Patterns.this.global.Tree">fn</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span><span class="delimiter">)</span>

      <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#540907" title="Patterns.this.global.Tree">fn</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#540910" title="=&gt; Boolean">isTuple</a><span class="delimiter">)</span> <a href="#541203" title="(tree: Patterns.this.global.Apply)Patterns.this.TuplePattern">TuplePattern</a><span class="delimiter">(</span><a href="#540707" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#541224" title="(tree: Patterns.this.global.Apply)Patterns.this.ConstructorPattern">ConstructorPattern</a><span class="delimiter">(</span><a href="#540707" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#540908" title="List[Patterns.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#540909" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#541266" title="(tree: Patterns.this.global.Apply)Patterns.this.ObjectPattern">ObjectPattern</a><span class="delimiter">(</span><a href="#540707" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#540907" title="Patterns.this.global.Tree">fn</a> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Patterns.this.ApplyIdentPattern">_</span>: <span title="Patterns.this.global.Ident">Ident</span>   =&gt; <a href="#541329" title="(tree: Patterns.this.global.Apply)Patterns.this.ApplyIdentPattern">ApplyIdentPattern</a><span class="delimiter">(</span><a href="#540707" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Patterns.this.ApplySelectPattern">_</span>: <span title="Patterns.this.global.Select">Select</span>  =&gt; <a href="#541308" title="(tree: Patterns.this.global.Apply)Patterns.this.ApplySelectPattern">ApplySelectPattern</a><span class="delimiter">(</span><a href="#540707" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#238833" title="(tree: Patterns.this.global.Tree)Nothing">abortUnknownTree</a><span class="delimiter">(</span><a href="#540707" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Some intermediate pattern classes with shared structure **/

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait SelectPattern extends Patterns.this.Pattern with Patterns.this.NamePattern with ScalaObject" id="238840">SelectPattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#238841" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Select" id="539783">select</a>: <span title="Patterns.this.global.Select">Select</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Select<a href="#539787" title="(Patterns.this.global.Tree, Patterns.this.global.Name)" id="539785" class="delimiter">(</a><a href="#539784" title="Patterns.this.global.Tree" id="539787">qualifier</a>, <a href="#539784" title="Patterns.this.global.Name" id="539789">name</a><span class="delimiter">)</span> = <a href="#539783" title="=&gt; Patterns.this.global.Select">select</a>
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.Name]" id="539790">pathSegments</a> = <a href="#539792" title="(t: Patterns.this.global.Tree)List[Patterns.this.global.Name]">getPathSegments</a><span class="delimiter">(</span><a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Option[String]" id="539791">backticked</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#539786" title="=&gt; Patterns.this.global.Tree">qualifier</a> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Some[String]">_</span>: <span title="Patterns.this.global.This">This</span> <span class="keyword">if</span> <a href="../../../reflect/internal/TreeInfo.scala.html#118941" title="(name: Patterns.this.global.treeInfo.global.Name)Boolean">isVariableName</a><span class="delimiter">(</span><a href="#539788" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>  =&gt; <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;`%s`&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#539788" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>                                =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(t: Patterns.this.global.Tree)List[Patterns.this.global.Name]" id="539792">getPathSegments</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="539876">t</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Patterns.this.global.Name]">List</span><span class="delimiter">[</span>Name<span class="delimiter">]</span> = <a href="#539876" title="Patterns.this.global.Tree">t</a> <span title="List[Patterns.this.global.Name]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Patterns.this.global.Name]">Select</span><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="540977">q</a>, <a title="Patterns.this.global.Name" id="540978">name</a><span class="delimiter">)</span>  =&gt; <a href="#540978" title="Patterns.this.global.Name">name</a> <a href="#540979" title="(x: Patterns.this.global.Name)List[Patterns.this.global.Name]">::</a> <a href="#539792" title="(t: Patterns.this.global.Tree)List[Patterns.this.global.Name]">getPathSegments</a><span class="delimiter">(</span><a href="#540977" title="Patterns.this.global.Tree">q</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[Patterns.this.global.Name]">Apply</span><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="540989">f</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>    =&gt; <a href="#539792" title="(t: Patterns.this.global.Tree)List[Patterns.this.global.Name]">getPathSegments</a><span class="delimiter">(</span><a href="#540989" title="Patterns.this.global.Tree">f</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                =&gt; <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait NamePattern extends Patterns.this.Pattern with ScalaObject" id="238841">NamePattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Name" id="539442">name</a>: <a href="../../../reflect/internal/Names.scala.html#39679" title="Patterns.this.global.Name">Name</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="539443">sufficientType</a> = <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42735" title="=&gt; Patterns.this.global.Type">narrow</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="539444">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="539746">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#238841" title="NamePattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#531773" title="()Patterns.this.Pattern">rebindToEqualsCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="539445">description</a> = <a href="#539442" title="=&gt; Patterns.this.global.Name">name</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait UnapplyPattern extends Patterns.this.Pattern with ScalaObject" id="238842">UnapplyPattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> UnApply<a href="#539593" title="(Patterns.this.global.Tree, List[Patterns.this.global.Tree])" id="539591" class="delimiter">(</a><a href="#539590" title="Patterns.this.global.Tree" id="539593">unfn</a>, <a href="#539590" title="List[Patterns.this.global.Tree]" id="539595">args</a><span class="delimiter">)</span> = <a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Apply<a href="#540165" title="Patterns.this.global.Tree" id="539597" class="delimiter">(</a><a title="Patterns.this.global.Tree" id="540165">fn</a>, _<span class="delimiter">)</span> = <a href="#539592" title="=&gt; Patterns.this.global.Tree">unfn</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> MethodType<a href="#540191" title="Patterns.this.global.Symbol" id="539599" class="delimiter">(</a><a href="#540169" title="(x: List[Patterns.this.global.Symbol])Some[List[Patterns.this.global.Symbol]]">List</a><span class="delimiter">(</span><a title="Patterns.this.global.Symbol" id="540191">arg</a>, _*<span class="delimiter">)</span>, _<span class="delimiter">)</span> = <a href="#539596" title="=&gt; Patterns.this.global.Tree">fn</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Typed" id="539600">uaTyped</a> = <a href="../transform/TypingTransformers.scala.html#238437" title="(expr: Patterns.this.global.Tree, tpt: Patterns.this.global.Tree)Patterns.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a>, <a href="../transform/TypingTransformers.scala.html#238437" title="(tp: Patterns.this.global.Type)Patterns.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#539598" title="=&gt; Patterns.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Patterns.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Patterns.this.global.Type)Patterns.this.global.Typed">setType</span> <a href="#539598" title="=&gt; Patterns.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Patterns.this.global.Type">tpe</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="539601">necessaryType</a> = <a href="#539598" title="=&gt; Patterns.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#47918" title="=&gt; Patterns.this.global.Type">tpe</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="539602">subpatternsForVars</a> = <a href="#539594" title="=&gt; List[Patterns.this.global.Tree]">args</a> <span title="List[Patterns.this.Pattern]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#540997" title="List[Patterns.this.Pattern]">List</a><span class="delimiter">(</span>ArrayValue<span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="541010">elemtpe</a>, <a title="List[Patterns.this.global.Tree]" id="541011">elems</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#541011" title="List[Patterns.this.global.Tree]">elems</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[Patterns.this.Pattern]">_</span>                                =&gt; <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#539594" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.analyzer.global.Type]" id="539603">resTypes</a> = <a href="../Global.scala.html#182936" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: Patterns.this.global.type}">analyzer</a>.<a href="../typechecker/Unapplies.scala.html#184184" title="(ufn: Patterns.this.global.analyzer.global.Symbol, ufntpe: Patterns.this.global.analyzer.global.Type)List[Patterns.this.global.analyzer.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#539592" title="=&gt; Patterns.this.global.Tree">unfn</a>.<span title="=&gt; Patterns.this.global.Symbol">symbol</span>, <a href="#539592" title="=&gt; Patterns.this.global.Tree">unfn</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="539604">resTypesString</a> = <a href="#539603" title="=&gt; List[Patterns.this.global.analyzer.global.Type]">resTypes</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String(&quot;Boolean&quot;)">Nil</span>  =&gt; <span title="String(&quot;Boolean&quot;)" class="string">&quot;Boolean&quot;</span>
      <span class="keyword">case</span> <a title="String" id="540264">xs</a>   =&gt; <a href="#540264" title="List[Patterns.this.global.analyzer.global.Type]">xs</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait ApplyPattern extends Patterns.this.Pattern with ScalaObject" id="238843">ApplyPattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#238844" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Apply<a href="#539690" title="(Patterns.this.global.Tree, List[Patterns.this.global.Tree])" id="539688" class="delimiter">(</a><a href="#539687" title="Patterns.this.global.Tree" id="539690">fn</a>, <a href="#539687" title="List[Patterns.this.global.Tree]" id="539692">args</a><span class="delimiter">)</span> = <a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="539693">subpatternsForVars</a>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="ParallelMatching.scala.html#238854" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#539691" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="539694">dummies</a> =
      <span title="List[Patterns.this.Pattern]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#238843" title="ApplyPattern.this.type" class="keyword">this</a>.<a href="#531790" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <span title="object Nil">Nil</span>
      <span class="keyword">else</span> <a href="#238776" title="(i: Int)List[Patterns.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#531784" title="=&gt; Patterns.this.global.Type">sufficientType</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Patterns.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47981" title="=&gt; List[Patterns.this.global.Symbol]">caseFieldAccessors</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="539695">isConstructorPattern</a> = <a href="#539689" title="=&gt; Patterns.this.global.Tree">fn</a>.<span title="=&gt; Boolean">isType</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Pattern extends Object with Patterns.this.PatternBindingLogic with ScalaObject" id="238844">Pattern</a> <a href="#238844" title="ScalaObject" class="keyword">extends</a> <a href="PatternBindings.scala.html#238916" title="Patterns.this.PatternBindingLogic">PatternBindingLogic</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Tree" id="531779">tree</a>: <span title="Patterns.this.global.Tree">Tree</span>

    // returns either a simplification of this pattern or identity.
    <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="531780">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="532541">pv</a>: <a href="Matrix.scala.html#529270" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span>: <a href="#238844" title="Patterns.this.Pattern">Pattern</a> = <a href="#238844" title="Patterns.this.Pattern" class="keyword">this</a>

    // the right number of dummies for this pattern
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="531781">dummies</a>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

    // Is this a default pattern (untyped &quot;_&quot; or an EmptyTree inserted by the matcher)
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="531782">isDefault</a> = <span title="Boolean(false)" class="keyword">false</span>

    // what type must a scrutinee have to have any chance of matching this pattern?
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="531783">necessaryType</a> = <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>

    // what type could a scrutinee have which would automatically indicate a match?
    // (nullness and guards will still be checked.)
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="531784">sufficientType</a> = <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>

    // the subpatterns for this pattern (at the moment, that means constructor arguments)
    <span class="keyword">def</span> <a title="(pm: Patterns.this.MatchMatrix#PatternMatch)List[Patterns.this.Pattern]" id="531785">subpatterns</a><span class="delimiter">(</span><a title="Patterns.this.MatchMatrix#PatternMatch" id="536782">pm</a>: MatchMatrix#<a href="ParallelMatching.scala.html#529411" title="Patterns.this.MatchMatrix#PatternMatch">PatternMatch</a><span class="delimiter">)</span>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#536782" title="Patterns.this.MatchMatrix#PatternMatch">pm</a>.<a href="ParallelMatching.scala.html#533271" title="=&gt; List[Patterns.this.Pattern]">dummies</a>

    <span class="keyword">def</span>    <a title="=&gt; Patterns.this.global.Symbol" id="531786">sym</a>  = <a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a>.<span title="=&gt; Patterns.this.global.Symbol">symbol</span>
    <span class="keyword">def</span>    <a title="=&gt; Patterns.this.global.Type" id="531787">tpe</a>  = <a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="531788">isEmpty</a> = <a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="531789">isModule</a>    = <a href="#531786" title="=&gt; Patterns.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">||</span> <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42727" title="=&gt; Patterns.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#47774" title="=&gt; Boolean">isModule</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="531790">isCaseClass</a> = <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42728" title="=&gt; Patterns.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#48078" title="=&gt; Boolean">isCase</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="531791">isObject</a>    = <span class="delimiter">(</span><a href="#531786" title="=&gt; Patterns.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#531786" title="=&gt; Patterns.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#40013" title="object Patterns.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42738" title="=&gt; Patterns.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#42715" title="=&gt; Boolean">isStable</a>  // XXX not entire logic

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="531792">hasStar</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(tpe: Patterns.this.global.Type)Pattern.this.type" id="531793">setType</a><span class="delimiter">(</span><a title="Patterns.this.global.Type" id="541029">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#40083" title="Patterns.this.global.Type">Type</a><span class="delimiter">)</span>: <span class="keyword">this</span>.<span class="keyword">type</span> = <span class="delimiter">{</span>
      <a href="#531779" title="=&gt; Patterns.this.global.Tree">tree</a> <span title="(tp: Patterns.this.global.Type)Patterns.this.global.Tree">setType</span> <a href="#541029" title="Patterns.this.global.Type">tpe</a>
      <a href="#238844" title="Pattern.this.type" class="keyword">this</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="531794">equalsCheck</a> =
      <a href="MatchSupport.scala.html#528047" title="(s: String)(x: Patterns.this.global.Type)Patterns.this.global.Type">tracing</a><span class="delimiter">(</span><span title="String(&quot;equalsCheck&quot;)" class="string">&quot;equalsCheck&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span>
        <span title="Patterns.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#531786" title="=&gt; Patterns.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#47792" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#40194" title="(pre: Patterns.this.global.Type, sym: Patterns.this.global.Symbol)Patterns.this.global.Type">singleType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#40099" title="object Patterns.this.global.NoPrefix">NoPrefix</a>, <a href="#531786" title="=&gt; Patterns.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#531787" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#42735" title="=&gt; Patterns.this.global.Type">narrow</a>
      <span class="delimiter">)</span>

    /** Standard methods **/
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="531795">equals</a><span class="delimiter">(</span><a title="Any" id="539517">other</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#539517" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="539520">x</a>: <a href="#238844" title="Patterns.this.Pattern">Pattern</a> =&gt; <a href="#238844" title="Pattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#531767" title="=&gt; Patterns.this.global.Tree">boundTree</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#539520" title="Patterns.this.Pattern">x</a>.<a href="PatternBindings.scala.html#531767" title="=&gt; Patterns.this.global.Tree">boundTree</a>
      <span class="keyword">case</span> <span title="Boolean">_</span>          =&gt; <a href="#238844" title="Patterns.this.Pattern" class="keyword">super</a>.<span title="(x$1: Any)Boolean">equals</span><span class="delimiter">(</span><a href="#539517" title="Any">other</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="531796">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="PatternBindings.scala.html#531767" title="=&gt; Patterns.this.global.Tree">boundTree</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="531797">description</a> = <a href="#238844" title="Patterns.this.Pattern" class="keyword">super</a>.<span title="()String">toString</span>

    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="531798">toString</a> = <a href="#531797" title="=&gt; String">description</a>

    <span class="keyword">def</span> <a title="()String" id="531799">toTypeString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s &lt;: x &lt;: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#531783" title="=&gt; Patterns.this.global.Type">necessaryType</a>, <a href="#531784" title="=&gt; Patterns.this.global.Type">sufficientType</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /*** Extractors ***/

  <span class="keyword">object</span> <a title="object Patterns.this.UnapplyParamType" id="238845">UnapplyParamType</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: Patterns.this.global.Tree)Option[Patterns.this.global.Type]" id="533573">unapply</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="533574">x</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[Patterns.this.global.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="(x: Patterns.this.global.treeInfo.global.Tree)(pf: PartialFunction[Patterns.this.global.treeInfo.global.Tree,Patterns.this.global.Type])Option[Patterns.this.global.Type]">condOpt</span><span class="delimiter">(</span><a href="../../../reflect/internal/TreeInfo.scala.html#118955" title="(x: Patterns.this.global.treeInfo.global.Tree)Patterns.this.global.treeInfo.global.Tree">unbind</a><span class="delimiter">(</span><a href="#533574" title="Patterns.this.global.Tree">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#541049" title="Patterns.this.global.Type" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Patterns.this.global.Type">UnApply</span><span class="delimiter">(</span>Apply<span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="541056">fn</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#541056" title="Patterns.this.global.Tree">fn</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span> <span title="Patterns.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Patterns.this.global.Type" id="541057">m</a>: <a href="../../../reflect/internal/Types.scala.html#40145" title="Patterns.this.global.MethodType">MethodType</a> =&gt; <a href="#541057" title="Patterns.this.global.MethodType">m</a>.<a href="../../../reflect/internal/Types.scala.html#66914" title="=&gt; List[Patterns.this.global.Type]">paramTypes</a>.<span title="=&gt; Patterns.this.global.Type">head</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>