<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/interpreter/ReplTokens.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Paul Phillips
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> interpreter

<span class="keyword">import</span> util.<span class="delimiter">{</span> BatchSourceFile, Indenter <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.ast.parser.<a href="../ast/parser/Tokens.scala.html#14580" title="object scala.tools.nsc.ast.parser.Tokens">Tokens</a>._
<span class="keyword">import</span> java.lang.<span title="object Integer">Integer</span>.toOctalString

/** This began as an attempt at a completely minimal
 *  pretty printer for a token stream, but as it turns out
 *  it's &quot;minimal, pretty, scala: pick any two.&quot; So
 *  now it's an unattractive hybrid between minimalism
 *  and other things.  Still, it's a big improvement on the
 *  way I was printing source in the repl, so in it goes.
 *
 *  @author   Paul Phillips
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ReplTokens extends Object with ScalaObject" id="22308">ReplTokens</a> <a href="#22308" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="457388">global</a>: <a href="../Global.scala.html#12521" title="scala.tools.nsc.Global">Global</a>

  <span class="keyword">import</span> <a href="#457388" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#182934" title="object ReplTokens.this.global.syntaxAnalyzer">syntaxAnalyzer</a>.<span class="delimiter">{</span> UnitScanner, token2name <span class="delimiter">}</span>

  // Mostly, this means print &lt;NL&gt; so we can see where
  // semicolon inference took place.
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="457392">rawTokens</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="keyword">def</span> <a title="[T](body: =&gt; T)T" id="457394">withRawTokens</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="457396">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="476314">body</a>: =&gt; T<span class="delimiter">)</span>: <a href="#457396" title="T">T</a> = <span class="delimiter">{</span>
    <a href="#457392" title="(x$1: Boolean)Unit">rawTokens</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">try</span> <a href="#476314" title="=&gt; T">body</a>
    <span class="keyword">finally</span> <a href="#457392" title="(x$1: Boolean)Unit">rawTokens</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  // There's the seed of a good idea in here, but you wouldn't
  // know it from the current implementation.  The objects are
  // trying to depict what feelings of coziness a given token
  // might have toward its immediate neighbors.  But it lacks
  // sufficient granularity and a good resolution mechanism.
  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Cozy extends Object with ScalaObject" id="457397">Cozy</a><a href="#457397" title="ScalaObject" class="delimiter">(</a><a title="=&gt; Boolean" id="504090">l</a>: =&gt; Boolean, <a title="=&gt; Boolean" id="504091">r</a>: =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="504085">left</a> = <a href="#504090" title="=&gt; Boolean">l</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="504086">right</a> = <a href="#504091" title="=&gt; Boolean">r</a>
  <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object ReplTokens.this.Cozy" id="457398">Cozy</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: ReplTokens.this.Cozy)Some[(Boolean, Boolean)]" id="504099">unapply</a><span class="delimiter">(</span><a title="ReplTokens.this.Cozy" id="504101">x</a>: <a href="#457397" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">)</span> = <span title="(x: (Boolean, Boolean))Some[(Boolean, Boolean)]">Some</span><span class="delimiter">(</span><span title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</span><a href="#504101" title="ReplTokens.this.Cozy">x</a>.<a href="#504085" title="=&gt; Boolean">left</a>, <a href="#504101" title="ReplTokens.this.Cozy">x</a>.<a href="#504086" title="=&gt; Boolean">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  case <span class="keyword">object</span>  <a href="#504118" title="object ReplTokens.this.|--*--|" id="504126">|--*--|</a>  <span title="ScalaObject" class="keyword">extends</span> <a href="#457397" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  case <span class="keyword">object</span>    <a href="#504132" title="object ReplTokens.this.&lt;*--|" id="504140">&lt;*--|</a>  <span title="ScalaObject" class="keyword">extends</span> <a href="#457397" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  case <span class="keyword">object</span>  <a href="#504146" title="object ReplTokens.this.|--*&gt;" id="504154">|--*&gt;</a>    <span title="ScalaObject" class="keyword">extends</span> <a href="#457397" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  case <span class="keyword">object</span>    <a href="#504160" title="object ReplTokens.this.&lt;*&gt;" id="504168">&lt;*&gt;</a>    <span title="ScalaObject" class="keyword">extends</span> <a href="#457397" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  @annotation.switch <span class="keyword">def</span> <a title="(ch: Char)String" id="457408">escapedChar</a><span class="delimiter">(</span><a title="Char" id="504169">ch</a>: <span title="Char">Char</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#504169" title="Char">ch</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="String(&quot;\\b&quot;)" class="char">'\b'</span> =&gt; <span title="String(&quot;\\b&quot;)" class="string">&quot;\\b&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\t&quot;)" class="char">'\t'</span> =&gt; <span title="String(&quot;\\t&quot;)" class="string">&quot;\\t&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\n&quot;)" class="char">'\n'</span> =&gt; <span title="String(&quot;\\n&quot;)" class="string">&quot;\\n&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\f&quot;)" class="char">'\f'</span> =&gt; <span title="String(&quot;\\f&quot;)" class="string">&quot;\\f&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\r&quot;)" class="char">'\r'</span> =&gt; <span title="String(&quot;\\r&quot;)" class="string">&quot;\\r&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\\&quot;&quot;)" class="char">'&quot;'</span>  =&gt; <span title="String(&quot;\\\&quot;&quot;)" class="string">&quot;\\\&quot;&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\\'&quot;)" class="char">'\''</span> =&gt; <span title="String(&quot;\\\'&quot;)" class="string">&quot;\\\'&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\\\&quot;)" class="char">'\\'</span> =&gt; <span title="String(&quot;\\\\&quot;)" class="string">&quot;\\\\&quot;</span>
    <span class="keyword">case</span> <span title="String">_</span>    =&gt; <span title="object String">String</span>.<span title="(x$1: Char)String">valueOf</span><span class="delimiter">(</span><a href="#504169" title="Char">ch</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(text: String)String" id="457409">escape</a><span class="delimiter">(</span><a title="String" id="504175">text</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#504175" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">text</a> <span title="(f: Char =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[String,String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span> <span class="delimiter">{</span> <a title="Char" id="504620">ch</a> =&gt;
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#504620" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">ch</a>.<span title="=&gt; Boolean">isControl</span><span class="delimiter">)</span> <span title="String(&quot;\\0&quot;)" class="string">&quot;\\0&quot;</span> <span title="(x$1: Any)String">+</span> <span title="(x$1: Int)String">toOctalString</span><span class="delimiter">(</span><a href="#504620" title="=&gt; Int">ch</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#457408" title="(ch: Char)String">escapedChar</a><span class="delimiter">(</span><a href="#504620" title="Char">ch</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class Arrow extends Object with ScalaObject" id="457410">Arrow</a><a href="#457410" title="ScalaObject" class="delimiter">(</a><a title="Int" id="503696">code</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(str: String)(Int, ReplTokens.this.ReplToken)" id="503694">-&gt;</a><span class="delimiter">(</span><a title="String" id="503731">str</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="(Int, ReplTokens.this.ReplToken)" class="delimiter">(</span>Int, ReplToken<span class="delimiter">)</span>     = <span title="(_1: Int, _2: ReplTokens.this.Token)(Int, ReplTokens.this.Token)" class="delimiter">(</span><a href="#503696" title="Int">code</a>, <a href="#505905" title="(value: Int)(str: String)ReplTokens.this.Token">Token</a><span class="delimiter">(</span><a href="#503696" title="Int">code</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#503731" title="String">str</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)" id="503695">-&gt;</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="503718">tok</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span>: <span title="(Int, ReplTokens.this.ReplToken)" class="delimiter">(</span>Int, ReplToken<span class="delimiter">)</span>  = <span title="(_1: Int, _2: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)" class="delimiter">(</span><a href="#503696" title="Int">code</a>, <a href="#503718" title="ReplTokens.this.ReplToken">tok</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Int,ReplTokens.this.ReplToken]" id="457411">symbolTokenMap</a> = <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow" id="503689">liftToken</a><span class="delimiter">(</span><a title="Int" id="503690">code</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#457410" title="ReplTokens.this.Arrow">Arrow</a> = <span title="ReplTokens.this.Arrow" class="keyword">new</span> <a href="#457410" title="ReplTokens.this.Arrow">Arrow</a><span class="delimiter">(</span><a href="#503690" title="Int">code</a><span class="delimiter">)</span>

    <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Int, ReplTokens.this.ReplToken)*)scala.collection.immutable.Map[Int,ReplTokens.this.ReplToken]" class="delimiter">[</span><span title="Int">Int</span>, <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">]</span><span class="delimiter">(</span>
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">AT</a>         <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505188" title="object ReplTokens.this.At">At</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">CASECLASS</a>  <a href="#503694" title="(str: String)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <span title="String(&quot;case class&quot;)" class="string">&quot;case class&quot;</span>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">CASEOBJECT</a> <a href="#503694" title="(str: String)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <span title="String(&quot;case object&quot;)" class="string">&quot;case object&quot;</span>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">COLON</a>      <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505203" title="object ReplTokens.this.Colon">Colon</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">COMMA</a>      <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505218" title="object ReplTokens.this.Comma">Comma</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">DOT</a>        <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505233" title="object ReplTokens.this.Dot">Dot</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">EOF</a>        <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505248" title="object ReplTokens.this.Eof">Eof</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">ERROR</a>      <a href="#503694" title="(str: String)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <span title="String(&quot;&lt;error&gt;&quot;)" class="string">&quot;&lt;error&gt;&quot;</span>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">FALSE</a>      <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505279" title="object ReplTokens.this.False">False</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">IMPORT</a>     <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505294" title="object ReplTokens.this.Import">Import</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">LBRACE</a>     <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505309" title="object ReplTokens.this.LBrace">LBrace</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">LBRACKET</a>   <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505324" title="object ReplTokens.this.LBracket">LBracket</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">LPAREN</a>     <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505339" title="object ReplTokens.this.LParen">LParen</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">NEWLINE</a>    <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505357" title="object ReplTokens.this.Newline">Newline</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">NEWLINES</a>   <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505375" title="object ReplTokens.this.Newlines">Newlines</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">NULL</a>       <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505390" title="object ReplTokens.this.Null">Null</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">RBRACE</a>     <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505405" title="object ReplTokens.this.RBrace">RBrace</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">RBRACKET</a>   <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505420" title="object ReplTokens.this.RBracket">RBracket</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">RPAREN</a>     <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505435" title="object ReplTokens.this.RParen">RParen</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">SEMI</a>       <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505450" title="object ReplTokens.this.Semi">Semi</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">SUBTYPE</a>    <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505465" title="object ReplTokens.this.Subtype">Subtype</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">SUPERTYPE</a>  <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505480" title="object ReplTokens.this.Supertype">Supertype</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">TRUE</a>       <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505495" title="object ReplTokens.this.True">True</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">VIEWBOUND</a>  <a href="#503695" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#505510" title="object ReplTokens.this.ViewBound">ViewBound</a>,
      <a href="#503689" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">XMLSTART</a>   <a href="#503694" title="(str: String)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <span title="String(&quot;&lt;xmlstart&gt;&quot;)" class="string">&quot;&lt;xmlstart&gt;&quot;</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(t: ReplTokens.this.ReplToken)Boolean" id="457413">isAlphaId</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="504661">t</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#504661" title="ReplTokens.this.ReplToken">t</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">Id</span><span class="delimiter">(</span><a title="String" id="504691">name</a><span class="delimiter">)</span> =&gt; <a href="#504691" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">name</a> <span title="(p: Char =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Char" id="504964">ch</a> =&gt; <a href="#504964" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">ch</a>.<span title="=&gt; Boolean">isDigit</span> <span title="(x: Boolean)Boolean">||</span> <a href="#504964" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">ch</a>.<span title="=&gt; Boolean">isLetter</span> <span title="(x: Boolean)Boolean">||</span> <a href="#504964" title="Char">ch</a> <span title="(x: Char)Boolean">==</span> <span title="Char('_')" class="char">'_'</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(t: ReplTokens.this.ReplToken)Boolean" id="457414">isOperatorId</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="504973">t</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#504973" title="ReplTokens.this.ReplToken">t</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">Id</span><span class="delimiter">(</span><a title="String" id="504976">name</a><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#457413" title="(t: ReplTokens.this.ReplToken)Boolean">isAlphaId</a><span class="delimiter">(</span><a href="#504973" title="ReplTokens.this.ReplToken">t</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>        =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ReplToken extends Object with ScalaObject" id="457415">ReplToken</a><a href="#457415" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="504980">tokenString</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="ReplTokens.this.Cozy" id="504981">cozy</a>: <a href="#457397" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(str: String)ReplTokens.this.ReplToken" id="503704" class="keyword">this</a><span class="delimiter">(</span><a title="String" id="504985">str</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#457415" title="ReplToken.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#504985" title="String">str</a>, <a href="#504126" title="object ReplTokens.this.|--*--|">|--*--|</a> <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="503705">insistsOnSpace</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="503706">cozyRight</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="504996">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#504981" title="=&gt; ReplTokens.this.Cozy">cozy</a>.<a href="#504086" title="=&gt; Boolean">right</a> <span title="(x: Boolean)Boolean">||</span> <a href="#504996" title="ReplTokens.this.ReplToken">other</a>.<a href="#504981" title="=&gt; ReplTokens.this.Cozy">cozy</a>.<a href="#504085" title="=&gt; Boolean">left</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="503707">cozyLeft</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="504999">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span>  = <span class="delimiter">(</span><a href="#504981" title="=&gt; ReplTokens.this.Cozy">cozy</a>.<a href="#504085" title="=&gt; Boolean">left</a> <span title="(x: Boolean)Boolean">||</span> <a href="#504999" title="ReplTokens.this.ReplToken">other</a>.<a href="#504981" title="=&gt; ReplTokens.this.Cozy">cozy</a>.<a href="#504086" title="=&gt; Boolean">right</a><span class="delimiter">)</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="503708">&lt;--?--&gt;</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505002">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#503705" title="=&gt; Boolean">insistsOnSpace</a> <span title="(x: Boolean)Boolean">||</span> <a href="#505002" title="ReplTokens.this.ReplToken">other</a>.<a href="#503705" title="=&gt; Boolean">insistsOnSpace</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
        <span class="delimiter">(</span><a href="#457415" title="ReplToken.this.type" class="keyword">this</a> <a href="#503706" title="(other: ReplTokens.this.ReplToken)Boolean">cozyRight</a> <a href="#505002" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <span class="delimiter">(</span><a href="#505002" title="ReplTokens.this.ReplToken">other</a> <a href="#503707" title="(other: ReplTokens.this.ReplToken)Boolean">cozyLeft</a> <a href="#457415" title="ReplTokens.this.ReplToken" class="keyword">this</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // to show invisibles
    <span class="keyword">def</span> <a title="=&gt; String" id="503709">rawString</a> = <a href="#504980" title="=&gt; String">tokenString</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="503710">toString</a> = <span class="delimiter">(</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#457392" title="=&gt; Boolean">rawTokens</a><span class="delimiter">)</span> <a href="#503709" title="=&gt; String">rawString</a>
      <span class="keyword">else</span> <a href="#504980" title="=&gt; String">tokenString</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait InsistCozyRight extends ReplTokens.this.ReplToken with ScalaObject" id="457416">InsistCozyRight</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="503737">cozyRight</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505013">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait InsistCozyLeft extends ReplTokens.this.ReplToken with ScalaObject" id="457417">InsistCozyLeft</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="503793">cozyLeft</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505018">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait InsistCozy extends ReplTokens.this.ReplToken with ReplTokens.this.InsistCozyLeft with ReplTokens.this.InsistCozyRight" id="457418">InsistCozy</a> <span class="keyword">extends</span> <a href="#457417" title="ReplTokens.this.InsistCozyLeft">InsistCozyLeft</a> <span class="keyword">with</span> <a href="#457416" title="ReplTokens.this.InsistCozyRight">InsistCozyRight</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait InsistSpaced extends ReplTokens.this.ReplToken with ScalaObject" id="457419">InsistSpaced</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="503878">insistsOnSpace</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait CozyWithLetters extends ReplTokens.this.ReplToken with ScalaObject" id="457420">CozyWithLetters</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="505028">cozyRight</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505032">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#457413" title="(t: ReplTokens.this.ReplToken)Boolean">isAlphaId</a><span class="delimiter">(</span><a href="#505032" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#457420" title="ReplTokens.this.CozyWithLetters" class="keyword">super</a>.<a href="#503706" title="(other: ReplTokens.this.ReplToken)Boolean">cozyRight</a><span class="delimiter">(</span><a href="#505032" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="505029">cozyLeft</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505036">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#457413" title="(t: ReplTokens.this.ReplToken)Boolean">isAlphaId</a><span class="delimiter">(</span><a href="#505036" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#457420" title="ReplTokens.this.CozyWithLetters" class="keyword">super</a>.<a href="#503707" title="(other: ReplTokens.this.ReplToken)Boolean">cozyLeft</a><span class="delimiter">(</span><a href="#505036" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait Brackets extends ReplTokens.this.ReplToken with ScalaObject" id="457421">Brackets</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: ReplTokens.this.ReplToken)Boolean" id="503894">isCozyToken</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505042">t</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span>    = <a href="#505042" title="ReplTokens.this.ReplToken">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#505324" title="object ReplTokens.this.LBracket">LBracket</a> <span title="(x: Boolean)Boolean">||</span> <a href="#505042" title="ReplTokens.this.ReplToken">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#505420" title="object ReplTokens.this.RBracket">RBracket</a> <span title="(x: Boolean)Boolean">||</span> <a href="#457413" title="(t: ReplTokens.this.ReplToken)Boolean">isAlphaId</a><span class="delimiter">(</span><a href="#505042" title="ReplTokens.this.ReplToken">t</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="503895">cozyRight</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505053">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#503894" title="(t: ReplTokens.this.ReplToken)Boolean">isCozyToken</a><span class="delimiter">(</span><a href="#505053" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#457421" title="ReplTokens.this.Brackets" class="keyword">super</a>.<a href="#503706" title="(other: ReplTokens.this.ReplToken)Boolean">cozyRight</a><span class="delimiter">(</span><a href="#505053" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="503896">cozyLeft</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505057">other</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span>  = <a href="#503894" title="(t: ReplTokens.this.ReplToken)Boolean">isCozyToken</a><span class="delimiter">(</span><a href="#505057" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#457421" title="ReplTokens.this.Brackets" class="keyword">super</a>.<a href="#503707" title="(other: ReplTokens.this.ReplToken)Boolean">cozyLeft</a><span class="delimiter">(</span><a href="#505057" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class Token extends ReplTokens.this.ReplToken with ScalaObject with Product with Serializable" id="505905">Token</a><a href="#503704" title="ScalaObject" class="delimiter">(</a><a title="Int" id="504650">value</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="504651">str</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><a href="#504651" title="String">str</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class Id extends ReplTokens.this.ReplToken with ScalaObject with Product with Serializable" id="505884">Id</a><a href="#503704" title="ScalaObject" class="delimiter">(</a><a title="String" id="505515">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><a href="#505515" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class Lit[T] extends ReplTokens.this.ReplToken with ScalaObject with Product with Serializable" id="505880">Lit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="505523">T</a><span class="delimiter">]</span><a href="#503704" title="ScalaObject" class="delimiter">(</a><a title="T" id="505527">value</a>: <a href="#505523" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><a href="#505527" title="T">value</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="String" id="505143">s</a>: <span title="String">String</span>  =&gt; <span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#505143" title="String">s</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span>
    <span class="keyword">case</span> <span title="String">_</span>          =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#505527" title="T">value</a>
  <span class="delimiter">}</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505181" title="object ReplTokens.this.At" id="505188">At</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;@&quot;)" class="string">&quot;@&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457416" title="ReplTokens.this.InsistCozyRight">InsistCozyRight</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505196" title="object ReplTokens.this.Colon" id="505203">Colon</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span>, <a href="#504140" title="object ReplTokens.this.&lt;*--|">&lt;*--|</a><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505211" title="object ReplTokens.this.Comma" id="505218">Comma</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <a href="#504140" title="object ReplTokens.this.&lt;*--|">&lt;*--|</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457417" title="ReplTokens.this.InsistCozyLeft">InsistCozyLeft</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505226" title="object ReplTokens.this.Dot" id="505233">Dot</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <a href="#504168" title="object ReplTokens.this.&lt;*&gt;">&lt;*&gt;</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457418" title="ReplTokens.this.InsistCozy">InsistCozy</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505241" title="object ReplTokens.this.Eof" id="505248">Eof</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;EOF&quot;)" class="string">&quot;EOF&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505257" title="object ReplTokens.this.ErrorToken" id="505264">ErrorToken</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;&lt;internal error&gt;&quot;)" class="string">&quot;&lt;internal error&gt;&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505272" title="object ReplTokens.this.False" id="505279">False</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;false&quot;)" class="string">&quot;false&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505287" title="object ReplTokens.this.Import" id="505294">Import</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;import&quot;)" class="string">&quot;import&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505302" title="object ReplTokens.this.LBrace" id="505309">LBrace</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457419" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505317" title="object ReplTokens.this.LBracket" id="505324">LBracket</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457421" title="ReplTokens.this.Brackets">Brackets</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505332" title="object ReplTokens.this.LParen" id="505339">LParen</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <a href="#504154" title="object ReplTokens.this.|--*&gt;">|--*&gt;</a><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505350" title="object ReplTokens.this.Newline" id="505357">Newline</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <a href="#504168" title="object ReplTokens.this.&lt;*&gt;">&lt;*&gt;</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457418" title="ReplTokens.this.InsistCozy">InsistCozy</a> <span class="delimiter">{</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="503925">rawString</a> = <span title="String(&quot;&lt;NL&gt;\n&quot;)" class="string">&quot;&lt;NL&gt;\n&quot;</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505368" title="object ReplTokens.this.Newlines" id="505375">Newlines</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;\n\n&quot;)" class="string">&quot;\n\n&quot;</span>, <a href="#504168" title="object ReplTokens.this.&lt;*&gt;">&lt;*&gt;</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457418" title="ReplTokens.this.InsistCozy">InsistCozy</a> <span class="delimiter">{</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="503940">rawString</a> = <span title="String(&quot;&lt;NLS&gt;\n\n&quot;)" class="string">&quot;&lt;NLS&gt;\n\n&quot;</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505383" title="object ReplTokens.this.Null" id="505390">Null</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505398" title="object ReplTokens.this.RBrace" id="505405">RBrace</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span>, <a href="#504154" title="object ReplTokens.this.|--*&gt;">|--*&gt;</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457419" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505413" title="object ReplTokens.this.RBracket" id="505420">RBracket</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457421" title="ReplTokens.this.Brackets">Brackets</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505428" title="object ReplTokens.this.RParen" id="505435">RParen</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>, <a href="#504140" title="object ReplTokens.this.&lt;*--|">&lt;*--|</a><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505443" title="object ReplTokens.this.Semi" id="505450">Semi</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span>, <a href="#504140" title="object ReplTokens.this.&lt;*--|">&lt;*--|</a><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505458" title="object ReplTokens.this.Subtype" id="505465">Subtype</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;&lt;:&quot;)" class="string">&quot;&lt;:&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457419" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505473" title="object ReplTokens.this.Supertype" id="505480">Supertype</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;&gt;:&quot;)" class="string">&quot;&gt;:&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457419" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#505488" title="object ReplTokens.this.True" id="505495">True</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;true&quot;)" class="string">&quot;true&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#505503" title="object ReplTokens.this.ViewBound" id="505510">ViewBound</a> <a href="#503704" title="ScalaObject" class="keyword">extends</a> <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;&lt;%&quot;)" class="string">&quot;&lt;%&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#457419" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class Tokenizer extends Object with ScalaObject" id="457476">Tokenizer</a><a href="#457476" title="ScalaObject" class="delimiter">(</a><a title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner" id="457576">in</a>: <a href="../ast/parser/Scanners.scala.html#228320" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">UnitScanner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tokenCode: Int)ReplTokens.this.ReplToken" id="457574">translate</a><span class="delimiter">(</span><a title="Int" id="505513">tokenCode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a> = <a href="#505513" title="Int">tokenCode</a> <span title="ReplTokens.this.ReplToken" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Id">IDENTIFIER</span> | <span title="Int(11)">BACKQUOTED_IDENT</span> =&gt; <a href="#505884" title="(name: String)ReplTokens.this.Id">Id</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#457576" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#228719" title="=&gt; ReplTokens.this.global.syntaxAnalyzer.global.TermName">name</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Lit[Long]">CHARLIT</span> | <span title="Int(2)">INTLIT</span> | <span title="Int(3)">LONGLIT</span>    =&gt; <a href="#505880" title="(value: Long)ReplTokens.this.Lit[Long]">Lit</a><span class="delimiter">(</span><a href="#457576" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#228660" title="=&gt; Long">intVal</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Lit[Double]">DOUBLELIT</span> | <span title="Int(4)">FLOATLIT</span>          =&gt; <a href="#505880" title="(value: Double)ReplTokens.this.Lit[Double]">Lit</a><span class="delimiter">(</span><a href="#457576" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#228662" title="=&gt; Double">floatVal</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Lit[String]">STRINGLIT</span>                     =&gt; <a href="#505880" title="(value: String)ReplTokens.this.Lit[String]">Lit</a><span class="delimiter">(</span><a href="#457409" title="(text: String)String">escape</a><span class="delimiter">(</span><a href="#457576" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#228722" title="=&gt; String">strVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Lit[Symbol]">SYMBOLLIT</span>                     =&gt; <a href="#505880" title="(value: Symbol)ReplTokens.this.Lit[Symbol]">Lit</a><span class="delimiter">(</span>scala.<span title="(name: String)Symbol">Symbol</span><span class="delimiter">(</span><a href="#457576" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#228722" title="=&gt; String">strVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.ReplToken">_</span> =&gt;
        <a href="#457411" title="=&gt; scala.collection.immutable.Map[Int,ReplTokens.this.ReplToken]">symbolTokenMap</a>.<span title="(key: Int, default: =&gt; ReplTokens.this.ReplToken)ReplTokens.this.ReplToken">getOrElse</span><span class="delimiter">(</span>
          <a href="#505513" title="Int">tokenCode</a>,
          <a href="../ast/parser/Scanners.scala.html#228314" title="=&gt; scala.collection.immutable.Map[Int,ReplTokens.this.global.syntaxAnalyzer.global.Name]">token2name</a> <span title="(key: Int)Option[ReplTokens.this.global.syntaxAnalyzer.global.Name]">get</span> <a href="#505513" title="Int">tokenCode</a> <span title="ReplTokens.this.ReplToken" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="ReplTokens.this.Token">Some</span><span class="delimiter">(</span><a title="ReplTokens.this.global.syntaxAnalyzer.global.Name" id="505584">name</a><span class="delimiter">)</span> =&gt; <a href="#505905" title="(value: Int)(str: String)ReplTokens.this.Token">Token</a><span class="delimiter">(</span><a href="#505513" title="Int">tokenCode</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#505584" title="ReplTokens.this.global.syntaxAnalyzer.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="ReplTokens.this.Token">_</span>          =&gt; <a href="#505905" title="(value: Int)(str: String)ReplTokens.this.Token">Token</a><span class="delimiter">(</span><a href="#505513" title="Int">tokenCode</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="String(&quot;&lt;unknown: &quot;)" class="string">&quot;&lt;unknown: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#505513" title="Int">tokenCode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Iterator[ReplTokens.this.ReplToken]" id="457575">tokenIterator</a>: <span title="Iterator[ReplTokens.this.ReplToken]">Iterator</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span> = <span class="delimiter">(</span>
      <span title="=&gt; collection.Iterator.type">Iterator</span> <span title="(elem: =&gt; ReplTokens.this.ReplToken)Iterator[ReplTokens.this.ReplToken]">continually</span> <span class="delimiter">{</span>
        <span class="keyword">try</span> <a href="#457574" title="(tokenCode: Int)ReplTokens.this.ReplToken">translate</a><span class="delimiter">(</span><a href="#457576" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#228710" title="=&gt; Int">token</a><span class="delimiter">)</span>
        <span class="keyword">finally</span> <a href="#457576" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#228638" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span title="(p: ReplTokens.this.ReplToken =&gt; Boolean)Iterator[ReplTokens.this.ReplToken]">takeWhile</span> <span class="delimiter">(</span><a href="#505592" title="ReplTokens.this.ReplToken">_</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#505248" title="object ReplTokens.this.Eof">Eof</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit" id="457477">prettyPrintRaw</a><span class="delimiter">(</span><a title="TraversableOnce[ReplTokens.this.ReplToken]" id="505593">tokens</a>: <span title="TraversableOnce[ReplTokens.this.ReplToken]">TraversableOnce</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#457394" title="(body: =&gt; Unit)Unit">withRawTokens</a><span class="delimiter">(</span><a href="#457478" title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit">prettyPrint</a><span class="delimiter">(</span><a href="#505593" title="TraversableOnce[ReplTokens.this.ReplToken]">tokens</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit" id="457478">prettyPrint</a><span class="delimiter">(</span><a title="TraversableOnce[ReplTokens.this.ReplToken]" id="475376">tokens</a>: <span title="TraversableOnce[ReplTokens.this.ReplToken]">TraversableOnce</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="ReplTokens.this.TokenPrinter" class="keyword">new</span> <a href="#457479" title="ReplTokens.this.TokenPrinter">TokenPrinter</a> <a href="#505609" title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit">prettyPrint</a> <a href="#475376" title="TraversableOnce[ReplTokens.this.ReplToken]">tokens</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class TokenPrinter extends Object with ScalaObject" id="457479">TokenPrinter</a> <a href="#457479" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">type</span> <a title="(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)" id="505599">TokenTriple</a> = <span title="(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)" class="delimiter">(</span>ReplToken, ReplToken, ReplToken<span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.util.Indenter" id="505600">writer</a> = <a href="../util/Indenter.scala.html#505629" title="()scala.tools.nsc.util.Indenter" class="keyword">new</a> <a href="../util/Indenter.scala.html#35009" title="scala.tools.nsc.util.Indenter">Indenter</a>
    <span class="keyword">var</span> <a title="List[ReplTokens.this.ReplToken]" id="505603">prev</a>: <span title="List[ReplTokens.this.ReplToken]">List</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

    <span class="keyword">def</span> <a title="(t: ReplTokens.this.ReplToken)Boolean" id="505605">isIdentPart</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505676">t</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#505676" title="ReplTokens.this.ReplToken">t</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#505233" title="Boolean(true)">Dot</a> | Id<span class="delimiter">(</span>_<span class="delimiter">)</span>  =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>            =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; ReplTokens.this.ReplToken" id="505606">prevNonIdent</a> = <a href="#505603" title="=&gt; List[ReplTokens.this.ReplToken]">prev</a> <span title="(p: ReplTokens.this.ReplToken =&gt; Boolean)List[ReplTokens.this.ReplToken]">dropWhile</span> <a href="#505605" title="(t: ReplTokens.this.ReplToken)Boolean">isIdentPart</a> <span title="ReplTokens.this.ReplToken" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.ErrorToken.type">Nil</span>    =&gt; <a href="#505264" title="object ReplTokens.this.ErrorToken">ErrorToken</a>
      <span class="keyword">case</span> <a title="ReplTokens.this.ReplToken" id="505697">t</a> :: _ =&gt; <a href="#505697" title="ReplTokens.this.ReplToken">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="505607">inImport</a> = <a href="#505606" title="=&gt; ReplTokens.this.ReplToken">prevNonIdent</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#505294" title="object ReplTokens.this.Import">Import</a>

    <span class="keyword">def</span> <a title="(left: ReplTokens.this.ReplToken, token: ReplTokens.this.ReplToken)Unit" id="505608">printToken</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505706">left</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a>, <a title="ReplTokens.this.ReplToken" id="505707">token</a>: <a href="#457415" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#505707" title="ReplTokens.this.ReplToken">token</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#505309" title="Unit">LBrace</a> =&gt;
        <a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#505660" title="(token: Any)Unit">openIndent</a> <span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a>.<a href="../util/Indenter.scala.html#505646" title="=&gt; Boolean">atStartOfLine</a><span class="delimiter">)</span> <a href="#505707" title="ReplTokens.this.ReplToken">token</a>
          <span class="keyword">else</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#505707" title="ReplTokens.this.ReplToken">token</a>
        <span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#505405" title="Unit">RBrace</a>             =&gt;
        <a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a>.<a href="../util/Indenter.scala.html#505661" title="(token: Any)Unit">closeIndent</a><span class="delimiter">(</span><a href="#505707" title="ReplTokens.this.ReplToken">token</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Unit" id="505717">tok</a> @ <span class="delimiter">(</span><a href="#505357" title="object ReplTokens.this.Newline">Newline</a> | <a href="#505375" title="object ReplTokens.this.Newlines">Newlines</a><span class="delimiter">)</span> =&gt;
        <a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a>.<a href="../util/Indenter.scala.html#505663" title="(endOfLine: Any)Unit">nextIndent</a><span class="delimiter">(</span><a href="#505717" title="ReplTokens.this.ReplToken">tok</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span>                  =&gt;
        <a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#505665" title="(x: Any)Unit">print</a> <span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a>.<a href="../util/Indenter.scala.html#505646" title="=&gt; Boolean">atStartOfLine</a><span class="delimiter">)</span> <a href="#505707" title="ReplTokens.this.ReplToken">token</a>
          <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#505706" title="ReplTokens.this.ReplToken">left</a> <a href="#503708" title="(other: ReplTokens.this.ReplToken)Boolean">&lt;--?--&gt;</a> <a href="#505707" title="ReplTokens.this.ReplToken">token</a><span class="delimiter">)</span> <a href="#505707" title="ReplTokens.this.ReplToken">token</a>
          <span class="keyword">else</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#505707" title="ReplTokens.this.ReplToken">token</a>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit" id="505609">prettyPrint</a><span class="delimiter">(</span><a title="TraversableOnce[ReplTokens.this.ReplToken]" id="505619">tokens</a>: <span title="TraversableOnce[ReplTokens.this.ReplToken]">TraversableOnce</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]" id="505735">it</a> = <span title="(elems: ReplTokens.this.Newline.type*)Iterator[ReplTokens.this.Newline.type]">Iterator</span><span class="delimiter">(</span><a href="#505357" title="object ReplTokens.this.Newline">Newline</a><span class="delimiter">)</span> <span title="(that: =&gt; scala.collection.GenTraversableOnce[ReplTokens.this.ReplToken])Iterator[ReplTokens.this.ReplToken]">++</span> <a href="#505619" title="TraversableOnce[ReplTokens.this.ReplToken]">tokens</a>.<span title="=&gt; Iterator[ReplTokens.this.ReplToken]">toIterator</span> <a title="Iterator[ReplTokens.this.ReplToken]" id="505756">++</a> <span title="(elems: ReplTokens.this.Newline.type*)Iterator[ReplTokens.this.Newline.type]">Iterator</span><span class="delimiter">(</span><a href="#505357" title="object ReplTokens.this.Newline">Newline</a><span class="delimiter">)</span> <a href="#505756" title="Int" id="505760">sliding</a> <a title="Int(3)" id="505759" class="int">3</a> <span title="(f: Seq[ReplTokens.this.ReplToken] =&gt; (ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken))Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">map</span> <span class="delimiter">{</span> <a title="Seq[ReplTokens.this.ReplToken]" id="505765">x</a> =&gt;
        <span class="keyword">val</span> <a href="#505771" title="(x: List[A])Some[List[A]]">List</a><a href="#505767" title="(A, A, A)" class="delimiter">(</a><a href="#505766" title="A" id="505767">x1</a>, <a href="#505766" title="A" id="505768">x2</a>, <a href="#505766" title="A" id="505769">x3</a><span class="delimiter">)</span> = <a href="#505765" title="Seq[ReplTokens.this.ReplToken]">x</a>
        <span class="delimiter">(</span><span title="(_1: ReplTokens.this.ReplToken, _2: ReplTokens.this.ReplToken, _3: ReplTokens.this.ReplToken)(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)" class="delimiter">(</span><a href="#505767" title="ReplTokens.this.ReplToken">x1</a>, <a href="#505768" title="ReplTokens.this.ReplToken">x2</a>, <a href="#505769" title="ReplTokens.this.ReplToken">x3</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#505610" title="(it: Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)])Unit">prettyPrint</a><span class="delimiter">(</span><a href="#505735" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(it: Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)])Unit" id="505610">prettyPrint</a><span class="delimiter">(</span><a title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]" id="505613">it</a>: <span title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">Iterator</span><span class="delimiter">[</span>TokenTriple<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#505613" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <a href="#505613" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="()(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)">next</span> <a href="#505822" title="Unit" class="keyword">match</a> <span class="delimiter">{</span>
        // special casing to avoid newline on empty blocks
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505826">left</a>, <a href="#505309" title="object ReplTokens.this.LBrace">LBrace</a>, <a href="#505405" title="object ReplTokens.this.RBrace">RBrace</a><span class="delimiter">)</span>        =&gt;
          <a href="#505613" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="()(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)">next</span>
          <a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#505665" title="(x: Any)Unit">print</a> <span title="String(&quot; { }&quot;)" class="string">&quot; { }&quot;</span>
        // special casing to avoid newlines on import x.{ y, z, q }
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505830">left</a>, <a href="#505309" title="object ReplTokens.this.LBrace">LBrace</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#505607" title="=&gt; Boolean">inImport</a> =&gt;
          <a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#505665" title="(x: Any)Unit">print</a> <a href="#505309" title="object ReplTokens.this.LBrace">LBrace</a>
          <span class="keyword">def</span> <a title="()Unit" id="505831">loop</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#505613" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a href="#505836" title="ReplTokens.this.ReplToken" id="505832" class="delimiter">(</a>_, <a title="ReplTokens.this.ReplToken" id="505836">tok</a>, _<span class="delimiter">)</span> = <a href="#505613" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="()(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)">next</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#505832" title="ReplTokens.this.ReplToken">tok</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#505218" title="object ReplTokens.this.Comma">Comma</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#505665" title="(x: Any)Unit">print</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
              <span class="delimiter">}</span>
              <a href="#505600" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#505665" title="(x: Any)Unit">print</a> <a href="#505832" title="ReplTokens.this.ReplToken">tok</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#505832" title="ReplTokens.this.ReplToken">tok</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#505405" title="object ReplTokens.this.RBrace">RBrace</a><span class="delimiter">)</span>
                <a href="#505831" title="()Unit">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#505831" title="()Unit">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="505848">left</a>, <a title="ReplTokens.this.ReplToken" id="505849">token</a>, <a title="ReplTokens.this.ReplToken" id="505850">right</a><span class="delimiter">)</span> =&gt;
          <a href="#505608" title="(left: ReplTokens.this.ReplToken, token: ReplTokens.this.ReplToken)Unit">printToken</a><span class="delimiter">(</span><a href="#505848" title="ReplTokens.this.ReplToken">left</a>, <a href="#505849" title="ReplTokens.this.ReplToken">token</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#505613" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <a href="#505603" title="(x$1: List[ReplTokens.this.ReplToken])Unit">prev</a> <span title="(x: ReplTokens.this.ReplToken)List[ReplTokens.this.ReplToken]">::=</span> <a href="#505849" title="ReplTokens.this.ReplToken">token</a>
          <span class="keyword">else</span> <a href="#505608" title="(left: ReplTokens.this.ReplToken, token: ReplTokens.this.ReplToken)Unit">printToken</a><span class="delimiter">(</span><a href="#505849" title="ReplTokens.this.ReplToken">token</a>, <a href="#505850" title="ReplTokens.this.ReplToken">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>