<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/internal/Kinds.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.reflect
<span class="keyword">package</span> internal

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.util.<a href="../../tools/util/StringOps.scala.html#35941" title="object scala.tools.util.StringOps">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait Kinds extends Object with ScalaObject" id="9145">Kinds</a> <span title="ScalaObject" class="delimiter">{</span>
  self: SymbolTable =&gt;

  <span class="keyword">import</span> <a href="Definitions.scala.html#40473" title="object Kinds.this.definitions">definitions</a>._

  <span class="keyword">private</span> <span class="keyword">type</span> <a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="40410">SymPair</a> = <span class="delimiter">(</span><span title="(Kinds.this.Symbol, Kinds.this.Symbol)" class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">)</span> // ((Argument, Parameter))

  case <span class="keyword">class</span> <a title="class KindErrors extends Object with ScalaObject with Product with Serializable" id="88379">KindErrors</a><a href="#88379" title="ScalaObject" class="delimiter">(</a>
         <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87266">arity</a>: <span title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</span><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <span title="object Nil">Nil</span>,
      <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87267">variance</a>: <span title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</span><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <span title="object Nil">Nil</span>,
    <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87268">strictness</a>: <span title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</span><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
  <span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="87252">isEmpty</a> = <a href="#87266" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#87267" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#87268" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="87253">arityError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="87293">syms</a>: <span title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</span><span class="delimiter">)</span>      = <a href="#88379" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">copy</a><span class="delimiter">(</span>arity = <a href="#87266" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <span title="(elem: (Kinds.this.Symbol, Kinds.this.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">:+</span> <a href="#87293" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="87254">varianceError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="87369">syms</a>: <span title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</span><span class="delimiter">)</span>   = <a href="#87266" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87421">copy</a><span class="delimiter">(</span>variance = <a href="#87267" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87419">:+</a> <a href="#87369" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="87255">strictnessError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="87422">syms</a>: <span title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</span><span class="delimiter">)</span> = <a href="#87266" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87471">copy</a><span class="delimiter">(</span>strictness = <a href="#87268" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87469">:+</a> <a href="#87422" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(errs: Kinds.this.KindErrors)Kinds.this.KindErrors" id="87256">++</a><span class="delimiter">(</span><a title="Kinds.this.KindErrors" id="87472">errs</a>: <a href="#88379" title="Kinds.this.KindErrors">KindErrors</a><span class="delimiter">)</span> = <a href="#88379" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">KindErrors</a><span class="delimiter">(</span>
      <a href="#87266" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <span title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</span> <a href="#87472" title="Kinds.this.KindErrors">errs</a>.<a href="#87266" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>,
      <a href="#87267" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <span title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</span> <a href="#87472" title="Kinds.this.KindErrors">errs</a>.<a href="#87267" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>,
      <a href="#87268" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <span title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</span> <a href="#87472" title="Kinds.this.KindErrors">errs</a>.<a href="#87268" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>
    <span class="delimiter">)</span>
    // @M TODO this method is duplicated all over the place (varianceString)
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: Kinds.this.Symbol)String" id="87257">varStr</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87634">s</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87634" title="Kinds.this.Symbol">s</a>.<a href="Symbols.scala.html#47768" title="=&gt; Boolean">isCovariant</a><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87634" title="Kinds.this.Symbol">s</a>.<a href="Symbols.scala.html#47766" title="=&gt; Boolean">isContravariant</a><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
      <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String" id="87258">qualify</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87642">a0</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87643">b0</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87642" title="Kinds.this.Symbol">a0</a>.<a href="Symbols.scala.html#48046" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#87643" title="Kinds.this.Symbol">b0</a>.<a href="Symbols.scala.html#48046" title="()String">toString</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#87642" title="Kinds.this.Symbol">a0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#87643" title="Kinds.this.Symbol">b0</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#87642" title="Kinds.this.Symbol">a0</a>.<a href="Symbols.scala.html#47876" title="=&gt; Kinds.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#87643" title="Kinds.this.Symbol">b0</a>.<a href="Symbols.scala.html#47876" title="=&gt; Kinds.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Kinds.this.Symbol" id="87652">a</a> = <a href="#87642" title="Kinds.this.Symbol">a0</a>; <span class="keyword">var</span> <a title="Kinds.this.Symbol" id="87653">b</a> = <a href="#87643" title="Kinds.this.Symbol">b0</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#87652" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#47876" title="=&gt; Kinds.this.Symbol">owner</a>.<a href="Symbols.scala.html#47883" title="=&gt; Kinds.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87653" title="Kinds.this.Symbol">b</a>.<a href="Symbols.scala.html#47876" title="=&gt; Kinds.this.Symbol">owner</a>.<a href="Symbols.scala.html#47883" title="=&gt; Kinds.this.Name">name</a><span class="delimiter">)</span> <a href="#87654" title="()Unit" class="delimiter">{</a> <a href="#87652" title="Kinds.this.Symbol">a</a> = <a href="#87652" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#47876" title="=&gt; Kinds.this.Symbol">owner</a>; <a href="#87653" title="Kinds.this.Symbol">b</a> = <a href="#87653" title="Kinds.this.Symbol">b</a>.<a href="Symbols.scala.html#47876" title="=&gt; Kinds.this.Symbol">owner</a><span class="delimiter">}</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87652" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#48048" title="=&gt; String">locationString</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="String(&quot; (&quot;)" class="string">&quot; (&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87652" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#48048" title="=&gt; String">locationString</a>.<span title="()String">trim</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String" id="87259">kindMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87668">a</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87669">p</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(String, String) =&gt; String" id="87670">f</a>: <span class="delimiter">(</span>String, String<span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span>: <span title="String">String</span> =
      <a href="#87670" title="(v1: String, v2: String)String">f</a><span class="delimiter">(</span><a href="#87668" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><span title="(other: String)String">+</span><a href="#87258" title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#87668" title="Kinds.this.Symbol">a</a>,<a href="#87669" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span>, <a href="#87669" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">p</a><span title="(other: String)String">+</span><a href="#87258" title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#87669" title="Kinds.this.Symbol">p</a>,<a href="#87668" title="Kinds.this.Symbol">a</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="87260">strictnessMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87680">a</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87681">p</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#87259" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#87680" title="Kinds.this.Symbol">a</a>, <a href="#87681" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s's bounds %s are stricter than %s's declared bounds %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
        <a href="#87685" title="String">_</a>, <a href="#87680" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#47920" title="=&gt; Kinds.this.Type">info</a>, <a href="#87686" title="String">_</a>, <a href="#87681" title="Kinds.this.Symbol">p</a>.<a href="Symbols.scala.html#47920" title="=&gt; Kinds.this.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="87261">varianceMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87692">a</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87693">p</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#87259" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#87692" title="Kinds.this.Symbol">a</a>, <a href="#87693" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s is %s, but %s is declared %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#87697" title="String">_</a>, <a href="#87257" title="(s: Kinds.this.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#87692" title="Kinds.this.Symbol">a</a><span class="delimiter">)</span>, <a href="#87698" title="String">_</a>, <a href="#87257" title="(s: Kinds.this.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#87693" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="87262">arityMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87702">a</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87703">p</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#87259" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#87702" title="Kinds.this.Symbol">a</a>, <a href="#87703" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has %s, but %s has %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
        <a href="#87707" title="String">_</a>, <a href="../../tools/util/StringOps.scala.html#87235" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#87702" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span>,
        <a href="#87708" title="String">_</a>, <a href="../../tools/util/StringOps.scala.html#87236" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#87703" title="Kinds.this.Symbol">p</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(targ: Kinds.this.Type, tparam: Kinds.this.Symbol)String" id="87263">errorMessage</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="87719">targ</a>: <a href="Types.scala.html#40083" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="87720">tparam</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">(</span>
        <span class="delimiter">(</span><a href="#87719" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">targ</a><span title="(other: String)String">+</span><span title="String(&quot;\'s type parameters do not match &quot;)" class="string">&quot;'s type parameters do not match &quot;</span><span title="(x$1: Any)String">+</span><a href="#87720" title="Kinds.this.Symbol">tparam</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\'s expected parameters: &quot;)" class="string">&quot;'s expected parameters: &quot;</span><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#87266" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <span title="(f: ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],String,List[String]])List[String]">map</span> <a href="#87740" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="Kinds.this.Symbol" id="87743">a</a>, <a title="Kinds.this.Symbol" id="87744">p</a><span class="delimiter">)</span> =&gt; <a href="#87262" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">arityMessage</a><span class="delimiter">(</span><a href="#87743" title="Kinds.this.Symbol">a</a>, <a href="#87744" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#87267" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <span title="(f: ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],String,List[String]])List[String]">map</span> <a href="#87791" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="Kinds.this.Symbol" id="87794">a</a>, <a title="Kinds.this.Symbol" id="87795">p</a><span class="delimiter">)</span> =&gt; <a href="#87261" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">varianceMessage</a><span class="delimiter">(</span><a href="#87794" title="Kinds.this.Symbol">a</a>, <a href="#87795" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#87268" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <span title="(f: ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],String,List[String]])List[String]">map</span> <a href="#87842" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="Kinds.this.Symbol" id="87845">a</a>, <a title="Kinds.this.Symbol" id="87846">p</a><span class="delimiter">)</span> =&gt; <a href="#87260" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">strictnessMessage</a><span class="delimiter">(</span><a href="#87845" title="Kinds.this.Symbol">a</a>, <a href="#87846" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">val</span> <a title="Kinds.this.KindErrors" id="40414">NoKindErrors</a> = <a href="#88379" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">KindErrors</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>

  // TODO: this desperately needs to be cleaned up
  // plan: split into kind inference and subkinding
  // every Type has a (cached) Kind
  <span class="keyword">def</span> <a title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol)Boolean" id="40416">kindsConform</a><span class="delimiter">(</span><a title="List[Kinds.this.Symbol]" id="87910">tparams</a>: <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Kinds.this.Type]" id="87911">targs</a>: <span title="List[Kinds.this.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Kinds.this.Type" id="87912">pre</a>: <a href="Types.scala.html#40083" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="87913">owner</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#40418" title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol, explainErrors: Boolean)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">checkKindBounds0</a><span class="delimiter">(</span><a href="#87910" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#87911" title="List[Kinds.this.Type]">targs</a>, <a href="#87912" title="Kinds.this.Type">pre</a>, <a href="#87913" title="Kinds.this.Symbol">owner</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span>

  /** Check whether `sym1`'s variance conforms to `sym2`'s variance.
   *
   *  If `sym2` is invariant, `sym1`'s variance is irrelevant. Otherwise they must be equal.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym1: Kinds.this.Symbol, sym2: Kinds.this.Symbol)Boolean" id="40417">variancesMatch</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87922">sym1</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87923">sym2</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#87923" title="Kinds.this.Symbol">sym2</a>.<a href="Symbols.scala.html#47874" title="=&gt; Int">variance</a><span title="(x: Int)Boolean">==</span><span title="Int(0)" class="int">0</span>
    <span title="(x: Boolean)Boolean">||</span> <a href="#87922" title="Kinds.this.Symbol">sym1</a>.<a href="Symbols.scala.html#47874" title="=&gt; Int">variance</a><span title="(x: Int)Boolean">==</span><a href="#87923" title="Kinds.this.Symbol">sym2</a>.<a href="Symbols.scala.html#47874" title="=&gt; Int">variance</a>
  <span class="delimiter">)</span>

  /** Check well-kindedness of type application (assumes arities are already checked) -- @M
   *
   * This check is also performed when abstract type members become concrete (aka a &quot;type alias&quot;) -- then tparams.length==1
   * (checked one type member at a time -- in that case, prefix is the name of the type alias)
   *
   * Type application is just like value application: it's &quot;contravariant&quot; in the sense that
   * the type parameters of the supplied type arguments must conform to the type parameters of
   * the required type parameters:
   *   - their bounds must be less strict
   *   - variances must match (here, variances are absolute, the variance of a type parameter does not influence the variance of its higher-order parameters)
   *   - @M TODO: are these conditions correct,sufficient&amp;necessary?
   *
   *  e.g. class Iterable[t, m[+x &lt;: t]] --&gt; the application Iterable[Int, List] is okay, since
   *       List's type parameter is also covariant and its bounds are weaker than &lt;: Int
   */
  <span class="keyword">def</span> <a title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol, explainErrors: Boolean)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" id="40418">checkKindBounds0</a><span class="delimiter">(</span>
    <a title="List[Kinds.this.Symbol]" id="87915">tparams</a>: <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
    <a title="List[Kinds.this.Type]" id="87916">targs</a>: <span title="List[Kinds.this.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>,
    <a title="Kinds.this.Type" id="87917">pre</a>: <a href="Types.scala.html#40083" title="Kinds.this.Type">Type</a>,
    <a title="Kinds.this.Symbol" id="87918">owner</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>,
    <a title="Boolean" id="87919">explainErrors</a>: <span title="Boolean">Boolean</span>
  <span class="delimiter">)</span>: <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Type, Symbol, KindErrors<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    // instantiate type params that come from outside the abstract type we're currently checking
    <span class="keyword">def</span> <a title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type" id="87938">transform</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="87940">tp</a>: <a href="Types.scala.html#40083" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="87941">clazz</a>: <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Types.scala.html#40083" title="Kinds.this.Type">Type</a> = <a href="#87940" title="Kinds.this.Type">tp</a>.<a href="Types.scala.html#42778" title="(pre: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#87917" title="Kinds.this.Type">pre</a>, <a href="#87941" title="Kinds.this.Symbol">clazz</a><span class="delimiter">)</span>

    // check that the type parameters hkargs to a higher-kinded type conform to the
    // expected params hkparams
    <span class="keyword">def</span> <a title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors" id="87939">checkKindBoundsHK</a><span class="delimiter">(</span>
      <a title="List[Kinds.this.Symbol]" id="87946">hkargs</a>:        <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="Kinds.this.Symbol" id="87947">arg</a>:           <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>,
      <a title="Kinds.this.Symbol" id="87948">param</a>:         <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>,
      <a title="Kinds.this.Symbol" id="87949">paramowner</a>:    <a href="Symbols.scala.html#40001" title="Kinds.this.Symbol">Symbol</a>,
      <a title="List[Kinds.this.Symbol]" id="87950">underHKParams</a>: <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="List[Kinds.this.Symbol]" id="87951">withHKArgs</a>:    <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
    <span class="delimiter">)</span>: <a href="#88379" title="Kinds.this.KindErrors">KindErrors</a> = <span class="delimiter">{</span>

      <span class="keyword">var</span> <a title="Kinds.this.KindErrors" id="87952">kindErrors</a>: <a href="#88379" title="Kinds.this.KindErrors">KindErrors</a> = <a href="#40414" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
      <span class="keyword">def</span> <a title="(tp: Kinds.this.Type)Kinds.this.Type" id="87953">bindHKParams</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="87956">tp</a>: <a href="Types.scala.html#40083" title="Kinds.this.Type">Type</a><span class="delimiter">)</span> = <a href="#87956" title="Kinds.this.Type">tp</a>.<a href="Types.scala.html#42783" title="(from: List[Kinds.this.Symbol], to: List[Kinds.this.Symbol])Kinds.this.Type">substSym</a><span class="delimiter">(</span><a href="#87950" title="List[Kinds.this.Symbol]">underHKParams</a>, <a href="#87951" title="List[Kinds.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      // @M sometimes hkargs != arg.typeParams, the symbol and the type may
      // have very different type parameters
      <span class="keyword">val</span> <a title="List[Kinds.this.Symbol]" id="87954">hkparams</a> = <a href="#87948" title="Kinds.this.Symbol">param</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
      
      <span class="keyword">def</span> <a title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit" id="87955">kindCheck</a><span class="delimiter">(</span><a title="Boolean" id="87962">cond</a>: <span title="Boolean">Boolean</span>, <a title="Kinds.this.KindErrors =&gt; Kinds.this.KindErrors" id="87963">f</a>: KindErrors =&gt; KindErrors<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#87962" title="Boolean">cond</a><span class="delimiter">)</span>
          <a href="#87952" title="Kinds.this.KindErrors">kindErrors</a> = <a href="#87963" title="(v1: Kinds.this.KindErrors)Kinds.this.KindErrors">f</a><span class="delimiter">(</span><a href="#87952" title="Kinds.this.KindErrors">kindErrors</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Required.scala.html#40687" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#75538" title="=&gt; scala.reflect.internal.settings.MutableSettings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#75565" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="SymbolTable.scala.html#36938" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK expected: &quot;)" class="string">&quot;checkKindBoundsHK expected: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87948" title="Kinds.this.Symbol">param</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87954" title="List[Kinds.this.Symbol]">hkparams</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; by definition in &quot;)" class="string">&quot; by definition in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87949" title="Kinds.this.Symbol">paramowner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#36938" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK supplied: &quot;)" class="string">&quot;checkKindBoundsHK supplied: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87947" title="Kinds.this.Symbol">arg</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87946" title="List[Kinds.this.Symbol]">hkargs</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; from &quot;)" class="string">&quot; from &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87918" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#36938" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK under params: &quot;)" class="string">&quot;checkKindBoundsHK under params: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87950" title="List[Kinds.this.Symbol]">underHKParams</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with args &quot;)" class="string">&quot; with args &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87951" title="List[Kinds.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Types.scala.html#40309" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#87946" title="List[Kinds.this.Symbol]">hkargs</a>, <a href="#87954" title="List[Kinds.this.Symbol]">hkparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // Any and Nothing are kind-overloaded
        <span title="Kinds.this.KindErrors" class="keyword">if</span> <span class="delimiter">(</span><a href="#87947" title="Kinds.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#46274" title="=&gt; Kinds.this.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#87947" title="Kinds.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#46289" title="object Kinds.this.definitions.NothingClass">NothingClass</a><span class="delimiter">)</span> <a href="#40414" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
        // shortcut: always set error, whether explainTypesOrNot
        <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="#87952" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#87253" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">arityError</a><span class="delimiter">(</span><a href="#87947" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">arg</a> <span title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</span> <a href="#87948" title="Kinds.this.Symbol">param</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="util/Collections.scala.html#39613" title="(xs1: List[Kinds.this.Symbol], xs2: List[Kinds.this.Symbol])(f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#87946" title="List[Kinds.this.Symbol]">hkargs</a>, <a href="#87954" title="List[Kinds.this.Symbol]">hkparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Kinds.this.Symbol" id="88069">hkarg</a>, <a title="Kinds.this.Symbol" id="88070">hkparam</a><span class="delimiter">)</span> =&gt;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#88070" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#88069" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // base-case: kind *
          <a href="#87955" title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit">kindCheck</a><span class="delimiter">(</span><a href="#40417" title="(sym1: Kinds.this.Symbol, sym2: Kinds.this.Symbol)Boolean">variancesMatch</a><span class="delimiter">(</span><a href="#88069" title="Kinds.this.Symbol">hkarg</a>, <a href="#88070" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span>, <a href="#88077" title="Kinds.this.KindErrors">_</a> <a href="#87254" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">varianceError</a> <span class="delimiter">(</span><a href="#88069" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">hkarg</a> <span title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</span> <a href="#88070" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // instantiateTypeParams(tparams, targs)
          //   higher-order bounds, may contain references to type arguments
          // substSym(hkparams, hkargs)
          //   these types are going to be compared as types of kind *
          //
          // Their arguments use different symbols, but are
          // conceptually the same. Could also replace the types by
          // polytypes, but can't just strip the symbols, as ordering
          // is lost then.
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="88073">declaredBounds</a>     = <a href="#87938" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#88070" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#47920" title="=&gt; Kinds.this.Type">info</a>.<a href="Types.scala.html#42755" title="(formals: List[Kinds.this.Symbol], actuals: List[Kinds.this.Type])Kinds.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#87915" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#87916" title="List[Kinds.this.Type]">targs</a><span class="delimiter">)</span>.<a href="Types.scala.html#42736" title="=&gt; Kinds.this.TypeBounds">bounds</a>, <a href="#87949" title="Kinds.this.Symbol">paramowner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="88074">declaredBoundsInst</a> = <a href="#87938" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#87953" title="(tp: Kinds.this.Type)Kinds.this.Type">bindHKParams</a><span class="delimiter">(</span><a href="#88073" title="Kinds.this.Type">declaredBounds</a><span class="delimiter">)</span>, <a href="#87918" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="88075">argumentBounds</a>     = <a href="#87938" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#88069" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#47920" title="=&gt; Kinds.this.Type">info</a>.<a href="Types.scala.html#42736" title="=&gt; Kinds.this.TypeBounds">bounds</a>, <a href="#87918" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>

          <a href="#87955" title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit">kindCheck</a><span class="delimiter">(</span><a href="#88074" title="Kinds.this.Type">declaredBoundsInst</a> <a href="Types.scala.html#42795" title="(that: Kinds.this.Type)Boolean">&lt;:&lt;</a> <a href="#88075" title="Kinds.this.Type">argumentBounds</a>, <a href="#88104" title="Kinds.this.KindErrors">_</a> <a href="#87255" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">strictnessError</a> <span class="delimiter">(</span><a href="#88069" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">hkarg</a> <span title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</span> <a href="#88070" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="SymbolTable.scala.html#36941" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#88070" title="Kinds.this.Symbol">hkparam</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; declared bounds: &quot;)" class="string">&quot; declared bounds: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#88073" title="Kinds.this.Type">declaredBounds</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; after instantiating earlier hkparams: &quot;)" class="string">&quot; after instantiating earlier hkparams: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#88074" title="Kinds.this.Type">declaredBoundsInst</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#88069" title="Kinds.this.Symbol">hkarg</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; has bounds: &quot;)" class="string">&quot; has bounds: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#88075" title="Kinds.this.Type">argumentBounds</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="SymbolTable.scala.html#36941" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK recursing to compare params of &quot;)" class="string">&quot;checkKindBoundsHK recursing to compare params of &quot;</span><span title="(x$1: Any)String">+</span> <a href="#88070" title="Kinds.this.Symbol">hkparam</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span><span title="(x$1: Any)String">+</span> <a href="#88069" title="Kinds.this.Symbol">hkarg</a><span class="delimiter">)</span>
          <a href="#87952" title="Kinds.this.KindErrors">kindErrors</a> <a href="#87256" title="(errs: Kinds.this.KindErrors)Kinds.this.KindErrors">++=</a> <a href="#87939" title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors">checkKindBoundsHK</a><span class="delimiter">(</span>
            <a href="#88069" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>,
            <a href="#88069" title="Kinds.this.Symbol">hkarg</a>,
            <a href="#88070" title="Kinds.this.Symbol">hkparam</a>,
            <a href="#87949" title="Kinds.this.Symbol">paramowner</a>,
            <a href="#87950" title="List[Kinds.this.Symbol]">underHKParams</a> <span title="(that: scala.collection.GenTraversableOnce[Kinds.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Kinds.this.Symbol],Kinds.this.Symbol,List[Kinds.this.Symbol]])List[Kinds.this.Symbol]">++</span> <a href="#88070" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>,
            <a href="#87951" title="List[Kinds.this.Symbol]">withHKArgs</a> <span title="(that: scala.collection.GenTraversableOnce[Kinds.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Kinds.this.Symbol],Kinds.this.Symbol,List[Kinds.this.Symbol]])List[Kinds.this.Symbol]">++</span> <a href="#88069" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#87919" title="Boolean">explainErrors</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#87952" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#87252" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#87952" title="Kinds.this.KindErrors">kindErrors</a>
      <span class="delimiter">}</span>
      <span title="Kinds.this.KindErrors" class="keyword">if</span> <span class="delimiter">(</span><a href="#87919" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#87952" title="Kinds.this.KindErrors">kindErrors</a>
      <span class="keyword">else</span> <a href="#40414" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Required.scala.html#40687" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#75538" title="=&gt; scala.reflect.internal.settings.MutableSettings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#75565" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#87915" title="List[Kinds.this.Symbol]">tparams</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#87916" title="List[Kinds.this.Type]">targs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="SymbolTable.scala.html#36938" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
      <span title="String(&quot;checkKindBounds0(&quot;)" class="string">&quot;checkKindBounds0(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87915" title="List[Kinds.this.Symbol]">tparams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87916" title="List[Kinds.this.Type]">targs</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87917" title="Kinds.this.Type">pre</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
      <span title="(x$1: Any)String">+</span> <a href="#87918" title="Kinds.this.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87919" title="Boolean">explainErrors</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    <span class="delimiter">)</span>

    <a href="util/Collections.scala.html#39594" title="(xs1: List[Kinds.this.Symbol], xs2: List[Kinds.this.Type])(f: (Kinds.this.Symbol, Kinds.this.Type) =&gt; List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)])List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">flatMap2</a><span class="delimiter">(</span><a href="#87915" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#87916" title="List[Kinds.this.Type]">targs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Kinds.this.Symbol" id="88292">tparam</a>, <a title="Kinds.this.Type" id="88293">targ</a><span class="delimiter">)</span> =&gt;
      // Prevent WildcardType from causing kind errors, as typevars may be higher-order
      <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#88293" title="Kinds.this.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Types.scala.html#40092" title="object Kinds.this.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // force symbol load for #4205
        <a href="#88293" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#42730" title="=&gt; Kinds.this.Symbol">typeSymbolDirect</a>.<a href="Symbols.scala.html#47920" title="=&gt; Kinds.this.Type">info</a>
        // @M must use the typeParams of the *type* targ, not of the *symbol* of targ!!
        <span class="keyword">val</span> <a title="List[Kinds.this.Symbol]" id="88298">tparamsHO</a> = <a href="#88293" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#42752" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
        <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#88293" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#42714" title="=&gt; Boolean">isHigherKinded</a> <span title="(x: Boolean)Boolean">||</span> <a href="#88292" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // NOTE: *not* targ.typeSymbol, which normalizes
          <span class="keyword">val</span> <a title="Kinds.this.KindErrors" id="88303">kindErrors</a> = <a href="#87939" title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors">checkKindBoundsHK</a><span class="delimiter">(</span>
            <a href="#88298" title="List[Kinds.this.Symbol]">tparamsHO</a>, <a href="#88293" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#42730" title="=&gt; Kinds.this.Symbol">typeSymbolDirect</a>, <a href="#88292" title="Kinds.this.Symbol">tparam</a>,
            <a href="#88292" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#47876" title="=&gt; Kinds.this.Symbol">owner</a>, <a href="#88292" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#47940" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>, <a href="#88298" title="List[Kinds.this.Symbol]">tparamsHO</a>
          <span class="delimiter">)</span>
          <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#88303" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#87252" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#87919" title="Boolean">explainErrors</a><span class="delimiter">)</span> <span title="(xs: (Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)*)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">List</span><span class="delimiter">(</span><span title="(_1: Kinds.this.Type, _2: Kinds.this.Symbol, _3: Kinds.this.KindErrors)(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)" class="delimiter">(</span><a href="#88293" title="Kinds.this.Type">targ</a>, <a href="#88292" title="Kinds.this.Symbol">tparam</a>, <a href="#88303" title="Kinds.this.KindErrors">kindErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>
            // Return as soon as an error is seen if there's nothing to explain.
            <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <span title="(xs: (Kinds.this.NoType.type, Kinds.this.NoSymbol.type, Kinds.this.KindErrors)*)List[(Kinds.this.NoType.type, Kinds.this.NoSymbol.type, Kinds.this.KindErrors)]">List</span><span class="delimiter">(</span><span title="(_1: Kinds.this.NoType.type, _2: Kinds.this.NoSymbol.type, _3: Kinds.this.KindErrors)(Kinds.this.NoType.type, Kinds.this.NoSymbol.type, Kinds.this.KindErrors)" class="delimiter">(</span><a href="Types.scala.html#40097" title="object Kinds.this.NoType">NoType</a>, <a href="Symbols.scala.html#40013" title="object Kinds.this.NoSymbol">NoSymbol</a>, <a href="#40414" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="object Nil">Nil</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>