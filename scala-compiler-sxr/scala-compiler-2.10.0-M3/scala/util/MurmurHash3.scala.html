<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/util/MurmurHash3.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.util

<span class="keyword">import</span> java.lang.<span title="Integer.type">Integer</span>.<span class="delimiter">{</span> rotateLeft =&gt; rotl <span class="delimiter">}</span>

/**
 * An implementation of Austin Appleby's MurmurHash 3 algorithm
 * (MurmurHash3_x86_32).
 *
 * An algorithm designed to generate well-distributed non-cryptographic
 * hashes. It is designed to hash data in 32 bit chunks (ints).
 *
 * The mix method needs to be called at each step to update the intermediate
 * hash value. For the last chunk to incorporate into the hash mixLast may
 * be used instead, which is slightly faster. Finally finalizeHash needs to
 * be called to compute the final hash value.
 *
 * This is based on the earlier MurmurHash3 code by Rex Kerr, but the
 * MurmurHash3 algorithm was since changed by its creator Austin Appleby
 * to remedy some weaknesses and improve performance. This represents the
 * latest and supposedly final version of the algortihm (revision 136).
 *
 * @see http://code.google.com/p/smhasher
 */
<span class="keyword">class</span> <a title="class MurmurHash3 extends Object" id="53349">MurmurHash3</a> <a href="#53349" title="scala.util.MurmurHash3" class="delimiter">{</a>
  /** Mix in a block of data into an intermediate hash value. */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hash: Int, data: Int)Int" id="81318">mix</a><span class="delimiter">(</span><a title="Int" id="1237028">hash</a>: <a href="../Int.scala.html#508" title="Int">Int</a>, <a title="Int" id="1237029">data</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1237030">h</a> = <a href="#81319" title="(hash: Int, data: Int)Int">mixLast</a><span class="delimiter">(</span><a href="#1237028" title="Int">hash</a>, <a href="#1237029" title="Int">data</a><span class="delimiter">)</span>
    <a href="#1237030" title="Int">h</a> = <span title="(x$1: Int, x$2: Int)Int">rotl</span><span class="delimiter">(</span><a href="#1237030" title="Int">h</a>, <span title="Int(13)" class="int">13</span><span class="delimiter">)</span>
    <a href="#1237030" title="Int">h</a> <a href="../Int.scala.html#57962" title="(x: Int)Int">*</a> <span title="Int(5)" class="int">5</span> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(-430675100)" class="int">0xe6546b64</span>
  <span class="delimiter">}</span>

  /** May optionally be used as the last mixing step. Is a little bit faster than mix,
   *  as it does no further mixing of the resulting hash. For the last element this is not
   *  necessary as the hash is thoroughly mixed during finalization anyway. */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hash: Int, data: Int)Int" id="81319">mixLast</a><span class="delimiter">(</span><a title="Int" id="1237031">hash</a>: <a href="../Int.scala.html#508" title="Int">Int</a>, <a title="Int" id="1237032">data</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1237042">k</a> = <a href="#1237032" title="Int">data</a>

    <a href="#1237042" title="Int">k</a> <a href="../Int.scala.html#57962" title="(x: Int)Int">*=</a> <span title="Int(-862048943)" class="int">0xcc9e2d51</span>
    <a href="#1237042" title="Int">k</a> = <span title="(x$1: Int, x$2: Int)Int">rotl</span><span class="delimiter">(</span><a href="#1237042" title="Int">k</a>, <span title="Int(15)" class="int">15</span><span class="delimiter">)</span>
    <a href="#1237042" title="Int">k</a> <a href="../Int.scala.html#57962" title="(x: Int)Int">*=</a> <span title="Int(461845907)" class="int">0x1b873593</span>

    <a href="#1237031" title="Int">hash</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^</a> <a href="#1237042" title="Int">k</a>
  <span class="delimiter">}</span>

  /** Finalize a hash to incorporate the length and make sure all bits avalanche. */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hash: Int, length: Int)Int" id="81320">finalizeHash</a><span class="delimiter">(</span><a title="Int" id="1237059">hash</a>: <a href="../Int.scala.html#508" title="Int">Int</a>, <a title="Int" id="1237060">length</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <a href="#81321" title="(hash: Int)Int">avalanche</a><span class="delimiter">(</span><a href="#1237059" title="Int">hash</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^</a> <a href="#1237060" title="Int">length</a><span class="delimiter">)</span>

  /** Force all bits of the hash to avalanche. Used for finalizing the hash. */
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(hash: Int)Int" id="81321">avalanche</a><span class="delimiter">(</span><a title="Int" id="1237061">hash</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1237066">h</a> = <a href="#1237061" title="Int">hash</a>

    <a href="#1237066" title="Int">h</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^=</a> <a href="#1237066" title="Int">h</a> <a href="../Int.scala.html#57884" title="(x: Int)Int">&gt;&gt;&gt;</a> <span title="Int(16)" class="int">16</span>
    <a href="#1237066" title="Int">h</a> <a href="../Int.scala.html#57962" title="(x: Int)Int">*=</a> <span title="Int(-2048144789)" class="int">0x85ebca6b</span>
    <a href="#1237066" title="Int">h</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^=</a> <a href="#1237066" title="Int">h</a> <a href="../Int.scala.html#57884" title="(x: Int)Int">&gt;&gt;&gt;</a> <span title="Int(13)" class="int">13</span>
    <a href="#1237066" title="Int">h</a> <a href="../Int.scala.html#57962" title="(x: Int)Int">*=</a> <span title="Int(-1028477387)" class="int">0xc2b2ae35</span>
    <a href="#1237066" title="Int">h</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^=</a> <a href="#1237066" title="Int">h</a> <a href="../Int.scala.html#57884" title="(x: Int)Int">&gt;&gt;&gt;</a> <span title="Int(16)" class="int">16</span>

    <a href="#1237066" title="Int">h</a>
  <span class="delimiter">}</span>

  /** Compute the hash of a product */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(x: Product, seed: Int)Int" id="81322">productHash</a><span class="delimiter">(</span><a title="Product" id="601442">x</a>: <a href="../Product.scala.html#304" title="Product">Product</a>, <a title="Int" id="601443">seed</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="1237109">arr</a> = <a href="#601442" title="Product">x</a>.<a href="../Product.scala.html#23429" title="=&gt; Int">productArity</a>
    // Case objects have the hashCode inlined directly into the
    // synthetic hashCode method, but this method should still give
    // a correct result if passed a case object.
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1237109" title="Int">arr</a> <a href="../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#601442" title="Product">x</a>.<a href="../Product.scala.html#23431" title="=&gt; String">productPrefix</a>.<span title="()Int">hashCode</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1237115">h</a> = <a href="#601443" title="Int">seed</a>
      <span class="keyword">var</span> <a title="Int" id="1237116">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1237116" title="Int">i</a> <a href="../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <a href="#1237109" title="Int">arr</a><span class="delimiter">)</span> <a href="#1237117" title="()Unit" class="delimiter">{</a>
        <a href="#1237115" title="Int">h</a> = <a href="#81318" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#1237115" title="Int">h</a>, <a href="#601442" title="Product">x</a>.<a href="../Product.scala.html#23428" title="(n: Int)Any">productElement</a><span class="delimiter">(</span><a href="#1237116" title="Int">i</a><span class="delimiter">)</span>.<span title="()Int">##</span><span class="delimiter">)</span>
        <a href="#1237116" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#81320" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#1237115" title="Int">h</a>, <a href="#1237109" title="Int">arr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Compute the hash of a string */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(str: String, seed: Int)Int" id="81323">stringHash</a><span class="delimiter">(</span><a title="String" id="1237128">str</a>: <span title="String">String</span>, <a title="Int" id="1237129">seed</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1237130">h</a> = <a href="#1237129" title="Int">seed</a>
    <span class="keyword">var</span> <a title="Int" id="1237131">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1237131" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span> <a href="../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <a href="#1237128" title="String">str</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#1237132" title="()Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <a title="Int" id="1237141">data</a> = <span class="delimiter">(</span><a href="#1237128" title="String">str</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><a href="#1237131" title="Int">i</a><span class="delimiter">)</span> <a href="../Char.scala.html#58033" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(16)" class="int">16</span><span class="delimiter">)</span> <a href="../Int.scala.html#57947" title="(x: Char)Int">+</a> <a href="#1237128" title="String">str</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><a href="#1237131" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#1237130" title="Int">h</a> = <a href="#81318" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#1237130" title="Int">h</a>, <a href="#1237141" title="Int">data</a><span class="delimiter">)</span>
      <a href="#1237131" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(2)" class="int">2</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1237131" title="Int">i</a> <a href="../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <a href="#1237128" title="String">str</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="#1237130" title="Int">h</a> = <a href="#81319" title="(hash: Int, data: Int)Int">mixLast</a><span class="delimiter">(</span><a href="#1237130" title="Int">h</a>, <a href="#1237128" title="String">str</a>.<span title="(x$1: Int)Char">charAt</span><a href="../Char.scala.html#58025" title="=&gt; Int" class="delimiter">(</a><a href="#1237131" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#81320" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#1237130" title="Int">h</a>, <a href="#1237128" title="String">str</a>.<span title="()Int">length</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Compute a hash that is symmetric in its arguments - that is a hash
   *  where the order of appearance of elements does not matter.
   *  This is useful for hashing sets, for example.
   */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(xs: TraversableOnce[Any], seed: Int)Int" id="81324">unorderedHash</a><span class="delimiter">(</span><a title="TraversableOnce[Any]" id="1237164">xs</a>: <a href="../collection/TraversableOnce.scala.html#5632" title="TraversableOnce[Any]">TraversableOnce</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="Int" id="1237165">seed</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1237166">a</a>, <a title="Int" id="1237167">b</a>, <a title="Int" id="1237168">n</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">var</span> <a title="Int" id="1237169">c</a> = <span title="Int(1)" class="int">1</span>
    <a href="#1237164" title="TraversableOnce[Any]">xs</a> <a href="../collection/TraversableOnce.scala.html#59088" title="(f: Any =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Any" id="1237177">x</a> =&gt;
      <span class="keyword">val</span> <a title="Int" id="1237178">h</a> = <a href="#1237177" title="Any">x</a>.<span title="()Int">##</span>
      <a href="#1237166" title="Int">a</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+=</a> <a href="#1237178" title="Int">h</a>
      <a href="#1237167" title="Int">b</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^=</a> <a href="#1237178" title="Int">h</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1237178" title="Int">h</a> <a href="../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1237169" title="Int">c</a> <a href="../Int.scala.html#57962" title="(x: Int)Int">*=</a> <a href="#1237178" title="Int">h</a>
      <a href="#1237168" title="Int">n</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span class="keyword">var</span> <a title="Int" id="1237170">h</a> = <a href="#1237165" title="Int">seed</a>
    <a href="#1237170" title="Int">h</a> = <a href="#81318" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#1237170" title="Int">h</a>, <a href="#1237166" title="Int">a</a><span class="delimiter">)</span>
    <a href="#1237170" title="Int">h</a> = <a href="#81318" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#1237170" title="Int">h</a>, <a href="#1237167" title="Int">b</a><span class="delimiter">)</span>
    <a href="#1237170" title="Int">h</a> = <a href="#81319" title="(hash: Int, data: Int)Int">mixLast</a><span class="delimiter">(</span><a href="#1237170" title="Int">h</a>, <a href="#1237169" title="Int">c</a><span class="delimiter">)</span>
    <a href="#81320" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#1237170" title="Int">h</a>, <a href="#1237168" title="Int">n</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  /** Compute a hash that depends on the order of its arguments.
   */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(xs: TraversableOnce[Any], seed: Int)Int" id="81325">orderedHash</a><span class="delimiter">(</span><a title="TraversableOnce[Any]" id="1237208">xs</a>: <a href="../collection/TraversableOnce.scala.html#5632" title="TraversableOnce[Any]">TraversableOnce</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="Int" id="1237209">seed</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1237210">n</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">var</span> <a title="Int" id="1237211">h</a> = <a href="#1237209" title="Int">seed</a>
    <a href="#1237208" title="TraversableOnce[Any]">xs</a> <a href="../collection/TraversableOnce.scala.html#59088" title="(f: Any =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Any" id="1237218">x</a> =&gt;
      <a href="#1237211" title="Int">h</a> = <a href="#81318" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#1237211" title="Int">h</a>, <a href="#1237218" title="Any">x</a>.<span title="()Int">##</span><span class="delimiter">)</span>
      <a href="#1237210" title="Int">n</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <a href="#81320" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#1237211" title="Int">h</a>, <a href="#1237210" title="Int">n</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Compute the hash of an array.
   */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](a: Array[T], seed: Int)Int" id="81326">arrayHash</a><span class="delimiter">[</span>@specialized <a title="" id="81328">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[T]" id="1237226">a</a>: <a href="../Array.scala.html#292" title="Array[T]">Array</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Int" id="1237227">seed</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1237237">h</a> = <a href="#1237227" title="Int">seed</a>
    <span class="keyword">var</span> <a title="Int" id="1237238">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1237238" title="Int">i</a> <a href="../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <a href="#1237226" title="Array[T]">a</a>.<a href="../Array.scala.html#57449" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#1237239" title="()Unit" class="delimiter">{</a>
      <a href="#1237237" title="Int">h</a> = <a href="#81318" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#1237237" title="Int">h</a>, <a href="../Array.scala.html#57450" title="(i: Int)T">a</a><span class="delimiter">(</span><a href="#1237238" title="Int">i</a><span class="delimiter">)</span>.<span title="()Int">##</span><span class="delimiter">)</span>
      <a href="#1237238" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <a href="#81320" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#1237237" title="Int">h</a>, <a href="#1237226" title="Array[T]">a</a>.<a href="../Array.scala.html#57449" title="=&gt; Int">length</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Compute the hash of a byte array. Faster than arrayHash, because
   *  it hashes 4 bytes at once.
   */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(data: Array[Byte], seed: Int)Int" id="81329">bytesHash</a><span class="delimiter">(</span><a title="Array[Byte]" id="1237250">data</a>: <a href="../Array.scala.html#292" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="Int" id="1237251">seed</a>: <a href="../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="1237252">len</a> = <a href="#1237250" title="Array[Byte]">data</a>.<a href="../Array.scala.html#57449" title="=&gt; Int">length</a>
    <span class="keyword">var</span> <a title="Int" id="1237253">h</a> = <a href="#1237251" title="Int">seed</a>

    // Body
    <span class="keyword">var</span> <a title="Int" id="1237254">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#1237252" title="Int">len</a> <a href="../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span> <a href="#1237256" title="()Unit" class="delimiter">{</a>
      <span class="keyword">var</span> <a title="Int" id="1237261">k</a> = <a href="../Array.scala.html#57450" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#1237254" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../Byte.scala.html#57634" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span>
      <a href="#1237261" title="Int">k</a> <a href="../Int.scala.html#57933" title="(x: Int)Int">|=</a> <span class="delimiter">(</span><a href="../Array.scala.html#57450" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#1237254" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../Byte.scala.html#57634" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#57882" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(8)" class="int">8</span>
      <a href="#1237261" title="Int">k</a> <a href="../Int.scala.html#57933" title="(x: Int)Int">|=</a> <span class="delimiter">(</span><a href="../Array.scala.html#57450" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#1237254" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="../Byte.scala.html#57634" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#57882" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(16)" class="int">16</span>
      <a href="#1237261" title="Int">k</a> <a href="../Int.scala.html#57933" title="(x: Int)Int">|=</a> <span class="delimiter">(</span><a href="../Array.scala.html#57450" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#1237254" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span> <a href="../Byte.scala.html#57634" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#57882" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(24)" class="int">24</span>

      <a href="#1237253" title="Int">h</a> = <a href="#81318" title="(hash: Int, data: Int)Int">mix</a><span class="delimiter">(</span><a href="#1237253" title="Int">h</a>, <a href="#1237261" title="Int">k</a><span class="delimiter">)</span>

      <a href="#1237254" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(4)" class="int">4</span>
      <a href="#1237252" title="Int">len</a> <a href="../Int.scala.html#57955" title="(x: Int)Int">-=</a> <span title="Int(4)" class="int">4</span>
    <span class="delimiter">}</span>

    // Tail
    <span class="keyword">var</span> <a title="Int" id="1237255">k</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#1237252" title="Int">len</a> <a href="../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span> <a href="#1237255" title="Int">k</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^=</a> <span class="delimiter">(</span><a href="../Array.scala.html#57450" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#1237254" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="../Byte.scala.html#57634" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#57882" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(16)" class="int">16</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#1237252" title="Int">len</a> <a href="../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#1237255" title="Int">k</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^=</a> <span class="delimiter">(</span><a href="../Array.scala.html#57450" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#1237254" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../Byte.scala.html#57634" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span> <a href="../Int.scala.html#57882" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(8)" class="int">8</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#1237252" title="Int">len</a> <a href="../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#1237255" title="Int">k</a> <a href="../Int.scala.html#57943" title="(x: Int)Int">^=</a> <span class="delimiter">(</span><a href="../Array.scala.html#57450" title="(i: Int)Byte">data</a><span class="delimiter">(</span><a href="#1237254" title="Int">i</a> <a href="../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../Byte.scala.html#57634" title="(x: Int)Int">&amp;</a> <span title="Int(255)" class="int">0xFF</span><span class="delimiter">)</span>
      <a href="#1237253" title="Int">h</a> = <a href="#81319" title="(hash: Int, data: Int)Int">mixLast</a><span class="delimiter">(</span><a href="#1237253" title="Int">h</a>, <a href="#1237255" title="Int">k</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Finalization
    <a href="#81320" title="(hash: Int, length: Int)Int">finalizeHash</a><span class="delimiter">(</span><a href="#1237253" title="Int">h</a>, <a href="#1237250" title="Array[Byte]">data</a>.<a href="../Array.scala.html#57449" title="=&gt; Int">length</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

/**
 * An instance of MurmurHash3 with predefined seeds for various
 * classes.  Used by all the scala collections and case classes.
 */
<span title="Object" class="keyword">object</span> <a title="scala.util.MurmurHash3.type" id="53350">MurmurHash3</a> <a href="#53351" title="scala.util.MurmurHash3.type" class="keyword">extends</a> <a href="#53349" title="scala.util.MurmurHash3">MurmurHash3</a> <span class="delimiter">{</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(1007110753)" id="81331">arraySeed</a>       = <span title="Int(1007110753)" class="int">0x3c074a61</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-137723950)" id="81333">stringSeed</a>      = <span title="Int(-137723950)" class="int">0xf7ca7fd2</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-889275714)" id="81335">productSeed</a>     = <span title="Int(-889275714)" class="int">0xcafebabe</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-1248659538)" id="81337">symmetricSeed</a>   = <span title="Int(-1248659538)" class="int">0xb592f7ae</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-415593707)" id="81339">traversableSeed</a> = <span title="Int(-415593707)" class="int">0xe73a8b15</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="81341">seqSeed</a>         = <span title="String(&quot;Seq&quot;)" class="string">&quot;Seq&quot;</span>.<span title="()Int">hashCode</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="81343">mapSeed</a>         = <span title="String(&quot;Map&quot;)" class="string">&quot;Map&quot;</span>.<span title="()Int">hashCode</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="81345">setSeed</a>         = <span title="String(&quot;Set&quot;)" class="string">&quot;Set&quot;</span>.<span title="()Int">hashCode</span>

  <span class="keyword">def</span> <a title="[T](a: Array[T])Int" id="81347">arrayHash</a><span class="delimiter">[</span>@specialized <a title="" id="81349">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[T]" id="1237403">a</a>: <a href="../Array.scala.html#292" title="Array[T]">Array</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a>  = <a href="#81326" title="(a: Array[T], seed: Int)Int">arrayHash</a><span class="delimiter">(</span><a href="#1237403" title="Array[T]">a</a>, <span title="Int(1007110753)">arraySeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(data: Array[Byte])Int" id="81350">bytesHash</a><span class="delimiter">(</span><a title="Array[Byte]" id="1237429">data</a>: <a href="../Array.scala.html#292" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a>            = <a href="#81329" title="(data: Array[Byte], seed: Int)Int">bytesHash</a><span class="delimiter">(</span><a href="#1237429" title="Array[Byte]">data</a>, <span title="Int(1007110753)">arraySeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(xs: TraversableOnce[Any])Int" id="81351">orderedHash</a><span class="delimiter">(</span><a title="TraversableOnce[Any]" id="1237434">xs</a>: <a href="../collection/TraversableOnce.scala.html#5632" title="TraversableOnce[Any]">TraversableOnce</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a>   = <a href="#81325" title="(xs: TraversableOnce[Any], seed: Int)Int">orderedHash</a><span class="delimiter">(</span><a href="#1237434" title="TraversableOnce[Any]">xs</a>, <span title="Int(-1248659538)">symmetricSeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(x: Product)Int" id="81352">productHash</a><span class="delimiter">(</span><a title="Product" id="601441">x</a>: <a href="../Product.scala.html#304" title="Product">Product</a><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a>                 = <a href="#81322" title="(x: Product, seed: Int)Int">productHash</a><span class="delimiter">(</span><a href="#601441" title="Product">x</a>, <span title="Int(-889275714)">productSeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(x: String)Int" id="81353">stringHash</a><span class="delimiter">(</span><a title="String" id="1237508">x</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a>                   = <a href="#81323" title="(str: String, seed: Int)Int">stringHash</a><span class="delimiter">(</span><a href="#1237508" title="String">x</a>, <span title="Int(-137723950)">stringSeed</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(xs: TraversableOnce[Any])Int" id="81354">unorderedHash</a><span class="delimiter">(</span><a title="TraversableOnce[Any]" id="1237513">xs</a>: <a href="../collection/TraversableOnce.scala.html#5632" title="TraversableOnce[Any]">TraversableOnce</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <a href="#81324" title="(xs: TraversableOnce[Any], seed: Int)Int">unorderedHash</a><span class="delimiter">(</span><a href="#1237513" title="TraversableOnce[Any]">xs</a>, <span title="Int(-415593707)">traversableSeed</span><span class="delimiter">)</span>

  /** To offer some potential for optimization.
   */
  <span class="keyword">def</span> <a title="(xs: Seq[_])Int" id="81355">seqHash</a><span class="delimiter">(</span><a title="Seq[_]" id="112471">xs</a>: collection.<a href="../collection/Seq.scala.html#5620" title="Seq[_]">Seq</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a>    = <a href="#81325" title="(xs: TraversableOnce[Any], seed: Int)Int">orderedHash</a><span class="delimiter">(</span><a href="#112471" title="Seq[_]">xs</a>, <a href="#81341" title="=&gt; Int">seqSeed</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(xs: scala.collection.Map[_, _])Int" id="81356">mapHash</a><span class="delimiter">(</span><a title="scala.collection.Map[_, _]" id="81364">xs</a>: collection.<a href="../collection/Map.scala.html#4804" title="scala.collection.Map[_, _]">Map</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> = <a href="#81324" title="(xs: TraversableOnce[Any], seed: Int)Int">unorderedHash</a><span class="delimiter">(</span><a href="#81364" title="scala.collection.Map[_, _]">xs</a>, <a href="#81343" title="=&gt; Int">mapSeed</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(xs: scala.collection.Set[_])Int" id="81357">setHash</a><span class="delimiter">(</span><a title="scala.collection.Set[_]" id="114353">xs</a>: collection.<a href="../collection/Set.scala.html#5671" title="scala.collection.Set[_]">Set</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a>    = <a href="#81324" title="(xs: TraversableOnce[Any], seed: Int)Int">unorderedHash</a><span class="delimiter">(</span><a href="#114353" title="scala.collection.Set[_]">xs</a>, <a href="#81345" title="=&gt; Int">setSeed</a><span class="delimiter">)</span>

  /** All this trouble and foreach still appears faster.
   *  Leaving in place in case someone would like to investigate further.
   */
  /**
  def linearSeqHash(xs: collection.LinearSeq[_], seed: Int): Int = {
    var n = 0
    var h = seed
    var elems = xs
    while (elems.nonEmpty) {
      h = mix(h, elems.head.##)
      n += 1
      elems = elems.tail
    }
    finalizeHash(h, n)
  }

  def indexedSeqHash(xs: collection.IndexedSeq[_], seed: Int): Int = {
    var n = 0
    var h = seed
    val len = xs.length
    while (n &lt; len) {
      h = mix(h, xs(n).##)
      n += 1
    }
    finalizeHash(h, n)
  }
  */

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use unorderedHash&quot;</span>, <span class="string">&quot;2.10.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](xs: scala.collection.GenTraversableOnce[T], seed: Int)Int" id="81358">symmetricHash</a><span class="delimiter">[</span><a title="" id="1237798">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.GenTraversableOnce[T]" id="1237794">xs</a>: collection.<a href="../collection/GenTraversableOnce.scala.html#5134" title="scala.collection.GenTraversableOnce[T]">GenTraversableOnce</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Int" id="1237796">seed</a>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span title="Int(-1248659538)">symmetricSeed</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> =
    <a href="#81324" title="(xs: TraversableOnce[Any], seed: Int)Int">unorderedHash</a><span class="delimiter">(</span><a href="#1237794" title="scala.collection.GenTraversableOnce[T]">xs</a>.<a href="../collection/GenTraversableOnce.scala.html#59200" title="=&gt; scala.collection.TraversableOnce[T]">seq</a>, <a href="#1237796" title="Int">seed</a><span class="delimiter">)</span>

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use orderedHash&quot;</span>, <span class="string">&quot;2.10.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](xs: scala.collection.GenTraversableOnce[T], seed: Int)Int" id="81361">traversableHash</a><span class="delimiter">[</span><a title="" id="1237873">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.GenTraversableOnce[T]" id="1237869">xs</a>: collection.<a href="../collection/GenTraversableOnce.scala.html#5134" title="scala.collection.GenTraversableOnce[T]">GenTraversableOnce</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Int" id="1237871">seed</a>: <a href="../Int.scala.html#508" title="Int">Int</a> = <span title="Int(-415593707)">traversableSeed</span><span class="delimiter">)</span>: <a href="../Int.scala.html#508" title="Int">Int</a> =
    <a href="#81325" title="(xs: TraversableOnce[Any], seed: Int)Int">orderedHash</a><span class="delimiter">(</span><a href="#1237869" title="scala.collection.GenTraversableOnce[T]">xs</a>.<a href="../collection/GenTraversableOnce.scala.html#59200" title="=&gt; scala.collection.TraversableOnce[T]">seq</a>, <a href="#1237871" title="Int">seed</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>