<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/reify/NodePrinters.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.reflect
<span class="keyword">package</span> reify

<span class="keyword">import</span> scala.<a href="../../Array.scala.html#293" title="Array.type">Array</a>.canBuildFrom
<span class="keyword">import</span> scala.compat.<a href="../../compat/Platform.scala.html#16515" title="scala.compat.Platform.type">Platform</a>.EOL
<span class="keyword">import</span> scala.tools.nsc.symtab.Flags
<span class="keyword">import</span> scala.tools.nsc.Global

<span class="keyword">trait</span> <a title="trait NodePrinters extends Object" id="24143">NodePrinters</a> <a href="../../Unit.scala.html#2389" title="Unit" class="delimiter">{</a> self: scala.tools.nsc.ast.NodePrinters =&gt;

  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="563595">global</a>: <a href="../../tools/nsc/Global.scala.html#27892" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> <a href="../../tools/nsc/ast/NodePrinters.scala.html#563601" title="=&gt; scala.tools.nsc.Global">global</a>._

  <span class="keyword">object</span> <a title="NodePrinters.this.reifiedNodeToString.type" id="563597">reifiedNodeToString</a> <a href="#563598" title="NodePrinters.this.reifiedNodeToString.type" class="keyword">extends</a> <a href="../../Function2.scala.html#205" title="(NodePrinters.this.global.Tree, NodePrinters.this.global.Tree) =&gt; String">Function2</a><span class="delimiter">[</span>Tree, Tree, String<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(prefix: NodePrinters.this.global.Tree, tree: NodePrinters.this.global.Tree)String" id="563620">apply</a><span class="delimiter">(</span><a title="NodePrinters.this.global.Tree" id="563622">prefix</a>: <a href="../api/Trees.scala.html#23570" title="NodePrinters.this.global.Tree">Tree</a>, <a title="NodePrinters.this.global.Tree" id="563623">tree</a>: <a href="../api/Trees.scala.html#23570" title="NodePrinters.this.global.Tree">Tree</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> scala.reflect.api.Modifier
      <span class="keyword">var</span> <a title="Boolean" id="563628">modifierIsUsed</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">var</span> <a title="Boolean" id="563629">flagsAreUsed</a> = <span title="Boolean(false)" class="keyword">false</span>

      // @PP: I fervently hope this is a test case or something, not anything being
      // depended upon.  Of more fragile code I cannot conceive.
      // @Eugene: This stuff is only needed to debug-print out reifications in human-readable format
      // Rolling a full-fledged, robust TreePrinter would be several times more code.
      <span class="keyword">val</span> <a href="#564203" title="(x: (String, List[String]))(String, List[String])" class="delimiter">(</a><a href="../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[String]]" id="564214">List</a><span class="delimiter">(</span><a href="../../Tuple2.scala.html#61506" title="String" id="563631">mirror</a><span class="delimiter">)</span>, <a href="../../Tuple2.scala.html#61508" title="List[String]" id="563632">reified</a><span class="delimiter">)</span> = <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="563758">line</a> &lt;- <span class="delimiter">(</span><a href="#563623" title="NodePrinters.this.global.Tree">tree</a>.<a href="../api/Trees.scala.html#425088" title="()String">toString</a>.<span title="(x$1: String)Array[String]">split</span><a href="../../Predef.scala.html#8521" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><a href="../../compat/Platform.scala.html#67813" title="=&gt; String">EOL</a><span class="delimiter">)</span>.<a href="../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[String]">toList</a> <a href="../../collection/immutable/List.scala.html#63667" title="(n: Int)List[String]">drop</a> <span title="Int(1)" class="int">1</span> <a href="../../collection/TraversableLike.scala.html#58971" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">dropRight</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="String" id="563759">s</a> = <a href="#563758" title="String">line</a>.<span title="()String">trim</span>
        <a href="#563759" title="String">s</a> = <a href="#563759" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;$mr.&quot;)" class="string">&quot;$mr.&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="#563759" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;.apply&quot;)" class="string">&quot;.apply&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="#563759" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;scala.collection.immutable.&quot;)" class="string">&quot;scala.collection.immutable.&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;List\\[List\\[.*?\\].*?\\]&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#60716" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../util/matching/Regex.scala.html#243861" title="(target: CharSequence, replacement: String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#563759" title="String">s</a>, <span title="String(&quot;List&quot;)" class="string">&quot;List&quot;</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;List\\[.*?\\]&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#60716" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../util/matching/Regex.scala.html#243861" title="(target: CharSequence, replacement: String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#563759" title="String">s</a>, <span title="String(&quot;List&quot;)" class="string">&quot;List&quot;</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="#563759" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;immutable.this.Nil&quot;)" class="string">&quot;immutable.this.Nil&quot;</span>, <span title="String(&quot;List()&quot;)" class="string">&quot;List()&quot;</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="#563759" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;modifiersFromInternalFlags&quot;)" class="string">&quot;modifiersFromInternalFlags&quot;</span>, <span title="String(&quot;Modifiers&quot;)" class="string">&quot;Modifiers&quot;</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="#563759" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;Modifiers(0L, newTypeName(\&quot;\&quot;), List())&quot;)" class="string">&quot;Modifiers(0L, newTypeName(\&quot;\&quot;), List())&quot;</span>, <span title="String(&quot;Modifiers()&quot;)" class="string">&quot;Modifiers()&quot;</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;Modifiers\((\d+)[lL], newTypeName\(&quot;(.*?)&quot;\), List\((.*?)\)\)&quot;&quot;&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#60716" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../util/matching/Regex.scala.html#243862" title="(target: CharSequence, replacer: scala.util.matching.Regex.Match =&gt; String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#563759" title="String">s</a>, <a title="scala.util.matching.Regex.Match" id="563871">m</a> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="563872">buf</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> collection.mutable.<a href="../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[String]">ListBuffer</a><span class="delimiter">[</span>String<span class="delimiter">]</span>

          <span class="keyword">val</span> <a title="String" id="563873">annotations</a> = <a href="#563871" title="scala.util.matching.Regex.Match">m</a>.<a href="../../util/matching/Regex.scala.html#563839" title="(i: Int)String">group</a><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563872" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../collection/generic/TraversableForwarder.scala.html#68052" title="=&gt; Boolean">nonEmpty</a> <a href="../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">annotations</a>.<a href="../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
            <a href="#563872" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../collection/mutable/BufferLike.scala.html#67887" title="(elems: String*)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;List(&quot;)" class="string">&quot;List(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#563873" title="String">annotations</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="String" id="563874">privateWithin</a> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#563871" title="scala.util.matching.Regex.Match">m</a>.<a href="../../util/matching/Regex.scala.html#563839" title="(i: Int)String">group</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563872" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../collection/generic/TraversableForwarder.scala.html#68052" title="=&gt; Boolean">nonEmpty</a> <a href="../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#563874" title="String">privateWithin</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <a href="#563872" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../collection/mutable/BufferLike.scala.html#67887" title="(elems: String*)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;newTypeName(\&quot;&quot;)" class="string">&quot;newTypeName(\&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#563874" title="String">privateWithin</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot;)&quot;)" class="string">&quot;\&quot;)&quot;</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Long" id="563875">flags</a> = <a href="#563871" title="scala.util.matching.Regex.Match">m</a>.<a href="../../util/matching/Regex.scala.html#563839" title="(i: Int)String">group</a><a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<a href="../../collection/immutable/StringLike.scala.html#60722" title="=&gt; Long">toLong</a>
          <span class="keyword">val</span> <a title="String" id="563876">s_flags</a> = <a href="../../tools/nsc/symtab/package.scala.html#57302" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../internal/Flags.scala.html#441034" title="(flags: Long)List[scala.reflect.api.Modifier]">modifiersOfFlags</a><span class="delimiter">(</span><a href="#563875" title="Long">flags</a><span class="delimiter">)</span> <a href="../../collection/TraversableLike.scala.html#58971" title="(f: scala.reflect.api.Modifier =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.api.Modifier],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#564031" title="scala.reflect.api.Modifier">_</a>.<a href="../api/Modifier.scala.html#426576" title="=&gt; String">sourceString</a><span class="delimiter">)</span> <a href="../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563872" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../collection/generic/TraversableForwarder.scala.html#68052" title="=&gt; Boolean">nonEmpty</a> <a href="../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#563876" title="String">s_flags</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#563628" title="Boolean">modifierIsUsed</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#563872" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../collection/mutable/BufferLike.scala.html#67887" title="(elems: String*)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;Set(&quot;)" class="string">&quot;Set(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#563876" title="String">s_flags</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="String(&quot;Modifiers(&quot;)" class="string">&quot;Modifiers(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#563872" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../collection/SeqLike.scala.html#59719" title="=&gt; scala.collection.mutable.ListBuffer[String]">reverse</a>.<a href="../../collection/generic/TraversableForwarder.scala.html#68131" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>  <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#563759" title="String">s</a> = <a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;setInternalFlags\((\d+)L\)&quot;&quot;&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#60716" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../util/matching/Regex.scala.html#243862" title="(target: CharSequence, replacer: scala.util.matching.Regex.Match =&gt; String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#563759" title="String">s</a>, <a title="scala.util.matching.Regex.Match" id="564084">m</a> =&gt; <span class="delimiter">{</span>
          <a href="#563629" title="Boolean">flagsAreUsed</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">val</span> <a title="Long" id="564085">flags</a> = <a href="#564084" title="scala.util.matching.Regex.Match">m</a>.<a href="../../util/matching/Regex.scala.html#563839" title="(i: Int)String">group</a><a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<a href="../../collection/immutable/StringLike.scala.html#60722" title="=&gt; Long">toLong</a>
          <span class="keyword">val</span> <a title="List[String]" id="564086">mods</a> = <a href="../../tools/nsc/symtab/package.scala.html#57302" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../internal/Flags.scala.html#441034" title="(flags: Long)List[scala.reflect.api.Modifier]">modifiersOfFlags</a><span class="delimiter">(</span><a href="#564085" title="Long">flags</a><span class="delimiter">)</span> <a href="../../collection/TraversableLike.scala.html#58971" title="(f: scala.reflect.api.Modifier =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.api.Modifier],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#564113" title="scala.reflect.api.Modifier">_</a>.<a href="../api/Modifier.scala.html#426576" title="=&gt; String">sourceString</a><span class="delimiter">)</span>
          <span title="String(&quot;setInternalFlags(flagsOfModifiers(List(&quot;)" class="string">&quot;setInternalFlags(flagsOfModifiers(List(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#564086" title="List[String]">mods</a>.<a href="../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)))&quot;)" class="string">&quot;)))&quot;</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>

        <a href="#563759" title="String">s</a>
      <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#63670" title="(n: Int)(List[String], List[String])">splitAt</a> <span title="Int(1)" class="int">1</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="563633">printout</a> = collection.mutable.<a href="../../collection/generic/GenericCompanion.scala.html#60782" title="(elems: String*)scala.collection.mutable.ListBuffer[String]">ListBuffer</a><span class="delimiter">(</span><a href="#563631" title="String">mirror</a><span class="delimiter">)</span>;
      <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;import &quot;)" class="string">&quot;import &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../internal/StdNames.scala.html#441764" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#446195" title="=&gt; NodePrinters.this.global.nme.NameType">MIRROR_SHORT</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;._&quot;)" class="string">&quot;._&quot;</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#563628" title="Boolean">modifierIsUsed</a><span class="delimiter">)</span> <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;import scala.reflect.api.Modifier._&quot;)" class="string">&quot;import scala.reflect.api.Modifier._&quot;</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#563629" title="Boolean">flagsAreUsed</a><span class="delimiter">)</span> <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;import scala.reflect.internal.Flags._&quot;)" class="string">&quot;import scala.reflect.internal.Flags._&quot;</span>
      <span class="keyword">val</span> <a title="List[String]" id="563634">body</a> = <a href="#563632" title="List[String]">reified</a> <a href="../../collection/immutable/List.scala.html#63672" title="(p: String =&gt; Boolean)List[String]">dropWhile</a> <span class="delimiter">(</span><a href="#564267" title="String">_</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;val&quot;)" class="string">&quot;val&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#563634" title="List[String]">body</a>.<a href="../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span> <a href="../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../collection/LinearSeqOptimized.scala.html#76165" title="(n: Int)String">body</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;Expr[&quot;)" class="string">&quot;Expr[&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="printout.type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../collection/LinearSeqOptimized.scala.html#76165" title="(n: Int)String">reified</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;val&quot;)" class="string">&quot;val&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;val code = {&quot;)" class="string">&quot;val code = {&quot;</span>
          <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67857" title="(xs: scala.collection.TraversableOnce[String])printout.type">++=</a> <span class="delimiter">(</span><a href="#563632" title="List[String]">reified</a> <a href="../../collection/TraversableLike.scala.html#58971" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,scala.collection.TraversableOnce[String]])scala.collection.TraversableOnce[String]">map</a> <span class="delimiter">(</span><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#564312" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span>
          <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;mkToolBox().runExpr(code)&quot;)" class="string">&quot;mkToolBox().runExpr(code)&quot;</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;val code = &quot;)" class="string">&quot;val code = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../collection/LinearSeqOptimized.scala.html#76165" title="(n: Int)String">reified</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67857" title="(xs: scala.collection.TraversableOnce[String])printout.type">++=</a> <a href="#563632" title="List[String]">reified</a> <a href="../../collection/immutable/List.scala.html#63667" title="(n: Int)List[String]">drop</a> <span title="Int(1)" class="int">1</span>
          <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;mkToolBox().runExpr(code)&quot;)" class="string">&quot;mkToolBox().runExpr(code)&quot;</span>
        <span class="delimiter">}</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="NodePrinters.this.global.Select" id="564365">prefix</a> = <a href="../api/Trees.scala.html#427925" title="(qualifier: NodePrinters.this.global.Tree, name: NodePrinters.this.global.Name)NodePrinters.this.global.Select">Select</a><span class="delimiter">(</span><a href="../api/Trees.scala.html#427925" title="(qualifier: NodePrinters.this.global.Tree, name: NodePrinters.this.global.Name)NodePrinters.this.global.Select">Select</a><span class="delimiter">(</span><a href="../internal/Trees.scala.html#441842" title="(sym: NodePrinters.this.global.Symbol)NodePrinters.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../internal/Definitions.scala.html#441641" title="NodePrinters.this.global.definitions.type">definitions</a>.<a href="../internal/Definitions.scala.html#442152" title="=&gt; NodePrinters.this.global.PackageSymbol">ScalaPackage</a><span class="delimiter">)</span>, <a href="../internal/Names.scala.html#440783" title="(s: String)NodePrinters.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;reflect&quot;)" class="string">&quot;reflect&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../internal/Names.scala.html#440783" title="(s: String)NodePrinters.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;mirror&quot;)" class="string">&quot;mirror&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="NodePrinters.this.global.Tree" id="564366">tree1</a> = <a href="#564433" title="NodePrinters.this.global.Transformer" class="keyword">new</a> <a href="../../tools/nsc/ast/NodePrinters.scala.html#563601" title="anonymous class $anon extends NodePrinters.this.global.Transformer" id="564433">global</a>.<a href="../../tools/nsc/ast/Trees.scala.html#559848" title="NodePrinters.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
            <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree" id="564438">transform</a><span class="delimiter">(</span><a title="NodePrinters.this.global.Tree" id="564439">tree</a>: <a href="../api/Trees.scala.html#23570" title="NodePrinters.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#564433" title="NodePrinters.this.global.Transformer" class="keyword">super</a>.<a href="../api/Trees.scala.html#438847" title="(tree: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564439" title="NodePrinters.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Block<a href="#564547" title="Boolean" id="564550" class="delimiter">(</a>ValDef<a title="Boolean" id="564558" class="delimiter">(</a>_, mr, _, _<span class="delimiter">)</span> <a title="Boolean" id="564553">::</a> <a href="../../collection/immutable/List.scala.html#11552" title="NodePrinters.this.global.Tree" id="564575">Nil</a>, expr<span class="delimiter">)</span> <span class="keyword">if</span> mr <span title="(x$1: AnyRef)Boolean">==</span> <a href="../internal/StdNames.scala.html#441764" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#446195" title="=&gt; NodePrinters.this.global.nme.NameType">MIRROR_SHORT</a> =&gt; <a href="#564438" title="(tree: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree">transform</a><a href="#564579" title="(x: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree" class="delimiter">(</a>expr<span class="delimiter">)</span>
              <span class="keyword">case</span> Block<span class="delimiter">(</span>ValDef<span class="delimiter">(</span>_, mr, _, _<span class="delimiter">)</span> :: symbolTable, expr<span class="delimiter">)</span> <span class="keyword">if</span> mr <span title="(x$1: AnyRef)Boolean">==</span> <a href="../internal/StdNames.scala.html#441764" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#446195" title="=&gt; NodePrinters.this.global.nme.NameType">MIRROR_SHORT</a> =&gt; <a href="#564438" title="(tree: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree">transform</a><a href="#564579" title="(x: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree" class="delimiter">(</a><a href="../api/Trees.scala.html#427284" title="(stats: List[NodePrinters.this.global.Tree], expr: NodePrinters.this.global.Tree)NodePrinters.this.global.Block">Block</a><span class="delimiter">(</span>symbolTable, expr<span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> Select<a href="#564547" title="NodePrinters.this.global.Tree" id="564572" class="delimiter">(</a>Ident<a title="NodePrinters.this.global.Tree" id="564574" class="delimiter">(</a>mr<span class="delimiter">)</span>, name<span class="delimiter">)</span> <span class="keyword">if</span> mr <span title="(x$1: AnyRef)Boolean">==</span> <a href="../internal/StdNames.scala.html#441764" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#446195" title="=&gt; NodePrinters.this.global.nme.NameType">MIRROR_SHORT</a> =&gt; <a href="../api/Trees.scala.html#427925" title="(qualifier: NodePrinters.this.global.Tree, name: NodePrinters.this.global.Name)NodePrinters.this.global.Select">Select</a><a href="#564579" title="(x: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree" class="delimiter">(</a><a href="#564365" title="NodePrinters.this.global.Select">prefix</a>, name<span class="delimiter">)</span>
              <span class="keyword">case</span> tree =&gt; <a href="#564579" title="(x: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree">tree</a>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>.<a href="#564438" title="(tree: NodePrinters.this.global.Tree)NodePrinters.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#563623" title="NodePrinters.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="564367">stringified</a> = <a href="../../tools/nsc/ToolBoxes.scala.html#559791" title="(frontEnd: NodePrinters.this.global.FrontEnd, options: String)NodePrinters.this.global.ToolBox">mkToolBox</a><a title="NodePrinters.this.global.ToolBox" id="564639" class="delimiter">(</a><span class="delimiter">)</span>.<a href="../../tools/nsc/ToolBoxes.scala.html#564632" title="Map[NodePrinters.this.global.FreeType,NodePrinters.this.global.Type]" id="564643">runExpr</a><span class="delimiter">(</span><a href="#564366" title="NodePrinters.this.global.Tree" id="564642">tree1</a><span class="delimiter">)</span>.<span title="()String">toString</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../tools/nsc/Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../tools/nsc/settings/ScalaSettings.scala.html#467607" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Yreifydebug</a>.<a href="../../tools/nsc/settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <span title="String(&quot;*****************************&quot;)" class="string">&quot;*****************************&quot;</span>
          <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)printout.type">+=</a> <a href="#564367" title="String">stringified</a>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="564661">ex</a>: <span title="Throwable">Throwable</span> =&gt;
//            val realex = ReflectionUtils.unwrapThrowable(ex)
//            val message = new java.io.StringWriter()
//            realex.printStackTrace(new java.io.PrintWriter(message))
//            println(message)
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/mutable/ListBuffer.scala.html#67857" title="(xs: scala.collection.TraversableOnce[String])printout.type">++=</a> <a href="#563632" title="List[String]">reified</a>
      <span class="delimiter">}</span>
      <a href="#563633" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../collection/generic/TraversableForwarder.scala.html#68131" title="(sep: String)String">mkString</a> <a href="../../compat/Platform.scala.html#67813" title="=&gt; String">EOL</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span title="Object" class="delimiter">}</span>
        </pre>
    </body>
</html>