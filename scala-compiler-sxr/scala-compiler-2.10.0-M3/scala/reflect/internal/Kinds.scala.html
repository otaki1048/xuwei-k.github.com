<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/internal/Kinds.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.reflect
<span class="keyword">package</span> internal

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.util.<a href="../../tools/util/StringOps.scala.html#52941" title="scala.tools.util.StringOps.type">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait Kinds extends Object" id="22302">Kinds</a> <a href="../../Unit.scala.html#2389" title="Unit" class="delimiter">{</a>
  self: SymbolTable =&gt;

  <span class="keyword">import</span> <a href="Definitions.scala.html#441641" title="Kinds.this.definitions.type">definitions</a>._

  <span class="keyword">private</span> <span class="keyword">type</span> <a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="441609">SymPair</a> = <span class="delimiter">(</span><a href="../../Tuple2.scala.html#1222" title="(Kinds.this.Symbol, Kinds.this.Symbol)" class="delimiter">(</a>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">)</span> // ((Argument, Parameter))

  case <span class="keyword">class</span> <a title="class KindErrors extends AnyRef with Product with Serializable" id="481659">KindErrors</a><a href="../../Product.scala.html#304" title="Product" class="delimiter">(</a>
         <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="480719">arity</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</a><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>,
      <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="480720">variance</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</a><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>,
    <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="480721">strictness</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</a><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
  <span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="480685">isEmpty</a> = <a href="#480719" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>.<a href="../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#480720" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>.<a href="../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#480721" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>.<a href="../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a>

    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="480686">arityError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="480725">syms</a>: <a href="../../Tuple2.scala.html#1222" title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</a><span class="delimiter">)</span>      = <a href="#481659" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">copy</a><span class="delimiter">(</span>arity = <a href="#480719" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <a href="../../collection/SeqLike.scala.html#59810" title="(elem: (Kinds.this.Symbol, Kinds.this.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">:+</a> <a href="#480725" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="480687">varianceError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="480795">syms</a>: <a href="../../Tuple2.scala.html#1222" title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</a><span class="delimiter">)</span>   = <a href="#480719" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="480847">copy</a><span class="delimiter">(</span>variance = <a href="#480720" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <a href="../../collection/SeqLike.scala.html#59810" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="480845">:+</a> <a href="#480795" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="480688">strictnessError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="480848">syms</a>: <a href="../../Tuple2.scala.html#1222" title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</a><span class="delimiter">)</span> = <a href="#480719" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="480897">copy</a><span class="delimiter">(</span>strictness = <a href="#480721" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <a href="../../collection/SeqLike.scala.html#59810" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="480895">:+</a> <a href="#480848" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(errs: Kinds.this.KindErrors)Kinds.this.KindErrors" id="480689">++</a><span class="delimiter">(</span><a title="Kinds.this.KindErrors" id="480898">errs</a>: <a href="#481659" title="Kinds.this.KindErrors">KindErrors</a><span class="delimiter">)</span> = <a href="#481659" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">KindErrors</a><span class="delimiter">(</span>
      <a href="#480719" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <a href="../../collection/immutable/List.scala.html#63655" title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</a> <a href="#480898" title="Kinds.this.KindErrors">errs</a>.<a href="#480719" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>,
      <a href="#480720" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <a href="../../collection/immutable/List.scala.html#63655" title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</a> <a href="#480898" title="Kinds.this.KindErrors">errs</a>.<a href="#480720" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>,
      <a href="#480721" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <a href="../../collection/immutable/List.scala.html#63655" title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</a> <a href="#480898" title="Kinds.this.KindErrors">errs</a>.<a href="#480721" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>
    <span class="delimiter">)</span>
    // @M TODO this method is duplicated all over the place (varianceString)
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: Kinds.this.Symbol)String" id="480690">varStr</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481060">s</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#481060" title="Kinds.this.Symbol">s</a>.<a href="Symbols.scala.html#443251" title="=&gt; Boolean">isCovariant</a><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#481060" title="Kinds.this.Symbol">s</a>.<a href="Symbols.scala.html#443250" title="=&gt; Boolean">isContravariant</a><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
      <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String" id="480691">qualify</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481062">a0</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="481063">b0</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#481062" title="Kinds.this.Symbol">a0</a>.<a href="Symbols.scala.html#443559" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#481063" title="Kinds.this.Symbol">b0</a>.<a href="Symbols.scala.html#443559" title="()String">toString</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#481062" title="Kinds.this.Symbol">a0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#481063" title="Kinds.this.Symbol">b0</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#481062" title="Kinds.this.Symbol">a0</a>.<a href="Symbols.scala.html#443379" title="=&gt; Kinds.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#481063" title="Kinds.this.Symbol">b0</a>.<a href="Symbols.scala.html#443379" title="=&gt; Kinds.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Kinds.this.Symbol" id="481070">a</a> = <a href="#481062" title="Kinds.this.Symbol">a0</a>; <span class="keyword">var</span> <a title="Kinds.this.Symbol" id="481071">b</a> = <a href="#481063" title="Kinds.this.Symbol">b0</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#481070" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#443379" title="=&gt; Kinds.this.Symbol">owner</a>.<a href="Symbols.scala.html#443152" title="=&gt; Kinds.this.Symbol#NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#481071" title="Kinds.this.Symbol">b</a>.<a href="Symbols.scala.html#443379" title="=&gt; Kinds.this.Symbol">owner</a>.<a href="Symbols.scala.html#443152" title="=&gt; Kinds.this.Symbol#NameType">name</a><span class="delimiter">)</span> <a href="#481072" title="()Unit" class="delimiter">{</a> <a href="#481070" title="Kinds.this.Symbol">a</a> = <a href="#481070" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#443379" title="=&gt; Kinds.this.Symbol">owner</a>; <a href="#481071" title="Kinds.this.Symbol">b</a> = <a href="#481071" title="Kinds.this.Symbol">b</a>.<a href="Symbols.scala.html#443379" title="=&gt; Kinds.this.Symbol">owner</a><span class="delimiter">}</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#481070" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#443561" title="=&gt; String">locationString</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="String(&quot; (&quot;)" class="string">&quot; (&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481070" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#443561" title="=&gt; String">locationString</a>.<span title="()String">trim</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String" id="480692">kindMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481090">a</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="481091">p</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(String, String) =&gt; String" id="481092">f</a>: <span class="delimiter">(</span>String, String<span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span>: <span title="String">String</span> =
      <a href="../../Function2.scala.html#65847" title="(v1: String, v2: String)String">f</a><span class="delimiter">(</span><a href="../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><a href="../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a><a href="#480691" title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#481090" title="Kinds.this.Symbol">a</a>,<a href="#481091" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span>, <a href="../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">p</a><a href="../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a><a href="#480691" title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#481091" title="Kinds.this.Symbol">p</a>,<a href="#481090" title="Kinds.this.Symbol">a</a><span class="delimiter">)</span><span class="delimiter">)</span>

    // Normally it's nicer to print nothing rather than '&gt;: Nothing &lt;: Any' all over
    // the place, but here we need it for the message to make sense.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="480693">strictnessMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481102">a</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="481103">p</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#480692" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#481102" title="Kinds.this.Symbol">a</a>, <a href="#481103" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s's bounds%s are stricter than %s's declared bounds%s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#481107" title="String">_</a>, <a href="#481102" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#443427" title="=&gt; Kinds.this.Type">info</a>, <a href="#481108" title="String">_</a>, <a href="#481103" title="Kinds.this.Symbol">p</a>.<a href="Symbols.scala.html#443427" title="=&gt; Kinds.this.Type">info</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> tb @ TypeBounds<a href="#481128" title="Any" id="481132" class="delimiter">(</a>_, _<span class="delimiter">)</span> <span class="keyword">if</span> tb.<a href="Types.scala.html#448311" title="=&gt; Boolean">isEmptyBounds</a>  =&gt; <a href="#481133" title="(x: Any)Any" class="string">&quot; &gt;: Nothing &lt;: Any&quot;</a>
          <span class="keyword">case</span> tb                                         =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="#481133" title="(x: Any)Any">+</a> tb
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="480694">varianceMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481138">a</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="481139">p</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#480692" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#481138" title="Kinds.this.Symbol">a</a>, <a href="#481139" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s is %s, but %s is declared %s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#481143" title="String">_</a>, <a href="#480690" title="(s: Kinds.this.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#481138" title="Kinds.this.Symbol">a</a><span class="delimiter">)</span>, <a href="#481144" title="String">_</a>, <a href="#480690" title="(s: Kinds.this.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#481139" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="480695">arityMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481148">a</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="481149">p</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#480692" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#481148" title="Kinds.this.Symbol">a</a>, <a href="#481149" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has %s, but %s has %s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#481153" title="String">_</a>, <a href="../../tools/util/StringOps.scala.html#467960" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#481148" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a>, <span title="String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span>,
        <a href="#481154" title="String">_</a>, <a href="../../tools/util/StringOps.scala.html#467961" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#481149" title="Kinds.this.Symbol">p</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(xs: List[(Kinds.this.Symbol, Kinds.this.Symbol)], f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String)String" id="480696">buildMessage</a><span class="delimiter">(</span><a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="481163">xs</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</a><span class="delimiter">[</span>SymPair<span class="delimiter">]</span>, <a title="(Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String" id="481164">f</a>: <span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span> = <span class="delimiter">(</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#481163" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">xs</a>.<a href="../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <a href="#481163" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">xs</a> <a href="../../collection/TraversableLike.scala.html#58971" title="(f: ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],String,List[String]])List[String]">map</a> <a href="#481164" title="(Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String">f</a>.<a href="../../Function2.scala.html#65849" title="=&gt; ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String">tupled</a> <a href="../../collection/TraversableOnce.scala.html#59189" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(targ: Kinds.this.Type, tparam: Kinds.this.Symbol)String" id="480697">errorMessage</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="481216">targ</a>: <a href="Types.scala.html#441242" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="481217">tparam</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">(</span>
        <span class="delimiter">(</span><a href="../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">targ</a><a href="../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a><span title="String(&quot;\'s type parameters do not match &quot;)" class="string">&quot;'s type parameters do not match &quot;</span><span title="(x$1: Any)String">+</span><a href="#481217" title="Kinds.this.Symbol">tparam</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\'s expected parameters:&quot;)" class="string">&quot;'s expected parameters:&quot;</span><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <a href="#480696" title="(xs: List[(Kinds.this.Symbol, Kinds.this.Symbol)], f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String)String">buildMessage</a><span class="delimiter">(</span><a href="#480719" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>, <a href="#480695" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">arityMessage</a><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <a href="#480696" title="(xs: List[(Kinds.this.Symbol, Kinds.this.Symbol)], f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String)String">buildMessage</a><span class="delimiter">(</span><a href="#480720" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>, <a href="#480694" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">varianceMessage</a><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <a href="#480696" title="(xs: List[(Kinds.this.Symbol, Kinds.this.Symbol)], f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String)String">buildMessage</a><span class="delimiter">(</span><a href="#480721" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>, <a href="#480693" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">strictnessMessage</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">val</span> <a title="Kinds.this.KindErrors" id="441613">NoKindErrors</a> = <a href="#481659" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">KindErrors</a><span class="delimiter">(</span><a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

  // TODO: this desperately needs to be cleaned up
  // plan: split into kind inference and subkinding
  // every Type has a (cached) Kind
  <span class="keyword">def</span> <a title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol)Boolean" id="441615">kindsConform</a><span class="delimiter">(</span><a title="List[Kinds.this.Symbol]" id="481274">tparams</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Kinds.this.Type]" id="481275">targs</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[Kinds.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Kinds.this.Type" id="481276">pre</a>: <a href="Types.scala.html#441242" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="481277">owner</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
    <a href="#441617" title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol, explainErrors: Boolean)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">checkKindBounds0</a><span class="delimiter">(</span><a href="#481274" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#481275" title="List[Kinds.this.Type]">targs</a>, <a href="#481276" title="Kinds.this.Type">pre</a>, <a href="#481277" title="Kinds.this.Symbol">owner</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a>

  /** Check whether `sym1`'s variance conforms to `sym2`'s variance.
   *
   *  If `sym2` is invariant, `sym1`'s variance is irrelevant. Otherwise they must be equal.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym1: Kinds.this.Symbol, sym2: Kinds.this.Symbol)Boolean" id="441616">variancesMatch</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481284">sym1</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="481285">sym2</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#481285" title="Kinds.this.Symbol">sym2</a>.<a href="Symbols.scala.html#443377" title="=&gt; Int">variance</a><a href="../../Int.scala.html#57891" title="(x: Int)Boolean">==</a><span title="Int(0)" class="int">0</span>
    <a href="../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#481284" title="Kinds.this.Symbol">sym1</a>.<a href="Symbols.scala.html#443377" title="=&gt; Int">variance</a><a href="../../Int.scala.html#57891" title="(x: Int)Boolean">==</a><a href="#481285" title="Kinds.this.Symbol">sym2</a>.<a href="Symbols.scala.html#443377" title="=&gt; Int">variance</a>
  <span class="delimiter">)</span>

  /** Check well-kindedness of type application (assumes arities are already checked) -- @M
   *
   * This check is also performed when abstract type members become concrete (aka a &quot;type alias&quot;) -- then tparams.length==1
   * (checked one type member at a time -- in that case, prefix is the name of the type alias)
   *
   * Type application is just like value application: it's &quot;contravariant&quot; in the sense that
   * the type parameters of the supplied type arguments must conform to the type parameters of
   * the required type parameters:
   *   - their bounds must be less strict
   *   - variances must match (here, variances are absolute, the variance of a type parameter does not influence the variance of its higher-order parameters)
   *   - @M TODO: are these conditions correct,sufficient&amp;necessary?
   *
   *  e.g. class Iterable[t, m[+x &lt;: t]] --&gt; the application Iterable[Int, List] is okay, since
   *       List's type parameter is also covariant and its bounds are weaker than &lt;: Int
   */
  <span class="keyword">def</span> <a title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol, explainErrors: Boolean)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" id="441617">checkKindBounds0</a><span class="delimiter">(</span>
    <a title="List[Kinds.this.Symbol]" id="481278">tparams</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
    <a title="List[Kinds.this.Type]" id="481279">targs</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[Kinds.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>,
    <a title="Kinds.this.Type" id="481280">pre</a>: <a href="Types.scala.html#441242" title="Kinds.this.Type">Type</a>,
    <a title="Kinds.this.Symbol" id="481281">owner</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>,
    <a title="Boolean" id="481282">explainErrors</a>: <a href="../../Boolean.scala.html#2218" title="Boolean">Boolean</a>
  <span class="delimiter">)</span>: <a href="../../collection/immutable/List.scala.html#12322" title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Type, Symbol, KindErrors<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    // instantiate type params that come from outside the abstract type we're currently checking
    <span class="keyword">def</span> <a title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type" id="481298">transform</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="481300">tp</a>: <a href="Types.scala.html#441242" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="481301">clazz</a>: <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Types.scala.html#441242" title="Kinds.this.Type">Type</a> = <a href="#481300" title="Kinds.this.Type">tp</a>.<a href="Types.scala.html#442037" title="(pre: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#481280" title="Kinds.this.Type">pre</a>, <a href="#481301" title="Kinds.this.Symbol">clazz</a><span class="delimiter">)</span>

    // check that the type parameters hkargs to a higher-kinded type conform to the
    // expected params hkparams
    <span class="keyword">def</span> <a title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors" id="481299">checkKindBoundsHK</a><span class="delimiter">(</span>
      <a title="List[Kinds.this.Symbol]" id="481306">hkargs</a>:        <a href="../../collection/immutable/List.scala.html#12322" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="Kinds.this.Symbol" id="481307">arg</a>:           <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>,
      <a title="Kinds.this.Symbol" id="481308">param</a>:         <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>,
      <a title="Kinds.this.Symbol" id="481309">paramowner</a>:    <a href="Symbols.scala.html#441132" title="Kinds.this.Symbol">Symbol</a>,
      <a title="List[Kinds.this.Symbol]" id="481310">underHKParams</a>: <a href="../../collection/immutable/List.scala.html#12322" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="List[Kinds.this.Symbol]" id="481311">withHKArgs</a>:    <a href="../../collection/immutable/List.scala.html#12322" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
    <span class="delimiter">)</span>: <a href="#481659" title="Kinds.this.KindErrors">KindErrors</a> = <span class="delimiter">{</span>

      <span class="keyword">var</span> <a title="Kinds.this.KindErrors" id="481312">kindErrors</a>: <a href="#481659" title="Kinds.this.KindErrors">KindErrors</a> = <a href="#441613" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
      <span class="keyword">def</span> <a title="(tp: Kinds.this.Type)Kinds.this.Type" id="481313">bindHKParams</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="481316">tp</a>: <a href="Types.scala.html#441242" title="Kinds.this.Type">Type</a><span class="delimiter">)</span> = <a href="#481316" title="Kinds.this.Type">tp</a>.<a href="Types.scala.html#442042" title="(from: List[Kinds.this.Symbol], to: List[Kinds.this.Symbol])Kinds.this.Type">substSym</a><span class="delimiter">(</span><a href="#481310" title="List[Kinds.this.Symbol]">underHKParams</a>, <a href="#481311" title="List[Kinds.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      // @M sometimes hkargs != arg.typeParams, the symbol and the type may
      // have very different type parameters
      <span class="keyword">val</span> <a title="List[Kinds.this.Symbol]" id="481314">hkparams</a> = <a href="#481308" title="Kinds.this.Symbol">param</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>

      <span class="keyword">def</span> <a title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit" id="481315">kindCheck</a><span class="delimiter">(</span><a title="Boolean" id="481319">cond</a>: <a href="../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="Kinds.this.KindErrors =&gt; Kinds.this.KindErrors" id="481320">f</a>: KindErrors =&gt; KindErrors<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#481319" title="Boolean">cond</a><span class="delimiter">)</span>
          <a href="#481312" title="Kinds.this.KindErrors">kindErrors</a> = <a href="../../Function1.scala.html#59555" title="(v1: Kinds.this.KindErrors)Kinds.this.KindErrors">f</a><span class="delimiter">(</span><a href="#481312" title="Kinds.this.KindErrors">kindErrors</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Required.scala.html#441908" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#456420" title="=&gt; scala.reflect.internal.settings.MutableSettings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#456449" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="SymbolTable.scala.html#440548" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK expected: &quot;)" class="string">&quot;checkKindBoundsHK expected: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481308" title="Kinds.this.Symbol">param</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481314" title="List[Kinds.this.Symbol]">hkparams</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; by definition in &quot;)" class="string">&quot; by definition in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481309" title="Kinds.this.Symbol">paramowner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#440548" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK supplied: &quot;)" class="string">&quot;checkKindBoundsHK supplied: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481307" title="Kinds.this.Symbol">arg</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481306" title="List[Kinds.this.Symbol]">hkargs</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; from &quot;)" class="string">&quot; from &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481281" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#440548" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK under params: &quot;)" class="string">&quot;checkKindBoundsHK under params: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481310" title="List[Kinds.this.Symbol]">underHKParams</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with args &quot;)" class="string">&quot; with args &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481311" title="List[Kinds.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#481306" title="List[Kinds.this.Symbol]">hkargs</a>, <a href="#481314" title="List[Kinds.this.Symbol]">hkparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // Any and Nothing are kind-overloaded
        <span title="Kinds.this.KindErrors" class="keyword">if</span> <span class="delimiter">(</span><a href="#481307" title="Kinds.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#442175" title="=&gt; Kinds.this.ClassSymbol">AnyClass</a> <a href="../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#481307" title="Kinds.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#442193" title="Kinds.this.definitions.NothingClass.type">NothingClass</a><span class="delimiter">)</span> <a href="#441613" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
        // shortcut: always set error, whether explainTypesOrNot
        <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="#481312" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#480686" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">arityError</a><span class="delimiter">(</span><a href="../../Predef.scala.html#8484" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">arg</a> <a href="../../Predef.scala.html#63591" title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</a> <a href="#481308" title="Kinds.this.Symbol">param</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="util/Collections.scala.html#440726" title="(xs1: List[Kinds.this.Symbol], xs2: List[Kinds.this.Symbol])(f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#481306" title="List[Kinds.this.Symbol]">hkargs</a>, <a href="#481314" title="List[Kinds.this.Symbol]">hkparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481383">hkarg</a>, <a title="Kinds.this.Symbol" id="481384">hkparam</a><span class="delimiter">)</span> =&gt;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#481384" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#481383" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> // base-case: kind *
          <a href="#481315" title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit">kindCheck</a><span class="delimiter">(</span><a href="#441616" title="(sym1: Kinds.this.Symbol, sym2: Kinds.this.Symbol)Boolean">variancesMatch</a><span class="delimiter">(</span><a href="#481383" title="Kinds.this.Symbol">hkarg</a>, <a href="#481384" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span>, <a href="#481391" title="Kinds.this.KindErrors">_</a> <a href="#480687" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">varianceError</a> <span class="delimiter">(</span><a href="../../Predef.scala.html#8484" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">hkarg</a> <a href="../../Predef.scala.html#63591" title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</a> <a href="#481384" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // instantiateTypeParams(tparams, targs)
          //   higher-order bounds, may contain references to type arguments
          // substSym(hkparams, hkargs)
          //   these types are going to be compared as types of kind *
          //
          // Their arguments use different symbols, but are
          // conceptually the same. Could also replace the types by
          // polytypes, but can't just strip the symbols, as ordering
          // is lost then.
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="481387">declaredBounds</a>     = <a href="#481298" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#481384" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#443427" title="=&gt; Kinds.this.Type">info</a>.<a href="Types.scala.html#442014" title="(formals: List[Kinds.this.Symbol], actuals: List[Kinds.this.Type])Kinds.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#481278" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#481279" title="List[Kinds.this.Type]">targs</a><span class="delimiter">)</span>.<a href="Types.scala.html#441994" title="=&gt; Kinds.this.TypeBounds">bounds</a>, <a href="#481309" title="Kinds.this.Symbol">paramowner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="481388">declaredBoundsInst</a> = <a href="#481298" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#481313" title="(tp: Kinds.this.Type)Kinds.this.Type">bindHKParams</a><span class="delimiter">(</span><a href="#481387" title="Kinds.this.Type">declaredBounds</a><span class="delimiter">)</span>, <a href="#481281" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="481389">argumentBounds</a>     = <a href="#481298" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#481383" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#443427" title="=&gt; Kinds.this.Type">info</a>.<a href="Types.scala.html#441994" title="=&gt; Kinds.this.TypeBounds">bounds</a>, <a href="#481281" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>

          <a href="#481315" title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit">kindCheck</a><span class="delimiter">(</span><a href="#481388" title="Kinds.this.Type">declaredBoundsInst</a> <a href="Types.scala.html#442058" title="(that: Kinds.this.Type)Boolean">&lt;:&lt;</a> <a href="#481389" title="Kinds.this.Type">argumentBounds</a>, <a href="#481418" title="Kinds.this.KindErrors">_</a> <a href="#480688" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">strictnessError</a> <span class="delimiter">(</span><a href="../../Predef.scala.html#8484" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">hkarg</a> <a href="../../Predef.scala.html#63591" title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</a> <a href="#481384" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="SymbolTable.scala.html#440551" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481384" title="Kinds.this.Symbol">hkparam</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; declared bounds: &quot;)" class="string">&quot; declared bounds: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481387" title="Kinds.this.Type">declaredBounds</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; after instantiating earlier hkparams: &quot;)" class="string">&quot; after instantiating earlier hkparams: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481388" title="Kinds.this.Type">declaredBoundsInst</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481383" title="Kinds.this.Symbol">hkarg</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; has bounds: &quot;)" class="string">&quot; has bounds: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481389" title="Kinds.this.Type">argumentBounds</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="SymbolTable.scala.html#440551" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK recursing to compare params of &quot;)" class="string">&quot;checkKindBoundsHK recursing to compare params of &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481384" title="Kinds.this.Symbol">hkparam</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span><span title="(x$1: Any)String">+</span> <a href="#481383" title="Kinds.this.Symbol">hkarg</a><span class="delimiter">)</span>
          <a href="#481312" title="Kinds.this.KindErrors">kindErrors</a> <a href="#480689" title="(errs: Kinds.this.KindErrors)Kinds.this.KindErrors">++=</a> <a href="#481299" title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors">checkKindBoundsHK</a><span class="delimiter">(</span>
            <a href="#481383" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>,
            <a href="#481383" title="Kinds.this.Symbol">hkarg</a>,
            <a href="#481384" title="Kinds.this.Symbol">hkparam</a>,
            <a href="#481309" title="Kinds.this.Symbol">paramowner</a>,
            <a href="#481310" title="List[Kinds.this.Symbol]">underHKParams</a> <a href="../../collection/immutable/List.scala.html#63655" title="(that: scala.collection.GenTraversableOnce[Kinds.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Kinds.this.Symbol],Kinds.this.Symbol,List[Kinds.this.Symbol]])List[Kinds.this.Symbol]">++</a> <a href="#481384" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>,
            <a href="#481311" title="List[Kinds.this.Symbol]">withHKArgs</a> <a href="../../collection/immutable/List.scala.html#63655" title="(that: scala.collection.GenTraversableOnce[Kinds.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Kinds.this.Symbol],Kinds.this.Symbol,List[Kinds.this.Symbol]])List[Kinds.this.Symbol]">++</a> <a href="#481383" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#481282" title="Boolean">explainErrors</a> <a href="../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#481312" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#480685" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#481312" title="Kinds.this.KindErrors">kindErrors</a>
      <span class="delimiter">}</span>
      <span title="Kinds.this.KindErrors" class="keyword">if</span> <span class="delimiter">(</span><a href="#481282" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#481312" title="Kinds.this.KindErrors">kindErrors</a>
      <span class="keyword">else</span> <a href="#441613" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Required.scala.html#441908" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#456420" title="=&gt; scala.reflect.internal.settings.MutableSettings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#456449" title="=&gt; Boolean">value</a> <a href="../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#481278" title="List[Kinds.this.Symbol]">tparams</a>.<a href="../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a> <a href="../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#481279" title="List[Kinds.this.Type]">targs</a>.<a href="../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="SymbolTable.scala.html#440548" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
      <span title="String(&quot;checkKindBounds0(&quot;)" class="string">&quot;checkKindBounds0(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481278" title="List[Kinds.this.Symbol]">tparams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481279" title="List[Kinds.this.Type]">targs</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481280" title="Kinds.this.Type">pre</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
      <span title="(x$1: Any)String">+</span> <a href="#481281" title="Kinds.this.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#481282" title="Boolean">explainErrors</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    <span class="delimiter">)</span>

    <a href="util/Collections.scala.html#440681" title="(xs1: List[Kinds.this.Symbol], xs2: List[Kinds.this.Type])(f: (Kinds.this.Symbol, Kinds.this.Type) =&gt; List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)])List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">flatMap2</a><span class="delimiter">(</span><a href="#481278" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#481279" title="List[Kinds.this.Type]">targs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Kinds.this.Symbol" id="481589">tparam</a>, <a title="Kinds.this.Type" id="481590">targ</a><span class="delimiter">)</span> =&gt;
      // Prevent WildcardType from causing kind errors, as typevars may be higher-order
      <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#481590" title="Kinds.this.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Types.scala.html#441251" title="Kinds.this.WildcardType.type">WildcardType</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <span class="delimiter">{</span>
        // force symbol load for #4205
        <a href="#481590" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#441988" title="=&gt; Kinds.this.Symbol">typeSymbolDirect</a>.<a href="Symbols.scala.html#443427" title="=&gt; Kinds.this.Type">info</a>
        // @M must use the typeParams of the *type* targ, not of the *symbol* of targ!!
        <span class="keyword">val</span> <a title="List[Kinds.this.Symbol]" id="481595">tparamsHO</a> = <a href="#481590" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#442011" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
        <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#481590" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#441972" title="=&gt; Boolean">isHigherKinded</a> <a href="../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#481589" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // NOTE: *not* targ.typeSymbol, which normalizes
          <span class="keyword">val</span> <a title="Kinds.this.KindErrors" id="481597">kindErrors</a> = <a href="#481299" title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors">checkKindBoundsHK</a><span class="delimiter">(</span>
            <a href="#481595" title="List[Kinds.this.Symbol]">tparamsHO</a>, <a href="#481590" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#441988" title="=&gt; Kinds.this.Symbol">typeSymbolDirect</a>, <a href="#481589" title="Kinds.this.Symbol">tparam</a>,
            <a href="#481589" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#443379" title="=&gt; Kinds.this.Symbol">owner</a>, <a href="#481589" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#443447" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>, <a href="#481595" title="List[Kinds.this.Symbol]">tparamsHO</a>
          <span class="delimiter">)</span>
          <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#481597" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#480685" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#481282" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#63291" title="(xs: (Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)*)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">List</a><span class="delimiter">(</span><a href="../../Tuple3.scala.html#64156" title="(_1: Kinds.this.Type, _2: Kinds.this.Symbol, _3: Kinds.this.KindErrors)(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)" class="delimiter">(</a><a href="#481590" title="Kinds.this.Type">targ</a>, <a href="#481589" title="Kinds.this.Symbol">tparam</a>, <a href="#481597" title="Kinds.this.KindErrors">kindErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>
            // Return as soon as an error is seen if there's nothing to explain.
            <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="../../collection/immutable/List.scala.html#63291" title="(xs: (Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)*)List[(Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)]">List</a><span class="delimiter">(</span><a href="../../Tuple3.scala.html#64156" title="(_1: Kinds.this.NoType.type, _2: Kinds.this.NoSymbol, _3: Kinds.this.KindErrors)(Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)" class="delimiter">(</a><a href="Types.scala.html#441256" title="Kinds.this.NoType.type">NoType</a>, <a href="Symbols.scala.html#441152" title="=&gt; Kinds.this.NoSymbol">NoSymbol</a>, <a href="#441613" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span title="Object" class="delimiter">}</span>
        </pre>
    </body>
</html>