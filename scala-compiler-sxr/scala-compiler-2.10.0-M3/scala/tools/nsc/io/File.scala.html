<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/io/File.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2011, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> io

<span class="keyword">import</span> java.io.<span class="delimiter">{</span>
  FileInputStream, FileOutputStream, BufferedReader, BufferedWriter, InputStreamReader, OutputStreamWriter,
  BufferedInputStream, BufferedOutputStream, IOException, PrintStream, PrintWriter, Closeable =&gt; JCloseable <span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.channels.<span class="delimiter">{</span> Channel, FileChannel <span class="delimiter">}</span>
<span class="keyword">import</span> scala.io.Codec
<span class="keyword">import</span> <a href="../../../language.scala.html#2216" title="language.type">language</a>.<span class="delimiter">{</span>reflectiveCalls, implicitConversions<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="scala.tools.nsc.io.File.type" id="41226">File</a> <a href="#41227" title="scala.tools.nsc.io.File.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="=&gt; String" id="596348">pathSeparator</a> = java.io.<span title="java.io.File.type">File</span>.<span title="String">pathSeparator</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="596349">separator</a> = java.io.<span title="java.io.File.type">File</span>.<span title="String">separator</span>

  <span class="keyword">def</span> <a title="(path: scala.tools.nsc.io.Path)(implicit codec: scala.io.Codec)scala.tools.nsc.io.File" id="596350">apply</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="614065">path</a>: <a href="Path.scala.html#40928" title="scala.tools.nsc.io.Path">Path</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.io.Codec" id="614066">codec</a>: <a href="../../../io/Codec.scala.html#17363" title="scala.io.Codec">Codec</a><span class="delimiter">)</span> = <span title="scala.tools.nsc.io.File" class="keyword">new</span> <a href="#41225" title="scala.tools.nsc.io.File">File</a><span class="delimiter">(</span><a href="#614065" title="scala.tools.nsc.io.Path">path</a>.<a href="Path.scala.html#480204" title="=&gt; scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#614066" title="scala.io.Codec">codec</a><span class="delimiter">)</span>

  // Create a temporary file, which will be deleted upon jvm exit.
  <span class="keyword">def</span> <a title="(prefix: String, suffix: String, dir: scala.tools.nsc.io.JFile)scala.tools.nsc.io.File" id="596351">makeTemp</a><span class="delimiter">(</span><a title="String" id="614876">prefix</a>: <span title="String">String</span> = <a href="Path.scala.html#40929" title="scala.tools.nsc.io.Path.type">Path</a>.<a href="Path.scala.html#480287" title="=&gt; String">randomPrefix</a>, <a title="String" id="614877">suffix</a>: <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span>, <a title="scala.tools.nsc.io.JFile" id="614878">dir</a>: <span title="scala.tools.nsc.io.JFile">JFile</span> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="614879">jfile</a> = java.io.<span title="java.io.File.type">File</span>.<span title="(x$1: String, x$2: String, x$3: java.io.File)java.io.File">createTempFile</span><span class="delimiter">(</span><a href="#614876" title="String">prefix</a>, <a href="#614877" title="String">suffix</a>, <a href="#614878" title="scala.tools.nsc.io.JFile">dir</a><span class="delimiter">)</span>
    <a href="#614879" title="java.io.File">jfile</a>.<span title="()Unit">deleteOnExit</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#596350" title="(path: scala.tools.nsc.io.Path)(implicit codec: scala.io.Codec)scala.tools.nsc.io.File">apply</a><a href="../../../io/Codec.scala.html#414877" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="Path.scala.html#480278" title="implicit scala.tools.nsc.io.Path.jfile2path : (jfile: scala.tools.nsc.io.JFile)scala.tools.nsc.io.Path">jfile</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">type</span> <a title="File extends AnyRef" id="596352">HasClose</a> = <a href="#965570" title="File extends AnyRef" class="delimiter">{</a> <span class="keyword">def</span> close<span class="delimiter">(</span><span class="delimiter">)</span>: Unit <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(target: scala.tools.nsc.io.File.HasClose)Unit" id="596353">closeQuietly</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.File.HasClose" id="965572">target</a>: <a href="#965570" title="scala.tools.nsc.io.File.HasClose">HasClose</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">try</span> <a href="#965572" title="scala.tools.nsc.io.File.HasClose">target</a>.<a href="#965571" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Unit" id="965573">e</a>: <span title="java.io.IOException">IOException</span> =&gt; <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(target: java.io.Closeable)Unit" id="596354">closeQuietly</a><span class="delimiter">(</span><a title="java.io.Closeable" id="965575">target</a>: <span title="java.io.Closeable">JCloseable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">try</span> <a href="#965575" title="java.io.Closeable">target</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Unit" id="965576">e</a>: <span title="java.io.IOException">IOException</span> =&gt; <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // this is a workaround for http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6503430
  // we are using a static initializer to statically initialize a java class so we don't
  // trigger java.lang.InternalErrors later when using it concurrently.  We ignore all
  // the exceptions so as not to cause spurious failures when no write access is available,
  // e.g. google app engine.
  //
  // XXX need to put this behind a setting.
  //
  // try {
  //   import Streamable.closing
  //   val tmp = java.io.File.createTempFile(&quot;bug6503430&quot;, null, null)
  //   try closing(new FileInputStream(tmp)) { in =&gt;
  //     val inc = in.getChannel()
  //     closing(new FileOutputStream(tmp, true)) { out =&gt;
  //       out.getChannel().transferFrom(inc, 0, 0)
  //     }
  //   }
  //   finally tmp.delete()
  // }
  // catch {
  //   case _: IllegalArgumentException | _: IllegalStateException | _: IOException | _: SecurityException =&gt; ()
  // }
<span class="delimiter">}</span>
<span title="Object" class="keyword">import</span> <a href="#41226" title="scala.tools.nsc.io.File.type">File</a>._
<span class="keyword">import</span> <a href="Path.scala.html#40929" title="scala.tools.nsc.io.Path.type">Path</a>._

/** An abstraction for files.  For character data, a Codec
 *  can be supplied at either creation time or when a method
 *  involving character data is called (with the latter taking
 *  precedence if supplied.) If neither is available, the value
 *  of scala.io.Codec.default is used.
 *
 *  @author  Paul Phillips
 *  @since   2.8
 */
<span class="keyword">class</span> <a title="class File extends scala.tools.nsc.io.Path with scala.tools.nsc.io.Streamable.Chars" id="41225">File</a><a href="#41225" title="scala.tools.nsc.io.File" class="delimiter">(</a><a title="scala.tools.nsc.io.JFile" id="614067">jfile</a>: <span title="scala.tools.nsc.io.JFile">JFile</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.io.Codec" id="614068">constructorCodec</a>: <a href="../../../io/Codec.scala.html#17363" title="scala.io.Codec">Codec</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Path.scala.html#40928" title="scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#614067" title="scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span> <span class="keyword">with</span> Streamable.<a href="Streamable.scala.html#480326" title="scala.tools.nsc.io.Streamable.Chars">Chars</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.io.Codec" id="480340">creationCodec</a> = <a href="#614068" title="scala.io.Codec">constructorCodec</a>
  <span class="keyword">def</span> <a title="(codec: scala.io.Codec)scala.tools.nsc.io.File" id="480342">withCodec</a><span class="delimiter">(</span><a title="scala.io.Codec" id="965581">codec</a>: <a href="../../../io/Codec.scala.html#17363" title="scala.io.Codec">Codec</a><span class="delimiter">)</span>: <a href="#41225" title="scala.tools.nsc.io.File">File</a> = <span title="scala.tools.nsc.io.File" class="keyword">new</span> <a href="#41225" title="scala.tools.nsc.io.File">File</a><span class="delimiter">(</span><a href="#614067" title="scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#965581" title="scala.io.Codec">codec</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ext: String)scala.tools.nsc.io.File" id="480343">addExtension</a><span class="delimiter">(</span><a title="String" id="965583">ext</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#41225" title="scala.tools.nsc.io.File">File</a> = <a href="#41225" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#480237" title="(ext: String)scala.tools.nsc.io.Path">addExtension</a><span class="delimiter">(</span><a href="#965583" title="String">ext</a><span class="delimiter">)</span>.<a href="Path.scala.html#480212" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="480344">toAbsolute</a>: <a href="#41225" title="scala.tools.nsc.io.File">File</a> = <span title="scala.tools.nsc.io.File" class="keyword">if</span> <span class="delimiter">(</span><a href="Path.scala.html#480251" title="=&gt; Boolean">isAbsolute</a><span class="delimiter">)</span> <a href="#41225" title="scala.tools.nsc.io.File" class="keyword">this</a> <span class="keyword">else</span> <a href="#41225" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#480214" title="=&gt; scala.tools.nsc.io.Path">toAbsolute</a>.<a href="Path.scala.html#480212" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.Directory" id="480345">toDirectory</a>: <a href="Directory.scala.html#40649" title="scala.tools.nsc.io.Directory">Directory</a> = <span title="scala.tools.nsc.io.Directory" class="keyword">new</span> <a href="Directory.scala.html#40649" title="scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="#614067" title="scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="480346">toFile</a>: <a href="#41225" title="scala.tools.nsc.io.File">File</a> = <a href="#41225" title="scala.tools.nsc.io.File" class="keyword">this</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="480347">normalize</a>: <a href="#41225" title="scala.tools.nsc.io.File">File</a> = <a href="#41225" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#480226" title="=&gt; scala.tools.nsc.io.Path">normalize</a>.<a href="Path.scala.html#480212" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="480348">isValid</a> = <a href="#614067" title="scala.tools.nsc.io.JFile">jfile</a>.<span title="()Boolean">isFile</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#614067" title="scala.tools.nsc.io.JFile">jfile</a>.<span title="()Boolean">exists</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="480349">length</a> = <a href="#41225" title="scala.tools.nsc.io.File" class="keyword">super</a><span class="delimiter">[</span>Path<span class="delimiter">]</span>.<a href="Path.scala.html#480256" title="=&gt; Long">length</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(cond: scala.tools.nsc.io.Path =&gt; Boolean)Iterator[scala.tools.nsc.io.Path]" id="480350">walkFilter</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path =&gt; Boolean" id="965596">cond</a>: Path =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../collection/Iterator.scala.html#5383" title="Iterator[scala.tools.nsc.io.Path]">Iterator</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> =
    <span title="Iterator[scala.tools.nsc.io.Path]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Function1.scala.html#59555" title="(v1: scala.tools.nsc.io.Path)Boolean">cond</a><span class="delimiter">(</span><a href="#41225" title="scala.tools.nsc.io.File" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../package.scala.html#56995" title="=&gt; collection.Iterator.type">Iterator</a>.<a href="../../../collection/Iterator.scala.html#89022" title="(elem: scala.tools.nsc.io.File)Iterator[scala.tools.nsc.io.File]">single</a><span class="delimiter">(</span><a href="#41225" title="scala.tools.nsc.io.File" class="keyword">this</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../package.scala.html#56995" title="=&gt; collection.Iterator.type">Iterator</a>.<a href="../../../collection/Iterator.scala.html#89020" title="=&gt; Iterator[Nothing]">empty</a>

  /** Obtains an InputStream. */
  <span class="keyword">def</span> <a title="()java.io.FileInputStream" id="480351">inputStream</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(x$1: java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#614067" title="scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span>

  /** Obtains a OutputStream. */
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.FileOutputStream" id="480352">outputStream</a><span class="delimiter">(</span><a title="Boolean" id="644555">append</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="(x$1: java.io.File, x$2: Boolean)java.io.FileOutputStream" class="keyword">new</span> <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#614067" title="scala.tools.nsc.io.JFile">jfile</a>, <a href="#644555" title="Boolean">append</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.BufferedOutputStream" id="480353">bufferedOutput</a><span class="delimiter">(</span><a title="Boolean" id="644549">append</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="java.io.BufferedOutputStream" class="keyword">new</span> <span title="java.io.BufferedOutputStream">BufferedOutputStream</span><span class="delimiter">(</span><a href="#480352" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#644549" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.PrintStream" id="480354">printStream</a><span class="delimiter">(</span><a title="Boolean" id="965605">append</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="(x$1: java.io.OutputStream, x$2: Boolean)java.io.PrintStream" class="keyword">new</span> <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">(</span><a href="#480352" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#965605" title="Boolean">append</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  /** Obtains an OutputStreamWriter wrapped around a FileOutputStream.
   *  This should behave like a less broken version of java.io.FileWriter,
   *  in that unlike the java version you can specify the encoding.
   */
  <span class="keyword">def</span> <a title="()java.io.OutputStreamWriter" id="480355">writer</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> = <a href="#480356" title="(append: Boolean)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.OutputStreamWriter" id="480356">writer</a><span class="delimiter">(</span><a title="Boolean" id="965618">append</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> = <a href="#480357" title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><a href="#965618" title="Boolean">append</a>, <a href="#480340" title="=&gt; scala.io.Codec">creationCodec</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter" id="480357">writer</a><span class="delimiter">(</span><a title="Boolean" id="965615">append</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="scala.io.Codec" id="965616">codec</a>: <a href="../../../io/Codec.scala.html#17363" title="scala.io.Codec">Codec</a><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> =
    <span title="(x$1: java.io.OutputStream, x$2: java.nio.charset.Charset)java.io.OutputStreamWriter" class="keyword">new</span> <span title="java.io.OutputStreamWriter">OutputStreamWriter</span><span class="delimiter">(</span><a href="#480352" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#965615" title="Boolean">append</a><span class="delimiter">)</span>, <a href="#965616" title="scala.io.Codec">codec</a>.<a href="../../../io/Codec.scala.html#413054" title="=&gt; java.nio.charset.Charset">charSet</a><span class="delimiter">)</span>

  /** Wraps a BufferedWriter around the result of writer().
   */
  <span class="keyword">def</span> <a title="()java.io.BufferedWriter" id="480358">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> = <a href="#480359" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.BufferedWriter" id="480359">bufferedWriter</a><span class="delimiter">(</span><a title="Boolean" id="965641">append</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> = <a href="#480360" title="(append: Boolean, codec: scala.io.Codec)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><a href="#965641" title="Boolean">append</a>, <a href="#480340" title="=&gt; scala.io.Codec">creationCodec</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean, codec: scala.io.Codec)java.io.BufferedWriter" id="480360">bufferedWriter</a><span class="delimiter">(</span><a title="Boolean" id="965638">append</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="scala.io.Codec" id="965639">codec</a>: <a href="../../../io/Codec.scala.html#17363" title="scala.io.Codec">Codec</a><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> =
    <span title="java.io.BufferedWriter" class="keyword">new</span> <span title="java.io.BufferedWriter">BufferedWriter</span><span class="delimiter">(</span><a href="#480357" title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><a href="#965638" title="Boolean">append</a>, <a href="#965639" title="scala.io.Codec">codec</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()java.io.PrintWriter" id="480361">printWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.PrintWriter">PrintWriter</span> = <span title="(x$1: java.io.Writer, x$2: Boolean)java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#480358" title="()java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.PrintWriter" id="480362">printWriter</a><span class="delimiter">(</span><a title="Boolean" id="772345">append</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <span title="java.io.PrintWriter">PrintWriter</span> = <span title="(x$1: java.io.Writer, x$2: Boolean)java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#480359" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><a href="#772345" title="Boolean">append</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  /** Creates a new file and writes all the Strings to it. */
  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="480363">writeAll</a><span class="delimiter">(</span><a title="String*" id="614981">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedWriter" id="965669">out</a> = <a href="#480358" title="()java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#614981" title="String*">strings</a> <a href="../../../collection/IterableLike.scala.html#59458" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#965669" title="java.io.BufferedWriter">out</a> <span title="(x$1: String)Unit">write</span> <a href="#965690" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#965669" title="java.io.BufferedWriter">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(bytes: Array[Byte])Unit" id="480364">writeBytes</a><span class="delimiter">(</span><a title="Array[Byte]" id="965697">bytes</a>: <a href="../../../Array.scala.html#292" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedOutputStream" id="965699">out</a> = <a href="#480353" title="(append: Boolean)java.io.BufferedOutputStream">bufferedOutput</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#965699" title="java.io.BufferedOutputStream">out</a> <span title="(x$1: Array[Byte])Unit">write</span> <a href="#965697" title="Array[Byte]">bytes</a>
    <span class="keyword">finally</span> <a href="#965699" title="java.io.BufferedOutputStream">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="480365">appendAll</a><span class="delimiter">(</span><a title="String*" id="963396">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedWriter" id="965705">out</a> = <a href="#480359" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span>append = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#963396" title="String*">strings</a> <a href="../../../collection/IterableLike.scala.html#59458" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#965705" title="java.io.BufferedWriter">out</a> <span title="(x$1: String)Unit">write</span> <a href="#965726" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#965705" title="java.io.BufferedWriter">out</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Calls println on each string (so it adds a newline in the PrintWriter fashion.) */
  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="480366">printlnAll</a><span class="delimiter">(</span><a title="String*" id="965733">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.PrintWriter" id="965735">out</a> = <a href="#480361" title="()java.io.PrintWriter">printWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#965733" title="String*">strings</a> <a href="../../../collection/IterableLike.scala.html#59458" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#965735" title="java.io.PrintWriter">out</a> <span title="(x$1: String)Unit">println</span> <a href="#965756" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#965735" title="java.io.PrintWriter">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Option[String]" id="480367">safeSlurp</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="keyword">try</span> <a href="../../../Option.scala.html#64111" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="Streamable.scala.html#480390" title="()String">slurp</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="None.type">_</span>: <span title="java.io.IOException">IOException</span> =&gt; <a href="../../../Option.scala.html#2498" title="None.type">None</a> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(destPath: scala.tools.nsc.io.Path, preserveFileDate: Boolean)Boolean" id="480368">copyTo</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="965771">destPath</a>: <a href="Path.scala.html#40928" title="scala.tools.nsc.io.Path">Path</a>, <a title="Boolean" id="965774">preserveFileDate</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="965775">CHUNK</a> = <span class="int">1024</span> * <span class="int">1024</span> <span title="Int(16777216)">*</span> <span class="int">16</span>  // 16 MB
    <span class="keyword">val</span> <a title="scala.tools.nsc.io.File" id="965776">dest</a> = <a href="#965771" title="scala.tools.nsc.io.Path">destPath</a>.<a href="Path.scala.html#480212" title="=&gt; scala.tools.nsc.io.File">toFile</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#480348" title="=&gt; Boolean">isValid</a><span class="delimiter">)</span> <a href="Path.scala.html#480288" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Source %s is not a valid file.&quot;</a> <a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a> <a href="Path.scala.html#480224" title="=&gt; String">name</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#41225" title="File.this.type" class="keyword">this</a>.<a href="#480347" title="=&gt; scala.tools.nsc.io.File">normalize</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="#480347" title="=&gt; scala.tools.nsc.io.File">normalize</a><span class="delimiter">)</span> <a href="Path.scala.html#480288" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="String(&quot;Source and destination are the same.&quot;)" class="string">&quot;Source and destination are the same.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#480232" title="=&gt; scala.tools.nsc.io.Directory">parent</a>.<a href="Path.scala.html#480247" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="Path.scala.html#480288" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="String(&quot;Destination cannot be created.&quot;)" class="string">&quot;Destination cannot be created.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#480247" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#480246" title="=&gt; Boolean">canWrite</a><span class="delimiter">)</span> <a href="Path.scala.html#480288" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="String(&quot;Destination exists but is not writable.&quot;)" class="string">&quot;Destination exists but is not writable.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#480250" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <a href="Path.scala.html#480288" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="String(&quot;Destination exists but is a directory.&quot;)" class="string">&quot;Destination exists but is a directory.&quot;</span><span class="delimiter">)</span>

    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.FileInputStream" id="965778">in_s</a> = <a href="#480351" title="()java.io.FileInputStream">inputStream</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.FileOutputStream" id="965780">out_s</a> = <a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="#480352" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.nio.channels.FileChannel" id="965782">in</a> = <a href="#965777" title="=&gt; java.io.FileInputStream">in_s</a>.<span title="()java.nio.channels.FileChannel">getChannel</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.nio.channels.FileChannel" id="965784">out</a> = <a href="#965779" title="=&gt; java.io.FileOutputStream">out_s</a>.<span title="()java.nio.channels.FileChannel">getChannel</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Long" id="965814">size</a> = <a href="#965781" title="=&gt; java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Long" id="965815">pos</a>, <a title="Long" id="965816">count</a> = <span title="Long(0L)" class="long">0L</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#965815" title="Long">pos</a> <a href="../../../Long.scala.html#58268" title="(x: Long)Boolean">&lt;</a> <a href="#965814" title="Long">size</a><span class="delimiter">)</span> <a href="#965817" title="()Unit" class="delimiter">{</a>
        <a href="#965816" title="Long">count</a> = <span class="delimiter">(</span><a href="#965814" title="Long">size</a> <a href="../../../LowPriorityImplicits.scala.html#8335" title="implicit scala.LowPriorityImplicits.longWrapper : (x: Long)scala.runtime.RichLong">-</a> <a href="#965815" title="Long">pos</a><span class="delimiter">)</span> <a href="../../../runtime/ScalaNumberProxy.scala.html#57537" title="(that: Long)Long">min</a> <a href="../../../Int.scala.html#57875" title="=&gt; Long">CHUNK</a>
        <a href="#965815" title="Long">pos</a> <a href="../../../Long.scala.html#58311" title="(x: Long)Long">+=</a> <a href="#965783" title="=&gt; java.nio.channels.FileChannel">out</a>.<span title="(x$1: java.nio.channels.ReadableByteChannel, x$2: Long, x$3: Long)Long">transferFrom</span><span class="delimiter">(</span><a href="#965781" title="=&gt; java.nio.channels.FileChannel">in</a>, <a href="#965815" title="Long">pos</a>, <a href="#965816" title="Long">count</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">finally</span> <a href="../../../collection/immutable/List.scala.html#63291" title="[A](xs: A*)List[A]">List</a><span title="(xs: scala.tools.nsc.io.File.HasClose*)List[scala.tools.nsc.io.File.HasClose]" class="delimiter">[</span><a href="#965570" title="scala.tools.nsc.io.File.HasClose">HasClose</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#965783" title="=&gt; java.nio.channels.FileChannel">out</a>, <a href="#965779" title="=&gt; java.io.FileOutputStream">out_s</a>, <a href="#965781" title="=&gt; java.nio.channels.FileChannel">in</a>, <a href="#965777" title="=&gt; java.io.FileInputStream">in_s</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: scala.tools.nsc.io.File.HasClose =&gt; Unit)Unit">foreach</a> <a href="#596353" title="(target: scala.tools.nsc.io.File.HasClose)Unit">closeQuietly</a>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#41225" title="File.this.type" class="keyword">this</a>.<a href="#480349" title="=&gt; Long">length</a> <a href="../../../Long.scala.html#58261" title="(x: Long)Boolean">!=</a> <a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="#480349" title="=&gt; Long">length</a><span class="delimiter">)</span>
      <a href="Path.scala.html#480288" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Failed to completely copy %s to %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="Path.scala.html#480224" title="=&gt; String">name</a>, <a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#480224" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#965774" title="Boolean">preserveFileDate</a><span class="delimiter">)</span>
      <a href="#965776" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#480255" title="(time: Long)Boolean">lastModified</a> = <a href="#41225" title="File.this.type" class="keyword">this</a>.<a href="Path.scala.html#480254" title="=&gt; Long">lastModified</a>

    <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  /** Reflection since we're into the java 6+ API.
   */
  <span class="keyword">def</span> <a title="(executable: Boolean, ownerOnly: Boolean)Boolean" id="480369">setExecutable</a><span class="delimiter">(</span><a title="Boolean" id="634080">executable</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="Boolean" id="634083">ownerOnly</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="Boolean" id="965945">JBoolean</a> = java.lang.<span title="Boolean">Boolean</span>
    <span class="keyword">val</span> <a title="java.lang.reflect.Method" id="965946">method</a> =
      <span class="keyword">try</span> classOf<span title="Class[scala.tools.nsc.io.JFile](classOf[java.io.File])" class="delimiter">[</span>JFile<span class="delimiter">]</span>.<span title="(x$1: String, x$2: &lt;repeated...&gt;[Class[_]])java.lang.reflect.Method">getMethod</span><span class="delimiter">(</span><span title="String(&quot;setExecutable&quot;)" class="string">&quot;setExecutable&quot;</span>, classOf<span title="Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span>, classOf<span title="Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Nothing">_</span>: <span title="NoSuchMethodException">NoSuchMethodException</span> =&gt; <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

    <span class="keyword">try</span> <a href="#965946" title="java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span class="delimiter">(</span><a href="#614067" title="scala.tools.nsc.io.JFile">jfile</a>, <a href="../../../Predef.scala.html#8559" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">executable</a>: <span title="JBoolean">JBoolean</span>, <a href="../../../Predef.scala.html#8559" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">ownerOnly</a>: <span title="JBoolean">JBoolean</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="JBoolean" class="delimiter">[</span><span title="JBoolean">JBoolean</span><span class="delimiter">]</span>.<span title="()Boolean">booleanValue</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(false)">_</span>: <span title="Exception">Exception</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>