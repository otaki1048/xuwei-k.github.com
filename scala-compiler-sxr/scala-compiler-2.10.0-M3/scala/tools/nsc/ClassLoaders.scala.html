<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/ClassLoaders.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc

<span class="keyword">import</span> util.ScalaClassLoader

<span class="keyword">trait</span> <a title="trait ClassLoaders extends Object" id="28012">ClassLoaders</a> <a href="../../Unit.scala.html#2389" title="Unit" class="delimiter">{</a> self: Global =&gt;

  <span class="keyword">def</span> <a title="(fullname: String)ClassLoaders.this.Symbol" id="559782">staticClass</a><span class="delimiter">(</span><a title="String" id="642411">fullname</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#28012" title="ClassLoaders.this.type">self</a>.<a href="Global.scala.html#559775" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)UnsupportedOperationException" class="keyword">new</span> <a href="../../package.scala.html#56966" title="UnsupportedOperationException">UnsupportedOperationException</a><span class="delimiter">(</span><span title="String(&quot;Scala reflection not available on this platform&quot;)" class="string">&quot;Scala reflection not available on this platform&quot;</span><span class="delimiter">)</span>

    <a href="#559784" title="(fullname: ClassLoaders.this.Name)ClassLoaders.this.Symbol">getClass</a><span class="delimiter">(</span><a href="../../reflect/internal/Names.scala.html#440784" title="(s: String)ClassLoaders.this.TypeName">newTypeName</a><span class="delimiter">(</span><a href="#642411" title="String">fullname</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(fullname: String)ClassLoaders.this.Symbol" id="559783">staticModule</a><span class="delimiter">(</span><a title="String" id="642429">fullname</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#28012" title="ClassLoaders.this.type">self</a>.<a href="Global.scala.html#559775" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)UnsupportedOperationException" class="keyword">new</span> <a href="../../package.scala.html#56966" title="UnsupportedOperationException">UnsupportedOperationException</a><span class="delimiter">(</span><span title="String(&quot;Scala reflection not available on this platform&quot;)" class="string">&quot;Scala reflection not available on this platform&quot;</span><span class="delimiter">)</span>

    <a href="#559785" title="(fullname: ClassLoaders.this.Name)ClassLoaders.this.Symbol">getModule</a><span class="delimiter">(</span><a href="../../reflect/internal/Names.scala.html#440783" title="(s: String)ClassLoaders.this.TermName">newTermName</a><span class="delimiter">(</span><a href="#642429" title="String">fullname</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: ClassLoaders.this.Name)ClassLoaders.this.Symbol" id="559784">getClass</a><span class="delimiter">(</span><a title="ClassLoaders.this.Name" id="642416">fullname</a>: <a href="../../reflect/internal/Names.scala.html#440792" title="ClassLoaders.this.Name">Name</a><span class="delimiter">)</span>: <a href="../../reflect/internal/Symbols.scala.html#441132" title="ClassLoaders.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="ClassLoaders.this.Symbol" id="642441">result</a> = <a href="#559786" title="(path: ClassLoaders.this.Name)ClassLoaders.this.Symbol">getModuleOrClass</a><span class="delimiter">(</span><a href="#642416" title="ClassLoaders.this.Name">fullname</a>.<a href="../../reflect/internal/Names.scala.html#444127" title="=&gt; ClassLoaders.this.TypeName">toTypeName</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#642441" title="ClassLoaders.this.Symbol">result</a>.<a href="../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#642441" title="ClassLoaders.this.Symbol">result</a> = <a href="#642441" title="ClassLoaders.this.Symbol">result</a>.<a href="../../reflect/internal/Symbols.scala.html#443427" title="=&gt; ClassLoaders.this.Type">info</a>.<a href="../../reflect/internal/Types.scala.html#441986" title="=&gt; ClassLoaders.this.Symbol">typeSymbol</a>
    <a href="#642441" title="ClassLoaders.this.Symbol">result</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: ClassLoaders.this.Name)ClassLoaders.this.Symbol" id="559785">getModule</a><span class="delimiter">(</span><a title="ClassLoaders.this.Name" id="642434">fullname</a>: <a href="../../reflect/internal/Names.scala.html#440792" title="ClassLoaders.this.Name">Name</a><span class="delimiter">)</span>: <a href="../../reflect/internal/Symbols.scala.html#441132" title="ClassLoaders.this.Symbol">Symbol</a> =
    <a href="#559786" title="(path: ClassLoaders.this.Name)ClassLoaders.this.Symbol">getModuleOrClass</a><span class="delimiter">(</span><a href="#642434" title="ClassLoaders.this.Name">fullname</a>.<a href="../../reflect/internal/Names.scala.html#444126" title="=&gt; ClassLoaders.this.TermName">toTermName</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: ClassLoaders.this.Name)ClassLoaders.this.Symbol" id="559786">getModuleOrClass</a><span class="delimiter">(</span><a title="ClassLoaders.this.Name" id="642449">path</a>: <a href="../../reflect/internal/Names.scala.html#440792" title="ClassLoaders.this.Name">Name</a><span class="delimiter">)</span>: <a href="../../reflect/internal/Symbols.scala.html#441132" title="ClassLoaders.this.Symbol">Symbol</a> =
    <a href="#559787" title="(path: ClassLoaders.this.Name, len: Int)ClassLoaders.this.Symbol">getModuleOrClass</a><span class="delimiter">(</span><a href="#642449" title="ClassLoaders.this.Name">path</a>, <a href="#642449" title="ClassLoaders.this.Name">path</a>.<a href="../../reflect/internal/Names.scala.html#444120" title="=&gt; Int">length</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: ClassLoaders.this.Name, len: Int)ClassLoaders.this.Symbol" id="559787">getModuleOrClass</a><span class="delimiter">(</span><a title="ClassLoaders.this.Name" id="642447">path</a>: <a href="../../reflect/internal/Names.scala.html#440792" title="ClassLoaders.this.Name">Name</a>, <a title="Int" id="642448">len</a>: <a href="../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../reflect/internal/Symbols.scala.html#441132" title="ClassLoaders.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="642465">point</a> = <a href="#642447" title="ClassLoaders.this.Name">path</a> <a href="../../reflect/internal/Names.scala.html#444145" title="(c: Char, start: Int)Int">lastPos</a><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span>, <a href="#642448" title="Int">len</a> <a href="../../Int.scala.html#57955" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ClassLoaders.this.Symbol" id="642466">owner</a> =
      <span title="ClassLoaders.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#642465" title="Int">point</a> <a href="../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#559787" title="(path: ClassLoaders.this.Name, len: Int)ClassLoaders.this.Symbol">getModuleOrClass</a><span class="delimiter">(</span><a href="#642447" title="ClassLoaders.this.Name">path</a>.<a href="../../reflect/internal/Names.scala.html#444126" title="=&gt; ClassLoaders.this.TermName">toTermName</a>, <a href="#642465" title="Int">point</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../reflect/internal/Definitions.scala.html#441641" title="ClassLoaders.this.definitions.type">definitions</a>.<a href="../../reflect/internal/Definitions.scala.html#442142" title="ClassLoaders.this.definitions.RootClass.type">RootClass</a>
    <span class="keyword">val</span> <a title="path.ThisNameType" id="642467">name</a> = <a href="#642447" title="ClassLoaders.this.Name">path</a> <a href="../../reflect/internal/Names.scala.html#444130" title="(from: Int, to: Int)path.ThisNameType">subName</a> <span class="delimiter">(</span><a href="#642465" title="Int">point</a> <a href="../../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#642448" title="Int">len</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ClassLoaders.this.Symbol" id="642468">sym</a> = <a href="#642466" title="ClassLoaders.this.Symbol">owner</a>.<a href="../../reflect/internal/Symbols.scala.html#443427" title="=&gt; ClassLoaders.this.Type">info</a> <a href="../../reflect/internal/Types.scala.html#442028" title="(name: ClassLoaders.this.Name)ClassLoaders.this.Symbol">member</a> <a href="#642467" title="path.ThisNameType">name</a>
    <span class="keyword">val</span> <a title="ClassLoaders.this.Symbol" id="642469">result</a> = <span title="ClassLoaders.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#642447" title="ClassLoaders.this.Name">path</a>.<a href="../../reflect/internal/Names.scala.html#444124" title="=&gt; Boolean">isTermName</a><span class="delimiter">)</span> <a href="#642468" title="ClassLoaders.this.Symbol">sym</a>.<a href="../../reflect/internal/Symbols.scala.html#443474" title="(cond: ClassLoaders.this.Symbol =&gt; Boolean)ClassLoaders.this.Symbol">suchThat</a><span class="delimiter">(</span><a href="#642501" title="ClassLoaders.this.Symbol">_</a> <a href="../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> symtab.Flags.<span title="Long(256L)">MODULE</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#642468" title="ClassLoaders.this.Symbol">sym</a>
    <span title="ClassLoaders.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#642469" title="ClassLoaders.this.Symbol">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../reflect/internal/Symbols.scala.html#441152" title="=&gt; ClassLoaders.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#642469" title="ClassLoaders.this.Symbol">result</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#642468" title="ClassLoaders.this.Symbol">sym</a>.<a href="../../reflect/internal/Symbols.scala.html#443427" title="=&gt; ClassLoaders.this.Type">info</a><span class="delimiter">)</span>; <a href="Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#642468" title="ClassLoaders.this.Symbol">sym</a>.<a href="../../reflect/internal/Symbols.scala.html#443427" title="=&gt; ClassLoaders.this.Type">info</a>.<a href="../../reflect/internal/Types.scala.html#442023" title="=&gt; List[ClassLoaders.this.Symbol]">members</a><span class="delimiter">)</span> <span class="delimiter">}</span>//debug
      <span title="ClassLoaders.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#642466" title="ClassLoaders.this.Symbol">owner</a>.<a href="../../reflect/internal/Symbols.scala.html#443292" title="=&gt; Boolean">isRoot</a> <a href="../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#559788" title="(path: String)Boolean">isJavaClass</a><span class="delimiter">(</span><a href="#642467" title="path.ThisNameType">name</a>.<a href="../../Function1.scala.html#59562" title="()String">toString</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../reflect/internal/Definitions.scala.html#441641" title="ClassLoaders.this.definitions.type">definitions</a>.<a href="../../reflect/internal/Definitions.scala.html#442146" title="ClassLoaders.this.definitions.EmptyPackageClass.type">EmptyPackageClass</a>.<a href="../../reflect/internal/Symbols.scala.html#443427" title="=&gt; ClassLoaders.this.Type">info</a> <a href="../../reflect/internal/Types.scala.html#442020" title="(name: ClassLoaders.this.Name)ClassLoaders.this.Symbol">decl</a> <a href="#642467" title="path.ThisNameType">name</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(msg: =&gt; String)Unit" id="642516">info</a><span class="delimiter">(</span><a title="=&gt; String" id="642517">msg</a>: =&gt; String<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="settings/StandardScalaSettings.scala.html#467685" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">verbose</a>.<a href="settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#642517" title="=&gt; String">msg</a><span class="delimiter">)</span>
        <a href="#642516" title="(msg: =&gt; String)Unit">info</a><span class="delimiter">(</span><span title="String(&quot;*** missing: &quot;)" class="string">&quot;*** missing: &quot;</span><span title="(x$1: Any)String">+</span><a href="#642467" title="path.ThisNameType">name</a><span title="(x$1: Any)String">+</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="#642467" title="path.ThisNameType">name</a>.<a href="../../reflect/internal/Names.scala.html#444124" title="=&gt; Boolean">isTermName</a><span title="(x$1: Any)String">+</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="#642466" title="ClassLoaders.this.Symbol">owner</a><span title="(x$1: Any)String">+</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="#642466" title="ClassLoaders.this.Symbol">owner</a>.<a href="../../reflect/internal/HasFlags.scala.html#443617" title="=&gt; Boolean">hasPackageFlag</a><span title="(x$1: Any)String">+</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="#642466" title="ClassLoaders.this.Symbol">owner</a>.<a href="../../reflect/internal/Symbols.scala.html#443427" title="=&gt; ClassLoaders.this.Type">info</a>.<a href="../../reflect/internal/Types.scala.html#442019" title="=&gt; ClassLoaders.this.Scope">decls</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span>
        <a href="package.scala.html#57296" title="=&gt; reflect.internal.MissingRequirementError.type">MissingRequirementError</a>.<a href="../../reflect/internal/MissingRequirementError.scala.html#460379" title="(req: String)Nothing">notFound</a><span class="delimiter">(</span><span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#642447" title="ClassLoaders.this.Name">path</a>.<a href="../../reflect/internal/Names.scala.html#444124" title="=&gt; Boolean">isTermName</a><span class="delimiter">)</span> <span title="String(&quot;object &quot;)" class="string">&quot;object &quot;</span> <span class="keyword">else</span> <span title="String(&quot;class &quot;)" class="string">&quot;class &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><a href="#642447" title="ClassLoaders.this.Name">path</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)Boolean" id="559788">isJavaClass</a><span class="delimiter">(</span><a title="String" id="642514">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
    <a href="#642584" title="Boolean" id="642579" class="keyword">try</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[java.net.URL]" id="642529">classpath</a> = <a href="Global.scala.html#559493" title="=&gt; ClassLoaders.this.ThisPlatform">platform</a>.<a href="backend/Platform.scala.html#642536" title="=&gt; scala.tools.nsc.util.ClassPath[ClassLoaders.this.platform.BinaryRepr]">classPath</a>.<a href="util/ClassPath.scala.html#642554" title="=&gt; List[java.net.URL]">asURLs</a>
      <span class="keyword">var</span> <a title="scala.tools.nsc.util.ScalaClassLoader.URLClassLoader" id="642530">classLoader</a> = <a href="util/ScalaClassLoader.scala.html#51982" title="scala.tools.nsc.util.ScalaClassLoader.type">ScalaClassLoader</a>.<a href="util/ScalaClassLoader.scala.html#576090" title="(urls: Seq[java.net.URL], parent: ClassLoader)scala.tools.nsc.util.ScalaClassLoader.URLClassLoader">fromURLs</a><span class="delimiter">(</span><a href="#642529" title="List[java.net.URL]">classpath</a><span class="delimiter">)</span>
      <span title="Class.type">Class</span>.<span title="(x$1: String, x$2: Boolean, x$3: ClassLoader)Class[_]">forName</span><span class="delimiter">(</span><a href="#642514" title="String">path</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#642530" title="scala.tools.nsc.util.ScalaClassLoader.URLClassLoader">classLoader</a><span class="delimiter">)</span>
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span class="delimiter">(</span>_: ClassNotFoundException<span class="delimiter">)</span> | <span class="delimiter">(</span>_: NoClassDefFoundError<span class="delimiter">)</span> | <span class="delimiter">(</span>_: IncompatibleClassChangeError<span class="delimiter">)</span> =&gt;
      <a href="#642584" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>