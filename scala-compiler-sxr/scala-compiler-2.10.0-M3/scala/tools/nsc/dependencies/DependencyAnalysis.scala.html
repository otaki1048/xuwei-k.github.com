<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/dependencies/DependencyAnalysis.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> dependencies

<span class="keyword">import</span> util.SourceFile
<span class="keyword">import</span> io.Path
<span class="keyword">import</span> collection._
<span class="keyword">import</span> symtab.Flags
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile

<span class="keyword">trait</span> <a title="trait DependencyAnalysis extends scala.tools.nsc.SubComponent with scala.tools.nsc.dependencies.Files" id="34036">DependencyAnalysis</a> <a href="../../../Unit.scala.html#2389" title="Unit" class="keyword">extends</a> <a href="../SubComponent.scala.html#27616" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="keyword">with</span> <a href="Files.scala.html#33988" title="scala.tools.nsc.dependencies.Files">Files</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../SubComponent.scala.html#641784" title="=&gt; scala.tools.nsc.Global">global</a>._

  <span class="keyword">val</span> <a title="String" id="649039">phaseName</a> = <span title="String(&quot;dependencyAnalysis&quot;)" class="string">&quot;dependencyAnalysis&quot;</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="649041">off</a>                  = <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#467670" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">make</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#456447" title="=&gt; Boolean">isDefault</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#467670" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">make</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#456449" title="=&gt; String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;all&quot;)" class="string">&quot;all&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="649042">shouldCheckClasspath</a> = <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#467670" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">make</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#456449" title="=&gt; String">value</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;transitivenocp&quot;)" class="string">&quot;transitivenocp&quot;</span>

  <span class="keyword">def</span> <a title="(prev: scala.tools.nsc.Phase)DependencyAnalysis.this.AnalysisPhase" id="649043">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="804797">prev</a>: <a href="../../../reflect/internal/Phase.scala.html#20058" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> = <span title="DependencyAnalysis.this.AnalysisPhase" class="keyword">new</span> <a href="#649074" title="DependencyAnalysis.this.AnalysisPhase">AnalysisPhase</a><span class="delimiter">(</span><a href="#804797" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.Path" id="649044">depPath</a> = <a href="../io/Path.scala.html#480285" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467476" title="=&gt; scala.tools.nsc.Settings#StringSetting">dependenciesFile</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#456449" title="=&gt; String">value</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="()Boolean" id="649045">loadDependencyAnalysis</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
    <a href="#649044" title="=&gt; scala.tools.nsc.io.Path">depPath</a>.<a href="../io/Path.scala.html#480225" title="=&gt; String">path</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;none&quot;)" class="string">&quot;none&quot;</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#649044" title="=&gt; scala.tools.nsc.io.Path">depPath</a>.<a href="../io/Path.scala.html#480249" title="=&gt; Boolean">isFile</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#649069" title="(f: scala.tools.nsc.io.AbstractFile, toFile: String =&gt; scala.tools.nsc.io.AbstractFile)Boolean">loadFrom</a><span class="delimiter">(</span>
      <a href="../io/AbstractFile.scala.html#41085" title="scala.tools.nsc.io.AbstractFile.type">AbstractFile</a>.<a href="../io/AbstractFile.scala.html#596336" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#649044" title="=&gt; scala.tools.nsc.io.Path">depPath</a><span class="delimiter">)</span>,
      <a title="String" id="804835">path</a> =&gt; <a href="../io/AbstractFile.scala.html#41085" title="scala.tools.nsc.io.AbstractFile.type">AbstractFile</a>.<a href="../io/AbstractFile.scala.html#596336" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#649044" title="=&gt; scala.tools.nsc.io.Path">depPath</a>.<a href="../io/Path.scala.html#480232" title="=&gt; scala.tools.nsc.io.Directory">parent</a> <a href="../io/Path.scala.html#480228" title="(other: scala.tools.nsc.io.Path)scala.tools.nsc.io.Path">resolve</a> <a href="../io/Path.scala.html#480285" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#804835" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="()Unit" id="649046">saveDependencyAnalysis</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#649044" title="=&gt; scala.tools.nsc.io.Path">depPath</a>.<a href="../io/Path.scala.html#480247" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
      <a href="#649054" title="(file: scala.tools.nsc.io.AbstractFile)Unit">dependenciesFile</a> = <a href="../io/AbstractFile.scala.html#41085" title="scala.tools.nsc.io.AbstractFile.type">AbstractFile</a>.<a href="../io/AbstractFile.scala.html#596337" title="(file: scala.tools.nsc.io.File)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#649044" title="scala.tools.nsc.io.Path" id="804857">depPath</a>.<a href="../io/Path.scala.html#644543" title="Boolean" id="804858">createFile</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    /** The directory where file lookup should start */
    <span class="keyword">val</span> <a title="scala.tools.nsc.io.Directory" id="804848">rootPath</a> = <a href="#649044" title="=&gt; scala.tools.nsc.io.Path">depPath</a>.<a href="../io/Path.scala.html#480232" title="=&gt; scala.tools.nsc.io.Directory">parent</a>.<a href="../io/Directory.scala.html#480312" title="=&gt; scala.tools.nsc.io.Directory">normalize</a>
    <a href="#649068" title="(fromFile: scala.tools.nsc.io.AbstractFile =&gt; String)Unit">saveDependencies</a><span class="delimiter">(</span>
      <a title="scala.tools.nsc.io.AbstractFile" id="804881">file</a> =&gt; <a href="#804848" title="scala.tools.nsc.io.Directory">rootPath</a>.<a href="../io/Path.scala.html#480229" title="(other: scala.tools.nsc.io.Path)scala.tools.nsc.io.Path">relativize</a><span class="delimiter">(</span><a href="../io/Path.scala.html#480286" title="(jfile: scala.tools.nsc.io.JFile)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#804881" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#561684" title="=&gt; scala.tools.nsc.io.JFile">file</a><span class="delimiter">)</span>.<a href="../io/Path.scala.html#480226" title="=&gt; scala.tools.nsc.io.Path">normalize</a><span class="delimiter">)</span>.<a href="../io/Path.scala.html#480225" title="=&gt; String">path</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Int" id="649048">maxDepth</a> = <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#467670" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">make</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#456449" title="=&gt; String">value</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#804960" title="Int" id="804965" class="string">&quot;changed&quot;</a>   =&gt; <a href="#804967" title="(x: Int)Int" class="int">0</a>
    <span class="keyword">case</span> <a href="#804960" title="Int" id="804966" class="string">&quot;immediate&quot;</a> =&gt; <a href="#804967" title="(x: Int)Int" class="int">1</a>
    <span class="keyword">case</span> _           =&gt; Int.<a href="#804967" title="(x: Int)Int">MaxValue</a>
  <span class="delimiter">}</span>

  // todo: order insensible checking and, also checking timestamp?
  <span class="keyword">def</span> <a title="(cp1: String, cp2: String)Boolean" id="649049">validateClasspath</a><span class="delimiter">(</span><a title="String" id="804979">cp1</a>: <span title="String">String</span>, <a title="String" id="804980">cp2</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <a href="#804979" title="String">cp1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#804980" title="String">cp2</a>

  <span class="keyword">def</span> <a title="(src: scala.tools.nsc.io.AbstractFile, name: String)scala.tools.nsc.io.AbstractFile" id="649050">nameToFile</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="804986">src</a>: <a href="../io/AbstractFile.scala.html#41084" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="String" id="804987">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/MutableSettings.scala.html#467280" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a>.<a href="../settings/MutableSettings.scala.html#598976" title="(src: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.io.AbstractFile">outputDirFor</a><span class="delimiter">(</span><a href="#804986" title="scala.tools.nsc.io.AbstractFile">src</a><span class="delimiter">)</span>
      .<a href="../io/AbstractFile.scala.html#561703" title="(path: String, directory: Boolean)scala.tools.nsc.io.AbstractFile">lookupPathUnchecked</a><span class="delimiter">(</span><a href="#804987" title="String">name</a>.<span title="()String">toString</span>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, java.io.<span title="java.io.File.type">File</span>.<span title="String">separator</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Option[scala.tools.nsc.io.AbstractFile]" id="649052">depFile</a>: <a href="../../../Option.scala.html#1510" title="Option[scala.tools.nsc.io.AbstractFile]">Option</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <a href="../../../Option.scala.html#2498" title="None.type">None</a>

  <span class="keyword">def</span> <a title="(file: scala.tools.nsc.io.AbstractFile)Unit" id="649054">dependenciesFile_=</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="804851">file</a>: <a href="../io/AbstractFile.scala.html#41084" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../Global.scala.html#559534" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#804851" title="scala.tools.nsc.io.AbstractFile">file</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <a href="#649052" title="(x$1: Option[scala.tools.nsc.io.AbstractFile])Unit">depFile</a> = <a href="../../../Option.scala.html#64111" title="(x: scala.tools.nsc.io.AbstractFile)Some[scala.tools.nsc.io.AbstractFile]">Some</a><span class="delimiter">(</span><a href="#804851" title="scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Option[scala.tools.nsc.io.AbstractFile]" id="649055">dependenciesFile</a>: <a href="../../../Option.scala.html#1510" title="Option[scala.tools.nsc.io.AbstractFile]">Option</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <a href="#649052" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">depFile</a>

  <span class="keyword">def</span> <a title="=&gt; String" id="649056">classpath</a> = <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467388" title="=&gt; scala.tools.nsc.Settings#PathSetting">classpath</a>.<a href="../settings/MutableSettings.scala.html#613106" title="=&gt; String">value</a>
  <span class="keyword">def</span> <a title="=&gt; DependencyAnalysis.this.FileDependencies" id="649057">newDeps</a> = <span title="DependencyAnalysis.this.FileDependencies" class="keyword">new</span> <a href="Files.scala.html#649097" title="DependencyAnalysis.this.FileDependencies">FileDependencies</a><span class="delimiter">(</span><a href="#649056" title="=&gt; String">classpath</a><span class="delimiter">)</span>

  <span class="keyword">var</span> <a title="DependencyAnalysis.this.FileDependencies" id="649059">dependencies</a> = <a href="#649057" title="=&gt; DependencyAnalysis.this.FileDependencies">newDeps</a>

  <span class="keyword">def</span> <a title="=&gt; scala.collection.Set[scala.tools.nsc.io.AbstractFile]" id="649061">managedFiles</a> = <a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804746" title="=&gt; DependencyAnalysis.this.FileDependencies#Tracker">dependencies</a>.<a href="../../../collection/MapLike.scala.html#78423" title="=&gt; scala.collection.Set[scala.tools.nsc.io.AbstractFile]">keySet</a>

  /** Top level definitions per source file. */
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,List[DependencyAnalysis.this.global.Symbol]]" id="649062">definitions</a>: mutable.<a href="../../../collection/mutable/Map.scala.html#12934" title="scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,List[DependencyAnalysis.this.global.Symbol]]">Map</a><span class="delimiter">[</span>AbstractFile, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#805046" title="scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,List[DependencyAnalysis.this.global.Symbol]]" class="keyword">new</a> <a href="../../../collection/mutable/HashMap.scala.html#79203" title="anonymous class $anon extends scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,List[DependencyAnalysis.this.global.Symbol]]" id="805046">mutable</a>.<a href="../../../collection/mutable/HashMap.scala.html#12880" title="scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,List[DependencyAnalysis.this.global.Symbol]]">HashMap</a><span class="delimiter">[</span>AbstractFile, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: scala.tools.nsc.io.AbstractFile)scala.collection.immutable.Nil.type" id="805048">default</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="805545">f</a>: <a href="../io/AbstractFile.scala.html#41084" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
  <span class="delimiter">}</span>

  /** External references used by source file. */
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[String]]" id="649064">references</a>: mutable.<a href="../../../collection/mutable/Map.scala.html#12934" title="scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[String]]">Map</a><span class="delimiter">[</span>AbstractFile, immutable.Set<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#805567" title="scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[String]]" class="keyword">new</a> <a href="../../../collection/mutable/HashMap.scala.html#79203" title="anonymous class $anon extends scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[String]]" id="805567">mutable</a>.<a href="../../../collection/mutable/HashMap.scala.html#12880" title="scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[String]]">HashMap</a><span class="delimiter">[</span>AbstractFile, immutable.Set<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: scala.tools.nsc.io.AbstractFile)scala.collection.immutable.Set[String]" id="805569">default</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="806066">f</a>: <a href="../io/AbstractFile.scala.html#41084" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="(elems: String*)scala.collection.immutable.Set[String]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  /** External references for inherited members used in the source file */
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]]" id="649066">inherited</a>: mutable.<a href="../../../collection/mutable/Map.scala.html#12934" title="scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]]">Map</a><span class="delimiter">[</span>AbstractFile, immutable.Set<span class="delimiter">[</span>Inherited<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#806091" title="scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]]" class="keyword">new</a> <a href="../../../collection/mutable/HashMap.scala.html#79203" title="anonymous class $anon extends scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]]" id="806091">mutable</a>.<a href="../../../collection/mutable/HashMap.scala.html#12880" title="scala.collection.mutable.HashMap[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]]">HashMap</a><span class="delimiter">[</span>AbstractFile, immutable.Set<span class="delimiter">[</span>Inherited<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: scala.tools.nsc.io.AbstractFile)scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]" id="806093">default</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="806590">f</a>: <a href="../io/AbstractFile.scala.html#41084" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="(elems: DependencyAnalysis.this.Inherited*)scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  /** Write dependencies to the current file. */
  <span class="keyword">def</span> <a title="(fromFile: scala.tools.nsc.io.AbstractFile =&gt; String)Unit" id="649068">saveDependencies</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile =&gt; String" id="804860">fromFile</a>: AbstractFile =&gt; String<span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#649055" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">dependenciesFile</a>.<a href="../../../Option.scala.html#63812" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span>
      <a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804758" title="(file: scala.tools.nsc.io.AbstractFile, fromFile: scala.tools.nsc.io.AbstractFile =&gt; String)Unit">writeTo</a><span class="delimiter">(</span><a href="#649055" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">dependenciesFile</a>.<a href="../../../Option.scala.html#63813" title="=&gt; scala.tools.nsc.io.AbstractFile">get</a>, <a href="#804860" title="scala.tools.nsc.io.AbstractFile =&gt; String">fromFile</a><span class="delimiter">)</span>

  /** Load dependencies from the given file and save the file reference for
   *  future saves.
   */
  <span class="keyword">def</span> <a title="(f: scala.tools.nsc.io.AbstractFile, toFile: String =&gt; scala.tools.nsc.io.AbstractFile)Boolean" id="649069">loadFrom</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="804827">f</a>: <a href="../io/AbstractFile.scala.html#41084" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="String =&gt; scala.tools.nsc.io.AbstractFile" id="804828">toFile</a>: String =&gt; AbstractFile<span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#649054" title="(file: scala.tools.nsc.io.AbstractFile)Unit">dependenciesFile</a> = <a href="#804827" title="scala.tools.nsc.io.AbstractFile">f</a>
    <a href="Files.scala.html#649098" title="DependencyAnalysis.this.FileDependencies.type">FileDependencies</a>.<a href="Files.scala.html#804875" title="(file: scala.tools.nsc.io.AbstractFile, toFile: String =&gt; scala.tools.nsc.io.AbstractFile)Option[DependencyAnalysis.this.FileDependencies]">readFrom</a><a href="../../../Option.scala.html#64115" title="=&gt; DependencyAnalysis.this.FileDependencies" class="delimiter">(</a><a href="#804827" title="scala.tools.nsc.io.AbstractFile">f</a>, <a href="#804828" title="String =&gt; scala.tools.nsc.io.AbstractFile">toFile</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<a href="#806635" title="Boolean" id="806636" class="delimiter">(</a>fd<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Boolean" id="806627">success</a> = <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#649042" title="=&gt; Boolean">shouldCheckClasspath</a><span class="delimiter">)</span> <a href="#649049" title="(cp1: String, cp2: String)Boolean">validateClasspath</a><span class="delimiter">(</span>fd.<a href="Files.scala.html#804741" title="=&gt; String">classpath</a>, <a href="#649056" title="=&gt; String">classpath</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
        <a href="#649059" title="(x$1: DependencyAnalysis.this.FileDependencies)Unit">dependencies</a> = <span title="DependencyAnalysis.this.FileDependencies" class="keyword">if</span> <span class="delimiter">(</span><a href="#806627" title="Boolean">success</a><span class="delimiter">)</span> fd <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;Classpath has changed. Nuking dependencies&quot;)" class="string">&quot;Classpath has changed. Nuking dependencies&quot;</span><span class="delimiter">)</span>
          <a href="#649057" title="=&gt; DependencyAnalysis.this.FileDependencies">newDeps</a>
        <span class="delimiter">}</span>

        <a href="#806627" title="Boolean">success</a>
      <span class="keyword">case</span> <a href="../../../Option.scala.html#2498" title="Boolean" id="806638">None</a> =&gt; <a href="#806639" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(files: List[scala.tools.nsc.util.SourceFile])List[scala.tools.nsc.util.SourceFile]" id="649070">calculateFiles</a><span class="delimiter">(</span><a title="List[scala.tools.nsc.util.SourceFile]" id="657331">files</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[scala.tools.nsc.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[scala.tools.nsc.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span> =
    <span title="List[scala.tools.nsc.util.SourceFile]" class="keyword">if</span> <span class="delimiter">(</span><a href="#649041" title="=&gt; Boolean">off</a><span class="delimiter">)</span> <a href="#657331" title="List[scala.tools.nsc.util.SourceFile]">files</a>
    <span class="keyword">else</span> <span title="List[scala.tools.nsc.util.SourceFile]" class="keyword">if</span> <span class="delimiter">(</span><a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804750" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;No known dependencies. Compiling &quot;)" class="string">&quot;No known dependencies. Compiling &quot;</span> <span title="(x$1: Any)String">+</span>
              <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#657331" title="List[scala.tools.nsc.util.SourceFile]">files</a>.<a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="String(&quot;everything&quot;)" class="string">&quot;everything&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#657331" title="List[scala.tools.nsc.util.SourceFile]">files</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#806873" title="(x: (scala.collection.mutable.HashSet[scala.tools.nsc.io.AbstractFile], scala.collection.Set[scala.tools.nsc.io.AbstractFile]))(scala.collection.mutable.HashSet[scala.tools.nsc.io.AbstractFile], scala.collection.Set[scala.tools.nsc.io.AbstractFile])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="scala.collection.mutable.HashSet[scala.tools.nsc.io.AbstractFile]" id="806656">direct</a>, <a href="../../../Tuple2.scala.html#61508" title="scala.collection.Set[scala.tools.nsc.io.AbstractFile]" id="806657">indirect</a><span class="delimiter">)</span> = <a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804756" title="(maxDepth: Int)(scala.collection.mutable.HashSet[scala.tools.nsc.io.AbstractFile], scala.collection.Set[scala.tools.nsc.io.AbstractFile])">invalidatedFiles</a><a href="../../../Tuple2.scala.html#1222" title="(scala.collection.mutable.HashSet[scala.tools.nsc.io.AbstractFile], scala.collection.Set[scala.tools.nsc.io.AbstractFile]) @unchecked" class="delimiter">(</a><a href="#649047" title="=&gt; Int">maxDepth</a><span class="delimiter">)</span>;
      <span class="keyword">val</span> <a title="List[scala.tools.nsc.util.SourceFile]" id="806658">filtered</a> = <a href="#657331" title="List[scala.tools.nsc.util.SourceFile]">files</a>.<a href="../../../collection/TraversableLike.scala.html#58981" title="(p: scala.tools.nsc.util.SourceFile =&gt; Boolean)List[scala.tools.nsc.util.SourceFile]">filter</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.SourceFile" id="806880">x</a> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="806881">f</a> = <a href="#806880" title="scala.tools.nsc.util.SourceFile">x</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#561682" title="=&gt; scala.tools.nsc.io.AbstractFile">absolute</a>
        <a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: scala.tools.nsc.io.AbstractFile)Boolean">direct</a><span class="delimiter">(</span><a href="#806881" title="scala.tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: scala.tools.nsc.io.AbstractFile)Boolean">indirect</a><span class="delimiter">(</span><a href="#806881" title="scala.tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804755" title="(f: scala.tools.nsc.io.AbstractFile)Boolean">containsFile</a><span class="delimiter">(</span><a href="#806881" title="scala.tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span>;
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <a href="#806658" title="List[scala.tools.nsc.util.SourceFile]">filtered</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11552" title="Unit" id="806927">Nil</a> =&gt; <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><a href="#806928" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;No changes to recompile&quot;)" class="string">&quot;No changes to recompile&quot;</span><span class="delimiter">)</span>;
        <span class="keyword">case</span> x =&gt; <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><a href="#806928" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;Recompiling &quot;)" class="string">&quot;Recompiling &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
          <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> x.<a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span class="keyword">else</span> x.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57881" title="(x: String)String">+</a> <span title="String(&quot; files&quot;)" class="string">&quot; files&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#806658" title="List[scala.tools.nsc.util.SourceFile]">filtered</a>
    <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class Inherited extends AnyRef with Product with Serializable" id="807607">Inherited</a><a href="../../../Product.scala.html#304" title="Product" class="delimiter">(</a><a title="String" id="807402">qualifier</a>: <span title="String">String</span>, <a title="DependencyAnalysis.this.global.Name" id="807403">member</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="DependencyAnalysis.this.global.Name">Name</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class AnalysisPhase extends DependencyAnalysis.this.StdPhase" id="649074">AnalysisPhase</a><a href="#649074" title="DependencyAnalysis.this.AnalysisPhase" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="804805">prev</a>: <a href="../../../reflect/internal/Phase.scala.html#20058" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../SubComponent.scala.html#641809" title="DependencyAnalysis.this.StdPhase">StdPhase</a><span class="delimiter">(</span><a href="#804805" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: DependencyAnalysis.this.global.CompilationUnit)Boolean" id="804803">cancelled</a><span class="delimiter">(</span><a title="DependencyAnalysis.this.global.CompilationUnit" id="806989">unit</a>: <a href="../CompilationUnits.scala.html#559797" title="DependencyAnalysis.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> =
      <a href="#649074" title="DependencyAnalysis.this.AnalysisPhase" class="keyword">super</a>.<a href="../Global.scala.html#650455" title="(unit: DependencyAnalysis.this.global.CompilationUnit)Boolean">cancelled</a><span class="delimiter">(</span><a href="#806989" title="DependencyAnalysis.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#806989" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560827" title="=&gt; Boolean">isJava</a>

    <span class="keyword">def</span> <a title="(unit: DependencyAnalysis.this.global.CompilationUnit)Unit" id="804804">apply</a><span class="delimiter">(</span><a title="DependencyAnalysis.this.global.CompilationUnit" id="806992">unit</a> : global.<a href="../CompilationUnits.scala.html#559797" title="DependencyAnalysis.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.io.JFile" id="806994">f</a> = <a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#561684" title="=&gt; scala.tools.nsc.io.JFile">file</a>
      // When we're passed strings by the interpreter
      // they  have no source file. We simply ignore this case
      // as irrelevant to dependency analysis.
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#806994" title="scala.tools.nsc.io.JFile">f</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="807001">source</a>: <a href="../io/AbstractFile.scala.html#41084" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>;
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="DependencyAnalysis.this.global.icodes.IClass" id="807021">d</a> &lt;- <a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../../../collection/mutable/LinkedHashSet.scala.html#293192" title="(f: DependencyAnalysis.this.global.icodes.IClass =&gt; scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile])Unit">icode</a><span class="delimiter">)</span><span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="807022">name</a> = <a href="#807021" title="DependencyAnalysis.this.global.icodes.IClass">d</a>.<a href="../backend/icode/Members.scala.html#642927" title="()String">toString</a>
          <a href="#807021" title="DependencyAnalysis.this.global.icodes.IClass">d</a>.<a href="../backend/icode/Members.scala.html#642912" title="=&gt; DependencyAnalysis.this.global.icodes.global.Symbol">symbol</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#807089" title="scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile]" id="807091">s</a> : ModuleClassSymbol =&gt;
              <span class="keyword">val</span> <a title="Boolean" id="807024">isTopLevelModule</a> = <a href="../Global.scala.html#559715" title="(op: =&gt; Boolean)Boolean">afterPickler</a> <span class="delimiter">{</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>s.<a href="../../../reflect/internal/Symbols.scala.html#443751" title="=&gt; Boolean">isImplClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>s.<a href="../../../reflect/internal/Symbols.scala.html#443759" title="=&gt; Boolean">isNestedClass</a> <span class="delimiter">}</span>

              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#807024" title="Boolean">isTopLevelModule</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>s.<a href="../../../reflect/internal/Symbols.scala.html#443770" title="=&gt; DependencyAnalysis.this.global.Symbol">companionModule</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; DependencyAnalysis.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804751" title="(source: scala.tools.nsc.io.AbstractFile, result: scala.tools.nsc.io.AbstractFile)scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile]">emits</a><span class="delimiter">(</span><a href="#807001" title="scala.tools.nsc.io.AbstractFile">source</a>, <a href="#649050" title="(src: scala.tools.nsc.io.AbstractFile, name: String)scala.tools.nsc.io.AbstractFile">nameToFile</a><span class="delimiter">(</span><a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="#807022" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804751" title="(source: scala.tools.nsc.io.AbstractFile, result: scala.tools.nsc.io.AbstractFile)scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile]">emits</a><span class="delimiter">(</span><a href="#807001" title="scala.tools.nsc.io.AbstractFile">source</a>, <a href="#649050" title="(src: scala.tools.nsc.io.AbstractFile, name: String)scala.tools.nsc.io.AbstractFile">nameToFile</a><span class="delimiter">(</span><a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="#807022" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804751" title="(source: scala.tools.nsc.io.AbstractFile, result: scala.tools.nsc.io.AbstractFile)scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile]">emits</a><a href="#807092" title="(x: scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile])scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile]" class="delimiter">(</a><a href="#807001" title="scala.tools.nsc.io.AbstractFile">source</a>, <a href="#649050" title="(src: scala.tools.nsc.io.AbstractFile, name: String)scala.tools.nsc.io.AbstractFile">nameToFile</a><span class="delimiter">(</span><a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="#807022" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804753" title="(file: scala.tools.nsc.io.AbstractFile)DependencyAnalysis.this.FileDependencies#Tracker">reset</a><span class="delimiter">(</span><a href="#807001" title="scala.tools.nsc.io.AbstractFile">source</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="DependencyAnalysis.this.global.Symbol" id="807122">d</a> &lt;- <a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: DependencyAnalysis.this.global.Symbol =&gt; scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile])Unit">depends</a>; <span class="keyword">if</span> <span class="delimiter">(</span><a href="#807122" title="DependencyAnalysis.this.global.Symbol">d</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; DependencyAnalysis.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span>
          <a href="#649059" title="=&gt; DependencyAnalysis.this.FileDependencies">dependencies</a>.<a href="Files.scala.html#804752" title="(from: scala.tools.nsc.io.AbstractFile, on: scala.tools.nsc.io.AbstractFile)scala.collection.mutable.Set[scala.tools.nsc.io.AbstractFile]">depends</a><span class="delimiter">(</span><a href="#807001" title="scala.tools.nsc.io.AbstractFile">source</a>, <a href="#807122" title="DependencyAnalysis.this.global.Symbol">d</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; DependencyAnalysis.this.global.AbstractFileType">sourceFile</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // find all external references in this compilation unit
      <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="806995">file</a> = <a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>
      <a href="#649064" title="=&gt; scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[String]]">references</a> <a href="../../../collection/mutable/MapLike.scala.html#78497" title="(kv: (scala.tools.nsc.io.AbstractFile, scala.collection.immutable.Set[String]))DependencyAnalysis.this.references.type">+=</a> <a href="../../../Predef.scala.html#8484" title="(x: scala.tools.nsc.io.AbstractFile)ArrowAssoc[scala.tools.nsc.io.AbstractFile]">file</a> <a href="../../../Predef.scala.html#63591" title="(y: scala.collection.immutable.Set[String])(scala.tools.nsc.io.AbstractFile, scala.collection.immutable.Set[String])">-&gt;</a> immutable.<a href="../../../collection/immutable/Set.scala.html#12290" title="scala.collection.immutable.Set.type">Set</a>.<a href="../../../collection/immutable/Set.scala.html#61729" title="[A]=&gt; scala.collection.immutable.Set[A]">empty</a><span title="scala.collection.immutable.Set[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span>
      <a href="#649066" title="=&gt; scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]]">inherited</a> <a href="../../../collection/mutable/MapLike.scala.html#78497" title="(kv: (scala.tools.nsc.io.AbstractFile, scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]))DependencyAnalysis.this.inherited.type">+=</a> <a href="../../../Predef.scala.html#8484" title="(x: scala.tools.nsc.io.AbstractFile)ArrowAssoc[scala.tools.nsc.io.AbstractFile]">file</a> <a href="../../../Predef.scala.html#63591" title="(y: scala.collection.immutable.Set[DependencyAnalysis.this.Inherited])(scala.tools.nsc.io.AbstractFile, scala.collection.immutable.Set[DependencyAnalysis.this.Inherited])">-&gt;</a> immutable.<a href="../../../collection/immutable/Set.scala.html#12290" title="scala.collection.immutable.Set.type">Set</a>.<a href="../../../collection/immutable/Set.scala.html#61729" title="[A]=&gt; scala.collection.immutable.Set[A]">empty</a><span title="scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]" class="delimiter">[</span><a href="#807607" title="DependencyAnalysis.this.Inherited">Inherited</a><span class="delimiter">]</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[DependencyAnalysis.this.global.Symbol]" id="806996">buf</a> = <span title="scala.collection.mutable.ListBuffer[DependencyAnalysis.this.global.Symbol]" class="keyword">new</span> mutable.<a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[DependencyAnalysis.this.global.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

      <span class="delimiter">(</span><a href="#807212" title="DependencyAnalysis.this.global.Traverser{def checkType(tpe: DependencyAnalysis.this.global.Type): Unit; def updateReferences(s: String): Unit}" class="keyword">new</a> <a href="../../../reflect/api/Trees.scala.html#23760" title="anonymous class $anon extends DependencyAnalysis.this.global.Traverser" id="807212">Traverser</a> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: DependencyAnalysis.this.global.Tree)Unit" id="807214">traverse</a><span class="delimiter">(</span><a title="DependencyAnalysis.this.global.Tree" id="807217">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="DependencyAnalysis.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
              <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; DependencyAnalysis.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
              <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443286" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span>
              <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
              <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; DependencyAnalysis.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441980" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
              <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; DependencyAnalysis.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
                  <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; DependencyAnalysis.this.global.AbstractFileType">sourceFile</a>.<a href="../io/AbstractFile.scala.html#561677" title="=&gt; String">path</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#806995" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#561677" title="=&gt; String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443264" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#807216" title="(s: String)Unit">updateReferences</a><span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span>
            // was &quot;at uncurryPhase.prev&quot;, which is actually non-deterministic
            // because the continuations plugin may or may not supply uncurry's
            // immediately preceding phase.
            <a href="../Global.scala.html#559748" title="(op: =&gt; Unit)Unit">beforeRefchecks</a><span class="delimiter">(</span><a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; DependencyAnalysis.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#807423" title="Unit" id="807428">cdef</a>: ClassDef <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>cdef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443617" title="=&gt; Boolean">hasPackageFlag</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                   <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>cdef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443323" title="=&gt; Boolean">isAnonymousFunction</a> =&gt;
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span>cdef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; DependencyAnalysis.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#806996" title="scala.collection.mutable.ListBuffer[DependencyAnalysis.this.global.Symbol]">buf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: DependencyAnalysis.this.global.Symbol)buf.type">+=</a> cdef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>
              // was &quot;at erasurePhase.prev&quot;
              <a href="../Global.scala.html#559733" title="(op: =&gt; Unit)Unit">beforeExplicitOuter</a> <span class="delimiter">{</span>
                <span class="keyword">for</span> <span class="delimiter">(</span>s &lt;- cdef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; DependencyAnalysis.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#447347" title="(p: DependencyAnalysis.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span>
                  <a href="#807293" title="DependencyAnalysis.this.global.Symbol">s</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a href="#807296" title="Unit" id="807298">ts</a>: TypeSymbol <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>ts.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> =&gt;
                      <a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><a href="#807299" title="(x: Unit)Unit" class="delimiter">(</a><a href="#807293" title="DependencyAnalysis.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; DependencyAnalysis.this.global.Type">tpe</a><span class="delimiter">)</span>
                    <span class="keyword">case</span> _ =&gt;
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <a href="#807212" title="DependencyAnalysis.this.global.Traverser{def checkType(tpe: DependencyAnalysis.this.global.Type): Unit; def updateReferences(s: String): Unit}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: DependencyAnalysis.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <a href="#807423" title="Unit" id="807429">ddef</a>: DefDef =&gt;
              // was &quot;at typer.prev&quot;
              <a href="../Global.scala.html#559754" title="(op: =&gt; Unit)Unit">beforeTyper</a> <span class="delimiter">{</span> <a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><span class="delimiter">(</span>ddef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; DependencyAnalysis.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">}</span>
              <a href="#807212" title="DependencyAnalysis.this.global.Traverser{def checkType(tpe: DependencyAnalysis.this.global.Type): Unit; def updateReferences(s: String): Unit}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: DependencyAnalysis.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">case</span> a @ Select<a href="#807423" title="Unit" id="807427" class="delimiter">(</a>q, n<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span>a.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; DependencyAnalysis.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>q.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; // #2556
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>a.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>a.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; DependencyAnalysis.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#441495" title="(tp1: DependencyAnalysis.this.global.Type, tp2: DependencyAnalysis.this.global.Type)Boolean">isSameType</a><span class="delimiter">(</span>q.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; DependencyAnalysis.this.global.Type">tpe</a>, a.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; DependencyAnalysis.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; DependencyAnalysis.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#649066" title="=&gt; scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]]">inherited</a> <a href="../../../collection/mutable/MapLike.scala.html#78497" title="(kv: (scala.tools.nsc.io.AbstractFile, scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]))DependencyAnalysis.this.inherited.type">+=</a> <a href="../../../Predef.scala.html#8484" title="(x: scala.tools.nsc.io.AbstractFile)ArrowAssoc[scala.tools.nsc.io.AbstractFile]">file</a> <a href="../../../Predef.scala.html#63591" title="(y: scala.collection.immutable.Set[DependencyAnalysis.this.Inherited])(scala.tools.nsc.io.AbstractFile, scala.collection.immutable.Set[DependencyAnalysis.this.Inherited])">-&gt;</a>
                    <span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#78420" title="(key: scala.tools.nsc.io.AbstractFile)scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]">inherited</a><span class="delimiter">(</span><a href="#806995" title="scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#71319" title="(elem: DependencyAnalysis.this.Inherited)scala.collection.immutable.Set[DependencyAnalysis.this.Inherited]">+</a> <a href="#807607" title="(qualifier: String, member: DependencyAnalysis.this.global.Name)DependencyAnalysis.this.Inherited">Inherited</a><span class="delimiter">(</span>q.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; DependencyAnalysis.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; DependencyAnalysis.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; DependencyAnalysis.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#442077" title="=&gt; String">safeToString</a>, n<span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#807212" title="DependencyAnalysis.this.global.Traverser{def checkType(tpe: DependencyAnalysis.this.global.Type): Unit; def updateReferences(s: String): Unit}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: DependencyAnalysis.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _            =&gt;
              <a href="#807212" title="DependencyAnalysis.this.global.Traverser{def checkType(tpe: DependencyAnalysis.this.global.Type): Unit; def updateReferences(s: String): Unit}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: DependencyAnalysis.this.global.Tree)Unit">traverse</a><a href="#807430" title="(x: Unit)Unit" class="delimiter">(</a><a href="#807217" title="DependencyAnalysis.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tpe: DependencyAnalysis.this.global.Type)Unit" id="807215">checkType</a><span class="delimiter">(</span><a title="DependencyAnalysis.this.global.Type" id="807219">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="DependencyAnalysis.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> =
          <a href="#807219" title="DependencyAnalysis.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#807511" title="Unit" id="807516">t</a>: MethodType =&gt;
              <a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448353" title="=&gt; DependencyAnalysis.this.global.Type">resultType</a><span class="delimiter">)</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="DependencyAnalysis.this.global.Symbol" id="807462">s</a> &lt;- t.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: DependencyAnalysis.this.global.Symbol =&gt; Unit)Unit">params</a><span class="delimiter">)</span> <a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><span class="delimiter">(</span><a href="#807462" title="DependencyAnalysis.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; DependencyAnalysis.this.global.Type">tpe</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <a href="#807511" title="Unit" id="807517">t</a>: TypeRef    =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448102" title="=&gt; DependencyAnalysis.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#807216" title="(s: String)Unit">updateReferences</a><span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448142" title="=&gt; DependencyAnalysis.this.global.Symbol">typeSymbolDirect</a>.<a href="../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span>
                  <a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448142" title="=&gt; DependencyAnalysis.this.global.Symbol">typeSymbolDirect</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; DependencyAnalysis.this.global.Type">info</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#807216" title="(s: String)Unit">updateReferences</a><span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448141" title="=&gt; DependencyAnalysis.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="DependencyAnalysis.this.global.Type" id="807490">tp</a> &lt;- t.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: DependencyAnalysis.this.global.Type =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><span class="delimiter">(</span><a href="#807490" title="DependencyAnalysis.this.global.Type">tp</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <a href="#807511" title="Unit" id="807518">t</a>: PolyType   =&gt;
              <a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448448" title="=&gt; DependencyAnalysis.this.global.Type">resultType</a><span class="delimiter">)</span>
              <a href="#807216" title="(s: String)Unit">updateReferences</a><span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448458" title="=&gt; DependencyAnalysis.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <a href="#807511" title="Unit" id="807519">t</a>: NullaryMethodType =&gt;
              <a href="#807215" title="(tpe: DependencyAnalysis.this.global.Type)Unit">checkType</a><span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448406" title="=&gt; DependencyAnalysis.this.global.Type">resultType</a><span class="delimiter">)</span>
              <a href="#807216" title="(s: String)Unit">updateReferences</a><span class="delimiter">(</span>t.<a href="../../../reflect/internal/Types.scala.html#448414" title="=&gt; DependencyAnalysis.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span>

            <span class="keyword">case</span> t             =&gt;
              <a href="#807216" title="(s: String)Unit">updateReferences</a><a href="#807520" title="(x: Unit)Unit" class="delimiter">(</a>t.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; DependencyAnalysis.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(s: String)Unit" id="807216">updateReferences</a><span class="delimiter">(</span><a title="String" id="807220">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> =
          <a href="#649064" title="=&gt; scala.collection.mutable.Map[scala.tools.nsc.io.AbstractFile,scala.collection.immutable.Set[String]]">references</a> <a href="../../../collection/mutable/MapLike.scala.html#78497" title="(kv: (scala.tools.nsc.io.AbstractFile, scala.collection.immutable.Set[String]))DependencyAnalysis.this.references.type">+=</a> <a href="../../../Predef.scala.html#8484" title="(x: scala.tools.nsc.io.AbstractFile)ArrowAssoc[scala.tools.nsc.io.AbstractFile]">file</a> <a href="../../../Predef.scala.html#63591" title="(y: scala.collection.immutable.Set[String])(scala.tools.nsc.io.AbstractFile, scala.collection.immutable.Set[String])">-&gt;</a> <span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#78420" title="(key: scala.tools.nsc.io.AbstractFile)scala.collection.immutable.Set[String]">references</a><span class="delimiter">(</span><a href="#806995" title="scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#71319" title="(elem: String)scala.collection.immutable.Set[String]">+</a> <a href="#807220" title="String">s</a><span class="delimiter">)</span>

      <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#433540" title="(tree: DependencyAnalysis.this.global.Tree)DependencyAnalysis.this.global.Tree">apply</a><span class="delimiter">(</span><a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560800" title="=&gt; DependencyAnalysis.this.global.Tree">body</a><span class="delimiter">)</span>

      <a href="../../../collection/mutable/MapLike.scala.html#78496" title="(key: scala.tools.nsc.io.AbstractFile, value: List[DependencyAnalysis.this.global.Symbol])Unit">definitions</a><span class="delimiter">(</span><a href="#806992" title="DependencyAnalysis.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span> = <a href="#806996" title="scala.collection.mutable.ListBuffer[DependencyAnalysis.this.global.Symbol]">buf</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[DependencyAnalysis.this.global.Symbol]">toList</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>