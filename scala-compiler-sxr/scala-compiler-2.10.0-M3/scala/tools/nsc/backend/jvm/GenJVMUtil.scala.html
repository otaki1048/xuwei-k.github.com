<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/jvm/GenJVMUtil.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Iulian Dragos
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.jvm

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> ch.epfl.lamp.fjbg._

<span class="keyword">trait</span> <a title="trait GenJVMUtil extends Object" id="32869">GenJVMUtil</a> <a href="../../../../Unit.scala.html#2389" title="Unit" class="delimiter">{</a>
  self: GenJVM =&gt;

  <span class="keyword">import</span> <a href="BytecodeWriters.scala.html#652537" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#559502" title="GenJVMUtil.this.global.icodes.type">icodes</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#559502" title="GenJVMUtil.this.global.icodes.type">icodes</a>.<a href="../icode/Opcodes.scala.html#642694" title="GenJVMUtil.this.global.icodes.opcodes.type">opcodes</a>._
  <span class="keyword">import</span> <a href="../../../../reflect/internal/Definitions.scala.html#441641" title="GenJVMUtil.this.global.definitions.type">definitions</a>._

  /** Map from type kinds to the Java reference types. It is used for
   *  loading class constants. @see Predef.classOf.
   */
  <span class="keyword">val</span> <a title="scala.collection.immutable.Map[GenJVMUtil.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]" id="652517">classLiteral</a> = immutable.<a href="../../../../collection/generic/GenMapFactory.scala.html#61654" title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</a><span title="(elems: (GenJVMUtil.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType)*)scala.collection.immutable.Map[GenJVMUtil.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]" class="delimiter">[</span><a href="../icode/TypeKinds.scala.html#642711" title="GenJVMUtil.this.global.icodes.TypeKind">TypeKind</a>, <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.UNIT.type)ArrowAssoc[GenJVMUtil.this.global.icodes.UNIT.type]">UNIT</a>   <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.UNIT.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Void&quot;)" class="string">&quot;java.lang.Void&quot;</span><span class="delimiter">)</span>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.BOOL.type)ArrowAssoc[GenJVMUtil.this.global.icodes.BOOL.type]">BOOL</a>   <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.BOOL.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Boolean&quot;)" class="string">&quot;java.lang.Boolean&quot;</span><span class="delimiter">)</span>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.BYTE.type)ArrowAssoc[GenJVMUtil.this.global.icodes.BYTE.type]">BYTE</a>   <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.BYTE.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Byte&quot;)" class="string">&quot;java.lang.Byte&quot;</span><span class="delimiter">)</span>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.SHORT.type)ArrowAssoc[GenJVMUtil.this.global.icodes.SHORT.type]">SHORT</a>  <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.SHORT.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Short&quot;)" class="string">&quot;java.lang.Short&quot;</span><span class="delimiter">)</span>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.CHAR.type)ArrowAssoc[GenJVMUtil.this.global.icodes.CHAR.type]">CHAR</a>   <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.CHAR.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Character&quot;)" class="string">&quot;java.lang.Character&quot;</span><span class="delimiter">)</span>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.INT.type)ArrowAssoc[GenJVMUtil.this.global.icodes.INT.type]">INT</a>    <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.INT.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Integer&quot;)" class="string">&quot;java.lang.Integer&quot;</span><span class="delimiter">)</span>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.LONG.type)ArrowAssoc[GenJVMUtil.this.global.icodes.LONG.type]">LONG</a>   <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.LONG.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Long&quot;)" class="string">&quot;java.lang.Long&quot;</span><span class="delimiter">)</span>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.FLOAT.type)ArrowAssoc[GenJVMUtil.this.global.icodes.FLOAT.type]">FLOAT</a>  <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.FLOAT.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Float&quot;)" class="string">&quot;java.lang.Float&quot;</span><span class="delimiter">)</span>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.DOUBLE.type)ArrowAssoc[GenJVMUtil.this.global.icodes.DOUBLE.type]">DOUBLE</a> <a href="../../../../Predef.scala.html#63591" title="(y: ch.epfl.lamp.fjbg.JObjectType)(GenJVMUtil.this.global.icodes.DOUBLE.type, ch.epfl.lamp.fjbg.JObjectType)">-&gt;</a> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Double&quot;)" class="string">&quot;java.lang.Double&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  // Don't put this in per run caches.
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.WeakHashMap[GenJVMUtil.this.global.Symbol,GenJVMUtil.this.global.Name]" id="652519">javaNameCache</a> = <span title="scala.collection.mutable.WeakHashMap[GenJVMUtil.this.global.Symbol,GenJVMUtil.this.global.Name]" class="keyword">new</span> mutable.<a href="../../../../collection/mutable/WeakHashMap.scala.html#13108" title="scala.collection.mutable.WeakHashMap[GenJVMUtil.this.global.Symbol,GenJVMUtil.this.global.Name]">WeakHashMap</a><span class="delimiter">[</span>Symbol, Name<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../../collection/generic/Growable.scala.html#60913" title="(xs: scala.collection.TraversableOnce[(GenJVMUtil.this.global.Symbol, GenJVMUtil.this.global.Name)])scala.collection.mutable.WeakHashMap[GenJVMUtil.this.global.Symbol,GenJVMUtil.this.global.Name]">++=</a> <a href="../../../../collection/immutable/List.scala.html#63291" title="(xs: (GenJVMUtil.this.global.Symbol, GenJVMUtil.this.global.TypeName)*)List[(GenJVMUtil.this.global.Symbol, GenJVMUtil.this.global.TypeName)]">List</a><span class="delimiter">(</span>
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.definitions.NothingClass.type)ArrowAssoc[GenJVMUtil.this.global.definitions.NothingClass.type]">NothingClass</a>        <a href="../../../../Predef.scala.html#63591" title="(y: GenJVMUtil.this.global.TypeName)(GenJVMUtil.this.global.definitions.NothingClass.type, GenJVMUtil.this.global.TypeName)">-&gt;</a> <a href="../../../../reflect/internal/StdNames.scala.html#441760" title="GenJVMUtil.this.global.binarynme.type">binarynme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#487889" title="=&gt; GenJVMUtil.this.global.TypeName">RuntimeNothing</a>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.Symbol)ArrowAssoc[GenJVMUtil.this.global.Symbol]">RuntimeNothingClass</a> <a href="../../../../Predef.scala.html#63591" title="(y: GenJVMUtil.this.global.TypeName)(GenJVMUtil.this.global.Symbol, GenJVMUtil.this.global.TypeName)">-&gt;</a> <a href="../../../../reflect/internal/StdNames.scala.html#441760" title="GenJVMUtil.this.global.binarynme.type">binarynme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#487889" title="=&gt; GenJVMUtil.this.global.TypeName">RuntimeNothing</a>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.definitions.NullClass.type)ArrowAssoc[GenJVMUtil.this.global.definitions.NullClass.type]">NullClass</a>           <a href="../../../../Predef.scala.html#63591" title="(y: GenJVMUtil.this.global.TypeName)(GenJVMUtil.this.global.definitions.NullClass.type, GenJVMUtil.this.global.TypeName)">-&gt;</a> <a href="../../../../reflect/internal/StdNames.scala.html#441760" title="GenJVMUtil.this.global.binarynme.type">binarynme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#487891" title="=&gt; GenJVMUtil.this.global.TypeName">RuntimeNull</a>,
    <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.Symbol)ArrowAssoc[GenJVMUtil.this.global.Symbol]">RuntimeNullClass</a>    <a href="../../../../Predef.scala.html#63591" title="(y: GenJVMUtil.this.global.TypeName)(GenJVMUtil.this.global.Symbol, GenJVMUtil.this.global.TypeName)">-&gt;</a> <a href="../../../../reflect/internal/StdNames.scala.html#441760" title="GenJVMUtil.this.global.binarynme.type">binarynme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#487891" title="=&gt; GenJVMUtil.this.global.TypeName">RuntimeNull</a>
  <span class="delimiter">)</span>

  /** This trait may be used by tools who need access to
   *  utility methods like javaName and javaType. (for instance,
   *  the Eclipse plugin uses it).
   */
  <span class="keyword">trait</span> <a title="trait BytecodeUtil extends Object" id="652521">BytecodeUtil</a> <a href="../../../../Unit.scala.html#2389" title="Unit" class="delimiter">{</a>

    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[GenJVMUtil.this.global.icodes.TestOp,Int]" id="773368">conds</a> = immutable.<a href="../../../../collection/generic/GenMapFactory.scala.html#61654" title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</a><span title="(elems: (GenJVMUtil.this.global.icodes.TestOp, Int)*)scala.collection.immutable.Map[GenJVMUtil.this.global.icodes.TestOp,Int]" class="delimiter">[</span><a href="../icode/Primitives.scala.html#642803" title="GenJVMUtil.this.global.icodes.TestOp">TestOp</a>, <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">]</span><span class="delimiter">(</span>
      <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.EQ.type)ArrowAssoc[GenJVMUtil.this.global.icodes.EQ.type]">EQ</a> <a href="../../../../Predef.scala.html#63591" title="(y: Int)(GenJVMUtil.this.global.icodes.EQ.type, Int)">-&gt;</a> JExtendedCode.<span title="Int(0)">COND_EQ</span>,
      <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.NE.type)ArrowAssoc[GenJVMUtil.this.global.icodes.NE.type]">NE</a> <a href="../../../../Predef.scala.html#63591" title="(y: Int)(GenJVMUtil.this.global.icodes.NE.type, Int)">-&gt;</a> JExtendedCode.<span title="Int(1)">COND_NE</span>,
      <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.LT.type)ArrowAssoc[GenJVMUtil.this.global.icodes.LT.type]">LT</a> <a href="../../../../Predef.scala.html#63591" title="(y: Int)(GenJVMUtil.this.global.icodes.LT.type, Int)">-&gt;</a> JExtendedCode.<span title="Int(2)">COND_LT</span>,
      <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.GT.type)ArrowAssoc[GenJVMUtil.this.global.icodes.GT.type]">GT</a> <a href="../../../../Predef.scala.html#63591" title="(y: Int)(GenJVMUtil.this.global.icodes.GT.type, Int)">-&gt;</a> JExtendedCode.<span title="Int(4)">COND_GT</span>,
      <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.LE.type)ArrowAssoc[GenJVMUtil.this.global.icodes.LE.type]">LE</a> <a href="../../../../Predef.scala.html#63591" title="(y: Int)(GenJVMUtil.this.global.icodes.LE.type, Int)">-&gt;</a> JExtendedCode.<span title="Int(5)">COND_LE</span>,
      <a href="../../../../Predef.scala.html#8484" title="(x: GenJVMUtil.this.global.icodes.GE.type)ArrowAssoc[GenJVMUtil.this.global.icodes.GE.type]">GE</a> <a href="../../../../Predef.scala.html#63591" title="(y: Int)(GenJVMUtil.this.global.icodes.GE.type, Int)">-&gt;</a> JExtendedCode.<span title="Int(3)">COND_GE</span>
    <span class="delimiter">)</span>

    /** Specialized array conversion to prevent calling
     *  java.lang.reflect.Array.newInstance via TraversableOnce.toArray
     */

    <span class="keyword">def</span> <a title="(xs: Traversable[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]" id="773370">mkArray</a><span class="delimiter">(</span><a title="Traversable[ch.epfl.lamp.fjbg.JType]" id="776344">xs</a>: <a href="../../../../collection/Traversable.scala.html#5662" title="Traversable[ch.epfl.lamp.fjbg.JType]">Traversable</a><span class="delimiter">[</span>JType<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../Array.scala.html#292" title="Array[ch.epfl.lamp.fjbg.JType]">Array</a><span class="delimiter">[</span>JType<span class="delimiter">]</span> = <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Array[ch.epfl.lamp.fjbg.JType]" id="785040">a</a> = <span title="Array[ch.epfl.lamp.fjbg.JType]" class="keyword">new</span> <a href="../../../../Array.scala.html#292" title="Array[ch.epfl.lamp.fjbg.JType]">Array</a><span class="delimiter">[</span>JType<span class="delimiter">]</span><span class="delimiter">(</span><a href="#776344" title="Traversable[ch.epfl.lamp.fjbg.JType]">xs</a>.<a href="../../../../collection/TraversableOnce.scala.html#59101" title="=&gt; Int">size</a><span class="delimiter">)</span>; <a href="#776344" title="Traversable[ch.epfl.lamp.fjbg.JType]">xs</a>.<a href="../../../../collection/TraversableOnce.scala.html#59167" title="(xs: Array[ch.epfl.lamp.fjbg.JType])Unit">copyToArray</a><span class="delimiter">(</span><a href="#785040" title="Array[ch.epfl.lamp.fjbg.JType]">a</a><span class="delimiter">)</span>; <a href="#785040" title="Array[ch.epfl.lamp.fjbg.JType]">a</a> <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(xs: Traversable[String])Array[String]" id="773371">mkArray</a><span class="delimiter">(</span><a title="Traversable[String]" id="776343">xs</a>: <a href="../../../../collection/Traversable.scala.html#5662" title="Traversable[String]">Traversable</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../Array.scala.html#292" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Array[String]" id="785102">a</a> = <span title="Array[String]" class="keyword">new</span> <a href="../../../../Array.scala.html#292" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><a href="#776343" title="Traversable[String]">xs</a>.<a href="../../../../collection/TraversableOnce.scala.html#59101" title="=&gt; Int">size</a><span class="delimiter">)</span>; <a href="#776343" title="Traversable[String]">xs</a>.<a href="../../../../collection/TraversableOnce.scala.html#59167" title="(xs: Array[String])Unit">copyToArray</a><span class="delimiter">(</span><a href="#785102" title="Array[String]">a</a><span class="delimiter">)</span>; <a href="#785102" title="Array[String]">a</a> <span class="delimiter">}</span>

    /** Return the a name of this symbol that can be used on the Java
     *  platform.  It removes spaces from names.
     *
     *  Special handling:
     *    scala.Nothing erases to scala.runtime.Nothing$
     *       scala.Null erases to scala.runtime.Null$
     *
     *  This is needed because they are not real classes, and they mean
     *  'abrupt termination upon evaluation of that expression' or null respectively.
     *  This handling is done already in GenICode, but here we need to remove
     *  references from method signatures to these types, because such classes can
     *  not exist in the classpath: the type checker will be very confused.
     */
    <span class="keyword">def</span> <a title="(sym: GenJVMUtil.this.global.Symbol)String" id="773372">javaName</a><span class="delimiter">(</span><a title="GenJVMUtil.this.global.Symbol" id="774247">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="GenJVMUtil.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
      <a href="#652519" title="=&gt; scala.collection.mutable.WeakHashMap[GenJVMUtil.this.global.Symbol,GenJVMUtil.this.global.Name]">javaNameCache</a>.<a href="../../../../collection/mutable/MapLike.scala.html#78517" title="(key: GenJVMUtil.this.global.Symbol, op: =&gt; GenJVMUtil.this.global.Name)GenJVMUtil.this.global.Name">getOrElseUpdate</a><span class="delimiter">(</span><a href="#774247" title="GenJVMUtil.this.global.Symbol">sym</a>, <span class="delimiter">{</span>
        <span title="GenJVMUtil.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#774247" title="GenJVMUtil.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#774247" title="GenJVMUtil.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#774247" title="GenJVMUtil.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#774247" title="GenJVMUtil.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443393" title="=&gt; GenJVMUtil.this.global.Name">javaBinaryName</a>
        <span class="keyword">else</span>
          <a href="#774247" title="GenJVMUtil.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443392" title="=&gt; GenJVMUtil.this.global.Name">javaSimpleName</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../../Function1.scala.html#59562" title="()String">toString</a>

    <span class="keyword">def</span> <a title="(t: GenJVMUtil.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType" id="773373">javaType</a><span class="delimiter">(</span><a title="GenJVMUtil.this.global.icodes.TypeKind" id="774222">t</a>: <a href="../icode/TypeKinds.scala.html#642711" title="GenJVMUtil.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span>: <span title="ch.epfl.lamp.fjbg.JType">JType</span> = <span class="delimiter">(</span><a href="#774222" title="GenJVMUtil.this.global.icodes.TypeKind">t</a>: @<a href="../icode/TypeKinds.scala.html#642711" title="GenJVMUtil.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642717" title="ch.epfl.lamp.fjbg.JType" id="785192">UNIT</a>            =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">VOID</a>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642719" title="ch.epfl.lamp.fjbg.JType" id="785193">BOOL</a>            =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">BOOLEAN</a>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642721" title="ch.epfl.lamp.fjbg.JType" id="785194">BYTE</a>            =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">BYTE</a>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642723" title="ch.epfl.lamp.fjbg.JType" id="785195">SHORT</a>           =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">SHORT</a>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642725" title="ch.epfl.lamp.fjbg.JType" id="785196">CHAR</a>            =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">CHAR</a>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642727" title="ch.epfl.lamp.fjbg.JType" id="785197">INT</a>             =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">INT</a>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642729" title="ch.epfl.lamp.fjbg.JType" id="785198">LONG</a>            =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">LONG</a>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642731" title="ch.epfl.lamp.fjbg.JType" id="785199">FLOAT</a>           =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">FLOAT</a>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642733" title="ch.epfl.lamp.fjbg.JType" id="785200">DOUBLE</a>          =&gt; <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType">DOUBLE</a>
      <span class="keyword">case</span> REFERENCE<a href="#785178" title="ch.epfl.lamp.fjbg.JType" id="785189" class="delimiter">(</a>cls<span class="delimiter">)</span>  =&gt; <a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType" class="keyword">new</a> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#773372" title="(sym: GenJVMUtil.this.global.Symbol)String">javaName</a><span class="delimiter">(</span>cls<span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> ARRAY<a href="#785178" title="ch.epfl.lamp.fjbg.JType" id="785191" class="delimiter">(</a>elem<span class="delimiter">)</span>     =&gt; <a href="#785201" title="(x: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JType" class="keyword">new</a> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="#773373" title="(t: GenJVMUtil.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span>elem<span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(t: GenJVMUtil.this.global.Type)ch.epfl.lamp.fjbg.JType" id="773374">javaType</a><span class="delimiter">(</span><a title="GenJVMUtil.this.global.Type" id="774220">t</a>: <a href="../../../../reflect/internal/Types.scala.html#441242" title="GenJVMUtil.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="ch.epfl.lamp.fjbg.JType">JType</span> = <a href="#773373" title="(t: GenJVMUtil.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#642747" title="(t: GenJVMUtil.this.global.icodes.global.Type)GenJVMUtil.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#774220" title="GenJVMUtil.this.global.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(s: GenJVMUtil.this.global.Symbol)ch.epfl.lamp.fjbg.JType" id="773375">javaType</a><span class="delimiter">(</span><a title="GenJVMUtil.this.global.Symbol" id="774171">s</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="GenJVMUtil.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="ch.epfl.lamp.fjbg.JType">JType</span> =
      <span title="ch.epfl.lamp.fjbg.JType" class="keyword">if</span> <span class="delimiter">(</span><a href="#774171" title="GenJVMUtil.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
        <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span>
          <span title="ch.epfl.lamp.fjbg.JType" class="keyword">if</span> <span class="delimiter">(</span><a href="#774171" title="GenJVMUtil.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443264" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span title="ch.epfl.lamp.fjbg.JType.type">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span> <span class="keyword">else</span> <a href="#773374" title="(t: GenJVMUtil.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#774171" title="GenJVMUtil.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; GenJVMUtil.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#442002" title="=&gt; GenJVMUtil.this.global.Type">resultType</a><span class="delimiter">)</span>,
          <a href="#773370" title="(xs: Traversable[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">mkArray</a><span class="delimiter">(</span><a href="#774171" title="GenJVMUtil.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; GenJVMUtil.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#442010" title="=&gt; List[GenJVMUtil.this.global.Type]">paramTypes</a> <a href="../../../../collection/TraversableLike.scala.html#58971" title="(f: GenJVMUtil.this.global.Type =&gt; ch.epfl.lamp.fjbg.JType)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVMUtil.this.global.Type],ch.epfl.lamp.fjbg.JType,Traversable[ch.epfl.lamp.fjbg.JType]])Traversable[ch.epfl.lamp.fjbg.JType]">map</a> <a href="#773374" title="(t: GenJVMUtil.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#773374" title="(t: GenJVMUtil.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#774171" title="GenJVMUtil.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; GenJVMUtil.this.global.Type">tpe</a><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(jcode: ch.epfl.lamp.fjbg.JExtendedCode, const: GenJVMUtil.this.global.Constant)Unit" id="773376">genConstant</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JExtendedCode" id="781686">jcode</a>: <span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span>, <a title="GenJVMUtil.this.global.Constant" id="781687">const</a>: <a href="../../../../reflect/internal/Constants.scala.html#441712" title="GenJVMUtil.this.global.Constant">Constant</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443079" title="=&gt; Int">tag</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> UnitTag    =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> BooleanTag =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Boolean)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443093" title="=&gt; Boolean">booleanValue</a>
        <span class="keyword">case</span> ByteTag    =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Byte)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443094" title="=&gt; Byte">byteValue</a>
        <span class="keyword">case</span> ShortTag   =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Short)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443095" title="=&gt; Short">shortValue</a>
        <span class="keyword">case</span> CharTag    =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Char)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443096" title="=&gt; Char">charValue</a>
        <span class="keyword">case</span> IntTag     =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443097" title="=&gt; Int">intValue</a>
        <span class="keyword">case</span> LongTag    =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Long)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443098" title="=&gt; Long">longValue</a>
        <span class="keyword">case</span> FloatTag   =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Float)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443099" title="=&gt; Float">floatValue</a>
        <span class="keyword">case</span> DoubleTag  =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Double)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443100" title="=&gt; Double">doubleValue</a>
        <span class="keyword">case</span> StringTag  =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: String)Unit">emitPUSH</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443102" title="=&gt; String">stringValue</a>
        <span class="keyword">case</span> NullTag    =&gt; <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitACONST_NULL</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> ClazzTag   =&gt;
          <span class="keyword">val</span> <a title="GenJVMUtil.this.global.icodes.TypeKind" id="785365">kind</a> = <a href="../icode/TypeKinds.scala.html#642747" title="(t: GenJVMUtil.this.global.icodes.global.Type)GenJVMUtil.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443105" title="=&gt; GenJVMUtil.this.global.Type">typeValue</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JReferenceType" id="785366">toPush</a> =
            <span title="ch.epfl.lamp.fjbg.JReferenceType" class="keyword">if</span> <span class="delimiter">(</span><a href="#785365" title="GenJVMUtil.this.global.icodes.TypeKind">kind</a>.<a href="../icode/TypeKinds.scala.html#731171" title="=&gt; Boolean">isValueType</a><span class="delimiter">)</span> <a href="../../../../collection/MapLike.scala.html#78420" title="(key: GenJVMUtil.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JObjectType">classLiteral</a><span class="delimiter">(</span><a href="#785365" title="GenJVMUtil.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#773373" title="(t: GenJVMUtil.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#785365" title="GenJVMUtil.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>

          <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitPUSH</span> <a href="#785366" title="ch.epfl.lamp.fjbg.JReferenceType">toPush</a>

        <span class="keyword">case</span> EnumTag   =&gt;
          <span class="keyword">val</span> <a title="GenJVMUtil.this.global.Symbol" id="785402">sym</a> = <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#443106" title="=&gt; GenJVMUtil.this.global.Symbol">symbolValue</a>
          <a href="#781686" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#773372" title="(sym: GenJVMUtil.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#785402" title="GenJVMUtil.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; GenJVMUtil.this.global.Symbol">owner</a><span class="delimiter">)</span>,
                              <a href="#773372" title="(sym: GenJVMUtil.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#785402" title="GenJVMUtil.this.global.Symbol">sym</a><span class="delimiter">)</span>,
                              <a href="#773374" title="(t: GenJVMUtil.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#785402" title="GenJVMUtil.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; GenJVMUtil.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#441989" title="=&gt; GenJVMUtil.this.global.Type">underlying</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _         =&gt;
          <a href="../../Global.scala.html#559537" title="(msg: String)Nothing">abort</a><span title="Nothing" class="delimiter">(</span><span title="String(&quot;Unknown constant value: &quot;)" class="string">&quot;Unknown constant value: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#781687" title="GenJVMUtil.this.global.Constant">const</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span title="Object" class="delimiter">}</span>

        </pre>
    </body>
</html>