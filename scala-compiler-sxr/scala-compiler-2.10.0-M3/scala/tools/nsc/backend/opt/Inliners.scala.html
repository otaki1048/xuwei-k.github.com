<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/opt/Inliners.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Iulian Dragos
 */


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.opt

<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> scala.tools.nsc.symtab._
<span class="keyword">import</span> scala.tools.nsc.util.<span class="delimiter">{</span> NoSourceFile <span class="delimiter">}</span>

/**
 *  @author Iulian Dragos
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Inliners extends scala.tools.nsc.SubComponent" id="33596">Inliners</a> <a href="#33596" title="scala.tools.nsc.backend.opt.Inliners" class="keyword">extends</a> <a href="../../SubComponent.scala.html#27616" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../../SubComponent.scala.html#641784" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#559502" title="Inliners.this.global.icodes.type">icodes</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#559502" title="Inliners.this.global.icodes.type">icodes</a>.<a href="../icode/Opcodes.scala.html#642694" title="Inliners.this.global.icodes.opcodes.type">opcodes</a>._
  <span class="keyword">import</span> <a href="../../../../reflect/internal/Definitions.scala.html#441641" title="Inliners.this.global.definitions.type">definitions</a>.<span class="delimiter">{</span>
    NullClass, NothingClass, ObjectClass,
    PredefModule, RuntimePackage, ScalaInlineClass, ScalaNoInlineClass,
    isFunctionType
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="String" id="651976">phaseName</a> = <span title="String(&quot;inliner&quot;)" class="string">&quot;inliner&quot;</span>

  /** Debug - for timing the inliner. */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](s: String, body: =&gt; T)T" id="651978">timed</a><span class="delimiter">[</span><a title="" id="651980">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="800228">s</a>: <span title="String">String</span>, <a title="=&gt; T" id="800229">body</a>: =&gt; T<span class="delimiter">)</span>: <a href="#651980" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="800232">t1</a> = <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="T" id="800233">res</a> = <a href="#800229" title="=&gt; T">body</a>
    <span class="keyword">val</span> <a title="Long" id="800234">t2</a> = <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Int" id="800235">ms</a> = <span class="delimiter">(</span><a href="#800234" title="Long">t2</a> <a href="../../../../Long.scala.html#58318" title="(x: Long)Long">-</a> <a href="#800232" title="Long">t1</a><span class="delimiter">)</span>.<a href="../../../../Long.scala.html#58236" title="=&gt; Int">toInt</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800235" title="Int">ms</a> <a href="../../../../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2000)">MAX_INLINE_MILLIS</span><span class="delimiter">)</span>
      <a href="../../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s: %d milliseconds&quot;</a>.<a href="../../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#800228" title="String">s</a>, <a href="#800235" title="Int">ms</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#800233" title="T">res</a>
  <span class="delimiter">}</span>

  /** Look up implementation of method 'sym in 'clazz'.
   */
  <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol" id="651981">lookupImplFor</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="770701">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="770702">clazz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    // TODO: verify that clazz.superClass is equivalent here to clazz.tpe.parents(0).typeSymbol (.tpe vs .info)
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="800254">needsLookup</a> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#770702" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Inliners.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#770702" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#770701" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Inliners.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#770701" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a>
      <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#770702" title="Inliners.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a>
    <span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol" id="800255">lookup</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="800264">clazz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      // println(&quot;\t\tlooking up &quot; + meth + &quot; in &quot; + clazz.fullName + &quot; meth.owner = &quot; + meth.owner)
      <span title="Inliners.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#770701" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Inliners.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#800264" title="Inliners.this.global.Symbol">clazz</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#651992" title="(sym: Inliners.this.global.Symbol)Boolean">isBottomType</a><span class="delimiter">(</span><a href="#800264" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#770701" title="Inliners.this.global.Symbol">sym</a>
      <span class="keyword">else</span> <a href="#770701" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443519" title="(ofclazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">overridingSymbol</a><span title="Inliners.this.global.Symbol" class="delimiter">(</span><a href="#800264" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../../reflect/internal/Symbols.scala.html#441152" title="Inliners.this.global.Symbol" id="800286">NoSymbol</a>  =&gt; <a href="#800287" title="(x: Inliners.this.global.Symbol)Inliners.this.global.Symbol" class="keyword">if</a> <span class="delimiter">(</span><a href="#770701" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Inliners.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#770701" title="Inliners.this.global.Symbol">sym</a> <span class="keyword">else</span> <a href="#800255" title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#800264" title="Inliners.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443498" title="=&gt; Inliners.this.global.Symbol">superClass</a><span class="delimiter">)</span>
        <span class="keyword">case</span> imp       =&gt; <a href="#800287" title="(x: Inliners.this.global.Symbol)Inliners.this.global.Symbol">imp</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span title="Inliners.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#800254" title="=&gt; Boolean">needsLookup</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Inliners.this.global.Symbol" id="800295">concreteMethod</a> = <a href="#800255" title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#770702" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\tlooked up method: &quot;)" class="string">&quot;\tlooked up method: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800295" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span>

      <a href="#800295" title="Inliners.this.global.Symbol">concreteMethod</a>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <a href="#770701" title="Inliners.this.global.Symbol">sym</a>
  <span class="delimiter">}</span>

  /* A warning threshold */
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(2000)" id="651982">MAX_INLINE_MILLIS</a> = <span title="Int(2000)" class="int">2000</span>

  /** The maximum size in basic blocks of methods considered for inlining. */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(16)" id="651984">MAX_INLINE_SIZE</a> = <span title="Int(16)" class="int">16</span>

  /** Maximum loop iterations. */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(15)" id="651986">MAX_INLINE_RETRY</a> = <span title="Int(15)" class="int">15</span>

  /** Small method size (in blocks) */
  <span class="keyword">val</span> <a title="Int" id="651988">SMALL_METHOD_SIZE</a> = <span title="Int(1)" class="int">1</span>

  /** Create a new phase */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(p: scala.tools.nsc.Phase)Inliners.this.InliningPhase" id="651990">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="653486">p</a>: <a href="../../../../reflect/internal/Phase.scala.html#20058" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> = <span title="Inliners.this.InliningPhase" class="keyword">new</span> <a href="#651991" title="Inliners.this.InliningPhase">InliningPhase</a><span class="delimiter">(</span><a href="#653486" title="scala.tools.nsc.Phase">p</a><span class="delimiter">)</span>

  /** The Inlining phase.
   */
  <span class="keyword">class</span> <a title="class InliningPhase extends Inliners.this.global.icodes.ICodePhase" id="651991">InliningPhase</a><a href="#651991" title="Inliners.this.InliningPhase" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="653495">prev</a>: <a href="../../../../reflect/internal/Phase.scala.html#20058" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../icode/ICodes.scala.html#642663" title="Inliners.this.global.icodes.ICodePhase">ICodePhase</a><span class="delimiter">(</span><a href="#653495" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="653490">name</a> = <a href="#651976" title="=&gt; String">phaseName</a>
    <span class="keyword">val</span> <a title="Inliners.this.Inliner" id="653491">inliner</a> = <span title="Inliners.this.Inliner" class="keyword">new</span> <a href="#651998" title="Inliners.this.Inliner">Inliner</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(c: Inliners.this.global.icodes.IClass)Unit" id="653493">apply</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="800327">c</a>: <a href="../icode/Members.scala.html#642676" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#653491" title="=&gt; Inliners.this.Inliner">inliner</a> <a href="#800312" title="(cls: Inliners.this.global.icodes.IClass)Unit">analyzeClass</a> <a href="#800327" title="Inliners.this.global.icodes.IClass">c</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="653494">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#651991" title="Inliners.this.InliningPhase" class="keyword">super</a>.<a href="../../Global.scala.html#650441" title="()Unit">run</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#653491" title="=&gt; Inliners.this.Inliner">inliner</a>.<a href="#800311" title="()Unit">clearCaches</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="651992">isBottomType</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="800270">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#800270" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#442195" title="Inliners.this.global.definitions.NullClass.type">NullClass</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#800270" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#442193" title="Inliners.this.global.definitions.NothingClass.type">NothingClass</a>
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)String" id="651993">posToStr</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="800347">pos</a>: util.<a href="../../util/Position.scala.html#52230" title="scala.tools.nsc.util.Position">Position</a><span class="delimiter">)</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#800347" title="scala.tools.nsc.util.Position">pos</a>.<a href="../../util/Position.scala.html#445353" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#800347" title="scala.tools.nsc.util.Position">pos</a>.<a href="../../util/Position.scala.html#445360" title="=&gt; Int">point</a>.<span title="()String">toString</span> <span class="keyword">else</span> <span title="String(&quot;&lt;nopos&gt;&quot;)" class="string">&quot;&lt;nopos&gt;&quot;</span>

  /** Is the given class a closure? */
  <span class="keyword">def</span> <a title="(cls: Inliners.this.global.Symbol)Boolean" id="651994">isClosureClass</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="770705">cls</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
    <a href="#770705" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#443591" title="=&gt; Boolean">isFinal</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#770705" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#443598" title="=&gt; Boolean">isSynthetic</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#770705" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443245" title="=&gt; Boolean">isModuleClass</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#770705" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443323" title="=&gt; Boolean">isAnonymousFunction</a>

  /*
      TODO now that Inliner runs faster we could consider additional &quot;monadic methods&quot; (in the limit, all those taking a closure as last arg)
      Any &quot;monadic method&quot; occurring in a given caller C that is not `isMonadicMethod()` will prevent CloseElim from eliminating
      any anonymous-closure-class any whose instances are given as argument to C invocations.
   */
  <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="651995">isMonadicMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="770811">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../../../reflect/internal/StdNames.scala.html#441764" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#446240" title="(name: Inliners.this.global.Name)Inliners.this.global.Name">unspecializedName</a><span title="Boolean" class="delimiter">(</span><a href="#770811" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/StdNames.scala.html#441764" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#446533" title="Boolean" id="770826">foreach</a> | <a href="../../../../reflect/internal/StdNames.scala.html#441764" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#446525" title="Boolean" id="770827">filter</a> | <a href="../../../../reflect/internal/StdNames.scala.html#441764" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#446731" title="Boolean" id="770828">withFilter</a> | <a href="../../../../reflect/internal/StdNames.scala.html#441764" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#446585" title="Boolean" id="770829">map</a> | <a href="../../../../reflect/internal/StdNames.scala.html#441764" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#446531" title="Boolean" id="770830">flatMap</a> =&gt; <a href="#770831" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="keyword">case</span> _                                                                 =&gt; <a href="#770831" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="651996">hasInline</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="770860">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="#770860" title="Inliners.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: Inliners.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#442671" title="=&gt; Inliners.this.global.ClassSymbol">ScalaInlineClass</a>
  <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="651997">hasNoInline</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="800348">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#800348" title="Inliners.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: Inliners.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#442673" title="=&gt; Inliners.this.global.ClassSymbol">ScalaNoInlineClass</a>

  /**
   * Simple inliner.
   */
  <span class="keyword">class</span> <a title="class Inliner extends Object" id="651998">Inliner</a> <a href="#651998" title="Inliners.this.Inliner" class="delimiter">{</a>
    <span class="keyword">object</span> <a title="Inliner.this.NonPublicRefs.type" id="800301">NonPublicRefs</a> <a href="#800302" title="Inliner.this.NonPublicRefs.type" class="keyword">extends</a> <a href="../../../../Enumeration.scala.html#100" title="Enumeration">Enumeration</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="800337">Private</a>, <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="800339">Protected</a>, <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="800341">Public</a> = <a href="../../../../Enumeration.scala.html#78177" title="=&gt; scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value">Value</a>

      /** Cache whether a method calls private members. */
      <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]" id="800343">usesNonPublics</a> = mutable.<a href="../../../../collection/mutable/Map.scala.html#12935" title="scala.collection.mutable.Map.type">Map</a>.<a href="../../../../collection/mutable/Map.scala.html#162664" title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">empty</a><span title="scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]" class="delimiter">[</span><a href="../icode/Members.scala.html#642680" title="Inliners.this.global.icodes.IMethod">IMethod</a>, <a href="../../../../Enumeration.scala.html#78183" title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value">Value</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>
    <span class="keyword">import</span> <a href="#800301" title="Inliner.this.NonPublicRefs.type">NonPublicRefs</a>._

    /** The current iclass */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Inliners.this.global.icodes.IClass" id="800305">currentIClazz</a>: <a href="../icode/Members.scala.html#642676" title="Inliners.this.global.icodes.IClass">IClass</a> = _
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Inliners.this.global.Position, msg: String)Any" id="800307">warn</a><span class="delimiter">(</span><a title="Inliners.this.global.Position" id="800371">pos</a>: <a href="../../util/Position.scala.html#52230" title="Inliners.this.global.Position">Position</a>, <a title="String" id="800372">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#800305" title="=&gt; Inliners.this.global.icodes.IClass">currentIClazz</a>.<a href="../icode/Members.scala.html#642921" title="=&gt; Inliners.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#560824" title="(pos: Inliners.this.global.icodes.global.Position, msg: String)Any">inlinerWarning</a><span class="delimiter">(</span><a href="#800371" title="Inliners.this.global.Position">pos</a>, <a href="#800372" title="String">msg</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]" id="800308">recentTFAs</a> = mutable.<a href="../../../../collection/mutable/Map.scala.html#12935" title="scala.collection.mutable.Map.type">Map</a>.<a href="../../../../collection/mutable/Map.scala.html#162664" title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">empty</a><span title="scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a>, <a href="../../../../Tuple2.scala.html#1222" title="(Boolean, Inliners.this.global.analysis.MethodTFA)">Tuple2</a><span class="delimiter">[</span>Boolean, analysis.MethodTFA<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(incm: Inliners.this.global.icodes.IMethod)(Boolean, Inliners.this.global.analysis.MethodTFA)" id="800310">getRecentTFA</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="800375">incm</a>: <a href="../icode/Members.scala.html#642680" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span>: <a href="../../../../Tuple2.scala.html#1222" title="(Boolean, Inliners.this.global.analysis.MethodTFA)" class="delimiter">(</a>Boolean, analysis.MethodTFA<span class="delimiter">)</span> = <span class="delimiter">{</span>

        <span class="keyword">def</span> <a title="(blocks: List[Inliners.this.global.icodes.BasicBlock])Boolean" id="800376">containsRETURN</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.BasicBlock]" id="800380">blocks</a>: <a href="../../../../collection/immutable/List.scala.html#12322" title="List[Inliners.this.global.icodes.BasicBlock]">List</a><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#800380" title="List[Inliners.this.global.icodes.BasicBlock]">blocks</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Inliners.this.global.icodes.BasicBlock =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="800387">bb</a> =&gt; <a href="#800387" title="Inliners.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#733800" title="=&gt; Inliners.this.global.icodes.Instruction">lastInstruction</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../icode/Opcodes.scala.html#653376" title="Inliners.this.global.icodes.opcodes.RETURN">RETURN</a><span class="delimiter">]</span> <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]" id="800377">opt</a> = <a href="#800308" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]">recentTFAs</a>.<a href="../../../../collection/MapLike.scala.html#78410" title="(key: Inliners.this.global.Symbol)Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]">get</a><span class="delimiter">(</span><a href="#800375" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#800377" title="Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]">opt</a>.<a href="../../../../Option.scala.html#63812" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // FYI val cachedBBs = opt.get._2.in.keySet
        // FYI assert(incm.blocks.toSet == cachedBBs)
        // incm.code.touched plays no role here
        <span title="Nothing" class="keyword">return</span> <a href="#800377" title="Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]">opt</a>.<a href="../../../../Option.scala.html#63813" title="=&gt; (Boolean, Inliners.this.global.analysis.MethodTFA)">get</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Boolean" id="800378">hasRETURN</a> = <a href="#800376" title="(blocks: List[Inliners.this.global.icodes.BasicBlock])Boolean">containsRETURN</a><span class="delimiter">(</span><a href="#800375" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#733829" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#733931" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocksList</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#800375" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#733846" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Inliners.this.global.icodes.ExceptionHandler =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.ExceptionHandler" id="800402">eh</a> =&gt; <a href="#800376" title="(blocks: List[Inliners.this.global.icodes.BasicBlock])Boolean">containsRETURN</a><span class="delimiter">(</span><a href="#800402" title="Inliners.this.global.icodes.ExceptionHandler">eh</a>.<a href="../icode/ExceptionHandlers.scala.html#734077" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Inliners.this.global.analysis.MethodTFA" id="800379">a</a>: analysis.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#648382" title="Inliners.this.global.analysis.MethodTFA">MethodTFA</a> = <span title="Null(null)" class="keyword">null</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#800378" title="Boolean">hasRETURN</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#800379" title="Inliners.this.global.analysis.MethodTFA">a</a> = <a href="../icode/analysis/TypeFlowAnalysis.scala.html#768899" title="(m: Inliners.this.global.analysis.global.icodes.IMethod)Inliners.this.global.analysis.MethodTFA" class="keyword">new</a> <a href="../../Global.scala.html#559508" title="Inliners.this.global.analysis.type">analysis</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#648382" title="Inliners.this.global.analysis.MethodTFA">MethodTFA</a><span class="delimiter">(</span><a href="#800375" title="Inliners.this.global.icodes.IMethod">incm</a><span class="delimiter">)</span>; <a href="#800379" title="Inliners.this.global.analysis.MethodTFA">a</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#768900" title="()Unit">run</a> <span class="delimiter">}</span>

      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#651996" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#800375" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#800308" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]">recentTFAs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#78495" title="(key: Inliners.this.global.Symbol, value: (Boolean, Inliners.this.global.analysis.MethodTFA))Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]">put</a><span class="delimiter">(</span><a href="#800375" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>, <a href="../../../../Tuple2.scala.html#63804" title="(_1: Boolean, _2: Inliners.this.global.analysis.MethodTFA)(Boolean, Inliners.this.global.analysis.MethodTFA)" class="delimiter">(</a><a href="#800378" title="Boolean">hasRETURN</a>, <a href="#800379" title="Inliners.this.global.analysis.MethodTFA">a</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

      <a href="../../../../Tuple2.scala.html#63804" title="(_1: Boolean, _2: Inliners.this.global.analysis.MethodTFA)(Boolean, Inliners.this.global.analysis.MethodTFA)" class="delimiter">(</a><a href="#800378" title="Boolean">hasRETURN</a>, <a href="#800379" title="Inliners.this.global.analysis.MethodTFA">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()Unit" id="800311">clearCaches</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      // methods
      <a href="#800301" title="Inliner.this.NonPublicRefs.type">NonPublicRefs</a>.<a href="#800343" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a>.<a href="../../../../collection/mutable/MapLike.scala.html#78516" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#800308" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]">recentTFAs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#78516" title="()Unit">clear</a>
      <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770493" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownUnsafe</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770495" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownSafe</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770497" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownNever</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      // basic blocks
      <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770481" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.BasicBlock]">preCandidates</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770500" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.BasicBlock]">relevantBBs</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      // callsites
      <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770479" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD,Inliners.this.global.analysis.CallsiteInfo]">remainingCALLs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#78516" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770491" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.Instruction]">isOnWatchlist</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cls: Inliners.this.global.icodes.IClass)Unit" id="800312">analyzeClass</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="800335">cls</a>: <a href="../icode/Members.scala.html#642676" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#2389" title="Unit">Unit</a> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#467504" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">inline</a>.<a href="../../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Analyzing &quot;)" class="string">&quot;Analyzing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800335" title="Inliners.this.global.icodes.IClass">cls</a><span class="delimiter">)</span>

        <a href="#651998" title="Inliner.this.type" class="keyword">this</a>.<a href="#800305" title="(x$1: Inliners.this.global.icodes.IClass)Unit">currentIClazz</a> = <a href="#800335" title="Inliners.this.global.icodes.IClass">cls</a>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.IMethod]" id="800430">ms</a> = <a href="#800335" title="Inliners.this.global.icodes.IClass">cls</a>.<a href="../icode/Members.scala.html#642918" title="=&gt; List[Inliners.this.global.icodes.IMethod]">methods</a> <a href="../../../../collection/TraversableLike.scala.html#58982" title="(p: Inliners.this.global.icodes.IMethod =&gt; Boolean)List[Inliners.this.global.icodes.IMethod]">filterNot</a> <span class="delimiter">{</span> <a href="#800440" title="Inliners.this.global.icodes.IMethod">_</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <span class="delimiter">}</span>
        <a href="#800430" title="List[Inliners.this.global.icodes.IMethod]">ms</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Inliners.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.IMethod" id="800460">im</a> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#651996" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#800460" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Not inlining into &quot;)" class="string">&quot;Not inlining into &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800460" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443386" title="=&gt; Inliners.this.global.icodes.global.Name">originalName</a>.<a href="../../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; because it is marked @inline.&quot;)" class="string">&quot; because it is marked @inline.&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#800460" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#733864" title="=&gt; Boolean">hasCode</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800460" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443262" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#800321" title="(m: Inliners.this.global.icodes.IMethod)Unit">analyzeMethod</a><span class="delimiter">(</span><a href="#800460" title="Inliners.this.global.icodes.IMethod">im</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Inliners.this.global.analysis.MTFAGrowable" id="800313">tfa</a>   = <span title="Inliners.this.global.analysis.MTFAGrowable" class="keyword">new</span> <a href="../../Global.scala.html#559508" title="Inliners.this.global.analysis.type">analysis</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#648386" title="Inliners.this.global.analysis.MTFAGrowable">MTFAGrowable</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#763379" title="(x$1: Boolean)Unit">stat</a>  = <a href="../../SubComponent.scala.html#641784" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#559558" title="Inliners.this.global.opt.type">opt</a>.<a href="../../settings/AestheticSettings.scala.html#561505" title="=&gt; Boolean">printStats</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]" id="800315">staleOut</a>      = <span title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]" class="keyword">new</span> mutable.<a href="../../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">ListBuffer</a><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" id="800317">splicedBlocks</a> = mutable.<a href="../../../../collection/mutable/Set.scala.html#13529" title="scala.collection.mutable.Set.type">Set</a>.<a href="../../../../collection/mutable/Set.scala.html#304513" title="[A]=&gt; scala.collection.mutable.Set[A]">empty</a><span title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../icode/BasicBlocks.scala.html#642689" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" id="800319">staleIn</a>       = mutable.<a href="../../../../collection/mutable/Set.scala.html#13529" title="scala.collection.mutable.Set.type">Set</a>.<a href="../../../../collection/mutable/Set.scala.html#304513" title="[A]=&gt; scala.collection.mutable.Set[A]">empty</a><span title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../icode/BasicBlocks.scala.html#642689" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>

    /**
     * A transformation local to the body of the argument.
     * An linining decision consists in replacing a callsite with the body of the callee.
     * Please notice that, because `analyzeMethod()` itself may modify a method body,
     * the particular callee bodies that end up being inlined depend on the particular order in which methods are visited
     * (no topological ordering over the call-graph is attempted).
     *
     * Making an inlining decision requires type-flow information for both caller and callee.
     * Regarding the caller, such information is needed only for basic blocks containing inlining candidates
     * (and their transitive predecessors). This observation leads to using a custom type-flow analysis (MTFAGrowable)
     * that can be re-inited, i.e. that reuses lattice elements (type-flow information) computed in a previous iteration
     * as starting point for faster convergence in a new iteration.
     *
     * The mechanics of inlining are iterative for a given invocation of `analyzeMethod(m)`,
     * thus considering the basic blocks that successful inlining added in a previous iteration:
     *
     *   (1) before the iterations proper start, so-called preinlining is performed.
     *       Those callsites whose (receiver, concreteMethod) are both known statically
     *       can be analyzed for inlining before computing a type-flow. Details in `preInline()`
     *
     *   (2) the first iteration computes type-flow information for basic blocks containing inlining candidates
     *       (and their transitive predecessors), so called `relevantBBs`.
     *       The ensuing analysis of each candidate (performed by `analyzeInc()`)
     *       may result in a CFG isomorphic to that of the callee being inserted where the callsite was
     *       (i.e. a CALL_METHOD instruction is replaced with a single-entry single-exit CFG, which we call &quot;successful inlining&quot;).
     *
     *   (3) following iterations have their relevant basic blocks updated to focus
     *       on the inlined basic blocks and their successors only. Details in `MTFAGrowable.reinit()`
     * */
    <span class="keyword">def</span> <a title="(m: Inliners.this.global.icodes.IMethod)Unit" id="800321">analyzeMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="800461">m</a>: <a href="../icode/Members.scala.html#642680" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
      // m.normalize

      <span class="keyword">var</span> <a title="Int" id="800463">sizeBeforeInlining</a>  = <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733829" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#733933" title="=&gt; Int">blockCount</a>
      <span class="keyword">var</span> <a title="Int" id="800464">instrBeforeInlining</a> = <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733829" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#733934" title="=&gt; Int">instructionCount</a>
      <span class="keyword">var</span> <a title="Boolean" id="800465">retry</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">var</span> <a title="Int" id="800466">count</a> = <span title="Int(0)" class="int">0</span>

      // fresh name counter
      <span class="keyword">val</span> <a title="scala.collection.mutable.Map[String,Int]" id="800467">fresh</a> = mutable.<a href="../../../../collection/mutable/HashMap.scala.html#12881" title="scala.collection.mutable.HashMap.type">HashMap</a>.<a href="../../../../collection/mutable/HashMap.scala.html#138084" title="[A, B]=&gt; scala.collection.mutable.HashMap[A,B]">empty</a><span title="scala.collection.mutable.HashMap[String,Int]" class="delimiter">[</span><span title="String">String</span>, <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">]</span> <a href="../../../../collection/mutable/Map.scala.html#78489" title="(d: Int)scala.collection.mutable.Map[String,Int]">withDefaultValue</a> <span title="Int(0)" class="int">0</span>
      // how many times have we already inlined this method here?
      <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]" id="800468">inlinedMethodCount</a> = mutable.<a href="../../../../collection/mutable/HashMap.scala.html#12881" title="scala.collection.mutable.HashMap.type">HashMap</a>.<a href="../../../../collection/mutable/HashMap.scala.html#138084" title="[A, B]=&gt; scala.collection.mutable.HashMap[A,B]">empty</a><span title="scala.collection.mutable.HashMap[Inliners.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a>, <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">]</span> <a href="../../../../collection/mutable/Map.scala.html#78489" title="(d: Int)scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]">withDefaultValue</a> <span title="Int(0)" class="int">0</span>

      <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="800469">caller</a> = <span title="Inliner.this.IMethodInfo" class="keyword">new</span> <a href="#800324" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">(</span><a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(isFirstRound: Boolean)Int" id="800470">preInline</a><span class="delimiter">(</span><a title="Boolean" id="800513">isFirstRound</a>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.BasicBlock]" id="800514">inputBlocks</a> = <a href="#800469" title="Inliner.this.IMethodInfo">caller</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733836" title="(lin: Inliners.this.global.icodes.Linearizer)List[Inliners.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="800515">callsites</a>: <a href="../../../../Function1.scala.html#1207" title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">Function1</a><span class="delimiter">[</span>BasicBlock, List<span class="delimiter">[</span>opcodes.CALL_METHOD<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span title="Inliners.this.global.analysis.global.icodes.BasicBlock =&gt; List[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD]" class="keyword">if</span><span class="delimiter">(</span><a href="#800513" title="Boolean">isFirstRound</a><span class="delimiter">)</span> <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770504" title="(b: Inliners.this.global.analysis.global.icodes.BasicBlock)List[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD]">conclusives</a> <span class="keyword">else</span> <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770505" title="(b: Inliners.this.global.analysis.global.icodes.BasicBlock)List[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD]">knownBeforehand</a>
        <span class="delimiter">}</span>
        <a href="#800471" title="(inputBlocks: Traversable[Inliners.this.global.icodes.BasicBlock], callsites: Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD])Int">inlineWithoutTFA</a><span class="delimiter">(</span><a href="#800514" title="List[Inliners.this.global.icodes.BasicBlock]">inputBlocks</a>, <a href="#800515" title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">callsites</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /**
       *  Inline straightforward callsites (those that can be inlined without a TFA).
       *
       *  To perform inlining, all we need to know is listed as formal params in `analyzeInc()`:
       *    - callsite and block containing it
       *    - actual (ie runtime) class of the receiver
       *    - actual (ie runtime) method being invoked
       *    - stack length just before the callsite (to check whether enough arguments have been pushed).
       *  The assert below lists the conditions under which &quot;no TFA is needed&quot;
       *  (the statically known receiver and method are both final, thus, at runtime they can't be any others than those).
       *
       */
      <span class="keyword">def</span> <a title="(inputBlocks: Traversable[Inliners.this.global.icodes.BasicBlock], callsites: Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD])Int" id="800471">inlineWithoutTFA</a><span class="delimiter">(</span><a title="Traversable[Inliners.this.global.icodes.BasicBlock]" id="800523">inputBlocks</a>: <a href="../../../../collection/Traversable.scala.html#5662" title="Traversable[Inliners.this.global.icodes.BasicBlock]">Traversable</a><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span>, <a title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="800524">callsites</a>: <a href="../../../../Function1.scala.html#1207" title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">Function1</a><span class="delimiter">[</span>BasicBlock, List<span class="delimiter">[</span>opcodes.CALL_METHOD<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="800525">inlineCount</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">import</span> scala.util.control.<a href="../../../../util/control/Breaks.scala.html#53827" title="scala.util.control.Breaks.type">Breaks</a>._
        <span class="keyword">for</span><span class="delimiter">(</span><a href="../../../../Tuple2.scala.html#63804" title="Inliners.this.global.icodes.BasicBlock" id="800543">x</a> &lt;- <a href="../../../../collection/TraversableLike.scala.html#58971" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; (Inliners.this.global.icodes.BasicBlock, List[Inliners.this.global.icodes.opcodes.CALL_METHOD]))(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[Inliners.this.global.icodes.BasicBlock],(Inliners.this.global.icodes.BasicBlock, List[Inliners.this.global.icodes.opcodes.CALL_METHOD]),Traversable[(Inliners.this.global.icodes.BasicBlock, List[Inliners.this.global.icodes.opcodes.CALL_METHOD])]])Traversable[(Inliners.this.global.icodes.BasicBlock, List[Inliners.this.global.icodes.opcodes.CALL_METHOD])]">inputBlocks</a>; <a title="List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="800544">easyCake</a> = <a href="../../../../Function1.scala.html#59555" title="(v1: Inliners.this.global.icodes.BasicBlock)List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">callsites</a><span class="delimiter">(</span><a href="#800543" title="Inliners.this.global.icodes.BasicBlock">x</a><span class="delimiter">)</span>; <span class="keyword">if</span> easyCake.<a href="#800600" title="(x: Boolean)Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../../util/control/Breaks.scala.html#59407" title="(op: =&gt; Unit)Unit">breakable</a> <a href="#800658" title="(x: Unit)Unit" class="delimiter">{</a>
            <span class="keyword">for</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="800640">ocm</a> &lt;- <a href="../../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Inliners.this.global.icodes.opcodes.CALL_METHOD =&gt; Unit)Unit">easyCake</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../Global.scala.html#559534" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#800640" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>.<a href="../icode/Opcodes.scala.html#744648" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800640" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>.<a href="../icode/Opcodes.scala.html#744648" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#800472" title="(i: Inliners.this.global.icodes.opcodes.CALL_METHOD, bb: Inliners.this.global.icodes.BasicBlock, receiver: Inliners.this.global.Symbol, stackLength: Int, concreteMethod: Inliners.this.global.Symbol)Boolean">analyzeInc</a><span class="delimiter">(</span><a href="#800640" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>, x, <a href="#800640" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>.<a href="../icode/Opcodes.scala.html#744648" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>, -<span title="Int(-1)" class="int">1</span>, <a href="#800640" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>.<a href="../icode/Opcodes.scala.html#744648" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#800525" title="Int">inlineCount</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
                <a href="../../../../util/control/Breaks.scala.html#59410" title="()Unit">break</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#800525" title="Int">inlineCount</a>
      <span class="delimiter">}</span>

      /**
          Decides whether it's feasible and desirable to inline the body of the method given by `concreteMethod`
          at the program point given by `i` (a callsite). The boolean result indicates whether inlining was performed.

       */
      <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.opcodes.CALL_METHOD, bb: Inliners.this.global.icodes.BasicBlock, receiver: Inliners.this.global.Symbol, stackLength: Int, concreteMethod: Inliners.this.global.Symbol)Boolean" id="800472">analyzeInc</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="800644">i</a>: <a href="../icode/Opcodes.scala.html#653343" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a>, <a title="Inliners.this.global.icodes.BasicBlock" id="800645">bb</a>: <a href="../icode/BasicBlocks.scala.html#642689" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="Inliners.this.global.Symbol" id="800646">receiver</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Int" id="800647">stackLength</a>: <a href="../../../../Int.scala.html#508" title="Int">Int</a>, <a title="Inliners.this.global.Symbol" id="800648">concreteMethod</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Boolean" id="800673">inlined</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.Symbol" id="800674">msym</a> = <a href="#800644" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>.<a href="../icode/Opcodes.scala.html#744648" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>

        <span class="keyword">def</span> <a title="(reason: String)Any" id="800675">warnNoInline</a><span class="delimiter">(</span><a title="String" id="800680">reason</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#651996" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#800674" title="Inliners.this.global.icodes.global.Symbol">msym</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800469" title="Inliner.this.IMethodInfo">caller</a>.<a href="#800490" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span>
            <a href="#800307" title="(pos: Inliners.this.global.Position, msg: String)Any">warn</a><span class="delimiter">(</span><a href="#800644" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>.<a href="../icode/Opcodes.scala.html#734294" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Could not inline required method %s because %s.&quot;</a>.<a href="../../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#800674" title="Inliners.this.global.icodes.global.Symbol">msym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443386" title="=&gt; Inliners.this.global.icodes.global.Name">originalName</a>.<a href="../../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a>, <a href="#800680" title="String">reason</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="=&gt; Boolean" id="800676">isAvailable</a> = <a href="../../Global.scala.html#559502" title="Inliners.this.global.icodes.type">icodes</a> <a href="../icode/Repository.scala.html#642865" title="(sym: Inliners.this.global.icodes.global.Symbol)Boolean">available</a> <a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443480" title="=&gt; Inliners.this.global.Symbol">enclClass</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800676" title="=&gt; Boolean">isAvailable</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800323" title="(sym: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Boolean">shouldLoadImplFor</a><span class="delimiter">(</span><a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a>, <a href="#800646" title="Inliners.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // Until r22824 this line was:
          //   icodes.icode(concreteMethod.enclClass, true)
          //
          // Changing it to
          //   icodes.load(concreteMethod.enclClass)
          // was the proximate cause for SI-3882:
          //   error: Illegal index: 0 overlaps List((variable par1,LONG))
          //   error: Illegal index: 0 overlaps List((variable par1,LONG))
          <a href="../../Global.scala.html#559502" title="Inliners.this.global.icodes.type">icodes</a>.<a href="../icode/Repository.scala.html#642868" title="(sym: Inliners.this.global.icodes.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443480" title="=&gt; Inliners.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="=&gt; Boolean" id="800677">isCandidate</a> = <span class="delimiter">(</span>
             <a href="#651994" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#800646" title="Inliners.this.global.Symbol">receiver</a><span class="delimiter">)</span>
          <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a>
          <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#800646" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a>
        <span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="800678">isApply</a>     = <a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; concreteMethod.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/StdNames.scala.html#441764" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Inliners.this.global.nme.NameType">apply</a>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="800679">isCountable</a> = <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span>
             <a href="#651994" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#800646" title="Inliners.this.global.Symbol">receiver</a><span class="delimiter">)</span>
          <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#800678" title="=&gt; Boolean">isApply</a>
          <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#651995" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a><span class="delimiter">)</span>
          <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#800646" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443503" title="=&gt; Inliners.this.global.Symbol">enclosingPackage</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#441641" title="Inliners.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#442156" title="=&gt; Inliners.this.global.PackageSymbol">RuntimePackage</a>
        <span class="delimiter">)</span>   // only count non-closures

        <a href="../../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Treating &quot;)" class="string">&quot;Treating &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800644" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\treceiver: &quot;)" class="string">&quot;\n\treceiver: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800646" title="Inliners.this.global.Symbol">receiver</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\ticodes.available: &quot;)" class="string">&quot;\n\ticodes.available: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800676" title="=&gt; Boolean">isAvailable</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\tconcreteMethod.isEffectivelyFinal: &quot;)" class="string">&quot;\n\tconcreteMethod.isEffectivelyFinal: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#800676" title="=&gt; Boolean">isAvailable</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800677" title="=&gt; Boolean">isCandidate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#800326" title="(meth: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.IMethod]">lookupIMethod</a><a href="../../../../Option.scala.html#64115" title="=&gt; Inliners.this.global.icodes.IMethod" class="delimiter">(</a><a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a>, <a href="#800646" title="Inliners.this.global.Symbol">receiver</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Some<a href="#800851" title="Any" id="800852" class="delimiter">(</a>callee<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="800702">inc</a>   = <span title="Inliner.this.IMethodInfo" class="keyword">new</span> <a href="#800324" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">(</span>callee<span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Inliner.this.CallerCalleeInfo" id="800703">pair</a>  = <span title="Inliner.this.CallerCalleeInfo" class="keyword">new</span> <a href="#800325" title="Inliner.this.CallerCalleeInfo">CallerCalleeInfo</a><span class="delimiter">(</span><a href="#800469" title="Inliner.this.IMethodInfo">caller</a>, <a href="#800702" title="Inliner.this.IMethodInfo">inc</a>, <a href="#800467" title="scala.collection.mutable.Map[String,Int]">fresh</a>, <a href="#800468" title="scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]">inlinedMethodCount</a><span class="delimiter">)</span>

              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#800703" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#800718" title="(stackLength: Int)Boolean">isStampedForInlining</a> <a href="#800647" title="Int">stackLength</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#800465" title="Boolean">retry</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#800673" title="Boolean">inlined</a> = <span title="Boolean(true)" class="keyword">true</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800679" title="=&gt; Boolean">isCountable</a><span class="delimiter">)</span>
                  <a href="#800466" title="Int">count</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>

                <a href="#800703" title="Inliner.this.CallerCalleeInfo">pair</a>.<a href="#800717" title="(block: Inliners.this.global.icodes.BasicBlock, instr: Inliners.this.global.icodes.opcodes.CALL_METHOD)Unit">doInline</a><span class="delimiter">(</span><a href="#800645" title="Inliners.this.global.icodes.BasicBlock">bb</a>, <a href="#800644" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800702" title="Inliner.this.IMethodInfo">inc</a>.<a href="#800488" title="=&gt; Boolean">inline</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#800702" title="Inliner.this.IMethodInfo">inc</a>.<a href="#800494" title="=&gt; Boolean">isMonadic</a><span class="delimiter">)</span>
                  <a href="#800469" title="Inliner.this.IMethodInfo">caller</a>.<a href="#800507" title="(x$1: Int)Unit">inlinedCalls</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
                <a href="../../../../collection/mutable/MapLike.scala.html#78496" title="(key: Inliners.this.global.Symbol, value: Int)Unit">inlinedMethodCount</a><span class="delimiter">(</span><a href="#800702" title="Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>

                /* Remove this method from the cache, as the calls-private relation
                 * might have changed after the inlining.
                 */
                <a href="#800343" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a> <a href="../../../../collection/mutable/MapLike.scala.html#78514" title="(key: Inliners.this.global.icodes.IMethod)Inliner.this.NonPublicRefs.usesNonPublics.type">-=</a> <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>
                <a href="#800308" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]">recentTFAs</a>     <a href="../../../../collection/mutable/MapLike.scala.html#78514" title="(key: Inliners.this.global.Symbol)Inliner.this.recentTFAs.type">-=</a> <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                  <a href="#800703" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#800719" title="(stackLength: Int)Unit">logFailure</a> <a href="#800647" title="Int">stackLength</a>

                <a href="#800675" title="(reason: String)Any">warnNoInline</a><span class="delimiter">(</span><a href="#800703" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#800720" title="(stackLength: Int)String">failureReason</a> <a href="#800647" title="Int">stackLength</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <a href="../../../../Option.scala.html#2498" title="Any" id="800854">None</a> =&gt;
              <a href="#800675" title="(reason: String)Any">warnNoInline</a><span class="delimiter">(</span><span title="String(&quot;bytecode was not available&quot;)" class="string">&quot;bytecode was not available&quot;</span><span class="delimiter">)</span>
              <a href="../../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;could not find icode\n\treceiver: &quot;)" class="string">&quot;could not find icode\n\treceiver: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800646" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\tmethod: &quot;)" class="string">&quot;\n\tmethod: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800648" title="Inliners.this.global.Symbol">concreteMethod</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#800675" title="(reason: String)Any">warnNoInline</a><span class="delimiter">(</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800676" title="=&gt; Boolean">isAvailable</a><span class="delimiter">)</span> <span title="String(&quot;bytecode was not available&quot;)" class="string">&quot;bytecode was not available&quot;</span>
          <span class="keyword">else</span> <span title="String(&quot;it can be overridden&quot;)" class="string">&quot;it can be overridden&quot;</span>
        <span class="delimiter">)</span>

        <a href="#800673" title="Boolean">inlined</a>
      <span class="delimiter">}</span>

      /* Pre-inlining consists in invoking the usual inlining subroutine with (receiver class, concrete method) pairs as input
       * where both method and receiver are final, which implies that the receiver computed via TFA will always match `concreteMethod.owner`.
       *
       * As with any invocation of `analyzeInc()` the inlining outcome is based on heuristics which favor inlining an isMonadicMethod before other methods.
       * That's why preInline() is invoked twice: any inlinings downplayed by the heuristics during the first round get an opportunity to rank higher during the second.
       *
       * As a whole, both `preInline()` invocations amount to priming the inlining process,
       * so that the first TFA run afterwards is able to gain more information as compared to a cold-start.
       */
      <span class="keyword">val</span> <a title="Int" id="800473">totalPreInlines</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="800863">firstRound</a> = <a href="#800470" title="(isFirstRound: Boolean)Int">preInline</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#800863" title="Int">firstRound</a> <a href="../../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#800863" title="Int">firstRound</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+</a> <a href="#800470" title="(isFirstRound: Boolean)Int">preInline</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#800315" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#67859" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#800317" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#800319" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#800474" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
        <a href="#800465" title="Boolean">retry</a> = <span title="Boolean(false)" class="keyword">false</span>
        <a href="../../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Analyzing &quot;)" class="string">&quot;Analyzing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; count &quot;)" class="string">&quot; count &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800466" title="Int">count</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800469" title="Inliner.this.IMethodInfo">caller</a>.<a href="#800498" title="=&gt; Int">length</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; blocks&quot;)" class="string">&quot; blocks&quot;</span><span class="delimiter">)</span>

        /* it's important not to inline in unreachable basic blocks. linearizedBlocks() returns only reachable ones. */
        <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770484" title="(x$1: Traversable[Inliners.this.global.analysis.global.icodes.BasicBlock])Unit">callerLin</a> = <a href="#800469" title="Inliner.this.IMethodInfo">caller</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733836" title="(lin: Inliners.this.global.icodes.Linearizer)List[Inliners.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span>
           /* TODO Do we want to perform inlining in non-finally exception handlers?
           *  Seems counterproductive (the larger the method the less likely it will be JITed).
            * The alternative above would be `linearizer.linearizeAt(caller.m, caller.m.startBlock)`.
            * See also comment on the same topic in TypeFlowAnalysis. */

        <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770518" title="(m: Inliners.this.global.analysis.global.icodes.IMethod, staleOut: List[Inliners.this.global.analysis.global.icodes.BasicBlock], inlined: scala.collection.Set[Inliners.this.global.analysis.global.icodes.BasicBlock], staleIn: scala.collection.Set[Inliners.this.global.analysis.global.icodes.BasicBlock])Unit">reinit</a><span class="delimiter">(</span><a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>, <a href="#800315" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">toList</a>, <a href="#800317" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a>, <a href="#800319" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a><span class="delimiter">)</span>
        <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770486" title="()Unit">run</a>
        <a href="#800315" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#67859" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#800317" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#800319" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82193" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">import</span> scala.util.control.<a href="../../../../util/control/Breaks.scala.html#53827" title="scala.util.control.Breaks.type">Breaks</a>._
        <span class="keyword">for</span><span class="delimiter">(</span><a title="Inliners.this.global.analysis.global.icodes.BasicBlock" id="800910">bb</a> &lt;- <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: Inliners.this.global.analysis.global.icodes.BasicBlock =&gt; Unit)Unit">callerLin</a>; <span class="keyword">if</span> <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/GenSetLike.scala.html#65156" title="(elem: Inliners.this.global.analysis.global.icodes.BasicBlock)Boolean">preCandidates</a><span class="delimiter">(</span><a href="#800910" title="Inliners.this.global.analysis.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="800911">cms</a> = <a href="#800910" title="Inliners.this.global.analysis.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#733769" title="=&gt; List[Inliners.this.global.analysis.global.icodes.Instruction]">toList</a> <a href="../../../../collection/TraversableLike.scala.html#58983" title="(pf: PartialFunction[Inliners.this.global.analysis.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.CALL_METHOD])(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.analysis.global.icodes.Instruction],Inliners.this.global.icodes.opcodes.CALL_METHOD,List[Inliners.this.global.icodes.opcodes.CALL_METHOD]])List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Inliners.this.global.analysis.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.CALL_METHOD] with Serializable" id="800947" class="delimiter">{</a> <span class="keyword">case</span> <a href="#800938" title="B1" id="800953">cm</a> : CALL_METHOD =&gt; <a href="#800943" title="(x: B1)B1">cm</a> <span class="delimiter">}</span>
          <a href="../../../../util/control/Breaks.scala.html#59407" title="(op: =&gt; Unit)Unit">breakable</a> <span class="delimiter">{</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="801039">cm</a> &lt;- <a href="../../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: Inliners.this.global.icodes.opcodes.CALL_METHOD =&gt; Unit)Unit">cms</a>; <span class="keyword">if</span> <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770479" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD,Inliners.this.global.analysis.CallsiteInfo]">remainingCALLs</a>.<a href="../../../../collection/MapLike.scala.html#78422" title="(key: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#801039" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> analysis.CallsiteInfo<a href="#801084" title="(x: (Inliners.this.global.analysis.global.Symbol, Int, Inliners.this.global.analysis.global.Symbol))(Inliners.this.global.analysis.global.Symbol, Int, Inliners.this.global.analysis.global.Symbol)" class="delimiter">(</a>_, <a href="../../../../Tuple3.scala.html#61402" title="Inliners.this.global.analysis.global.Symbol" id="801041">receiver</a>, <a href="../../../../Tuple3.scala.html#61404" title="Int" id="801042">stackLength</a>, <a href="../../../../Tuple3.scala.html#61406" title="Inliners.this.global.analysis.global.Symbol" id="801043">concreteMethod</a><span class="delimiter">)</span> = <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Inliners.this.global.analysis.CallsiteInfo">remainingCALLs</a><a href="../icode/analysis/TypeFlowAnalysis.scala.html#648383" title="Inliners.this.global.analysis.CallsiteInfo @unchecked" class="delimiter">(</a><a href="#801039" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800472" title="(i: Inliners.this.global.icodes.opcodes.CALL_METHOD, bb: Inliners.this.global.icodes.BasicBlock, receiver: Inliners.this.global.Symbol, stackLength: Int, concreteMethod: Inliners.this.global.Symbol)Boolean">analyzeInc</a><span class="delimiter">(</span><a href="#801039" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">cm</a>, <a href="#800910" title="Inliners.this.global.analysis.global.icodes.BasicBlock">bb</a>, <a href="#801041" title="Inliners.this.global.analysis.global.Symbol">receiver</a>, <a href="#801042" title="Int">stackLength</a>, <a href="#801043" title="Inliners.this.global.analysis.global.Symbol">concreteMethod</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../../../../util/control/Breaks.scala.html#59410" title="()Unit">break</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        /* As part of inlining, some instructions are moved to a new block.
         *     In detail: the instructions moved to a new block originally appeared after a (by now inlined) callsite.
         *     Their new home is an `afterBlock` created by `doInline()` to that effect.
         *     Each block in staleIn is one such `afterBlock`.
         *
         * Some of those instructions may be CALL_METHOD possibly tracked in `remainingCALLs`
         * (with an entry still noting the old containing block). However, that causes no problem:
         *
         *   (1) such callsites won't be analyzed for inlining by `analyzeInc()` (*in this iteration*)
         *       because of the `break` that abandons the original basic block where it was contained.
         *
         *   (2) Additionally, its new containing block won't be visited either (*in this iteration*)
         *       because the new blocks don't show up in the linearization computed before inlinings started:
         *       `for(bb &lt;- tfa.callerLin; if tfa.preCandidates(bb)) {`
         *
         * For a next iteration, the new home of any instructions that have moved
         * will be tracked properly in `remainingCALLs` after `MTFAGrowable.reinit()` puts on radar their new homes.
         *
         */
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#800465" title="Boolean">retry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="801106">afterBlock</a> &lt;- <a href="../../../../collection/IterableLike.scala.html#59458" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Unit)Unit">staleIn</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="801107">justCALLsAfter</a> = <a href="#801106" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>.<a href="../icode/BasicBlocks.scala.html#733769" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <a href="../../../../collection/TraversableLike.scala.html#58983" title="(pf: PartialFunction[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.CALL_METHOD])(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Instruction],Inliners.this.global.icodes.opcodes.CALL_METHOD,List[Inliners.this.global.icodes.opcodes.CALL_METHOD]])List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.CALL_METHOD] with Serializable" id="801143" class="delimiter">{</a> <span class="keyword">case</span> <a href="#801134" title="B1" id="801149">c</a> : opcodes.CALL_METHOD =&gt; <a href="#801139" title="(x: B1)B1">c</a> <span class="delimiter">}</span>
            <span class="keyword">for</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="801243">ia</a> &lt;- <a href="../../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Inliners.this.global.icodes.opcodes.CALL_METHOD =&gt; Option[Inliners.this.global.analysis.CallsiteInfo])Unit">justCALLsAfter</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770479" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD,Inliners.this.global.analysis.CallsiteInfo]">remainingCALLs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#78513" title="(key: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Option[Inliners.this.global.analysis.CallsiteInfo]">remove</a><span class="delimiter">(</span><a href="#801243" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ia</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        /*
        if(splicedBlocks.nonEmpty) { // TODO explore (saves time but leads to slightly different inlining decisions)
          // opportunistically perform straightforward inlinings before the next typeflow round
          val savedRetry = retry
          val savedStaleOut = staleOut.toSet; staleOut.clear()
          val savedStaleIn  = staleIn.toSet ; staleIn.clear()
          val howmany = inlineWithoutTFA(splicedBlocks, tfa.knownBeforehand)
          splicedBlocks ++= staleIn
          staleOut.clear(); staleOut ++= savedStaleOut;
          staleIn.clear();  staleIn  ++= savedStaleIn;
          retry = savedRetry
        }
        */

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#763378" title="=&gt; Boolean">stat</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; iterations: &quot;)" class="string">&quot; iterations: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#763381" title="=&gt; Int">iterations</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; (size: &quot;)" class="string">&quot; (size: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800469" title="Inliner.this.IMethodInfo">caller</a>.<a href="#800498" title="=&gt; Int">length</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">while</span> <span class="delimiter">(</span><a href="#800465" title="Boolean">retry</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800466" title="Int">count</a> <a href="../../../../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <span title="Int(15)">MAX_INLINE_RETRY</span><span class="delimiter">)</span>

      <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733879" title="()Unit">normalize</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800463" title="Int">sizeBeforeInlining</a> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="801257">instrAfterInlining</a> = <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733829" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#733934" title="=&gt; Int">instructionCount</a>
        <span class="keyword">val</span> <a title="String" id="801258">prefix</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#801257" title="Int">instrAfterInlining</a> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(2)" class="int">2</span> <a href="../../../../Int.scala.html#57962" title="(x: Int)Int">*</a> <a href="#800464" title="Int">instrBeforeInlining</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#801257" title="Int">instrAfterInlining</a> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(200)" class="int">200</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot; !! &quot;)" class="string">&quot; !! &quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <a href="../../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#801258" title="String">prefix</a> <span title="(x$1: Any)String">+</span> <a href="../../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; %s blocks before inlining: %d (%d) after: %d (%d)&quot;</a>.<a href="../../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a>, <a href="#800463" title="Int">sizeBeforeInlining</a>, <a href="#800464" title="Int">instrBeforeInlining</a>, <a href="#800461" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733829" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#733933" title="=&gt; Int">blockCount</a>, <a href="#801257" title="Int">instrAfterInlining</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="800322">isHigherOrderMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="801276">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <a href="#801276" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a>
      <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Global.scala.html#559733" title="(op: =&gt; Boolean)Boolean">beforeExplicitOuter</a><span class="delimiter">(</span><a href="#801276" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#442010" title="=&gt; List[Inliners.this.global.Type]">paramTypes</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Inliners.this.global.Type =&gt; Boolean)Boolean">exists</a> <a href="../../../../reflect/internal/Definitions.scala.html#442506" title="(tp: Inliners.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">)</span> // was &quot;at erasurePhase.prev&quot;
    <span class="delimiter">)</span>

    /** Should method 'sym' being called in 'receiver' be loaded from disk? */
    <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Boolean" id="800323">shouldLoadImplFor</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="800685">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="800686">receiver</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="801294">alwaysLoad</a>    = <span class="delimiter">(</span><a href="#800686" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443503" title="=&gt; Inliners.this.global.Symbol">enclosingPackage</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#442156" title="=&gt; Inliners.this.global.PackageSymbol">RuntimePackage</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#800686" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#442235" title="=&gt; Inliners.this.global.ModuleSymbol">PredefModule</a>.<a href="../../../../reflect/internal/Symbols.scala.html#449103" title="=&gt; Inliners.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="801295">loadCondition</a> = <a href="#800685" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#651995" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#800685" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800322" title="(sym: Inliners.this.global.Symbol)Boolean">isHigherOrderMethod</a><span class="delimiter">(</span><a href="#800685" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Boolean" id="801296">res</a> = <a href="#651996" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#800685" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#801294" title="=&gt; Boolean">alwaysLoad</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#801295" title="=&gt; Boolean">loadCondition</a>
      <a href="../../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;shouldLoadImplFor: &quot;)" class="string">&quot;shouldLoadImplFor: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800686" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800685" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#801296" title="Boolean">res</a><span class="delimiter">)</span>
      <a href="#801296" title="Boolean">res</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class IMethodInfo extends Object" id="800324">IMethodInfo</a><a href="#800324" title="Inliner.this.IMethodInfo" class="delimiter">(</a><span class="keyword">val</span> <a title="Inliners.this.global.icodes.IMethod" id="800512">m</a>: <a href="../icode/Members.scala.html#642680" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.Symbol" id="800481">sym</a>           = <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="IMethodInfo.this.sym.NameType" id="800483">name</a>          = <a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; IMethodInfo.this.sym.NameType">name</a>
      <span class="keyword">def</span> <a title="=&gt; Inliners.this.global.icodes.global.Symbol" id="800485">owner</a>         = <a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.global.Type]" id="800486">paramTypes</a>    = <a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Inliners.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#442010" title="=&gt; List[Inliners.this.global.icodes.global.Type]">paramTypes</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="800487">minimumStack</a>  = <a href="#800486" title="=&gt; List[Inliners.this.global.icodes.global.Type]">paramTypes</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800488">inline</a>        = <a href="#651996" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800489">noinline</a>      = <a href="#651997" title="(sym: Inliners.this.global.Symbol)Boolean">hasNoInline</a><span class="delimiter">(</span><a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800490">isBridge</a>      = <a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443262" title="=&gt; Boolean">isBridge</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800491">isInClosure</a>   = <a href="#651994" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#800485" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="800492">isHigherOrder</a> = <a href="#800322" title="(sym: Inliners.this.global.Symbol)Boolean">isHigherOrderMethod</a><span class="delimiter">(</span><a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800494">isMonadic</a>     = <a href="#651995" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]" id="800495">handlers</a>      = <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733846" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.BasicBlock]" id="800496">blocks</a>        = <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733835" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.Local]" id="800497">locals</a>        = <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733858" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="800498">length</a>        = <a href="#800496" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.BasicBlock]" id="800499">openBlocks</a>    = <a href="#800496" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a> <a href="../../../../collection/TraversableLike.scala.html#58982" title="(p: Inliners.this.global.icodes.BasicBlock =&gt; Boolean)List[Inliners.this.global.icodes.BasicBlock]">filterNot</a> <span class="delimiter">(</span><a href="#801322" title="Inliners.this.global.icodes.BasicBlock">_</a>.<a href="../icode/BasicBlocks.scala.html#733747" title="=&gt; Boolean">closed</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.Instruction]" id="800500">instructions</a>  = <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733829" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#733932" title="=&gt; List[Inliners.this.global.icodes.Instruction]">instructions</a>
      // def linearized    = linearizer linearize m

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800501">isSmall</a>       = <span class="delimiter">(</span><a href="#800498" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#57912" title="(x: Int)Boolean">&lt;=</a> <a href="#651988" title="=&gt; Int">SMALL_METHOD_SIZE</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76165" title="(n: Int)Inliners.this.global.icodes.BasicBlock">blocks</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#733777" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <span title="Int(10)" class="int">10</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800502">isLarge</a>       = <a href="#800498" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(16)">MAX_INLINE_SIZE</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800503">isRecursive</a>   = <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733855" title="=&gt; Boolean">recursive</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800504">hasHandlers</a>   = <a href="#800495" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a>.<a href="../../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800505">hasNonFinalizerHandler</a> = <a href="#800495" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Inliners.this.global.icodes.ExceptionHandler =&gt; Boolean)Boolean">exists</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[Inliners.this.global.icodes.ExceptionHandler,Boolean] with Serializable" id="801352" class="delimiter">{</a>
        <span class="keyword">case</span> _: Finalizer =&gt; <a href="#801358" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> _            =&gt; <a href="#801358" title="(x: Boolean)Boolean" class="keyword">false</a>
      <span class="delimiter">}</span>

      // the number of inlined calls in 'm', used by 'shouldInline'
      <span class="keyword">var</span> <a title="Int" id="800507">inlinedCalls</a> = <span title="Int(0)" class="int">0</span>

      <span class="keyword">def</span> <a title="(ls: List[Inliners.this.global.icodes.Local])Unit" id="800509">addLocals</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.Local]" id="801369">ls</a>: <a href="../../../../collection/immutable/List.scala.html#12322" title="List[Inliners.this.global.icodes.Local]">List</a><span class="delimiter">[</span>Local<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733859" title="(x$1: List[Inliners.this.global.icodes.Local])Unit">locals</a> <a href="../../../../collection/immutable/List.scala.html#63655" title="(that: scala.collection.GenTraversableOnce[Inliners.this.global.icodes.Local])(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,List[Inliners.this.global.icodes.Local]])List[Inliners.this.global.icodes.Local]">++=</a> <a href="#801369" title="List[Inliners.this.global.icodes.Local]">ls</a>
      <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Unit" id="800510">addLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="801443">l</a>: <a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span>          = <a href="#800509" title="(ls: List[Inliners.this.global.icodes.Local])Unit">addLocals</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#63291" title="(xs: Inliners.this.global.icodes.Local*)List[Inliners.this.global.icodes.Local]">List</a><span class="delimiter">(</span><a href="#801443" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(exhs: List[Inliners.this.global.icodes.ExceptionHandler])Unit" id="800511">addHandlers</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.ExceptionHandler]" id="801451">exhs</a>: <a href="../../../../collection/immutable/List.scala.html#12322" title="List[Inliners.this.global.icodes.ExceptionHandler]">List</a><span class="delimiter">[</span>ExceptionHandler<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733847" title="(x$1: List[Inliners.this.global.icodes.ExceptionHandler])Unit">exh</a> = <a href="#801451" title="List[Inliners.this.global.icodes.ExceptionHandler]">exhs</a> <a href="../../../../collection/immutable/List.scala.html#63646" title="(prefix: List[Inliners.this.global.icodes.ExceptionHandler])List[Inliners.this.global.icodes.ExceptionHandler]">:::</a> <a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733846" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class CallerCalleeInfo extends Object" id="800325">CallerCalleeInfo</a><a href="#800325" title="Inliner.this.CallerCalleeInfo" class="delimiter">(</a><span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="800729">caller</a>: <a href="#800324" title="Inliner.this.IMethodInfo">IMethodInfo</a>, <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="800730">inc</a>: <a href="#800324" title="Inliner.this.IMethodInfo">IMethodInfo</a>, <a title="scala.collection.mutable.Map[String,Int]" id="800731">fresh</a>: mutable.<a href="../../../../collection/mutable/Map.scala.html#12934" title="scala.collection.mutable.Map[String,Int]">Map</a><span class="delimiter">[</span>String, Int<span class="delimiter">]</span>, <a title="scala.collection.Map[Inliners.this.global.Symbol,Int]" id="800732">inlinedMethodCount</a>: collection.<a href="../../../../collection/Map.scala.html#4804" title="scala.collection.Map[Inliners.this.global.Symbol,Int]">Map</a><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800715">isLargeSum</a>  = <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800498" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800498" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <a href="#651988" title="=&gt; Int">SMALL_METHOD_SIZE</a>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)Inliners.this.global.TermName" id="800716">freshName</a><span class="delimiter">(</span><a title="String" id="801483">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Names.scala.html#440798" title="Inliners.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
        <a href="../../../../collection/mutable/MapLike.scala.html#78496" title="(key: String, value: Int)Unit">fresh</a><span class="delimiter">(</span><a href="#801483" title="String">s</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="../../../../reflect/internal/Names.scala.html#440783" title="(s: String)Inliners.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#801483" title="String">s</a> <span title="(x$1: Any)String">+</span> <a href="../../../../collection/MapLike.scala.html#78420" title="(key: String)Int">fresh</a><span class="delimiter">(</span><a href="#801483" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Inline 'inc' into 'caller' at the given block and instruction.
       *  The instruction must be a CALL_METHOD.
       */
      <span class="keyword">def</span> <a title="(block: Inliners.this.global.icodes.BasicBlock, instr: Inliners.this.global.icodes.opcodes.CALL_METHOD)Unit" id="800717">doInline</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="800745">block</a>: <a href="../icode/BasicBlocks.scala.html#642689" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="800746">instr</a>: <a href="../icode/Opcodes.scala.html#653343" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <a href="#800315" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a> <a href="../../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Inliners.this.global.icodes.BasicBlock)Inliner.this.staleOut.type">+=</a> <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a>

        <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770479" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD,Inliners.this.global.analysis.CallsiteInfo]">remainingCALLs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#78513" title="(key: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Option[Inliners.this.global.analysis.CallsiteInfo]">remove</a><span class="delimiter">(</span><a href="#800746" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a><span class="delimiter">)</span> // this bookkpeeping is done here and not in MTFAGrowable.reinit due to (1st) convenience and (2nd) necessity.
        <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770491" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.Instruction]">isOnWatchlist</a>.<a href="../../../../collection/mutable/SetLike.scala.html#82188" title="(elem: Inliners.this.global.analysis.global.icodes.Instruction)Boolean">remove</a><span class="delimiter">(</span><a href="#800746" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a><span class="delimiter">)</span>  // ditto

        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Position" id="801547">targetPos</a> = <a href="#800746" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a>.<a href="../icode/Opcodes.scala.html#734294" title="=&gt; scala.tools.nsc.util.Position">pos</a>
        <a href="../../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Inlining &quot;)" class="string">&quot;Inlining &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; at pos: &quot;)" class="string">&quot; at pos: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#651993" title="(pos: scala.tools.nsc.util.Position)String">posToStr</a><span class="delimiter">(</span><a href="#801547" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Unit" id="801548">blockEmit</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="801579">i</a>: <a href="../icode/Opcodes.scala.html#642693" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#733788" title="(instr: Inliners.this.global.icodes.Instruction, pos: scala.tools.nsc.util.Position)Unit">emit</a><span class="delimiter">(</span><a href="#801579" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#801547" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local" id="801549">newLocal</a><span class="delimiter">(</span><a title="String" id="801586">baseName</a>: <span title="String">String</span>, <a title="Inliners.this.global.icodes.TypeKind" id="801587">kind</a>: <a href="../icode/TypeKinds.scala.html#642711" title="Inliners.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span> =
          <span title="Inliners.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">(</span><a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443174" title="(name: Inliners.this.global.icodes.global.TermName, pos: Inliners.this.global.icodes.global.Position, newFlags: Long)Inliners.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#800716" title="(s: String)Inliners.this.global.TermName">freshName</a><span class="delimiter">(</span><a href="#801586" title="String">baseName</a><span class="delimiter">)</span>, <a href="#801547" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span>, <a href="#801587" title="Inliners.this.global.icodes.TypeKind">kind</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a href="#801606" title="(x: (Boolean, Inliners.this.global.analysis.MethodTFA))(Boolean, Inliners.this.global.analysis.MethodTFA)" class="delimiter">(</a><a href="../../../../Tuple2.scala.html#61506" title="Boolean" id="801551">hasRETURN</a>, <a href="../../../../Tuple2.scala.html#61508" title="Inliners.this.global.analysis.MethodTFA" id="801552">a</a><span class="delimiter">)</span> = <a href="#800310" title="(incm: Inliners.this.global.icodes.IMethod)(Boolean, Inliners.this.global.analysis.MethodTFA)">getRecentTFA</a><a href="../../../../Tuple2.scala.html#1222" title="(Boolean, Inliners.this.global.analysis.MethodTFA) @unchecked" class="delimiter">(</a><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

        /* The exception handlers that are active at the current block. */
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.ExceptionHandler]" id="801553">activeHandlers</a> = <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800495" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <a href="../../../../collection/TraversableLike.scala.html#58981" title="(p: Inliners.this.global.icodes.ExceptionHandler =&gt; Boolean)List[Inliners.this.global.icodes.ExceptionHandler]">filter</a> <span class="delimiter">(</span><a href="#801615" title="Inliners.this.global.icodes.ExceptionHandler">_</a> <a href="../../../../collection/GenSetLike.scala.html#65156" title="(elem: Inliners.this.global.icodes.BasicBlock)Boolean">covered</a> <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a><span class="delimiter">)</span>

        /* Map 'original' blocks to the ones inlined in the caller. */
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]" id="801554">inlinedBlock</a> = mutable.<a href="../../../../collection/generic/GenMapFactory.scala.html#61654" title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</a><span title="(elems: (Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock)*)scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../icode/BasicBlocks.scala.html#642689" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a>, <a href="../icode/BasicBlocks.scala.html#642689" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]" id="801555">varsInScope</a> = mutable.<a href="../../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: Inliners.this.global.icodes.Local*)scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]" class="delimiter">[</span><a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../../collection/generic/Growable.scala.html#60913" title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">++=</a> <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#733760" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a>

        /** Side effects varsInScope when it sees SCOPE_ENTERs. */
        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Boolean" id="801556">instrBeforeFilter</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="801636">i</a>: <a href="../icode/Opcodes.scala.html#642693" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          <a href="#801636" title="Inliners.this.global.icodes.Instruction">i</a> <span class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> SCOPE_ENTER<a href="#801659" title="Any" id="801661" class="delimiter">(</a>l<span class="delimiter">)</span> =&gt; <a href="#801555" title="scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="#801662" title="(x: Any)Any">+=</a> l ; <span class="keyword">case</span> _ =&gt; <a href="#801662" title="(x: Any)Any" class="delimiter">(</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#801636" title="Inliners.this.global.icodes.Instruction">i</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#800746" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.Instruction]" id="801557">instrBefore</a> = <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#733769" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <a href="../../../../collection/immutable/List.scala.html#63671" title="(p: Inliners.this.global.icodes.Instruction =&gt; Boolean)List[Inliners.this.global.icodes.Instruction]">takeWhile</a> <a href="#801556" title="(i: Inliners.this.global.icodes.Instruction)Boolean">instrBeforeFilter</a>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.Instruction]" id="801558">instrAfter</a>  = <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#733769" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <a href="../../../../collection/immutable/List.scala.html#63667" title="(n: Int)List[Inliners.this.global.icodes.Instruction]">drop</a> <span class="delimiter">(</span><a href="#801557" title="List[Inliners.this.global.icodes.Instruction]">instrBefore</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <a href="../../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#801558" title="List[Inliners.this.global.icodes.Instruction]">instrAfter</a>.<a href="../../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a>, <span title="String(&quot;CALL_METHOD cannot be the last instruction in block!&quot;)" class="string">&quot;CALL_METHOD cannot be the last instruction in block!&quot;</span><span class="delimiter">)</span>

        // store the '$this' into the special local
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="801559">inlinedThis</a> = <a href="#801549" title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local">newLocal</a><span class="delimiter">(</span><span title="String(&quot;$inlThis&quot;)" class="string">&quot;$inlThis&quot;</span>, <a href="../icode/TypeKinds.scala.html#731504" title="(cls: Inliners.this.global.icodes.global.Symbol)Inliners.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Inliners.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

        /** buffer for the returned value */
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="801560">retVal</a> = <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733852" title="=&gt; Inliners.this.global.icodes.TypeKind">returnType</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#642717" title="Inliners.this.global.icodes.Local" id="801690">UNIT</a>  =&gt; <a href="#801691" title="(x: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local" class="keyword">null</a>
          <span class="keyword">case</span> x     =&gt; <a href="#801549" title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local">newLocal</a><a href="#801691" title="(x: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local" class="delimiter">(</a><span title="String(&quot;$retVal&quot;)" class="string">&quot;$retVal&quot;</span>, x<span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]" id="801561">inlinedLocals</a> = mutable.<a href="../../../../collection/mutable/HashMap.scala.html#12881" title="scala.collection.mutable.HashMap.type">HashMap</a>.<a href="../../../../collection/mutable/HashMap.scala.html#138084" title="[A, B]=&gt; scala.collection.mutable.HashMap[A,B]">empty</a><span title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]" class="delimiter">[</span><a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a>, <a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">]</span>

        /** Add a new block in the current context. */
        <span class="keyword">def</span> <a title="()Inliners.this.global.icodes.BasicBlock" id="801562">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.BasicBlock" id="801699">b</a> = <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733829" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#733940" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a>
          <a href="#801553" title="List[Inliners.this.global.icodes.ExceptionHandler]">activeHandlers</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Inliners.this.global.icodes.ExceptionHandler =&gt; Inliners.this.global.icodes.ExceptionHandler)Unit">foreach</a> <span class="delimiter">(</span><a href="#801719" title="Inliners.this.global.icodes.ExceptionHandler">_</a> <a href="../icode/ExceptionHandlers.scala.html#734075" title="(b: Inliners.this.global.icodes.BasicBlock)x$9.type">addCoveredBlock</a> <a href="#801699" title="Inliners.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#801560" title="Inliners.this.global.icodes.Local">retVal</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#801699" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#733760" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/mutable/SetLike.scala.html#82190" title="(elem: Inliners.this.global.icodes.Local)b.varsInScope.type">+=</a> <a href="#801560" title="Inliners.this.global.icodes.Local">retVal</a>
          <a href="#801699" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#733760" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/mutable/SetLike.scala.html#82190" title="(elem: Inliners.this.global.icodes.Local)b.varsInScope.type">+=</a> <a href="#801559" title="Inliners.this.global.icodes.Local">inlinedThis</a>
          <a href="#801699" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#733760" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/generic/Growable.scala.html#60913" title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])b.varsInScope.type">++=</a> <a href="#801555" title="scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">varsInScope</a>
          <a href="#801699" title="Inliners.this.global.icodes.BasicBlock">b</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(e: Inliners.this.global.icodes.ExceptionHandler)Inliners.this.global.icodes.ExceptionHandler" id="801563">translateExh</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.ExceptionHandler" id="801753">e</a>: <a href="../icode/ExceptionHandlers.scala.html#642757" title="Inliners.this.global.icodes.ExceptionHandler">ExceptionHandler</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.ExceptionHandler" id="801754">handler</a>: <a href="../icode/ExceptionHandlers.scala.html#642757" title="Inliners.this.global.icodes.ExceptionHandler">ExceptionHandler</a> = <a href="#801753" title="Inliners.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#734083" title="=&gt; Inliners.this.global.icodes.ExceptionHandler">dup</a>
          <a href="#801754" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>.<a href="../icode/ExceptionHandlers.scala.html#734073" title="(x$1: scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock])Unit">covered</a> = <a href="#801754" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>.<a href="../icode/ExceptionHandlers.scala.html#734072" title="=&gt; scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]">covered</a> <a href="../../../../collection/SetLike.scala.html#71313" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]])scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]">map</a> <a href="#801554" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a>
          <a href="#801754" title="Inliners.this.global.icodes.ExceptionHandler">handler</a> <a href="../icode/ExceptionHandlers.scala.html#734070" title="(b: Inliners.this.global.icodes.BasicBlock)Unit">setStartBlock</a> <a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#801753" title="Inliners.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#734071" title="=&gt; Inliners.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>
          <a href="#801754" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>
        <span class="delimiter">}</span>

        /** alfa-rename `l` in caller's context. */
        <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local" id="801564">dupLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="801826">l</a>: <a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.TermSymbol" id="801827">sym</a> = <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443174" title="(name: Inliners.this.global.icodes.global.TermName, pos: Inliners.this.global.icodes.global.Position, newFlags: Long)Inliners.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#800716" title="(s: String)Inliners.this.global.TermName">freshName</a><span class="delimiter">(</span><a href="#801826" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#734263" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; l.sym.NameType">name</a>.<a href="../../../../Function1.scala.html#59562" title="()String">toString</a><span class="delimiter">)</span>, <a href="#801826" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#734263" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Inliners.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
          // sym.setInfo(l.sym.tpe)
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="801828">dupped</a> = <span title="Inliners.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">(</span><a href="#801827" title="Inliners.this.global.icodes.global.TermSymbol">sym</a>, <a href="#801826" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#734265" title="=&gt; Inliners.this.global.icodes.TypeKind">kind</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <a href="../../../../collection/mutable/HashMap.scala.html#79209" title="(key: Inliners.this.global.icodes.Local, value: Inliners.this.global.icodes.Local)Unit">inlinedLocals</a><span class="delimiter">(</span><a href="#801826" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span> = <a href="#801828" title="Inliners.this.global.icodes.Local">dupped</a>
          <a href="#801828" title="Inliners.this.global.icodes.Local">dupped</a>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.BasicBlock" id="801565">afterBlock</a> = <a href="#801562" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span>

        /** Map from nw.init instructions to their matching NEW call */
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]" id="801566">pending</a>: mutable.<a href="../../../../collection/mutable/Map.scala.html#12934" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">Map</a><span class="delimiter">[</span>Instruction, NEW<span class="delimiter">]</span> = <a href="../../../../collection/mutable/HashMap.scala.html#79203" title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]" class="keyword">new</a> mutable.<a href="../../../../collection/mutable/HashMap.scala.html#12880" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">HashMap</a>

        /** Map an instruction from the callee to one suitable for the caller. */
        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" id="801567">map</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="801837">i</a>: <a href="../icode/Opcodes.scala.html#642693" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <a href="../icode/Opcodes.scala.html#642693" title="Inliners.this.global.icodes.Instruction">Instruction</a> = <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction" id="801838">assertLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="801841">l</a>: <a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="../../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800497" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a> <a href="../../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#801841" title="Inliners.this.global.icodes.Local">l</a>, <span title="String(&quot;Could not find local \'&quot;)" class="string">&quot;Could not find local '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#801841" title="Inliners.this.global.icodes.Local">l</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' in locals, nor in inlinedLocals: &quot;)" class="string">&quot;' in locals, nor in inlinedLocals: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#801561" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a><span class="delimiter">)</span>
            <a href="#801837" title="Inliners.this.global.icodes.Instruction">i</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Boolean" id="801839">isInlined</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="801845">l</a>: <a href="../icode/Members.scala.html#642681" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <a href="#801561" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a> <a href="../../../../collection/MapLike.scala.html#78422" title="(key: Inliners.this.global.icodes.Local)Boolean">isDefinedAt</a> <a href="#801845" title="Inliners.this.global.icodes.Local">l</a>

          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Instruction" id="801840">newInstr</a> = <a href="#801837" title="Inliners.this.global.icodes.Instruction">i</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> THIS<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802147" class="delimiter">(</a>clasz<span class="delimiter">)</span>                    =&gt; <a href="../icode/Opcodes.scala.html#742423" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="#801559" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span>
            <span class="keyword">case</span> STORE_THIS<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802150" class="delimiter">(</a>_<span class="delimiter">)</span>                  =&gt; <a href="../icode/Opcodes.scala.html#739260" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="#801559" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span>
            <span class="keyword">case</span> JUMP<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802152" class="delimiter">(</a>whereto<span class="delimiter">)</span>                  =&gt; <a href="../icode/Opcodes.scala.html#739145" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span>whereto<span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> CJUMP<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802154" class="delimiter">(</a>succ, fail, cond, kind<span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#739585" title="(successBlock: Inliners.this.global.icodes.BasicBlock, failureBlock: Inliners.this.global.icodes.BasicBlock, cond: Inliners.this.global.icodes.TestOp, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.CJUMP">CJUMP</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span>succ<span class="delimiter">)</span>, <a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span>fail<span class="delimiter">)</span>, cond, kind<span class="delimiter">)</span>
            <span class="keyword">case</span> CZJUMP<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802156" class="delimiter">(</a>succ, fail, cond, kind<span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#739656" title="(successBlock: Inliners.this.global.icodes.BasicBlock, failureBlock: Inliners.this.global.icodes.BasicBlock, cond: Inliners.this.global.icodes.TestOp, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.CZJUMP">CZJUMP</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span>succ<span class="delimiter">)</span>, <a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span>fail<span class="delimiter">)</span>, cond, kind<span class="delimiter">)</span>
            <span class="keyword">case</span> SWITCH<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802158" class="delimiter">(</a>tags, labels<span class="delimiter">)</span>           =&gt; <a href="../icode/Opcodes.scala.html#739726" title="(tags: List[List[Int]], labels: List[Inliners.this.global.icodes.BasicBlock])Inliners.this.global.icodes.opcodes.SWITCH">SWITCH</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a>tags, labels <a href="../../../../collection/TraversableLike.scala.html#58971" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,List[Inliners.this.global.icodes.BasicBlock]])List[Inliners.this.global.icodes.BasicBlock]">map</a> <a href="#801554" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a><span class="delimiter">)</span>
            <span class="keyword">case</span> RETURN<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802161" class="delimiter">(</a>_<span class="delimiter">)</span>                      =&gt; <a href="../icode/Opcodes.scala.html#739145" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="#801565" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a><span class="delimiter">)</span>
            <span class="keyword">case</span> LOAD_LOCAL<a href="#802145" title="Boolean" id="802163" class="delimiter">(</a>l<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#801839" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span>l<span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#742423" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="../../../../collection/mutable/HashMap.scala.html#79206" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span>l<span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> STORE_LOCAL<a href="#802145" title="Boolean" id="802165" class="delimiter">(</a>l<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#801839" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span>l<span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#739260" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="../../../../collection/mutable/HashMap.scala.html#79206" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span>l<span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> LOAD_LOCAL<span class="delimiter">(</span>l<span class="delimiter">)</span>                  =&gt; <a href="#801838" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction">assertLocal</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a>l<span class="delimiter">)</span>
            <span class="keyword">case</span> STORE_LOCAL<span class="delimiter">(</span>l<span class="delimiter">)</span>                 =&gt; <a href="#801838" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction">assertLocal</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a>l<span class="delimiter">)</span>
            <span class="keyword">case</span> SCOPE_ENTER<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802171" class="delimiter">(</a>l<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#801839" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span>l<span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#744010" title="(lv: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.SCOPE_ENTER">SCOPE_ENTER</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="../../../../collection/mutable/HashMap.scala.html#79206" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span>l<span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> SCOPE_EXIT<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802173" class="delimiter">(</a>l<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#801839" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span>l<span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#739231" title="(lv: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.SCOPE_EXIT">SCOPE_EXIT</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><a href="../../../../collection/mutable/HashMap.scala.html#79206" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span>l<span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> nw @ NEW<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802175" class="delimiter">(</a>sym<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Inliners.this.global.icodes.opcodes.NEW" id="802131">r</a> = <a href="../icode/Opcodes.scala.html#744422" title="(kind: Inliners.this.global.icodes.REFERENCE)Inliners.this.global.icodes.opcodes.NEW">NEW</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>
              <a href="../../../../collection/mutable/MapLike.scala.html#78496" title="(key: Inliners.this.global.icodes.Instruction, value: Inliners.this.global.icodes.opcodes.NEW)Unit">pending</a><span class="delimiter">(</span>nw.<a href="../icode/Opcodes.scala.html#744430" title="=&gt; Inliners.this.global.icodes.opcodes.CALL_METHOD">init</a><span class="delimiter">)</span> = <a href="#802131" title="Inliners.this.global.icodes.opcodes.NEW">r</a>
              <a href="#802131" title="Inliners.this.global.icodes.opcodes.NEW">r</a>

            <span class="keyword">case</span> CALL_METHOD<a href="#802145" title="Inliners.this.global.icodes.Instruction" id="802178" class="delimiter">(</a>meth, Static<a title="Inliners.this.global.icodes.Instruction" id="802181" class="delimiter">(</a><a href="../../../../Boolean.scala.html#58722" title="Inliners.this.global.icodes.Instruction" id="802184" class="keyword">true</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> meth.<a href="../../../../reflect/internal/Symbols.scala.html#443264" title="=&gt; Boolean">isClassConstructor</a> =&gt;
              <a href="../icode/Opcodes.scala.html#744645" title="(method: Inliners.this.global.icodes.global.Symbol, style: Inliners.this.global.icodes.opcodes.InvokeStyle)Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a>meth, <a href="../icode/Opcodes.scala.html#744942" title="(onInstance: Boolean)Inliners.this.global.icodes.opcodes.Static">Static</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> _ =&gt; <a href="#801837" title="Inliners.this.global.icodes.Instruction">i</a>.<a href="../icode/Opcodes.scala.html#734299" title="()Inliners.this.global.icodes.Instruction">clone</a><a href="#802187" title="(x: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" class="delimiter">(</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          // check any pending NEW's
          <a href="#801566" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a> <a href="../../../../collection/mutable/MapLike.scala.html#78513" title="(key: Inliners.this.global.icodes.Instruction)Option[Inliners.this.global.icodes.opcodes.NEW]">remove</a> <a href="#801837" title="Inliners.this.global.icodes.Instruction">i</a> <a href="../../../../Option.scala.html#63839" title="(f: Inliners.this.global.icodes.opcodes.NEW =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#802214" title="Inliners.this.global.icodes.opcodes.NEW">_</a>.<a href="../icode/Opcodes.scala.html#744431" title="(x$1: Inliners.this.global.icodes.opcodes.CALL_METHOD)Unit">init</a> = <a href="#801840" title="Inliners.this.global.icodes.Instruction">newInstr</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Inliners.this.global.icodes.opcodes.CALL_METHOD" class="delimiter">[</span><a href="../icode/Opcodes.scala.html#653343" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#801840" title="Inliners.this.global.icodes.Instruction">newInstr</a>
        <span class="delimiter">}</span>

        <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#800509" title="(ls: List[Inliners.this.global.icodes.Local])Unit">addLocals</a> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800497" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a> <a href="../../../../collection/TraversableLike.scala.html#58971" title="(f: Inliners.this.global.icodes.Local =&gt; Inliners.this.global.icodes.Local)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,List[Inliners.this.global.icodes.Local]])List[Inliners.this.global.icodes.Local]">map</a> <a href="#801564" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">dupLocal</a><span class="delimiter">)</span>
        <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#800510" title="(l: Inliners.this.global.icodes.Local)Unit">addLocal</a> <a href="#801559" title="Inliners.this.global.icodes.Local">inlinedThis</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#801560" title="Inliners.this.global.icodes.Local">retVal</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#800510" title="(l: Inliners.this.global.icodes.Local)Unit">addLocal</a> <a href="#801560" title="Inliners.this.global.icodes.Local">retVal</a>

        <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <a href="../icode/Members.scala.html#733837" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local])Unit">foreachBlock</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="802268">b</a> =&gt;
          <a href="#801554" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a> <a href="../../../../collection/mutable/MapLike.scala.html#78497" title="(kv: (Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock))inlinedBlock.type">+=</a> <span class="delimiter">(</span><a href="../../../../Predef.scala.html#8484" title="(x: Inliners.this.global.icodes.BasicBlock)ArrowAssoc[Inliners.this.global.icodes.BasicBlock]">b</a> <a href="../../../../Predef.scala.html#63591" title="(y: Inliners.this.global.icodes.BasicBlock)(Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock)">-&gt;</a> <a href="#801562" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#802268" title="Inliners.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#733760" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/generic/Growable.scala.html#60913" title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">++=</a> <span class="delimiter">(</span><a href="#802268" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#733760" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/SetLike.scala.html#71313" title="(f: Inliners.this.global.icodes.Local =&gt; Inliners.this.global.icodes.Local)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,scala.collection.TraversableOnce[Inliners.this.global.icodes.Local]])scala.collection.TraversableOnce[Inliners.this.global.icodes.Local]">map</a> <a href="#801561" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        // re-emit the instructions before the call
        <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#733794" title="()Unit">open</a>
        <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#733795" title="()Unit">clear</a>
        <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a> <a href="../icode/BasicBlocks.scala.html#733789" title="(is: Seq[Inliners.this.global.icodes.Instruction])Unit">emit</a> <a href="#801557" title="List[Inliners.this.global.icodes.Instruction]">instrBefore</a>

        // store the arguments into special locals
        <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733861" title="=&gt; List[Inliners.this.global.icodes.Local]">params</a>.<a href="../../../../collection/immutable/List.scala.html#63674" title="=&gt; List[Inliners.this.global.icodes.Local]">reverse</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Inliners.this.global.icodes.Local =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="802387">p</a> =&gt; <a href="#801548" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#739260" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="../../../../collection/mutable/HashMap.scala.html#79206" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#802387" title="Inliners.this.global.icodes.Local">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#801548" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#739260" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#801559" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // jump to the start block of the callee
        <a href="#801548" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#739145" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733833" title="=&gt; Inliners.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#800745" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#733793" title="()Unit">close</a>

        // duplicate the other blocks in the callee
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.BasicBlock]" id="801568">calleeLin</a> = <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733836" title="(lin: Inliners.this.global.icodes.Linearizer)List[Inliners.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#801568" title="List[Inliners.this.global.icodes.BasicBlock]">calleeLin</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="802446">bb</a> =&gt;
          <span class="keyword">var</span> <a title="a.lattice.Elem" id="802447">info</a> = <span title="a.lattice.Elem" class="keyword">if</span><span class="delimiter">(</span><a href="#801551" title="Boolean">hasRETURN</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#801552" title="Inliners.this.global.analysis.MethodTFA">a</a> <a href="../../../../collection/MapLike.scala.html#78420" title="(key: a.P)a.lattice.Elem">in</a> <a href="#802446" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
          <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Unit" id="802448">emitInlined</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="802471">i</a>: <a href="../icode/Opcodes.scala.html#642693" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#802446" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#733788" title="(instr: Inliners.this.global.icodes.Instruction, pos: scala.tools.nsc.util.Position)Unit">emit</a><span class="delimiter">(</span><a href="#802471" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#801547" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(toDrop: Int)Unit" id="802449">emitDrops</a><span class="delimiter">(</span><a title="Int" id="802493">toDrop</a>: <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>      = <a href="#802447" title="a.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#766141" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#748999" title="=&gt; Inliners.this.global.analysis.global.icodes.Rep">types</a> <a href="../../../../collection/immutable/List.scala.html#63667" title="(n: Int)List[Inliners.this.global.analysis.global.icodes.TypeKind]">drop</a> <a href="#802493" title="Int">toDrop</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Inliners.this.global.analysis.global.icodes.TypeKind =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Inliners.this.global.analysis.global.icodes.TypeKind" id="802520">t</a> =&gt; <a href="#802448" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#742869" title="(typ: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.DROP">DROP</a><span class="delimiter">(</span><a href="#802520" title="Inliners.this.global.analysis.global.icodes.TypeKind">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="802528">i</a> &lt;- <a href="../icode/BasicBlocks.scala.html#733774" title="(f: Inliners.this.global.icodes.Instruction =&gt; Unit)Unit">bb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#802528" title="Inliners.this.global.icodes.Instruction">i</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> RETURN<a href="#802539" title="Boolean" id="802542" class="delimiter">(</a><a href="../icode/TypeKinds.scala.html#642717" title="Unit" id="802546">UNIT</a><span class="delimiter">)</span> =&gt; <a href="#802449" title="(toDrop: Int)Unit">emitDrops</a><a href="#802548" title="(x: Unit)Unit" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <span class="keyword">case</span> RETURN<span class="delimiter">(</span>kind<span class="delimiter">)</span> =&gt;
                <a href="#802548" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#802447" title="a.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#766141" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#749005" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#802448" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#739260" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#801560" title="Inliners.this.global.icodes.Local">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#802449" title="(toDrop: Int)Unit">emitDrops</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
                  <a href="#802448" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#742423" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#801560" title="Inliners.this.global.icodes.Local">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> _            =&gt; <a href="#802548" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#802448" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="#801567" title="(i: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction">map</a><span class="delimiter">(</span><a href="#802528" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#802447" title="a.lattice.Elem">info</a> = <span title="a.lattice.Elem" class="keyword">if</span><span class="delimiter">(</span><a href="#801551" title="Boolean">hasRETURN</a><span class="delimiter">)</span> <a href="#801552" title="Inliners.this.global.analysis.MethodTFA">a</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#768902" title="(in: Inliners.this.global.analysis.typeFlowLattice.Elem, i: Inliners.this.global.analysis.global.icodes.Instruction)Inliners.this.global.analysis.typeFlowLattice.Elem">interpret</a><span class="delimiter">(</span><a href="#802447" title="a.lattice.Elem">info</a>, <a href="#802528" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
          <a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#802446" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#733793" title="()Unit">close</a>
        <span class="delimiter">}</span>

        <a href="#801565" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a> <a href="../icode/BasicBlocks.scala.html#733789" title="(is: Seq[Inliners.this.global.icodes.Instruction])Unit">emit</a> <a href="#801558" title="List[Inliners.this.global.icodes.Instruction]">instrAfter</a>
        <a href="#801565" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>.<a href="../icode/BasicBlocks.scala.html#733793" title="()Unit">close</a>

        <a href="#800319" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a>        <a href="../../../../collection/mutable/SetLike.scala.html#82190" title="(elem: Inliners.this.global.icodes.BasicBlock)Inliner.this.staleIn.type">+=</a> <a href="#801565" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>
        <a href="#800317" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a> <a href="../../../../collection/generic/Growable.scala.html#60913" title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock])Inliner.this.splicedBlocks.type">++=</a> <span class="delimiter">(</span><a href="#801568" title="List[Inliners.this.global.icodes.BasicBlock]">calleeLin</a> <a href="../../../../collection/TraversableLike.scala.html#58971" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock]])scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock]">map</a> <a href="#801554" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a><span class="delimiter">)</span>

        // add exception handlers of the callee
        <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#800511" title="(exhs: List[Inliners.this.global.icodes.ExceptionHandler])Unit">addHandlers</a> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800495" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <a href="../../../../collection/TraversableLike.scala.html#58971" title="(f: Inliners.this.global.icodes.ExceptionHandler =&gt; Inliners.this.global.icodes.ExceptionHandler)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.ExceptionHandler],Inliners.this.global.icodes.ExceptionHandler,List[Inliners.this.global.icodes.ExceptionHandler]])List[Inliners.this.global.icodes.ExceptionHandler]">map</a> <a href="#801563" title="(e: Inliners.this.global.icodes.ExceptionHandler)Inliners.this.global.icodes.ExceptionHandler">translateExh</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#801566" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a>.<a href="../../../../collection/MapLike.scala.html#78416" title="=&gt; Boolean">isEmpty</a>, <span title="String(&quot;Pending NEW elements: &quot;)" class="string">&quot;Pending NEW elements: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#801566" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../Global.scala.html#559502" title="Inliners.this.global.icodes.type">icodes</a>.<a href="../icode/ICodes.scala.html#642642" title="(m: Inliners.this.global.icodes.IMethod)Unit">checkValid</a><span class="delimiter">(</span><a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(stackLength: Int)Boolean" id="800718">isStampedForInlining</a><span class="delimiter">(</span><a title="Int" id="800733">stackLength</a>: <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span> =
        <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800722" title="=&gt; Boolean">sameSymbols</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733864" title="=&gt; Boolean">hasCode</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800728" title="=&gt; Boolean">shouldInline</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#800724" title="(stackLength: Int)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#800733" title="Int">stackLength</a><span class="delimiter">)</span> // `isSafeToInline()` must be invoked last in this AND expr bc it mutates the `knownSafe` and `knownUnsafe` maps for good.

      <span class="keyword">def</span> <a title="(stackLength: Int)Unit" id="800719">logFailure</a><span class="delimiter">(</span><a title="Int" id="800801">stackLength</a>: <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span> = <a href="../../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
        <a href="../../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|inline failed for %s:
           |  pair.sameSymbols: %s
           |  inc.numInlined &lt; 2: %s
           |  inc.m.hasCode: %s
           |  isSafeToInline: %s
           |  shouldInline: %s
        &quot;&quot;&quot;</a>.<a href="../../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</a>.<a href="../../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>, <a href="#800722" title="=&gt; Boolean">sameSymbols</a>, <a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.Symbol)Int">inlinedMethodCount</a><span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <span title="Int(2)" class="int">2</span>,
          <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733864" title="=&gt; Boolean">hasCode</a>, <a href="#800724" title="(stackLength: Int)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#800801" title="Int">stackLength</a><span class="delimiter">)</span>, <a href="#800728" title="=&gt; Boolean">shouldInline</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stackLength: Int)String" id="800720">failureReason</a><span class="delimiter">(</span><a title="Int" id="800846">stackLength</a>: <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733864" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <span title="String(&quot;bytecode was unavailable&quot;)" class="string">&quot;bytecode was unavailable&quot;</span>
        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>Flags.<span title="Long(35184372088832L)">SYNCHRONIZED</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;method is synchronized&quot;)" class="string">&quot;method is synchronized&quot;</span>
        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800724" title="(stackLength: Int)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#800846" title="Int">stackLength</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;it is unsafe (target may reference private fields)&quot;)" class="string">&quot;it is unsafe (target may reference private fields)&quot;</span>
        <span class="keyword">else</span> <span title="String(&quot;of a bug (run with -Ylog:inline -Ydebug for more information)&quot;)" class="string">&quot;of a bug (run with -Ylog:inline -Ydebug for more information)&quot;</span>

      <span class="keyword">def</span> <a title="(level: Inliner.this.NonPublicRefs.Value)Boolean" id="800721">canAccess</a><span class="delimiter">(</span><a title="Inliner.this.NonPublicRefs.Value" id="802690">level</a>: NonPublicRefs.<a href="../../../../Enumeration.scala.html#78183" title="Inliner.this.NonPublicRefs.Value">Value</a><span class="delimiter">)</span> = <a href="#802690" title="Inliner.this.NonPublicRefs.Value">level</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#800337" title="Boolean" id="802708">Private</a>    =&gt; <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800485" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a> <a href="#802711" title="(x: Boolean)Boolean">==</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800485" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>
        <span class="keyword">case</span> <a href="#800339" title="Boolean" id="802709">Protected</a>  =&gt; <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800485" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Inliners.this.global.icodes.global.Type">tpe</a> <a href="#802711" title="(x: Boolean)Boolean">&lt;:&lt;</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800485" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Inliners.this.global.icodes.global.Type">tpe</a>
        <span class="keyword">case</span> <a href="#800341" title="Boolean" id="802710">Public</a>     =&gt; <a href="#802711" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="delimiter">}</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="800722">sameSymbols</a> = <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="800723">sameOwner</a>   = <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800485" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800485" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>

      /** A method is safe to inline when:
       *    - it does not contain calls to private methods when called from another class
       *    - it is not inlined into a position with non-empty stack,
       *      while having a top-level finalizer (see liftedTry problem)
       *    - it is not recursive
       * Note:
       *    - synthetic private members are made public in this pass.
       */
      <span class="keyword">def</span> <a title="(stackLength: Int)Boolean" id="800724">isSafeToInline</a><span class="delimiter">(</span><a title="Int" id="800738">stackLength</a>: <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>

        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770499" title="(msym: Inliners.this.global.analysis.global.Symbol)Boolean">blackballed</a><span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/GenSetLike.scala.html#65156" title="(elem: Inliners.this.global.analysis.global.Symbol)Boolean">knownSafe</a><span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>   <span class="delimiter">{</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(true)" class="keyword">true</span>  <span class="delimiter">}</span>

        <span title="Boolean" class="keyword">if</span><span class="delimiter">(</span><a href="#800725" title="(stackLength: Int)Boolean">helperIsSafeToInline</a><span class="delimiter">(</span><a href="#800738" title="Int">stackLength</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770495" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownSafe</a> <a href="../../../../collection/mutable/SetLike.scala.html#82190" title="(elem: Inliners.this.global.analysis.global.Symbol)Inliner.this.tfa.knownSafe.type">+=</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>;   <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#800313" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#770493" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownUnsafe</a> <a href="../../../../collection/mutable/SetLike.scala.html#82190" title="(elem: Inliners.this.global.analysis.global.Symbol)Inliner.this.tfa.knownUnsafe.type">+=</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stackLength: Int)Boolean" id="800725">helperIsSafeToInline</a><span class="delimiter">(</span><a title="Int" id="802749">stackLength</a>: <a href="../../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(f: Inliners.this.global.Symbol)Boolean" id="802766">makePublic</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="802768">f</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
          /*
           * Completely disabling member publifying. This shouldn't have been done in the first place. :|
           */
          <span title="Boolean(false)" class="keyword">false</span>
          // (inc.m.sourceFile ne NoSourceFile) &amp;&amp; (f.isSynthetic || f.isParamAccessor) &amp;&amp; {
          //   debuglog(&quot;Making not-private symbol out of synthetic: &quot; + f)

          //   f setNotFlag Flags.PRIVATE
          //   true
          // }

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733864" title="=&gt; Boolean">hasCode</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800503" title="=&gt; Boolean">isRecursive</a><span class="delimiter">)</span>        <span class="delimiter">{</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733826" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>Flags.<span title="Long(35184372088832L)">SYNCHRONIZED</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Inliner.this.NonPublicRefs.Value" id="802767">accessNeeded</a> = <a href="#800343" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a>.<a href="../../../../collection/mutable/MapLike.scala.html#78517" title="(key: Inliners.this.global.icodes.IMethod, op: =&gt; Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value">getOrElseUpdate</a><span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>, <span class="delimiter">{</span>
          // Avoiding crashing the compiler if there are open blocks.
          <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800499" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">openBlocks</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Nothing)Unit">foreach</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="802798">b</a> =&gt;
            <a href="#800307" title="(pos: Inliners.this.global.Position, msg: String)Any">warn</a><span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Inliners.this.global.icodes.global.Position">pos</a>,
                <span class="string">&quot;Encountered open block in isSafeToInline: this indicates a bug in the optimizer!\n&quot;</span> <span title="String(&quot;Encountered open block in isSafeToInline: this indicates a bug in the optimizer!\n  caller = &quot;)">+</span>
                <span class="string">&quot;  caller = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, callee = &quot;)" class="string">&quot;, callee = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>
              <span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value" id="802771">check</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="802800">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Boolean" id="802801">cond</a>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span> =
            <span title="Inliner.this.NonPublicRefs.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#802801" title="Boolean">cond</a><span class="delimiter">)</span> <a href="#800337" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>
            <span class="keyword">else</span> <span title="Inliner.this.NonPublicRefs.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#802800" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#443597" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="#800339" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a>
            <span class="keyword">else</span> <a href="#800341" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>

          <span class="keyword">def</span> <a title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="802772">checkField</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="802802">f</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>   = <a href="#802771" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#802802" title="Inliners.this.global.Symbol">f</a>, <a href="#802802" title="Inliners.this.global.Symbol">f</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#802766" title="(f: Inliners.this.global.Symbol)Boolean">makePublic</a><span class="delimiter">(</span><a href="#802802" title="Inliners.this.global.Symbol">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="802773">checkSuper</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="802803">m</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>   = <a href="#802771" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#802803" title="Inliners.this.global.Symbol">m</a>, <a href="#802803" title="Inliners.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#802803" title="Inliners.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443264" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="802774">checkMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="802804">m</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#802771" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#802804" title="Inliners.this.global.Symbol">m</a>, <a href="#802804" title="Inliners.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Inliner.this.NonPublicRefs.Value" id="802775">getAccess</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="802805">i</a>: <a href="../icode/Opcodes.scala.html#642693" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#802805" title="Inliners.this.global.icodes.Instruction">i</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> CALL_METHOD<a href="#802820" title="Boolean" id="802823" class="delimiter">(</a>m, SuperCall<a title="Inliner.this.NonPublicRefs.Value" id="802826" class="delimiter">(</a>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#802773" title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkSuper</a><a href="#802837" title="(x: Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value" class="delimiter">(</a>m<span class="delimiter">)</span>
            <span class="keyword">case</span> CALL_METHOD<span class="delimiter">(</span>m, _<span class="delimiter">)</span>            =&gt; <a href="#802774" title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkMethod</a><a href="#802837" title="(x: Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value" class="delimiter">(</a>m<span class="delimiter">)</span>
            <span class="keyword">case</span> LOAD_FIELD<a href="#802820" title="Inliner.this.NonPublicRefs.Value" id="802832" class="delimiter">(</a>f, _<span class="delimiter">)</span>             =&gt; <a href="#802772" title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkField</a><a href="#802837" title="(x: Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value" class="delimiter">(</a>f<span class="delimiter">)</span>
            <span class="keyword">case</span> STORE_FIELD<a href="#802820" title="Inliner.this.NonPublicRefs.Value" id="802835" class="delimiter">(</a>f, _<span class="delimiter">)</span>            =&gt; <a href="#802772" title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkField</a><a href="#802837" title="(x: Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value" class="delimiter">(</a>f<span class="delimiter">)</span>
            <span class="keyword">case</span> _                            =&gt; <a href="#802837" title="(x: Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value">Public</a>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="()Inliner.this.NonPublicRefs.Value" id="802776">iterate</a><span class="delimiter">(</span><span class="delimiter">)</span>: NonPublicRefs.<a href="../../../../Enumeration.scala.html#78183" title="Inliner.this.NonPublicRefs.Value">Value</a> = <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800500" title="=&gt; List[Inliners.this.global.icodes.Instruction]">instructions</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#76173" title="(z: Inliner.this.NonPublicRefs.Value)(f: (Inliner.this.NonPublicRefs.Value, Inliners.this.global.icodes.Instruction) =&gt; Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value">foldLeft</a><span class="delimiter">(</span><a href="#800341" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>res, inc<span class="delimiter">)</span> =&gt; <a href="#802775" title="(i: Inliners.this.global.icodes.Instruction)Inliner.this.NonPublicRefs.Value">getAccess</a><a href="#802879" title="(x: Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value" class="delimiter">(</a><a href="#802867" title="Inliners.this.global.icodes.Instruction">inc</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#800337" title="Inliner.this.NonPublicRefs.Value" id="802876">Private</a>    =&gt; <a href="../../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;instruction &quot;)" class="string">&quot;instruction &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#802867" title="Inliners.this.global.icodes.Instruction">inc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; requires private access.&quot;)" class="string">&quot; requires private access.&quot;</span><span class="delimiter">)</span> ; <span title="Nothing" class="keyword">return</span> <a href="#800337" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>
            <span class="keyword">case</span> <a href="#800339" title="Inliner.this.NonPublicRefs.Value" id="802877">Protected</a>  =&gt; <a href="#802879" title="(x: Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value">Protected</a>
            <span class="keyword">case</span> <a href="#800341" title="Inliner.this.NonPublicRefs.Value" id="802878">Public</a>     =&gt; <a href="#802879" title="(x: Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value">res</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#802776" title="()Inliner.this.NonPublicRefs.Value">iterate</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>

        <a href="#800721" title="(level: Inliner.this.NonPublicRefs.Value)Boolean">canAccess</a><span class="delimiter">(</span><a href="#802767" title="Inliner.this.NonPublicRefs.Value">accessNeeded</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="802901">isIllegalStack</a> = <span class="delimiter">(</span><a href="#802749" title="Int">stackLength</a> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800487" title="=&gt; Int">minimumStack</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800505" title="=&gt; Boolean">hasNonFinalizerHandler</a><span class="delimiter">)</span>

          <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#802901" title="Boolean">isIllegalStack</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;method &quot;)" class="string">&quot;method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is used on a non-empty stack with finalizer.&quot;)" class="string">&quot; is used on a non-empty stack with finalizer.&quot;</span><span class="delimiter">)</span>
            <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Decide whether to inline or not. Heuristics:
       *   - it's bad to make the caller larger (&gt; SMALL_METHOD_SIZE) if it was small
       *   - it's bad to inline large methods
       *   - it's good to inline higher order functions
       *   - it's good to inline closures functions.
       *   - it's bad (useless) to inline inside bridge methods
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="800726">neverInline</a>   = <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800490" title="=&gt; Boolean">isBridge</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#733864" title="=&gt; Boolean">hasCode</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800489" title="=&gt; Boolean">noinline</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="800727">alwaysInline</a>  = <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800488" title="=&gt; Boolean">inline</a>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="800728">shouldInline</a>: <a href="../../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <a href="../../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#800726" title="=&gt; Boolean">neverInline</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#800727" title="=&gt; Boolean">alwaysInline</a> <a href="../../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;shouldInline: &quot;)" class="string">&quot;shouldInline: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="Int" id="802906">score</a> = <span title="Int(0)" class="int">0</span>

        // better not inline inside closures, but hope that the closure itself is repeatedly inlined
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800491" title="=&gt; Boolean">isInClosure</a><span class="delimiter">)</span>           <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57955" title="(x: Int)Int">-=</a> <span title="Int(2)" class="int">2</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800507" title="=&gt; Int">inlinedCalls</a> <a href="../../../../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57955" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span> // only monadic methods can trigger the first inline

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800501" title="=&gt; Boolean">isSmall</a><span class="delimiter">)</span> <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800502" title="=&gt; Boolean">isLarge</a><span class="delimiter">)</span> <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57955" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#800501" title="=&gt; Boolean">isSmall</a> <a href="../../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#800715" title="=&gt; Boolean">isLargeSum</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57955" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <a href="../../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;shouldInline: score decreased to &quot;)" class="string">&quot;shouldInline: score decreased to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#802906" title="Int">score</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; because small &quot;)" class="string">&quot; because small &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800729" title="=&gt; Inliner.this.IMethodInfo">caller</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; would become large&quot;)" class="string">&quot; would become large&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800494" title="=&gt; Boolean">isMonadic</a><span class="delimiter">)</span>          <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(3)" class="int">3</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800492" title="=&gt; Boolean">isHigherOrder</a><span class="delimiter">)</span> <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800491" title="=&gt; Boolean">isInClosure</a><span class="delimiter">)</span>                 <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(2)" class="int">2</span>;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../collection/MapLike.scala.html#78420" title="(key: Inliners.this.global.Symbol)Int">inlinedMethodCount</a><span class="delimiter">(</span><a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800481" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57955" title="(x: Int)Int">-=</a> <span title="Int(2)" class="int">2</span>;

        <a href="../../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;shouldInline(&quot;)" class="string">&quot;shouldInline(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#800730" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#800512" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;) score: &quot;)" class="string">&quot;) score: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#802906" title="Int">score</a><span class="delimiter">)</span>

        <a href="#802906" title="Int">score</a> <a href="../../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(meth: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.IMethod]" id="800326">lookupIMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="800698">meth</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="800699">receiver</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Option.scala.html#1510" title="Option[Inliners.this.global.icodes.IMethod]">Option</a><span class="delimiter">[</span>IMethod<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]" id="802988">tryParent</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="802989">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#441132" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../Global.scala.html#559502" title="Inliners.this.global.icodes.type">icodes</a> <a href="../icode/Repository.scala.html#642866" title="(sym: Inliners.this.global.icodes.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IClass]">icode</a> <a href="#802989" title="Inliners.this.global.Symbol">sym</a> <a href="../../../../Option.scala.html#63826" title="(f: Inliners.this.global.icodes.global.icodes.IClass =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Option[Inliners.this.global.icodes.global.icodes.IMethod]">flatMap</a> <span class="delimiter">(</span><a href="#802999" title="Inliners.this.global.icodes.global.icodes.IClass">_</a> <a href="../icode/Members.scala.html#642929" title="(s: Inliners.this.global.icodes.global.icodes.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]">lookupMethod</a> <a href="#800698" title="Inliners.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#800699" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#442068" title="=&gt; List[Inliners.this.global.Symbol]">baseClasses</a>.<a href="../../../../collection/LinearSeqLike.scala.html#76109" title="=&gt; Iterator[Inliners.this.global.Symbol]">iterator</a> <a href="../../../../collection/Iterator.scala.html#65201" title="(f: Inliners.this.global.Symbol =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Iterator[Option[Inliners.this.global.icodes.global.icodes.IMethod]]">map</a> <a href="#802988" title="(sym: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]">tryParent</a> <a href="../../../../collection/Iterator.scala.html#65246" title="(p: Option[Inliners.this.global.icodes.global.icodes.IMethod] =&gt; Boolean)Option[Option[Inliners.this.global.icodes.global.icodes.IMethod]]">find</a> <span class="delimiter">(</span><a href="#803025" title="Option[Inliners.this.global.icodes.global.icodes.IMethod]">_</a>.<a href="../../../../Option.scala.html#63812" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../Option.scala.html#63829" title="(implicit ev: &lt;:&lt;[Option[Inliners.this.global.icodes.global.icodes.IMethod],Option[Inliners.this.global.icodes.IMethod]])Option[Inliners.this.global.icodes.IMethod]">flatten</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> /* class Inliner */
<span title="Object" class="delimiter">}</span> /* class Inliners */

        </pre>
    </body>
</html>