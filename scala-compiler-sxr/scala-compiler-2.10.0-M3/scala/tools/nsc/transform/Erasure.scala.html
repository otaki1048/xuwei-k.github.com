<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/Erasure.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> scala.tools.reflect.SigParser
<span class="keyword">import</span> scala.reflect.internal.<a href="../../../reflect/internal/ClassfileConstants.scala.html#21598" title="scala.reflect.internal.ClassfileConstants.type">ClassfileConstants</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#57302" title="=&gt; reflect.internal.Flags.type">Flags</a>._

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Erasure extends scala.tools.nsc.transform.AddInterfaces with scala.reflect.internal.transform.Erasure with scala.tools.nsc.typechecker.Analyzer with scala.tools.nsc.transform.TypingTransformers with scala.tools.nsc.ast.TreeDSL" id="45712">Erasure</a> <a href="#45712" title="scala.tools.nsc.transform.Erasure" class="keyword">extends</a> <a href="AddInterfaces.scala.html#44461" title="scala.tools.nsc.transform.AddInterfaces">AddInterfaces</a>
                          <span class="keyword">with</span> reflect.internal.transform.<a href="../../../reflect/internal/transform/Erasure.scala.html#22899" title="scala.reflect.internal.transform.Erasure">Erasure</a>
                          <span class="keyword">with</span> typechecker.<a href="../typechecker/Analyzer.scala.html#46593" title="scala.tools.nsc.typechecker.Analyzer">Analyzer</a>
                          <span class="keyword">with</span> <a href="TypingTransformers.scala.html#45109" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a>
                          <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#29480" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
<span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#650650" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="Erasure.this.global.definitions.type">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#560223" title="Erasure.this.CODE.type">CODE</a>._

  <span class="keyword">val</span> <a title="String" id="651386">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;erasure&quot;)" class="string">&quot;erasure&quot;</span>

  <span class="keyword">def</span> <a title="(unit: Erasure.this.global.CompilationUnit)Erasure.this.global.Transformer" id="651388">newTransformer</a><span class="delimiter">(</span><a title="Erasure.this.global.CompilationUnit" id="1046494">unit</a>: <a href="../CompilationUnits.scala.html#559797" title="Erasure.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#559848" title="Erasure.this.global.Transformer">Transformer</a> =
    <span title="Erasure.this.ErasureTransformer" class="keyword">new</span> <a href="#651420" title="Erasure.this.ErasureTransformer">ErasureTransformer</a><span class="delimiter">(</span><a href="#1046494" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="651389">keepsTypeParams</a> = <span title="Boolean(false)" class="keyword">false</span>

// -------- erasure on types --------------------------------------------------------

  // convert a numeric with a toXXX method
  <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, numericSym: Erasure.this.global.Symbol)Erasure.this.global.Tree" id="651390">numericConversion</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1046513">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Symbol" id="1046514">numericSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Erasure.this.global.TermName" id="1046516">mname</a>      = <a href="../../../reflect/internal/Names.scala.html#440783" title="(s: String)Erasure.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;to&quot;)" class="string">&quot;to&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1046514" title="Erasure.this.global.Symbol">numericSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; numericSym.NameType">name</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="1046517">conversion</a> = <a href="#1046513" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Erasure.this.global.Name)Erasure.this.global.Symbol">member</a> <a href="#1046516" title="Erasure.this.global.TermName">mname</a>

    <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1046517" title="Erasure.this.global.Symbol">conversion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a>, <a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; =&gt; &quot;)" class="string">&quot; =&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1046514" title="Erasure.this.global.Symbol">numericSym</a><span class="delimiter">)</span>
    <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Apply)Erasure.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#1046513" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1046513" title="Erasure.this.global.Tree">tree</a>, <a href="#1046517" title="Erasure.this.global.Symbol">conversion</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="Erasure.this.NeedsSigCollector.type" id="651391">NeedsSigCollector</a> <a href="#651392" title="Erasure.this.NeedsSigCollector.type" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#441433" title="Erasure.this.global.TypeCollector[Boolean]">TypeCollector</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Unit" id="1046613">traverse</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1046619">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#514862" title="=&gt; Boolean">result</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1046619" title="Erasure.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#1046728" title="Unit" id="1046751">st</a>: SubType =&gt;
            <a href="#1046613" title="(tp: Erasure.this.global.Type)Unit">traverse</a><a href="#1046752" title="(x: Unit)Unit" class="delimiter">(</a>st.<a href="../../../reflect/internal/Types.scala.html#448287" title="=&gt; Erasure.this.global.Type">supertype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> TypeRef<a href="#1046728" title="Unit" id="1046731" class="delimiter">(</a>pre, sym, args<span class="delimiter">)</span> =&gt;
            <a href="#1046752" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span> args <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Erasure.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#1046613" title="(tp: Erasure.this.global.Type)Unit">traverse</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443257" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> sym.<a href="../../../reflect/internal/Symbols.scala.html#443254" title="=&gt; Boolean">isExistentiallyBound</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>args.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#514863" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#1046613" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#459753" title="(pre: Erasure.this.global.Type, cls: Erasure.this.global.Symbol)Erasure.this.global.Type">rebindInnerClass</a><span class="delimiter">(</span>pre, sym<span class="delimiter">)</span><span class="delimiter">)</span> // #2585
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>sym.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#1046613" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span>pre<span class="delimiter">)</span>
          <span class="keyword">case</span> PolyType<a href="#1046728" title="Unit" id="1046735" class="delimiter">(</a>_, _<span class="delimiter">)</span> | ExistentialType<a href="#1046728" title="Boolean" id="1046739" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#514863" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> RefinedType<a href="#1046728" title="Unit" id="1046742" class="delimiter">(</a>parents, _<span class="delimiter">)</span> =&gt;
            parents <a href="#1046752" title="(x: Unit)Unit">foreach</a> <a href="#1046613" title="(tp: Erasure.this.global.Type)Unit">traverse</a>
          <span class="keyword">case</span> ClassInfoType<a href="#1046728" title="Unit" id="1046746" class="delimiter">(</a>parents, _, _<span class="delimiter">)</span> =&gt;
            parents <a href="#1046752" title="(x: Unit)Unit">foreach</a> <a href="#1046613" title="(tp: Erasure.this.global.Type)Unit">traverse</a>
          <span class="keyword">case</span> AnnotatedType<a href="#1046728" title="Unit" id="1046750" class="delimiter">(</a>_, atp, _<span class="delimiter">)</span> =&gt;
            <a href="#1046613" title="(tp: Erasure.this.global.Type)Unit">traverse</a><a href="#1046752" title="(x: Unit)Unit" class="delimiter">(</a>atp<span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><a href="#1046752" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1046619" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // for debugging signatures: traces logic given system property
  // performance: get the value here
  <span class="keyword">val</span> <a title="Boolean" id="651393">traceSignatures</a> = <span class="delimiter">(</span>sys.<a href="../../../sys/BooleanProp.scala.html#25706" title="scala.sys.BooleanProp.type">BooleanProp</a> <a href="../../../sys/BooleanProp.scala.html#604061" title="(key: String)scala.sys.BooleanProp">keyExists</a> <span title="String(&quot;scalac.sigs.trace&quot;)" class="string">&quot;scalac.sigs.trace&quot;</span><span class="delimiter">)</span>.<a href="../../../sys/BooleanProp.scala.html#604045" title="=&gt; Boolean">value</a>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="Erasure.this.traceSig.type" id="651395">traceSig</a> <a href="#651396" title="Erasure.this.traceSig.type" class="keyword">extends</a> util.<a href="../util/Tracer.scala.html#51708" title="scala.tools.nsc.util.Tracer">Tracer</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#651393" title="=&gt; Boolean">traceSignatures</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(x: Any)String" id="1046791">stringify</a><span class="delimiter">(</span><a title="Any" id="1046795">x</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#1046795" title="Any">x</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../Boolean.scala.html#58725" title="String" id="1046807">tp</a>: Type   =&gt; <span class="keyword">super</span>.<a href="../util/Tracer.scala.html#1046771" title="(x: Any)String">stringify</a><a href="#1046808" title="(x: String)String" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#524154" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">dropAllRefinements</a><span class="delimiter">(</span>tp<span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _          =&gt; <span class="keyword">super</span>.<a href="../util/Tracer.scala.html#1046771" title="(x: Any)String">stringify</a><a href="#1046808" title="(x: String)String" class="delimiter">(</a><a href="#1046795" title="Any">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="651397">verifyJavaErasure</a> = <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467436" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xverify</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a>
  <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Boolean" id="651398">needsJavaSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1046821">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467516" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Ynogenericsig</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#651391" title="Erasure.this.NeedsSigCollector.type">NeedsSigCollector</a>.<a href="../../../reflect/internal/Types.scala.html#514865" title="(tp: Erasure.this.global.Type)Boolean">collect</a><span class="delimiter">(</span><a href="#1046821" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>

  // only refer to type params that will actually make it into the sig, this excludes:
  // * higher-order type parameters
  // * type parameters appearing in method parameters
  // * type members not visible in an enclosing template
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol, initialSymbol: Erasure.this.global.Symbol)Boolean" id="651399">isTypeParameterInSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1046828">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="1046829">initialSymbol</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1046828" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443319" title="=&gt; Boolean">isHigherOrderTypeParameter</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="#1046828" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443257" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>
      <span class="delimiter">(</span><a href="#1046829" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443383" title="=&gt; List[Erasure.this.global.Symbol]">enclClassChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Erasure.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1046828" title="Erasure.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443467" title="(that: Erasure.this.global.Symbol)Boolean">isNestedIn</a> <a href="#1046844" title="Erasure.this.global.Symbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
      <span class="delimiter">(</span><a href="#1046829" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1046829" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Erasure.this.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a><span class="delimiter">(</span><a href="#1046828" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">)</span>

  // Ensure every '.' in the generated signature immediately follows
  // a close angle bracket '&gt;'.  Any which do not are replaced with '$'.
  // This arises due to multiply nested classes in the face of the
  // rewriting explained at rebindInnerClass.   This should be done in a
  // more rigorous way up front rather than catching it after the fact,
  // but that will be more involved.
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sig: String)String" id="651400">dotCleanup</a><span class="delimiter">(</span><a title="String" id="1046846">sig</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Char" id="1046848">last</a>: <a href="../../../Char.scala.html#1273" title="Char">Char</a> = <span title="Char('\00')" class="char">'\0'</span>
    <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">sig</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Char =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[String,Char,String])String">map</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[Char,Char] with Serializable" id="1047272" class="delimiter">{</a>
      <span class="keyword">case</span> <a href="../../../Char.scala.html#58041" title="Char" id="1047284" class="char">'.'</a> <span class="keyword">if</span> <a href="#1046848" title="Char">last</a> <a href="../../../Char.scala.html#58048" title="(x: Char)Boolean">!=</a> <span title="Char('&gt;')" class="char">'&gt;'</span> =&gt; <a href="#1046848" title="Char">last</a> = <span title="Char('.')" class="char">'.'</span> ; <span title="Char('$')" class="char">'$'</span>
      <span class="keyword">case</span> ch                 =&gt; <a href="#1046848" title="Char">last</a> = ch ; ch
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** This object is only used for sanity testing when -check:genjvm is set.
   *  In that case we make sure that the erasure of the `normalized` type
   *  is the same as the erased type that's generated. Normalization means
   *  unboxing some primitive types and further simplifications as they are done in jsig.
   */
  <span class="keyword">val</span> <a title="prepareSigMap extends Erasure.this.global.TypeMap" id="651401">prepareSigMap</a> = <a href="#778957" title="Erasure.this.global.TypeMap{def squashBoxed(tp: Erasure.this.global.Type): Erasure.this.global.Type}" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#441429" title="anonymous class $anon extends Erasure.this.global.TypeMap" id="778957">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="778959">squashBoxed</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="778961">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a> = <a href="#778961" title="Erasure.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Erasure.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> t @ RefinedType<a href="#779012" title="Erasure.this.global.Type" id="779014" class="delimiter">(</a>parents, decls<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="778973">parents1</a> = parents <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#778959" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#778973" title="List[Erasure.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> parents<span class="delimiter">)</span> <a href="#778961" title="Erasure.this.global.Type">tp</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#447251" title="(parents: List[Erasure.this.global.Type], decls: Erasure.this.global.Scope)Erasure.this.global.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#778973" title="List[Erasure.this.global.Type]">parents1</a>, decls<span class="delimiter">)</span>
      <span class="keyword">case</span> t @ ExistentialType<a href="#779012" title="Erasure.this.global.Type" id="779016" class="delimiter">(</a>tparams, tpe<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="779003">tpe1</a> = <a href="#778959" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span>tpe<span class="delimiter">)</span>
        <span title="Erasure.this.global.ExistentialType" class="keyword">if</span> <span class="delimiter">(</span><a href="#779003" title="Erasure.this.global.Type">tpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> tpe<span class="delimiter">)</span> t
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#448561" title="(quantified: List[Erasure.this.global.Symbol], underlying: Erasure.this.global.Type)Erasure.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span>tparams, <a href="#779003" title="Erasure.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> t =&gt;
        <a href="#779017" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442828" title="=&gt; Map[Erasure.this.global.Symbol,Erasure.this.global.Symbol]">boxedClass</a> <a href="../../../collection/MapLike.scala.html#78421" title="(key: Erasure.this.global.Symbol)Boolean">contains</a> t.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <a href="#778961" title="Erasure.this.global.Type">tp</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="778960">apply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="778962">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a> = <a href="#778962" title="Erasure.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Erasure.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> tp1 @ TypeBounds<a href="#779187" title="Erasure.this.global.Type" id="779189" class="delimiter">(</a>lo, hi<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="779028">lo1</a> = <a href="#778959" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#778960" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span>lo<span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="779029">hi1</a> = <a href="#778959" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#778960" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span>hi<span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Erasure.this.global.TypeBounds" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#779028" title="Erasure.this.global.Type">lo1</a> <span title="(x$1: AnyRef)Boolean">eq</span> lo<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#779029" title="Erasure.this.global.Type">hi1</a> <span title="(x$1: AnyRef)Boolean">eq</span> hi<span class="delimiter">)</span><span class="delimiter">)</span> tp1
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#448285" title="(lo: Erasure.this.global.Type, hi: Erasure.this.global.Type)Erasure.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#779028" title="Erasure.this.global.Type">lo1</a>, <a href="#779029" title="Erasure.this.global.Type">hi1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> tp1 @ TypeRef<a href="#779187" title="Erasure.this.global.Type" id="779191" class="delimiter">(</a>pre, sym, args<span class="delimiter">)</span> =&gt;
        <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="779042">argApply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="779043">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="779044">tp1</a> = <a href="#778960" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#779043" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#779044" title="Erasure.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a>
          <span class="keyword">else</span> <a href="#778959" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#779044" title="Erasure.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> args.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#459752" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span>tp1<span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><span class="delimiter">(</span>tp1<span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Erasure.this.global.ClassSymbol">AnyClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442184" title="=&gt; Erasure.this.global.ClassSymbol">AnyValClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442283" title="=&gt; Erasure.this.global.ClassSymbol">SingletonClass</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Definitions.scala.html#442623" title="=&gt; Erasure.this.global.ClassSymbol">BoxedUnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Erasure.this.global.definitions.NothingClass.type">NothingClass</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Definitions.scala.html#442188" title="=&gt; Erasure.this.global.Symbol">RuntimeNothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442195" title="Erasure.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Definitions.scala.html#442190" title="=&gt; Erasure.this.global.Symbol">RuntimeNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="779111">pre1</a> = <a href="#778960" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span>pre<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="779112">args1</a> = args <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#779042" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">argApply</a>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#779111" title="Erasure.this.global.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> pre<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#779112" title="List[Erasure.this.global.Type]">args1</a> <span title="(x$1: AnyRef)Boolean">eq</span> args<span class="delimiter">)</span><span class="delimiter">)</span> tp1
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#448096" title="(pre: Erasure.this.global.Type, sym: Erasure.this.global.Symbol, args: List[Erasure.this.global.Type])Erasure.this.global.Type">TypeRef</a><span class="delimiter">(</span><a href="#779111" title="Erasure.this.global.Type">pre1</a>, sym, <a href="#779112" title="List[Erasure.this.global.Type]">args1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> tp1 @ MethodType<a href="#779187" title="Erasure.this.global.Type" id="779193" class="delimiter">(</a>params, restpe<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Symbol]" id="779132">params1</a> = <a href="../../../reflect/internal/Types.scala.html#460845" title="(origSyms: List[Erasure.this.global.Symbol])List[Erasure.this.global.Symbol]">mapOver</a><span class="delimiter">(</span>params<span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="779133">restpe1</a> = <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>restpe.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Erasure.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#778960" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span>restpe<span class="delimiter">)</span>
        <span title="Erasure.this.global.MethodType" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#779132" title="List[Erasure.this.global.Symbol]">params1</a> <span title="(x$1: AnyRef)Boolean">eq</span> params<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#779133" title="Erasure.this.global.Type">restpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> restpe<span class="delimiter">)</span><span class="delimiter">)</span> tp1
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Erasure.this.global.Symbol], resultType: Erasure.this.global.Type)Erasure.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#779132" title="List[Erasure.this.global.Symbol]">params1</a>, <a href="#779133" title="Erasure.this.global.Type">restpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> tp1 @ RefinedType<a href="#779187" title="Erasure.this.global.Type" id="779195" class="delimiter">(</a>parents, decls<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="779155">parents1</a> = parents <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#778960" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a>
        <span title="Erasure.this.global.RefinedType" class="keyword">if</span> <span class="delimiter">(</span><a href="#779155" title="List[Erasure.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> parents<span class="delimiter">)</span> tp1
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#447251" title="(parents: List[Erasure.this.global.Type], decls: Erasure.this.global.Scope)Erasure.this.global.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#779155" title="List[Erasure.this.global.Type]">parents1</a>, decls<span class="delimiter">)</span>
      <span class="keyword">case</span> t @ ExistentialType<a href="#779187" title="Erasure.this.global.Type" id="779197" class="delimiter">(</a>tparams, tpe<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="779175">tpe1</a> = <a href="#778960" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span>tpe<span class="delimiter">)</span>
        <span title="Erasure.this.global.ExistentialType" class="keyword">if</span> <span class="delimiter">(</span><a href="#779175" title="Erasure.this.global.Type">tpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> tpe<span class="delimiter">)</span> t
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#448561" title="(quantified: List[Erasure.this.global.Symbol], underlying: Erasure.this.global.Type)Erasure.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span>tparams, <a href="#779175" title="Erasure.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#779187" title="Erasure.this.global.Type" id="779199">tp1</a>: ClassInfoType =&gt;
        <a href="#779200" title="(x: Erasure.this.global.Type)Erasure.this.global.Type">tp1</a>
      <span class="keyword">case</span> tp1 =&gt;
        <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><a href="#779200" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a>tp1<span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Run the signature parser to catch bogus signatures.
   */
  <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol, sig: String)Boolean" id="651403">isValidSignature</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1047309">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="String" id="1047310">sig</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
    /** Since we're using a sun internal class for signature validation,
     *  we have to allow for it not existing or otherwise malfunctioning:
     *  in which case we treat every signature as valid.  Medium term we
     *  should certainly write independent signature validation.
     */
    <a href="../../reflect/SigParser.scala.html#52552" title="scala.tools.reflect.SigParser.type">SigParser</a>.<a href="../../reflect/SigParser.scala.html#774696" title="=&gt; Boolean">isParserAvailable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#1047309" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="../../reflect/SigParser.scala.html#52552" title="scala.tools.reflect.SigParser.type">SigParser</a> <a href="../../reflect/SigParser.scala.html#774698" title="(s: String)Boolean">verifyMethod</a> <a href="#1047310" title="String">sig</a>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#1047309" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <a href="../../reflect/SigParser.scala.html#52552" title="scala.tools.reflect.SigParser.type">SigParser</a> <a href="../../reflect/SigParser.scala.html#774699" title="(s: String)Boolean">verifyType</a> <a href="#1047310" title="String">sig</a>
      <span class="keyword">else</span> <a href="../../reflect/SigParser.scala.html#52552" title="scala.tools.reflect.SigParser.type">SigParser</a> <a href="../../reflect/SigParser.scala.html#774697" title="(s: String)Boolean">verifyClass</a> <a href="#1047310" title="String">sig</a>
    <span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bounds: Erasure.this.global.TypeBounds)List[Erasure.this.global.Type]" id="651404">hiBounds</a><span class="delimiter">(</span><a title="Erasure.this.global.TypeBounds" id="1047313">bounds</a>: <a href="../../../reflect/internal/Types.scala.html#441273" title="Erasure.this.global.TypeBounds">TypeBounds</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#1047313" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; Erasure.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Erasure.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> RefinedType<a href="#1047375" title="List[Erasure.this.global.Type]" id="1047378" class="delimiter">(</a>parents, _<span class="delimiter">)</span> =&gt; parents <a href="#1047379" title="(x: List[Erasure.this.global.Type])List[Erasure.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1047334" title="Erasure.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Erasure.this.global.Type">normalize</a><span class="delimiter">)</span>
    <span class="keyword">case</span> tp                      =&gt; tp <a href="#1047379" title="(x: List[Erasure.this.global.Type])List[Erasure.this.global.Type]">::</a> <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
  <span class="delimiter">}</span>

  /** The Java signature of type 'info', for symbol sym. The symbol is used to give the right return
   *  type for constructors.
   */
  <span class="keyword">def</span> <a title="(sym0: Erasure.this.global.Symbol, info: Erasure.this.global.Type)Option[String]" id="651405">javaSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="778924">sym0</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Type" id="778925">info</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../Global.scala.html#559730" title="(op: =&gt; Option[String])Option[String]">beforeErasure</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="1047386">isTraitSignature</a> = <a href="#778924" title="Erasure.this.global.Symbol">sym0</a>.<a href="../../../reflect/internal/Symbols.scala.html#443480" title="=&gt; Erasure.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a>

    <span class="keyword">def</span> <a title="(parents: List[Erasure.this.global.Type])String" id="1047387">superSig</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="1047396">parents</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../util/Tracer.scala.html#1046787" title="(name: String, args: =&gt; Any)(body: =&gt; String)String">traceSig</a><span class="delimiter">(</span><span title="String(&quot;superSig&quot;)" class="string">&quot;superSig&quot;</span>, <a href="#1047396" title="List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="1047405">ps</a> = <span class="delimiter">(</span>
        <span title="List[Erasure.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1047386" title="Boolean">isTraitSignature</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // java is unthrilled about seeing interfaces inherit from classes
          <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="1047406">ok</a> = <a href="#1047396" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: Erasure.this.global.Type =&gt; Boolean)List[Erasure.this.global.Type]">filter</a> <span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1047410">p</a> =&gt; <a href="#1047410" title="Erasure.this.global.Type">p</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1047410" title="Erasure.this.global.Type">p</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443599" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span>
          // traits should always list Object.
          <span title="List[Erasure.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1047406" title="List[Erasure.this.global.Type]">ok</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1047406" title="List[Erasure.this.global.Type]">ok</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Erasure.this.global.Type">head</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Erasure.this.global.Type)List[Erasure.this.global.Type]">::</a> <a href="#1047406" title="List[Erasure.this.global.Type]">ok</a>
          <span class="keyword">else</span> <a href="#1047406" title="List[Erasure.this.global.Type]">ok</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#1047396" title="List[Erasure.this.global.Type]">parents</a>
      <span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#1047405" title="List[Erasure.this.global.Type]">ps</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <a href="#1047388" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59191" title="=&gt; String">mkString</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)String" id="1047388">boxedSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1047439">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1047444" title="List[Erasure.this.global.Symbol] @scala.annotation.unchecked.uncheckedVariance" id="1047450">jsig</a><span class="delimiter">(</span><a href="#1047439" title="Erasure.this.global.Type" id="1047447">tp</a>, primitiveOK = <a title="Boolean(false)" id="1047448" class="keyword">false</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(bounds: List[Erasure.this.global.Type])String" id="1047389">boundsSig</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="1047485">bounds</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../util/Tracer.scala.html#1046787" title="(name: String, args: =&gt; Any)(body: =&gt; String)String">traceSig</a><span class="delimiter">(</span><span title="String(&quot;boundsSig&quot;)" class="string">&quot;boundsSig&quot;</span>, <a href="#1047485" title="List[Erasure.this.global.Type]">bounds</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#1047513" title="(x: (List[Erasure.this.global.Type], List[Erasure.this.global.Type]))(List[Erasure.this.global.Type], List[Erasure.this.global.Type])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="List[Erasure.this.global.Type]" id="1047491">isTrait</a>, <a href="../../../Tuple2.scala.html#61508" title="List[Erasure.this.global.Type]" id="1047492">isClass</a><span class="delimiter">)</span> = <a href="#1047485" title="List[Erasure.this.global.Type]">bounds</a> <a href="../../../collection/TraversableLike.scala.html#58988" title="(p: Erasure.this.global.Type =&gt; Boolean)(List[Erasure.this.global.Type], List[Erasure.this.global.Type])">partition</a> <span class="delimiter">(</span><a href="#1047497" title="Erasure.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="String" id="1047493">classPart</a> = <a href="#1047492" title="List[Erasure.this.global.Type]">isClass</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11552" title="String" id="1047527">Nil</a>    =&gt; <a href="#1047528" title="(x: String)String" class="string">&quot;:&quot;</a> // + boxedSig(ObjectClass.tpe)
        <span class="keyword">case</span> x <a href="#1047523" title="String" id="1047526">::</a> _ =&gt; <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <a href="#1047528" title="(x: String)String">+</a> <a href="#1047388" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span>x<span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#1047493" title="String">classPart</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: String)List[String]">::</a> <span class="delimiter">(</span><a href="#1047491" title="List[Erasure.this.global.Type]">isTrait</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <a href="#1047388" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tsym: Erasure.this.global.Symbol)String" id="1047390">paramSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1047591">tsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1047591" title="Erasure.this.global.Symbol">tsym</a>.<a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <a href="#1047389" title="(bounds: List[Erasure.this.global.Type])String">boundsSig</a><span class="delimiter">(</span><a href="#651404" title="(bounds: Erasure.this.global.TypeBounds)List[Erasure.this.global.Type]">hiBounds</a><span class="delimiter">(</span><a href="#1047591" title="Erasure.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Erasure.this.global.TypeBounds">bounds</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tparams: List[Erasure.this.global.Symbol])String" id="1047391">polyParamSig</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="1047608">tparams</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Erasure.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../util/Tracer.scala.html#1046787" title="(name: String, args: =&gt; Any)(body: =&gt; String)String">traceSig</a><span class="delimiter">(</span><span title="String(&quot;polyParamSig&quot;)" class="string">&quot;polyParamSig&quot;</span>, <a href="#1047608" title="List[Erasure.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">(</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1047608" title="List[Erasure.this.global.Symbol]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <a href="#1047608" title="List[Erasure.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],String,List[String]])List[String]">map</a> <a href="#1047390" title="(tsym: Erasure.this.global.Symbol)String">paramSig</a> <a href="../../../collection/TraversableOnce.scala.html#59189" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    // Anything which could conceivably be a module (i.e. isn't known to be
    // a type parameter or similar) must go through here or the signature is
    // likely to end up with Foo&lt;T&gt;.Empty where it needs Foo&lt;T&gt;.Empty$.
    <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)String" id="1047392">fullNameInSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1047667">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="String(&quot;L&quot;)" class="string">&quot;L&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#559739" title="(op: =&gt; Erasure.this.global.Name)Erasure.this.global.Name">beforeIcode</a><span class="delimiter">(</span><a href="#1047667" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443393" title="=&gt; Erasure.this.global.Name">javaBinaryName</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String" id="1047393">jsig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1047440">tp0</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a>, <a title="List[Erasure.this.global.Symbol]" id="1047444">existentiallyBound</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Erasure.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a title="Boolean" id="1047445">toplevel</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="1047446">primitiveOK</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="1047671">tp</a> = <a href="#1047440" title="Erasure.this.global.Type">tp0</a>.<a href="../../../reflect/internal/Types.scala.html#442018" title="=&gt; Erasure.this.global.Type">dealias</a>
      <a href="#1047671" title="Erasure.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#1048031" title="String" id="1048056">st</a>: SubType =&gt;
          <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><a href="#1048057" title="(x: String)String" class="delimiter">(</a>st.<a href="../../../reflect/internal/Types.scala.html#448287" title="=&gt; Erasure.this.global.Type">supertype</a>, <a href="#1047444" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#1047445" title="Boolean">toplevel</a>, <a href="#1047446" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> ExistentialType<a href="#1048031" title="String" id="1048034" class="delimiter">(</a>tparams, tpe<span class="delimiter">)</span> =&gt;
          <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><a href="#1048057" title="(x: String)String" class="delimiter">(</a>tpe, tparams, <a href="#1047445" title="Boolean">toplevel</a>, <a href="#1047446" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> TypeRef<a href="#1048031" title="String" id="1048036" class="delimiter">(</a>pre, sym, args<span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)String" id="1047683">argSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1047684">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1047444" title="List[Erasure.this.global.Symbol]">existentiallyBound</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1047684" title="Erasure.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Erasure.this.global.TypeBounds" id="1047685">bounds</a> = <a href="#1047684" title="Erasure.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Erasure.this.global.TypeBounds">bounds</a>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Erasure.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1047685" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; Erasure.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1047388" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#1047685" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; Erasure.this.global.Type">hi</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1047685" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448297" title="=&gt; Erasure.this.global.Type">lo</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#442195" title="Erasure.this.global.definitions.NullClass.type">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1047388" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#1047685" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448297" title="=&gt; Erasure.this.global.Type">lo</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="String(&quot;*&quot;)" class="string">&quot;*&quot;</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#1047388" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#1047684" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          // If args isEmpty, Array is being used as a type constructor
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> args.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#459752" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#1047671" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Char('[')">ARRAY_TAG</span>.<span title="()String">toString</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span>args <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#1047717" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59191" title="=&gt; String">mkString</a>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#651399" title="(sym: Erasure.this.global.Symbol, initialSymbol: Erasure.this.global.Symbol)Boolean">isTypeParameterInSig</a><span class="delimiter">(</span>sym, <a href="#778924" title="Erasure.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>sym.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a>, <span title="String(&quot;Unexpected alias type: &quot;)" class="string">&quot;Unexpected alias type: &quot;</span> <span title="(x$1: Any)String">+</span> sym<span class="delimiter">)</span>
            <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <span title="Char('T')">TVAR_TAG</span> <span title="(x$1: Any)String">+</span> sym.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Erasure.this.global.Symbol#NameType">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Erasure.this.global.ClassSymbol">AnyClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442184" title="=&gt; Erasure.this.global.ClassSymbol">AnyValClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442283" title="=&gt; Erasure.this.global.ClassSymbol">SingletonClass</a><span class="delimiter">)</span>
            <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span>
            <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442623" title="=&gt; Erasure.this.global.ClassSymbol">BoxedUnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Erasure.this.global.definitions.NothingClass.type">NothingClass</a><span class="delimiter">)</span>
            <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442188" title="=&gt; Erasure.this.global.Symbol">RuntimeNothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442195" title="Erasure.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span>
            <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442190" title="=&gt; Erasure.this.global.Symbol">RuntimeNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span>sym<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1047446" title="Boolean">primitiveOK</a><span class="delimiter">)</span> <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442623" title="=&gt; Erasure.this.global.ClassSymbol">BoxedUnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../../../collection/MapLike.scala.html#78420" title="(key: Erasure.this.global.Symbol)Char">abbrvTag</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>.<span title="()String">toString</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="1047804">preRebound</a> = pre.<a href="../../../reflect/internal/Types.scala.html#442036" title="(clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">baseType</a><span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> // #2585
            <a href="#651400" title="(sig: String)String">dotCleanup</a><span class="delimiter">(</span>
              <span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#651398" title="(tp: Erasure.this.global.Type)Boolean">needsJavaSig</a><span class="delimiter">(</span><a href="#1047804" title="Erasure.this.global.Type">preRebound</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="String" id="1047807">s</a> = <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#1047804" title="Erasure.this.global.Type">preRebound</a>, <a href="#1047444" title="List[Erasure.this.global.Symbol]">existentiallyBound</a><span class="delimiter">)</span>
                  <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1047807" title="String">s</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Char.scala.html#58041" title="(x: Char)Boolean">==</a> <span title="Char('L')" class="char">'L'</span><span class="delimiter">)</span> <a href="#1047807" title="String">s</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#1047807" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> sym.<a href="../../../reflect/internal/Symbols.scala.html#443392" title="=&gt; Erasure.this.global.Name">javaSimpleName</a>
                  <span class="keyword">else</span> <a href="#1047392" title="(sym: Erasure.this.global.Symbol)String">fullNameInSig</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span class="keyword">else</span> <a href="#1047392" title="(sym: Erasure.this.global.Symbol)String">fullNameInSig</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>
              <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span>args.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span>
                <span title="String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span>args <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <a href="#1047683" title="(tp: Erasure.this.global.Type)String">argSig</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59191" title="=&gt; String">mkString</a><span title="(x$1: Any)String">+</span><span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>
              <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                <span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#459757" title="(sym: Erasure.this.global.Symbol)Erasure.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#460860" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#778924" title="Erasure.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1047671" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>, <a href="#1047444" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#1047445" title="Boolean">toplevel</a>, <a href="#1047446" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> PolyType<a href="#1048031" title="String" id="1048038" class="delimiter">(</a>tparams, restpe<span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#559534" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span>tparams.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="1047882">poly</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1047445" title="Boolean">toplevel</a><span class="delimiter">)</span> <a href="#1047391" title="(tparams: List[Erasure.this.global.Symbol])String">polyParamSig</a><span class="delimiter">(</span>tparams<span class="delimiter">)</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
          <a href="#1047882" title="String">poly</a> <span title="(x$1: Any)String">+</span> <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span>restpe<span class="delimiter">)</span>

        <span class="keyword">case</span> MethodType<a href="#1048031" title="String" id="1048040" class="delimiter">(</a>params, restpe<span class="delimiter">)</span> =&gt;
          <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span>params <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Symbol =&gt; Erasure.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],Erasure.this.global.Type,List[Erasure.this.global.Type]])List[Erasure.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1047906" title="Erasure.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#1047955" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59191" title="=&gt; String">mkString</a><span title="(x$1: Any)String">+</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><a href="#1048057" title="(x: String)String">+</a>
          <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span>restpe.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#778924" title="Erasure.this.global.Symbol">sym0</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="Char('V')">VOID_TAG</span>.<span title="()String">toString</span> <span class="keyword">else</span> <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span>restpe<span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> RefinedType<a href="#1048031" title="String" id="1048043" class="delimiter">(</a>parent <a title="String" id="1048045">::</a> _, decls<span class="delimiter">)</span> =&gt;
          <a href="#1047388" title="(tp: Erasure.this.global.Type)String">boxedSig</a><a href="#1048057" title="(x: String)String" class="delimiter">(</a>parent<span class="delimiter">)</span>
        <span class="keyword">case</span> ClassInfoType<a href="#1048031" title="String" id="1048049" class="delimiter">(</a>parents, _, _<span class="delimiter">)</span> =&gt;
          <a href="#1047387" title="(parents: List[Erasure.this.global.Type])String">superSig</a><a href="#1048057" title="(x: String)String" class="delimiter">(</a>parents<span class="delimiter">)</span>
        <span class="keyword">case</span> AnnotatedType<a href="#1048031" title="String" id="1048053" class="delimiter">(</a>_, atp, _<span class="delimiter">)</span> =&gt;
          <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><a href="#1048057" title="(x: String)String" class="delimiter">(</a>atp, <a href="#1047444" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#1047445" title="Boolean">toplevel</a>, <a href="#1047446" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> BoundedWildcardType<a href="#1048031" title="String" id="1048055" class="delimiter">(</a>bounds<span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;something\'s wrong: &quot;)" class="string">&quot;something's wrong: &quot;</span><span title="(x$1: Any)String">+</span><a href="#778924" title="Erasure.this.global.Symbol">sym0</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#778924" title="Erasure.this.global.Symbol">sym0</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot; has a bounded wildcard type&quot;)" class="string">&quot; has a bounded wildcard type&quot;</span><span class="delimiter">)</span>
          <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span>bounds.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; Erasure.this.global.Type">hi</a>, <a href="#1047444" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#1047445" title="Boolean">toplevel</a>, <a href="#1047446" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="1048011">etp</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#459757" title="(sym: Erasure.this.global.Symbol)Erasure.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#460860" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#778924" title="Erasure.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1047671" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048011" title="Erasure.this.global.Type">etp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1047671" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="Erasure.this.UnknownSig" class="keyword">new</span> <a href="#651406" title="Erasure.this.UnknownSig">UnknownSig</a>
          <span class="keyword">else</span> <a href="#1047393" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#1048011" title="Erasure.this.global.Type">etp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Option[String]" id="1047394">result</a> = <a href="../util/Tracer.scala.html#1046787" title="(name: String, args: =&gt; Any)(body: =&gt; Option[String])Option[String]">traceSig</a><span class="delimiter">(</span><span title="String(&quot;javaSig&quot;)" class="string">&quot;javaSig&quot;</span>, <a href="../../../Tuple2.scala.html#63804" title="(_1: Erasure.this.global.Symbol, _2: Erasure.this.global.Type)(Erasure.this.global.Symbol, Erasure.this.global.Type)" class="delimiter">(</a><a href="#778924" title="Erasure.this.global.Symbol">sym0</a>, <a href="#778925" title="Erasure.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#651398" title="(tp: Erasure.this.global.Type)Boolean">needsJavaSig</a><span class="delimiter">(</span><a href="#778925" title="Erasure.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">try</span> <a href="../../../Option.scala.html#64111" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#1047444" title="List[Erasure.this.global.Symbol] @scala.annotation.unchecked.uncheckedVariance" id="1048085">jsig</a><span class="delimiter">(</span><a href="#778925" title="Erasure.this.global.Type" id="1048082">info</a>, toplevel = <a title="Boolean(true)" id="1048083" class="keyword">true</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="None.type" id="1048087">ex</a>: <a href="#651406" title="Erasure.this.UnknownSig">UnknownSig</a> =&gt; <a href="../../../Option.scala.html#2498" title="None.type">None</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="../../../Option.scala.html#2498" title="None.type">None</a>
    <span class="delimiter">}</span>
    // Debugging: immediately verify signatures when tracing.
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#651393" title="=&gt; Boolean">traceSignatures</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#1047394" title="Option[String]">result</a> <a href="../../../Option.scala.html#63839" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="String" id="1048106">sig</a> =&gt;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#651403" title="(sym: Erasure.this.global.Symbol, sig: String)Boolean">isValidSignature</a><span class="delimiter">(</span><a href="#778924" title="Erasure.this.global.Symbol">sym0</a>, <a href="#1048106" title="String">sig</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;**** invalid signature for &quot;)" class="string">&quot;**** invalid signature for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#778924" title="Erasure.this.global.Symbol">sym0</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1048106" title="String">sig</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#1047394" title="Option[String]">result</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class UnknownSig extends Exception" id="651406">UnknownSig</a> <a href="#651406" title="Erasure.this.UnknownSig" class="keyword">extends</a> <a href="../../../package.scala.html#56958" title="Exception">Exception</a>

  /**  The symbol's erased info. This is the type's erasure, except for the following symbols:
   *
   *   - For $asInstanceOf      : [T]T
   *   - For $isInstanceOf      : [T]scala#Boolean
   *   - For class Array        : [T]C where C is the erased classinfo of the Array class.
   *   - For Array[T].&lt;init&gt;    : {scala#Int)Array[T]
   *   - For a type parameter   : A type bounds type consisting of the erasures of its bounds.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol, tp: Erasure.this.global.Type)Erasure.this.global.Type" id="651407">transformInfo</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="667776">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Type" id="667777">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a> =
    <a href="AddInterfaces.scala.html#651370" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">transformMixinInfo</a><span class="delimiter">(</span><a href="#45712" title="scala.tools.nsc.transform.Erasure" class="keyword">super</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#459772" title="(sym: Erasure.this.global.Symbol, tp: Erasure.this.global.Type)Erasure.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#667776" title="Erasure.this.global.Symbol">sym</a>, <a href="#667777" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="Erasure.this.global.TypeMap" id="651408">deconstMap</a> = <a href="#1046414" title="Erasure.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#441429" title="anonymous class $anon extends Erasure.this.global.TypeMap" id="1046414">TypeMap</a> <span class="delimiter">{</span>
    // For some reason classOf[Foo] creates ConstantType(Constant(tpe)) with an actual Type for tpe,
    // which is later translated to a Class. Unfortunately that means we have bugs like the erasure
    // of Class[Foo] and classOf[Bar] not being seen as equivalent, leading to duplicate method
    // generation and failing bytecode. See ticket #4753.
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="1046416">apply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1046417">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a> = <a href="#1046417" title="Erasure.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> PolyType<a href="#1046452" title="Erasure.this.global.Type" id="1046456" class="delimiter">(</a>_, _<span class="delimiter">)</span>                  =&gt; <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><a href="#1046468" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#1046417" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> MethodType<a href="#1046452" title="Erasure.this.global.Type" id="1046460" class="delimiter">(</a>_, _<span class="delimiter">)</span>                =&gt; <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><a href="#1046468" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#1046417" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>     // nullarymethod was eliminated during uncurry
      <span class="keyword">case</span> ConstantType<a href="#1046452" title="Erasure.this.global.Type" id="1046463" class="delimiter">(</a>Constant<span class="delimiter">(</span>_: Type<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#442223" title="=&gt; Erasure.this.global.ClassSymbol">ClassClass</a>.<a href="#1046468" title="(x: Erasure.this.global.Type)Erasure.this.global.Type">tpe</a>  // all classOfs erase to Class
      <span class="keyword">case</span> _                               =&gt; <a href="#1046417" title="Erasure.this.global.Type">tp</a>.<a href="#1046468" title="(x: Erasure.this.global.Type)Erasure.this.global.Type">deconst</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  // Methods on Any/Object which we rewrite here while we still know what
  // is a primitive and what arrived boxed.
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="651411">interceptedMethods</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Erasure.this.global.Symbol*)scala.collection.immutable.Set[Erasure.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442549" title="=&gt; Erasure.this.global.MethodSymbol">Any_##</a>, <a href="../../../reflect/internal/Definitions.scala.html#442567" title="=&gt; Erasure.this.global.MethodSymbol">Object_##</a>, <a href="../../../reflect/internal/Definitions.scala.html#442551" title="=&gt; Erasure.this.global.MethodSymbol">Any_getClass</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#71321" title="(elems: scala.collection.GenTraversableOnce[Erasure.this.global.Symbol])scala.collection.immutable.Set[Erasure.this.global.Symbol]">++</a> <span class="delimiter">(</span>
    // Each value class has its own getClass for ultra-precise class object typing.
    <a href="../../../reflect/internal/Definitions.scala.html#442868" title="=&gt; List[Erasure.this.global.ClassSymbol]">ScalaValueClasses</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.ClassSymbol =&gt; Erasure.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.ClassSymbol],Erasure.this.global.Symbol,List[Erasure.this.global.Symbol]])List[Erasure.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#1048180" title="Erasure.this.global.ClassSymbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Erasure.this.global.Name)Erasure.this.global.Symbol">member</a> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446779" title="=&gt; Erasure.this.global.TermName">getClass_</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

// -------- erasure on trees ------------------------------------------

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: Erasure.this.Context)Erasure.this.Eraser" id="651412">newTyper</a><span class="delimiter">(</span><a title="Erasure.this.Context" id="1048233">context</a>: <a href="../typechecker/Contexts.scala.html#560086" title="Erasure.this.Context">Context</a><span class="delimiter">)</span> = <span title="Erasure.this.Eraser" class="keyword">new</span> <a href="#651419" title="Erasure.this.Eraser">Eraser</a><span class="delimiter">(</span><a href="#1048233" title="Erasure.this.Context">context</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: Erasure.this.global.Symbol)Boolean" id="651413">safeToRemoveUnbox</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1048254">cls</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
    <span class="delimiter">(</span><a href="#1048254" title="Erasure.this.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="Erasure.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#442195" title="Erasure.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../reflect/internal/Definitions.scala.html#442789" title="(sym: Erasure.this.global.Symbol)Boolean">isBoxedValueClass</a><span class="delimiter">(</span><a href="#1048254" title="Erasure.this.global.Symbol">cls</a><span class="delimiter">)</span>

  /** An extractor object for unboxed expressions (maybe subsumed by posterasure?) */
  <span class="keyword">object</span> <a title="Erasure.this.Unboxed.type" id="651414">Unboxed</a> <a href="#651415" title="Erasure.this.Unboxed.type" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Option[Erasure.this.global.Tree]" id="1048262">unapply</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1048264">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[Erasure.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#1048264" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<a href="#1048380" title="Boolean" id="1048383" class="delimiter">(</a>fn, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1048427">List</a><span class="delimiter">(</span>arg<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: Erasure.this.global.Symbol)Boolean">isUnbox</a><span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#651413" title="(cls: Erasure.this.global.Symbol)Boolean">safeToRemoveUnbox</a><span class="delimiter">(</span>arg.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt;
        <a href="../../../Option.scala.html#64111" title="(x: Erasure.this.global.Tree)Some[Erasure.this.global.Tree]">Some</a><a href="#1048412" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]" class="delimiter">(</a>arg<span class="delimiter">)</span>
      <span class="keyword">case</span> Apply<span class="delimiter">(</span>
        TypeApply<a title="Option[Erasure.this.global.Tree]" id="1048393" class="delimiter">(</a>
          cast @ Select<a title="Option[Erasure.this.global.Tree]" id="1048396" class="delimiter">(</a>
            Apply<a title="Option[Erasure.this.global.Tree]" id="1048399" class="delimiter">(</a>
              sel @ Select<a title="Option[Erasure.this.global.Tree]" id="1048401" class="delimiter">(</a>arg, acc<span class="delimiter">)</span>,
              <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1048438">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            asinstanceof<span class="delimiter">)</span>,
          <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1048437">List</a><span class="delimiter">(</span>tpt<span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1048436">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">if</span> cast.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442579" title="=&gt; Erasure.this.global.MethodSymbol">Object_asInstanceOf</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443321" title="=&gt; Boolean">isDerivedValueClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        sel.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443529" title="=&gt; Erasure.this.global.Symbol">firstParamAccessor</a> =&gt;
        <a href="../../../Option.scala.html#64111" title="(x: Erasure.this.global.Tree)Some[Erasure.this.global.Tree]">Some</a><a href="#1048412" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]" class="delimiter">(</a>arg<span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#1048412" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** An extractor object for boxed expressions (maybe subsumed by posterasure?) */
  <span class="keyword">object</span> <a title="Erasure.this.Boxed.type" id="651416">Boxed</a> <a href="#651417" title="Erasure.this.Boxed.type" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Option[Erasure.this.global.Tree]" id="1048453">unapply</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1048455">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[Erasure.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#1048455" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<a href="#1048524" title="Option[Erasure.this.global.Tree]" id="1048528" class="delimiter">(</a>Select<a title="Option[Erasure.this.global.Tree]" id="1048532" class="delimiter">(</a>New<a title="Option[Erasure.this.global.Tree]" id="1048534" class="delimiter">(</a>tpt<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="Option[Erasure.this.global.Tree]" id="1048544">CONSTRUCTOR</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1048556">List</a><span class="delimiter">(</span>arg<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443321" title="=&gt; Boolean">isDerivedValueClass</a><span class="delimiter">)</span> =&gt;
        <a href="../../../Option.scala.html#64111" title="(x: Erasure.this.global.Tree)Some[Erasure.this.global.Tree]">Some</a><a href="#1048545" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]" class="delimiter">(</a>arg<span class="delimiter">)</span>
      <span class="keyword">case</span> LabelDef<a href="#1048524" title="Option[Erasure.this.global.Tree]" id="1048542" class="delimiter">(</a>name, params, <a href="#1048453" title="Option[Erasure.this.global.Tree]" id="1048558">Boxed</a><span class="delimiter">(</span>rhs<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../../../Option.scala.html#64111" title="(x: Erasure.this.global.LabelDef)Some[Erasure.this.global.LabelDef]">Some</a><a href="#1048545" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]" class="delimiter">(</a><a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428290" title="(tree: Erasure.this.global.Tree, name: Erasure.this.global.Name, params: List[Erasure.this.global.Ident], rhs: Erasure.this.global.Tree)Erasure.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#1048455" title="Erasure.this.global.Tree">tree</a>, name, params, rhs<span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)Erasure.this.global.LabelDef">setType</a> rhs.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#1048545" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ComputeBridges extends Object" id="651418">ComputeBridges</a><a href="#651418" title="Erasure.this.ComputeBridges" class="delimiter">(</a><a title="Erasure.this.global.Symbol" id="1048660">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../Global.scala.html#559697" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561333" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>, <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="1048570">toBeRemoved</a>  = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Erasure.this.global.Symbol*)scala.collection.immutable.Set[Erasure.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="1048572">site</a>         = <a href="#1048660" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Erasure.this.global.Type">thisType</a>
    <span class="keyword">val</span> <a title="Erasure.this.global.Scope" id="1048574">bridgesScope</a> = <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; Erasure.this.global.Scope">newScope</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Erasure.this.global.Symbol,Erasure.this.global.Symbol]" id="1048576">bridgeTarget</a> = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#61654" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (Erasure.this.global.Symbol, Erasure.this.global.Symbol)*)scala.collection.mutable.HashMap[Erasure.this.global.Symbol,Erasure.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="List[Erasure.this.global.Tree]" id="1048579">bridges</a>      = List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="opc extends Erasure.this.global.overridingPairs.Cursor" id="1048581">opc</a> = <a href="../Global.scala.html#559733" title="(op: =&gt; Erasure.this.global.overridingPairs.Cursor)Erasure.this.global.overridingPairs.Cursor">beforeExplicitOuter</a> <span class="delimiter">{</span>
      <a href="#1048599" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">new</a> <a href="../Global.scala.html#559506" title="anonymous class $anon extends Erasure.this.global.overridingPairs.Cursor" id="1048599">overridingPairs</a>.<a href="OverridingPairs.scala.html#648359" title="Erasure.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#1048660" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Erasure.this.global.Type]" id="1048637">parents</a>              = <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Erasure.this.global.Type*)List[Erasure.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1048660" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441996" title="=&gt; Erasure.this.global.Type">firstParent</a><span class="delimiter">)</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="1048638">exclude</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1048646">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1048646" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1048646" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1048599" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">super</a>.<a href="OverridingPairs.scala.html#1048605" title="(sym: Erasure.this.global.overridingPairs.global.Symbol)Boolean">exclude</a><span class="delimiter">(</span><a href="#1048646" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" id="1048583">compute</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1222" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span>, immutable.Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1048581" title="=&gt; Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048634" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#1048669" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.global.Symbol" id="1048670">member</a> = <a href="#1048581" title="=&gt; Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048628" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>
        <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.global.Symbol" id="1048671">other</a>  = <a href="#1048581" title="=&gt; Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048631" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>
        //println(&quot;bridge? &quot; + member + &quot;:&quot; + member.tpe + member.locationString + &quot; to &quot; + other + &quot;:&quot; + other.tpe + other.locationString)//DEBUG
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559733" title="(op: =&gt; Boolean)Boolean">beforeExplicitOuter</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1048670" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1048584" title="(member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol)Unit">checkPair</a><span class="delimiter">(</span><a href="#1048670" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>, <a href="#1048671" title="Erasure.this.global.overridingPairs.global.Symbol">other</a><span class="delimiter">)</span>

        <a href="#1048581" title="=&gt; Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048635" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="../../../Tuple2.scala.html#63804" title="(_1: List[Erasure.this.global.Tree], _2: scala.collection.immutable.Set[Erasure.this.global.Symbol])(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a><a href="#1048579" title="=&gt; List[Erasure.this.global.Tree]">bridges</a>, <a href="#1048570" title="=&gt; scala.collection.immutable.Set[Erasure.this.global.Symbol]">toBeRemoved</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol)Unit" id="1048584">checkPair</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1048675">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="1048676">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="1048683">otpe</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#459757" title="(sym: Erasure.this.global.Symbol)Erasure.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#460860" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#1048660" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1048676" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="1048684">bridgeNeeded</a> = <a href="../Global.scala.html#559700" title="(op: =&gt; Boolean)Boolean">afterErasure</a> <span class="delimiter">(</span>
        <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1048676" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#1048675" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#460839" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">deconstMap</a><span class="delimiter">(</span><a href="#1048676" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="../../../reflect/internal/Types.scala.html#460839" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">deconstMap</a><span class="delimiter">(</span><a href="#1048675" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">{</span> <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="1048736">e</a> = <a href="#1048574" title="=&gt; Erasure.this.global.Scope">bridgesScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447342" title="(name: Erasure.this.global.Name)Erasure.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#1048675" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; member.NameType">name</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1048736" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#1048736" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#1048683" title="Erasure.this.global.Type">otpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../collection/mutable/HashMap.scala.html#79206" title="(key: Erasure.this.global.Symbol)Erasure.this.global.Symbol">bridgeTarget</a><span class="delimiter">(</span><a href="#1048736" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1048675" title="Erasure.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1048736" title="Erasure.this.global.ScopeEntry">e</a> = <a href="#1048574" title="=&gt; Erasure.this.global.Scope">bridgesScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447343" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#1048736" title="Erasure.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#1048736" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1048684" title="Boolean">bridgeNeeded</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="Long" id="1048685">newFlags</a> = <span class="delimiter">(</span><a href="#1048675" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443310" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#58295" title="(x: Int)Long">|</a> <span title="Int(67108864)">BRIDGE</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#58301" title="(x: Long)Long">&amp;</a> <a href="../../../Long.scala.html#58240" title="=&gt; Long">~</a><span class="delimiter">(</span>ACCESSOR | DEFERRED <span title="Long(2281701392L)">|</span> LAZY <a href="../../../Long.scala.html#58296" title="(x: Long)Long">|</a> <a href="../../../reflect/internal/Flags.scala.html#440932" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="other.TypeOfClonedSymbol" id="1048686">bridge</a>   = <a href="#1048676" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443479" title="(owner: Erasure.this.global.Symbol, newFlags: Long)other.TypeOfClonedSymbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#1048660" title="Erasure.this.global.Symbol">owner</a>, <a href="#1048685" title="Long">newFlags</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443168" title="(pos: scala.tools.nsc.util.Position)other.TypeOfClonedSymbol">setPos</a> <a href="#1048660" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Erasure.this.global.Position">pos</a>

      <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;generating bridge from %s (%s): %s to %s: %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#1048676" title="Erasure.this.global.Symbol">other</a>, <a href="../../../reflect/internal/Flags.scala.html#441022" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#1048685" title="Long">newFlags</a><span class="delimiter">)</span>,
        <a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">otpe</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <a href="#1048676" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a>, <a href="#1048675" title="Erasure.this.global.Symbol">member</a>,
        <a href="../../../reflect/internal/transform/Erasure.scala.html#459757" title="(sym: Erasure.this.global.Symbol)Erasure.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#460860" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#1048660" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span><a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</a><a href="#1048675" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <a href="#1048675" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      // the parameter symbols need to have the new owner
      <a href="#1048686" title="other.TypeOfClonedSymbol">bridge</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Erasure.this.global.Type)bridge.type">setInfo</a> <span class="delimiter">(</span><a href="#1048683" title="Erasure.this.global.Type">otpe</a> <a href="../../../reflect/internal/Types.scala.html#442070" title="(owner: Erasure.this.global.Symbol)Erasure.this.global.Type">cloneInfo</a> <a href="#1048686" title="other.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span>
      <a href="../../../collection/mutable/HashMap.scala.html#79209" title="(key: Erasure.this.global.Symbol, value: Erasure.this.global.Symbol)Unit">bridgeTarget</a><span class="delimiter">(</span><a href="#1048686" title="other.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span> = <a href="#1048675" title="Erasure.this.global.Symbol">member</a>
      <a href="../Global.scala.html#559700" title="(op: =&gt; other.TypeOfClonedSymbol)other.TypeOfClonedSymbol">afterErasure</a><span class="delimiter">(</span><a href="#1048660" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Erasure.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: other.TypeOfClonedSymbol)other.TypeOfClonedSymbol">enter</a> <a href="#1048686" title="other.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048676" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1048660" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#559700" title="(op: =&gt; Unit)Unit">afterErasure</a><span class="delimiter">(</span><a href="#1048660" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Erasure.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#447339" title="(sym: Erasure.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#1048676" title="Erasure.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1048570" title="(x$1: scala.collection.immutable.Set[Erasure.this.global.Symbol])Unit">toBeRemoved</a> <a href="../../../collection/SetLike.scala.html#71319" title="(elem: Erasure.this.global.Symbol)scala.collection.immutable.Set[Erasure.this.global.Symbol]">+=</a> <a href="#1048676" title="Erasure.this.global.Symbol">other</a>
      <span class="delimiter">}</span>
      <a href="#1048574" title="=&gt; Erasure.this.global.Scope">bridgesScope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: other.TypeOfClonedSymbol)other.TypeOfClonedSymbol">enter</a> <a href="#1048686" title="other.TypeOfClonedSymbol">bridge</a>
      <a href="#1048579" title="(x$1: List[Erasure.this.global.Tree])Unit">bridges</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Erasure.this.global.Tree)List[Erasure.this.global.Tree]">::=</a> <a href="#1048585" title="(bridge: Erasure.this.global.Symbol, member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol)Erasure.this.global.DefDef">makeBridgeDefDef</a><span class="delimiter">(</span><a href="#1048686" title="other.TypeOfClonedSymbol">bridge</a>, <a href="#1048675" title="Erasure.this.global.Symbol">member</a>, <a href="#1048676" title="Erasure.this.global.Symbol">other</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(bridge: Erasure.this.global.Symbol, member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol)Erasure.this.global.DefDef" id="1048585">makeBridgeDefDef</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1048920">bridge</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="1048921">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="1048922">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../Global.scala.html#559700" title="(op: =&gt; Erasure.this.global.DefDef)Erasure.this.global.DefDef">afterErasure</a> <span class="delimiter">{</span>
      // type checking ensures we can safely call `other`, but unless `member.tpe &lt;:&lt; other.tpe`,
      // calling `member` is not guaranteed to succeed in general, there's
      // nothing we can do about this, except for an unapply: when this subtype test fails,
      // return None without calling `member`
      //
      // TODO: should we do this for user-defined unapplies as well?
      // does the first argument list have exactly one argument -- for user-defined unapplies we can't be sure
      <span class="keyword">def</span> <a title="(bridgingCall: Erasure.this.global.Tree)Erasure.this.global.Tree" id="1048925">maybeWrap</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1048927">bridgingCall</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="1048928">canReturnNone</a> = <span class="delimiter">(</span> // can't statically know which member is going to be selected, so don't let this depend on member.isSynthetic
             <span class="delimiter">(</span><a href="#1048921" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; member.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446711" title="=&gt; Erasure.this.global.nme.NameType">unapply</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1048921" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; member.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446713" title="=&gt; Erasure.this.global.nme.NameType">unapplySeq</a><span class="delimiter">)</span>
          <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559700" title="(op: =&gt; Boolean)Boolean">afterErasure</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#1048921" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1048922" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> // no static guarantees (TODO: is the subtype test ever true?)

        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048928" title="Boolean">canReturnNone</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#560223" title="Erasure.this.CODE.type">CODE</a>._
          <span class="keyword">val</span> <a title="Erasure.this.global.gen.global.Tree" id="1048947">typeTest</a> = <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500050" title="(value: Erasure.this.global.gen.global.Tree, tpe: Erasure.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)Erasure.this.global.gen.global.Tree">mkIsInstanceOf</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#653643" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#1048920" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#443535" title="=&gt; Erasure.this.global.Symbol">firstParam</a><span class="delimiter">)</span>, <a href="#1048921" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[Erasure.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Erasure.this.global.Symbol">head</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/TreeDSL.scala.html#653636" title="(tree: Erasure.this.global.Tree)Erasure.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#1048947" title="Erasure.this.global.gen.global.Tree">typeTest</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#691660" title="(x: Erasure.this.global.Tree)Erasure.this.CODE.IfStart">THEN</a> <a href="#1048927" title="Erasure.this.global.Tree">bridgingCall</a> <a href="../ast/TreeDSL.scala.html#691661" title="(elsep: Erasure.this.global.Tree)Erasure.this.global.If">ELSE</a> <a href="../ast/TreeDSL.scala.html#653643" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442447" title="=&gt; Erasure.this.global.Symbol">NoneModule</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#1048927" title="Erasure.this.global.Tree">bridgingCall</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1048926">rhs</a> = <a href="#1048921" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> MethodType<a href="#1049110" title="Erasure.this.global.Tree" id="1049114" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#11552" title="Erasure.this.global.Tree" id="1049118">Nil</a>, ConstantType<a title="Erasure.this.global.Tree" id="1049117" class="delimiter">(</a>c<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#432792" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><a href="#1049119" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a>c<span class="delimiter">)</span>
        <span class="keyword">case</span> _                                =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1048977">sel</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>    = <a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441838" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Tree">This</a><span class="delimiter">(</span><a href="#1048660" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#1048921" title="Erasure.this.global.Symbol">member</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1048978">bridgingCall</a> = <span class="delimiter">(</span><a href="#1048977" title="Erasure.this.global.Tree">sel</a> <a href="../../../collection/TraversableOnce.scala.html#59107" title="(z: Erasure.this.global.Tree)(op: (Erasure.this.global.Tree, List[Erasure.this.global.Symbol]) =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">/:</a> <a href="#1048920" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#443448" title="=&gt; List[List[Erasure.this.global.Symbol]]">paramss</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1049029">fun</a>, <a title="List[Erasure.this.global.Symbol]" id="1049030">vparams</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1049029" title="Erasure.this.global.Tree">fun</a>, <a href="#1049030" title="List[Erasure.this.global.Symbol]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Symbol =&gt; Erasure.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],Erasure.this.global.Ident,List[Erasure.this.global.Ident]])List[Erasure.this.global.Ident]">map</a> <a href="../../../reflect/internal/Trees.scala.html#441842" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="#1048925" title="(bridgingCall: Erasure.this.global.Tree)Erasure.this.global.Tree">maybeWrap</a><span class="delimiter">(</span><a href="#1048978" title="Erasure.this.global.Tree">bridgingCall</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.DefDef)Erasure.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#1048920" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441824" title="(sym: Erasure.this.global.Symbol, rhs: Erasure.this.global.Tree)Erasure.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1048920" title="Erasure.this.global.Symbol">bridge</a>, <a href="#1048926" title="Erasure.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** The modifier typer which retypes with erased types. */
  <span class="keyword">class</span> <a title="class Eraser extends Erasure.this.Typer" id="651419">Eraser</a><a href="#651419" title="Erasure.this.Eraser" class="delimiter">(</a><a title="Erasure.this.Context" id="1048253">_context</a>: <a href="../typechecker/Contexts.scala.html#560086" title="Erasure.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../typechecker/Typers.scala.html#560207" title="Erasure.this.Typer">Typer</a><span class="delimiter">(</span><a href="#1048253" title="Erasure.this.Context">_context</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Erasure.this.global.Type)Boolean" id="1048240">isPrimitiveValueType</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1049192">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#1049192" title="Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Erasure.this.global.Type)Boolean" id="1048241">isErasedValueType</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1049193">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1049193" title="Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441359" title="Erasure.this.global.ErasedValueType">ErasedValueType</a><span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Erasure.this.global.Type, other: Erasure.this.global.Type)Boolean" id="1048242">isDifferentErasedValueType</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1049194">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a>, <a title="Erasure.this.global.Type" id="1049195">other</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="#1048241" title="(tpe: Erasure.this.global.Type)Boolean">isErasedValueType</a><span class="delimiter">(</span><a href="#1049194" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1049194" title="Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1049195" title="Erasure.this.global.Type">other</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="1048243">isPrimitiveValueMember</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1049196">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#1049196" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#1049196" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, target: =&gt; String)Erasure.this.global.Tree" id="1048244">box</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1049201">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>, <a title="=&gt; String" id="1049202">target</a>: =&gt; String<span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1049203">result</a> = <a href="#1048245" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">box1</a><span class="delimiter">(</span><a href="#1049201" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;boxing &quot;)" class="string">&quot;boxing &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049201" title="Erasure.this.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1049201" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049202" title="=&gt; String">target</a><span title="(x$1: Any)String">+</span><span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049203" title="Erasure.this.global.Tree">result</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1049203" title="Erasure.this.global.Tree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <a href="#1049203" title="Erasure.this.global.Tree">result</a>
    <span class="delimiter">}</span>

    /** Box `tree` of unboxed type */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="1048245">box1</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1049204">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <a href="#1049204" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> LabelDef<a href="#1049395" title="Erasure.this.global.Tree" id="1049400" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.LabelDef" id="1049210">ldef</a> = <a href="../../../reflect/api/Trees.scala.html#23759" title="(ldef: Erasure.this.global.Tree)(applyToRhs: Erasure.this.global.Tree =&gt; Erasure.this.global.Tree)Erasure.this.global.LabelDef">deriveLabelDef</a><span class="delimiter">(</span><a href="#1049204" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1048245" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">box1</a><span class="delimiter">)</span>
        <a href="#1049210" title="Erasure.this.global.LabelDef">ldef</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)ldef.type">setType</a> <a href="#1049210" title="Erasure.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427729" title="=&gt; Erasure.this.global.Tree">rhs</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="keyword">case</span> _ =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1049216">tree1</a> = <a href="#1049204" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ErasedValueType<a href="#1049380" title="Erasure.this.global.Tree" id="1049382" class="delimiter">(</a>clazz<span class="delimiter">)</span> =&gt;
            <a href="#1049383" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="#1048262" title="Option[Erasure.this.global.Tree]" id="1049244">Unboxed</a><span class="delimiter">(</span>arg<span class="delimiter">)</span> <span class="keyword">if</span> arg.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> clazz =&gt;
                <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;shortcircuiting unbox -&gt; box &quot;)" class="string">&quot;shortcircuiting unbox -&gt; box &quot;</span><span title="(x$1: Any)String">+</span>arg<span class="delimiter">)</span>; arg
              <span class="keyword">case</span> _ =&gt;
                <a href="../../../reflect/internal/Trees.scala.html#441836" title="(sym: Erasure.this.global.Symbol, args: Erasure.this.global.Tree*)Erasure.this.global.Tree">New</a><a href="#1049240" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a>clazz, <a href="#1048248" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#1049204" title="Erasure.this.global.Tree">tree</a>, <a href="../../../reflect/internal/transform/Erasure.scala.html#459754" title="(clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">underlyingOfValueClass</a><span class="delimiter">(</span>clazz<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#1049204" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="#1049383" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">typeSymbol</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="Erasure.this.global.gen.global.Tree" id="1049365">UnitClass</a>  =&gt;
            <a href="#1049367" title="(x: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Erasure.this.global.treeInfo.type">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#501470" title="(tree: Erasure.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a> <a href="#1049204" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#653643" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442627" title="=&gt; Erasure.this.global.Symbol">BoxedUnit_UNIT</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#653638" title="(xs: Erasure.this.global.Tree*)Erasure.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#1049204" title="Erasure.this.global.Tree">tree</a>, <a href="../ast/TreeDSL.scala.html#653643" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442627" title="=&gt; Erasure.this.global.Symbol">BoxedUnit_UNIT</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Erasure.this.global.gen.global.Tree" id="1049366">NothingClass</a> =&gt; <a href="#1049367" title="(x: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">tree</a> // a non-terminating expression doesn't need boxing
          <span class="keyword">case</span> x          =&gt;
            <a href="../Global.scala.html#559534" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span>x <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span>
            <a href="#1049204" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              /** Can't always remove a Box(Unbox(x)) combination because the process of boxing x
               *  may lead to throwing an exception.
               *
               *  This is important for specialization: calls to the super constructor should not box/unbox specialized
               *  fields (see TupleX). (ID)
               */
              <span class="keyword">case</span> Apply<a href="#1049337" title="Erasure.this.global.Tree" id="1049340" class="delimiter">(</a>boxFun, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1049355">List</a><span class="delimiter">(</span>arg<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: Erasure.this.global.Symbol)Boolean">isUnbox</a><span class="delimiter">(</span><a href="#1049204" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#651413" title="(cls: Erasure.this.global.Symbol)Boolean">safeToRemoveUnbox</a><span class="delimiter">(</span>arg.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt;
                <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;boxing an unbox: &quot;)" class="string">&quot;boxing an unbox: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1049204" title="Erasure.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1049204" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and replying with &quot;)" class="string">&quot; and replying with &quot;</span> <span title="(x$1: Any)String">+</span> arg <span title="(x$1: Any)String">+</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span> <span title="(x$1: Any)String">+</span> arg.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
                arg
              <span class="keyword">case</span> _ =&gt;
                <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#653643" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#653647" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Erasure.this.global.Tree)Erasure.this.CODE.TreeMethods" class="delimiter">(</a><a href="../../../collection/MapLike.scala.html#78420" title="(key: Erasure.this.global.Symbol)Erasure.this.global.MethodSymbol">boxMethod</a><span class="delimiter">(</span>x<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#691701" title="(params: Erasure.this.global.Tree*)Erasure.this.global.Apply">APPLY</a> <a href="#1049204" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Erasure.this.global.Apply">setPos</a> <span class="delimiter">(</span><a href="#1049204" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <a href="#1049344" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../typechecker/Typers.scala.html#560769" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1049204" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1049216" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="1048246">unbox</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1049406">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="1049407">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1049408">result</a> = <a href="#1048247" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox1</a><span class="delimiter">(</span><a href="#1049406" title="Erasure.this.global.Tree">tree</a>, <a href="#1049407" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;unboxing &quot;)" class="string">&quot;unboxing &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049406" title="Erasure.this.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1049406" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049407" title="Erasure.this.global.Type">pt</a><span title="(x$1: Any)String">+</span><span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049408" title="Erasure.this.global.Tree">result</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1049408" title="Erasure.this.global.Tree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <a href="#1049408" title="Erasure.this.global.Tree">result</a>
    <span class="delimiter">}</span>

    /** Unbox `tree` of boxed type to expected type `pt`.
     *
     *  @param tree the given tree
     *  @param pt   the expected type.
     *  @return     the unboxed tree
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="1048247">unbox1</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1049409">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="1049410">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <a href="#1049409" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
/*
      case Boxed(unboxed) =&gt;
        println(&quot;unbox shorten: &quot;+tree) // this never seems to kick in during build and test; therefore disabled.
        adaptToType(unboxed, pt)
 */
      <span class="keyword">case</span> LabelDef<a href="#1049556" title="Erasure.this.global.Tree" id="1049561" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.LabelDef" id="1049416">ldef</a> = <a href="../../../reflect/api/Trees.scala.html#23759" title="(ldef: Erasure.this.global.Tree)(applyToRhs: Erasure.this.global.Tree =&gt; Erasure.this.global.Tree)Erasure.this.global.LabelDef">deriveLabelDef</a><span class="delimiter">(</span><a href="#1049409" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1048246" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#1049418" title="Erasure.this.global.Tree">_</a>, <a href="#1049410" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1049416" title="Erasure.this.global.LabelDef">ldef</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)ldef.type">setType</a> <a href="#1049416" title="Erasure.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427729" title="=&gt; Erasure.this.global.Tree">rhs</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="keyword">case</span> _ =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1049420">tree1</a> = <a href="#1049410" title="Erasure.this.global.Type">pt</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ErasedValueType<a href="#1049543" title="Erasure.this.global.Tree" id="1049545" class="delimiter">(</a>clazz<span class="delimiter">)</span> =&gt;
            <a href="#1049546" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="#1048453" title="Option[Erasure.this.global.Tree]" id="1049476">Boxed</a><span class="delimiter">(</span>arg<span class="delimiter">)</span> <span class="keyword">if</span> arg.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441359" title="Erasure.this.global.ErasedValueType">ErasedValueType</a><span class="delimiter">]</span> =&gt;
                <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;shortcircuiting box -&gt; unbox &quot;)" class="string">&quot;shortcircuiting box -&gt; unbox &quot;</span><span title="(x$1: Any)String">+</span>arg<span class="delimiter">)</span>
                arg
              <span class="keyword">case</span> _ =&gt;
                <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;not boxed: &quot;)" class="string">&quot;not boxed: &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049409" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1049425">tree0</a> = <a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#1049409" title="Erasure.this.global.Tree">tree</a>, clazz.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
                <a href="#1048248" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1049425" title="Erasure.this.global.Tree">tree0</a>, clazz.<a href="../../../reflect/internal/Symbols.scala.html#443529" title="=&gt; Erasure.this.global.Symbol">firstParamAccessor</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1049410" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#1049410" title="Erasure.this.global.Type">pt</a>.<a href="#1049546" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">typeSymbol</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="Erasure.this.global.Tree" id="1049533">UnitClass</a>  =&gt;
            <a href="#1049534" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Erasure.this.global.treeInfo.type">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#501470" title="(tree: Erasure.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a> <a href="#1049409" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#653592" title="=&gt; Erasure.this.global.Literal">UNIT</a>
            <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#653638" title="(xs: Erasure.this.global.Tree*)Erasure.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#1049409" title="Erasure.this.global.Tree">tree</a>, <a href="../ast/TreeDSL.scala.html#653592" title="=&gt; Erasure.this.global.Literal">UNIT</a><span class="delimiter">)</span>
          <span class="keyword">case</span> x          =&gt;
            <a href="../Global.scala.html#559534" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span>x <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span>
            // don't `setType pt` the Apply tree, as the Apply's fun won't be typechecked if the Apply tree already has a type
            <a href="../../../reflect/internal/Trees.scala.html#441833" title="(sym: Erasure.this.global.Symbol, args: Erasure.this.global.Tree*)Erasure.this.global.Tree">Apply</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#78420" title="(key: Erasure.this.global.Symbol)Erasure.this.global.MethodSymbol">unboxMethod</a><span class="delimiter">(</span><a href="#1049410" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>, <a href="#1049409" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../typechecker/Typers.scala.html#560769" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1049409" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1049420" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Generate a synthetic cast operation from tree.tpe to pt.
     *  @pre pt eq pt.normalize
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="1048248">cast</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1049234">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="1049235">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049235" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // See SI-4731 for one example of how this occurs.
        <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Attempted to cast to Unit: &quot;)" class="string">&quot;Attempted to cast to Unit: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1049234" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#1049234" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; tree.type">duplicate</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)tree.type">setType</a> <a href="#1049235" title="Erasure.this.global.Type">pt</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049234" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1049234" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1049235" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // See SI-2386 for one example of when this might be necessary.
        <span class="keyword">val</span> <a title="Boolean" id="1049589">needsExtraCast</a> = <a href="../../../reflect/internal/Definitions.scala.html#442788" title="(tp: Erasure.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#1049234" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Erasure.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Erasure.this.global.Type">head</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#442788" title="(tp: Erasure.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#1049235" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Erasure.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Erasure.this.global.Type">head</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.gen.global.Tree" id="1049590">tree1</a> = <span title="Erasure.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049589" title="Boolean">needsExtraCast</a><span class="delimiter">)</span> <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561778" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446697" title="=&gt; Erasure.this.global.nme.NameType">toObjectArray</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1049234" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1049234" title="Erasure.this.global.Tree">tree</a>
        <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../Global.scala.html#575499" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span><a href="#1049590" title="Erasure.this.global.gen.global.Tree">tree1</a>, <a href="#1049235" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../Global.scala.html#575499" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span><a href="#1049234" title="Erasure.this.global.Tree">tree</a>, <a href="#1049235" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Adapt `tree` to expected type `pt`.
     *
     *  @param tree the given tree
     *  @param pt   the expected type
     *  @return     the adapted tree
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="1048249">adaptToType</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1049426">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="1049427">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1049427" title="Erasure.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Erasure.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;adapting &quot;)" class="string">&quot;adapting &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1049426" title="Erasure.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; : &quot;)" class="string">&quot; : &quot;</span> <span title="(x$1: Any)String">+</span>  <a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Erasure.this.global.Type]">parents</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>//debug
      <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#1049426" title="Erasure.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048242" title="(tpe: Erasure.this.global.Type, other: Erasure.this.global.Type)Boolean">isDifferentErasedValueType</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#1048244" title="(tree: Erasure.this.global.Tree, target: =&gt; String)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>, <a href="#1049427" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442076" title="()String">toString</a><span class="delimiter">)</span>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048242" title="(tpe: Erasure.this.global.Type, other: Erasure.this.global.Type)Boolean">isDifferentErasedValueType</a><span class="delimiter">(</span><a href="#1049427" title="Erasure.this.global.Type">pt</a>, <a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#1048246" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048240" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1048240" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#1048244" title="(tree: Erasure.this.global.Tree, target: =&gt; String)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>, <a href="#1049427" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442076" title="()String">toString</a><span class="delimiter">)</span>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441313" title="Erasure.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[Erasure.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443349" title="=&gt; Boolean">isStable</a>, <span title="String(&quot;adapt &quot;)" class="string">&quot;adapt &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)Erasure.this.global.Apply">setType</a> <a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Erasure.this.global.Type">resultType</a>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
//      } else if (pt &lt;:&lt; tree.tpe)
//        cast(tree, pt)
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048240" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1048240" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#1048246" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#1048248" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#1049426" title="Erasure.this.global.Tree">tree</a>, <a href="#1049427" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**  Replace member references as follows:
     *
     *   - `x == y` for == in class Any becomes `x equals y` with equals in class Object.
     *   - `x != y` for != in class Any becomes `!(x equals y)` with equals in class Object.
     *   - x.asInstanceOf[T] becomes x.$asInstanceOf[T]
     *   - x.isInstanceOf[T] becomes x.$isInstanceOf[T]
     *   - x.isInstanceOf[ErasedValueType(clazz)] becomes x.isInstanceOf[clazz.tpe]
     *   - x.m where m is some other member of Any becomes x.m where m is a member of class Object.
     *   - x.m where x has unboxed value type T and m is not a directly translated member of T becomes T.box(x).m
     *   - x.m where x is a reference type and m is a directly translated member of value type T becomes x.TValue().m
     *   - All forms of x.m where x is a boxed type and m is a member of an unboxed class become
     *     x.m where m is the corresponding member of the boxed class.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="1048250">adaptMember</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1049658">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      //Console.println(&quot;adaptMember: &quot; + tree);
      <span class="keyword">val</span> <a title="Int" id="1049659">x</a> = <span class="int">2</span> <span title="Int(4)">+</span> <span class="int">2</span>
      <a href="#1049658" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Apply<a href="#1049992" title="Boolean" id="1049996" class="delimiter">(</a>TypeApply<a title="Boolean" id="1049999" class="delimiter">(</a>sel @ Select<a title="Boolean" id="1050001" class="delimiter">(</a>qual, name<span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1050042">List</a><span class="delimiter">(</span>targ<span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1050041">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442555" title="=&gt; Erasure.this.global.MethodSymbol">Any_asInstanceOf</a> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1049707">qual1</a> = <a href="../typechecker/Typers.scala.html#560771" title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span>qual, <span title="Int(0)">NOmode</span>, <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> // need to have an expected type, see #3037
          <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="1049708">qualClass</a> = <a href="#1049707" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
/*
          val targClass = targ.tpe.typeSymbol

          if (isNumericValueClass(qualClass) &amp;&amp; isNumericValueClass(targClass))
            // convert numeric type casts
            atPos(tree.pos)(Apply(Select(qual1, &quot;to&quot; + targClass.name), List()))
          else
*/
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048240" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span>targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1048241" title="(tpe: Erasure.this.global.Type)Boolean">isErasedValueType</a><span class="delimiter">(</span>targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1048246" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#1049707" title="Erasure.this.global.Tree">qual1</a>, targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1049658" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> Apply<span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>sel @ Select<span class="delimiter">(</span>qual, name<span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1050052">List</a><span class="delimiter">(</span>targ<span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1050051">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442553" title="=&gt; Erasure.this.global.MethodSymbol">Any_isInstanceOf</a> =&gt;
          targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> ErasedValueType<a href="#1049777" title="Any" id="1049779" class="delimiter">(</a>clazz<span class="delimiter">)</span> =&gt; targ.<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)Erasure.this.global.Tree">setType</a><a href="#1049780" title="(x: Any)Any" class="delimiter">(</a>clazz.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
            <a href="#1049658" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> Select<a href="#1049992" title="Erasure.this.global.Tree" id="1050024" class="delimiter">(</a>qual, name<span class="delimiter">)</span> =&gt;
          <a href="#1050030" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1049658" title="Erasure.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="=&gt; Erasure.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442184" title="=&gt; Erasure.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span> <a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425065" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443776" title="=&gt; Erasure.this.global.Symbol">primaryConstructor</a>
            <a href="#1049658" title="Erasure.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442555" title="=&gt; Erasure.this.global.MethodSymbol">Any_asInstanceOf</a><span class="delimiter">)</span>
            <a href="#1048250" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span>qual, <a href="../../../reflect/internal/Definitions.scala.html#442579" title="=&gt; Erasure.this.global.MethodSymbol">Object_asInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442553" title="=&gt; Erasure.this.global.MethodSymbol">Any_isInstanceOf</a><span class="delimiter">)</span>
            <a href="#1048250" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span>qual, <a href="../../../reflect/internal/Definitions.scala.html#442577" title="=&gt; Erasure.this.global.MethodSymbol">Object_isInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Erasure.this.global.ClassSymbol">AnyClass</a><span class="delimiter">)</span>
            <a href="#1048250" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span>qual, <a href="../../../reflect/internal/Definitions.scala.html#442757" title="(owner: Erasure.this.global.Symbol, name: Erasure.this.global.Name)Erasure.this.global.Symbol">getMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>, name<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Erasure.this.global.Tree" id="1049896">qual1</a> = <a href="../typechecker/Typers.scala.html#560773" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span>qual<span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1048240" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1048243" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueMember</a><span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
                 <a href="#1048241" title="(tpe: Erasure.this.global.Type)Boolean">isErasedValueType</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1049896" title="Erasure.this.global.Tree">qual1</a> = <a href="#1048244" title="(tree: Erasure.this.global.Tree, target: =&gt; String)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>, <span title="String(&quot;owner &quot;)" class="string">&quot;owner &quot;</span><span title="(x$1: Any)String">+</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1048240" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1048243" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueMember</a><span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1049896" title="Erasure.this.global.Tree">qual1</a> = <a href="#1048246" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>, <a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1048243" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueMember</a><span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1048240" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425065" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441313" title="Erasure.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[Erasure.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443349" title="=&gt; Boolean">isStable</a>, <a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span>;
              <a href="#1049896" title="Erasure.this.global.Tree">qual1</a> = <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)Erasure.this.global.Apply">setType</a> <a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Erasure.this.global.Type">resultType</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23697" title="Erasure.this.global.Super">Super</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: Erasure.this.global.Symbol)Boolean">isSubClass</a> <a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#559534" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span>
              <a href="#1049896" title="Erasure.this.global.Tree">qual1</a> = <a href="#1048248" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#1049896" title="Erasure.this.global.Tree">qual1</a>, <a href="#1049658" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428315" title="(tree: Erasure.this.global.Tree, qualifier: Erasure.this.global.Tree, selector: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1049658" title="Erasure.this.global.Tree">tree</a>, <a href="#1049896" title="Erasure.this.global.Tree">qual1</a>, name<span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> SelectFromArray<a href="#1049992" title="Erasure.this.global.Tree" id="1050026" class="delimiter">(</a>qual, name, erasure<span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Erasure.this.global.Tree" id="1049959">qual1</a> = <a href="../typechecker/Typers.scala.html#560773" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span>qual<span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1049959" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> erasure<span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1049959" title="Erasure.this.global.Tree">qual1</a> = <a href="#1048248" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#1049959" title="Erasure.this.global.Tree">qual1</a>, erasure<span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Erasure.this.global.Tree, name: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1049959" title="Erasure.this.global.Tree">qual1</a>, name<span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425087" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Select">copyAttrs</a> <a href="#1049658" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="#1050030" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** A replacement for the standard typer's adapt method.
     */
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type, original: Erasure.this.global.Tree)Erasure.this.global.Tree" id="1048251">adapt</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1050068">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>, <a title="Int" id="1050069">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Erasure.this.global.Type" id="1050070">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a>, <a title="Erasure.this.global.Tree" id="1050082">original</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <a href="../../../reflect/api/Trees.scala.html#23577" title="Erasure.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> =
      <a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#1050068" title="Erasure.this.global.Tree">tree</a>, <a href="#1050070" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>

    /** A replacement for the standard typer's `typed1` method.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="1048252">typed1</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1050083">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a>, <a title="Int" id="1050084">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Erasure.this.global.Type" id="1050085">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1050093">tree1</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#1050083" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> InjectDerivedValue<a href="#1050108" title="Erasure.this.global.Tree" id="1050110" class="delimiter">(</a>arg<span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="1050098">clazz</a> = <a href="#1050083" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>
            <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1050099">result</a> = <a href="#1048252" title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree">typed1</a><span class="delimiter">(</span>arg, <a href="#1050084" title="Int">mode</a>, <a href="../../../reflect/internal/transform/Erasure.scala.html#459754" title="(clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">underlyingOfValueClass</a><span class="delimiter">(</span><a href="#1050098" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)Erasure.this.global.Tree">setType</a> <a href="../../../reflect/internal/Types.scala.html#523412" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">ErasedValueType</a><span class="delimiter">(</span><a href="#1050098" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;transforming inject &quot;)" class="string">&quot;transforming inject &quot;</span><span title="(x$1: Any)String">+</span>arg<span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/transform/Erasure.scala.html#459754" title="(clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">underlyingOfValueClass</a><span class="delimiter">(</span><a href="#1050098" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/Types.scala.html#523412" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">ErasedValueType</a><span class="delimiter">(</span><a href="#1050098" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1050099" title="Erasure.this.global.Tree">result</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#1050099" title="Erasure.this.global.Tree">result</a>

          <span class="keyword">case</span> _ =&gt;
        <a href="#651419" title="Erasure.this.Eraser" class="keyword">super</a>.<a href="../typechecker/Typers.scala.html#560764" title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree">typed1</a><a href="#1050111" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#1048250" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="#1050083" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#1050084" title="Int">mode</a>, <a href="#1050085" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="1050116">er</a>: <a href="../../../reflect/internal/Types.scala.html#441578" title="Erasure.this.global.TypeError">TypeError</a> =&gt;
          <a href="../../../Console.scala.html#227" title="Console.type">Console</a>.<a href="../../../Console.scala.html#64301" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050083" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="../../../Console.scala.html#227" title="Console.type">Console</a>.<a href="../../../Console.scala.html#64301" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#1050116" title="Erasure.this.global.TypeError">er</a>.<a href="../../../reflect/internal/Types.scala.html#448881" title="=&gt; String">msg</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in file &quot;)" class="string">&quot; in file &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../typechecker/Typers.scala.html#560636" title="=&gt; Erasure.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#560856" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; Erasure.this.global.AbstractFileType">sourceFile</a><span class="delimiter">)</span>
          <a href="#1050116" title="Erasure.this.global.TypeError">er</a>.<span title="()Unit">printStackTrace</span>
          <a href="../Global.scala.html#559537" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;unrecoverable error&quot;)" class="string">&quot;unrecoverable error&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="1050125">ex</a>: <span title="Exception">Exception</span> =&gt;
          //if (settings.debug.value)
          <span class="keyword">try</span> <a href="../../../Console.scala.html#227" title="Console.type">Console</a>.<a href="../../../Console.scala.html#64301" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050083" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">finally</span> <span title="Nothing" class="keyword">throw</span> <a href="#1050125" title="Exception">ex</a>
          <span title="Nothing" class="keyword">throw</span> <a href="#1050125" title="Exception">ex</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef" id="1050094">adaptCase</a><span class="delimiter">(</span><a title="Erasure.this.global.CaseDef" id="1050130">cdef</a>: <a href="../../../reflect/api/Trees.scala.html#23628" title="Erasure.this.global.CaseDef">CaseDef</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23628" title="Erasure.this.global.CaseDef">CaseDef</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.CaseDef" id="1050131">newCdef</a> = <a href="../../../reflect/api/Trees.scala.html#23758" title="(cdef: Erasure.this.global.Tree)(applyToBody: Erasure.this.global.Tree =&gt; Erasure.this.global.Tree)Erasure.this.global.CaseDef">deriveCaseDef</a><span class="delimiter">(</span><a href="#1050130" title="Erasure.this.global.CaseDef">cdef</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#1050135" title="Erasure.this.global.Tree">_</a>, <a href="#1050093" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1050131" title="Erasure.this.global.CaseDef">newCdef</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)newCdef.type">setType</a> <a href="#1050131" title="Erasure.this.global.CaseDef">newCdef</a>.<a href="../../../reflect/api/Trees.scala.html#427326" title="=&gt; Erasure.this.global.Tree">body</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree" id="1050095">adaptBranch</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1050137">branch</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> =
        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050137" title="Erasure.this.global.Tree">branch</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Erasure.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="#1050137" title="Erasure.this.global.Tree">branch</a> <span class="keyword">else</span> <a href="#1048249" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#1050137" title="Erasure.this.global.Tree">branch</a>, <a href="#1050093" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>;

      <a href="#1050093" title="Erasure.this.global.Tree">tree1</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> If<a href="#1050295" title="Erasure.this.global.Tree" id="1050297" class="delimiter">(</a>cond, thenp, elsep<span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428303" title="(tree: Erasure.this.global.Tree, cond: Erasure.this.global.Tree, thenp: Erasure.this.global.Tree, elsep: Erasure.this.global.Tree)Erasure.this.global.If">If</a><a href="#1050309" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#1050093" title="Erasure.this.global.Tree">tree1</a>, cond, <a href="#1050095" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span>thenp<span class="delimiter">)</span>, <a href="#1050095" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span>elsep<span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> Match<a href="#1050295" title="Erasure.this.global.Tree" id="1050299" class="delimiter">(</a>selector, cases<span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428304" title="(tree: Erasure.this.global.Tree, selector: Erasure.this.global.Tree, cases: List[Erasure.this.global.CaseDef])Erasure.this.global.Match">Match</a><a href="#1050309" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#1050093" title="Erasure.this.global.Tree">tree1</a>, selector, cases <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.CaseDef =&gt; Erasure.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.CaseDef],Erasure.this.global.CaseDef,List[Erasure.this.global.CaseDef]])List[Erasure.this.global.CaseDef]">map</a> <a href="#1050094" title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef">adaptCase</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Try<a href="#1050295" title="Erasure.this.global.Tree" id="1050301" class="delimiter">(</a>block, catches, finalizer<span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428306" title="(tree: Erasure.this.global.Tree, block: Erasure.this.global.Tree, catches: List[Erasure.this.global.CaseDef], finalizer: Erasure.this.global.Tree)Erasure.this.global.Try">Try</a><a href="#1050309" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#1050093" title="Erasure.this.global.Tree">tree1</a>, <a href="#1050095" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span>block<span class="delimiter">)</span>, catches <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.CaseDef =&gt; Erasure.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.CaseDef],Erasure.this.global.CaseDef,List[Erasure.this.global.CaseDef]])List[Erasure.this.global.CaseDef]">map</a> <a href="#1050094" title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef">adaptCase</a>, finalizer<span class="delimiter">)</span>
        <span class="keyword">case</span> Ident<a href="#1050295" title="Erasure.this.global.Tree" id="1050304" class="delimiter">(</a>_<span class="delimiter">)</span> | Select<a href="#1050295" title="Boolean" id="1050308" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050093" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443271" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="1050277">first</a> = <a href="#1050093" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443472" title="=&gt; List[Erasure.this.global.Symbol]">alternatives</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Erasure.this.global.Symbol">head</a>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="1050278">sym1</a> = <a href="#1050093" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Erasure.this.global.Symbol =&gt; Boolean)Erasure.this.global.Symbol">filter</a> <span class="delimiter">{</span>
              <a title="Erasure.this.global.Symbol" id="1050286">alt</a> =&gt; <a href="#1050286" title="Erasure.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1050277" title="Erasure.this.global.Symbol">first</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1050277" title="Erasure.this.global.Symbol">first</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442065" title="(that: Erasure.this.global.Type)Boolean">looselyMatches</a> <a href="#1050286" title="Erasure.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050083" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1050278" title="Erasure.this.global.Symbol">sym1</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1050093" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425065" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="#1050278" title="Erasure.this.global.Symbol">sym1</a>
              <a href="#1050093" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Erasure.this.global.Type)Unit">tpe</a> = <a href="#1050278" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#1050093" title="Erasure.this.global.Tree">tree1</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="#1050309" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** The erasure transformer */
  <span class="keyword">class</span> <a title="class ErasureTransformer extends Erasure.this.global.Transformer" id="651420">ErasureTransformer</a><a href="#651420" title="Erasure.this.ErasureTransformer" class="delimiter">(</a><a title="Erasure.this.global.CompilationUnit" id="1046506">unit</a>: <a href="../CompilationUnits.scala.html#559797" title="Erasure.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#559848" title="Erasure.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    /** Emit an error if there is a double definition. This can happen if:
     *
     *  - A template defines two members with the same name and erased type.
     *  - A template defines and inherits two members `m` with different types,
     *    but their erased types are the same.
     *  - A template inherits two members `m` with different types,
     *    but their erased types are the same.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(root: Erasure.this.global.Symbol)Unit" id="1046500">checkNoDoubleDefs</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1051411">root</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[T](op: =&gt; T)T" id="1051747">afterErasure</a><span class="delimiter">[</span><a title="" id="1051749">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="1051755">op</a>: =&gt; T<span class="delimiter">)</span>: <a href="#1051749" title="T">T</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#440606" title="(ph: scala.reflect.internal.Phase)(op: =&gt; T)T">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452448" title="=&gt; scala.reflect.internal.Phase">next</a>.<a href="../../../reflect/internal/Phase.scala.html#452448" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1051755" title="=&gt; T">op</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit" id="1051750">doubleDefError</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1051763">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="1051764">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // the .toString must also be computed at the earlier phase
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="1051765">tpe1</a> = <a href="../Global.scala.html#559718" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">afterRefchecks</a><span class="delimiter">(</span><a href="#1051411" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1051763" title="Erasure.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="1051766">tpe2</a> = <a href="../Global.scala.html#559718" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">afterRefchecks</a><span class="delimiter">(</span><a href="#1051411" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1051764" title="Erasure.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1051765" title="Erasure.this.global.Type">tpe1</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1051766" title="Erasure.this.global.Type">tpe2</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <a href="#1046506" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
          <span title="Erasure.this.global.Position" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051763" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1051411" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <a href="#1051763" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Erasure.this.global.Position">pos</a> <span class="keyword">else</span> <a href="#1051411" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Erasure.this.global.Position">pos</a>,
          <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051763" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1051764" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="String(&quot;double definition:\n&quot;)" class="string">&quot;double definition:\n&quot;</span>
           <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051763" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1051411" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="String(&quot;name clash between defined and inherited member:\n&quot;)" class="string">&quot;name clash between defined and inherited member:\n&quot;</span>
           <span class="keyword">else</span> <span title="String(&quot;name clash between inherited members:\n&quot;)" class="string">&quot;name clash between inherited members:\n&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
          <a href="#1051763" title="Erasure.this.global.Symbol">sym1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#559718" title="(op: =&gt; String)String">afterRefchecks</a><span class="delimiter">(</span><a href="#1051765" title="Erasure.this.global.Type">tpe1</a>.<a href="../../../reflect/internal/Types.scala.html#442076" title="()String">toString</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
            <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051763" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1051411" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#1051763" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and\n&quot;)" class="string">&quot; and\n&quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#1051764" title="Erasure.this.global.Symbol">sym2</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#559718" title="(op: =&gt; String)String">afterRefchecks</a><span class="delimiter">(</span><a href="#1051766" title="Erasure.this.global.Type">tpe2</a>.<a href="../../../reflect/internal/Types.scala.html#442076" title="()String">toString</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
            <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051764" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1051411" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="String(&quot; at line &quot;)" class="string">&quot; at line &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#1051764" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../util/Position.scala.html#445379" title="=&gt; Int">line</a> <span class="keyword">else</span> <a href="#1051764" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot;\nhave same type&quot;)" class="string">&quot;\nhave same type&quot;</span> <span title="(x$1: Any)String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559718" title="(op: =&gt; Boolean)Boolean">afterRefchecks</a><span class="delimiter">(</span><a href="#1051765" title="Erasure.this.global.Type">tpe1</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#1051766" title="Erasure.this.global.Type">tpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot; after erasure: &quot;)" class="string">&quot; after erasure: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1051747" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">afterErasure</a><span class="delimiter">(</span><a href="#1051763" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1051763" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Erasure.this.global.Type)sym1.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441249" title="Erasure.this.global.ErrorType.type">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Erasure.this.global.Scope" id="1051751">decls</a> = <a href="#1051411" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Erasure.this.global.Scope">decls</a>
      <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="1051752">e</a> = <a href="#1051751" title="Erasure.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#447308" title="=&gt; Erasure.this.global.ScopeEntry">elems</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1051752" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#1051754" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051752" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="1051816">e1</a> = <a href="#1051751" title="Erasure.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#447343" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#1051752" title="Erasure.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1051816" title="Erasure.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#1051818" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051747" title="(op: =&gt; Boolean)Boolean">afterErasure</a><span class="delimiter">(</span><a href="#1051816" title="Erasure.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#1051752" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1051750" title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit">doubleDefError</a><span class="delimiter">(</span><a href="#1051752" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Erasure.this.global.Symbol">sym</a>, <a href="#1051816" title="Erasure.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#1051816" title="Erasure.this.global.ScopeEntry">e1</a> = <a href="#1051751" title="Erasure.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#447343" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#1051816" title="Erasure.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#1051752" title="Erasure.this.global.ScopeEntry">e</a> = <a href="#1051752" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457248" title="=&gt; Erasure.this.global.ScopeEntry">next</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.Cursor" id="1051753">opc</a> = <a href="#1051826" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">new</a> <a href="../Global.scala.html#559506" title="anonymous class $anon extends Erasure.this.global.overridingPairs.Cursor" id="1051826">overridingPairs</a>.<a href="OverridingPairs.scala.html#648359" title="Erasure.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#1051411" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="1051828">exclude</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1051830">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
          <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1051830" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1051830" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1051826" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">super</a>.<a href="OverridingPairs.scala.html#1048605" title="(sym: Erasure.this.global.overridingPairs.global.Symbol)Boolean">exclude</a><span class="delimiter">(</span><a href="#1051830" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
           // specialized members have no type history before 'specialize', causing double def errors for curried defs
           <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1051830" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443441" title="(pid: Int)Boolean">hasTypeAt</a><span class="delimiter">(</span><a href="../Global.scala.html#559697" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561325" title="=&gt; scala.tools.nsc.Phase">refchecksPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Boolean" id="1051829">matches</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1051832">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="1051833">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
          <a href="#1051747" title="(op: =&gt; Boolean)Boolean">afterErasure</a><span class="delimiter">(</span><a href="#1051832" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#1051833" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048634" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#1051877" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559718" title="(op: =&gt; Boolean)Boolean">afterRefchecks</a><span class="delimiter">(</span>
              <a href="#1051411" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048628" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#442064" title="(that: Erasure.this.global.Type)Boolean">matches</a>
              <a href="#1051411" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048631" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048628" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span>
                     <a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048628" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#443565" title="=&gt; String">infosString</a> <span title="(x$1: Any)String">+</span>
                     <a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048631" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span>
                     <a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048631" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#443565" title="=&gt; String">infosString</a><span class="delimiter">)</span>
          <a href="#1051750" title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit">doubleDefError</a><span class="delimiter">(</span><a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048628" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048631" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#1051753" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#1048635" title="()Unit">next</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

/*
      for (bc &lt;- root.info.baseClasses.tail; other &lt;- bc.info.decls.toList) {
        if (other.isTerm &amp;&amp; !other.isConstructor &amp;&amp; !(other hasFlag (PRIVATE | BRIDGE))) {
          for (member &lt;- root.info.nonPrivateMember(other.name).alternatives) {
            if (member != other &amp;&amp;
                !(member hasFlag BRIDGE) &amp;&amp;
                afterErasure(member.tpe =:= other.tpe) &amp;&amp;
                !afterRefchecks(
                  root.thisType.memberType(member) matches root.thisType.memberType(other))) {
              debuglog(&quot;&quot; + member.locationString + &quot; &quot; + member.infosString + other.locationString + &quot; &quot; + other.infosString);
              doubleDefError(member, other)
            }
          }
        }
      }
*/

    /**  Add bridge definitions to a template. This means:
     *
     *   If there is a concrete member `m` which overrides a member in a base
     *   class of the template, and the erased types of the two members differ,
     *   and the two members are not inherited or defined by some parent class
     *   of the template, then a bridge from the overridden member `m1` to the
     *   member `m0` is added. The bridge has the erased type of `m1` and
     *   forwards to `m0`.
     *
     *   No bridge is added if there is already a bridge to `m0` with the erased
     *   type of `m1` in the template.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: Erasure.this.global.Symbol)(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" id="1046501">bridgeDefs</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1051882">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1222" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span>, immutable.Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../Global.scala.html#559697" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561333" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>, <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;computing bridges for &quot;)" class="string">&quot;computing bridges for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1051882" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span title="Erasure.this.ComputeBridges" class="keyword">new</span> <a href="#651418" title="Erasure.this.ComputeBridges">ComputeBridges</a><span class="delimiter">(</span><a href="#1051882" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="#1048583" title="()(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])">compute</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Erasure.this.global.Tree], base: Erasure.this.global.Symbol)List[Erasure.this.global.Tree]" id="1046502">addBridges</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Tree]" id="1051417">stats</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Erasure.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Erasure.this.global.Symbol" id="1051418">base</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Erasure.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span title="List[Erasure.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051418" title="Erasure.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#1051417" title="List[Erasure.this.global.Tree]">stats</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#1051906" title="(x: (List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol]))(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="List[Erasure.this.global.Tree]" id="1051892">bridges</a>, <a href="../../../Tuple2.scala.html#61508" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="1051893">toBeRemoved</a><span class="delimiter">)</span> = <a href="#1046501" title="(owner: Erasure.this.global.Symbol)(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])">bridgeDefs</a><a href="../../../Tuple2.scala.html#1222" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol]) @unchecked" class="delimiter">(</a><a href="#1051418" title="Erasure.this.global.Symbol">base</a><span class="delimiter">)</span>
        <span title="List[Erasure.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051892" title="List[Erasure.this.global.Tree]">bridges</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1051417" title="List[Erasure.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">(</span><a href="#1051417" title="List[Erasure.this.global.Tree]">stats</a> <a href="../../../collection/TraversableLike.scala.html#58982" title="(p: Erasure.this.global.Tree =&gt; Boolean)List[Erasure.this.global.Tree]">filterNot</a> <span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1051914">stat</a> =&gt; <a href="#1051893" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]">toBeRemoved</a> <a href="../../../collection/SetLike.scala.html#71318" title="(elem: Erasure.this.global.Symbol)Boolean">contains</a> <a href="#1051914" title="Erasure.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63646" title="(prefix: List[Erasure.this.global.Tree])List[Erasure.this.global.Tree]">:::</a> <a href="#1051892" title="List[Erasure.this.global.Tree]">bridges</a>
      <span class="delimiter">}</span>

    /**  Transform tree at phase erasure before retyping it.
     *   This entails the following:
     *
     *   - Remove all type parameters in class and method definitions.
     *   - Remove all abstract and alias type definitions.
     *   - Remove all type applications other than those involving a type test or cast.
     *   - Remove all empty trees in statements and definitions in a PackageDef.
     *   - Check that there are no double definitions in a template.
     *   - Add bridge definitions to a template.
     *   - Replace all types in type nodes and the EmptyTree object by their erasure.
     *     Type nodes of type Unit representing result types of methods are left alone.
     *   - Given a selection q.s, where the owner of `s` is not accessible but the
     *     type symbol of q's type qT is accessible, insert a cast (q.asInstanceOf[qT]).s
     *     This prevents illegal access errors (see #4283).
     *   - Remove all instance creations new C(arg) where C is an inlined class.
     *   - Reset all other type attributes to null, thus enforcing a retyping.
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="preTransformer extends Erasure.this.TypingTransformer" id="1046503">preTransformer</a> = <a href="#1050326" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">new</a> <a href="TypingTransformers.scala.html#650652" title="anonymous class $anon extends Erasure.this.TypingTransformer" id="1050326">TypingTransformer</a><span class="delimiter">(</span><a href="#1046506" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="1050347">preErase</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1050349">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <a href="#1050349" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ClassDef<a href="#1051468" title="Erasure.this.global.Tree" id="1051474" class="delimiter">(</a>_,_,_,_<span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;defs of &quot;)" class="string">&quot;defs of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Erasure.this.global.Scope">decls</a><span class="delimiter">)</span>
          <a href="TypingTransformers.scala.html#650650" title="=&gt; scala.tools.nsc.Global">copyClassDef</a><a href="../../../reflect/api/Trees.scala.html#436113" title="Erasure.this.global.Modifiers" id="1050388" class="delimiter">(</a><a href="#1050349" title="Erasure.this.global.Tree" id="1050381">tree</a><span class="delimiter">)</span><span class="delimiter">(</span>tparams = <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" id="1050385">Nil</a><span class="delimiter">)</span>
        <span class="keyword">case</span> DefDef<a href="#1051468" title="Erasure.this.global.Tree" id="1051482" class="delimiter">(</a>_,_,_,_,_,_<span class="delimiter">)</span> =&gt;
          <a href="TypingTransformers.scala.html#650650" title="=&gt; scala.tools.nsc.Global">copyDefDef</a><a href="../../../reflect/api/Trees.scala.html#436057" title="Erasure.this.global.Modifiers" id="1050415" class="delimiter">(</a><a href="#1050349" title="Erasure.this.global.Tree" id="1050404">tree</a><span class="delimiter">)</span><a href="#1051544" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a>tparams = <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" id="1050410">Nil</a><span class="delimiter">)</span>
        <span class="keyword">case</span> TypeDef<a href="#1051468" title="Erasure.this.global.Tree" id="1051488" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#1051544" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">EmptyTree</a>
        <span class="keyword">case</span> Apply<a href="#1051468" title="Boolean" id="1051491" class="delimiter">(</a>instanceOf @ TypeApply<a title="Erasure.this.global.Tree" id="1051493" class="delimiter">(</a>fun @ Select<a title="Erasure.this.global.Tree" id="1051495" class="delimiter">(</a>qual, name<span class="delimiter">)</span>, args @ <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1051559">List</a><span class="delimiter">(</span>arg<span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1051558">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // !!! todo: simplify by having GenericArray also extract trees
              <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span>fun.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442553" title="=&gt; Erasure.this.global.MethodSymbol">Any_isInstanceOf</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> fun.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442577" title="=&gt; Erasure.this.global.MethodSymbol">Object_isInstanceOf</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="../../../reflect/internal/transform/Erasure.scala.html#459752" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span>arg.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Int" id="1050482">level</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#459752" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span>arg.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree" id="1050483">isArrayTest</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1050484">arg</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span> =
            <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561778" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446555" title="=&gt; Erasure.this.global.nme.NameType">isArray</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1050484" title="Erasure.this.global.Tree">arg</a>, <a href="../../../reflect/api/Trees.scala.html#432792" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#1050482" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="TypingTransformers.scala.html#650650" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#559643" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#560769" title="(pos: Erasure.this.global.analyzer.global.Position)(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Erasure.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050482" title="Int">level</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#1050483" title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree">isArrayTest</a><span class="delimiter">(</span>qual<span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561796" title="(expr: Erasure.this.global.gen.global.Tree, owner: Erasure.this.global.gen.global.Symbol, unit: Erasure.this.global.gen.global.CompilationUnit)(within: (() =&gt; Erasure.this.global.gen.global.Tree) =&gt; Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span>qual, <a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>, <a href="#1046506" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Erasure.this.global.gen.global.Tree" id="1050509">qual1</a> =&gt;
              <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500059" title="(tree1: Erasure.this.global.gen.global.Tree, tree2: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">mkAnd</a><span class="delimiter">(</span>
                <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500028" title="(receiver: Erasure.this.global.gen.global.Tree, method: Erasure.this.global.gen.global.Symbol, targs: List[Erasure.this.global.gen.global.Type], args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkMethodCall</a><span class="delimiter">(</span>
                  <a href="../../../Function0.scala.html#68359" title="()Erasure.this.global.gen.global.Tree">qual1</a><span class="delimiter">(</span><span class="delimiter">)</span>,
                  fun.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a>,
                  <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Erasure.this.global.Type*)List[Erasure.this.global.Type]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#459758" title="(sym: Erasure.this.global.Symbol)(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialErasure</a><span class="delimiter">(</span>fun.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">(</span>arg.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                  <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
                <span class="delimiter">)</span>,
                <a href="#1050483" title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree">isArrayTest</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#68359" title="()Erasure.this.global.gen.global.Tree">qual1</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> TypeApply<a href="#1051468" title="Erasure.this.global.Tree" id="1051503" class="delimiter">(</a>fun, args<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>fun.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Erasure.this.global.ClassSymbol">AnyClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                      fun.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442579" title="=&gt; Erasure.this.global.MethodSymbol">Object_asInstanceOf</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                      fun.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442577" title="=&gt; Erasure.this.global.MethodSymbol">Object_isInstanceOf</a><span class="delimiter">)</span> =&gt;
          // leave all other type tests/type casts, remove all other type applications
          <a href="#1050347" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">preErase</a><a href="#1051544" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a>fun<span class="delimiter">)</span>
        <span class="keyword">case</span> Apply<span class="delimiter">(</span>fn @ Select<a title="Boolean" id="1051507" class="delimiter">(</a>qual, name<span class="delimiter">)</span>, args<span class="delimiter">)</span> <span class="keyword">if</span> fn.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> =&gt;
          // Have to also catch calls to abstract types which are bounded by Array.
          <a href="#1051544" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#459752" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Erasure.this.global.Type">widen</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // convert calls to apply/update/length on generic arrays to
            // calls of ScalaRunTime.array_xxx method calls
            <a href="TypingTransformers.scala.html#650650" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#559643" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#560769" title="(pos: Erasure.this.global.analyzer.global.Position)(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Erasure.this.global.nme.NameType" id="1050613">arrayMethodName</a> = <span title="Erasure.this.global.nme.NameType">name</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="Erasure.this.global.nme.NameType" id="1050626">apply</a>  =&gt; <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="#1050630" title="(x: Erasure.this.global.nme.NameType)Erasure.this.global.nme.NameType">array_apply</a>
                <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446571" title="Erasure.this.global.nme.NameType" id="1050627">length</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="#1050630" title="(x: Erasure.this.global.nme.NameType)Erasure.this.global.nme.NameType">array_length</a>
                <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446717" title="Erasure.this.global.nme.NameType" id="1050628">update</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="#1050630" title="(x: Erasure.this.global.nme.NameType)Erasure.this.global.nme.NameType">array_update</a>
                <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446483" title="Erasure.this.global.nme.NameType" id="1050629">clone_</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="#1050630" title="(x: Erasure.this.global.nme.NameType)Erasure.this.global.nme.NameType">array_clone</a>
                <span class="keyword">case</span> _          =&gt; <a href="#1046506" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a>, <span title="String(&quot;Unexpected array member, no translation exists.&quot;)" class="string">&quot;Unexpected array member, no translation exists.&quot;</span><span class="delimiter">)</span> ; <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445908" title="=&gt; Erasure.this.global.nme.NameType">NO_NAME</a>
              <span class="delimiter">}</span>
              <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561778" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="#1050613" title="Erasure.this.global.nme.NameType">arrayMethodName</a>, qual <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Erasure.this.global.Tree)List[Erasure.this.global.Tree]">::</a> args<span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            // store exact array erasure in map to be retrieved later when we might
            // need to do the cast in adaptMember
            <a href="../../../reflect/api/Trees.scala.html#438839" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428311" title="(tree: Erasure.this.global.Tree, fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="#1050349" title="Erasure.this.global.Tree">tree</a>,
              <a href="../ast/Trees.scala.html#664412" title="(qualifier: Erasure.this.global.Tree, name: Erasure.this.global.Name, erasure: Erasure.this.global.Type)Erasure.this.global.SelectFromArray">SelectFromArray</a><span class="delimiter">(</span>qual, name, <a href="../../../reflect/internal/transform/Erasure.scala.html#459757" title="(sym: Erasure.this.global.Symbol)Erasure.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#460860" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425087" title="(tree: Erasure.this.global.Tree)Erasure.this.global.SelectFromArray">copyAttrs</a><span class="delimiter">(</span>fn<span class="delimiter">)</span>,
              args<span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> Apply<span class="delimiter">(</span>fn @ Select<span class="delimiter">(</span>qual, _<span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#11552" title="Erasure.this.global.Tree" id="1051540">Nil</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: Erasure.this.global.Symbol)Boolean">interceptedMethods</a><span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          <a href="#1051544" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442549" title="=&gt; Erasure.this.global.MethodSymbol">Any_##</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> fn.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442567" title="=&gt; Erasure.this.global.MethodSymbol">Object_##</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // This is unattractive, but without it we crash here on ().## because after
            // erasure the ScalaRunTime.hash overload goes from Unit =&gt; Int to BoxedUnit =&gt; Int.
            // This must be because some earlier transformation is being skipped on ##, but so
            // far I don't know what.  For null we now define null.## == 0.
            qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="Erasure.this.global.Tree" id="1050759">UnitClass</a> | <a href="../../../reflect/internal/Definitions.scala.html#442195" title="Boolean" id="1050760">NullClass</a>                    =&gt; <a href="../ast/TreeDSL.scala.html#691641" title="(x: Any)Erasure.this.global.Literal">LIT</a><a href="#1050766" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#442849" title="Erasure.this.global.Tree" id="1050761">IntClass</a>                                 =&gt; <a href="#1050766" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">qual</a>
              <span class="keyword">case</span> s @ <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442845" title="Erasure.this.global.Tree" id="1050762">ShortClass</a> | <a href="../../../reflect/internal/Definitions.scala.html#442843" title="Boolean" id="1050763">ByteClass</a> | <a href="../../../reflect/internal/Definitions.scala.html#442847" title="Boolean" id="1050764">CharClass</a><span class="delimiter">)</span> =&gt; <a href="#651390" title="(tree: Erasure.this.global.Tree, numericSym: Erasure.this.global.Symbol)Erasure.this.global.Tree">numericConversion</a><a href="#1050766" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a>qual, s<span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#442857" title="Erasure.this.global.Tree" id="1050765">BooleanClass</a>                             =&gt; <a href="../../../reflect/api/Trees.scala.html#436640" title="(cond: Erasure.this.global.Tree, thenp: Erasure.this.global.Tree, elsep: Erasure.this.global.Tree)Erasure.this.global.If">If</a><a href="#1050766" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a>qual, <a href="../ast/TreeDSL.scala.html#691641" title="(x: Any)Erasure.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>.<span title="()Int">##</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#691641" title="(x: Any)Erasure.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>.<span title="()Int">##</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> _                                        =&gt;
                <a href="TypingTransformers.scala.html#650650" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#559643" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#560768" title="(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typed</a><a href="#1050766" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561778" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446545" title="=&gt; Erasure.this.global.nme.NameType">hash_</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span>qual<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          // Rewrite 5.getClass to ScalaRunTime.anyValClass(5)
          <span class="keyword">else</span> <span title="Erasure.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="TypingTransformers.scala.html#650650" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#559643" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#560768" title="(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561778" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446429" title="=&gt; Erasure.this.global.nme.NameType">anyValClass</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Erasure.this.global.analyzer.global.Tree*)List[Erasure.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span>qual, <a href="../Global.scala.html#559643" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Taggings.scala.html#560838" title="(pos: Erasure.this.global.analyzer.global.Position, tp: Erasure.this.global.analyzer.global.Type, concrete: Boolean)Erasure.this.global.analyzer.global.Tree">resolveErasureTag</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a>, qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Erasure.this.global.Type">widen</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#1050349" title="Erasure.this.global.Tree">tree</a>

        <span class="keyword">case</span> Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<a title="Erasure.this.global.Tree" id="1051524" class="delimiter">(</a>tpt<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="Erasure.this.global.Tree" id="1051541">CONSTRUCTOR</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1051571">List</a><span class="delimiter">(</span>arg<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443321" title="=&gt; Boolean">isDerivedValueClass</a><span class="delimiter">)</span> =&gt;
          <a href="../ast/Trees.scala.html#699306" title="(arg: Erasure.this.global.Tree)Erasure.this.global.InjectDerivedValue">InjectDerivedValue</a><span class="delimiter">(</span>arg<span class="delimiter">)</span> <a href="#1051544" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setSymbol</a> tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
        <span class="keyword">case</span> Apply<span class="delimiter">(</span>fn, args<span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; Erasure.this.global.Tree" id="1050861">qualifier</a> = <a href="../../../reflect/api/Trees.scala.html#428781" title="=&gt; Erasure.this.global.Tree">fn</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Select<a href="#1050875" title="Erasure.this.global.Tree" id="1050878" class="delimiter">(</a>qual, _<span class="delimiter">)</span> =&gt; <a href="#1050886" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">qual</a>
            <span class="keyword">case</span> TypeApply<a href="#1050875" title="Erasure.this.global.Tree" id="1050882" class="delimiter">(</a>Select<a title="Erasure.this.global.Tree" id="1050885" class="delimiter">(</a>qual, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#1050886" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">qual</a>
          <span class="delimiter">}</span>
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442555" title="=&gt; Erasure.this.global.MethodSymbol">Any_asInstanceOf</a><span class="delimiter">)</span>
            <span class="delimiter">(</span>fn: @<a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree @unchecked">unchecked</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> TypeApply<a href="#1050947" title="Erasure.this.global.Tree" id="1050951" class="delimiter">(</a>Select<a title="Erasure.this.global.Tree" id="1050954" class="delimiter">(</a>qual, _<span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1050969">List</a><span class="delimiter">(</span>targ<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                <a href="#1050958" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Typed)Erasure.this.global.Typed">atPos</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../reflect/api/Trees.scala.html#436785" title="(expr: Erasure.this.global.Tree, tpt: Erasure.this.global.Tree)Erasure.this.global.Typed">Typed</a><span class="delimiter">(</span>qual, <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span>targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442839" title="(sym: Erasure.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442839" title="(sym: Erasure.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span>targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#651390" title="(tree: Erasure.this.global.Tree, numericSym: Erasure.this.global.Symbol)Erasure.this.global.Tree">numericConversion</a><span class="delimiter">(</span>qual, targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">else</span>
                  <a href="#1050349" title="Erasure.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
            // todo: also handle the case where the singleton type is buried in a compound
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442553" title="=&gt; Erasure.this.global.MethodSymbol">Any_isInstanceOf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../../reflect/api/Trees.scala.html#428781" title="=&gt; Erasure.this.global.Tree">fn</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> TypeApply<a href="#1051280" title="Erasure.this.global.Tree" id="1051283" class="delimiter">(</a>sel @ Select<a title="Erasure.this.global.Tree" id="1051285" class="delimiter">(</a>qual, name<span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Erasure.this.global.Tree]]" id="1051300">List</a><span class="delimiter">(</span>targ<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Erasure.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <a href="#1046506" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>sel.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a>, <span title="String(&quot;isInstanceOf cannot test if value types are references.&quot;)" class="string">&quot;isInstanceOf cannot test if value types are references.&quot;</span><span class="delimiter">)</span>

                <span class="keyword">def</span> <a title="(q: () =&gt; Erasure.this.global.Tree)(tp: Erasure.this.global.Type)Erasure.this.global.Tree" id="1051000">mkIsInstanceOf</a><span class="delimiter">(</span><a title="() =&gt; Erasure.this.global.Tree" id="1051016">q</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="1051017">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> =
                  <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span>
                    <a href="../../../reflect/api/Trees.scala.html#429629" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span>
                      <a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#68359" title="()Erasure.this.global.Tree">q</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442577" title="=&gt; Erasure.this.global.MethodSymbol">Object_isInstanceOf</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Erasure.this.global.Select">setPos</a> sel.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a>,
                      <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Erasure.this.global.TypeTree*)List[Erasure.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1051017" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Erasure.this.global.TypeTree">setPos</a> targ.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Erasure.this.global.TypeApply">setPos</a> fn.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a>,
                    List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a>
                targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> SingleType<a href="#1051253" title="Erasure.this.global.Tree" id="1051257" class="delimiter">(</a>_, _<span class="delimiter">)</span> | ThisType<a href="#1051253" title="Boolean" id="1051260" class="delimiter">(</a>_<span class="delimiter">)</span> | SuperType<a href="#1051253" title="Boolean" id="1051264" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
                    <span class="keyword">val</span> <a title="Erasure.this.global.MethodSymbol" id="1051093">cmpOp</a> = <span title="Erasure.this.global.MethodSymbol" class="keyword">if</span> <span class="delimiter">(</span>targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#442184" title="=&gt; Erasure.this.global.ClassSymbol">AnyValClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442543" title="=&gt; Erasure.this.global.MethodSymbol">Any_equals</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#442573" title="=&gt; Erasure.this.global.MethodSymbol">Object_eq</a>
                    <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Apply)Erasure.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span>qual, <a href="#1051093" title="Erasure.this.global.MethodSymbol">cmpOp</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Erasure.this.global.gen.global.Tree*)List[Erasure.this.global.gen.global.Tree]">List</a><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500031" title="(tpe: Erasure.this.global.gen.global.Type)Erasure.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span>targ.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> RefinedType<a href="#1051253" title="Erasure.this.global.Tree" id="1051266" class="delimiter">(</a>parents, decls<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>parents.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt;
                    // Optimization: don't generate isInstanceOf tests if the static type
                    // conforms, because it always succeeds.  (Or at least it had better.)
                    // At this writing the pattern matcher generates some instance tests
                    // involving intersections where at least one parent is statically known true.
                    // That needs fixing, but filtering the parents here adds an additional
                    // level of robustness (in addition to the short term fix.)
                    <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="1051162">parentTests</a> = parents <a href="../../../collection/TraversableLike.scala.html#58982" title="(p: Erasure.this.global.Type =&gt; Boolean)List[Erasure.this.global.Type]">filterNot</a> <span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1051166" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span>

                    <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051162" title="List[Erasure.this.global.Type]">parentTests</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#432792" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561796" title="(expr: Erasure.this.global.gen.global.Tree, owner: Erasure.this.global.gen.global.Symbol, unit: Erasure.this.global.gen.global.CompilationUnit)(within: (() =&gt; Erasure.this.global.gen.global.Tree) =&gt; Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span>qual, <a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>, <a href="#1046506" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Erasure.this.global.gen.global.Tree" id="1051173">q</a> =&gt;
                      <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <a href="#1051162" title="List[Erasure.this.global.Type]">parentTests</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],Erasure.this.global.Tree,List[Erasure.this.global.Tree]])List[Erasure.this.global.Tree]">map</a> <a href="#1051000" title="(q: () =&gt; Erasure.this.global.Tree)(tp: Erasure.this.global.Type)Erasure.this.global.Tree">mkIsInstanceOf</a><a href="#1051195" title="Erasure.this.global.Type" class="delimiter">(</a><a href="#1051173" title="() =&gt; Erasure.this.global.gen.global.Tree">q</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#76182" title="(op: (Erasure.this.global.Tree, Erasure.this.global.Tree) =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">reduceRight</a> <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500059" title="(tree1: Erasure.this.global.gen.global.Tree, tree2: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">mkAnd</a>
                      <span class="delimiter">}</span>
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> _ =&gt;
                    <a href="#1051267" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> _ =&gt; <a href="#1051289" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443248" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>fn.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443521" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../../reflect/api/Trees.scala.html#436859" title="(qual: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.ApplyDynamic">ApplyDynamic</a><span class="delimiter">(</span><a href="#1050861" title="=&gt; Erasure.this.global.Tree">qualifier</a>, args<span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.ApplyDynamic">setSymbol</a> fn.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Erasure.this.global.ApplyDynamic">setPos</a> <a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Erasure.this.global.Position">pos</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443322" title="=&gt; Boolean">isMethodWithExtension</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500035" title="(sym: Erasure.this.global.gen.global.Symbol)Erasure.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../Global.scala.html#559589" title="Erasure.this.global.extensionMethods.type">extensionMethods</a>.<a href="ExtensionMethods.scala.html#650672" title="(imeth: Erasure.this.global.extensionMethods.global.Symbol)Erasure.this.global.extensionMethods.global.Symbol">extensionMethod</a><span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1050861" title="=&gt; Erasure.this.global.Tree">qualifier</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Erasure.this.global.Tree)List[Erasure.this.global.Tree]">::</a> args<span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#1050349" title="Erasure.this.global.Tree">tree</a>
            <span class="delimiter">}</span>

        <span class="keyword">case</span> Select<a href="#1051468" title="Erasure.this.global.Tree" id="1051533" class="delimiter">(</a>qual, name<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="1051358">owner</a> = <a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a>
          // println(&quot;preXform: &quot;+ (tree, tree.symbol, tree.symbol.owner, tree.symbol.owner.isRefinementClass))
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051358" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443248" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="1051361">overridden</a> = <a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443522" title="=&gt; Erasure.this.global.Symbol">nextOverriddenSymbol</a>
            <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1051361" title="Erasure.this.global.Symbol">overridden</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a>, <a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span>
            <a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425065" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="#1051361" title="Erasure.this.global.Symbol">overridden</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="1051359">isAccessible</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="1051370">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="TypingTransformers.scala.html#1050330" title="=&gt; Erasure.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#560636" title="Erasure.this.global.analyzer.Context" id="1051377">context</a>.<a href="../typechecker/Contexts.scala.html#876711" title="Boolean" id="1051380">isAccessible</a><span class="delimiter">(</span><a href="#1051370" title="Erasure.this.global.Symbol" id="1051378">sym</a>, <a href="#1051370" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="Erasure.this.global.Type" id="1051379">thisType</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1051359" title="(sym: Erasure.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#1051358" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // Todo: Figure out how qual.tpe could be null in the check above (it does appear in build where SwingWorker.this
            // has a null type).
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="1051386">qualSym</a> = qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Erasure.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
            <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1051359" title="(sym: Erasure.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#1051386" title="Erasure.this.global.Symbol">qualSym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1051386" title="Erasure.this.global.Symbol">qualSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1051386" title="Erasure.this.global.Symbol">qualSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443289" title="=&gt; Boolean">isPackageObjectClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // insert cast to prevent illegal access error (see #4283)
              // util.trace(&quot;insert erasure cast &quot;) (*/
              <a href="../../../reflect/api/Trees.scala.html#438839" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428315" title="(tree: Erasure.this.global.Tree, qualifier: Erasure.this.global.Tree, selector: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>, <a href="../Global.scala.html#559498" title="Erasure.this.global.gen.type">gen</a>.<a href="../Global.scala.html#575499" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span>qual, qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Erasure.this.global.Type">widen</a><span class="delimiter">)</span>, name<span class="delimiter">)</span> //)
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1050349" title="Erasure.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1050349" title="Erasure.this.global.Tree">tree</a>

        <span class="keyword">case</span> Template<a href="#1051468" title="Erasure.this.global.Tree" id="1051535" class="delimiter">(</a>parents, self, body<span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#559534" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443243" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span>
          //Console.println(&quot;checking no dble defs &quot; + tree)//DEBUG
          <a href="#1046500" title="(root: Erasure.this.global.Symbol)Unit">checkNoDoubleDefs</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#438839" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428292" title="(tree: Erasure.this.global.Tree, parents: List[Erasure.this.global.Tree], self: Erasure.this.global.ValDef, body: List[Erasure.this.global.Tree])Erasure.this.global.Template">Template</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>, parents, <a href="../../../reflect/internal/Trees.scala.html#441819" title="Erasure.this.global.emptyValDef.type">emptyValDef</a>, <a href="#1046502" title="(stats: List[Erasure.this.global.Tree], base: Erasure.this.global.Symbol)List[Erasure.this.global.Tree]">addBridges</a><span class="delimiter">(</span>body, <a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; Erasure.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> Match<a href="#1051468" title="Erasure.this.global.Tree" id="1051537" class="delimiter">(</a>selector, cases<span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#436671" title="(selector: Erasure.this.global.Tree, cases: List[Erasure.this.global.CaseDef])Erasure.this.global.Match">Match</a><a href="#1051544" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="../../../reflect/api/Trees.scala.html#436785" title="(expr: Erasure.this.global.Tree, tpt: Erasure.this.global.Tree)Erasure.this.global.Typed">Typed</a><span class="delimiter">(</span>selector, <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span>selector.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, cases<span class="delimiter">)</span>

        <span class="keyword">case</span> Literal<a href="#1051468" title="Erasure.this.global.Tree" id="1051539" class="delimiter">(</a>ct<span class="delimiter">)</span> <span class="keyword">if</span> ct.<a href="../../../reflect/internal/Constants.scala.html#443079" title="=&gt; Int">tag</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(12)">ClazzTag</span>
                         <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> ct.<a href="../../../reflect/internal/Constants.scala.html#443105" title="=&gt; Erasure.this.global.Type">typeValue</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="Erasure.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="1051443">erased</a> = ct.<a href="../../../reflect/internal/Constants.scala.html#443105" title="=&gt; Erasure.this.global.Type">typeValue</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeRef<a href="#1051457" title="Erasure.this.global.Type" id="1051459" class="delimiter">(</a>pre, clazz, args<span class="delimiter">)</span> <span class="keyword">if</span> clazz.<a href="../../../reflect/internal/Symbols.scala.html#443321" title="=&gt; Boolean">isDerivedValueClass</a> =&gt; <a href="../../../reflect/internal/transform/Erasure.scala.html#459762" title="Erasure.this.scalaErasure.type">scalaErasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#460858" title="(pre: Erasure.this.global.Type, clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">eraseNormalClassRef</a><a href="#1051460" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a>pre, clazz<span class="delimiter">)</span>
            <span class="keyword">case</span> tpe =&gt; <a href="../../../reflect/internal/transform/Erasure.scala.html#460860" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialScalaErasure</a><a href="#1051460" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a>tpe<span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../../../reflect/api/Trees.scala.html#438839" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428318" title="(tree: Erasure.this.global.Tree, value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#1050349" title="Erasure.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#1051443" title="Erasure.this.global.Type">erased</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> _ =&gt;
          <a href="#1051544" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="1050348">transform</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1050350">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        // Reply to &quot;!!! needed?&quot; which adorned the next line: without it, build fails with:
        //   Exception in thread &quot;main&quot; scala.tools.nsc.symtab.Types$TypeError:
        //   value array_this is not a member of object scala.runtime.ScalaRunTime
        //
        // What the heck is array_this? See preTransformer in this file:
        //   gen.mkRuntimeCall(&quot;array_&quot;+name, qual :: args)
        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050350" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1050350" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425073" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#1050350" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1051598">tree1</a> = <a href="#1050347" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">preErase</a><span class="delimiter">(</span><a href="#1050350" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="#1051598" title="Erasure.this.global.Tree">tree1</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Erasure.this.global.Tree" id="1051697">EmptyTree</a> | TypeTree<a href="#1051684" title="Boolean" id="1051687" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
              <a href="#1051598" title="Erasure.this.global.Tree">tree1</a> <a href="#1051698" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setType</a> <a href="../../../reflect/internal/transform/Erasure.scala.html#460860" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialScalaErasure</a><span class="delimiter">(</span><a href="#1051598" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> ArrayValue<a href="#1051684" title="Erasure.this.global.Tree" id="1051689" class="delimiter">(</a>elemtpt, trees<span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/api/Trees.scala.html#438839" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428299" title="(tree: Erasure.this.global.Tree, elemtpt: Erasure.this.global.Tree, trees: List[Erasure.this.global.Tree])Erasure.this.global.ArrayValue">ArrayValue</a><span class="delimiter">(</span>
                <a href="#1051598" title="Erasure.this.global.Tree">tree1</a>, elemtpt <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)Erasure.this.global.Tree">setType</a> <a href="../../../reflect/internal/transform/Erasure.scala.html#459764" title="Erasure.this.specialScalaErasure.type">specialScalaErasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#460861" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">applyInArray</a><span class="delimiter">(</span>elemtpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>, trees <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Erasure.this.global.Tree =&gt; Erasure.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Tree],Erasure.this.global.Tree,List[Erasure.this.global.Tree]])List[Erasure.this.global.Tree]">map</a> <a href="#1050348" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">)</span> <a href="#1051698" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>
            <span class="keyword">case</span> DefDef<a href="#1051684" title="Erasure.this.global.Tree" id="1051696" class="delimiter">(</a>_, _, _, _, tpt, _<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1051669">result</a> = <a href="#1050326" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#1050345" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1051598" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Erasure.this.global.Type)Erasure.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>
              tpt.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Erasure.this.global.Type)Unit">tpe</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#459758" title="(sym: Erasure.this.global.Symbol)(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialErasure</a><span class="delimiter">(</span><a href="#1051598" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1051598" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Erasure.this.global.Type">resultType</a>
              <a href="#1051669" title="Erasure.this.global.Tree">result</a>
            <span class="keyword">case</span> _ =&gt;
              <a href="#1050326" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#1050345" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1051598" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span> <a href="#1051698" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The main transform function: Pretransfom the tree, and then
     *  re-type it at phase erasure.next.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="1046505">transform</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="1051924">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1051926">tree1</a> = <a href="#1046503" title="=&gt; Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}">preTransformer</a>.<a href="TypingTransformers.scala.html#1050345" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1051924" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
      // log(&quot;tree after pretransform: &quot;+tree1)
      <a href="../Global.scala.html#559700" title="(op: =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">afterErasure</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="1051931">tree2</a> = <a href="AddInterfaces.scala.html#651380" title="=&gt; Erasure.this.global.Transformer">mixinTransformer</a>.<a href="../../../reflect/api/Trees.scala.html#438847" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1051926" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span>
        // debuglog(&quot;tree after addinterfaces: \n&quot; + tree2)

        <a href="#651412" title="(context: Erasure.this.Context)Erasure.this.Eraser">newTyper</a><span class="delimiter">(</span><a href="../typechecker/Contexts.scala.html#560082" title="(unit: Erasure.this.global.CompilationUnit, tree: Erasure.this.global.Tree, erasedTypes: Boolean)Erasure.this.Context">rootContext</a><span class="delimiter">(</span><a href="#1046506" title="Erasure.this.global.CompilationUnit">unit</a>, <a href="#1051924" title="Erasure.this.global.Tree">tree</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../typechecker/Typers.scala.html#560768" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1051931" title="Erasure.this.global.Tree">tree2</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>