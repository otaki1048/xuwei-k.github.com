<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/TreeCheckers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.tools.nsc.symtab.<a href="../symtab/package.scala.html#57302" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> util.returning

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeCheckers extends Object with scala.tools.nsc.typechecker.Analyzer" id="50016">TreeCheckers</a> <a href="#50016" title="scala.tools.nsc.typechecker.TreeCheckers" class="keyword">extends</a> <a href="Analyzer.scala.html#46593" title="scala.tools.nsc.typechecker.Analyzer">Analyzer</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="Analyzer.scala.html#560057" title="=&gt; scala.tools.nsc.Global">global</a>._

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.immutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])]" id="652715">everything</a>   = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: (scala.tools.nsc.Phase, Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])*)scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])]" class="delimiter">[</span><a href="../../../Tuple2.scala.html#1222" title="(scala.tools.nsc.Phase, Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])" class="delimiter">(</a>Phase, Map<span class="delimiter">[</span>Tree, <span class="delimiter">(</span>Symbol, Type<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)]" id="652717">currentTrees</a> = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#61654" title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</a><span title="(elems: (TreeCheckers.this.global.Tree, (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type))*)scala.collection.mutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)]" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a>, <a href="../../../Tuple2.scala.html#1222" title="(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)" class="delimiter">(</a>Symbol, Type<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]" id="652719">tpeOfTree</a>    = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#61654" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (TreeCheckers.this.global.Tree, TreeCheckers.this.global.Type)*)scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a>, <a href="../../../reflect/internal/Types.scala.html#441242" title="TreeCheckers.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    sys <a href="../../../sys/package.scala.html#57161" title="(body: =&gt; Unit)scala.sys.ShutdownHookThread">addShutdownHook</a> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span>ph, map<span class="delimiter">)</span> &lt;- <a href="#652715" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.immutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])]">everything</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: ((scala.reflect.internal.Phase, scala.collection.immutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])) =&gt; Unit)Unit">toList</a><span class="delimiter">)</span> <a href="#1156154" title="(x: Unit)Unit" class="delimiter">{</a>
        <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;\n&gt;&gt;&gt;&gt; &quot;)" class="string">&quot;\n&gt;&gt;&gt;&gt; &quot;</span> <span title="(x$1: Any)String">+</span> ph <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span>tree, <span class="delimiter">(</span>sym, tpe<span class="delimiter">)</span><span class="delimiter">)</span> &lt;- map.<a href="../../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[(TreeCheckers.this.global.Tree, (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type))]">toList</a>.<a href="../../../collection/SeqLike.scala.html#59827" title="(f: ((TreeCheckers.this.global.Tree, (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type))) =&gt; String)(implicit ord: scala.math.Ordering[String])List[(TreeCheckers.this.global.Tree, (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type))]">sortBy</a><a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: ((TreeCheckers.this.global.Tree, (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type))) =&gt; Unit)Unit" class="delimiter">(</a><a href="#1155987" title="(TreeCheckers.this.global.Tree, (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type))">_</a>.<a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: TreeCheckers.this.global.Tree)TreeCheckers.this.global.TreeOps">_1</a>.<a href="../../../reflect/internal/Trees.scala.html#443964" title="=&gt; String">summaryString</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><a href="#1156137" title="(x: Unit)Unit" class="delimiter">(</a><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%20s %20s %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>sym, tpe, <span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</a> tree<span class="delimiter">)</span> <a href="../../../collection/IndexedSeqOptimized.scala.html#60120" title="(n: Int)String">take</a> <span title="Int(50)" class="int">50</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: AnyRef)String" id="652721">classstr</a><span class="delimiter">(</span><a title="AnyRef" id="1156175">x</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#1156175" title="AnyRef">x</a>.<span title="()Class[_]">getClass</span>.<span title="()String">getName</span> <a href="../../../Predef.scala.html#8521" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">split</a> <span title="String(&quot;\\\\.|\\\\$&quot;)" class="string">&quot;&quot;&quot;\\.|\\$&quot;&quot;&quot;</span><span class="delimiter">)</span>.<a href="../../../collection/IndexedSeqOptimized.scala.html#60118" title="=&gt; String">last</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: TreeCheckers.this.global.Type)String" id="652722">typestr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Type" id="1156277">x</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="TreeCheckers.this.global.Type">Type</a><span class="delimiter">)</span>    = <span title="String(&quot; (tpe = &quot;)" class="string">&quot; (tpe = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1156277" title="TreeCheckers.this.global.Type">x</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)String" id="652723">treestr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1156280">t</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span>    = <a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">t</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; [&quot;)" class="string">&quot; [&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652721" title="(x: AnyRef)String">classstr</a><span class="delimiter">(</span><a href="#1156280" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652722" title="(x: TreeCheckers.this.global.Type)String">typestr</a><span class="delimiter">(</span><a href="#1156280" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: TreeCheckers.this.global.Symbol)String" id="652724">ownerstr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="1156285">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="String(&quot;\'&quot;)" class="string">&quot;'&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1156285" title="TreeCheckers.this.global.Symbol">s</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\'&quot;)" class="string">&quot;'&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1156285" title="TreeCheckers.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)String" id="652725">wholetreestr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1156288">t</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../../../Function1.scala.html#59555" title="(v1: TreeCheckers.this.global.nodePrinters.global.Tree)String">nodeToString</a><span class="delimiter">(</span><a href="#1156288" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)String" id="652726">beststr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1156292">t</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span title="String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">{</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156292" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1156292" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="String(&quot;sym=&quot;)" class="string">&quot;sym=&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652724" title="(s: TreeCheckers.this.global.Symbol)String">ownerstr</a><span class="delimiter">(</span><a href="#1156292" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156292" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441983" title="=&gt; Boolean">isComplete</a><span class="delimiter">)</span> <span title="String(&quot;tpe=&quot;)" class="string">&quot;tpe=&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652722" title="(x: TreeCheckers.this.global.Type)String">typestr</a><span class="delimiter">(</span><a href="#1156292" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#1156292" title="TreeCheckers.this.global.Tree">t</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#1156308" title="Any" id="1156311">x</a>: DefTree =&gt; <span title="String(&quot;name=&quot;)" class="string">&quot;name=&quot;</span> <a href="#1156313" title="(x: Any)Any">+</a> x.<a href="../../../reflect/api/Trees.scala.html#427236" title="=&gt; TreeCheckers.this.global.Name">name</a>
      <span class="keyword">case</span> <a href="#1156308" title="Any" id="1156312">x</a>: RefTree =&gt; <span title="String(&quot;reference=&quot;)" class="string">&quot;reference=&quot;</span> <a href="#1156313" title="(x: Any)Any">+</a> x.<a href="../../../reflect/api/Trees.scala.html#427671" title="=&gt; TreeCheckers.this.global.Name">name</a>
      <span class="keyword">case</span> _          =&gt; <span title="String(&quot;clazz=&quot;)" class="string">&quot;clazz=&quot;</span> <a href="#1156313" title="(x: Any)Any">+</a> <a href="#652721" title="(x: AnyRef)String">classstr</a><span class="delimiter">(</span><a href="#1156292" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>

  /** This is a work in progress, don't take it too seriously.
   */
  <span class="keyword">object</span> <a title="TreeCheckers.this.SymbolTracker.type" id="652727">SymbolTracker</a> <a href="#652728" title="TreeCheckers.this.SymbolTracker.type" class="keyword">extends</a> <a href="../../../reflect/api/Trees.scala.html#23760" title="TreeCheckers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]" id="1156320">PhaseMap</a> = mutable.<a href="../../../collection/mutable/HashMap.scala.html#12880" title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]">HashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]" id="1156321">defSyms</a>       = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#61654" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (TreeCheckers.this.global.Symbol, List[TreeCheckers.this.global.DefTree])*)scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="TreeCheckers.this.global.Symbol">Symbol</a>, <a href="../../../collection/immutable/List.scala.html#12322" title="List[TreeCheckers.this.global.DefTree]">List</a><span class="delimiter">[</span>DefTree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../collection/mutable/Map.scala.html#78489" title="(d: List[TreeCheckers.this.global.DefTree])scala.collection.mutable.Map[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]">withDefaultValue</a> <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]" id="1156323">newSyms</a>       = mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: TreeCheckers.this.global.Symbol*)scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])]" id="1156325">maps</a>          = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: (scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)*)scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]" class="delimiter">[</span><a href="../../../Tuple2.scala.html#1222" title="(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)" class="delimiter">(</a>Phase, PhaseMap<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="1156327">movedMsgs</a>     = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: String*)scala.collection.mutable.ListBuffer[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]" id="1156329">prev</a>          = <a href="#1156325" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])]">maps</a>.<a href="../../../collection/TraversableLike.scala.html#59015" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])]">init</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68097" title="=&gt; (scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])">last</a>.<a href="../../../Tuple2.scala.html#61508" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]">_2</a>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]" id="1156330">latest</a>        = <a href="#1156325" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])]">maps</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68097" title="=&gt; (scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])">last</a>.<a href="../../../Tuple2.scala.html#61508" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]">_2</a>
    <span class="keyword">def</span> <a title="=&gt; List[TreeCheckers.this.global.Symbol]" id="1156331">sortedNewSyms</a> = <a href="#1156323" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a>.<a href="../../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[TreeCheckers.this.global.Symbol]">toList</a>.<a href="../../../collection/SeqLike.scala.html#59789" title="=&gt; List[TreeCheckers.this.global.Symbol]">distinct</a> <a href="../../../collection/SeqLike.scala.html#59827" title="(f: TreeCheckers.this.global.Symbol =&gt; TreeCheckers.this.global.Symbol#NameType)(implicit ord: scala.math.Ordering[TreeCheckers.this.global.Symbol#NameType])List[TreeCheckers.this.global.Symbol]">sortBy</a> <span class="delimiter">(</span><a href="#1156363" title="TreeCheckers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; x$4.NameType">name</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sym: TreeCheckers.this.global.Symbol)Boolean" id="1156332">inPrev</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="1156372">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="#1156325" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])]">maps</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67853" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1156329" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]">prev</a> <a href="../../../collection/mutable/HashMap.scala.html#79205" title="(key: TreeCheckers.this.global.Symbol)Boolean">contains</a> <a href="#1156372" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(sym: TreeCheckers.this.global.Symbol, tree: TreeCheckers.this.global.Tree)Any" id="1156333">record</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="1156388">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TreeCheckers.this.global.Symbol">Symbol</a>, <a title="TreeCheckers.this.global.Tree" id="1156389">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156330" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]">latest</a> <a href="../../../collection/mutable/HashMap.scala.html#79205" title="(key: TreeCheckers.this.global.Symbol)Boolean">contains</a> <a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/mutable/HashMap.scala.html#79209" title="(key: TreeCheckers.this.global.Symbol, value: List[TreeCheckers.this.global.Tree])Unit">latest</a><span class="delimiter">(</span><a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="../../../collection/mutable/HashMap.scala.html#79206" title="(key: TreeCheckers.this.global.Symbol)List[TreeCheckers.this.global.Tree]">latest</a><span class="delimiter">(</span><a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#59810" title="(elem: TreeCheckers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeCheckers.this.global.Tree],TreeCheckers.this.global.Tree,List[TreeCheckers.this.global.Tree]])List[TreeCheckers.this.global.Tree]">:+</a> <a href="#1156389" title="TreeCheckers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="../../../collection/mutable/HashMap.scala.html#79209" title="(key: TreeCheckers.this.global.Symbol, value: List[TreeCheckers.this.global.Tree])Unit">latest</a><span class="delimiter">(</span><a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: TreeCheckers.this.global.Tree*)List[TreeCheckers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1156389" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156332" title="(sym: TreeCheckers.this.global.Symbol)Boolean">inPrev</a><span class="delimiter">(</span><a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TreeCheckers.this.global.Tree]" id="1156491">prevTrees</a> = <a href="../../../collection/mutable/HashMap.scala.html#79206" title="(key: TreeCheckers.this.global.Symbol)List[TreeCheckers.this.global.Tree]">prev</a><span class="delimiter">(</span><a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156491" title="List[TreeCheckers.this.global.Tree]">prevTrees</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: TreeCheckers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1156519">t</a> =&gt; <span class="delimiter">(</span><a href="#1156519" title="TreeCheckers.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1156389" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1156519" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156491" title="List[TreeCheckers.this.global.Tree]">prevTrees</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: TreeCheckers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1156526" title="TreeCheckers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443491" title="=&gt; TreeCheckers.this.global.Symbol">implClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#652730" title="(msg: Any)Unit">errorFn</a><span class="delimiter">(</span><span title="String(&quot;Noticed &quot;)" class="string">&quot;Noticed &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652724" title="(s: TreeCheckers.this.global.Symbol)String">ownerstr</a><span class="delimiter">(</span><a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; moving to implementation class.&quot;)" class="string">&quot; moving to implementation class.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[String]" id="1156542">s1</a> = <span class="delimiter">(</span><a href="#1156491" title="List[TreeCheckers.this.global.Tree]">prevTrees</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: TreeCheckers.this.global.Tree =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeCheckers.this.global.Tree],String,List[String]])List[String]">map</a> <a href="#652725" title="(t: TreeCheckers.this.global.Tree)String">wholetreestr</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#59830" title="(implicit ord: scala.math.Ordering[String])List[String]">sorted</a>.<a href="../../../collection/SeqLike.scala.html#59789" title="=&gt; List[String]">distinct</a>
          <span class="keyword">val</span> <a title="String" id="1156543">s2</a> = <a href="#652725" title="(t: TreeCheckers.this.global.Tree)String">wholetreestr</a><span class="delimiter">(</span><a href="#1156389" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156542" title="List[String]">s1</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1156543" title="String">s2</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1156327" title="=&gt; scala.collection.mutable.ListBuffer[String]">movedMsgs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.movedMsgs.type">+=</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n** %s moved:\n** Previously:\n%s\n** Currently:\n%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#652724" title="(s: TreeCheckers.this.global.Symbol)String">ownerstr</a><span class="delimiter">(</span><a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#1156542" title="List[String]">s1</a> <a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <a href="#1156543" title="String">s2</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#1156323" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a> <a href="../../../collection/mutable/HashSet.scala.html#141570" title="(elem: TreeCheckers.this.global.Symbol)scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.newSyms.type">+=</a> <a href="#1156388" title="TreeCheckers.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="()Unit" id="1156334">reportChanges</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
      // new symbols
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156323" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#652732" title="(msg: Any)Unit">informFn</a><span class="delimiter">(</span><a href="#1156323" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a>.<a href="../../../collection/mutable/HashSet.scala.html#141568" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57881" title="(x: String)String">+</a> <span title="String(&quot; new symbols.&quot;)" class="string">&quot; new symbols.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="String" id="1156677">toPrint</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#1156331" title="=&gt; List[TreeCheckers.this.global.Symbol]">sortedNewSyms</a> <a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

        <a href="#1156323" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a>.<a href="../../../collection/mutable/HashSet.scala.html#141575" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156677" title="String">toPrint</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <a href="#652732" title="(msg: Any)Unit">informFn</a><span class="delimiter">(</span><a href="#1156677" title="String">toPrint</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // moved symbols
      <a href="#1156327" title="=&gt; scala.collection.mutable.ListBuffer[String]">movedMsgs</a> <a href="../../../collection/generic/TraversableForwarder.scala.html#68048" title="(f: String =&gt; Unit)Unit">foreach</a> <a href="#652730" title="(msg: Any)Unit">errorFn</a>
      <a href="#1156327" title="=&gt; scala.collection.mutable.ListBuffer[String]">movedMsgs</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67859" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>

      // duplicate defs
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span>sym, defs<span class="delimiter">)</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: ((TreeCheckers.this.global.Symbol, List[TreeCheckers.this.global.DefTree])) =&gt; Unit)Unit" id="1156726">defSyms</a> ; <span class="keyword">if</span> defs.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <a href="#1156738" title="(x: Boolean)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#652730" title="(msg: Any)Unit">errorFn</a><a href="#1156815" title="(x: Unit)Unit" class="delimiter">(</a><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s DefTrees with symbol '%s': %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>defs.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a>, <a href="#652724" title="(s: TreeCheckers.this.global.Symbol)String">ownerstr</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>, defs <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: TreeCheckers.this.global.DefTree =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeCheckers.this.global.DefTree],String,List[String]])List[String]">map</a> <a href="#652726" title="(t: TreeCheckers.this.global.Tree)String">beststr</a> <a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#1156321" title="=&gt; scala.collection.mutable.Map[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]">defSyms</a>.<a href="../../../collection/mutable/MapLike.scala.html#78516" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(ph: scala.tools.nsc.Phase, unit: TreeCheckers.this.global.CompilationUnit)Unit" id="1156335">check</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="1156830">ph</a>: <a href="../../../reflect/internal/Phase.scala.html#20058" title="scala.tools.nsc.Phase">Phase</a>, <a title="TreeCheckers.this.global.CompilationUnit" id="1156831">unit</a>: <a href="../CompilationUnits.scala.html#559797" title="TreeCheckers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156325" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])]">maps</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68051" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1156325" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])]">maps</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68097" title="=&gt; (scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])">last</a>.<a href="../../../Tuple2.scala.html#61506" title="=&gt; scala.reflect.internal.Phase">_1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1156830" title="scala.tools.nsc.Phase">ph</a><span class="delimiter">)</span>
        <a href="#1156325" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])]">maps</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: (scala.reflect.internal.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]))scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.maps.type">+=</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#63804" title="(_1: scala.tools.nsc.Phase, _2: scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])(scala.tools.nsc.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])" class="delimiter">(</a><a href="#1156830" title="scala.tools.nsc.Phase">ph</a>, <a href="../../../collection/mutable/HashMap.scala.html#79203" title="()scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]" class="keyword">new</a> <a href="#1156320" title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]">PhaseMap</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#652717" title="=&gt; scala.collection.mutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)]">currentTrees</a>.<a href="../../../collection/mutable/MapLike.scala.html#78516" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#1156336" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1156831" title="TreeCheckers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560800" title="=&gt; TreeCheckers.this.global.Tree">body</a><span class="delimiter">)</span>
      <a href="#652715" title="=&gt; scala.collection.mutable.ListBuffer[(scala.reflect.internal.Phase, scala.collection.immutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])]">everything</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: (scala.reflect.internal.Phase, scala.collection.immutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)]))TreeCheckers.this.everything.type">+=</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#63804" title="(_1: scala.tools.nsc.Phase, _2: scala.collection.immutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])(scala.tools.nsc.Phase, scala.collection.immutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)])" class="delimiter">(</a><a href="#1156830" title="scala.tools.nsc.Phase">ph</a>, <a href="#652717" title="=&gt; scala.collection.mutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)]">currentTrees</a>.<a href="../../../collection/TraversableOnce.scala.html#59184" title="(implicit ev: &lt;:&lt;[(TreeCheckers.this.global.Tree, (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)),(TreeCheckers.this.global.Tree, (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type))])scala.collection.immutable.Map[TreeCheckers.this.global.Tree,(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)]">toMap</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#1156334" title="()Unit">reportChanges</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree)Unit" id="1156336">traverse</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1156866">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="1156896">sym</a>    = <a href="#1156866" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a>
      <a href="../../../collection/mutable/MapLike.scala.html#78496" title="(key: TreeCheckers.this.global.Tree, value: (TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type))Unit">currentTrees</a><span class="delimiter">(</span><a href="#1156866" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#63804" title="(_1: TreeCheckers.this.global.Symbol, _2: TreeCheckers.this.global.Type)(TreeCheckers.this.global.Symbol, TreeCheckers.this.global.Type)" class="delimiter">(</a><a href="#1156896" title="TreeCheckers.this.global.Symbol">sym</a>, <a href="#1156866" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1156896" title="TreeCheckers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1156896" title="TreeCheckers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1156333" title="(sym: TreeCheckers.this.global.Symbol, tree: TreeCheckers.this.global.Tree)Any">record</a><span class="delimiter">(</span><a href="#1156896" title="TreeCheckers.this.global.Symbol">sym</a>, <a href="#1156866" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#1156866" title="TreeCheckers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#1157011" title="Unit" id="1157013">x</a>: DefTree =&gt; <a href="../../../collection/mutable/MapLike.scala.html#78496" title="(key: TreeCheckers.this.global.Symbol, value: List[TreeCheckers.this.global.DefTree])Unit">defSyms</a><span class="delimiter">(</span><a href="#1156896" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="#1157014" title="(x: Unit)Unit">:+=</a> x
          <span class="keyword">case</span> _          =&gt; <a href="#1157014" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">super</span>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1156866" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(p: TreeCheckers.this.global.Position)String" id="652729">posstr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Position" id="1157020">p</a>: <a href="../util/Position.scala.html#52230" title="TreeCheckers.this.global.Position">Position</a><span class="delimiter">)</span> =
    <span class="keyword">try</span> <a href="#1157020" title="TreeCheckers.this.global.Position">p</a>.<a href="../util/Position.scala.html#445352" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561670" title="=&gt; String">path</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157020" title="TreeCheckers.this.global.Position">p</a>.<a href="../util/Position.scala.html#445379" title="=&gt; Int">line</a>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="String">_</span>: <span title="UnsupportedOperationException">UnsupportedOperationException</span> =&gt; <a href="#1157020" title="TreeCheckers.this.global.Position">p</a>.<span title="()String">toString</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(msg: Any)Unit" id="652730">errorFn</a><span class="delimiter">(</span><a title="Any" id="1156540">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a>                = <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[check: %s] %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452433" title="=&gt; scala.reflect.internal.Phase">prev</a>, <a href="#1156540" title="Any">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit" id="652731">errorFn</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Position" id="1156537">pos</a>: <a href="../util/Position.scala.html#52230" title="TreeCheckers.this.global.Position">Position</a>, <a title="Any" id="1156538">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <a href="#652730" title="(msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#652729" title="(p: TreeCheckers.this.global.Position)String">posstr</a><span class="delimiter">(</span><a href="#1156537" title="TreeCheckers.this.global.Position">pos</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1156538" title="Any">msg</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: Any)Unit" id="652732">informFn</a><span class="delimiter">(</span><a title="Any" id="1156678">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#467685" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">verbose</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
      <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[check: %s] %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452433" title="=&gt; scala.reflect.internal.Phase">prev</a>, <a href="#1156678" title="Any">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(cond: Boolean, msg: =&gt; Any)Unit" id="652733">assertFn</a><span class="delimiter">(</span><a title="Boolean" id="1157046">cond</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="=&gt; Any" id="1157047">msg</a>: =&gt; Any<span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1157046" title="Boolean">cond</a><span class="delimiter">)</span> <a href="#652730" title="(msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#1157047" title="=&gt; Any">msg</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()Unit" id="652734">checkTrees</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#652732" title="(msg: Any)Unit">informFn</a><span class="delimiter">(</span><span title="String(&quot;[consistency check at the beginning of phase &quot;)" class="string">&quot;[consistency check at the beginning of phase &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
    <a href="../Global.scala.html#559697" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561351" title="=&gt; Iterator[TreeCheckers.this.global.CompilationUnit]">units</a> <a href="../../../collection/Iterator.scala.html#65240" title="(f: TreeCheckers.this.global.CompilationUnit =&gt; Unit)Unit">foreach</a> <a href="#652741" title="(unit: TreeCheckers.this.global.CompilationUnit)Unit">check</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](body: =&gt; T)T" id="652735">printingTypings</a><span class="delimiter">[</span><a title="" id="652737">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="1157068">body</a>: =&gt; T<span class="delimiter">)</span>: <a href="#652737" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="1157071">saved</a> = <a href="Analyzer.scala.html#560057" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#559577" title="=&gt; Boolean">printTypings</a>
    <a href="Analyzer.scala.html#560057" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#559578" title="(x$1: Boolean)Unit">printTypings</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">val</span> <a title="T" id="1157072">result</a> = <a href="#1157068" title="=&gt; T">body</a>
    <a href="Analyzer.scala.html#560057" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#559578" title="(x$1: Boolean)Unit">printTypings</a> = <a href="#1157071" title="Boolean">saved</a>
    <a href="#1157072" title="T">result</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[T](unit: TreeCheckers.this.global.CompilationUnit)(body: =&gt; Unit)Unit" id="652738">runWithUnit</a><span class="delimiter">[</span><a title="" id="652740">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="TreeCheckers.this.global.CompilationUnit" id="1157073">unit</a>: <a href="../CompilationUnits.scala.html#559797" title="TreeCheckers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Unit" id="1157074">body</a>: =&gt; Unit<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeCheckers.this.global.CompilationUnit" id="1157076">unit0</a> = <a href="../Global.scala.html#559698" title="=&gt; TreeCheckers.this.global.CompilationUnit">currentUnit</a>
    <a href="../Global.scala.html#559697" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561257" title="(x$1: TreeCheckers.this.global.CompilationUnit)Unit">currentUnit</a> = <a href="#1157073" title="TreeCheckers.this.global.CompilationUnit">unit</a>
    <a href="#1157074" title="=&gt; Unit">body</a>
    <a href="../Global.scala.html#559697" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561309" title="()Unit">advanceUnit</a>
    <a href="#652733" title="(cond: Boolean, msg: =&gt; Any)Unit">assertFn</a><span class="delimiter">(</span><a href="../Global.scala.html#559698" title="=&gt; TreeCheckers.this.global.CompilationUnit">currentUnit</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1157073" title="TreeCheckers.this.global.CompilationUnit">unit</a>, <span title="String(&quot;currentUnit is &quot;)" class="string">&quot;currentUnit is &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#559698" title="=&gt; TreeCheckers.this.global.CompilationUnit">currentUnit</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, but unit is &quot;)" class="string">&quot;, but unit is &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157073" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#559697" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561257" title="(x$1: TreeCheckers.this.global.CompilationUnit)Unit">currentUnit</a> = <a href="#1157076" title="TreeCheckers.this.global.CompilationUnit">unit0</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(unit: TreeCheckers.this.global.CompilationUnit)Unit" id="652741">check</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.CompilationUnit" id="1157063">unit</a>: <a href="../CompilationUnits.scala.html#559797" title="TreeCheckers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../Global.scala.html#559542" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="String(&quot;checking &quot;)" class="string">&quot;checking &quot;</span><span title="(x$1: Any)String">+</span><a href="#1157063" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeCheckers.this.Context" id="1157083">context</a> = <a href="Contexts.scala.html#560080" title="(unit: TreeCheckers.this.global.CompilationUnit)TreeCheckers.this.Context">rootContext</a><span class="delimiter">(</span><a href="#1157063" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="#1157083" title="TreeCheckers.this.Context">context</a>.<a href="Contexts.scala.html#560914" title="(x$1: Boolean)Unit">checking</a> = <span title="Boolean(true)" class="keyword">true</span>
    <a href="#652719" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]">tpeOfTree</a>.<a href="../../../collection/mutable/HashMap.scala.html#79201" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#652727" title="TreeCheckers.this.SymbolTracker.type">SymbolTracker</a>.<a href="#1156335" title="(ph: scala.tools.nsc.Phase, unit: TreeCheckers.this.global.CompilationUnit)Unit">check</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>, <a href="#1157063" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeCheckers.this.TreeChecker" id="1157084">checker</a> = <span title="TreeCheckers.this.TreeChecker" class="keyword">new</span> <a href="#652743" title="TreeCheckers.this.TreeChecker">TreeChecker</a><span class="delimiter">(</span><a href="#1157083" title="TreeCheckers.this.Context">context</a><span class="delimiter">)</span>
    <a href="#652738" title="(unit: TreeCheckers.this.global.CompilationUnit)(body: =&gt; Unit)Unit">runWithUnit</a><span class="delimiter">(</span><a href="#1157063" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#1157084" title="TreeCheckers.this.TreeChecker">checker</a>.<a href="#1157106" title="checker.precheck.type">precheck</a>.<a href="#1157113" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1157063" title="TreeCheckers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560800" title="=&gt; TreeCheckers.this.global.Tree">body</a><span class="delimiter">)</span>
      <a href="#1157084" title="TreeCheckers.this.TreeChecker">checker</a>.<a href="Typers.scala.html#560768" title="(tree: TreeCheckers.this.global.Tree)TreeCheckers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1157063" title="TreeCheckers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560800" title="=&gt; TreeCheckers.this.global.Tree">body</a><span class="delimiter">)</span>
      <a href="#1157084" title="TreeCheckers.this.TreeChecker">checker</a>.<a href="#1157108" title="checker.postcheck.type">postcheck</a>.<a href="#1157136" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1157063" title="TreeCheckers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560800" title="=&gt; TreeCheckers.this.global.Tree">body</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: TreeCheckers.this.Context)TreeCheckers.this.Typer" id="652742">newTyper</a><span class="delimiter">(</span><a title="TreeCheckers.this.Context" id="1157140">context</a>: <a href="Contexts.scala.html#560086" title="TreeCheckers.this.Context">Context</a><span class="delimiter">)</span>: <a href="Typers.scala.html#560207" title="TreeCheckers.this.Typer">Typer</a> = <span title="TreeCheckers.this.TreeChecker" class="keyword">new</span> <a href="#652743" title="TreeCheckers.this.TreeChecker">TreeChecker</a><span class="delimiter">(</span><a href="#1157140" title="TreeCheckers.this.Context">context</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class TreeChecker extends TreeCheckers.this.Typer" id="652743">TreeChecker</a><a href="#652743" title="TreeCheckers.this.TreeChecker" class="delimiter">(</a><a title="TreeCheckers.this.Context" id="1157110">context0</a>: <a href="Contexts.scala.html#560086" title="TreeCheckers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Typers.scala.html#560207" title="TreeCheckers.this.Typer">Typer</a><span class="delimiter">(</span><a href="#1157110" title="TreeCheckers.this.Context">context0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(templ: TreeCheckers.this.global.Template, clazz: TreeCheckers.this.global.Symbol, context: TreeCheckers.this.Context)TreeCheckers.this.global.Template" id="1157098">finishMethodSynthesis</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Template" id="1157146">templ</a>: <a href="../../../reflect/api/Trees.scala.html#23621" title="TreeCheckers.this.global.Template">Template</a>, <a title="TreeCheckers.this.global.Symbol" id="1157147">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TreeCheckers.this.global.Symbol">Symbol</a>, <a title="TreeCheckers.this.Context" id="1157148">context</a>: <a href="Contexts.scala.html#560086" title="TreeCheckers.this.Context">Context</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23621" title="TreeCheckers.this.global.Template">Template</a> = <span class="delimiter">{</span>
      // If we don't intercept this all the synthetics get added at every phase,
      // with predictably unfortunate results.
      <a href="#1157146" title="TreeCheckers.this.global.Template">templ</a>
    <span class="delimiter">}</span>

    // XXX check for tree.original on TypeTrees.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t1: TreeCheckers.this.global.Tree, t2: TreeCheckers.this.global.Tree)Unit" id="1157099">treesDiffer</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157156">t1</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a>, <a title="TreeCheckers.this.global.Tree" id="1157157">t2</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <a href="#652731" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#1157156" title="TreeCheckers.this.global.Tree">t1</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="String(&quot;trees differ\n old: &quot;)" class="string">&quot;trees differ\n old: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652723" title="(t: TreeCheckers.this.global.Tree)String">treestr</a><span class="delimiter">(</span><a href="#1157156" title="TreeCheckers.this.global.Tree">t1</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n new: &quot;)" class="string">&quot;\n new: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652723" title="(t: TreeCheckers.this.global.Tree)String">treestr</a><span class="delimiter">(</span><a href="#1157157" title="TreeCheckers.this.global.Tree">t2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree, tp1: TreeCheckers.this.global.Type, tp2: TreeCheckers.this.global.Type)Unit" id="1157100">typesDiffer</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157163">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a>, <a title="TreeCheckers.this.global.Type" id="1157164">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="TreeCheckers.this.global.Type">Type</a>, <a title="TreeCheckers.this.global.Type" id="1157165">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="TreeCheckers.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="#652731" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#1157163" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="String(&quot;types differ\n old: &quot;)" class="string">&quot;types differ\n old: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157164" title="TreeCheckers.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n new: &quot;)" class="string">&quot;\n new: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157165" title="TreeCheckers.this.global.Type">tp2</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n tree: &quot;)" class="string">&quot;\n tree: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157163" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree, shouldBe: TreeCheckers.this.global.Symbol)Unit" id="1157101">ownersDiffer</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157171">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a>, <a title="TreeCheckers.this.global.Symbol" id="1157172">shouldBe</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="1157173">sym</a> = <a href="#1157171" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a>
      <a href="#652731" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#1157171" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; has wrong owner: &quot;)" class="string">&quot; has wrong owner: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652724" title="(s: TreeCheckers.this.global.Symbol)String">ownerstr</a><span class="delimiter">(</span><a href="#1157173" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, should be: &quot;)" class="string">&quot;, should be: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652724" title="(s: TreeCheckers.this.global.Symbol)String">ownerstr</a><span class="delimiter">(</span><a href="#1157172" title="TreeCheckers.this.global.Symbol">shouldBe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** XXX Disabled reporting of position errors until there is less noise. */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)Unit" id="1157102">noPos</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157181">t</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> // errorFn(&quot;no pos: &quot; + treestr(t))
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)Unit" id="1157103">noType</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157182">t</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <a href="#652731" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#1157182" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="String(&quot;no type: &quot;)" class="string">&quot;no type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652723" title="(t: TreeCheckers.this.global.Tree)String">treestr</a><span class="delimiter">(</span><a href="#1157182" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)Unit" id="1157104">checkSym</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157188">t</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157188" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#652731" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#1157188" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="String(&quot;no symbol: &quot;)" class="string">&quot;no symbol: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#652723" title="(t: TreeCheckers.this.global.Tree)String">treestr</a><span class="delimiter">(</span><a href="#1157188" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree, mode: Int, pt: TreeCheckers.this.global.Type)TreeCheckers.this.global.Tree" id="1157105">typed</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157117">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a>, <a title="Int" id="1157118">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="TreeCheckers.this.global.Type" id="1157119">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="TreeCheckers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a> = <a href="../util/package.scala.html#57317" title="(x: TreeCheckers.this.global.Tree)(f: TreeCheckers.this.global.Tree =&gt; Unit)TreeCheckers.this.global.Tree">returning</a><span class="delimiter">(</span><a href="#1157117" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[TreeCheckers.this.global.Tree,Unit] with Serializable" id="1157207" class="delimiter">{</a>
      <span class="keyword">case</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Unit" id="1157244">EmptyTree</a> | TypeTree<a href="#1157240" title="Boolean" id="1157243" class="delimiter">(</a><span class="delimiter">)</span> =&gt; <a href="#1157245" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ <span class="keyword">if</span> <a href="#1157117" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>  =&gt;
        <a href="#652719" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]">tpeOfTree</a>.<a href="../../../collection/mutable/MapLike.scala.html#78517" title="(key: TreeCheckers.this.global.Tree, op: =&gt; TreeCheckers.this.global.Type)TreeCheckers.this.global.Type">getOrElseUpdate</a><span class="delimiter">(</span><a href="#1157117" title="TreeCheckers.this.global.Tree">tree</a>, <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="TreeCheckers.this.global.Type" id="1157218">saved</a> = <a href="#1157117" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a>
          <a href="#1157117" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: TreeCheckers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#1157218" title="TreeCheckers.this.global.Type">saved</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#652743" title="TreeCheckers.this.TreeChecker" class="keyword">super</a>.<a href="Typers.scala.html#560765" title="(tree: TreeCheckers.this.global.Tree, mode: Int, pt: TreeCheckers.this.global.Type)TreeCheckers.this.global.Tree">typed</a><a href="#1157230" title="Unit" class="delimiter">(</a><a href="#1157117" title="TreeCheckers.this.global.Tree">tree</a>, <a href="#1157118" title="Int">mode</a>, <a href="#1157119" title="TreeCheckers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> _: Literal     =&gt; <a href="#1157233" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
          <span class="keyword">case</span> x <span class="keyword">if</span> x <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1157117" title="TreeCheckers.this.global.Tree">tree</a> =&gt; <a href="#1157099" title="(t1: TreeCheckers.this.global.Tree, t2: TreeCheckers.this.global.Tree)Unit">treesDiffer</a><a href="#1157233" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1157117" title="TreeCheckers.this.global.Tree">tree</a>, x<span class="delimiter">)</span>
          <span class="keyword">case</span> _              =&gt; <a href="#1157233" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> _ =&gt; <a href="#1157245" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="TreeChecker.this.precheck.type" id="1157106">precheck</a> <a href="#1157107" title="TreeChecker.this.precheck.type" class="keyword">extends</a> <a href="../../../reflect/api/Trees.scala.html#23760" title="TreeCheckers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree)Unit" id="1157113">traverse</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157114">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="1157266">sym</a> = <a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a>
        <span class="keyword">def</span> <a title="=&gt; TreeCheckers.this.global.Symbol" id="1157267">accessed</a> = <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443488" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a>
        <span class="keyword">def</span> <a title="(msg: String)Unit" id="1157268">fail</a><span class="delimiter">(</span><a title="String" id="1157272">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#652731" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <a href="#1157272" title="String">msg</a> <span title="(x$1: Any)String">+</span> <a href="#652721" title="(x: AnyRef)String">classstr</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>

        <a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> DefDef<a href="#1157441" title="Unit" id="1157449" class="delimiter">(</a>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#1157467" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443614" title="=&gt; Boolean">hasAccessorFlag</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; TreeCheckers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; TreeCheckers.this.global.Type">resultType</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> _: ConstantType  =&gt; <a href="#1157344" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
                <span class="keyword">case</span> _                =&gt;
                  <a href="#1157104" title="(t: TreeCheckers.this.global.Tree)Unit">checkSym</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  /** XXX: lots of syms show up here with accessed == NoSymbol. */
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157267" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="1157322">agetter</a> = <a href="#1157267" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#443525" title="(base: TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="1157323">asetter</a> = <a href="#1157267" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#443527" title="(base: TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span>

                    <a href="#652733" title="(cond: Boolean, msg: =&gt; Any)Unit">assertFn</a><span class="delimiter">(</span><a href="#1157322" title="TreeCheckers.this.global.Symbol">agetter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1157323" title="TreeCheckers.this.global.Symbol">asetter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>,
                      <a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; is getter or setter, but accessed sym &quot;)" class="string">&quot; is getter or setter, but accessed sym &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157267" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; shows &quot;)" class="string">&quot; shows &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157322" title="TreeCheckers.this.global.Symbol">agetter</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157323" title="TreeCheckers.this.global.Symbol">asetter</a>
                    <span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> ValDef<a href="#1157441" title="Unit" id="1157455" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#1157467" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443313" title="=&gt; Boolean">hasGetter</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443348" title="=&gt; Boolean">isOuterField</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#652733" title="(cond: Boolean, msg: =&gt; Any)Unit">assertFn</a><span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443525" title="(base: TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; TreeCheckers.this.global.NoSymbol">NoSymbol</a>, <a href="#652724" title="(s: TreeCheckers.this.global.Symbol)String">ownerstr</a><span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has getter but cannot be found. &quot;)" class="string">&quot; has getter but cannot be found. &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> Apply<a href="#1157441" title="Unit" id="1157457" class="delimiter">(</a>fn, args<span class="delimiter">)</span> =&gt;
            <a href="#1157467" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span>args <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: TreeCheckers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1157383" title="TreeCheckers.this.global.Tree">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="TreeCheckers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#652731" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="String(&quot;Apply arguments to &quot;)" class="string">&quot;Apply arguments to &quot;</span> <span title="(x$1: Any)String">+</span> fn <span title="(x$1: Any)String">+</span> <span title="String(&quot; contains an empty tree: &quot;)" class="string">&quot; contains an empty tree: &quot;</span> <span title="(x$1: Any)String">+</span> args<span class="delimiter">)</span>

          <span class="keyword">case</span> Select<a href="#1157441" title="Unit" id="1157459" class="delimiter">(</a>qual, name<span class="delimiter">)</span> =&gt;
            <a href="#1157104" title="(t: TreeCheckers.this.global.Tree)Unit">checkSym</a><a href="#1157467" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> This<a href="#1157441" title="Unit" id="1157462" class="delimiter">(</a>_<span class="delimiter">)</span> =&gt;
            <a href="#1157104" title="(t: TreeCheckers.this.global.Tree)Unit">checkSym</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443356" title="=&gt; Boolean">isStatic</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443616" title="=&gt; Boolean">hasModuleFlag</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#433532" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a> <a href="../../../collection/immutable/List.scala.html#63671" title="(p: TreeCheckers.this.global.Symbol =&gt; Boolean)List[TreeCheckers.this.global.Symbol]">takeWhile</a> <span class="delimiter">(</span><a href="#1157420" title="TreeCheckers.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: TreeCheckers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1157433" title="TreeCheckers.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="#1157268" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;tree symbol &quot;)" class="string">&quot;tree symbol &quot;</span><span title="(x$1: Any)String">+</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot; does not point to enclosing class; tree = &quot;)" class="string">&quot; does not point to enclosing class; tree = &quot;</span><span class="delimiter">)</span>

          /** XXX: temporary while Import nodes are arriving untyped. */
          <span class="keyword">case</span> Import<a href="#1157441" title="Unit" id="1157466" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
            <a href="#1157467" title="(x: Unit)Unit" class="keyword">return</a>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; TreeCheckers.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Positions.scala.html#441880" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="TreeCheckers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
          <a href="#1157102" title="(t: TreeCheckers.this.global.Tree)Unit">noPos</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <a href="../Global.scala.html#559697" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561319" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a><span class="delimiter">)</span>
          <a href="#1157103" title="(t: TreeCheckers.this.global.Tree)Unit">noType</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425068" title="=&gt; Boolean">isDef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1157104" title="(t: TreeCheckers.this.global.Tree)Unit">checkSym</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>

          <a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#1157548" title="Unit" id="1157550">x</a>: PackageDef    =&gt;
              <a href="#1157551" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="../../../reflect/api/Trees.scala.html#433532" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../reflect/api/Trees.scala.html#433532" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="TreeCheckers.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#442146" title="TreeCheckers.this.global.definitions.EmptyPackageClass.type">EmptyPackageClass</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#1157268" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; owner chain does not contain currentOwner &quot;)" class="string">&quot; owner chain does not contain currentOwner &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/api/Trees.scala.html#433532" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a> <span title="(x$1: Any)String">+</span> <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <span class="keyword">def</span> <a title="(s: TreeCheckers.this.global.Symbol)Boolean" id="1157507">cond</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="1157508">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1157508" title="TreeCheckers.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1157508" title="TreeCheckers.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1157508" title="TreeCheckers.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a>

              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#433532" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Any" id="1157518">expected</a> = <a href="../../../reflect/api/Trees.scala.html#433532" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76172" title="(p: TreeCheckers.this.global.Symbol =&gt; Boolean)Option[TreeCheckers.this.global.Symbol]">find</a> <span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="1157527">x</a> =&gt; <a href="#1157507" title="(s: TreeCheckers.this.global.Symbol)Boolean">cond</a><span class="delimiter">(</span><a href="#1157527" title="TreeCheckers.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#63814" title="(default: =&gt; Any)Any">getOrElse</a> <a href="#1157268" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;DefTree can\'t find owner: &quot;)" class="string">&quot;DefTree can't find owner: &quot;</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#1157518" title="Any">expected</a><span class="delimiter">)</span>
                  <a href="#1157268" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Expected owner %s (out of %s), found %s: &quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1157518" title="Any">expected</a>, <a href="../../../reflect/api/Trees.scala.html#433532" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a>, <a href="#1157266" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">super</span>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1157114" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="TreeChecker.this.postcheck.type" id="1157108">postcheck</a> <a href="#1157109" title="TreeChecker.this.postcheck.type" class="keyword">extends</a> <a href="../../../reflect/api/Trees.scala.html#23760" title="TreeCheckers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree)Unit" id="1157136">traverse</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="1157137">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1157137" title="TreeCheckers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Unit" id="1157578">EmptyTree</a> | TypeTree<a href="#1157574" title="Boolean" id="1157577" class="delimiter">(</a><span class="delimiter">)</span> =&gt; <a href="#1157579" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#652719" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]">tpeOfTree</a> <a href="../../../collection/mutable/HashMap.scala.html#79207" title="(key: TreeCheckers.this.global.Tree)Option[TreeCheckers.this.global.Type]">get</a> <a href="#1157137" title="TreeCheckers.this.global.Tree">tree</a> <a href="#1157579" title="(x: Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="TreeCheckers.this.global.Type" id="1157567">oldtpe</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1157567" title="TreeCheckers.this.global.Type">oldtpe</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: TreeCheckers.this.global.Type)Boolean">=:=</a> <a href="#1157137" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#1157100" title="(tree: TreeCheckers.this.global.Tree, tp1: TreeCheckers.this.global.Type, tp2: TreeCheckers.this.global.Type)Unit">typesDiffer</a><span class="delimiter">(</span><a href="#1157137" title="TreeCheckers.this.global.Tree">tree</a>, <a href="#1157567" title="TreeCheckers.this.global.Type">oldtpe</a>, <a href="#1157137" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span>

              <a href="#1157137" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: TreeCheckers.this.global.Type)Unit">tpe</a> = <a href="#1157567" title="TreeCheckers.this.global.Type">oldtpe</a>
              <span class="keyword">super</span>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1157137" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>