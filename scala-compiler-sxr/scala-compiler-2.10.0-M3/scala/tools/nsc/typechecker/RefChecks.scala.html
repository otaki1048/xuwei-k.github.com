<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#57302" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> <a href="../../../language.scala.html#2216" title="language.type">language</a>.postfixOps

/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.reflect.internal.transform.RefChecks" id="47250">RefChecks</a> <a href="#47250" title="scala.tools.nsc.typechecker.RefChecks" class="keyword">extends</a> <a href="../transform/InfoTransform.scala.html#44650" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> reflect.internal.transform.<a href="../../../reflect/internal/transform/RefChecks.scala.html#22851" title="scala.reflect.internal.transform.RefChecks">RefChecks</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="650780">global</a>: <a href="../Global.scala.html#27892" title="scala.tools.nsc.Global">Global</a>               // need to repeat here because otherwise last mixin defines global as
                                   // SymbolTable. If we had DOT this would not be an issue

  <span class="keyword">import</span> <a href="#650780" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="RefChecks.this.global.definitions.type">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#559643" title="RefChecks.this.global.typer.type">typer</a>.<span class="delimiter">{</span>typed, typedOperator, atOwner<span class="delimiter">}</span>

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="650784">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="650786">phaseNewFlags</a>: <a href="../../../Long.scala.html#1993" title="Long">Long</a> = <a href="../../../reflect/internal/Flags.scala.html#440938" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="650787">newTransformer</a><span class="delimiter">(</span><a title="RefChecks.this.global.CompilationUnit" id="1145190">unit</a>: <a href="../CompilationUnits.scala.html#559797" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="#650796" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#650796" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a><span class="delimiter">(</span><a href="#1145190" title="RefChecks.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="650788">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="650789">transformInfo</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="667804">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="667805">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#667804" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#667804" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443356" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="#667804" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443305" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#440938" title="=&gt; Long">lateMETHOD</a> <a href="../../../Long.scala.html#58295" title="(x: Int)Long">|</a> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span>
    <a href="#47250" title="scala.tools.nsc.typechecker.RefChecks" class="keyword">super</a>.<a href="../../../reflect/internal/transform/RefChecks.scala.html#461160" title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#667804" title="RefChecks.this.global.Symbol">sym</a>, <a href="#667805" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="650790">toJavaRepeatedParam</a> = <a href="#1145038" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#441429" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="1145038">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1145040">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1145041">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1145041" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#1145089" title="RefChecks.this.global.Type" id="1145092" class="delimiter">(</a>pre, <a href="../../../reflect/internal/Definitions.scala.html#442303" title="RefChecks.this.global.Type" id="1145095">RepeatedParamClass</a>, args<span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#441371" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><a href="#1145096" title="(x: RefChecks.this.global.Type)RefChecks.this.global.Type" class="delimiter">(</a>pre, <a href="../../../reflect/internal/Definitions.scala.html#442301" title="=&gt; RefChecks.this.global.ClassSymbol">JavaRepeatedParamClass</a>, args<span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><a href="#1145096" title="(x: RefChecks.this.global.Type)RefChecks.this.global.Type" class="delimiter">(</a><a href="#1145041" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="650792">toScalaRepeatedParam</a> = <a href="#1145124" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#441429" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="1145124">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1145126">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1145127">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a> = <a href="#1145127" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#1145154" title="RefChecks.this.global.Type" id="1145157" class="delimiter">(</a>pre, <a href="../../../reflect/internal/Definitions.scala.html#442301" title="RefChecks.this.global.Type" id="1145160">JavaRepeatedParamClass</a>, args<span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#441371" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><a href="#1145161" title="(x: RefChecks.this.global.Type)RefChecks.this.global.Type" class="delimiter">(</a>pre, <a href="../../../reflect/internal/Definitions.scala.html#442303" title="=&gt; RefChecks.this.global.ClassSymbol">RepeatedParamClass</a>, args<span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><a href="#1145161" title="(x: RefChecks.this.global.Type)RefChecks.this.global.Type" class="delimiter">(</a><a href="#1145127" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="650794">accessFlagsToString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1145285">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Flags.scala.html#441021" title="(flags: Long, privateWithin: String)String">flagsToString</a><span class="delimiter">(</span>
    <a href="#1145285" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443302" title="(mask: Long)Long">getFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span>,
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145285" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443420" title="=&gt; Boolean">hasAccessBoundary</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1145285" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443417" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; RefChecks.this.global.Symbol#NameType">name</a> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean" id="650795">overridesTypeInPrefix</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1145297">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="1145298">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="1145299">prefix</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <a href="../../../Tuple2.scala.html#63804" title="(_1: RefChecks.this.global.Type, _2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)" class="delimiter">(</a><a href="#1145297" title="RefChecks.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#1145298" title="RefChecks.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>MethodType<a title="Boolean" id="1145391" class="delimiter">(</a><a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[RefChecks.this.global.Symbol]]" id="1145417">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, rtp1<span class="delimiter">)</span>, NullaryMethodType<a title="Boolean" id="1145396" class="delimiter">(</a>rtp2<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      rtp1 <a href="#1145413" title="(x: Boolean)Boolean">&lt;:&lt;</a> rtp2
    <span class="keyword">case</span> <span class="delimiter">(</span>NullaryMethodType<a title="Boolean" id="1145400" class="delimiter">(</a>rtp1<span class="delimiter">)</span>, MethodType<a title="Boolean" id="1145403" class="delimiter">(</a><a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[RefChecks.this.global.Symbol]]" id="1145419">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, rtp2<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      rtp1 <a href="#1145413" title="(x: Boolean)Boolean">&lt;:&lt;</a> rtp2
    <span class="keyword">case</span> <span class="delimiter">(</span>TypeRef<a title="Boolean" id="1145412" class="delimiter">(</a>_, sym, _<span class="delimiter">)</span>,  _<span class="delimiter">)</span> <span class="keyword">if</span> sym.<a href="../../../reflect/internal/Symbols.scala.html#443245" title="=&gt; Boolean">isModuleClass</a> =&gt;
      <a href="#650795" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean">overridesTypeInPrefix</a><a href="#1145413" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#448404" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#1145297" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>, <a href="#1145298" title="RefChecks.this.global.Type">tp2</a>, <a href="#1145299" title="RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt;
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1145362">classBoundAsSeen</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1145363">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1145363" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443450" title="=&gt; RefChecks.this.global.Type">classBound</a>.<a href="../../../reflect/internal/Types.scala.html#442037" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#1145299" title="RefChecks.this.global.Type">prefix</a>, <a href="#1145363" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#1145297" title="RefChecks.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1145298" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span>  // object override check
        <a href="#1145297" title="RefChecks.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443245" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1145298" title="RefChecks.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443245" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1145374">cb1</a> = <a href="#1145362" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#1145297" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1145375">cb2</a> = <a href="#1145362" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#1145298" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#1145374" title="RefChecks.this.global.Type">cb1</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1145375" title="RefChecks.this.global.Type">cb2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
            <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Allowing %s to override %s because %s &lt;:&lt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1145297" title="RefChecks.this.global.Type">tp1</a>, <a href="#1145298" title="RefChecks.this.global.Type">tp2</a>, <a href="#1145374" title="RefChecks.this.global.Type">cb1</a>, <a href="#1145375" title="RefChecks.this.global.Type">cb2</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer" id="650796">RefCheckTransformer</a><a href="#650796" title="RefChecks.this.RefCheckTransformer" class="delimiter">(</a><a title="RefChecks.this.global.CompilationUnit" id="1145264">unit</a>: <a href="../CompilationUnits.scala.html#559797" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#559848" title="RefChecks.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="1145197">localTyper</a>: analyzer.<a href="Typers.scala.html#560207" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#559643" title="RefChecks.this.global.typer.type">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="1145200">currentApplication</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> = <a href="../../../reflect/api/Trees.scala.html#23577" title="RefChecks.this.global.EmptyTree.type">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="1145203">inPattern</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" id="1145206">checkedCombinations</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: List[RefChecks.this.global.Type]*)scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" class="delimiter">[</span><a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    // only one overloaded alternative is allowed to define default arguments
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="1145208">checkOverloadedRestrictions</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1145986">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
      // Using the default getters (such as methodName$default$1) as a cheap way of
      // finding methods with default parameters. This way, we can limit the members to
      // those with the DEFAULTPARAM flag, and infer the methods. Looking for the methods
      // directly requires inspecting the parameter list of every one. That modification
      // shaved 95% off the time spent in this method.
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1145987">defaultGetters</a>     = <a href="#1145986" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442083" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446175" title="=&gt; RefChecks.this.global.nme.NameType">ANYNAME</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(33554432L)">DEFAULTPARAM</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443472" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.TermName]" id="1145988">defaultMethodNames</a> = <a href="#1145987" title="List[RefChecks.this.global.Symbol]">defaultGetters</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TermName)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TermName,List[RefChecks.this.global.TermName]])List[RefChecks.this.global.TermName]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146010">sym</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446249" title="(name: RefChecks.this.global.Name)RefChecks.this.global.TermName">defaultGetterToMethod</a><span class="delimiter">(</span><a href="#1146010" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#1145988" title="List[RefChecks.this.global.TermName]">defaultMethodNames</a>.<a href="../../../collection/SeqLike.scala.html#59789" title="=&gt; List[RefChecks.this.global.TermName]">distinct</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.TermName =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.TermName" id="1146065">name</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1146066">methods</a>      = <a href="#1145986" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442083" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#1146065" title="RefChecks.this.global.TermName">name</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(64L)">METHOD</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443472" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1146067">haveDefaults</a> = <a href="#1146066" title="List[RefChecks.this.global.Symbol]">methods</a> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146072">sym</a> =&gt; <a href="#1146072" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443449" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">hasParamWhich</a><span class="delimiter">(</span><a href="#1146075" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443277" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446229" title="(name: RefChecks.this.global.Name)Boolean">isProtectedAccessorName</a><span class="delimiter">(</span><a href="#1146072" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146067" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76195" title="(len: Int)Int">lengthCompare</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1146082">owners</a> = <a href="#1146067" title="List[RefChecks.this.global.Symbol]">haveDefaults</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#1146099" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
           // constructors of different classes are allowed to have defaults
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146067" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146133">x</a> =&gt; <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146133" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1146082" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/SeqLike.scala.html#59789" title="=&gt; List[RefChecks.this.global.Symbol]">distinct</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <a href="#1146067" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1145986" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <span title="String(&quot;in &quot;)" class="string">&quot;in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#1145986" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot;, multiple overloaded alternatives of &quot;)" class="string">&quot;, multiple overloaded alternatives of &quot;</span><span title="(x$1: Any)String">+</span> <a href="#1146067" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; RefChecks.this.global.Symbol">head</a> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; define default arguments&quot;)" class="string">&quot; define default arguments&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146082" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76169" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a href="#1146145" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1145986" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
                <span class="keyword">else</span> <span title="String(&quot;.\nThe members with defaults are defined in &quot;)" class="string">&quot;.\nThe members with defaults are defined in &quot;</span><span title="(x$1: Any)String">+</span><a href="#1146082" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#1146166" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59189" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#467696" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">lint</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1145986" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#447350" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146207">x</a> =&gt; <a href="#1146207" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443592" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146207" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Scopes.scala.html#447347" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="1146230">sym</a> =&gt;
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1146231">alts</a> = <a href="#1145986" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442020" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#1146230" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443472" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146231" title="List[RefChecks.this.global.Symbol]">alts</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1146231" title="List[RefChecks.this.global.Symbol]">alts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146257">x</a> =&gt; <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1146257" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;)" class="string">&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Override checking ------------------------------------------------------------

    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Boolean" id="1145209">isJavaVarargsAncestor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146262">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <a href="#1146262" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a>
      <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146262" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a>
      <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1146262" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442021" title="=&gt; List[RefChecks.this.global.Symbol]">nonPrivateDecls</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="../../../reflect/internal/Definitions.scala.html#442312" title="(m: RefChecks.this.global.Symbol)Boolean">isJavaVarArgsMethod</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    /** Add bridges for vararg methods that extend Java vararg methods
     */
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="1145210">addVarargBridges</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146277">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      // This is quite expensive, so attempt to skip it completely.
      // Insist there at least be a java-defined ancestor which
      // defines a varargs method. TODO: Find a cheaper way to exclude.
      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442068" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="#1145209" title="(clazz: RefChecks.this.global.Symbol)Boolean">isJavaVarargsAncestor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Found java varargs ancestor in &quot;)" class="string">&quot;Found java varargs ancestor in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1146288">self</a> = <a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" id="1146289">bridges</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="1146290">varargBridge</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146291">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="1146292">bridgetpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Generating varargs bridge for &quot;)" class="string">&quot;Generating varargs bridge for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146291" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146292" title="RefChecks.this.global.Type">bridgetpe</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="member.TypeOfClonedSymbol" id="1146293">bridge</a> = <a href="#1146291" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443479" title="(owner: RefChecks.this.global.Symbol, newFlags: Long)member.TypeOfClonedSymbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#1146291" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443310" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#58296" title="(x: Long)Long">|</a> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443168" title="(pos: scala.tools.nsc.util.Position)member.TypeOfClonedSymbol">setPos</a> <a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>
          <a href="#1146293" title="member.TypeOfClonedSymbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: RefChecks.this.global.Type)bridge.type">setInfo</a><span class="delimiter">(</span><a href="#1146292" title="RefChecks.this.global.Type">bridgetpe</a>.<a href="../../../reflect/internal/Types.scala.html#442070" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#1146293" title="member.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: member.TypeOfClonedSymbol)member.TypeOfClonedSymbol">enter</a> <a href="#1146293" title="member.TypeOfClonedSymbol">bridge</a>

          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1146294">params</a>  = <a href="#1146293" title="member.TypeOfClonedSymbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#443448" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; List[RefChecks.this.global.Symbol]">head</a>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1146295">elemtp</a>  = <a href="#1146294" title="List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; RefChecks.this.global.Symbol">last</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; RefChecks.this.global.Type">head</a>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Ident]" id="1146296">idents</a>  = <a href="#1146294" title="List[RefChecks.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Ident,List[RefChecks.this.global.Ident]])List[RefChecks.this.global.Ident]">map</a> <a href="../../../reflect/internal/Trees.scala.html#441842" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Ident">Ident</a>
          <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Typed" id="1146297">lastarg</a> = <a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561785" title="(tree: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561789" title="(tree: RefChecks.this.global.gen.global.Tree, elemtp: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">mkWrapArray</a><span class="delimiter">(</span><a href="#1146296" title="List[RefChecks.this.global.Ident]">idents</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; RefChecks.this.global.Ident">last</a>, <a href="#1146295" title="RefChecks.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Apply" id="1146298">body</a>    = <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441838" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Tree">This</a><span class="delimiter">(</span><a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#1146291" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#1146296" title="List[RefChecks.this.global.Ident]">idents</a>.<a href="../../../collection/TraversableLike.scala.html#59015" title="=&gt; List[RefChecks.this.global.Ident]">init</a> <a href="../../../collection/SeqLike.scala.html#59810" title="(elem: RefChecks.this.global.Tree with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Ident],RefChecks.this.global.Tree with Serializable,List[RefChecks.this.global.Tree with Serializable]])List[RefChecks.this.global.Tree with Serializable]">:+</a> <a href="#1146297" title="RefChecks.this.global.gen.global.Typed">lastarg</a><span class="delimiter">)</span>

          <a href="#1145197" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a> <a href="Typers.scala.html#560768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> <a href="../../../reflect/internal/Trees.scala.html#441824" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1146293" title="member.TypeOfClonedSymbol">bridge</a>, <a href="#1146298" title="RefChecks.this.global.Apply">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        // For all concrete non-private members that have a (Scala) repeated parameter:
        //   compute the corresponding method type `jtpe` with a Java repeated parameter
        //   if a method with type `jtpe` exists and that method is not a varargs bridge
        //   then create a varargs bridge of type `jtpe` that forwards to the
        //   member method with the Scala vararg type.
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146626">member</a> &lt;- <a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146626" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146626" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442317" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#1146626" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1146628">inherited</a> = <a href="#1146277" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442032" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#1146626" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; member.NameType">name</a>, <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
            // Delaying calling memberType as long as possible
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146628" title="RefChecks.this.global.Symbol">inherited</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1146631">jtpe</a> = <a href="../../../reflect/internal/Types.scala.html#460839" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#1146288" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1146626" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // this is a bit tortuous: we look for non-private members or bridges
              // if we find a bridge everything is OK. If we find another member,
              // we need to create a bridge
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146628" title="RefChecks.this.global.Symbol">inherited</a> <a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146647">sym</a> =&gt; <span class="delimiter">(</span><a href="#1146288" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1146647" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#442064" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#1146631" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1146647" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
                <a href="#1146289" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: RefChecks.this.global.Tree)bridges.type">+=</a> <a href="#1146290" title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">varargBridge</a><span class="delimiter">(</span><a href="#1146626" title="RefChecks.this.global.Symbol">member</a>, <a href="#1146631" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#1146289" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[RefChecks.this.global.Tree]">toList</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
    <span class="delimiter">}</span>

    /** 1. Check all members of class `clazz` for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override` modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O.
     *    1.7. If O is an abstract type then
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *    1.9.  If M is a macro def, O cannot be deferred.
     *    1.10. If M is not a macro def, O cannot be a macro def.
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override` modifier
     *     overrides some other member.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit" id="1145211">checkAllOverrides</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146671">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="1146673">typesOnly</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1146674">self</a> = <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1146675">classBoundAsSeen</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1146688">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#1146688" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443450" title="=&gt; RefChecks.this.global.Type">classBound</a>.<a href="../../../reflect/internal/Types.scala.html#442037" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#1146674" title="RefChecks.this.global.Type">self</a>, <a href="#1146688" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends AnyRef with Product with Serializable" id="1148238">MixinOverrideError</a><a href="../../../Product.scala.html#304" title="Product" class="delimiter">(</a><a title="RefChecks.this.global.Symbol" id="1148233">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="1148234">msg</a>: <span title="String">String</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="1146679">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</a><span class="delimiter">[</span>MixinOverrideError<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="()Unit" id="1146680">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1146679" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[MixinOverrideError]">toList</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[MixinOverrideError]]" id="1146906">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[MixinOverrideError]]" id="1146908">List</a><span class="delimiter">(</span>MixinOverrideError<span class="delimiter">(</span>_, msg<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><a href="#1146902" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, msg<span class="delimiter">)</span>
          <span class="keyword">case</span> MixinOverrideError<span class="delimiter">(</span>member, msg<span class="delimiter">)</span> <a href="#1146882" title="Unit" id="1146892">::</a> others =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="1146822">others1</a> = others.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: MixinOverrideError =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixinOverrideError],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#1146839" title="MixinOverrideError">_</a>.<a href="#1148233" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; x$5.member.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#58981" title="(p: String =&gt; Boolean)List[String]">filter</a><span class="delimiter">(</span>member.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; RefChecks.this.global.Symbol#NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1146872" title="String">_</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#59789" title="=&gt; List[String]">distinct</a>
            <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
              <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>,
              msg<span title="(x$1: Any)String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146822" title="List[String]">others1</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                   <span class="keyword">else</span> <span title="String(&quot;;\n other members with override errors are: &quot;)" class="string">&quot;;\n other members with override errors are: &quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><a href="#1146822" title="List[String]">others1</a> <a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="1146681">infoString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146916">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1146683" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String">infoString0</a><span class="delimiter">(</span><a href="#1146916" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1146916" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="1146682">infoStringWithLocation</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146927">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1146683" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String">infoString0</a><span class="delimiter">(</span><a href="#1146927" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String" id="1146683">infoString0</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146917">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="1146918">showLocation</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="1146919">sym1</a> = <a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#560534" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#1146917" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443559" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146918" title="Boolean">showLocation</a><span class="delimiter">)</span>
          <a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span title="String(&quot;, which equals &quot;)" class="string">&quot;, which equals &quot;</span><span title="(x$1: Any)String">+</span><a href="#1146674" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442038" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span title="String(&quot; with bounds&quot;)" class="string">&quot; with bounds&quot;</span><span title="(x$1: Any)String">+</span><a href="#1146674" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442038" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)String">+</span><a href="#1146674" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442038" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#1146919" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Check that all conditions for overriding `other` by `member`
       *  of class `clazz` are met.
       */
      <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit" id="1146684">checkOverride</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146928">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1146929">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Checking validity of %s overriding %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a>, <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Type" id="1146930">memberTp</a> = <a href="#1146674" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Type" id="1146931">otherTp</a>  = <a href="#1146674" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1146932">noErrorType</a> = <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="RefChecks.this.global.ErrorType.type">ErrorType</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="RefChecks.this.global.ErrorType.type">ErrorType</a>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="1146933">isRootOrNone</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1146957">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1146957" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442142" title="RefChecks.this.global.definitions.RootClass.type">RootClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1146957" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1146934">isNeitherInClass</a> = <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="1146935">objectOverrideErrorMsg</a> = <span class="delimiter">(</span>
          <span title="String(&quot;overriding &quot;)" class="string">&quot;overriding &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot;an overriding object must conform to the overridden object\'s class bound&quot;)" class="string">&quot;an overriding object must conform to the overridden object's class bound&quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#560541" title="(found: RefChecks.this.global.analyzer.global.Type, req: RefChecks.this.global.analyzer.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#1146675" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#1146675" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(msg: String)String" id="1146936">overrideErrorMsg</a><span class="delimiter">(</span><a title="String" id="1146978">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="1146979">isConcreteOverAbstract</a> =
            <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a>
          <span class="keyword">val</span> <a title="String" id="1146980">addendum</a> =
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146979" title="Boolean">isConcreteOverAbstract</a><span class="delimiter">)</span>
              <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;;\n (Note that %s is abstract,\n  and is therefore overridden by concrete %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
                <a href="#1146682" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>,
                <a href="#1146682" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#560541" title="(found: RefChecks.this.global.analyzer.global.Type, req: RefChecks.this.global.analyzer.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

          <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;overriding %s;\n %s %s%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
            <a href="#1146682" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <a href="#1146681" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#1146978" title="String">msg</a>, <a href="#1146980" title="String">addendum</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(fullmsg: String)Unit" id="1146937">emitOverrideError</a><span class="delimiter">(</span><a title="String" id="1146992">fullmsg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1146992" title="String">fullmsg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1146679" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]">+=</a> <span title="MixinOverrideError" class="keyword">new</span> <a href="#1148238" title="MixinOverrideError">MixinOverrideError</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>, <a href="#1146992" title="String">fullmsg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="1146938">overrideError</a><span class="delimiter">(</span><a title="String" id="1147016">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146932" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span>
            <a href="#1146937" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span><a href="#1146936" title="(msg: String)String">overrideErrorMsg</a><span class="delimiter">(</span><a href="#1147016" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="1146939">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146932" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146937" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#1146935" title="=&gt; String">objectOverrideErrorMsg</a>
              <span class="keyword">else</span> <a href="#1146936" title="(msg: String)String">overrideErrorMsg</a><span class="delimiter">(</span><span title="String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="1146940">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="1147017">otherAccess</a> = <a href="#650794" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
          <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has weaker access privileges; it should be &quot;)" class="string">&quot;has weaker access privileges; it should be &quot;</span><span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147017" title="String">otherAccess</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="String(&quot;at least &quot;)" class="string">&quot;at least &quot;</span><span title="(x$1: Any)String">+</span><a href="#1147017" title="String">otherAccess</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        //Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG

        // return if we already checked this combination elsewhere
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1147027">deferredCheck</a>        = <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a>
          <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1147028">subOther</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147030">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#1147030" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1147029">subMember</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147032">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1147032" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147028" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1147027" title="=&gt; Boolean">deferredCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443499" title="=&gt; List[RefChecks.this.global.Symbol]">parentSymbols</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147042">p</a> =&gt; <a href="#1147028" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#1147042" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1147029" title="(s: RefChecks.this.global.Symbol)Boolean">subMember</a><span class="delimiter">(</span><a href="#1147042" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1147027" title="=&gt; Boolean">deferredCheck</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443499" title="=&gt; List[RefChecks.this.global.Symbol]">parentSymbols</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76169" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147051">p</a> =&gt; <a href="#1147028" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#1147051" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58722" title="(x: Boolean)Boolean">==</a> <a href="#1147029" title="(s: RefChecks.this.global.Symbol)Boolean">subMember</a><span class="delimiter">(</span><a href="#1147051" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        /** Is the intersection between given two lists of overridden symbols empty?
         */
        <span class="keyword">def</span> <a title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean" id="1146941">intersectionIsEmpty</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="1147057">syms1</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Symbol]" id="1147058">syms2</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
          <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1147057" title="List[RefChecks.this.global.Symbol]">syms1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1147058" title="List[RefChecks.this.global.Symbol]">syms2</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1147065" title="RefChecks.this.global.Symbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146673" title="Boolean">typesOnly</a><span class="delimiter">)</span> <a href="#1146942" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // o: public | protected        | package-protected  (aka java's default access)
          // ^-may be overridden by member with access privileges-v
          // m: public | public/protected | public/protected/package-protected-in-same-package-as-o

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> // (1.1)
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span><span class="delimiter">)</span>

          // todo: align accessibility implication checking with isAccessible in Contexts
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1147066">ob</a> = <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443414" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1147067">mb</a> = <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443414" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1147068">isOverrideAccessOK</a> = <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443606" title="=&gt; Boolean">isPublic</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>      // member is public, definitely same or relaxed access
            <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443597" title="=&gt; Boolean">isProtected</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443597" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>    // if o is protected, so is m
            <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146933" title="(sym: RefChecks.this.global.Symbol)Boolean">isRootOrNone</a><span class="delimiter">(</span><a href="#1147066" title="RefChecks.this.global.Symbol">ob</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1147066" title="RefChecks.this.global.Symbol">ob</a>.<a href="../../../reflect/internal/Symbols.scala.html#443385" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#1147067" title="RefChecks.this.global.Symbol">mb</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>  // m relaxes o's access boundary
              <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>                           // overriding a protected java member, see #3946
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147068" title="=&gt; Boolean">isOverrideAccessOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146940" title="()Unit">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot be used here - class definitions cannot be overridden&quot;)" class="string">&quot;cannot be used here - class definitions cannot be overridden&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot be used here - classes can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes can only override abstract types&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.2)
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span><span class="delimiter">)</span>;
            // synthetic exclusion needed for (at least) default getters.
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443610" title="=&gt; Boolean">isAnyOverride</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443598" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146934" title="=&gt; Boolean">isNeitherInClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#1146937" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span>
                  <a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; inherits conflicting members:\n  &quot;)" class="string">&quot; inherits conflicting members:\n  &quot;</span>
                    <span title="(x$1: Any)String">+</span> <a href="#1146682" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;  and\n  &quot;)" class="string">&quot;  and\n  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146682" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
                    <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n(Note: this can be resolved by declaring an override in &quot;)" class="string">&quot;\n(Note: this can be resolved by declaring an override in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.)&quot;)" class="string">&quot;.)&quot;</span>
                <span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs `override\' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443609" title="=&gt; Boolean">isAbstractOverride</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443372" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443609" title="=&gt; Boolean">isAbstractOverride</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs `abstract override\' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443610" title="=&gt; Boolean">isAnyOverride</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443488" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#443276" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443488" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443593" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // !?! this is not covered by the spec. We need to resolve this either by changing the spec or removing the test here.
            // !!! is there a !?! convention? I'm !!!ing this to make sure it turns up on my searches.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467482" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">overrideVars</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443610" title="=&gt; Boolean">isAnyOverride</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442068" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1147093" title="RefChecks.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#1146941" title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean">intersectionIsEmpty</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443523" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a>, <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443523" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span class="string">&quot;cannot override a concrete member without a third member that's overridden by both &quot;</span><span title="String(&quot;cannot override a concrete member without a third member that\'s overridden by both (this rule is designed to prevent ``accidental overrides\'\')&quot;)">+</span>
                          <span class="string">&quot;(this rule is designed to prevent ``accidental overrides'')&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443349" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443349" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.4)
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443274" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443593" title="=&gt; Boolean">isLazy</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443274" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443283" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443593" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443274" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443593" title="=&gt; Boolean">isLazy</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443283" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443274" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443593" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.9)
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override an abstract method&quot;)" class="string">&quot;cannot override an abstract method&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.10)
            <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a macro&quot;)" class="string">&quot;cannot override a macro&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1146942" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#467714" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryOverride</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443448" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443448" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;non-nullary method overrides nullary method&quot;)" class="string">&quot;non-nullary method overrides nullary method&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="1146942">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //if (!member.typeParams.isEmpty) (1.5)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            //if (!other.typeParams.isEmpty)  (1.5)   @MAT
            //  overrideError(&quot;may not override parameterized type&quot;);
            // @M: substSym

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1146930" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#442042" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#1146931" title="=&gt; RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> // (1.6)
              <a href="#1146939" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //if (!member.typeParams.isEmpty) // (1.7)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1147108">otherTp</a> = <a href="#1146674" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442038" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1147108" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#448306" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#1146930" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.7.1)
              <a href="#1146939" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>; // todo: do an explaintypes with bounds here
              <a href="../../../reflect/internal/Types.scala.html#441591" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any, found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1147119" title="RefChecks.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#448306" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#1147120" title="RefChecks.this.global.Type">_</a>, <a href="#1147108" title="RefChecks.this.global.Type">otherTp</a>, <a href="#1146930" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            // check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))
            // making an abstract type member concrete is like passing a type argument
            <span class="keyword">val</span> <a title="List[String]" id="1147109">kindErrors</a> = <a href="../Global.scala.html#559643" title="RefChecks.this.global.typer.type">typer</a>.<a href="Typers.scala.html#560626" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#562658" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1146930" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>, <a href="#1146674" title="RefChecks.this.global.Type">self</a>, <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> // (1.7.2)

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147109" title="List[String]">kindErrors</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>,
                <span title="String(&quot;The kind of &quot;)" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443546" title="=&gt; String">keyString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/SymbolFlags.scala.html#443649" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443556" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span>
                <span title="String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443568" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span> <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span>
                <a href="#1147109" title="List[String]">kindErrors</a>.<a href="../../../collection/immutable/List.scala.html#63665" title="=&gt; List[String]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#59189" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

            // check a type alias's RHS corresponds to its declaration
            // this overlaps somewhat with validateVariance
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // println(&quot;checkKindBounds&quot; + ((List(member), List(memberTp.normalize), self, member.owner)))
              <span class="keyword">val</span> <a title="List[String]" id="1147142">kindErrors</a> = <a href="../Global.scala.html#559643" title="RefChecks.this.global.typer.type">typer</a>.<a href="Typers.scala.html#560626" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#562658" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1146930" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span>, <a href="#1146674" title="RefChecks.this.global.Type">self</a>, <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

              <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147142" title="List[String]">kindErrors</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
                <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>,
                  <span title="String(&quot;The kind of the right-hand side &quot;)" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)String">+</span><a href="#1146930" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)String">+</span><span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443546" title="=&gt; String">keyString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/SymbolFlags.scala.html#443649" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443556" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span> <span title="String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#1147142" title="List[String]">kindErrors</a>.<a href="../../../collection/immutable/List.scala.html#63665" title="=&gt; List[String]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#59189" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146930" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#441974" title="=&gt; Boolean">isVolatile</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147108" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#441974" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;)" class="string">&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1146929" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#443442" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> // #2454
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1147162">memberTp</a> = <a href="#1146674" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1147163">otherTp</a> = <a href="#1146674" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1146929" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#650795" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean">overridesTypeInPrefix</a><span class="delimiter">(</span><a href="#1147162" title="RefChecks.this.global.Type">memberTp</a>, <a href="#1147163" title="RefChecks.this.global.Type">otherTp</a>, <a href="#1146674" title="RefChecks.this.global.Type">self</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 8
              <a href="#1146939" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#441590" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1147162" title="RefChecks.this.global.Type">memberTp</a>, <a href="#1147163" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443349" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147163" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#441974" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147162" title="RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#441974" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#1146938" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has a volatile type; cannot override a member with non-volatile type&quot;)" class="string">&quot;has a volatile type; cannot override a member with non-volatile type&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#1147162" title="RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; RefChecks.this.global.Type">resultType</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="#1147209" title="Unit" id="1147211">rt</a>: RefinedType <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span>rt <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#1147163" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1145206" title="=&gt; scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">checkedCombinations</a> <a href="../../../collection/SetLike.scala.html#71318" title="(elem: List[RefChecks.this.global.Type])Boolean">contains</a> rt.<a href="../../../reflect/internal/Types.scala.html#447278" title="=&gt; List[RefChecks.this.global.Type]">parents</a><span class="delimiter">)</span> =&gt;
                  // might mask some inconsistencies -- check overrides
                  <a href="#1145206" title="(x$1: scala.collection.immutable.Set[List[RefChecks.this.global.Type]])Unit">checkedCombinations</a> <a href="../../../collection/SetLike.scala.html#71319" title="(elem: List[RefChecks.this.global.Type])scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">+=</a> rt.<a href="../../../reflect/internal/Types.scala.html#447278" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
                  <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1147178">tsym</a> = rt.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147178" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Positions.scala.html#441880" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#1147178" title="RefChecks.this.global.Symbol">tsym</a> <a href="../../../reflect/internal/Symbols.scala.html#443168" title="(pos: RefChecks.this.global.Position)tsym.type">setPos</a> <a href="#1146928" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>
                  <a href="#1145211" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#1147178" title="RefChecks.this.global.Symbol">tsym</a>, typesOnly = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="keyword">case</span> _ =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span title="Unit" class="delimiter">}</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="1146685">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#559506" title="RefChecks.this.global.overridingPairs.type">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#648359" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1146685" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#1048634" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#1146687" title="()Unit" class="delimiter">{</a>
        //Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullName + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullName + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146685" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#1048631" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#1146684" title="(member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit">checkOverride</a><span class="delimiter">(</span><a href="#1146685" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#1048628" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#1146685" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#1048631" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>;

        <a href="#1146685" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#1048635" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="#1146680" title="()Unit">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span>

      // Verifying a concrete class has nothing unimplemented.
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443242" title="=&gt; Boolean">isConcreteClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1146673" title="Boolean">typesOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="1147219">abstractErrors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[String]">ListBuffer</a><span class="delimiter">[</span>String<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="1147220">abstractErrorMessage</a> =
          // a little formatting polish
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67853" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57912" title="(x: Int)Boolean">&lt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/generic/TraversableForwarder.scala.html#68131" title="(sep: String)String">mkString</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
          <span class="keyword">else</span> <a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; scala.collection.mutable.ListBuffer[String]">tail</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68130" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68095" title="=&gt; String">head</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean, msg: String)Unit" id="1147221">abstractClassError</a><span class="delimiter">(</span><a title="Boolean" id="1147235">mustBeMixin</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="String" id="1147236">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; String" id="1147237">prelude</a> = <span class="delimiter">(</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443240" title="=&gt; Boolean">isAnonymousClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443245" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> <span title="String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147235" title="Boolean">mustBeMixin</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
            <span class="keyword">else</span> <a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>
          <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, since&quot;)" class="string">&quot;, since&quot;</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68051" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67857" title="(xs: scala.collection.TraversableOnce[String])abstractErrors.type">++=</a> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><a href="#1147237" title="=&gt; String">prelude</a>, <a href="#1147236" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)abstractErrors.type">+=</a> <a href="#1147236" title="String">msg</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="1147222">javaErasedOverridingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147260">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a> =
          <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442032" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#1147260" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a>, <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147266">other</a> =&gt;
            <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147266" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1147266" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
              // #3622: erasure operates on uncurried types --
              // note on passing sym in both cases: only sym.isType is relevant for uncurry.transformInfo
              // !!! erasure.erasure(sym, uncurry.transformInfo(sym, tp)) gives erreneous of inaccessible type - check whether that's still the case!
              <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type" id="1147267">uncurryAndErase</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1147270">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../Global.scala.html#559603" title="RefChecks.this.global.erasure.type">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#459757" title="(sym: RefChecks.this.global.erasure.global.Symbol)RefChecks.this.global.erasure.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#460860" title="(tp: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type" class="delimiter">(</a><a href="#1147260" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#559595" title="RefChecks.this.global.uncurry.type">uncurry</a>.<a href="../../../reflect/internal/transform/UnCurry.scala.html#461001" title="(sym: RefChecks.this.global.uncurry.global.Symbol, tp: RefChecks.this.global.uncurry.global.Type)RefChecks.this.global.uncurry.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#1147260" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1147270" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="1147268">tp1</a> = <a href="#1147267" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1147260" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="1147269">tp2</a> = <a href="#1147267" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1147266" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#559700" title="(op: =&gt; Boolean)Boolean">afterErasure</a><span class="delimiter">(</span><a href="#1147268" title="RefChecks.this.global.erasure.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#442064" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">matches</a> <a href="#1147269" title="RefChecks.this.global.erasure.global.Type">tp2</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol)Boolean" id="1147223">ignoreDeferred</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147304">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
          <span class="delimiter">(</span><a href="#1147304" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147304" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443333" title="=&gt; Boolean">isFBounded</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span>
            <a href="#1147304" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            // the test requires afterErasure so shouldn't be
            // done if the compiler has no erasure phase available
            <span class="delimiter">(</span><a href="../Global.scala.html#559697" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561333" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../package.scala.html#57290" title="=&gt; reflect.internal.NoPhase.type">NoPhase</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1147222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span class="delimiter">(</span><a href="#1147304" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>

        // 2. Check that only abstract classes have deferred members
        <span class="keyword">def</span> <a title="()Unit" id="1147224">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
          // Avoid spurious duplicates: first gather any missing members.
          <span class="keyword">def</span> <a title="=&gt; List[RefChecks.this.global.Symbol]" id="1147315">memberList</a> = <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442025" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#1147340" title="(x: (List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol]))(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="List[RefChecks.this.global.Symbol]" id="1147317">missing</a>, <a href="../../../Tuple2.scala.html#61508" title="List[RefChecks.this.global.Symbol]" id="1147318">rest</a><span class="delimiter">)</span> = <a href="#1147315" title="=&gt; List[RefChecks.this.global.Symbol]">memberList</a> <a href="../../../collection/TraversableLike.scala.html#58988" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])">partition</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147327">m</a> =&gt; <a href="#1147327" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147223" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#1147327" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // Group missing members by the name of the underlying symbol,
          // to consolidate getters and setters.
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Symbol#NameType,List[RefChecks.this.global.Symbol]]" id="1147319">grouped</a> = <a href="#1147317" title="List[RefChecks.this.global.Symbol]">missing</a> <a href="../../../collection/TraversableLike.scala.html#58989" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.analyzer.global.Symbol#NameType)scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Symbol#NameType,List[RefChecks.this.global.Symbol]]">groupBy</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147350">sym</a> =&gt; <a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#560534" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#1147350" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; RefChecks.this.global.analyzer.global.Symbol#NameType">name</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1147320">missingMethods</a> = <a href="#1147319" title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Symbol#NameType,List[RefChecks.this.global.Symbol]]">grouped</a>.<a href="../../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[(RefChecks.this.global.analyzer.global.Symbol#NameType, List[RefChecks.this.global.Symbol])]">toList</a> <a href="../../../collection/TraversableLike.scala.html#58976" title="(f: ((RefChecks.this.global.analyzer.global.Symbol#NameType, List[RefChecks.this.global.Symbol])) =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[(RefChecks.this.global.analyzer.global.Symbol#NameType, List[RefChecks.this.global.Symbol])],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[(RefChecks.this.global.analyzer.global.Symbol#NameType, List[RefChecks.this.global.Symbol]),List[RefChecks.this.global.Symbol]] with Serializable" id="1147378" class="delimiter">{</a>
            <span class="keyword">case</span> <span class="delimiter">(</span>name, syms<span class="delimiter">)</span> =&gt;
              <a href="#1147397" title="(x: List[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]" class="keyword">if</a> <span class="delimiter">(</span>syms <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1147390" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443272" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span><span class="delimiter">)</span> syms <a href="../../../collection/TraversableLike.scala.html#58982" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filterNot</a> <span class="delimiter">(</span><a href="#1147394" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443267" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
              <span class="keyword">else</span> syms
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; List[String]" id="1147321">stubImplementations</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
            // Grouping missing methods by the declaring class
            <span class="keyword">val</span> <a title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]" id="1147438">regrouped</a> = <a href="#1147320" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<a href="../../../collection/TraversableLike.scala.html#58989" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)scala.collection.immutable.Map[RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]]">groupBy</a><span class="delimiter">(</span><a href="#1147446" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">toList</a>
            <span class="keyword">def</span> <a title="(members: List[RefChecks.this.global.Symbol])List[String]" id="1147439">membersStrings</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="1147457">members</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
              <a href="#1147457" title="List[RefChecks.this.global.Symbol]">members</a>.<a href="../../../collection/SeqLike.scala.html#59827" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit ord: scala.math.Ordering[String])List[RefChecks.this.global.Symbol]">sortBy</a><a href="../../../math/Ordering.scala.html#72476" title="scala.math.Ordering.String.type" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1147464" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; x$15.NameType">name</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147540">m</a> =&gt; <a href="#1147540" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#443569" title="(info: RefChecks.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#1147540" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = ???&quot;)" class="string">&quot; = ???&quot;</span><span class="delimiter">)</span>

            <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147438" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">tail</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="#1147439" title="(members: List[RefChecks.this.global.Symbol])List[String]">membersStrings</a><span class="delimiter">(</span><a href="#1147438" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; (RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])">head</a>.<a href="../../../Tuple2.scala.html#61508" title="=&gt; List[RefChecks.this.global.Symbol]">_2</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">(</span><a href="#1147438" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<a href="../../../collection/SeqLike.scala.html#59827" title="(f: ((RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])) =&gt; String)(implicit ord: scala.math.Ordering[String])List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">sortBy</a><a href="../../../math/Ordering.scala.html#72476" title="scala.math.Ordering.String.type" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1147577" title="(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])">_</a>.<a href="../../../Tuple2.scala.html#61506" title="=&gt; RefChecks.this.global.Symbol">_1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; x$16._1.NameType">name</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58976" title="(f: ((RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])],String,List[String]])List[String]">flatMap</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol]),List[String]] with Serializable" id="1147657" class="delimiter">{</a>
              <span class="keyword">case</span> <span class="delimiter">(</span>owner, members<span class="delimiter">)</span> =&gt;
                <span class="delimiter">(</span><span title="String(&quot;// Members declared in &quot;)" class="string">&quot;// Members declared in &quot;</span> <span title="(x$1: Any)String">+</span> owner.<a href="../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63660" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">+:</a> <a href="#1147439" title="(members: List[RefChecks.this.global.Symbol])List[String]">membersStrings</a><span class="delimiter">(</span>members<span class="delimiter">)</span> <a href="#1147777" title="(x: List[String])List[String]">:+</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#59015" title="=&gt; List[String]">init</a>
          <span class="delimiter">}</span>

          // If there are numerous missing methods, we presume they are aware of it and
          // give them a nicely formatted set of method signatures for implementing.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147320" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1147221" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;it has &quot;)" class="string">&quot;it has &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1147320" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; unimplemented members.&quot;)" class="string">&quot; unimplemented members.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="1147822">preface</a> =
              <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|/** As seen from %s, the missing signatures are as follows.
                 | *  For convenience, these are usable as stub implementations.
                 | */
                 |&quot;&quot;&quot;</a>.<a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: String)abstractErrors.type">+=</a> <a href="#1147321" title="=&gt; List[String]">stubImplementations</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1147857" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59189" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><a href="#1147822" title="String">preface</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1147907">member</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">missing</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(msg: String)Unit" id="1147908">undefined</a><span class="delimiter">(</span><a title="String" id="1147910">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#1147221" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#1146681" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1147907" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1147910" title="String">msg</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="1147909">underlying</a> = <a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#560534" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#1147907" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>

            // Give a specific error message for abstract vars based on why it fails:
            // It could be unimplemented, have only one accessor, or be uninitialized.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147909" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#443276" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Boolean" id="1147911">isMultiple</a> = <a href="#1147319" title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Symbol#NameType,List[RefChecks.this.global.Symbol]]">grouped</a>.<a href="../../../collection/MapLike.scala.html#78417" title="(key: RefChecks.this.global.analyzer.global.Symbol#NameType, default: =&gt; List[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">getOrElse</a><span class="delimiter">(</span><a href="#1147909" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; underlying.NameType">name</a>, <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span>

              // If both getter and setter are missing, squelch the setter error.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147907" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443272" title="=&gt; Boolean">isSetter</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1147911" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#1147908" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147907" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443272" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span title="String(&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;</span>
                <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147907" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443267" title="=&gt; Boolean">isGetter</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147911" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="String(&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;</span>
                <span class="keyword">else</span> <a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#560530" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">abstractVarMessage</a><span class="delimiter">(</span><a href="#1147907" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147909" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // If there is a concrete method whose name matches the unimplemented
              // abstract method, and a cursory examination of the difference reveals
              // something obvious to us, let's make it more obvious to them.
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.analyzer.global.Type]" id="1147935">abstractParams</a>   = <a href="#1147909" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442010" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1147936">matchingName</a>     = <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442025" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1147937">matchingArity</a>    = <a href="#1147936" title="List[RefChecks.this.global.Symbol]">matchingName</a> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="1147941">m</a> =&gt;
                <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147941" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#1147941" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; m.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1147909" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; underlying.NameType">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#1147941" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442010" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <a href="#1147909" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442010" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#1147941" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <a href="#1147909" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

              <a href="#1147937" title="List[RefChecks.this.global.Symbol]">matchingArity</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                // So far so good: only one candidate method
                <span class="keyword">case</span> concrete <a href="#1148098" title="Unit" id="1148100">::</a> <a href="../../../collection/immutable/List.scala.html#11552" title="Unit" id="1148102">Nil</a>   =&gt;
                  <span class="keyword">val</span> <a title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]" id="1147968">mismatches</a>  = <a href="#1147935" title="List[RefChecks.this.global.analyzer.global.Type]">abstractParams</a> <a href="../../../collection/IterableLike.scala.html#59486" title="(that: scala.collection.GenIterable[RefChecks.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.analyzer.global.Type],(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type),List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]])List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">zip</a> concrete.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442010" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a> <a href="../../../collection/TraversableLike.scala.html#58982" title="(p: ((RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)) =&gt; Boolean)List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">filterNot</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type),Boolean] with Serializable" id="1148026" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span>x, y<span class="delimiter">)</span> =&gt; x <a href="#1148036" title="(x: Boolean)Boolean">=:=</a> y <span class="delimiter">}</span>
                  <a href="#1147968" title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">mismatches</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                    // Only one mismatched parameter: say something useful.
                    <span class="keyword">case</span> <span class="delimiter">(</span>pa, pc<span class="delimiter">)</span> <a href="#1148083" title="Unit" id="1148086">::</a> <a href="../../../collection/immutable/List.scala.html#11552" title="Unit" id="1148088">Nil</a>  =&gt;
                      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="1148054">abstractSym</a> = pa.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a>
                      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148055">concreteSym</a> = pc.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
                      <span class="keyword">def</span> <a title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String" id="1148056">subclassMsg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148058">c1</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1148059">c2</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
                        <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;: %s is a subclass of %s, but method parameter types must match exactly.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
                          <a href="#1148058" title="RefChecks.this.global.Symbol">c1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a>, <a href="#1148059" title="RefChecks.this.global.Symbol">c2</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>
                      <span class="delimiter">)</span>
                      <span class="keyword">val</span> <a title="String" id="1148057">addendum</a> = <span class="delimiter">(</span>
                        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148054" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1148055" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                          // TODO: what is the optimal way to test for a raw type at this point?
                          // Compilation has already failed so we shouldn't have to worry overmuch
                          // about forcing types.
                          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147909" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> pa.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1148054" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
                            <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;. To implement a raw type, use %s[_]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>pa<span class="delimiter">)</span>
                          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span>pa.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; RefChecks.this.global.analyzer.global.Type">prefix</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> pc.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
                            <span title="String(&quot;: their type parameters differ&quot;)" class="string">&quot;: their type parameters differ&quot;</span>
                          <span class="keyword">else</span>
                            <span title="String(&quot;: their prefixes (i.e. enclosing instances) differ&quot;)" class="string">&quot;: their prefixes (i.e. enclosing instances) differ&quot;</span>
                        <span class="delimiter">}</span>
                        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148054" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.analyzer.global.Symbol)Boolean">isSubClass</a> <a href="#1148055" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span>
                          <a href="#1148056" title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String">subclassMsg</a><span class="delimiter">(</span><a href="#1148054" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a>, <a href="#1148055" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148055" title="RefChecks.this.global.Symbol">concreteSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1148054" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a><span class="delimiter">)</span>
                          <a href="#1148056" title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String">subclassMsg</a><span class="delimiter">(</span><a href="#1148055" title="RefChecks.this.global.Symbol">concreteSym</a>, <a href="#1148054" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                      <span class="delimiter">)</span>

                      <a href="#1147908" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n(Note that %s does not match %s%s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>pa, pc, <a href="#1148057" title="String">addendum</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> xs =&gt;
                      <a href="#1147908" title="(msg: String)Unit">undefined</a><a href="#1148089" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> _ =&gt;
                  <a href="#1147908" title="(msg: String)Unit">undefined</a><a href="#1148103" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#1147908" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // Check the remainder for invalid absoverride.
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148121">member</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">rest</a> ; <span class="keyword">if</span> <span class="delimiter">(</span><a href="#1148121" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443609" title="=&gt; Boolean">isAbstractOverride</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1148121" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443372" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148122">other</a> = <a href="#1148121" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443524" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="1148123">explanation</a> =
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148122" title="RefChecks.this.global.Symbol">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="String(&quot; and overrides incomplete superclass member &quot;)" class="string">&quot; and overrides incomplete superclass member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1146681" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1148122" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="String(&quot;, but no concrete implementation could be found in a base class&quot;)" class="string">&quot;, but no concrete implementation could be found in a base class&quot;</span>

            <a href="#1147221" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#1146681" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1148121" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is marked `abstract\' and `override\'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1148123" title="String">explanation</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // 3. Check that concrete classes do not have deferred definitions
        // that are not implemented in a subclass.
        // Note that this is not the same as (2); In a situation like
        //
        // class C { def m: Int = 0}
        // class D extends C { def m: Int }
        //
        // (3) is violated but not (2).
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="1147225">checkNoAbstractDecls</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148130">bc</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148152">decl</a> &lt;- <a href="#1148130" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#447347" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148152" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1147223" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#1148152" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148153">impl</a> = <a href="#1148152" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#443517" title="(site: RefChecks.this.global.Type, admit: Long)RefChecks.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a>, admit = <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148153" title="RefChecks.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1148152" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1148153" title="RefChecks.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1147221" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;there is a deferred declaration of &quot;)" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1146681" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1148152" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span>
                                   <span title="String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span><span title="(x$1: Any)String">+</span><a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#560530" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">abstractVarMessage</a><span class="delimiter">(</span><a href="#1148152" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148130" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#443498" title="=&gt; RefChecks.this.global.Symbol">superClass</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span>
            <a href="#1147225" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#1148130" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#443498" title="=&gt; RefChecks.this.global.Symbol">superClass</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#1147224" title="()Unit">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68051" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#1147225" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1147219" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68052" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1147220" title="=&gt; String">abstractErrorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#442184" title="=&gt; RefChecks.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // For non-AnyVal classes, prevent abstract methods in interfaces that override
        // final members in Object; see #4431
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148179">decl</a> &lt;- <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../../../collection/Iterator.scala.html#65240" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148180">overridden</a> = <a href="#1148179" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#443518" title="(ofclazz: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; RefChecks.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148180" title="RefChecks.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443591" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
            <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1148179" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;trait cannot redefine final method from class AnyRef&quot;)" class="string">&quot;trait cannot redefine final method from class AnyRef&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Returns whether there is a symbol declared in class `inclazz`
       *  (which must be different from `clazz`) whose name and type
       *  seen as a member of `class.thisType` matches `member`'s.
       */
      <span class="keyword">def</span> <a title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean" id="1146686">hasMatchingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148183">inclazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1148184">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="1148185">isVarargs</a> = <a href="../../../reflect/internal/Definitions.scala.html#442317" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#1148184" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1148187">varargsType</a> = <a href="../../../reflect/internal/Types.scala.html#460839" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#1148184" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="1148188">isSignatureMatch</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148203">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1148203" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1148204">symtpe</a>            = <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#1148203" title="RefChecks.this.global.Symbol">sym</a>
          <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="1148205">matches</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1148206">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1148206" title="RefChecks.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#442064" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#1148204" title="RefChecks.this.global.Type">symtpe</a>

          <a href="#1148205" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#1148184" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1148185" title="Boolean">isVarargs</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1148205" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#1148186" title="=&gt; RefChecks.this.global.Type">varargsType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        /** The rules for accessing members which have an access boundary are more
         *  restrictive in java than scala.  Since java has no concept of package nesting,
         *  a member with &quot;default&quot; (package-level) access can only be accessed by members
         *  in the exact same package.  Example:
         *
         *    package a.b;
         *    public class JavaClass { void foo() { } }
         *
         *  The member foo() can be accessed only from members of package a.b, and not
         *  nested packages like a.b.c.  In the analogous scala class:
         *
         *    package a.b
         *    class ScalaClass { private[b] def foo() = () }
         *
         *  The member IS accessible to classes in package a.b.c.  The javaAccessCheck logic
         *  is restricting the set of matching signatures according to the above semantics.
         */
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="1148189">javaAccessCheck</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148208">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
             <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1148183" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a>                             // not a java defined member
          <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1148208" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443420" title="=&gt; Boolean">hasAccessBoundary</a>                             // no access boundary
          <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1148208" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443597" title="=&gt; Boolean">isProtected</a>                                    // marked protected in java, thus accessible to subclasses
          <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1148208" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443417" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1148184" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443502" title="=&gt; RefChecks.this.global.Symbol">enclosingPackageClass</a>  // exact package match
        <span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="1148190">classDecls</a>   = <a href="#1148183" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442022" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#1148184" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; member.NameType">name</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="1148191">matchingSyms</a> = <a href="#1148190" title="=&gt; RefChecks.this.global.Symbol">classDecls</a> <a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148220">sym</a> =&gt; <a href="#1148188" title="(sym: RefChecks.this.global.Symbol)Boolean">isSignatureMatch</a><span class="delimiter">(</span><a href="#1148220" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1148189" title="(sym: RefChecks.this.global.Symbol)Boolean">javaAccessCheck</a><span class="delimiter">(</span><a href="#1148220" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="delimiter">(</span><a href="#1148183" title="RefChecks.this.global.Symbol">inclazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1148191" title="=&gt; RefChecks.this.global.Symbol">matchingSyms</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // 4. Check that every defined member with an `override` modifier overrides some other member.
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148260">member</a> &lt;- <a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#447347" title="(p: RefChecks.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148260" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443610" title="=&gt; Boolean">isAnyOverride</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1146671" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#442068" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1146686" title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean">hasMatchingSym</a><span class="delimiter">(</span><a href="#1148270" title="RefChecks.this.global.Symbol">_</a>, <a href="#1148260" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG
          <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1148260" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1148260" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443559" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span><span class="delimiter">)</span>;
          <a href="#1148260" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#443306" title="(mask: Long)member.type">resetFlag</a> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span>  // Any Override
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  // Basetype Checking --------------------------------------------------------

    /** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="1145212">validateBaseTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1148286">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]" id="1148287">seenParents</a> = mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: RefChecks.this.global.Type*)scala.collection.mutable.HashSet[RefChecks.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="1148288">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <a href="../../../Array.scala.html#292" title="Array[List[RefChecks.this.global.Type]]">Array</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#1148286" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442066" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#447198" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="1148423">i</a> &lt;- <a href="../../../LowPriorityImplicits.scala.html#8333" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../collection/immutable/Range.scala.html#69665" title="(f: Int =&gt; Unit)Unit">until</a> <a href="#1148288" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<a href="../../../Array.scala.html#57449" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <a href="../../../Array.scala.html#57451" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#1148423" title="Int">i</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>

      /** validate all base types of a class in reverse linear order. */
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="1148289">register</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1148427">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
//        if (clazz.fullName.endsWith(&quot;Collection.Projection&quot;))
//            println(&quot;validate base type &quot;+tp)
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148428">baseClass</a> = <a href="#1148427" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148428" title="RefChecks.this.global.Symbol">baseClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="1148430">index</a> = <a href="#1148286" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442069" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#1148428" title="RefChecks.this.global.Symbol">baseClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148430" title="Int">index</a> <a href="../../../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Array.scala.html#57450" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#1148430" title="Int">index</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#76169" title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1148444">tp1</a> =&gt; <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1148444" title="RefChecks.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1148427" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../Array.scala.html#57451" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#1148430" title="Int">index</a><span class="delimiter">)</span> =
                <a href="#1148427" title="RefChecks.this.global.Type">tp</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">::</a> <span class="delimiter">(</span><a href="../../../Array.scala.html#57450" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#1148430" title="Int">index</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1148453">tp1</a> =&gt; <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1148427" title="RefChecks.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1148453" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="1148429">remaining</a> = <a href="#1148427" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58982" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</a> <a href="#1148287" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a>
        <a href="#1148287" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a> <a href="../../../collection/generic/Growable.scala.html#60913" title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Type])seenParents.type">++=</a> <a href="#1148429" title="List[RefChecks.this.global.Type]">remaining</a>
        <a href="#1148429" title="List[RefChecks.this.global.Type]">remaining</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#1148289" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      <span class="delimiter">}</span>
      <a href="#1148289" title="(tp: RefChecks.this.global.Type)Unit">register</a><span class="delimiter">(</span><a href="#1148286" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="1148586">i</a> &lt;- <a href="../../../LowPriorityImplicits.scala.html#8333" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../collection/immutable/Range.scala.html#69665" title="(f: Int =&gt; Unit)Unit">until</a> <a href="#1148288" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<a href="../../../Array.scala.html#57449" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148587">baseClass</a> = <a href="#1148286" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#447201" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a><span class="delimiter">(</span><a href="#1148586" title="Int">i</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="../../../Array.scala.html#57450" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><a href="#1148633" title="List[RefChecks.this.global.Type]" class="delimiter">(</a><a href="#1148586" title="Int">i</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[RefChecks.this.global.Type]]" id="1148649">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><a href="#1148645" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;??? base &quot;)" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)String">+</span><a href="#1148587" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)String">+</span><span title="String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1148286" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[RefChecks.this.global.Type]]" id="1148651">List</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;// OK
          <span class="keyword">case</span> tp1 <a href="#1148633" title="Unit" id="1148642">::</a> tp2 <a title="Unit" id="1148644">::</a> _ =&gt;
            <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1148286" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;illegal inheritance;\n &quot;)" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1148286" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1148587" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)String">+</span> tp1 <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> tp2<span class="delimiter">)</span>;
            <a href="../../../reflect/internal/Types.scala.html#441590" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span>tp1, tp2<span class="delimiter">)</span>
            <a href="../../../reflect/internal/Types.scala.html#441590" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span>tp2, tp1<span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  // Variance Checking --------------------------------------------------------

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1145213">ContraVariance</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1145215">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1145217">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1145219">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="1145221">escapedPrivateLocals</a> = <a href="../../../collection/mutable/HashSet.scala.html#141566" title="()scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#13456" title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="1145223">varianceValidator</a> = <a href="#1145439" title="RefChecks.this.global.Traverser{}" class="keyword">new</a> <a href="../../../reflect/api/Trees.scala.html#23760" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="1145439">Traverser</a> <span class="delimiter">{</span>

      /** Validate variance of info of symbol `base` */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="1145441">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1145446">base</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // A flag for when we're in a refinement, meaning method parameter types
        // need to be checked.
        <span class="keyword">var</span> <a title="Boolean" id="1145447">inRefinement</a> = <span title="Boolean(false)" class="keyword">false</span>

        <span class="keyword">def</span> <a title="(variance: Int)String" id="1145448">varianceString</a><span class="delimiter">(</span><a title="Int" id="1145453">variance</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <span title="String">String</span> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145453" title="Int">variance</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145453" title="Int">variance</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        /** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="1145449">relativeVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1145462">tvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Int.scala.html#508" title="Int">Int</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1145463">clazz</a> = <a href="#1145462" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="1145464">sym</a> = <a href="#1145446" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="1145465">state</a> = <a href="#1145217" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1145464" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1145463" title="RefChecks.this.global.Symbol">clazz</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1145465" title="Int">state</a> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <a href="#1145219" title="=&gt; Int">AnyVariance</a><span class="delimiter">)</span> <a href="#1145466" title="()Unit" class="delimiter">{</a>
            //Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG
            // Flip occurrences of type parameters and parameters, unless
            //  - it's a constructor, or case class factory or extractor
            //  - it's a type parameter of tvar's owner.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443630" title="=&gt; Boolean">isParameter</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443352" title="=&gt; Boolean">isCaseApplyOrUnapply</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1145462" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#443257" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443257" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="#1145462" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1145465" title="Int">state</a> = <a href="../../../Int.scala.html#57880" title="=&gt; Int">-</a><a href="#1145465" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
                     <a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443600" title="=&gt; Boolean">isPrivateLocal</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443601" title="=&gt; Boolean">isProtectedLocal</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443604" title="=&gt; Boolean">isSuperAccessor</a> /* super accessors are implicitly local #4345*/<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1145221" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <a href="../../../collection/mutable/HashSet.scala.html#141569" title="(elem: RefChecks.this.global.Symbol)Boolean">contains</a> <a href="#1145464" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // return AnyVariance if `sym` is local to a term
              // or is private[this] or protected[this]
              <a href="#1145465" title="Int">state</a> = <a href="#1145219" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // return AnyVariance if `sym` is an alias type
              // that does not override anything. This is OK, because we always
              // expand aliases for variance checking.
              // However, if `sym` does override a type in a base class
              // we have to assume NoVariance, as there might then be
              // references to the type parameter that are not variance checked.
              <a href="#1145465" title="Int">state</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443521" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span> <a href="#1145215" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#1145219" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span>
            <a href="#1145464" title="RefChecks.this.global.Symbol">sym</a> = <a href="#1145464" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="delimiter">}</span>
          <a href="#1145465" title="Int">state</a>
        <span class="delimiter">}</span>

        /** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, variance: Int)Unit" id="1145450">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1145493">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="1145494">variance</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <a href="#1145493" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="Unit" id="1145751">ErrorType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Unit" id="1145752">WildcardType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441256" title="Unit" id="1145753">NoType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441258" title="Unit" id="1145754">NoPrefix</a> =&gt; ;
          <span class="keyword">case</span> ThisType<a href="#1145720" title="Unit" id="1145727" class="delimiter">(</a>_<span class="delimiter">)</span> =&gt; ;
          <span class="keyword">case</span> ConstantType<a href="#1145720" title="Unit" id="1145730" class="delimiter">(</a>_<span class="delimiter">)</span> =&gt; ;
          // case DeBruijnIndex(_, _) =&gt; ;
          <span class="keyword">case</span> SingleType<a href="#1145720" title="Unit" id="1145732" class="delimiter">(</a>pre, sym<span class="delimiter">)</span> =&gt;
            <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><a href="#1145755" title="(x: Unit)Unit" class="delimiter">(</a>pre, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> TypeRef<a href="#1145720" title="Unit" id="1145734" class="delimiter">(</a>pre, sym, args<span class="delimiter">)</span> =&gt;
//            println(&quot;validate &quot;+sym+&quot; at &quot;+relativeVariance(sym))
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a>/* &amp;&amp; relativeVariance(sym) == AnyVariance*/<span class="delimiter">)</span>
              <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1145493" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443377" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <a href="#1145215" title="=&gt; Int">NoVariance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="1145512">v</a> = <a href="#1145449" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145512" title="Int">v</a> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <a href="#1145219" title="=&gt; Int">AnyVariance</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> sym.<a href="../../../reflect/internal/Symbols.scala.html#443377" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <a href="#1145512" title="Int">v</a> <a href="../../../Int.scala.html#57962" title="(x: Int)Int">*</a> <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                //Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)String" id="1145526">tpString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1145527">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1145527" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> ClassInfoType<a href="#1145542" title="String" id="1145545" class="delimiter">(</a>parents, _, clazz<span class="delimiter">)</span> =&gt; <span title="String(&quot;supertype &quot;)" class="string">&quot;supertype &quot;</span><a href="#1145546" title="(x: String)String">+</a><a href="../../../reflect/internal/Types.scala.html#441375" title="(tps: List[RefChecks.this.global.Type], owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a><span class="delimiter">(</span>parents, clazz.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> _ =&gt; <span title="String(&quot;type &quot;)" class="string">&quot;type &quot;</span><a href="#1145546" title="(x: String)String">+</a><a href="#1145527" title="RefChecks.this.global.Type">tp</a>
                <span class="delimiter">}</span>
                <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1145446" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>,
                           <a href="#1145448" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443377" title="=&gt; Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> sym <span title="(x$1: Any)String">+</span>
                           <span title="String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1145448" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#1145512" title="Int">v</a> <a href="../../../Int.scala.html#57962" title="(x: Int)Int">*</a> <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
                           <span title="String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1145526" title="(tp: RefChecks.this.global.Type)String">tpString</a><span class="delimiter">(</span><a href="#1145446" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1145446" title="RefChecks.this.global.Symbol">base</a><span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span>pre, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
            // @M for higher-kinded typeref, args.isEmpty
            // However, these args respect variances by construction anyway
            // -- the interesting case is in type application, see checkKindBounds in Infer
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>args.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
              <a href="#1145452" title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a><span class="delimiter">(</span>args, <a href="#1145494" title="Int">variance</a>, sym.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
          <span class="keyword">case</span> ClassInfoType<a href="#1145720" title="Unit" id="1145736" class="delimiter">(</a>parents, decls, symbol<span class="delimiter">)</span> =&gt;
            <a href="#1145451" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><a href="#1145755" title="(x: Unit)Unit" class="delimiter">(</a>parents, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> RefinedType<a href="#1145720" title="Unit" id="1145738" class="delimiter">(</a>parents, decls<span class="delimiter">)</span> =&gt;
            <a href="#1145451" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span>parents, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Boolean" id="1145572">saved</a> = <a href="#1145447" title="Boolean">inRefinement</a>
            <a href="#1145447" title="Boolean">inRefinement</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1145592">sym</a> &lt;- <a href="../../../reflect/internal/Scopes.scala.html#447347" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span>
              <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1145592" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145592" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#1145215" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#1145447" title="Boolean">inRefinement</a> = <a href="#1145572" title="Boolean">saved</a>
          <span class="keyword">case</span> TypeBounds<a href="#1145720" title="Unit" id="1145740" class="delimiter">(</a>lo, hi<span class="delimiter">)</span> =&gt;
            <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span>lo, <a href="../../../Int.scala.html#57880" title="=&gt; Int">-</a><a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span>hi, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> MethodType<a href="#1145720" title="Unit" id="1145742" class="delimiter">(</a>formals, result<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145447" title="Boolean">inRefinement</a><span class="delimiter">)</span>
              <a href="#1145451" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span>formals <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1145618" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="../../../Int.scala.html#57880" title="=&gt; Int">-</a><a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span>result, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> NullaryMethodType<a href="#1145720" title="Unit" id="1145744" class="delimiter">(</a>result<span class="delimiter">)</span> =&gt;
            <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><a href="#1145755" title="(x: Unit)Unit" class="delimiter">(</a>result, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> PolyType<a href="#1145720" title="Unit" id="1145746" class="delimiter">(</a>tparams, result<span class="delimiter">)</span> =&gt;
            // type parameters will be validated separately, because they are defined explicitly.
            <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><a href="#1145755" title="(x: Unit)Unit" class="delimiter">(</a>result, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> ExistentialType<a href="#1145720" title="Unit" id="1145748" class="delimiter">(</a>tparams, result<span class="delimiter">)</span> =&gt;
            <a href="#1145451" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span>tparams <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1145677" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span>result, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> AnnotatedType<a href="#1145720" title="Unit" id="1145750" class="delimiter">(</a>annots, tp, selfsym<span class="delimiter">)</span> =&gt;
            <a href="#1145755" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>annots.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1145717" title="RefChecks.this.global.AnnotationInfo">_</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#443806" title="(clazz: RefChecks.this.global.Symbol)Boolean">matches</a> <a href="../../../reflect/internal/Definitions.scala.html#442655" title="=&gt; RefChecks.this.global.ClassSymbol">uncheckedVarianceClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span>tp, <a href="#1145494" title="Int">variance</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit" id="1145451">validateVariances</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="1145566">tps</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="1145567">variance</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1145566" title="List[RefChecks.this.global.Type]">tps</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1145805">tp</a> =&gt; <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1145805" title="RefChecks.this.global.Type">tp</a>, <a href="#1145567" title="Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit" id="1145452">validateVarianceArgs</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="1145557">tps</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="1145558">variance</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="List[RefChecks.this.global.Symbol]" id="1145559">tparams</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/util/Collections.scala.html#440726" title="(xs1: List[RefChecks.this.global.Type], xs2: List[RefChecks.this.global.Symbol])(f: (RefChecks.this.global.Type, RefChecks.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#1145557" title="List[RefChecks.this.global.Type]">tps</a>, <a href="#1145559" title="List[RefChecks.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1145828">tp</a>, <a title="RefChecks.this.global.Symbol" id="1145829">tparam</a><span class="delimiter">)</span> =&gt; <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1145828" title="RefChecks.this.global.Type">tp</a>, <a href="#1145558" title="Int">variance</a> <a href="../../../Int.scala.html#57962" title="(x: Int)Int">*</a> <a href="#1145829" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443377" title="=&gt; Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#1145450" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1145446" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#1145217" title="=&gt; Int">CoVariance</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="1145442">traverse</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1145443">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1145443" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ClassDef<a href="#1145928" title="Unit" id="1145934" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> | TypeDef<a href="#1145928" title="Boolean" id="1145940" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#1145441" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1145443" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
            <a href="#1145439" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1145443" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          // ModuleDefs need not be considered because they have been eliminated already
          <span class="keyword">case</span> ValDef<a href="#1145928" title="Unit" id="1145946" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#1145958" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1145443" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443615" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span>
              <a href="#1145441" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1145443" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
          <span class="keyword">case</span> DefDef<a href="#1145928" title="Unit" id="1145952" class="delimiter">(</a>_, _, tparams, vparamss, _, _<span class="delimiter">)</span> =&gt;
            // No variance check for object-private/protected methods/values.
            <a href="#1145958" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1145443" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443615" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1145441" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1145443" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
              <a href="../../../reflect/api/Trees.scala.html#433536" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a><span class="delimiter">(</span>tparams<span class="delimiter">)</span>
              <a href="../../../reflect/api/Trees.scala.html#433537" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a><span class="delimiter">(</span>vparamss<span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> Template<a href="#1145928" title="Unit" id="1145957" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#1145439" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><a href="#1145958" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1145443" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Forward reference checking ---------------------------------------------------

    <span class="keyword">class</span> <a title="class LevelInfo extends Object" id="1145225">LevelInfo</a><a href="#1145225" title="RefCheckTransformer.this.LevelInfo" class="delimiter">(</a><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="1148680">outer</a>: <a href="#1145225" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="1148664">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#441628" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148680" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; RefChecks.this.global.Scope">newScope</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Scopes.scala.html#441630" title="(outer: RefChecks.this.global.Scope)RefChecks.this.global.Scope">newNestedScope</a><span class="delimiter">(</span><a href="#1148680" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#1148664" title="=&gt; RefChecks.this.global.Scope">scope</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="1148667">maxindex</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a> = Int.<span title="Int(-2147483648)">MinValue</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Position" id="1148670">refpos</a>: <a href="../util/Position.scala.html#52230" title="RefChecks.this.global.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="1148673">refsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a> = _
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="1145227">currentLevel</a>: <a href="#1145225" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="1145229">symIndex</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#440630" title="RefChecks.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#492850" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="1145231">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#1145227" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#1145225" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">(</span><a href="#1145227" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="1145232">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#1145227" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#1145227" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1148680" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="1145233">enterSyms</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="1148683">stats</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1148684">index</a> = -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1148704">stat</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1148684" title="Int">index</a> = <a href="#1148684" title="Int">index</a> <a href="../../../Int.scala.html#57948" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>;
        <a href="#1148704" title="RefChecks.this.global.Tree">stat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ClassDef<a href="#1148748" title="Unit" id="1148754" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> | DefDef<a href="#1148748" title="Boolean" id="1148762" class="delimiter">(</a>_, _, _, _, _, _<span class="delimiter">)</span> | ModuleDef<a href="#1148748" title="Boolean" id="1148767" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> | ValDef<a href="#1148748" title="Boolean" id="1148773" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
            //assert(stat.symbol != NoSymbol, stat);//debug
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148738">sym</a> = <a href="#1148704" title="RefChecks.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443495" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148738" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443362" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1145227" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1148664" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#1148738" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="../../../collection/mutable/HashMap.scala.html#79209" title="(key: RefChecks.this.global.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#1148738" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#1148684" title="Int">index</a>;
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit" id="1145234">enterReference</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="1148787">pos</a>: <a href="../util/Position.scala.html#52230" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="1148788">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148788" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443362" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="1148789">e</a> = <a href="#1145227" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1148664" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447342" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#1148788" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1148789" title="RefChecks.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1148788" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1148789" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="1148795">l</a> = <a href="#1145227" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1148795" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1148664" title="=&gt; RefChecks.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1148789" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457242" title="=&gt; RefChecks.this.global.Scope">owner</a><span class="delimiter">)</span> <a href="#1148795" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#1148795" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1148680" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="1148796">symindex</a> = <a href="../../../collection/mutable/HashMap.scala.html#79206" title="(key: RefChecks.this.global.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#1148788" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148795" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1148667" title="=&gt; Int">maxindex</a> <a href="../../../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <a href="#1148796" title="Int">symindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1148795" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1148670" title="(x$1: RefChecks.this.global.Position)Unit">refpos</a> = <a href="#1148787" title="RefChecks.this.global.Position">pos</a>
            <a href="#1148795" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1148673" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#1148788" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#1148795" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1148667" title="(x$1: Int)Unit">maxindex</a> = <a href="#1148796" title="Int">symindex</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Comparison checking -------------------------------------------------------
    <span class="keyword">object</span> <a title="RefCheckTransformer.this.normalizeAll.type" id="1145235">normalizeAll</a> <a href="#1145236" title="RefCheckTransformer.this.normalizeAll.type" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#441429" title="RefChecks.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1148833">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1148835">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#1148835" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit" id="1145237">checkSensible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="1148858">pos</a>: <a href="../util/Position.scala.html#52230" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="1148859">fn</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a>, <a title="List[RefChecks.this.global.Tree]" id="1148860">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1148859" title="RefChecks.this.global.Tree">fn</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Select<a href="#1149284" title="Unit" id="1149286" class="delimiter">(</a>qual, name @ <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446791" title="Unit" id="1149295">EQ</a> | <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446815" title="Boolean" id="1149296">NE</a> | <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446505" title="Boolean" id="1149297">eq</a> | <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446603" title="Boolean" id="1149298">ne</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1148860" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1148876">isReferenceOp</a> = name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446505" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446603" title="=&gt; RefChecks.this.global.nme.NameType">ne</a>
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="1148877">isNew</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1148921">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1148921" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Function<a href="#1148948" title="Boolean" id="1148952" class="delimiter">(</a>_, _<span class="delimiter">)</span>
             | Apply<a href="#1148948" title="Boolean" id="1148956" class="delimiter">(</a>Select<a title="Boolean" id="1148960" class="delimiter">(</a>New<a title="Boolean" id="1148963" class="delimiter">(</a>_<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="Boolean" id="1148966">CONSTRUCTOR</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#1148967" title="(x: Boolean)Boolean" class="keyword">true</a>
          <span class="keyword">case</span> _ =&gt; <a href="#1148967" title="(x: Boolean)Boolean" class="keyword">false</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="1148878">underlyingClass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1148980">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148981">sym</a> = <a href="#1148980" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <span title="RefChecks.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148981" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <a href="#1148878" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#1148981" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1148981" title="RefChecks.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148879">actual</a>   = <a href="#1148878" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#1148860" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; RefChecks.this.global.Tree">head</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1148880">receiver</a> = <a href="#1148878" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Tree] =&gt; T)T" id="1148881">onTrees</a><span class="delimiter">[</span><a title="" id="1148883">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree] =&gt; T" id="1148983">f</a>: List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="../../../Function1.scala.html#59555" title="(v1: List[RefChecks.this.global.Tree])T">f</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</a><span class="delimiter">(</span>qual, <a href="#1148860" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; RefChecks.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Symbol] =&gt; T)T" id="1148884">onSyms</a><span class="delimiter">[</span><a title="" id="1148886">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol] =&gt; T" id="1148993">f</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="../../../Function1.scala.html#59555" title="(v1: List[RefChecks.this.global.Symbol])T">f</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a>, <a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // @MAT normalize for consistency in error message, otherwise only part is normalized due to use of `typeSymbol`
        <span class="keyword">def</span> <a title="=&gt; String" id="1148887">typesString</a> = <a href="#1148833" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</a>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span><a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a><span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span title="(x$1: Any)String">+</span><a href="#1148833" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span class="delimiter">(</span><a href="#1148860" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; RefChecks.this.global.Tree">head</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span>

        /** Symbols which limit the warnings we can issue since they may be value types */
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[RefChecks.this.global.Symbol]" id="1148888">isMaybeValue</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="(elems: RefChecks.this.global.Symbol*)scala.collection.immutable.Set[RefChecks.this.global.Symbol]">Set</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; RefChecks.this.global.ClassSymbol">AnyClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; RefChecks.this.global.AliasTypeSymbol">AnyRefClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#442184" title="=&gt; RefChecks.this.global.ClassSymbol">AnyValClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; RefChecks.this.global.ClassSymbol">ObjectClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#442289" title="=&gt; RefChecks.this.global.ClassSymbol">ComparableClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#442287" title="=&gt; RefChecks.this.global.Symbol">JavaSerializableClass</a><span class="delimiter">)</span>

        // Whether def equals(other: Any) has known behavior: it is the default
        // inherited from java.lang.Object, or it is a synthetically generated
        // case equals.  TODO - more cases are warnable if the target is a synthetic
        // equals.
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1148889">isUsingWarnableEquals</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1149012">m</a> = <a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446513" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1149012" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442590" title="=&gt; RefChecks.this.global.Symbol">Object_equals</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1149012" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442543" title="=&gt; RefChecks.this.global.MethodSymbol">Any_equals</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1148890" title="(m: RefChecks.this.global.Symbol)Boolean">isMethodCaseEquals</a><span class="delimiter">(</span><a href="#1149012" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(m: RefChecks.this.global.Symbol)Boolean" id="1148890">isMethodCaseEquals</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1149025">m</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1149025" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443598" title="=&gt; Boolean">isSynthetic</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1149025" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443590" title="=&gt; Boolean">isCase</a>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1148891">isCaseEquals</a> = <a href="#1148890" title="(m: RefChecks.this.global.Symbol)Boolean">isMethodCaseEquals</a><span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446513" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        // Whether this == or != is one of those defined in Any/AnyRef or an overload from elsewhere.
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1148892">isUsingDefaultScalaOp</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1149030">s</a> = <a href="#1148859" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <span class="delimiter">(</span><a href="#1149030" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442569" title="=&gt; RefChecks.this.global.MethodSymbol">Object_==</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1149030" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442571" title="=&gt; RefChecks.this.global.MethodSymbol">Object_!=</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1149030" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442539" title="=&gt; RefChecks.this.global.MethodSymbol">Any_==</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1149030" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442541" title="=&gt; RefChecks.this.global.MethodSymbol">Any_!=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // Whether the operands+operator represent a warnable combo (assuming anyrefs)
        // Looking for comparisons performed with ==/!= in combination with either an
        // equals method inherited from Object or a case class synthetic equals (for
        // which we know the logic.)
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1148893">isWarnable</a>           = <a href="#1148876" title="=&gt; Boolean">isReferenceOp</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1148892" title="=&gt; Boolean">isUsingDefaultScalaOp</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1148889" title="=&gt; Boolean">isUsingWarnableEquals</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1148894">isEitherNullable</a>     = <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442195" title="RefChecks.this.global.definitions.NullClass.type">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442195" title="RefChecks.this.global.definitions.NullClass.type">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1148879" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1148895">isBoolean</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1149055">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#442790" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#1149055" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442857" title="=&gt; RefChecks.this.global.ClassSymbol">BooleanClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1148896">isUnit</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1149062">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="../../../reflect/internal/Definitions.scala.html#442790" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#1149062" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; RefChecks.this.global.ClassSymbol">UnitClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1148897">isNumeric</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1149068">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#442839" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442790" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#1149068" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1149068" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#442274" title="=&gt; RefChecks.this.global.ClassSymbol">ScalaNumberClass</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1148898">isSpecial</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1149072">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: RefChecks.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442790" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#1149072" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1149072" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#442274" title="=&gt; RefChecks.this.global.ClassSymbol">ScalaNumberClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1149072" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Int" id="1148899">possibleNumericCount</a> = <a href="#1148884" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#1149092" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1149096">x</a> =&gt; <a href="#1148897" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#1149096" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1149096" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="1148900">nullCount</a>            = <a href="#1148884" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#1149113" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#1149117" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442195" title="RefChecks.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(what: String, alwaysEqual: Boolean)Unit" id="1148901">nonSensibleWarning</a><span class="delimiter">(</span><a title="String" id="1149124">what</a>: <span title="String">String</span>, <a title="Boolean" id="1149125">alwaysEqual</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="1149126">msg</a> = <a href="#1149125" title="Boolean">alwaysEqual</a> <a href="../../../Boolean.scala.html#58722" title="(x: Boolean)Boolean">==</a> <span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446791" title="=&gt; RefChecks.this.global.TermName">EQ</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446505" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
          <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1148858" title="RefChecks.this.global.Position">pos</a>, <span title="String(&quot;comparing &quot;)" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)String">+</span><a href="#1149124" title="String">what</a><span title="(x$1: Any)String">+</span><span title="String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)String">+</span>name.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1149126" title="Boolean">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(pre: String, alwaysEqual: Boolean)Unit" id="1148902">nonSensible</a><span class="delimiter">(</span><a title="String" id="1149142">pre</a>: <span title="String">String</span>, <a title="Boolean" id="1149143">alwaysEqual</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span> =
          <a href="#1148901" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><a href="#1149142" title="String">pre</a><span title="(x$1: Any)String">+</span><span title="String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)String">+</span><a href="#1148887" title="=&gt; String">typesString</a>, <a href="#1149143" title="Boolean">alwaysEqual</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()Unit" id="1148903">nonSensiblyEq</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#1148902" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()Unit" id="1148904">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#1148902" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()Unit" id="1148905">nonSensiblyNew</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#1148901" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()Unit" id="1148906">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="1149144">msg</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446791" title="=&gt; RefChecks.this.global.TermName">EQ</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446505" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
                      <span title="String(&quot;never compare equal&quot;)" class="string">&quot;never compare equal&quot;</span> <span class="keyword">else</span> <span title="String(&quot;always compare unequal&quot;)" class="string">&quot;always compare unequal&quot;</span>
          <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1148858" title="RefChecks.this.global.Position">pos</a>, <a href="#1148887" title="=&gt; String">typesString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; are unrelated: they will most likely &quot;)" class="string">&quot; are unrelated: they will most likely &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1149144" title="String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148900" title="Int">nullCount</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> // null == null
          <a href="#1148903" title="()Unit">nonSensiblyEq</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148900" title="Int">nullCount</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148884" title="(f: List[RefChecks.this.global.Symbol] =&gt; Boolean)Boolean">onSyms</a><span class="delimiter">(</span><a href="#1149167" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: RefChecks.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">)</span><span class="delimiter">)</span> // null == 5
            <a href="#1148904" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148881" title="(f: List[RefChecks.this.global.Tree] =&gt; Boolean)Boolean">onTrees</a><span class="delimiter">(</span> <a href="#1149179" title="List[RefChecks.this.global.Tree]">_</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="#1148877" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">)</span><span class="delimiter">)</span> // null == new AnyRef
            <a href="#1148905" title="()Unit">nonSensiblyNew</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148895" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1148895" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>    // true == 5
            <a href="#1148904" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148896" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148896" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> // () == ()
            <a href="#1148903" title="()Unit">nonSensiblyEq</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1148896" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>  // () == &quot;abc&quot;
            <a href="#1148904" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148897" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1148897" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559775" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148896" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1148895" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>   // 5 == &quot;abc&quot;
              <a href="#1148904" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148893" title="=&gt; Boolean">isWarnable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1148891" title="=&gt; Boolean">isCaseEquals</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148877" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span>qual<span class="delimiter">)</span><span class="delimiter">)</span> // new X == y
            <a href="#1148905" title="()Unit">nonSensiblyNew</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148877" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#1148860" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; RefChecks.this.global.Tree">head</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1148876" title="=&gt; Boolean">isReferenceOp</a><span class="delimiter">)</span><span class="delimiter">)</span>   // object X ; X == new Y
            <a href="#1148905" title="()Unit">nonSensiblyNew</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  // object X, Y; X == Y
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148894" title="=&gt; Boolean">isEitherNullable</a><span class="delimiter">)</span>
              <a href="#1148902" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#1148904" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // possibleNumericCount is insufficient or this will warn on e.g. Boolean == j.l.Boolean
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148893" title="=&gt; Boolean">isWarnable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1148900" title="Int">nullCount</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1148898" title="(s: RefChecks.this.global.Symbol)Boolean">isSpecial</a><span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1148898" title="(s: RefChecks.this.global.Symbol)Boolean">isSpecial</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // better to have lubbed and lost
          <span class="keyword">def</span> <a title="()Unit" id="1149226">warnIfLubless</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1149228">common</a> = <a href="#650780" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../../reflect/internal/Types.scala.html#441559" title="(ts: List[RefChecks.this.global.Type])RefChecks.this.global.Type">lub</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; RefChecks.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1149228" title="RefChecks.this.global.Type">common</a><span class="delimiter">)</span>
              <a href="#1148906" title="()Unit">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1149227">eitherSubclasses</a> = <span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span>
          // warn if actual has a case parent that is not same as receiver's;
          // if actual is not a case, then warn if no common supertype, as below
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148891" title="=&gt; Boolean">isCaseEquals</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="1149245">thisCase</a> = <a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446513" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>
            <a href="#1148879" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442068" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76172" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Option[RefChecks.this.global.Symbol]">find</a><a href="../../../Option.scala.html#64115" title="=&gt; RefChecks.this.global.Symbol" class="delimiter">(</a><a href="#1149260" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443590" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#1149268" title="Unit" id="1149269" class="delimiter">(</a>p<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>p <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1149245" title="=&gt; RefChecks.this.global.Symbol">thisCase</a><span class="delimiter">)</span> =&gt; <a href="#1148902" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><a href="#1149272" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;case class &quot;)" class="string">&quot;case class &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="../../../Option.scala.html#2498" title="Unit" id="1149271">None</a> =&gt;
                // stronger message on (Some(1) == None)
                //if (receiver.isCase &amp;&amp; receiver.isEffectivelyFinal &amp;&amp; !(receiver isSubClass actual)) nonSensiblyNeq()
                //else
                // if a class, it must be super to thisCase (and receiver) since not &lt;: thisCase
                <a href="#1149272" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1148904" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1149227" title="=&gt; Boolean">eitherSubclasses</a><span class="delimiter">)</span> <a href="#1149226" title="()Unit">warnIfLubless</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148879" title="RefChecks.this.global.Symbol">actual</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1148880" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1148879" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          // warn only if they have no common supertype below Object
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1149226" title="()Unit">warnIfLubless</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> _ =&gt;
    <span class="delimiter">}</span>

// Transformation ------------------------------------------------------------

    /* Convert a reference to a case factory of type `tpe` to a new of the class it produces. */
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="1145238">toConstructor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="1149323">pos</a>: <a href="../util/Position.scala.html#52230" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Type" id="1149324">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="1149325">rtpe</a> = <a href="#1149324" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442006" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1149325" title="RefChecks.this.global.Type">rtpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2048L)">CASE</span>, <a href="#1149324" title="RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>;
      <a href="#1145197" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#560774" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1149323" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427851" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1149325" title="RefChecks.this.global.Type">rtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1149325" title="RefChecks.this.global.Type">rtpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443482" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree], exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="1145239">transformStats</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="1149379">stats</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="RefChecks.this.global.Symbol" id="1149380">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#1145231" title="()Unit">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#1145233" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#1149379" title="List[RefChecks.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="1149383">index</a> = -<span title="Int(-1)" class="int">1</span>
        <a href="#1149379" title="List[RefChecks.this.global.Tree]">stats</a> <a href="../../../collection/TraversableLike.scala.html#58976" title="(f: RefChecks.this.global.Tree =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Tree" id="1149400">stat</a> =&gt; <a href="#1149383" title="Int">index</a> <a href="../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>; <a href="#1145242" title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]">transformStat</a><span class="delimiter">(</span><a href="#1149400" title="RefChecks.this.global.Tree">stat</a>, <a href="#1149383" title="Int">index</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#1145232" title="()Unit">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Eliminate ModuleDefs.
     *   - A top level object is replaced with their module class.
     *   - An inner object is transformed into a module var, created on first access.
     *
     *  In both cases, this transformation returns the list of replacement trees:
     *   - Top level: the module class accessor definition
     *   - Inner: a class definition, declaration of module var, and module var accessor
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="1145240">eliminateModuleDefs</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1149442">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> ModuleDef<a href="#1149471" title="(RefChecks.this.global.Modifiers, RefChecks.this.global.TermName, RefChecks.this.global.Template)" id="1149473" class="delimiter">(</a><a href="../../../Tuple3.scala.html#61402" title="RefChecks.this.global.Modifiers" id="1149444">mods</a>, <a href="../../../Tuple3.scala.html#61404" title="RefChecks.this.global.TermName" id="1149445">name</a>, <a href="../../../Tuple3.scala.html#61406" title="RefChecks.this.global.Template" id="1149446">impl</a><span class="delimiter">)</span> = <a href="#1149442" title="RefChecks.this.global.Tree">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1149447">sym</a>      = <a href="#1149442" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1149448">classSym</a> = <a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="1149449">cdef</a>     = <a href="../../../reflect/api/Trees.scala.html#427365" title="(mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.TypeName, tparams: List[RefChecks.this.global.TypeDef], impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#1149444" title="RefChecks.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#471516" title="(flag: Long)RefChecks.this.global.Modifiers">|</a> <span title="Long(256L)">MODULE</span>, <a href="#1149445" title="RefChecks.this.global.TermName">name</a>.<a href="../../../reflect/internal/Names.scala.html#444198" title="=&gt; RefChecks.this.global.TypeName">toTypeName</a>, <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#1149446" title="RefChecks.this.global.Template">impl</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</a> <a href="#1149448" title="RefChecks.this.global.Symbol">classSym</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#441256" title="RefChecks.this.global.NoType.type">NoType</a>

      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="1149450">findOrCreateModuleVar</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#1145197" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#560769" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1149442" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.ValDef" id="1149505">createModuleVar</a> = <a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561773" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443480" title="=&gt; RefChecks.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442020" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><a href="#1149525" title="RefChecks.this.global.Symbol" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446773" title="(name: RefChecks.this.global.TermName)RefChecks.this.global.TermName">moduleVarName</a><span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444126" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          // In case we are dealing with local symbol then we already have
          // to correct error with forward reference
          <span class="keyword">case</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="RefChecks.this.global.analyzer.global.Tree" id="1149528">NoSymbol</a> =&gt; <a href="#1149529" title="(x: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">createModuleVar</a>
          <span class="keyword">case</span> vsym     =&gt; <a href="../../../reflect/internal/Trees.scala.html#441818" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><a href="#1149529" title="(x: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree" class="delimiter">(</a>vsym<span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="1149451">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../Global.scala.html#559718" title="(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">afterRefchecks</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.MethodSymbol" id="1149539">method</a> = <span class="delimiter">(</span>
          <a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443177" title="(name: RefChecks.this.global.TermName, pos: RefChecks.this.global.Position, newFlags: Long)RefChecks.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444126" title="=&gt; RefChecks.this.global.TermName">toTermName</a>, <a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443310" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#58295" title="(x: Int)Long">|</a> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#58300" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57878" title="=&gt; Int">~</a><span title="Int(256)">MODULE</span><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Symbols.scala.html#443433" title="(info: RefChecks.this.global.Type)RefChecks.this.global.MethodSymbol">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#448404" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#1145197" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#560769" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1149442" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561775" title="(accessor: RefChecks.this.global.gen.global.Symbol, msym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a><span class="delimiter">(</span><a href="#1149539" title="RefChecks.this.global.MethodSymbol">method</a>, <a href="#1149447" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]" id="1149452">createInnerModuleAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1149562">vdef</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span>
        <a href="#1149562" title="RefChecks.this.global.Tree">vdef</a>,
        <a href="#1145197" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#560769" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1149442" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1149569">vsym</a> = <a href="#1149562" title="RefChecks.this.global.Tree">vdef</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <a href="../Global.scala.html#559718" title="(op: =&gt; RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">afterRefchecks</a> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="1149572">rhs</a>  = <a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561776" title="(accessor: RefChecks.this.global.gen.global.Symbol, tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1149569" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="1149573">body</a> = <span title="RefChecks.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#1149572" title="RefChecks.this.global.gen.global.Tree">rhs</a> <span class="keyword">else</span> <a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561772" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#1149569" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#1149572" title="RefChecks.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Trees.scala.html#441824" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>, <a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../../../reflect/internal/Trees.scala.html#443957" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8484" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <a href="../../../Predef.scala.html#63591" title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</a> <a href="#1149447" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <a href="../../../reflect/api/Trees.scala.html#438848" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#1149449" title="RefChecks.this.global.ClassDef">cdef</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span class="delimiter">{</span>
        <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443356" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
          <a href="#1149452" title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">createInnerModuleAccessor</a><span class="delimiter">(</span><a href="#1149450" title="()RefChecks.this.global.analyzer.global.Tree">findOrCreateModuleVar</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1149447" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443521" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span>
          <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="#1149451" title="()RefChecks.this.global.analyzer.global.Tree">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="1145241">makeLazyAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1149634">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Tree" id="1149635">rhs</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1149636">vsym</a>        = <a href="#1149634" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1149636" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a>, <a href="#1149636" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="1149637">hasUnitType</a> = <a href="#1149636" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; RefChecks.this.global.ClassSymbol">UnitClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1149638">lazySym</a>     = <a href="#1149636" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443494" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1149638" title="RefChecks.this.global.Symbol">lazySym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#1149636" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>

      // for traits, this is further transformed in mixins
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="1149639">body</a> = <span class="delimiter">(</span>
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1149634" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1149637" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="#1149635" title="RefChecks.this.global.Tree">rhs</a>
        <span class="keyword">else</span> <a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561772" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#1149636" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#1149635" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="1149640">lazyDef</a> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#1149634" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441824" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1149638" title="RefChecks.this.global.Symbol">lazySym</a>, <a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../../../reflect/internal/Trees.scala.html#443957" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8484" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <a href="../../../Predef.scala.html#63591" title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</a> <a href="#1149638" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Created lazy accessor: &quot;)" class="string">&quot;Created lazy accessor: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1149640" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span>

      <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1149637" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="Typers.scala.html#560768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#1149640" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span>
        <a href="Typers.scala.html#560768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441818" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#1149636" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../Global.scala.html#559718" title="(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">afterRefchecks</a><span class="delimiter">(</span><a href="Typers.scala.html#560768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#1149640" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]" id="1145242">transformStat</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1149407">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a>, <a title="Int" id="1149408">index</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#1149407" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> ModuleDef<a href="#1149813" title="List[RefChecks.this.global.Tree]" id="1149818" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> =&gt; <a href="#1145240" title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">eliminateModuleDefs</a><a href="#1149836" title="(x: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]" class="delimiter">(</a><a href="#1149407" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> ValDef<a href="#1149813" title="List[RefChecks.this.global.Tree]" id="1149824" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a href="#1149778" title="(x: (RefChecks.this.global.ValDef, RefChecks.this.global.Tree))(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="1149753">tree1</a> @ ValDef<a href="#1149772" title="(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="1149777" class="delimiter">(</a>_, _, _, <a href="../../../Tuple2.scala.html#61508" title="RefChecks.this.global.Tree" id="1149754">rhs</a><span class="delimiter">)</span> = <a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree @unchecked" class="delimiter">(</a><a href="#1149407" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> // important to do before forward reference check
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1149407" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443593" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
          <a href="#1145241" title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">makeLazyAccessor</a><span class="delimiter">(</span><a href="#1149407" title="RefChecks.this.global.Tree">tree</a>, <a href="#1149754" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1149782">lazySym</a> = <a href="#1149407" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443495" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1149782" title="RefChecks.this.global.Symbol">lazySym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443362" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1149408" title="Int">index</a> <a href="../../../Int.scala.html#57912" title="(x: Int)Boolean">&lt;=</a> <a href="#1145227" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1148667" title="=&gt; Int">maxindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;refsym = &quot;)" class="string">&quot;refsym = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1145227" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1148673" title="=&gt; RefChecks.this.global.Symbol">refsym</a><span class="delimiter">)</span>
            <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1145227" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1148670" title="=&gt; RefChecks.this.global.Position">refpos</a>, <span title="String(&quot;forward reference extends over definition of &quot;)" class="string">&quot;forward reference extends over definition of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1149782" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.ValDef*)List[RefChecks.this.global.ValDef]">List</a><span class="delimiter">(</span><a href="#1149753" title="RefChecks.this.global.ValDef">tree1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> Import<a href="#1149813" title="List[RefChecks.this.global.Tree]" id="1149828" class="delimiter">(</a>_, _<span class="delimiter">)</span>                                        =&gt; <a href="#1149836" title="(x: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">Nil</a>
      <span class="keyword">case</span> DefDef<a href="#1149813" title="List[RefChecks.this.global.Tree]" id="1149835" class="delimiter">(</a>mods, _, _, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>mods <a href="../../../reflect/internal/Trees.scala.html#471513" title="(flag: Long)Boolean">hasFlag</a> <span title="Long(32768L)">MACRO</span><span class="delimiter">)</span> =&gt; <a href="#1149836" title="(x: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">Nil</a>
      <span class="keyword">case</span> _                                                   =&gt; <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</a><a href="#1149836" title="(x: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]" class="delimiter">(</a><a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1149407" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /* Check whether argument types conform to bounds of type parameters */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit" id="1145243">checkBounds</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1149844">tree0</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Type" id="1149845">pre</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="1149846">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="1149847">tparams</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Type]" id="1149848">argtps</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> =
      <span class="keyword">try</span> <a href="../Global.scala.html#559643" title="RefChecks.this.global.typer.type">typer</a>.<a href="Typers.scala.html#560626" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#562657" title="(tree: RefChecks.this.global.analyzer.global.Tree, pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol, tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], prefix: String)Boolean">checkBounds</a><span title="Unit" class="delimiter">(</span><a href="#1149844" title="RefChecks.this.global.Tree">tree0</a>, <a href="#1149845" title="RefChecks.this.global.Type">pre</a>, <a href="#1149846" title="RefChecks.this.global.Symbol">owner</a>, <a href="#1149847" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#1149848" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="1149855">ex</a>: <a href="../../../reflect/internal/Types.scala.html#441578" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1149844" title="RefChecks.this.global.Tree">tree0</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1149855" title="RefChecks.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#467662" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="1149860">bounds</a> = <a href="#1149847" title="List[RefChecks.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])List[RefChecks.this.global.TypeBounds]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1149877">tp</a> =&gt; <a href="#1149877" title="RefChecks.this.global.Symbol">tp</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442014" title="(formals: List[RefChecks.this.global.Symbol], actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#1149847" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#1149848" title="List[RefChecks.this.global.Type]">argtps</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <a href="../../../Tuple2.scala.html#63804" title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</a><a href="#1149848" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#1149860" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#61522" title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</a> <a href="../../../Tuple2.scala.html#61552" title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1149965">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="1149966">bound</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#441590" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1149966" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#448297" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#1149965" title="RefChecks.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../Tuple2.scala.html#63804" title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</a><a href="#1149848" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#1149860" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#61522" title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</a> <a href="../../../Tuple2.scala.html#61552" title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1150044">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="1150045">bound</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#441590" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1150044" title="RefChecks.this.global.Type">targ</a>, <a href="#1150045" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean" id="1145244">isIrrefutable</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1150076">pat</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Type" id="1150077">seltpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <a href="#1150076" title="RefChecks.this.global.Tree">pat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<a href="#1150135" title="Boolean" id="1150138" class="delimiter">(</a>_, args<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1150083">clazz</a> = <a href="#1150076" title="RefChecks.this.global.Tree">pat</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#1150083" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1150077" title="RefChecks.this.global.Type">seltpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#1150083" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443241" title="=&gt; Boolean">isCaseClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span>args <a href="../../../collection/LinearSeqLike.scala.html#76110" title="(that: scala.collection.GenSeq[RefChecks.this.global.Type])(p: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean">corresponds</a> <a href="#1150083" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443482" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442037" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#1150077" title="RefChecks.this.global.Type">seltpe</a>, <a href="#1150083" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#442010" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1145244" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Typed<a href="#1150135" title="Boolean" id="1150140" class="delimiter">(</a>pat, tpt<span class="delimiter">)</span> =&gt;
        <a href="#1150077" title="RefChecks.this.global.Type">seltpe</a> <a href="#1150150" title="(x: Boolean)Boolean">&lt;:&lt;</a> tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a>
      <span class="keyword">case</span> Ident<a href="#1150135" title="Boolean" id="1150143" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441756" title="RefChecks.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445910" title="Boolean" id="1150149">WILDCARD</a><span class="delimiter">)</span> =&gt;
        <a href="#1150150" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="keyword">case</span> Bind<a href="#1150135" title="Boolean" id="1150148" class="delimiter">(</a>_, pat<span class="delimiter">)</span> =&gt;
        <a href="#1145244" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><a href="#1150150" title="(x: Boolean)Boolean" class="delimiter">(</a>pat, <a href="#1150077" title="RefChecks.this.global.Type">seltpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#1150150" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>

    /** If symbol is deprecated, and the point of reference is not enclosed
     *  in either a deprecated member or a scala bridge method, issue a warning.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="1145245">checkDeprecated</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1150161">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="1150162">pos</a>: <a href="../util/Position.scala.html#52230" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1150161" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443338" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1150171">x</a> =&gt; <a href="#1150171" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#443338" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1150171" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#443337" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560822" title="(pos: RefChecks.this.global.Position, msg: String)Any">deprecationWarning</a><span title="Unit" class="delimiter">(</span><a href="#1150162" title="RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is deprecated%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#1150161" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1150161" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a>, <a href="#1150161" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443339" title="=&gt; Option[String]">deprecationMessage</a> <a href="../../../Option.scala.html#63820" title="(f: String =&gt; String)Option[String]">map</a> <span class="delimiter">(</span><span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1150181" title="String">_</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#63814" title="(default: =&gt; String)String">getOrElse</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Similar to deprecation: check if the symbol is marked with @migration
     *  indicating it has changed semantics between versions.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="1145246">checkMigration</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1150188">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="1150189">pos</a>: <a href="../util/Position.scala.html#52230" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1150188" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443342" title="=&gt; Boolean">hasMigrationAnnotation</a><span class="delimiter">)</span>
        <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1150189" title="RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has changed semantics in version %s:\n%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#1150188" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a>, <a href="#1150188" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443344" title="=&gt; Option[String]">migrationVersion</a>.<a href="../../../Option.scala.html#63813" title="=&gt; String">get</a>, <a href="#1150188" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443343" title="=&gt; Option[String]">migrationMessage</a>.<a href="../../../Option.scala.html#63813" title="=&gt; String">get</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean" id="1145247">lessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1150193">otherSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1150194">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#1150193" title="RefChecks.this.global.Symbol">otherSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150193" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443597" title="=&gt; Boolean">isProtected</a>
      <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150193" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443257" title="=&gt; Boolean">isTypeParameterOrSkolem</a>
      <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150193" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443254" title="=&gt; Boolean">isExistentiallyBound</a>
      <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1150193" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443415" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#1150194" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span>
      <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1150193" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443415" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#1150194" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443480" title="=&gt; RefChecks.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]" id="1145248">lessAccessibleSymsInType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1150200">other</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="1150201">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1150202">extras</a> = <a href="#1150200" title="RefChecks.this.global.Type">other</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeRef<a href="#1150260" title="List[RefChecks.this.global.Symbol]" id="1150263" class="delimiter">(</a>pre, _, args<span class="delimiter">)</span> =&gt;
          // checking the prefix here gives us spurious errors on e.g. a private[process]
          // object which contains a type alias, which normalizes to a visible type.
          args <a href="../../../collection/TraversableLike.scala.html#58982" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</a> <span class="delimiter">(</span><a href="#1150211" title="RefChecks.this.global.Type">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Types.scala.html#441258" title="RefChecks.this.global.NoPrefix.type">NoPrefix</a><span class="delimiter">)</span> <a href="#1150264" title="(x: List[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">flatMap</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1150231">tp</a> =&gt; <a href="#1145248" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#1150231" title="RefChecks.this.global.Type">tp</a>, <a href="#1150201" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="#1150264" title="(x: List[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">Nil</a>
      <span class="delimiter">}</span>
      <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1145247" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean">lessAccessible</a><span class="delimiter">(</span><a href="#1150200" title="RefChecks.this.global.Type">other</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>, <a href="#1150201" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1150200" title="RefChecks.this.global.Type">other</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">::</a> <a href="#1150202" title="List[RefChecks.this.global.Symbol]">extras</a>
      <span class="keyword">else</span> <a href="#1150202" title="List[RefChecks.this.global.Symbol]">extras</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit" id="1145249">warnLessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1150275">otherSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1150276">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="1150277">comparison</a> = <a href="#650794" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><a href="#1150281" title="String" class="delimiter">(</a><a href="#1150276" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#1150281" title="String" id="1150284" class="string">&quot;&quot;</a>   =&gt; <a href="#1150285" title="(x: String)String" class="string">&quot;&quot;</a>
        <span class="keyword">case</span> acc  =&gt; <span title="String(&quot; is &quot;)" class="string">&quot; is &quot;</span> <span title="(x$1: Any)String">+</span> acc <a href="#1150285" title="(x: String)String">+</a> <span title="String(&quot; but&quot;)" class="string">&quot; but&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="String" id="1150278">cannot</a> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1150276" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span title="String(&quot;may be unable to provide a concrete implementation of&quot;)" class="string">&quot;may be unable to provide a concrete implementation of&quot;</span>
        <span class="keyword">else</span> <span title="String(&quot;may be unable to override&quot;)" class="string">&quot;may be unable to override&quot;</span>

      <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1150276" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>,
        <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s references %s %s.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#1150276" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a>, <a href="#1150277" title="String">comparison</a>,
          <a href="#650794" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#1150275" title="RefChecks.this.global.Symbol">otherSym</a><span class="delimiter">)</span>, <a href="#1150275" title="RefChecks.this.global.Symbol">otherSym</a>
        <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nClasses which cannot access %s %s %s.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#1150275" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443388" title="=&gt; String">decodedName</a>, <a href="#1150278" title="String">cannot</a>, <a href="#1150276" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443388" title="=&gt; String">decodedName</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Warn about situations where a method signature will include a type which
     *  has more restrictive access than the method itself.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="1145250">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1150299">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1150300">member</a> = <a href="#1150299" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      <span class="keyword">def</span> <a title="(tpe: RefChecks.this.global.Type)Unit" id="1150301">checkAccessibilityOfType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1150302">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1150303">inaccessible</a> = <a href="#1145248" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#1150302" title="RefChecks.this.global.Type">tpe</a>, <a href="#1150300" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
        // if the unnormalized type is accessible, that's good enough
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1150303" title="List[RefChecks.this.global.Symbol]">inaccessible</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        // or if the normalized type is, that's good too
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1150302" title="RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1150302" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1145248" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#1150302" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#1150300" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        // otherwise warn about the inaccessible syms in the unnormalized type
        <span class="keyword">else</span> <a href="#1150303" title="List[RefChecks.this.global.Symbol]">inaccessible</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1150324">sym</a> =&gt; <a href="#1145249" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#1150324" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1150300" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // types of the value parameters
      <a href="../../../reflect/internal/Symbols.scala.html#441167" title="(sym: RefChecks.this.global.Symbol)(f: RefChecks.this.global.Symbol =&gt; Unit)List[List[Unit]]">mapParamss</a><span class="delimiter">(</span><a href="#1150300" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1150333">p</a> =&gt; <a href="#1150301" title="(tpe: RefChecks.this.global.Type)Unit">checkAccessibilityOfType</a><span class="delimiter">(</span><a href="#1150333" title="RefChecks.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      // upper bounds of type parameters
      <a href="#1150300" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,RefChecks.this.global.Type,List[RefChecks.this.global.Type]]" class="delimiter">(</a><a href="#1150355" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#1150301" title="(tpe: RefChecks.this.global.Type)Unit">checkAccessibilityOfType</a>
    <span class="delimiter">}</span>

    /** Check that a deprecated val or def does not override a
      * concrete, non-deprecated method.  If it does, then
      * deprecation is meaningless.
      */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="1145251">checkDeprecatedOvers</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1150407">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1150408">symbol</a> = <a href="#1150407" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1150408" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443338" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1150409">concrOvers</a> =
          <a href="#1150408" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443520" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/TraversableLike.scala.html#58981" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1150415">sym</a> =&gt;
            <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150415" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443338" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150415" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150409" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560822" title="(pos: RefChecks.this.global.Position, msg: String)Any">deprecationWarning</a><span title="Unit" class="delimiter">(</span>
            <a href="#1150407" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>,
            <a href="#1150408" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443559" title="()String">toString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> <span title="(x$1: Any)String">+</span>
            <a href="#1150409" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#1150432" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; x$37.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59189" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="1145252">isRepeatedParamArg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1150463">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1145200" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<a href="#1150479" title="Boolean" id="1150481" class="delimiter">(</a>fn, args<span class="delimiter">)</span> =&gt;
        <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>args.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>args.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; RefChecks.this.global.Tree">last</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1150463" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        fn.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> args.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="#1150482" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442310" title="(tp: RefChecks.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span>fn.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; RefChecks.this.global.Symbol">last</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#1150482" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit" id="1145253">checkTypeRef</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1150487">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Tree" id="1150488">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1150487" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#1150519" title="Unit" id="1150521" class="delimiter">(</a>pre, sym, args<span class="delimiter">)</span> =&gt;
        <a href="#1145245" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span>sym, <a href="#1150488" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span>sym.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
          sym.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#1150516" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443442" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150487" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441972" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span>
          <a href="#1145243" title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit">checkBounds</a><span class="delimiter">(</span><a href="#1150488" title="RefChecks.this.global.Tree">tree</a>, pre, sym.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>, sym.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, args<span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpes: List[RefChecks.this.global.Type], tree: RefChecks.this.global.Tree)Unit" id="1145254">checkAnnotations</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="1150527">tpes</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Tree" id="1150528">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1150527" title="List[RefChecks.this.global.Type]">tpes</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1150548">tp</a> =&gt; <a href="#1145253" title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#1150548" title="RefChecks.this.global.Type">tp</a>, <a href="#1150528" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit" id="1145255">doTypeTraversal</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1150550">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type =&gt; Unit" id="1150551">f</a>: Type =&gt; Unit<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1145203" title="=&gt; Boolean">inPattern</a><span class="delimiter">)</span> <a href="#1150550" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442050" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#1150551" title="RefChecks.this.global.Type =&gt; Unit">f</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="1145256">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1150556">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]" id="1150557">applyChecks</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="1150558">annots</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[RefChecks.this.global.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#1145254" title="(tpes: List[RefChecks.this.global.Type], tree: RefChecks.this.global.Tree)Unit">checkAnnotations</a><span class="delimiter">(</span><a href="#1150558" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.AnnotationInfo =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1150575" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443791" title="=&gt; RefChecks.this.global.Type">atp</a><span class="delimiter">)</span>, <a href="#1150556" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="../../../reflect/api/Trees.scala.html#438848" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#1150558" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <a href="../../../collection/TraversableLike.scala.html#58976" title="(f: RefChecks.this.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</a> <span class="delimiter">(</span><a href="#1150619" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443792" title="=&gt; List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#1150556" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#1150713" title="Unit" id="1150717">m</a>: MemberDef =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1150648">sym</a> = m.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <a href="#1150557" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span class="delimiter">(</span><a href="#1150648" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443459" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
          // validate implicitNotFoundMessage
          <a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="Implicits.scala.html#560317" title="RefChecks.this.global.analyzer.ImplicitNotFoundMsg.type">ImplicitNotFoundMsg</a>.<a href="Implicits.scala.html#1087693" title="(sym: RefChecks.this.global.analyzer.global.Symbol)Option[String]">check</a><span class="delimiter">(</span><a href="#1150648" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#63839" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="String" id="1150654">warn</a> =&gt;
            <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1150556" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Invalid implicitNotFound message for %s%s:\n%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1150648" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1150648" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a>, <a href="#1150654" title="String">warn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> tpt@TypeTree<a href="#1150713" title="Unit" id="1150716" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#428890" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            tpt.<a href="../../../reflect/api/Trees.scala.html#428890" title="=&gt; RefChecks.this.global.Tree">original</a> <a href="../../../reflect/api/Trees.scala.html#425074" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[RefChecks.this.global.Tree,Unit] with Serializable" id="1150669" class="delimiter">{</a>
              <span class="keyword">case</span> dc@TypeTreeWithDeferredRefCheck<a href="#1150674" title="Unit" id="1150676" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
                <a href="#1145256" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><a href="#1150677" title="(x: Unit)Unit" class="delimiter">(</a>dc.<a href="../../../Function0.scala.html#68359" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // #2416
              <span class="keyword">case</span> _ =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <a href="#1145255" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#1150556" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[RefChecks.this.global.Type,Unit] with Serializable" id="1150689" class="delimiter">{</a>
            <span class="keyword">case</span> AnnotatedType<a href="#1150696" title="Unit" id="1150700" class="delimiter">(</a>annots, _, _<span class="delimiter">)</span>  =&gt; <a href="#1150557" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><a href="#1150701" title="(x: Unit)Unit" class="delimiter">(</a>annots<span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
        <span class="keyword">case</span> _ =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree" id="1145257">transformCaseApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1150724">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a>, <a title="=&gt; Unit" id="1150725">ifNot</a>: =&gt; Unit<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1150726">sym</a> = <a href="#1150724" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1150726" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443283" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1150726" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443590" title="=&gt; Boolean">isCase</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1150726" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; RefChecks.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
        <a href="#1145238" title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a><span class="delimiter">(</span><a href="#1150724" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1150724" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#1150725" title="=&gt; Unit">ifNot</a>
        <a href="#1150724" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree" id="1145258">transformApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Apply" id="1150732">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23687" title="RefChecks.this.global.Apply">Apply</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> = <a href="#1150732" title="RefChecks.this.global.Apply">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<span class="delimiter">(</span>
        Select<a title="RefChecks.this.global.Tree" id="1150822" class="delimiter">(</a>qual, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446525" title="RefChecks.this.global.Tree" id="1150850">filter</a> | <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446731" title="Boolean" id="1150851">withFilter</a><span class="delimiter">)</span>,
        <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[RefChecks.this.global.Tree]]" id="1150879">List</a><span class="delimiter">(</span>Function<a title="RefChecks.this.global.Tree" id="1150834" class="delimiter">(</a>
          <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[RefChecks.this.global.ValDef]]" id="1150867">List</a><span class="delimiter">(</span>ValDef<span class="delimiter">(</span>_, pname, tpt, _<span class="delimiter">)</span><span class="delimiter">)</span>,
          Match<a title="RefChecks.this.global.Tree" id="1150844" class="delimiter">(</a>_, CaseDef<span class="delimiter">(</span>pat1, _, _<span class="delimiter">)</span> <a title="RefChecks.this.global.Tree" id="1150847">::</a> _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span>pname <a href="../../../reflect/internal/Names.scala.html#444157" title="(name: String)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446143" title="=&gt; String">CHECK_IF_REFUTABLE_STRING</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#1145244" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span>pat1, tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1150732" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

          <a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="#1150863" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a>qual<span class="delimiter">)</span>

      <span class="keyword">case</span> Apply<span class="delimiter">(</span>fn, args<span class="delimiter">)</span> =&gt;
        <a href="#1145237" title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit">checkSensible</a><span class="delimiter">(</span><a href="#1150732" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, fn, args<span class="delimiter">)</span>
        <a href="#1145200" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#1150732" title="RefChecks.this.global.Apply">tree</a>
        <a href="#1150732" title="RefChecks.this.global.Apply">tree</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree" id="1145259">transformSelect</a><span class="delimiter">(</span><a title="RefChecks.this.global.Select" id="1150898">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23705" title="RefChecks.this.global.Select">Select</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Select<a href="#1150918" title="(x: (RefChecks.this.global.Tree, RefChecks.this.global.Name))(RefChecks.this.global.Tree, RefChecks.this.global.Name)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="RefChecks.this.global.Tree" id="1150900">qual</a>, <a href="../../../Tuple2.scala.html#61508" title="RefChecks.this.global.Name" id="1150901">name</a><span class="delimiter">)</span> = <a href="#1150898" title="RefChecks.this.global.Select">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1150902">sym</a> = <a href="#1150898" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      /** Note: if a symbol has both @deprecated and @migration annotations and both
       *  warnings are enabled, only the first one checked here will be emitted.
       *  I assume that's a consequence of some code trying to avoid noise by suppressing
       *  warnings after the first, but I think it'd be better if we didn't have to
       *  arbitrarily choose one as more important than the other.
       */
      <a href="#1145245" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1150898" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467430" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#1145246" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkMigration</a><span class="delimiter">(</span><a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1150898" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1150902" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1150898" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;Select node has NoSymbol! &quot;)" class="string">&quot;Select node has NoSymbol! &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1150898" title="RefChecks.this.global.Select">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1150898" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#438845" title="=&gt; RefChecks.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443615" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="1150928">o</a> = <a href="../../../reflect/api/Trees.scala.html#438845" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
        <span class="keyword">var</span> <a title="Boolean" id="1150929">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150929" title="Boolean">hidden</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1150928" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1150928" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150928" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443286" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span> <a href="#1150930" title="()Unit" class="delimiter">{</a>
          <a href="#1150929" title="Boolean">hidden</a> = <a href="#1150928" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1150928" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443600" title="=&gt; Boolean">isPrivateLocal</a>
          <a href="#1150928" title="RefChecks.this.global.Symbol">o</a> = <a href="#1150928" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1150929" title="Boolean">hidden</a><span class="delimiter">)</span> <a href="#1145221" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <a href="../../../collection/mutable/HashSet.scala.html#141570" title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type">+=</a> <a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(mix: RefChecks.this.global.Name)Unit" id="1150903">checkSuper</a><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="1150964">mix</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="RefChecks.this.global.Name">Name</a><span class="delimiter">)</span> =
        // term should have been eliminated by super accessors
        <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1150900" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1150964" title="RefChecks.this.global.Name">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441756" title="RefChecks.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445850" title="=&gt; RefChecks.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span>, <a href="../../../Tuple3.scala.html#64156" title="(_1: RefChecks.this.global.Symbol, _2: RefChecks.this.global.Symbol, _3: RefChecks.this.global.Name)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol, RefChecks.this.global.Name)" class="delimiter">(</a><a href="#1150900" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>, <a href="#1150902" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1150964" title="RefChecks.this.global.Name">mix</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#1145257" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#1150898" title="RefChecks.this.global.Select">tree</a>,
        <a href="#1150900" title="RefChecks.this.global.Tree">qual</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Super<a href="#1150992" title="Unit" id="1150995" class="delimiter">(</a>_, mix<span class="delimiter">)</span>  =&gt; <a href="#1150903" title="(mix: RefChecks.this.global.Name)Unit">checkSuper</a><a href="#1150996" title="(x: Unit)Unit" class="delimiter">(</a>mix<span class="delimiter">)</span>
          <span class="keyword">case</span> _              =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree" id="1145260">transformIf</a><span class="delimiter">(</span><a title="RefChecks.this.global.If" id="1151001">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23657" title="RefChecks.this.global.If">If</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> If<a href="#1151024" title="(x: (RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree))(RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree)" class="delimiter">(</a><a href="../../../Tuple3.scala.html#61402" title="RefChecks.this.global.Tree" id="1151003">cond</a>, <a href="../../../Tuple3.scala.html#61404" title="RefChecks.this.global.Tree" id="1151004">thenpart</a>, <a href="../../../Tuple3.scala.html#61406" title="RefChecks.this.global.Tree" id="1151005">elsepart</a><span class="delimiter">)</span> = <a href="#1151001" title="RefChecks.this.global.If">tree</a>
      <span class="keyword">def</span> <a title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="1151006">unitIfEmpty</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1151028">t</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> =
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1151028" title="RefChecks.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="RefChecks.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#432792" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)RefChecks.this.global.Literal">setPos</a><span class="delimiter">(</span><a href="#1151001" title="RefChecks.this.global.If">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; RefChecks.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1151028" title="RefChecks.this.global.Tree">t</a>

      <a href="#1151003" title="RefChecks.this.global.Tree">cond</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ConstantType<a href="#1151046" title="RefChecks.this.global.Tree" id="1151048" class="delimiter">(</a>value<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="1151044">res</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>value.<a href="../../../reflect/internal/Constants.scala.html#443093" title="=&gt; Boolean">booleanValue</a><span class="delimiter">)</span> <a href="#1151004" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#1151005" title="RefChecks.this.global.Tree">elsepart</a>
          <a href="#1151006" title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree">unitIfEmpty</a><span class="delimiter">(</span><a href="#1151044" title="RefChecks.this.global.Tree">res</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <a href="#1151049" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // Warning about nullary methods returning Unit.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Unit" id="1145261">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1151054">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1151054" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> NullaryMethodType<a href="#1151083" title="Unit" id="1151085" class="delimiter">(</a>restpe<span class="delimiter">)</span> <span class="keyword">if</span> restpe.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; RefChecks.this.global.ClassSymbol">UnitClass</a> =&gt;
        // this may be the implementation of e.g. a generic method being parameterized
        // on Unit, in which case we had better let it slide.
        <a href="#1151086" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#1151054" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443267" title="=&gt; Boolean">isGetter</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1151054" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443520" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1151070">over</a> =&gt; <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1151070" title="RefChecks.this.global.Symbol">over</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; RefChecks.this.global.Type">resultType</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#1151054" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; RefChecks.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1151054" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>,
          <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;side-effecting nullary methods are discouraged: suggest defining as `def %s()` instead&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
           <a href="#1151054" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <a href="#1151086" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Verify classes extending AnyVal meet the requirements
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="1145262">checkAnyValSubclass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1151091">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1151091" title="RefChecks.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#442184" title="=&gt; RefChecks.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: RefChecks.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#1151091" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1151091" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
          <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1151091" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;Only classes (not traits) are allowed to extend AnyVal&quot;)" class="string">&quot;Only classes (not traits) are allowed to extend AnyVal&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="1145263">transform</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1149755">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="1151093">savedLocalTyper</a> = <a href="#1145197" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="1151094">savedCurrentApplication</a> = <a href="#1145200" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1151095">sym</a> = <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

        // Apply RefChecks to annotations. Makes sure the annotations conform to
        // type bounds (bug #935), issues deprecation warnings for symbols used
        // inside annotations.
        <a href="#1145256" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="1151096">result</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="RefChecks.this.global.Tree">Tree</a> = <a href="#1149755" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> DefDef<a href="#1151322" title="RefChecks.this.global.Tree" id="1151330" class="delimiter">(</a>_, _, _, _, _, <a href="../../../reflect/api/Trees.scala.html#23577" title="RefChecks.this.global.Tree" id="1151382">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1151095" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#442667" title="=&gt; RefChecks.this.global.ClassSymbol">NativeAttr</a> =&gt;
            <a href="#1151095" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443306" title="(mask: Long)sym.type">resetFlag</a> <span title="Long(16L)">DEFERRED</span>
            <a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23753" title="(ddef: RefChecks.this.global.Tree)(applyToRhs: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Tree)RefChecks.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1151110">_</a> =&gt; <a href="Typers.scala.html#560768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561780" title="(message: String)RefChecks.this.global.gen.global.Tree">mkSysErrorCall</a><span class="delimiter">(</span><span title="String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> ValDef<a href="#1151322" title="RefChecks.this.global.Tree" id="1151337" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> | DefDef<a href="#1151322" title="Boolean" id="1151345" class="delimiter">(</a>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#1145251" title="(tree: RefChecks.this.global.Tree)Unit">checkDeprecatedOvers</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#467710" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryUnit</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#1145261" title="(sym: RefChecks.this.global.Symbol)Unit">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a href="#1151095" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#467712" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnInaccessible</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1151095" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1151095" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443361" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1151095" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443598" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>
                <a href="#1145250" title="(tree: RefChecks.this.global.Tree)Unit">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> Template<a href="#1151322" title="RefChecks.this.global.Tree" id="1151347" class="delimiter">(</a>parents, self, body<span class="delimiter">)</span> =&gt;
            <a href="#1145197" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#1145197" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#560767" title="(tree: RefChecks.this.global.analyzer.global.Tree, owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>, <a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#1145212" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#1145208" title="(clazz: RefChecks.this.global.Symbol)Unit">checkOverloadedRestrictions</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="1151141">bridges</a> = <a href="#1145210" title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]">addVarargBridges</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#1145211" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#1145262" title="(clazz: RefChecks.this.global.Symbol)Unit">checkAnyValSubclass</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#438841" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1151141" title="List[RefChecks.this.global.Tree]">bridges</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23755" title="(templ: RefChecks.this.global.Tree)(applyToBody: List[RefChecks.this.global.Tree] =&gt; List[RefChecks.this.global.Tree])RefChecks.this.global.Template">deriveTemplate</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1151150" title="List[RefChecks.this.global.Tree]">_</a> <a href="../../../collection/immutable/List.scala.html#63646" title="(prefix: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">:::</a> <a href="#1151141" title="List[RefChecks.this.global.Tree]">bridges</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> dc@TypeTreeWithDeferredRefCheck<a href="#1151322" title="RefChecks.this.global.Tree" id="1151349" class="delimiter">(</a><span class="delimiter">)</span> =&gt; <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;)" class="string">&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;</span><span class="delimiter">)</span>; dc
          <span class="keyword">case</span> tpt@TypeTree<a href="#1151322" title="RefChecks.this.global.Tree" id="1151351" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#428890" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              tpt.<a href="../../../reflect/api/Trees.scala.html#428890" title="=&gt; RefChecks.this.global.Tree">original</a> <a href="../../../reflect/api/Trees.scala.html#425074" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[RefChecks.this.global.Tree,Unit] with Serializable" id="1151174" class="delimiter">{</a>
                <span class="keyword">case</span> dc@TypeTreeWithDeferredRefCheck<a href="#1151179" title="Unit" id="1151181" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
                  <a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="#1151182" title="(x: Unit)Unit" class="delimiter">(</a>dc.<a href="../../../Function0.scala.html#68359" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // #2416 -- only call transform to do refchecks, but discard results
                  // tpt has the right type if the deferred checks are ok
                <span class="keyword">case</span> _ =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="1151167">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#1145255" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[RefChecks.this.global.Type,Unit] with Serializable" id="1151194" class="delimiter">{</a> // check all bounds, except those that are existential type parameters
              <span class="keyword">case</span> ExistentialType<a href="#1151206" title="Unit" id="1151208" class="delimiter">(</a>tparams, tpe<span class="delimiter">)</span> =&gt;
                <a href="#1151167" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a> <a href="#1151211" title="(x: Unit)Unit">++=</a> tparams
              <span class="keyword">case</span> <a href="#1151206" title="Unit" id="1151210">t</a>: TypeRef =&gt;
                <a href="#1145253" title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit">checkTypeRef</a><a href="#1151211" title="(x: Unit)Unit" class="delimiter">(</a><a href="../../../reflect/internal/Symbols.scala.html#441156" title="(syms: List[RefChecks.this.global.Symbol])(tpe: RefChecks.this.global.Type)RefChecks.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#1151167" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[RefChecks.this.global.Symbol]">toList</a><span class="delimiter">)</span><span class="delimiter">(</span>t<span class="delimiter">)</span>, <a href="#1149755" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
            <span class="delimiter">}</span>
            <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> TypeApply<a href="#1151322" title="RefChecks.this.global.Tree" id="1151353" class="delimiter">(</a>fn, args<span class="delimiter">)</span> =&gt;
            <a href="#1145243" title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit">checkBounds</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Types.scala.html#441258" title="RefChecks.this.global.NoPrefix.type">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, fn.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, args <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1151244" title="RefChecks.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1145257" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> x @ Apply<a href="#1151322" title="RefChecks.this.global.Tree" id="1151357" class="delimiter">(</a>_, _<span class="delimiter">)</span>  =&gt;
            <a href="#1145258" title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree">transformApply</a><a href="#1151384" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a>x<span class="delimiter">)</span>

          <span class="keyword">case</span> x @ If<a href="#1151322" title="RefChecks.this.global.Tree" id="1151362" class="delimiter">(</a>_, _, _<span class="delimiter">)</span>  =&gt;
            <a href="#1145260" title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree">transformIf</a><a href="#1151384" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a>x<span class="delimiter">)</span>

          <span class="keyword">case</span> New<a href="#1151322" title="RefChecks.this.global.Tree" id="1151364" class="delimiter">(</a>tpt<span class="delimiter">)</span> =&gt;
            <a href="#1145234" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> Typed<a href="#1151322" title="RefChecks.this.global.Tree" id="1151368" class="delimiter">(</a>_, Ident<a title="RefChecks.this.global.Tree" id="1151371" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441756" title="RefChecks.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#449197" title="RefChecks.this.global.Tree" id="1151383">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1145252" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> =&gt;
            <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="String(&quot;no `: _*\' annotation allowed here\n(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span><span class="delimiter">)</span>
            <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> Ident<a href="#1151322" title="RefChecks.this.global.Tree" id="1151375" class="delimiter">(</a>name<span class="delimiter">)</span> =&gt;
            <a href="#1145257" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><a href="#1151384" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>,
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445910" title="=&gt; RefChecks.this.global.nme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> name <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#441756" title="RefChecks.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#449197" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1151095" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;transformCaseApply: name = &quot;)" class="string">&quot;transformCaseApply: name = &quot;</span> <span title="(x$1: Any)String">+</span> name.<a href="../../../reflect/internal/Names.scala.html#444182" title="=&gt; String">debugString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree = &quot;)" class="string">&quot; tree = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1149755" title="RefChecks.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span> //debug
                <a href="#1145234" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1151095" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>

          <span class="keyword">case</span> x @ Select<a href="#1151322" title="RefChecks.this.global.Tree" id="1151379" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
            <a href="#1145259" title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree">transformSelect</a><a href="#1151384" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a>x<span class="delimiter">)</span>

          <span class="keyword">case</span> UnApply<a href="#1151322" title="RefChecks.this.global.Tree" id="1151381" class="delimiter">(</a>fun, args<span class="delimiter">)</span> =&gt;
            <a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span>fun<span class="delimiter">)</span> // just make sure we enterReference for unapply symbols, note that super.transform(tree) would not transform(fun)
                           // transformTrees(args) // TODO: is this necessary? could there be forward references in the args??
                           // probably not, until we allow parameterised extractors
            <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>


          <span class="keyword">case</span> _ =&gt; <a href="#1151384" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
        // skip refchecks in patterns....
        <a href="#1151096" title="RefChecks.this.global.Tree">result</a> = <a href="#1151096" title="RefChecks.this.global.Tree">result</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> CaseDef<a href="#1151445" title="RefChecks.this.global.Tree" id="1151447" class="delimiter">(</a>pat, guard, body<span class="delimiter">)</span> =&gt;
            <a href="#1145203" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="1151420">pat1</a> = <a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span>pat<span class="delimiter">)</span>
            <a href="#1145203" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="../../../reflect/api/Trees.scala.html#438839" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428294" title="(tree: RefChecks.this.global.Tree, pat: RefChecks.this.global.Tree, guard: RefChecks.this.global.Tree, body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>, <a href="#1151420" title="RefChecks.this.global.Tree">pat1</a>, <a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span>guard<span class="delimiter">)</span>, <a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span>body<span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> LabelDef<a href="#1151445" title="RefChecks.this.global.Tree" id="1151452" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../Global.scala.html#559498" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561769" title="(t: RefChecks.this.global.gen.global.Tree)Boolean">hasSynthCaseSymbol</a><span class="delimiter">(</span><a href="#1151096" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Boolean" id="1151437">old</a> = <a href="#1145203" title="=&gt; Boolean">inPattern</a>
            <a href="#1145203" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.LabelDef" id="1151438">res</a> = <a href="../../../reflect/api/Trees.scala.html#23759" title="(ldef: RefChecks.this.global.Tree)(applyToRhs: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Tree)RefChecks.this.global.LabelDef">deriveLabelDef</a><span class="delimiter">(</span><a href="#1151096" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1145263" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">)</span>
            <a href="#1145203" title="(x$1: Boolean)Unit">inPattern</a> = <a href="#1151437" title="Boolean">old</a>
            <a href="#1151438" title="RefChecks.this.global.LabelDef">res</a>
          <span class="keyword">case</span> _ =&gt;
            <a href="#650796" title="RefChecks.this.RefCheckTransformer" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#438847" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="#1151453" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a><a href="#1151096" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#1151096" title="RefChecks.this.global.Tree">result</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ClassDef<a href="#1151475" title="Unit" id="1151481" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span>
             | TypeDef<a href="#1151475" title="Boolean" id="1151487" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#1151488" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#1151096" title="RefChecks.this.global.Tree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443362" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1151096" title="RefChecks.this.global.Tree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
              <a href="#1145223" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1151096" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
        <a href="#1151096" title="RefChecks.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="1151498">ex</a>: <a href="../../../reflect/internal/Types.scala.html#441578" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#1151498" title="RefChecks.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#1145264" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1149755" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1151498" title="RefChecks.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1149755" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#1145197" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#1151093" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
        <a href="#1145200" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#1151094" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>